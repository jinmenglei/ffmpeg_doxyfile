\hypertarget{atrac_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/atrac.c File Reference}
\label{atrac_8c}\index{E:/github/ffmpeg/libavcodec/atrac.c@{E:/github/ffmpeg/libavcodec/atrac.c}}
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}atrac.\+h\char`\"{}}\newline
Include dependency graph for atrac.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{atrac_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{atrac_8c_aabdc441e49921765a9d5e0cdba391e3d}{ff\+\_\+atrac\+\_\+generate\+\_\+tables}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}})
\item 
\mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{atrac_8c_a792790a5c19548f515586e15d2ee3592}{ff\+\_\+atrac\+\_\+init\+\_\+gain\+\_\+compensation}} (\mbox{\hyperlink{struct_atrac_g_c_context}{Atrac\+G\+C\+Context}} $\ast$gctx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} id2exp\+\_\+offset, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} loc\+\_\+scale)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{atrac_8c_a370e2faff33af28beee0f214ab8cca9f}{ff\+\_\+atrac\+\_\+gain\+\_\+compensation}} (\mbox{\hyperlink{struct_atrac_g_c_context}{Atrac\+G\+C\+Context}} $\ast$gctx, float $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, float $\ast$prev, \mbox{\hyperlink{struct_atrac_gain_info}{Atrac\+Gain\+Info}} $\ast$gc\+\_\+now, \mbox{\hyperlink{struct_atrac_gain_info}{Atrac\+Gain\+Info}} $\ast$gc\+\_\+next, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} num\+\_\+samples, float $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{atrac_8c_ae304fd3549524ee15ad64390610661a8}{ff\+\_\+atrac\+\_\+iqmf}} (float $\ast$inlo, float $\ast$inhi, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} n\+In, float $\ast$p\+Out, float $\ast$delay\+Buf, float $\ast$\mbox{\hyperlink{vf__mcdeint_8c_a0b90bc971fe5188fc4d32fe8177a64a5}{temp}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{atrac_8c_aa979aef7b15fe98b938293706ee1c50d}{ff\+\_\+atrac\+\_\+sf\+\_\+table}} \mbox{[}64\mbox{]}
\item 
static float \mbox{\hyperlink{atrac_8c_a8a4a2cddd935d36cd669dbe4489e9ce7}{qmf\+\_\+window}} \mbox{[}48\mbox{]}
\item 
static const float \mbox{\hyperlink{atrac_8c_a1f707529b5e7a129c47831d670917c24}{qmf\+\_\+48tap\+\_\+half}} \mbox{[}24\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{atrac_8c_a370e2faff33af28beee0f214ab8cca9f}\label{atrac_8c_a370e2faff33af28beee0f214ab8cca9f}} 
\index{atrac.c@{atrac.c}!ff\_atrac\_gain\_compensation@{ff\_atrac\_gain\_compensation}}
\index{ff\_atrac\_gain\_compensation@{ff\_atrac\_gain\_compensation}!atrac.c@{atrac.c}}
\doxysubsubsection{\texorpdfstring{ff\_atrac\_gain\_compensation()}{ff\_atrac\_gain\_compensation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+atrac\+\_\+gain\+\_\+compensation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_atrac_g_c_context}{Atrac\+G\+C\+Context}} $\ast$}]{gctx,  }\item[{float $\ast$}]{in,  }\item[{float $\ast$}]{prev,  }\item[{\mbox{\hyperlink{struct_atrac_gain_info}{Atrac\+Gain\+Info}} $\ast$}]{gc\+\_\+now,  }\item[{\mbox{\hyperlink{struct_atrac_gain_info}{Atrac\+Gain\+Info}} $\ast$}]{gc\+\_\+next,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{num\+\_\+samples,  }\item[{float $\ast$}]{out }\end{DoxyParamCaption})}

Apply gain compensation and perform the M\+D\+CT overlapping part.


\begin{DoxyParams}{Parameters}
{\em gctx} & pointer to gain compensation context \\
\hline
{\em in} & input buffer \\
\hline
{\em prev} & previous buffer to perform overlap against \\
\hline
{\em gc\+\_\+now} & gain control information for current frame \\
\hline
{\em gc\+\_\+next} & gain control information for next frame \\
\hline
{\em num\+\_\+samples} & number of samples to process \\
\hline
{\em out} & output data goes here \\
\hline
\end{DoxyParams}


Definition at line 84 of file atrac.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{atrac_8c_a370e2faff33af28beee0f214ab8cca9f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{atrac_8c_a370e2faff33af28beee0f214ab8cca9f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{atrac_8c_aabdc441e49921765a9d5e0cdba391e3d}\label{atrac_8c_aabdc441e49921765a9d5e0cdba391e3d}} 
\index{atrac.c@{atrac.c}!ff\_atrac\_generate\_tables@{ff\_atrac\_generate\_tables}}
\index{ff\_atrac\_generate\_tables@{ff\_atrac\_generate\_tables}!atrac.c@{atrac.c}}
\doxysubsubsection{\texorpdfstring{ff\_atrac\_generate\_tables()}{ff\_atrac\_generate\_tables()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+atrac\+\_\+generate\+\_\+tables (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}}]{ }\end{DoxyParamCaption})}

Generate common tables. 

Definition at line 48 of file atrac.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{atrac_8c_aabdc441e49921765a9d5e0cdba391e3d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{atrac_8c_a792790a5c19548f515586e15d2ee3592}\label{atrac_8c_a792790a5c19548f515586e15d2ee3592}} 
\index{atrac.c@{atrac.c}!ff\_atrac\_init\_gain\_compensation@{ff\_atrac\_init\_gain\_compensation}}
\index{ff\_atrac\_init\_gain\_compensation@{ff\_atrac\_init\_gain\_compensation}!atrac.c@{atrac.c}}
\doxysubsubsection{\texorpdfstring{ff\_atrac\_init\_gain\_compensation()}{ff\_atrac\_init\_gain\_compensation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+atrac\+\_\+init\+\_\+gain\+\_\+compensation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_atrac_g_c_context}{Atrac\+G\+C\+Context}} $\ast$}]{gctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{id2exp\+\_\+offset,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{loc\+\_\+scale }\end{DoxyParamCaption})}

Initialize gain compensation context.


\begin{DoxyParams}{Parameters}
{\em gctx} & pointer to gain compensation context to initialize \\
\hline
{\em id2exp\+\_\+offset} & offset for converting level index into level exponent \\
\hline
{\em loc\+\_\+scale} & location size factor \\
\hline
\end{DoxyParams}


Definition at line 66 of file atrac.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{atrac_8c_a792790a5c19548f515586e15d2ee3592_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{atrac_8c_ae304fd3549524ee15ad64390610661a8}\label{atrac_8c_ae304fd3549524ee15ad64390610661a8}} 
\index{atrac.c@{atrac.c}!ff\_atrac\_iqmf@{ff\_atrac\_iqmf}}
\index{ff\_atrac\_iqmf@{ff\_atrac\_iqmf}!atrac.c@{atrac.c}}
\doxysubsubsection{\texorpdfstring{ff\_atrac\_iqmf()}{ff\_atrac\_iqmf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+atrac\+\_\+iqmf (\begin{DoxyParamCaption}\item[{float $\ast$}]{inlo,  }\item[{float $\ast$}]{inhi,  }\item[{unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{n\+In,  }\item[{float $\ast$}]{p\+Out,  }\item[{float $\ast$}]{delay\+Buf,  }\item[{float $\ast$}]{temp }\end{DoxyParamCaption})}

Quadrature mirror synthesis filter.


\begin{DoxyParams}{Parameters}
{\em inlo} & lower part of spectrum \\
\hline
{\em inhi} & higher part of spectrum \\
\hline
{\em n\+In} & size of spectrum buffer \\
\hline
{\em p\+Out} & out buffer \\
\hline
{\em delay\+Buf} & delay\+Buf buffer \\
\hline
{\em temp} & temp buffer \\
\hline
\end{DoxyParams}


Definition at line 127 of file atrac.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{atrac_8c_ae304fd3549524ee15ad64390610661a8_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{atrac_8c_aa979aef7b15fe98b938293706ee1c50d}\label{atrac_8c_aa979aef7b15fe98b938293706ee1c50d}} 
\index{atrac.c@{atrac.c}!ff\_atrac\_sf\_table@{ff\_atrac\_sf\_table}}
\index{ff\_atrac\_sf\_table@{ff\_atrac\_sf\_table}!atrac.c@{atrac.c}}
\doxysubsubsection{\texorpdfstring{ff\_atrac\_sf\_table}{ff\_atrac\_sf\_table}}
{\footnotesize\ttfamily float ff\+\_\+atrac\+\_\+sf\+\_\+table\mbox{[}64\mbox{]}}



Definition at line 36 of file atrac.\+c.

\mbox{\Hypertarget{atrac_8c_a1f707529b5e7a129c47831d670917c24}\label{atrac_8c_a1f707529b5e7a129c47831d670917c24}} 
\index{atrac.c@{atrac.c}!qmf\_48tap\_half@{qmf\_48tap\_half}}
\index{qmf\_48tap\_half@{qmf\_48tap\_half}!atrac.c@{atrac.c}}
\doxysubsubsection{\texorpdfstring{qmf\_48tap\_half}{qmf\_48tap\_half}}
{\footnotesize\ttfamily const float qmf\+\_\+48tap\+\_\+half\mbox{[}24\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{   -\/0.00001461907, -\/0.00009205479,-\/0.000056157569,0.00030117269,}
\DoxyCodeLine{    0.0002422519,  -\/0.00085293897,-\/0.0005205574,  0.0020340169,}
\DoxyCodeLine{    0.00078333891, -\/0.0042153862, -\/0.00075614988, 0.0078402944,}
\DoxyCodeLine{   -\/0.000061169922,-\/0.01344162,    0.0024626821,  0.021736089,}
\DoxyCodeLine{   -\/0.007801671,   -\/0.034090221,   0.01880949,    0.054326009,}
\DoxyCodeLine{   -\/0.043596379,   -\/0.099384367,   0.13207909,    0.46424159}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 39 of file atrac.\+c.

\mbox{\Hypertarget{atrac_8c_a8a4a2cddd935d36cd669dbe4489e9ce7}\label{atrac_8c_a8a4a2cddd935d36cd669dbe4489e9ce7}} 
\index{atrac.c@{atrac.c}!qmf\_window@{qmf\_window}}
\index{qmf\_window@{qmf\_window}!atrac.c@{atrac.c}}
\doxysubsubsection{\texorpdfstring{qmf\_window}{qmf\_window}}
{\footnotesize\ttfamily float qmf\+\_\+window\mbox{[}48\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 37 of file atrac.\+c.

