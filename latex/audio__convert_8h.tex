\hypertarget{audio__convert_8h}{}\doxysection{E\+:/github/ffmpeg/libavresample/audio\+\_\+convert.h File Reference}
\label{audio__convert_8h}\index{E:/github/ffmpeg/libavresample/audio\_convert.h@{E:/github/ffmpeg/libavresample/audio\_convert.h}}
{\ttfamily \#include \char`\"{}libavutil/samplefmt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avresample.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}audio\+\_\+data.\+h\char`\"{}}\newline
Include dependency graph for audio\+\_\+convert.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{audio__convert_8h_a805d96eefd7c4c77176c094713e7b01b}{ff\+\_\+audio\+\_\+convert\+\_\+set\+\_\+func}} (\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$ac, enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}} out\+\_\+fmt, enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}} in\+\_\+fmt, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{aptx_8h_ac9da8d7a4bd192b8a7dccbc024542709}{channels}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ptr\+\_\+align, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} samples\+\_\+align, const char $\ast$descr, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{libvorbisdec_8c_adba65f043d1663e9deb4cbf0475e4972}{conv}})
\item 
\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$ \mbox{\hyperlink{audio__convert_8h_ab2b1464b0673892a875b48598018f574}{ff\+\_\+audio\+\_\+convert\+\_\+alloc}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}} out\+\_\+fmt, enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}} in\+\_\+fmt, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{aptx_8h_ac9da8d7a4bd192b8a7dccbc024542709}{channels}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{ffmpeg__filter_8c_a9feef5270e0e54f103868362df0cd27a}{sample\+\_\+rate}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} apply\+\_\+map)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{audio__convert_8h_aa0cf30aa23e009ef037c643e07f6a1b9}{ff\+\_\+audio\+\_\+convert\+\_\+free}} (\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$$\ast$ac)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{audio__convert_8h_aed497e88f80911078498770e3083cb57}{ff\+\_\+audio\+\_\+convert}} (\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$ac, \mbox{\hyperlink{struct_audio_data}{Audio\+Data}} $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, \mbox{\hyperlink{struct_audio_data}{Audio\+Data}} $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{audio__convert_8h_a344765cb7d3217094ab9d6a54dba25b8}{ff\+\_\+audio\+\_\+convert\+\_\+init\+\_\+aarch64}} (\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$ac)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{audio__convert_8h_a527778e1d9917a539a70f4a711b8514d}{ff\+\_\+audio\+\_\+convert\+\_\+init\+\_\+arm}} (\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$ac)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{audio__convert_8h_a6ec47b51405cd2d124141b4ebf270f6f}{ff\+\_\+audio\+\_\+convert\+\_\+init\+\_\+x86}} (\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$ac)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{audio__convert_8h_aed497e88f80911078498770e3083cb57}\label{audio__convert_8h_aed497e88f80911078498770e3083cb57}} 
\index{audio\_convert.h@{audio\_convert.h}!ff\_audio\_convert@{ff\_audio\_convert}}
\index{ff\_audio\_convert@{ff\_audio\_convert}!audio\_convert.h@{audio\_convert.h}}
\doxysubsubsection{\texorpdfstring{ff\_audio\_convert()}{ff\_audio\_convert()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+audio\+\_\+convert (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$}]{ac,  }\item[{\mbox{\hyperlink{struct_audio_data}{Audio\+Data}} $\ast$}]{out,  }\item[{\mbox{\hyperlink{struct_audio_data}{Audio\+Data}} $\ast$}]{in }\end{DoxyParamCaption})}

Convert audio data from one sample format to another.

For each call, the alignment of the input and output \mbox{\hyperlink{struct_audio_data}{Audio\+Data}} buffers are examined to determine whether to use the generic or optimized conversion function (when available).

The number of samples to convert is determined by in-\/$>$nb\+\_\+samples. The output buffer must be large enough to handle this many samples. out-\/$>$nb\+\_\+samples is set by this function before a successful return.


\begin{DoxyParams}{Parameters}
{\em ac} & \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} context \\
\hline
{\em out} & output audio data \\
\hline
{\em in} & input audio data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative A\+V\+E\+R\+R\+OR code on failure 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h_aed497e88f80911078498770e3083cb57_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{audio__convert_8h_ab2b1464b0673892a875b48598018f574}\label{audio__convert_8h_ab2b1464b0673892a875b48598018f574}} 
\index{audio\_convert.h@{audio\_convert.h}!ff\_audio\_convert\_alloc@{ff\_audio\_convert\_alloc}}
\index{ff\_audio\_convert\_alloc@{ff\_audio\_convert\_alloc}!audio\_convert.h@{audio\_convert.h}}
\doxysubsubsection{\texorpdfstring{ff\_audio\_convert\_alloc()}{ff\_audio\_convert\_alloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}}$\ast$ ff\+\_\+audio\+\_\+convert\+\_\+alloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}}}]{out\+\_\+fmt,  }\item[{enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}}}]{in\+\_\+fmt,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{channels,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{sample\+\_\+rate,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{apply\+\_\+map }\end{DoxyParamCaption})}

Allocate and initialize \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} context for sample format conversion.


\begin{DoxyParams}{Parameters}
{\em avr} & \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} \\
\hline
{\em out\+\_\+fmt} & output sample format \\
\hline
{\em in\+\_\+fmt} & input sample format \\
\hline
{\em channels} & number of channels \\
\hline
{\em sample\+\_\+rate} & sample rate (used for dithering) \\
\hline
{\em apply\+\_\+map} & apply channel map during conversion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
newly-\/allocated \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} context 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h_ab2b1464b0673892a875b48598018f574_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{audio__convert_8h_aa0cf30aa23e009ef037c643e07f6a1b9}\label{audio__convert_8h_aa0cf30aa23e009ef037c643e07f6a1b9}} 
\index{audio\_convert.h@{audio\_convert.h}!ff\_audio\_convert\_free@{ff\_audio\_convert\_free}}
\index{ff\_audio\_convert\_free@{ff\_audio\_convert\_free}!audio\_convert.h@{audio\_convert.h}}
\doxysubsubsection{\texorpdfstring{ff\_audio\_convert\_free()}{ff\_audio\_convert\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+audio\+\_\+convert\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$$\ast$}]{ac }\end{DoxyParamCaption})}

Free \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}}.

The \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} must have been previously allocated with \mbox{\hyperlink{audio__convert_8h_ab2b1464b0673892a875b48598018f574}{ff\+\_\+audio\+\_\+convert\+\_\+alloc()}}.


\begin{DoxyParams}{Parameters}
{\em ac} & \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} struct \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h_aa0cf30aa23e009ef037c643e07f6a1b9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{audio__convert_8h_a344765cb7d3217094ab9d6a54dba25b8}\label{audio__convert_8h_a344765cb7d3217094ab9d6a54dba25b8}} 
\index{audio\_convert.h@{audio\_convert.h}!ff\_audio\_convert\_init\_aarch64@{ff\_audio\_convert\_init\_aarch64}}
\index{ff\_audio\_convert\_init\_aarch64@{ff\_audio\_convert\_init\_aarch64}!audio\_convert.h@{audio\_convert.h}}
\doxysubsubsection{\texorpdfstring{ff\_audio\_convert\_init\_aarch64()}{ff\_audio\_convert\_init\_aarch64()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+audio\+\_\+convert\+\_\+init\+\_\+aarch64 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$}]{ac }\end{DoxyParamCaption})}



Definition at line 34 of file audio\+\_\+convert\+\_\+init.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h_a344765cb7d3217094ab9d6a54dba25b8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{audio__convert_8h_a527778e1d9917a539a70f4a711b8514d}\label{audio__convert_8h_a527778e1d9917a539a70f4a711b8514d}} 
\index{audio\_convert.h@{audio\_convert.h}!ff\_audio\_convert\_init\_arm@{ff\_audio\_convert\_init\_arm}}
\index{ff\_audio\_convert\_init\_arm@{ff\_audio\_convert\_init\_arm}!audio\_convert.h@{audio\_convert.h}}
\doxysubsubsection{\texorpdfstring{ff\_audio\_convert\_init\_arm()}{ff\_audio\_convert\_init\_arm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+audio\+\_\+convert\+\_\+init\+\_\+arm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$}]{ac }\end{DoxyParamCaption})}



Definition at line 34 of file audio\+\_\+convert\+\_\+init.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h_a527778e1d9917a539a70f4a711b8514d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{audio__convert_8h_a6ec47b51405cd2d124141b4ebf270f6f}\label{audio__convert_8h_a6ec47b51405cd2d124141b4ebf270f6f}} 
\index{audio\_convert.h@{audio\_convert.h}!ff\_audio\_convert\_init\_x86@{ff\_audio\_convert\_init\_x86}}
\index{ff\_audio\_convert\_init\_x86@{ff\_audio\_convert\_init\_x86}!audio\_convert.h@{audio\_convert.h}}
\doxysubsubsection{\texorpdfstring{ff\_audio\_convert\_init\_x86()}{ff\_audio\_convert\_init\_x86()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+audio\+\_\+convert\+\_\+init\+\_\+x86 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$}]{ac }\end{DoxyParamCaption})}



Definition at line 146 of file audio\+\_\+convert\+\_\+init.\+c.

\mbox{\Hypertarget{audio__convert_8h_a805d96eefd7c4c77176c094713e7b01b}\label{audio__convert_8h_a805d96eefd7c4c77176c094713e7b01b}} 
\index{audio\_convert.h@{audio\_convert.h}!ff\_audio\_convert\_set\_func@{ff\_audio\_convert\_set\_func}}
\index{ff\_audio\_convert\_set\_func@{ff\_audio\_convert\_set\_func}!audio\_convert.h@{audio\_convert.h}}
\doxysubsubsection{\texorpdfstring{ff\_audio\_convert\_set\_func()}{ff\_audio\_convert\_set\_func()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+audio\+\_\+convert\+\_\+set\+\_\+func (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} $\ast$}]{ac,  }\item[{enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}}}]{out\+\_\+fmt,  }\item[{enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}}}]{in\+\_\+fmt,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{channels,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ptr\+\_\+align,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{samples\+\_\+align,  }\item[{const char $\ast$}]{descr,  }\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{conv }\end{DoxyParamCaption})}

Set conversion function if the parameters match.

This compares the parameters of the conversion function to the parameters in the \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} context. If the parameters do not match, no changes are made to the active functions. If the parameters do match and the alignment is not constrained, the function is set as the generic conversion function. If the parameters match and the alignment is constrained, the function is set as the optimized conversion function.


\begin{DoxyParams}{Parameters}
{\em ac} & \mbox{\hyperlink{struct_audio_convert}{Audio\+Convert}} context \\
\hline
{\em out\+\_\+fmt} & output sample format \\
\hline
{\em in\+\_\+fmt} & input sample format \\
\hline
{\em channels} & number of channels, or 0 for any number of channels \\
\hline
{\em ptr\+\_\+align} & buffer pointer alignment, in bytes \\
\hline
{\em samples\+\_\+align} & buffer size alignment, in samples \\
\hline
{\em descr} & function type description (e.\+g. \char`\"{}\+C\char`\"{} or \char`\"{}\+S\+S\+E\char`\"{}) \\
\hline
{\em conv} & conversion function pointer \\
\hline
\end{DoxyParams}


Definition at line 70 of file audio\+\_\+convert.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h_a805d96eefd7c4c77176c094713e7b01b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{audio__convert_8h_a805d96eefd7c4c77176c094713e7b01b_icgraph}
\end{center}
\end{figure}
