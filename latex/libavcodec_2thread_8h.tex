\hypertarget{libavcodec_2thread_8h}{}\doxysection{E\+:/github/ffmpeg/libavcodec/thread.h File Reference}
\label{libavcodec_2thread_8h}\index{E:/github/ffmpeg/libavcodec/thread.h@{E:/github/ffmpeg/libavcodec/thread.h}}
{\ttfamily \#include \char`\"{}libavutil/buffer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
Include dependency graph for thread.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} \mbox{\hyperlink{libavcodec_2thread_8h_af0530113f7da5c8507d59949c4d199ce}{Thread\+Frame}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_af9fb90d995171cf16ed454f6965e0710}{ff\+\_\+thread\+\_\+flush}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavcodec_2thread_8h_ac39dd042416f1f404fe1be56bb91d97d}{ff\+\_\+thread\+\_\+decode\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$picture, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$got\+\_\+picture\+\_\+ptr, \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_a9ad620f797a848df3977ea512316ceb3}{ff\+\_\+thread\+\_\+finish\+\_\+setup}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_a8f2a011a6e511ed85066482460c6c5cd}{ff\+\_\+thread\+\_\+report\+\_\+progress}} (\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} progress, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{writing__filters_8txt_aa377c914ccb65b694f52fc4ce9d02f03}{field}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_aae1e141aa3437d0e73598ee5a5e3cc4a}{ff\+\_\+thread\+\_\+await\+\_\+progress}} (\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} progress, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{writing__filters_8txt_aa377c914ccb65b694f52fc4ce9d02f03}{field}})
\item 
enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} \mbox{\hyperlink{libavcodec_2thread_8h_ab72df5e427afa9ab4020584e33a37b70}{ff\+\_\+thread\+\_\+get\+\_\+format}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, const enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} $\ast$fmt)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavcodec_2thread_8h_a175c018f02630ddf4e3824b2c8b9184f}{ff\+\_\+thread\+\_\+get\+\_\+buffer}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{log_8c_ac8bf36fe0577cba66bccda3a6f7e80a4}{flags}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_aa3f6cbc3d5b74d46b247469ca3247ad1}{ff\+\_\+thread\+\_\+release\+\_\+buffer}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavcodec_2thread_8h_a9569969a18e074a58912d24f08f30d69}{ff\+\_\+thread\+\_\+ref\+\_\+frame}} (\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$dst, const \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavcodec_2thread_8h_a53d10ca977a7c3ce7c9c458f69e39ea6}{ff\+\_\+thread\+\_\+init}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavcodec_2thread_8h_afbf0d9d8fc3abc7bf861684d020f460f}{ff\+\_\+slice\+\_\+thread\+\_\+execute\+\_\+with\+\_\+mainfunc}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$\mbox{\hyperlink{pthread__slice_8c_ac99cb39fb3470bba54acee1959e74a05}{action\+\_\+func2}})(\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}}, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{libavcodec_2jacosubdec_8c_ac3a73711fd7f8a50db1c4b62e41cf852}{arg}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} jobnr, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} threadnr), \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$\mbox{\hyperlink{pthread__slice_8c_a6f590c4167727d25ef764de822686125}{main\+\_\+func}})(\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}}), \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{libavcodec_2jacosubdec_8c_ac3a73711fd7f8a50db1c4b62e41cf852}{arg}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{filter__design_8txt_af1ec77bdca1b30e8153fc5da88f603db}{ret}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} job\+\_\+count)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_aa61c8262f8db1c458cb31ebfdcd7198a}{ff\+\_\+thread\+\_\+free}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavcodec_2thread_8h_a60cb64297b8b88796aca89f8ad3cedcc}{ff\+\_\+alloc\+\_\+entries}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} count)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_a0f9068d319381bd6c420af1aae25ad60}{ff\+\_\+reset\+\_\+entries}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_a9f42875cae7e599cd65e33efafdfa97f}{ff\+\_\+thread\+\_\+report\+\_\+progress2}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{writing__filters_8txt_aa377c914ccb65b694f52fc4ce9d02f03}{field}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} thread, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} n)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{libavcodec_2thread_8h_a684b528e84eb7e72d72b8f80c3a43a45}{ff\+\_\+thread\+\_\+await\+\_\+progress2}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{writing__filters_8txt_aa377c914ccb65b694f52fc4ce9d02f03}{field}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} thread, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2swresample_8c_a78dd9f7c9440136f1bd89fab33ad2fb2}{shift}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Multithreading support functions \begin{DoxyAuthor}{Author}
Alexander Strange \href{mailto:astrange@ithinksw.com}{\texttt{ astrange@ithinksw.\+com}} 
\end{DoxyAuthor}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{libavcodec_2thread_8h_af0530113f7da5c8507d59949c4d199ce}\label{libavcodec_2thread_8h_af0530113f7da5c8507d59949c4d199ce}} 
\index{thread.h@{thread.h}!ThreadFrame@{ThreadFrame}}
\index{ThreadFrame@{ThreadFrame}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ThreadFrame}{ThreadFrame}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{libavcodec_2thread_8h_a60cb64297b8b88796aca89f8ad3cedcc}\label{libavcodec_2thread_8h_a60cb64297b8b88796aca89f8ad3cedcc}} 
\index{thread.h@{thread.h}!ff\_alloc\_entries@{ff\_alloc\_entries}}
\index{ff\_alloc\_entries@{ff\_alloc\_entries}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_alloc\_entries()}{ff\_alloc\_entries()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+alloc\+\_\+entries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{count }\end{DoxyParamCaption})}



Definition at line 201 of file pthread\+\_\+slice.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a60cb64297b8b88796aca89f8ad3cedcc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a60cb64297b8b88796aca89f8ad3cedcc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a0f9068d319381bd6c420af1aae25ad60}\label{libavcodec_2thread_8h_a0f9068d319381bd6c420af1aae25ad60}} 
\index{thread.h@{thread.h}!ff\_reset\_entries@{ff\_reset\_entries}}
\index{ff\_reset\_entries@{ff\_reset\_entries}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_reset\_entries()}{ff\_reset\_entries()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+reset\+\_\+entries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})}



Definition at line 238 of file pthread\+\_\+slice.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a0f9068d319381bd6c420af1aae25ad60_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_afbf0d9d8fc3abc7bf861684d020f460f}\label{libavcodec_2thread_8h_afbf0d9d8fc3abc7bf861684d020f460f}} 
\index{thread.h@{thread.h}!ff\_slice\_thread\_execute\_with\_mainfunc@{ff\_slice\_thread\_execute\_with\_mainfunc}}
\index{ff\_slice\_thread\_execute\_with\_mainfunc@{ff\_slice\_thread\_execute\_with\_mainfunc}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_slice\_thread\_execute\_with\_mainfunc()}{ff\_slice\_thread\_execute\_with\_mainfunc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+slice\+\_\+thread\+\_\+execute\+\_\+with\+\_\+mainfunc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$)(\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}}, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{libavcodec_2jacosubdec_8c_ac3a73711fd7f8a50db1c4b62e41cf852}{arg}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} jobnr, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} threadnr)}]{action\+\_\+func2,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$)(\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}})}]{main\+\_\+func,  }\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{arg,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{ret,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{job\+\_\+count }\end{DoxyParamCaption})}

\mbox{\Hypertarget{libavcodec_2thread_8h_aae1e141aa3437d0e73598ee5a5e3cc4a}\label{libavcodec_2thread_8h_aae1e141aa3437d0e73598ee5a5e3cc4a}} 
\index{thread.h@{thread.h}!ff\_thread\_await\_progress@{ff\_thread\_await\_progress}}
\index{ff\_thread\_await\_progress@{ff\_thread\_await\_progress}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_await\_progress()}{ff\_thread\_await\_progress()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+await\+\_\+progress (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$}]{f,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{progress,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{field }\end{DoxyParamCaption})}

Wait for earlier decoding threads to finish reference pictures. Call this before accessing some part of a picture, with a given value for progress, and it will return after the responsible decoding thread calls \mbox{\hyperlink{libavcodec_2thread_8h_a8f2a011a6e511ed85066482460c6c5cd}{ff\+\_\+thread\+\_\+report\+\_\+progress()}} with the same or higher value for progress.


\begin{DoxyParams}{Parameters}
{\em f} & The picture being referenced. \\
\hline
{\em progress} & Value, in arbitrary units, to wait for. \\
\hline
{\em field} & The field being referenced, for field-\/picture codecs. 0 for top field or frame pictures, 1 for bottom field. \\
\hline
\end{DoxyParams}


Definition at line 584 of file pthread\+\_\+frame.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_aae1e141aa3437d0e73598ee5a5e3cc4a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a684b528e84eb7e72d72b8f80c3a43a45}\label{libavcodec_2thread_8h_a684b528e84eb7e72d72b8f80c3a43a45}} 
\index{thread.h@{thread.h}!ff\_thread\_await\_progress2@{ff\_thread\_await\_progress2}}
\index{ff\_thread\_await\_progress2@{ff\_thread\_await\_progress2}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_await\_progress2()}{ff\_thread\_await\_progress2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+await\+\_\+progress2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{field,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{thread,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{shift }\end{DoxyParamCaption})}



Definition at line 185 of file pthread\+\_\+slice.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a684b528e84eb7e72d72b8f80c3a43a45_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a684b528e84eb7e72d72b8f80c3a43a45_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_ac39dd042416f1f404fe1be56bb91d97d}\label{libavcodec_2thread_8h_ac39dd042416f1f404fe1be56bb91d97d}} 
\index{thread.h@{thread.h}!ff\_thread\_decode\_frame@{ff\_thread\_decode\_frame}}
\index{ff\_thread\_decode\_frame@{ff\_thread\_decode\_frame}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_decode\_frame()}{ff\_thread\_decode\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+thread\+\_\+decode\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{picture,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{got\+\_\+picture\+\_\+ptr,  }\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})}

Submit a new frame to a decoding thread. Returns the next available frame in picture. $\ast$got\+\_\+picture\+\_\+ptr will be 0 if none is available. The return value on success is the size of the consumed packet for compatibility with \mbox{\hyperlink{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532}{avcodec\+\_\+decode\+\_\+video2()}}. This means the decoder has to consume the full packet.

Parameters are the same as \mbox{\hyperlink{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532}{avcodec\+\_\+decode\+\_\+video2()}}. 

Definition at line 476 of file pthread\+\_\+frame.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_ac39dd042416f1f404fe1be56bb91d97d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_ac39dd042416f1f404fe1be56bb91d97d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a9ad620f797a848df3977ea512316ceb3}\label{libavcodec_2thread_8h_a9ad620f797a848df3977ea512316ceb3}} 
\index{thread.h@{thread.h}!ff\_thread\_finish\_setup@{ff\_thread\_finish\_setup}}
\index{ff\_thread\_finish\_setup@{ff\_thread\_finish\_setup}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_finish\_setup()}{ff\_thread\_finish\_setup()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+finish\+\_\+setup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})}

If the codec defines \mbox{\hyperlink{multithreading_8txt_a4e871baf97bc0c256543f0fde05c8307}{update\+\_\+thread\+\_\+context()}}, call this when they are ready for the next thread to start decoding the next frame. After calling it, do not change any variables read by the \mbox{\hyperlink{multithreading_8txt_a4e871baf97bc0c256543f0fde05c8307}{update\+\_\+thread\+\_\+context()}} method, or call \mbox{\hyperlink{libavcodec_2thread_8h_a175c018f02630ddf4e3824b2c8b9184f}{ff\+\_\+thread\+\_\+get\+\_\+buffer()}}.


\begin{DoxyParams}{Parameters}
{\em avctx} & The context. \\
\hline
\end{DoxyParams}


Definition at line 605 of file pthread\+\_\+frame.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a9ad620f797a848df3977ea512316ceb3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a9ad620f797a848df3977ea512316ceb3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_af9fb90d995171cf16ed454f6965e0710}\label{libavcodec_2thread_8h_af9fb90d995171cf16ed454f6965e0710}} 
\index{thread.h@{thread.h}!ff\_thread\_flush@{ff\_thread\_flush}}
\index{ff\_thread\_flush@{ff\_thread\_flush}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_flush()}{ff\_thread\_flush()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+flush (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})}

Wait for decoding threads to finish and reset internal state. Called by \mbox{\hyperlink{group__lavc__misc_gaf60b0e076f822abcb2700eb601d352a6}{avcodec\+\_\+flush\+\_\+buffers()}}.


\begin{DoxyParams}{Parameters}
{\em avctx} & The context. \\
\hline
\end{DoxyParams}


Definition at line 869 of file pthread\+\_\+frame.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_af9fb90d995171cf16ed454f6965e0710_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_af9fb90d995171cf16ed454f6965e0710_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_aa61c8262f8db1c458cb31ebfdcd7198a}\label{libavcodec_2thread_8h_aa61c8262f8db1c458cb31ebfdcd7198a}} 
\index{thread.h@{thread.h}!ff\_thread\_free@{ff\_thread\_free}}
\index{ff\_thread\_free@{ff\_thread\_free}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_free()}{ff\_thread\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{s }\end{DoxyParamCaption})}



Definition at line 82 of file pthread.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_aa61c8262f8db1c458cb31ebfdcd7198a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_aa61c8262f8db1c458cb31ebfdcd7198a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a175c018f02630ddf4e3824b2c8b9184f}\label{libavcodec_2thread_8h_a175c018f02630ddf4e3824b2c8b9184f}} 
\index{thread.h@{thread.h}!ff\_thread\_get\_buffer@{ff\_thread\_get\_buffer}}
\index{ff\_thread\_get\_buffer@{ff\_thread\_get\_buffer}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_get\_buffer()}{ff\_thread\_get\_buffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+thread\+\_\+get\+\_\+buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$}]{f,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{flags }\end{DoxyParamCaption})}

Wrapper around \mbox{\hyperlink{multithreading_8txt_a76a40bbaff145731efcb417bb8453d19}{get\+\_\+buffer()}} for frame-\/multithreaded codecs. Call this function instead of ff\+\_\+get\+\_\+buffer(f). Cannot be called after the codec has called \mbox{\hyperlink{libavcodec_2thread_8h_a9ad620f797a848df3977ea512316ceb3}{ff\+\_\+thread\+\_\+finish\+\_\+setup()}}.


\begin{DoxyParams}{Parameters}
{\em avctx} & The current context. \\
\hline
{\em f} & The frame to write into. \\
\hline
\end{DoxyParams}


Definition at line 991 of file pthread\+\_\+frame.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a175c018f02630ddf4e3824b2c8b9184f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_ab72df5e427afa9ab4020584e33a37b70}\label{libavcodec_2thread_8h_ab72df5e427afa9ab4020584e33a37b70}} 
\index{thread.h@{thread.h}!ff\_thread\_get\_format@{ff\_thread\_get\_format}}
\index{ff\_thread\_get\_format@{ff\_thread\_get\_format}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_get\_format()}{ff\_thread\_get\_format()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} ff\+\_\+thread\+\_\+get\+\_\+format (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{const enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} $\ast$}]{fmt }\end{DoxyParamCaption})}

Wrapper around \mbox{\hyperlink{doc_2examples_2qsvdec_8c_afe1023087c26d2d410c9cd7d491c8660}{get\+\_\+format()}} for frame-\/multithreaded codecs. Call this function instead of avctx-\/$>$\mbox{\hyperlink{doc_2examples_2qsvdec_8c_afe1023087c26d2d410c9cd7d491c8660}{get\+\_\+format()}}. Cannot be called after the codec has called \mbox{\hyperlink{libavcodec_2thread_8h_a9ad620f797a848df3977ea512316ceb3}{ff\+\_\+thread\+\_\+finish\+\_\+setup()}}.


\begin{DoxyParams}{Parameters}
{\em avctx} & The current context. \\
\hline
{\em fmt} & The list of available formats. \\
\hline
\end{DoxyParams}


Definition at line 909 of file pthread\+\_\+frame.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_ab72df5e427afa9ab4020584e33a37b70_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a53d10ca977a7c3ce7c9c458f69e39ea6}\label{libavcodec_2thread_8h_a53d10ca977a7c3ce7c9c458f69e39ea6}} 
\index{thread.h@{thread.h}!ff\_thread\_init@{ff\_thread\_init}}
\index{ff\_thread\_init@{ff\_thread\_init}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_init()}{ff\_thread\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+thread\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{s }\end{DoxyParamCaption})}



Definition at line 70 of file pthread.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a53d10ca977a7c3ce7c9c458f69e39ea6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a53d10ca977a7c3ce7c9c458f69e39ea6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a9569969a18e074a58912d24f08f30d69}\label{libavcodec_2thread_8h_a9569969a18e074a58912d24f08f30d69}} 
\index{thread.h@{thread.h}!ff\_thread\_ref\_frame@{ff\_thread\_ref\_frame}}
\index{ff\_thread\_ref\_frame@{ff\_thread\_ref\_frame}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_ref\_frame()}{ff\_thread\_ref\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+thread\+\_\+ref\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$}]{dst,  }\item[{const \mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$}]{src }\end{DoxyParamCaption})}



Definition at line 1876 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a9569969a18e074a58912d24f08f30d69_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a9569969a18e074a58912d24f08f30d69_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_aa3f6cbc3d5b74d46b247469ca3247ad1}\label{libavcodec_2thread_8h_aa3f6cbc3d5b74d46b247469ca3247ad1}} 
\index{thread.h@{thread.h}!ff\_thread\_release\_buffer@{ff\_thread\_release\_buffer}}
\index{ff\_thread\_release\_buffer@{ff\_thread\_release\_buffer}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_release\_buffer()}{ff\_thread\_release\_buffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+release\+\_\+buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$}]{f }\end{DoxyParamCaption})}

Wrapper around release\+\_\+buffer() frame-\/for multithreaded codecs. Call this function instead of avctx-\/$>$release\+\_\+buffer(f). The \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will be copied and the actual release\+\_\+buffer() call will be performed later. The contents of data pointed to by the \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} should not be changed until \mbox{\hyperlink{libavcodec_2thread_8h_a175c018f02630ddf4e3824b2c8b9184f}{ff\+\_\+thread\+\_\+get\+\_\+buffer()}} is called on it.


\begin{DoxyParams}{Parameters}
{\em avctx} & The current context. \\
\hline
{\em f} & The picture being released. \\
\hline
\end{DoxyParams}


Definition at line 999 of file pthread\+\_\+frame.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_aa3f6cbc3d5b74d46b247469ca3247ad1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{libavcodec_2thread_8h_aa3f6cbc3d5b74d46b247469ca3247ad1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a8f2a011a6e511ed85066482460c6c5cd}\label{libavcodec_2thread_8h_a8f2a011a6e511ed85066482460c6c5cd}} 
\index{thread.h@{thread.h}!ff\_thread\_report\_progress@{ff\_thread\_report\_progress}}
\index{ff\_thread\_report\_progress@{ff\_thread\_report\_progress}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_report\_progress()}{ff\_thread\_report\_progress()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+report\+\_\+progress (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_thread_frame}{Thread\+Frame}} $\ast$}]{f,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{progress,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{field }\end{DoxyParamCaption})}

Notify later decoding threads when part of their reference picture is ready. Call this when some part of the picture is finished decoding. Later calls with lower values of progress have no effect.


\begin{DoxyParams}{Parameters}
{\em f} & The picture being decoded. \\
\hline
{\em progress} & Value, in arbitrary units, of how much of the picture has decoded. \\
\hline
{\em field} & The field being decoded, for field-\/picture codecs. 0 for top field or frame pictures, 1 for bottom field. \\
\hline
\end{DoxyParams}


Definition at line 561 of file pthread\+\_\+frame.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a8f2a011a6e511ed85066482460c6c5cd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a8f2a011a6e511ed85066482460c6c5cd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavcodec_2thread_8h_a9f42875cae7e599cd65e33efafdfa97f}\label{libavcodec_2thread_8h_a9f42875cae7e599cd65e33efafdfa97f}} 
\index{thread.h@{thread.h}!ff\_thread\_report\_progress2@{ff\_thread\_report\_progress2}}
\index{ff\_thread\_report\_progress2@{ff\_thread\_report\_progress2}!thread.h@{thread.h}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_report\_progress2()}{ff\_thread\_report\_progress2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+thread\+\_\+report\+\_\+progress2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{field,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{thread,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{n }\end{DoxyParamCaption})}



Definition at line 174 of file pthread\+\_\+slice.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a9f42875cae7e599cd65e33efafdfa97f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavcodec_2thread_8h_a9f42875cae7e599cd65e33efafdfa97f_icgraph}
\end{center}
\end{figure}
