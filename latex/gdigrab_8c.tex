\hypertarget{gdigrab_8c}{}\doxysection{E\+:/github/ffmpeg/libavdevice/gdigrab.c File Reference}
\label{gdigrab_8c}\index{E:/github/ffmpeg/libavdevice/gdigrab.c@{E:/github/ffmpeg/libavdevice/gdigrab.c}}
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavformat/internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/opt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/time.\+h\char`\"{}}\newline
{\ttfamily \#include $<$windows.\+h$>$}\newline
Include dependency graph for gdigrab.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{gdigrab_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structgdigrab}{gdigrab}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{gdigrab_8c_aa0c52b8d4ee67811c4cd6397da8339f9}{W\+I\+N32\+\_\+\+A\+P\+I\+\_\+\+E\+R\+R\+OR}}(str)~    \mbox{\hyperlink{group__lavu__log_gabd386ffd4b27637cf34e98d5d1a6e8ae}{av\+\_\+log}}(\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}}, \mbox{\hyperlink{group__lavu__log__constants_gaffe151ff4cd8a24b2e77ac8d9616c85c}{A\+V\+\_\+\+L\+O\+G\+\_\+\+E\+R\+R\+OR}}, str \char`\"{} (error \%li)\textbackslash{}n\char`\"{}, Get\+Last\+Error())
\item 
\#define \mbox{\hyperlink{gdigrab_8c_a2d7e2f196230bfb9dc0af8a4daf6fc24}{R\+E\+G\+I\+O\+N\+\_\+\+W\+N\+D\+\_\+\+B\+O\+R\+D\+ER}}~3
\item 
\#define \mbox{\hyperlink{gdigrab_8c_a6558e3e9a4546118c31cf5ce368955a0}{C\+U\+R\+S\+O\+R\+\_\+\+E\+R\+R\+OR}}(str)
\item 
\#define \mbox{\hyperlink{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}{O\+F\+F\+S\+ET}}(x)~offsetof(struct \mbox{\hyperlink{structgdigrab}{gdigrab}}, x)
\item 
\#define \mbox{\hyperlink{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}{D\+EC}}~\mbox{\hyperlink{opt_8h_aad820197915e73441f76f5e0c384d78a}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+D\+E\+C\+O\+D\+I\+N\+G\+\_\+\+P\+A\+R\+AM}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static L\+R\+E\+S\+U\+LT C\+A\+L\+L\+B\+A\+CK \mbox{\hyperlink{gdigrab_8c_a27081cc176a7cf22421640aca02c43b2}{gdigrab\+\_\+region\+\_\+wnd\+\_\+proc}} (H\+W\+ND hwnd, U\+I\+NT msg, W\+P\+A\+R\+AM wparam, L\+P\+A\+R\+AM lparam)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{gdigrab_8c_ae54dd97fb2e734157d2a963361f5cf36}{gdigrab\+\_\+region\+\_\+wnd\+\_\+init}} (\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}}, struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$\mbox{\hyperlink{structgdigrab}{gdigrab}})
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{gdigrab_8c_a25726727ee458065bbbb6247f981b53b}{gdigrab\+\_\+region\+\_\+wnd\+\_\+destroy}} (\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}}, struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$\mbox{\hyperlink{structgdigrab}{gdigrab}})
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{gdigrab_8c_ad2f8fa3f28c8a798a50a7433ab445c30}{gdigrab\+\_\+region\+\_\+wnd\+\_\+update}} (\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}}, struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$\mbox{\hyperlink{structgdigrab}{gdigrab}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{gdigrab_8c_ab6a2e222aa1188100c3548cc75e36752}{gdigrab\+\_\+read\+\_\+header}} (\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}})
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{gdigrab_8c_abae0a7ebfb6f60891843366bba96f41e}{paint\+\_\+mouse\+\_\+pointer}} (\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}}, struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$\mbox{\hyperlink{structgdigrab}{gdigrab}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{gdigrab_8c_ab15198cf1cf88fbe1c1dfce61bbf84b5}{gdigrab\+\_\+read\+\_\+packet}} (\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}}, \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$\mbox{\hyperlink{demuxing__decoding_8c_a3d4c6562f0b27cf0cacbbea5c038c090}{pkt}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{gdigrab_8c_a0ff602105a6c9664e5f943200c131db7}{gdigrab\+\_\+read\+\_\+close}} (\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} \mbox{\hyperlink{gdigrab_8c_a384ff94b5139f441c282c9b4c7b985e6}{options}} \mbox{[}$\,$\mbox{]}
\item 
static const \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} \mbox{\hyperlink{gdigrab_8c_ac40c9c27d5ff1f47d55bce140872fdf9}{gdigrab\+\_\+class}}
\item 
\mbox{\hyperlink{struct_a_v_input_format}{A\+V\+Input\+Format}} \mbox{\hyperlink{gdigrab_8c_ae36eb72258892e015633b806ae5cbe79}{ff\+\_\+gdigrab\+\_\+demuxer}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
G\+DI frame device demuxer \begin{DoxyAuthor}{Author}
Calvin Walton \href{mailto:calvin.walton@kepstin.ca}{\texttt{ calvin.\+walton@kepstin.\+ca}} 

Christophe Gisquet \href{mailto:word1.word2@gmail.com}{\texttt{ word1.\+word2@gmail.\+com}} 
\end{DoxyAuthor}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{gdigrab_8c_a6558e3e9a4546118c31cf5ce368955a0}\label{gdigrab_8c_a6558e3e9a4546118c31cf5ce368955a0}} 
\index{gdigrab.c@{gdigrab.c}!CURSOR\_ERROR@{CURSOR\_ERROR}}
\index{CURSOR\_ERROR@{CURSOR\_ERROR}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{CURSOR\_ERROR}{CURSOR\_ERROR}}
{\footnotesize\ttfamily \#define C\+U\+R\+S\+O\+R\+\_\+\+E\+R\+R\+OR(\begin{DoxyParamCaption}\item[{}]{str }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structgdigrab}{gdigrab}}-\/>\mbox{\hyperlink{structgdigrab_acbae96b1e860c691f0ca2cdbb0ec5f57}{cursor\_error\_printed}}) \{       \(\backslash\)}
\DoxyCodeLine{        WIN32\_API\_ERROR(\mbox{\hyperlink{namespaceconvert__header_ae1e061c0db8a47f53e1f3de5e371872e}{str}});             \(\backslash\)}
\DoxyCodeLine{        gdigrab-\/>cursor\_error\_printed = 1;      \(\backslash\)}
\DoxyCodeLine{    \}}

\end{DoxyCode}
\mbox{\Hypertarget{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}\label{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}} 
\index{gdigrab.c@{gdigrab.c}!DEC@{DEC}}
\index{DEC@{DEC}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{DEC}{DEC}}
{\footnotesize\ttfamily \#define D\+EC~\mbox{\hyperlink{opt_8h_aad820197915e73441f76f5e0c384d78a}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+D\+E\+C\+O\+D\+I\+N\+G\+\_\+\+P\+A\+R\+AM}}}



Definition at line 634 of file gdigrab.\+c.

\mbox{\Hypertarget{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}\label{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}} 
\index{gdigrab.c@{gdigrab.c}!OFFSET@{OFFSET}}
\index{OFFSET@{OFFSET}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{OFFSET}{OFFSET}}
{\footnotesize\ttfamily \#define O\+F\+F\+S\+ET(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~offsetof(struct \mbox{\hyperlink{structgdigrab}{gdigrab}}, x)}



Definition at line 633 of file gdigrab.\+c.

\mbox{\Hypertarget{gdigrab_8c_a2d7e2f196230bfb9dc0af8a4daf6fc24}\label{gdigrab_8c_a2d7e2f196230bfb9dc0af8a4daf6fc24}} 
\index{gdigrab.c@{gdigrab.c}!REGION\_WND\_BORDER@{REGION\_WND\_BORDER}}
\index{REGION\_WND\_BORDER@{REGION\_WND\_BORDER}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{REGION\_WND\_BORDER}{REGION\_WND\_BORDER}}
{\footnotesize\ttfamily \#define R\+E\+G\+I\+O\+N\+\_\+\+W\+N\+D\+\_\+\+B\+O\+R\+D\+ER~3}



Definition at line 72 of file gdigrab.\+c.

\mbox{\Hypertarget{gdigrab_8c_aa0c52b8d4ee67811c4cd6397da8339f9}\label{gdigrab_8c_aa0c52b8d4ee67811c4cd6397da8339f9}} 
\index{gdigrab.c@{gdigrab.c}!WIN32\_API\_ERROR@{WIN32\_API\_ERROR}}
\index{WIN32\_API\_ERROR@{WIN32\_API\_ERROR}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{WIN32\_API\_ERROR}{WIN32\_API\_ERROR}}
{\footnotesize\ttfamily \#define W\+I\+N32\+\_\+\+A\+P\+I\+\_\+\+E\+R\+R\+OR(\begin{DoxyParamCaption}\item[{}]{str }\end{DoxyParamCaption})~    \mbox{\hyperlink{group__lavu__log_gabd386ffd4b27637cf34e98d5d1a6e8ae}{av\+\_\+log}}(\mbox{\hyperlink{regdef_8h_a09dff3d9a89874939fa7cc9d056b114c}{s1}}, \mbox{\hyperlink{group__lavu__log__constants_gaffe151ff4cd8a24b2e77ac8d9616c85c}{A\+V\+\_\+\+L\+O\+G\+\_\+\+E\+R\+R\+OR}}, str \char`\"{} (error \%li)\textbackslash{}n\char`\"{}, Get\+Last\+Error())}



Definition at line 69 of file gdigrab.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{gdigrab_8c_a0ff602105a6c9664e5f943200c131db7}\label{gdigrab_8c_a0ff602105a6c9664e5f943200c131db7}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_read\_close@{gdigrab\_read\_close}}
\index{gdigrab\_read\_close@{gdigrab\_read\_close}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_read\_close()}{gdigrab\_read\_close()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} gdigrab\+\_\+read\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$}]{s1 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Closes gdi frame grabber (public device demuxer A\+PI).


\begin{DoxyParams}{Parameters}
{\em s1} & \mbox{\hyperlink{struct_context}{Context}} from avformat core \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 success, !0 failure 
\end{DoxyReturn}


Definition at line 614 of file gdigrab.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{gdigrab_8c_a0ff602105a6c9664e5f943200c131db7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{gdigrab_8c_ab6a2e222aa1188100c3548cc75e36752}\label{gdigrab_8c_ab6a2e222aa1188100c3548cc75e36752}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_read\_header@{gdigrab\_read\_header}}
\index{gdigrab\_read\_header@{gdigrab\_read\_header}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_read\_header()}{gdigrab\_read\_header()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} gdigrab\+\_\+read\+\_\+header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$}]{s1 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Initializes the gdi grab device demuxer (public device demuxer A\+PI).


\begin{DoxyParams}{Parameters}
{\em s1} & \mbox{\hyperlink{struct_context}{Context}} from avformat core \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+V\+E\+R\+R\+O\+R\+\_\+\+IO error, 0 success 
\end{DoxyReturn}


Definition at line 222 of file gdigrab.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{gdigrab_8c_ab6a2e222aa1188100c3548cc75e36752_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{gdigrab_8c_ab15198cf1cf88fbe1c1dfce61bbf84b5}\label{gdigrab_8c_ab15198cf1cf88fbe1c1dfce61bbf84b5}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_read\_packet@{gdigrab\_read\_packet}}
\index{gdigrab\_read\_packet@{gdigrab\_read\_packet}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_read\_packet()}{gdigrab\_read\_packet()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} gdigrab\+\_\+read\+\_\+packet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$}]{s1,  }\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{pkt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Grabs a frame from gdi (public device demuxer A\+PI).


\begin{DoxyParams}{Parameters}
{\em s1} & \mbox{\hyperlink{struct_context}{Context}} from avformat core \\
\hline
{\em pkt} & Packet holding the grabbed frame \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
frame size in bytes 
\end{DoxyReturn}


Definition at line 530 of file gdigrab.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{gdigrab_8c_ab15198cf1cf88fbe1c1dfce61bbf84b5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{gdigrab_8c_a25726727ee458065bbbb6247f981b53b}\label{gdigrab_8c_a25726727ee458065bbbb6247f981b53b}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_region\_wnd\_destroy@{gdigrab\_region\_wnd\_destroy}}
\index{gdigrab\_region\_wnd\_destroy@{gdigrab\_region\_wnd\_destroy}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_region\_wnd\_destroy()}{gdigrab\_region\_wnd\_destroy()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} gdigrab\+\_\+region\+\_\+wnd\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$}]{s1,  }\item[{struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$}]{gdigrab }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Cleanup/free the region outline window.


\begin{DoxyParams}{Parameters}
{\em s1} & The format context. \\
\hline
{\em gdigrab} & gdigrab context. \\
\hline
\end{DoxyParams}


Definition at line 187 of file gdigrab.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{gdigrab_8c_a25726727ee458065bbbb6247f981b53b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{gdigrab_8c_ae54dd97fb2e734157d2a963361f5cf36}\label{gdigrab_8c_ae54dd97fb2e734157d2a963361f5cf36}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_region\_wnd\_init@{gdigrab\_region\_wnd\_init}}
\index{gdigrab\_region\_wnd\_init@{gdigrab\_region\_wnd\_init}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_region\_wnd\_init()}{gdigrab\_region\_wnd\_init()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} gdigrab\+\_\+region\+\_\+wnd\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$}]{s1,  }\item[{struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$}]{gdigrab }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Initialize the region outline window.


\begin{DoxyParams}{Parameters}
{\em s1} & The format context. \\
\hline
{\em gdigrab} & gdigrab context. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 success, !0 failure 
\end{DoxyReturn}


Definition at line 121 of file gdigrab.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{gdigrab_8c_ae54dd97fb2e734157d2a963361f5cf36_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{gdigrab_8c_ae54dd97fb2e734157d2a963361f5cf36_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{gdigrab_8c_a27081cc176a7cf22421640aca02c43b2}\label{gdigrab_8c_a27081cc176a7cf22421640aca02c43b2}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_region\_wnd\_proc@{gdigrab\_region\_wnd\_proc}}
\index{gdigrab\_region\_wnd\_proc@{gdigrab\_region\_wnd\_proc}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_region\_wnd\_proc()}{gdigrab\_region\_wnd\_proc()}}
{\footnotesize\ttfamily static L\+R\+E\+S\+U\+LT C\+A\+L\+L\+B\+A\+CK gdigrab\+\_\+region\+\_\+wnd\+\_\+proc (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{hwnd,  }\item[{U\+I\+NT}]{msg,  }\item[{W\+P\+A\+R\+AM}]{wparam,  }\item[{L\+P\+A\+R\+AM}]{lparam }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Callback to handle Windows messages for the region outline window.

In particular, this handles painting the frame rectangle.


\begin{DoxyParams}{Parameters}
{\em hwnd} & The region outline window handle. \\
\hline
{\em msg} & The Windows message. \\
\hline
{\em wparam} & First Windows message parameter. \\
\hline
{\em lparam} & Second Windows message parameter. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 success, !0 failure 
\end{DoxyReturn}


Definition at line 86 of file gdigrab.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{gdigrab_8c_a27081cc176a7cf22421640aca02c43b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{gdigrab_8c_ad2f8fa3f28c8a798a50a7433ab445c30}\label{gdigrab_8c_ad2f8fa3f28c8a798a50a7433ab445c30}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_region\_wnd\_update@{gdigrab\_region\_wnd\_update}}
\index{gdigrab\_region\_wnd\_update@{gdigrab\_region\_wnd\_update}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_region\_wnd\_update()}{gdigrab\_region\_wnd\_update()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} gdigrab\+\_\+region\+\_\+wnd\+\_\+update (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$}]{s1,  }\item[{struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$}]{gdigrab }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Process the Windows message queue.

This is important to prevent Windows from thinking the window has become unresponsive. As well, things like W\+M\+\_\+\+P\+A\+I\+NT (to actually draw the window contents) are handled from the message queue context.


\begin{DoxyParams}{Parameters}
{\em s1} & The format context. \\
\hline
{\em gdigrab} & gdigrab context. \\
\hline
\end{DoxyParams}


Definition at line 205 of file gdigrab.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{gdigrab_8c_ad2f8fa3f28c8a798a50a7433ab445c30_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{gdigrab_8c_abae0a7ebfb6f60891843366bba96f41e}\label{gdigrab_8c_abae0a7ebfb6f60891843366bba96f41e}} 
\index{gdigrab.c@{gdigrab.c}!paint\_mouse\_pointer@{paint\_mouse\_pointer}}
\index{paint\_mouse\_pointer@{paint\_mouse\_pointer}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{paint\_mouse\_pointer()}{paint\_mouse\_pointer()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} paint\+\_\+mouse\+\_\+pointer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$}]{s1,  }\item[{struct \mbox{\hyperlink{structgdigrab}{gdigrab}} $\ast$}]{gdigrab }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Paints a mouse pointer in a Win32 image.


\begin{DoxyParams}{Parameters}
{\em s1} & \mbox{\hyperlink{struct_context}{Context}} of the log information \\
\hline
{\em s} & Current grad structure \\
\hline
\end{DoxyParams}


Definition at line 442 of file gdigrab.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{gdigrab_8c_abae0a7ebfb6f60891843366bba96f41e_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{gdigrab_8c_ae36eb72258892e015633b806ae5cbe79}\label{gdigrab_8c_ae36eb72258892e015633b806ae5cbe79}} 
\index{gdigrab.c@{gdigrab.c}!ff\_gdigrab\_demuxer@{ff\_gdigrab\_demuxer}}
\index{ff\_gdigrab\_demuxer@{ff\_gdigrab\_demuxer}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{ff\_gdigrab\_demuxer}{ff\_gdigrab\_demuxer}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_input_format}{A\+V\+Input\+Format}} ff\+\_\+gdigrab\+\_\+demuxer}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .name           = \textcolor{stringliteral}{"{}gdigrab"{}},}
\DoxyCodeLine{    .long\_name      = \mbox{\hyperlink{libavutil_2internal_8h_a3c0fa12fafe59c44d4b16e60d8385637}{NULL\_IF\_CONFIG\_SMALL}}(\textcolor{stringliteral}{"{}GDI API Windows frame grabber"{}}),}
\DoxyCodeLine{    .priv\_data\_size = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\mbox{\hyperlink{structgdigrab}{gdigrab}}),}
\DoxyCodeLine{    .\mbox{\hyperlink{ffv1dec_8c_a0b9c6775a65106fc8bf33cd388ec715c}{read\_header}}    = \mbox{\hyperlink{gdigrab_8c_ab6a2e222aa1188100c3548cc75e36752}{gdigrab\_read\_header}},}
\DoxyCodeLine{    .read\_packet    = \mbox{\hyperlink{gdigrab_8c_ab15198cf1cf88fbe1c1dfce61bbf84b5}{gdigrab\_read\_packet}},}
\DoxyCodeLine{    .read\_close     = \mbox{\hyperlink{gdigrab_8c_a0ff602105a6c9664e5f943200c131db7}{gdigrab\_read\_close}},}
\DoxyCodeLine{    .flags          = \mbox{\hyperlink{avformat_8h_a752cce390d480521919aa5d8be24ac0b}{AVFMT\_NOFILE}},}
\DoxyCodeLine{    .priv\_class     = \&\mbox{\hyperlink{gdigrab_8c_ac40c9c27d5ff1f47d55bce140872fdf9}{gdigrab\_class}},}
\DoxyCodeLine{\}}

\end{DoxyCode}
gdi grabber device demuxer declaration 

Definition at line 654 of file gdigrab.\+c.

\mbox{\Hypertarget{gdigrab_8c_ac40c9c27d5ff1f47d55bce140872fdf9}\label{gdigrab_8c_ac40c9c27d5ff1f47d55bce140872fdf9}} 
\index{gdigrab.c@{gdigrab.c}!gdigrab\_class@{gdigrab\_class}}
\index{gdigrab\_class@{gdigrab\_class}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{gdigrab\_class}{gdigrab\_class}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} gdigrab\+\_\+class\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .class\_name = \textcolor{stringliteral}{"{}GDIgrab indev"{}},}
\DoxyCodeLine{    .item\_name  = \mbox{\hyperlink{group__lavu__log_ga791fcd0dba1d19fe0c3677509344328e}{av\_default\_item\_name}},}
\DoxyCodeLine{    .option     = \mbox{\hyperlink{gdigrab_8c_a384ff94b5139f441c282c9b4c7b985e6}{options}},}
\DoxyCodeLine{    .version    = \mbox{\hyperlink{group__lavu__ver_ga36e17e3fc9bcbe5c55820a8ac8b47e3c}{LIBAVUTIL\_VERSION\_INT}},}
\DoxyCodeLine{    .category   = \mbox{\hyperlink{log_8h_aeb1c06cc3e47a029ca6afeac782ac8f9a73fb8c6b471b22685e8d2836f25ca6c7}{AV\_CLASS\_CATEGORY\_DEVICE\_VIDEO\_INPUT}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 645 of file gdigrab.\+c.

\mbox{\Hypertarget{gdigrab_8c_a384ff94b5139f441c282c9b4c7b985e6}\label{gdigrab_8c_a384ff94b5139f441c282c9b4c7b985e6}} 
\index{gdigrab.c@{gdigrab.c}!options@{options}}
\index{options@{options}!gdigrab.c@{gdigrab.c}}
\doxysubsubsection{\texorpdfstring{options}{options}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} options\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}draw\_mouse"{}}, \textcolor{stringliteral}{"{}draw the mouse pointer"{}}, \mbox{\hyperlink{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(\mbox{\hyperlink{structgdigrab_abdc182b0ef1727c0a52742e3b0845aed}{draw\_mouse}}), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411}{AV\_OPT\_TYPE\_INT}}, \{.i64 = 1\}, 0, 1, \mbox{\hyperlink{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}{DEC}} \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}show\_region"{}}, \textcolor{stringliteral}{"{}draw border around capture area"{}}, \mbox{\hyperlink{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(\mbox{\hyperlink{structgdigrab_a1b14afe201a13e0cd734e14a77fefd3b}{show\_region}}), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411}{AV\_OPT\_TYPE\_INT}}, \{.i64 = 0\}, 0, 1, \mbox{\hyperlink{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}{DEC}} \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}framerate"{}}, \textcolor{stringliteral}{"{}set video frame rate"{}}, \mbox{\hyperlink{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(\mbox{\hyperlink{tests_2h264__levels_8c_a0e35b8d74e1ac59b82f506293654d26d}{framerate}}), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444a9429811abc62d4a564ec56938df0a572}{AV\_OPT\_TYPE\_VIDEO\_RATE}}, \{.str = \textcolor{stringliteral}{"{}ntsc"{}}\}, 0, INT\_MAX, \mbox{\hyperlink{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}{DEC}} \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}video\_size"{}}, \textcolor{stringliteral}{"{}set video frame size"{}}, \mbox{\hyperlink{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(\mbox{\hyperlink{tests_2snowenc_8c_a667b04d7fb6ef46db4da4af554c5b6f7}{width}}), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444a078f280b98b49a9f585c5d479b711d9a}{AV\_OPT\_TYPE\_IMAGE\_SIZE}}, \{.str = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\}, 0, 0, \mbox{\hyperlink{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}{DEC}} \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}offset\_x"{}}, \textcolor{stringliteral}{"{}capture area x offset"{}}, \mbox{\hyperlink{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(\mbox{\hyperlink{structgdigrab_a63a09be80e8d880ae89b9a8169f289ae}{offset\_x}}), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411}{AV\_OPT\_TYPE\_INT}}, \{.i64 = 0\}, INT\_MIN, INT\_MAX, \mbox{\hyperlink{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}{DEC}} \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}offset\_y"{}}, \textcolor{stringliteral}{"{}capture area y offset"{}}, \mbox{\hyperlink{gdigrab_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(\mbox{\hyperlink{structgdigrab_a2d937dbeee8a84b7f5a9965c1618def4}{offset\_y}}), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411}{AV\_OPT\_TYPE\_INT}}, \{.i64 = 0\}, INT\_MIN, INT\_MAX, \mbox{\hyperlink{gdigrab_8c_afe38ec6126e35e40049e27fdf4586ba5}{DEC}} \},}
\DoxyCodeLine{    \{ \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} \},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 635 of file gdigrab.\+c.

