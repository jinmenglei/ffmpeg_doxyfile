\hypertarget{vmdaudio_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/vmdaudio.c File Reference}
\label{vmdaudio_8c}\index{E:/github/ffmpeg/libavcodec/vmdaudio.c@{E:/github/ffmpeg/libavcodec/vmdaudio.c}}
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}libavutil/avassert.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/channel\+\_\+layout.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/intreadwrite.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
Include dependency graph for vmdaudio.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmdaudio_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_vmd_audio_context}{Vmd\+Audio\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{vmdaudio_8c_a10004c81cdc94a5f90d01f360e484d8a}{B\+L\+O\+C\+K\+\_\+\+T\+Y\+P\+E\+\_\+\+A\+U\+D\+IO}}~1
\item 
\#define \mbox{\hyperlink{vmdaudio_8c_a6b27dcfd724e2f1330eb74dae4bba651}{B\+L\+O\+C\+K\+\_\+\+T\+Y\+P\+E\+\_\+\+I\+N\+I\+T\+I\+AL}}~2
\item 
\#define \mbox{\hyperlink{vmdaudio_8c_af0203718b66ce66e6f3760bcd0305c04}{B\+L\+O\+C\+K\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+I\+L\+E\+N\+CE}}~3
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_vmd_audio_context}{Vmd\+Audio\+Context}} \mbox{\hyperlink{vmdaudio_8c_a06883432c3358828d6cff5b4d3c867db}{Vmd\+Audio\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vmdaudio_8c_a63610a6e45a12cff0253736d81226eda}{vmdaudio\+\_\+decode\+\_\+init}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vmdaudio_8c_a3d9444254260301f59c54e262226cab4}{decode\+\_\+audio\+\_\+s16}} (int16\+\_\+t $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} buf\+\_\+size, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{aptx_8h_ac9da8d7a4bd192b8a7dccbc024542709}{channels}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vmdaudio_8c_addfe44837559d708e8dc1c15fcc44c87}{vmdaudio\+\_\+decode\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{filter__design_8txt_ac6f0a759dab43b0d58cd04fb6513534c}{data}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$got\+\_\+frame\+\_\+ptr, \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const uint16\+\_\+t \mbox{\hyperlink{vmdaudio_8c_a113bad37815c33b91d870857e885ab07}{vmdaudio\+\_\+table}} \mbox{[}128\mbox{]}
\item 
\mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} \mbox{\hyperlink{vmdaudio_8c_ad752b2593b6a3150d649ea073cdf8344}{ff\+\_\+vmdaudio\+\_\+decoder}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Sierra V\+MD audio decoder by Vladimir \char`\"{}\+V\+A\+G\char`\"{} Gneushev (vagsoft at mail.\+ru) for more information on the Sierra V\+MD format, visit\+: \href{http://www.pcisys.net/~melanson/codecs/}{\texttt{ http\+://www.\+pcisys.\+net/$\sim$melanson/codecs/}}

The audio decoder, expects each encoded data chunk to be prepended with the appropriate 16-\/byte frame information record from the V\+MD file. It does not require the 0x330-\/byte V\+MD file header, but it does need the audio setup parameters passed in through normal libavcodec A\+PI means. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{vmdaudio_8c_a10004c81cdc94a5f90d01f360e484d8a}\label{vmdaudio_8c_a10004c81cdc94a5f90d01f360e484d8a}} 
\index{vmdaudio.c@{vmdaudio.c}!BLOCK\_TYPE\_AUDIO@{BLOCK\_TYPE\_AUDIO}}
\index{BLOCK\_TYPE\_AUDIO@{BLOCK\_TYPE\_AUDIO}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{BLOCK\_TYPE\_AUDIO}{BLOCK\_TYPE\_AUDIO}}
{\footnotesize\ttfamily \#define B\+L\+O\+C\+K\+\_\+\+T\+Y\+P\+E\+\_\+\+A\+U\+D\+IO~1}



Definition at line 46 of file vmdaudio.\+c.

\mbox{\Hypertarget{vmdaudio_8c_a6b27dcfd724e2f1330eb74dae4bba651}\label{vmdaudio_8c_a6b27dcfd724e2f1330eb74dae4bba651}} 
\index{vmdaudio.c@{vmdaudio.c}!BLOCK\_TYPE\_INITIAL@{BLOCK\_TYPE\_INITIAL}}
\index{BLOCK\_TYPE\_INITIAL@{BLOCK\_TYPE\_INITIAL}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{BLOCK\_TYPE\_INITIAL}{BLOCK\_TYPE\_INITIAL}}
{\footnotesize\ttfamily \#define B\+L\+O\+C\+K\+\_\+\+T\+Y\+P\+E\+\_\+\+I\+N\+I\+T\+I\+AL~2}



Definition at line 47 of file vmdaudio.\+c.

\mbox{\Hypertarget{vmdaudio_8c_af0203718b66ce66e6f3760bcd0305c04}\label{vmdaudio_8c_af0203718b66ce66e6f3760bcd0305c04}} 
\index{vmdaudio.c@{vmdaudio.c}!BLOCK\_TYPE\_SILENCE@{BLOCK\_TYPE\_SILENCE}}
\index{BLOCK\_TYPE\_SILENCE@{BLOCK\_TYPE\_SILENCE}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{BLOCK\_TYPE\_SILENCE}{BLOCK\_TYPE\_SILENCE}}
{\footnotesize\ttfamily \#define B\+L\+O\+C\+K\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+I\+L\+E\+N\+CE~3}



Definition at line 48 of file vmdaudio.\+c.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{vmdaudio_8c_a06883432c3358828d6cff5b4d3c867db}\label{vmdaudio_8c_a06883432c3358828d6cff5b4d3c867db}} 
\index{vmdaudio.c@{vmdaudio.c}!VmdAudioContext@{VmdAudioContext}}
\index{VmdAudioContext@{VmdAudioContext}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{VmdAudioContext}{VmdAudioContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_vmd_audio_context}{Vmd\+Audio\+Context}} \mbox{\hyperlink{struct_vmd_audio_context}{Vmd\+Audio\+Context}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{vmdaudio_8c_a3d9444254260301f59c54e262226cab4}\label{vmdaudio_8c_a3d9444254260301f59c54e262226cab4}} 
\index{vmdaudio.c@{vmdaudio.c}!decode\_audio\_s16@{decode\_audio\_s16}}
\index{decode\_audio\_s16@{decode\_audio\_s16}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{decode\_audio\_s16()}{decode\_audio\_s16()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} decode\+\_\+audio\+\_\+s16 (\begin{DoxyParamCaption}\item[{int16\+\_\+t $\ast$}]{out,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{buf\+\_\+size,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{channels }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 105 of file vmdaudio.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=337pt]{vmdaudio_8c_a3d9444254260301f59c54e262226cab4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vmdaudio_8c_addfe44837559d708e8dc1c15fcc44c87}\label{vmdaudio_8c_addfe44837559d708e8dc1c15fcc44c87}} 
\index{vmdaudio.c@{vmdaudio.c}!vmdaudio\_decode\_frame@{vmdaudio\_decode\_frame}}
\index{vmdaudio\_decode\_frame@{vmdaudio\_decode\_frame}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{vmdaudio\_decode\_frame()}{vmdaudio\_decode\_frame()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} vmdaudio\+\_\+decode\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{got\+\_\+frame\+\_\+ptr,  }\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 134 of file vmdaudio.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmdaudio_8c_addfe44837559d708e8dc1c15fcc44c87_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vmdaudio_8c_a63610a6e45a12cff0253736d81226eda}\label{vmdaudio_8c_a63610a6e45a12cff0253736d81226eda}} 
\index{vmdaudio.c@{vmdaudio.c}!vmdaudio\_decode\_init@{vmdaudio\_decode\_init}}
\index{vmdaudio\_decode\_init@{vmdaudio\_decode\_init}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{vmdaudio\_decode\_init()}{vmdaudio\_decode\_init()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} vmdaudio\+\_\+decode\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 71 of file vmdaudio.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmdaudio_8c_a63610a6e45a12cff0253736d81226eda_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{vmdaudio_8c_ad752b2593b6a3150d649ea073cdf8344}\label{vmdaudio_8c_ad752b2593b6a3150d649ea073cdf8344}} 
\index{vmdaudio.c@{vmdaudio.c}!ff\_vmdaudio\_decoder@{ff\_vmdaudio\_decoder}}
\index{ff\_vmdaudio\_decoder@{ff\_vmdaudio\_decoder}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{ff\_vmdaudio\_decoder}{ff\_vmdaudio\_decoder}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} ff\+\_\+vmdaudio\+\_\+decoder}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .name           = \textcolor{stringliteral}{"{}vmdaudio"{}},}
\DoxyCodeLine{    .long\_name      = \mbox{\hyperlink{libavutil_2internal_8h_a3c0fa12fafe59c44d4b16e60d8385637}{NULL\_IF\_CONFIG\_SMALL}}(\textcolor{stringliteral}{"{}Sierra VMD audio"{}}),}
\DoxyCodeLine{    .type           = \mbox{\hyperlink{group__lavu__misc_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a}{AVMEDIA\_TYPE\_AUDIO}},}
\DoxyCodeLine{    .id             = \mbox{\hyperlink{group__lavc__core_ggaadca229ad2c20e060a14fec08a5cc7cea2632ab8921d2b14854f58fb2e089702a}{AV\_CODEC\_ID\_VMDAUDIO}},}
\DoxyCodeLine{    .priv\_data\_size = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{vmdaudio_8c_a06883432c3358828d6cff5b4d3c867db}{VmdAudioContext}}),}
\DoxyCodeLine{    .\mbox{\hyperlink{avrndec_8c_a41c0c9c8aa8e1fd12d65b18dd6948b09}{init}}           = \mbox{\hyperlink{vmdaudio_8c_a63610a6e45a12cff0253736d81226eda}{vmdaudio\_decode\_init}},}
\DoxyCodeLine{    .\mbox{\hyperlink{decode__audio_8c_a1704ae53d7f426e1b67341785b5b2b58}{decode}}         = \mbox{\hyperlink{vmdaudio_8c_addfe44837559d708e8dc1c15fcc44c87}{vmdaudio\_decode\_frame}},}
\DoxyCodeLine{    .capabilities   = \mbox{\hyperlink{group__lavc__core_ga5f35425595395c76cfa406c883f78aed}{AV\_CODEC\_CAP\_DR1}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 231 of file vmdaudio.\+c.

\mbox{\Hypertarget{vmdaudio_8c_a113bad37815c33b91d870857e885ab07}\label{vmdaudio_8c_a113bad37815c33b91d870857e885ab07}} 
\index{vmdaudio.c@{vmdaudio.c}!vmdaudio\_table@{vmdaudio\_table}}
\index{vmdaudio\_table@{vmdaudio\_table}!vmdaudio.c@{vmdaudio.c}}
\doxysubsubsection{\texorpdfstring{vmdaudio\_table}{vmdaudio\_table}}
{\footnotesize\ttfamily const uint16\+\_\+t vmdaudio\+\_\+table\mbox{[}128\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    0x000, 0x008, 0x010, 0x020, 0x030, 0x040, 0x050, 0x060, 0x070, 0x080,}
\DoxyCodeLine{    0x090, 0x0A0, 0x0B0, 0x0C0, 0x0D0, 0x0E0, 0x0F0, 0x100, 0x110, 0x120,}
\DoxyCodeLine{    0x130, 0x140, 0x150, 0x160, 0x170, 0x180, 0x190, 0x1A0, 0x1B0, 0x1C0,}
\DoxyCodeLine{    0x1D0, 0x1E0, 0x1F0, 0x200, 0x208, 0x210, 0x218, 0x220, 0x228, 0x230,}
\DoxyCodeLine{    0x238, 0x240, 0x248, 0x250, 0x258, 0x260, 0x268, 0x270, 0x278, 0x280,}
\DoxyCodeLine{    0x288, 0x290, 0x298, 0x2A0, 0x2A8, 0x2B0, 0x2B8, 0x2C0, 0x2C8, 0x2D0,}
\DoxyCodeLine{    0x2D8, 0x2E0, 0x2E8, 0x2F0, 0x2F8, 0x300, 0x308, 0x310, 0x318, 0x320,}
\DoxyCodeLine{    0x328, 0x330, 0x338, 0x340, 0x348, 0x350, 0x358, 0x360, 0x368, 0x370,}
\DoxyCodeLine{    0x378, 0x380, 0x388, 0x390, 0x398, 0x3A0, 0x3A8, 0x3B0, 0x3B8, 0x3C0,}
\DoxyCodeLine{    0x3C8, 0x3D0, 0x3D8, 0x3E0, 0x3E8, 0x3F0, 0x3F8, 0x400, 0x440, 0x480,}
\DoxyCodeLine{    0x4C0, 0x500, 0x540, 0x580, 0x5C0, 0x600, 0x640, 0x680, 0x6C0, 0x700,}
\DoxyCodeLine{    0x740, 0x780, 0x7C0, 0x800, 0x900, 0xA00, 0xB00, 0xC00, 0xD00, 0xE00,}
\DoxyCodeLine{    0xF00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x3000, 0x4000}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 55 of file vmdaudio.\+c.

