\hypertarget{celp__filters_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/celp\+\_\+filters.c File Reference}
\label{celp__filters_8c}\index{E:/github/ffmpeg/libavcodec/celp\_filters.c@{E:/github/ffmpeg/libavcodec/celp\_filters.c}}
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}celp\+\_\+filters.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/avassert.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/common.\+h\char`\"{}}\newline
Include dependency graph for celp\+\_\+filters.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{celp__filters_8c_a23f5525e06d191e593c1a9160d29e060}{ff\+\_\+celp\+\_\+convolve\+\_\+circ}} (int16\+\_\+t $\ast$fc\+\_\+out, const int16\+\_\+t $\ast$fc\+\_\+in, const int16\+\_\+t $\ast$\mbox{\hyperlink{vf__yadif__cuda_8c_a294d40c1ad5452fd8f8a6571e854e061}{filter}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{celp__filters_8c_a7b398ff49015b42adf109e6c82015f5a}{ff\+\_\+celp\+\_\+circ\+\_\+addf}} (float $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, const float $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, const float $\ast$lagged, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} lag, float fac, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} n)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{celp__filters_8c_a5d2f3a136327fe2c9d0e549797886c91}{ff\+\_\+celp\+\_\+lp\+\_\+synthesis\+\_\+filter}} (int16\+\_\+t $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, const int16\+\_\+t $\ast$filter\+\_\+coeffs, const int16\+\_\+t $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} buffer\+\_\+length, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} filter\+\_\+length, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} stop\+\_\+on\+\_\+overflow, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2swresample_8c_a78dd9f7c9440136f1bd89fab33ad2fb2}{shift}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} rounder)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{celp__filters_8c_a4b1d7631dad08f69e5047c8e8a7f0ef2}{ff\+\_\+celp\+\_\+lp\+\_\+synthesis\+\_\+filterf}} (float $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, const float $\ast$filter\+\_\+coeffs, const float $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} buffer\+\_\+length, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} filter\+\_\+length)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{celp__filters_8c_adb73ab3ce9b95632b89b2c80e45eb190}{ff\+\_\+celp\+\_\+lp\+\_\+zero\+\_\+synthesis\+\_\+filterf}} (float $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, const float $\ast$filter\+\_\+coeffs, const float $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} buffer\+\_\+length, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} filter\+\_\+length)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{celp__filters_8c_a7ecb4e6b6db5ab58029e77736065a249}{ff\+\_\+celp\+\_\+filter\+\_\+init}} (\mbox{\hyperlink{struct_c_e_l_p_f_context}{C\+E\+L\+P\+F\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}})
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{celp__filters_8c_a7b398ff49015b42adf109e6c82015f5a}\label{celp__filters_8c_a7b398ff49015b42adf109e6c82015f5a}} 
\index{celp\_filters.c@{celp\_filters.c}!ff\_celp\_circ\_addf@{ff\_celp\_circ\_addf}}
\index{ff\_celp\_circ\_addf@{ff\_celp\_circ\_addf}!celp\_filters.c@{celp\_filters.c}}
\doxysubsubsection{\texorpdfstring{ff\_celp\_circ\_addf()}{ff\_celp\_circ\_addf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+celp\+\_\+circ\+\_\+addf (\begin{DoxyParamCaption}\item[{float $\ast$}]{out,  }\item[{const float $\ast$}]{in,  }\item[{const float $\ast$}]{lagged,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{lag,  }\item[{float}]{fac,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{n }\end{DoxyParamCaption})}

Add an array to a rotated array.

out\mbox{[}k\mbox{]} = in\mbox{[}k\mbox{]} + fac $\ast$ lagged\mbox{[}k-\/lag\mbox{]} with wrap-\/around


\begin{DoxyParams}{Parameters}
{\em out} & result vector \\
\hline
{\em in} & samples to be added unfiltered \\
\hline
{\em lagged} & samples to be rotated, multiplied and added \\
\hline
{\em lag} & lagged vector delay in the range \mbox{[}0, n\mbox{]} \\
\hline
{\em fac} & scalefactor for lagged samples \\
\hline
{\em n} & number of samples \\
\hline
\end{DoxyParams}


Definition at line 50 of file celp\+\_\+filters.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c_a7b398ff49015b42adf109e6c82015f5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{celp__filters_8c_a23f5525e06d191e593c1a9160d29e060}\label{celp__filters_8c_a23f5525e06d191e593c1a9160d29e060}} 
\index{celp\_filters.c@{celp\_filters.c}!ff\_celp\_convolve\_circ@{ff\_celp\_convolve\_circ}}
\index{ff\_celp\_convolve\_circ@{ff\_celp\_convolve\_circ}!celp\_filters.c@{celp\_filters.c}}
\doxysubsubsection{\texorpdfstring{ff\_celp\_convolve\_circ()}{ff\_celp\_convolve\_circ()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+celp\+\_\+convolve\+\_\+circ (\begin{DoxyParamCaption}\item[{int16\+\_\+t $\ast$}]{fc\+\_\+out,  }\item[{const int16\+\_\+t $\ast$}]{fc\+\_\+in,  }\item[{const int16\+\_\+t $\ast$}]{filter,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{len }\end{DoxyParamCaption})}

Circularly convolve fixed vector with a phase dispersion impulse response filter (D.\+6.\+2 of G.\+729 and 6.\+1.\+5 of A\+MR). 
\begin{DoxyParams}{Parameters}
{\em fc\+\_\+out} & vector with filter applied \\
\hline
{\em fc\+\_\+in} & source vector \\
\hline
{\em filter} & phase filter coefficients\\
\hline
\end{DoxyParams}
fc\+\_\+out\mbox{[}n\mbox{]} = sum(i,0,len-\/1)\{ fc\+\_\+in\mbox{[}i\mbox{]} $\ast$ filter\mbox{[}(len + n -\/ i)len\mbox{]} \}

\begin{DoxyNote}{Note}
fc\+\_\+in and fc\+\_\+out should not overlap! 
\end{DoxyNote}


Definition at line 30 of file celp\+\_\+filters.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c_a23f5525e06d191e593c1a9160d29e060_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{celp__filters_8c_a7ecb4e6b6db5ab58029e77736065a249}\label{celp__filters_8c_a7ecb4e6b6db5ab58029e77736065a249}} 
\index{celp\_filters.c@{celp\_filters.c}!ff\_celp\_filter\_init@{ff\_celp\_filter\_init}}
\index{ff\_celp\_filter\_init@{ff\_celp\_filter\_init}!celp\_filters.c@{celp\_filters.c}}
\doxysubsubsection{\texorpdfstring{ff\_celp\_filter\_init()}{ff\_celp\_filter\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+celp\+\_\+filter\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_c_e_l_p_f_context}{C\+E\+L\+P\+F\+Context}} $\ast$}]{c }\end{DoxyParamCaption})}

Initialize \mbox{\hyperlink{struct_c_e_l_p_f_context}{C\+E\+L\+P\+F\+Context}}. 

Definition at line 212 of file celp\+\_\+filters.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c_a7ecb4e6b6db5ab58029e77736065a249_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c_a7ecb4e6b6db5ab58029e77736065a249_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{celp__filters_8c_a5d2f3a136327fe2c9d0e549797886c91}\label{celp__filters_8c_a5d2f3a136327fe2c9d0e549797886c91}} 
\index{celp\_filters.c@{celp\_filters.c}!ff\_celp\_lp\_synthesis\_filter@{ff\_celp\_lp\_synthesis\_filter}}
\index{ff\_celp\_lp\_synthesis\_filter@{ff\_celp\_lp\_synthesis\_filter}!celp\_filters.c@{celp\_filters.c}}
\doxysubsubsection{\texorpdfstring{ff\_celp\_lp\_synthesis\_filter()}{ff\_celp\_lp\_synthesis\_filter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+celp\+\_\+lp\+\_\+synthesis\+\_\+filter (\begin{DoxyParamCaption}\item[{int16\+\_\+t $\ast$}]{out,  }\item[{const int16\+\_\+t $\ast$}]{filter\+\_\+coeffs,  }\item[{const int16\+\_\+t $\ast$}]{in,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{buffer\+\_\+length,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{filter\+\_\+length,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{stop\+\_\+on\+\_\+overflow,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{shift,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{rounder }\end{DoxyParamCaption})}

LP synthesis filter. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & pointer to output buffer \\
\hline
 & {\em filter\+\_\+coeffs} & filter coefficients (-\/0x8000 $<$= (3.\+12) $<$ 0x8000) \\
\hline
 & {\em in} & input signal \\
\hline
 & {\em buffer\+\_\+length} & amount of data to process \\
\hline
 & {\em filter\+\_\+length} & filter length (10 for 10th order LP filter) \\
\hline
 & {\em stop\+\_\+on\+\_\+overflow} & 1 -\/ return immediately if overflow occurs 0 -\/ ignore overflows \\
\hline
 & {\em shift} & the result is shifted right by this value \\
\hline
 & {\em rounder} & the amount to add for rounding (usually 0x800 or 0xfff)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if overflow occurred, 0 -\/ otherwise
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Output buffer must contain filter\+\_\+length samples of past speech data before pointer.
\end{DoxyNote}
Routine applies 1/A(z) filter to given speech data. 

Definition at line 60 of file celp\+\_\+filters.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=255pt]{celp__filters_8c_a5d2f3a136327fe2c9d0e549797886c91_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c_a5d2f3a136327fe2c9d0e549797886c91_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{celp__filters_8c_a4b1d7631dad08f69e5047c8e8a7f0ef2}\label{celp__filters_8c_a4b1d7631dad08f69e5047c8e8a7f0ef2}} 
\index{celp\_filters.c@{celp\_filters.c}!ff\_celp\_lp\_synthesis\_filterf@{ff\_celp\_lp\_synthesis\_filterf}}
\index{ff\_celp\_lp\_synthesis\_filterf@{ff\_celp\_lp\_synthesis\_filterf}!celp\_filters.c@{celp\_filters.c}}
\doxysubsubsection{\texorpdfstring{ff\_celp\_lp\_synthesis\_filterf()}{ff\_celp\_lp\_synthesis\_filterf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+celp\+\_\+lp\+\_\+synthesis\+\_\+filterf (\begin{DoxyParamCaption}\item[{float $\ast$}]{out,  }\item[{const float $\ast$}]{filter\+\_\+coeffs,  }\item[{const float $\ast$}]{in,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{buffer\+\_\+length,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{filter\+\_\+length }\end{DoxyParamCaption})}

LP synthesis filter. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & pointer to output buffer
\begin{DoxyItemize}
\item the array out\mbox{[}-\/filter\+\_\+length, -\/1\mbox{]} must contain the previous result of this filter 
\end{DoxyItemize}\\
\hline
 & {\em filter\+\_\+coeffs} & filter coefficients. \\
\hline
 & {\em in} & input signal \\
\hline
 & {\em buffer\+\_\+length} & amount of data to process \\
\hline
 & {\em filter\+\_\+length} & filter length (10 for 10th order LP filter). Must be greater than 4 and even.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Output buffer must contain filter\+\_\+length samples of past speech data before pointer.
\end{DoxyNote}
Routine applies 1/A(z) filter to given speech data. 

Definition at line 84 of file celp\+\_\+filters.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=249pt]{celp__filters_8c_a4b1d7631dad08f69e5047c8e8a7f0ef2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c_a4b1d7631dad08f69e5047c8e8a7f0ef2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{celp__filters_8c_adb73ab3ce9b95632b89b2c80e45eb190}\label{celp__filters_8c_adb73ab3ce9b95632b89b2c80e45eb190}} 
\index{celp\_filters.c@{celp\_filters.c}!ff\_celp\_lp\_zero\_synthesis\_filterf@{ff\_celp\_lp\_zero\_synthesis\_filterf}}
\index{ff\_celp\_lp\_zero\_synthesis\_filterf@{ff\_celp\_lp\_zero\_synthesis\_filterf}!celp\_filters.c@{celp\_filters.c}}
\doxysubsubsection{\texorpdfstring{ff\_celp\_lp\_zero\_synthesis\_filterf()}{ff\_celp\_lp\_zero\_synthesis\_filterf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+celp\+\_\+lp\+\_\+zero\+\_\+synthesis\+\_\+filterf (\begin{DoxyParamCaption}\item[{float $\ast$}]{out,  }\item[{const float $\ast$}]{filter\+\_\+coeffs,  }\item[{const float $\ast$}]{in,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{buffer\+\_\+length,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{filter\+\_\+length }\end{DoxyParamCaption})}

LP zero synthesis filter. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em out} & pointer to output buffer \\
\hline
 & {\em filter\+\_\+coeffs} & filter coefficients. \\
\hline
 & {\em in} & input signal
\begin{DoxyItemize}
\item the array in\mbox{[}-\/filter\+\_\+length, -\/1\mbox{]} must contain the previous input of this filter 
\end{DoxyItemize}\\
\hline
 & {\em buffer\+\_\+length} & amount of data to process \\
\hline
 & {\em filter\+\_\+length} & filter length (10 for 10th order LP filter)\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Output buffer must contain filter\+\_\+length samples of past speech data before pointer.
\end{DoxyNote}
Routine applies \mbox{\hyperlink{vapoursynth_8c_a955f504eccf76b4eb2489c0adab03121}{A(z)}} filter to given speech data. 

Definition at line 199 of file celp\+\_\+filters.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{celp__filters_8c_adb73ab3ce9b95632b89b2c80e45eb190_icgraph}
\end{center}
\end{figure}
