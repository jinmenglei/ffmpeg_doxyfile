\hypertarget{aacsbr_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/aacsbr.c File Reference}
\label{aacsbr_8c}\index{E:/github/ffmpeg/libavcodec/aacsbr.c@{E:/github/ffmpeg/libavcodec/aacsbr.c}}
{\ttfamily \#include \char`\"{}aac.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sbr.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacsbr.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacsbrdata.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacsbr\+\_\+tablegen.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fft.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacps.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sbrdsp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/libm.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/avassert.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$float.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}aacsbr\+\_\+template.\+c\char`\"{}}\newline
Include dependency graph for aacsbr.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacsbr_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{aacsbr_8c_a8db5922805d69041cb38ada12fc9c350}{U\+S\+E\+\_\+\+F\+I\+X\+ED}}~0
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacsbr_8c_a7f703d7f38c09f36112281815fd8f068}{aacsbr\+\_\+func\+\_\+ptr\+\_\+init}} (\mbox{\hyperlink{struct_a_a_c_s_b_r_context}{A\+A\+C\+S\+B\+R\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}})
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacsbr_8c_ad2578d382a8381559f2ff2a90c1a8257}{make\+\_\+bands}} (int16\+\_\+t $\ast$\mbox{\hyperlink{af__superequalizer_8c_ab4edab3980d056fc2e3acc475b444d11}{bands}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} start, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} stop, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} num\+\_\+bands)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacsbr_8c_ad405ec4e1b1ae14955a2f85d66c8d133}{sbr\+\_\+dequant}} (\mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$sbr, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} id\+\_\+aac)
\begin{DoxyCompactList}\small\item\em Dequantization and stereo decoding (14496-\/3 sp04 p203) \end{DoxyCompactList}\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacsbr_8c_a91577ad7e0b035c5d2d5b19e953baad9}{sbr\+\_\+hf\+\_\+inverse\+\_\+filter}} (\mbox{\hyperlink{struct_s_b_r_d_s_p_context}{S\+B\+R\+D\+S\+P\+Context}} $\ast$dsp, float($\ast$alpha0)\mbox{[}2\mbox{]}, float($\ast$alpha1)\mbox{[}2\mbox{]}, const float X\+\_\+low\mbox{[}32\mbox{]}\mbox{[}40\mbox{]}\mbox{[}2\mbox{]}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} k0)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacsbr_8c_ae0f46f3ef4cc9e476de59ffa22a66ab7}{sbr\+\_\+chirp}} (\mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$sbr, \mbox{\hyperlink{struct_s_b_r_data}{S\+B\+R\+Data}} $\ast$ch\+\_\+data)
\begin{DoxyCompactList}\small\item\em Chirp Factors (14496-\/3 sp04 p214) \end{DoxyCompactList}\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacsbr_8c_a4faf74f7de873b2a55deea55d3f63459}{sbr\+\_\+gain\+\_\+calc}} (\mbox{\hyperlink{struct_a_a_c_context}{A\+A\+C\+Context}} $\ast$ac, \mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$sbr, \mbox{\hyperlink{struct_s_b_r_data}{S\+B\+R\+Data}} $\ast$ch\+\_\+data, const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} e\+\_\+a\mbox{[}2\mbox{]})
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacsbr_8c_a64f4b3a391defc778254f26996e50cbd}{sbr\+\_\+hf\+\_\+assemble}} (float Y1\mbox{[}38\mbox{]}\mbox{[}64\mbox{]}\mbox{[}2\mbox{]}, const float X\+\_\+high\mbox{[}64\mbox{]}\mbox{[}40\mbox{]}\mbox{[}2\mbox{]}, \mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$sbr, \mbox{\hyperlink{struct_s_b_r_data}{S\+B\+R\+Data}} $\ast$ch\+\_\+data, const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} e\+\_\+a\mbox{[}2\mbox{]})
\begin{DoxyCompactList}\small\item\em Assembling HF Signals (14496-\/3 sp04 p220) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{struct_v_l_c}{V\+LC}} \mbox{\hyperlink{aacsbr_8c_ab392c5b29436c62c5e07e9acff93ddee}{vlc\+\_\+sbr}} \mbox{[}10\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A\+AC Spectral \mbox{\hyperlink{struct_band}{Band}} Replication decoding functions \begin{DoxyAuthor}{Author}
Robert Swain ( rob opendot cl ) 
\end{DoxyAuthor}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{aacsbr_8c_a8db5922805d69041cb38ada12fc9c350}\label{aacsbr_8c_a8db5922805d69041cb38ada12fc9c350}} 
\index{aacsbr.c@{aacsbr.c}!USE\_FIXED@{USE\_FIXED}}
\index{USE\_FIXED@{USE\_FIXED}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{USE\_FIXED}{USE\_FIXED}}
{\footnotesize\ttfamily \#define U\+S\+E\+\_\+\+F\+I\+X\+ED~0}



Definition at line 28 of file aacsbr.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{aacsbr_8c_a7f703d7f38c09f36112281815fd8f068}\label{aacsbr_8c_a7f703d7f38c09f36112281815fd8f068}} 
\index{aacsbr.c@{aacsbr.c}!aacsbr\_func\_ptr\_init@{aacsbr\_func\_ptr\_init}}
\index{aacsbr\_func\_ptr\_init@{aacsbr\_func\_ptr\_init}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{aacsbr\_func\_ptr\_init()}{aacsbr\_func\_ptr\_init()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} aacsbr\+\_\+func\+\_\+ptr\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_a_c_s_b_r_context}{A\+A\+C\+S\+B\+R\+Context}} $\ast$}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aacsbr_8c_ad2578d382a8381559f2ff2a90c1a8257}\label{aacsbr_8c_ad2578d382a8381559f2ff2a90c1a8257}} 
\index{aacsbr.c@{aacsbr.c}!make\_bands@{make\_bands}}
\index{make\_bands@{make\_bands}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{make\_bands()}{make\_bands()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} make\+\_\+bands (\begin{DoxyParamCaption}\item[{int16\+\_\+t $\ast$}]{bands,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{start,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{stop,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{num\+\_\+bands }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 54 of file aacsbr.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacsbr_8c_ad2578d382a8381559f2ff2a90c1a8257_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacsbr_8c_ae0f46f3ef4cc9e476de59ffa22a66ab7}\label{aacsbr_8c_ae0f46f3ef4cc9e476de59ffa22a66ab7}} 
\index{aacsbr.c@{aacsbr.c}!sbr\_chirp@{sbr\_chirp}}
\index{sbr\_chirp@{sbr\_chirp}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{sbr\_chirp()}{sbr\_chirp()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} sbr\+\_\+chirp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$}]{sbr,  }\item[{\mbox{\hyperlink{struct_s_b_r_data}{S\+B\+R\+Data}} $\ast$}]{ch\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Chirp Factors (14496-\/3 sp04 p214) 



Definition at line 195 of file aacsbr.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacsbr_8c_ae0f46f3ef4cc9e476de59ffa22a66ab7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacsbr_8c_ad405ec4e1b1ae14955a2f85d66c8d133}\label{aacsbr_8c_ad405ec4e1b1ae14955a2f85d66c8d133}} 
\index{aacsbr.c@{aacsbr.c}!sbr\_dequant@{sbr\_dequant}}
\index{sbr\_dequant@{sbr\_dequant}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{sbr\_dequant()}{sbr\_dequant()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} sbr\+\_\+dequant (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$}]{sbr,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{id\+\_\+aac }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Dequantization and stereo decoding (14496-\/3 sp04 p203) 



Definition at line 73 of file aacsbr.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{aacsbr_8c_ad405ec4e1b1ae14955a2f85d66c8d133_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacsbr_8c_ad405ec4e1b1ae14955a2f85d66c8d133_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacsbr_8c_a4faf74f7de873b2a55deea55d3f63459}\label{aacsbr_8c_a4faf74f7de873b2a55deea55d3f63459}} 
\index{aacsbr.c@{aacsbr.c}!sbr\_gain\_calc@{sbr\_gain\_calc}}
\index{sbr\_gain\_calc@{sbr\_gain\_calc}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{sbr\_gain\_calc()}{sbr\_gain\_calc()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} sbr\+\_\+gain\+\_\+calc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_a_c_context}{A\+A\+C\+Context}} $\ast$}]{ac,  }\item[{\mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$}]{sbr,  }\item[{\mbox{\hyperlink{struct_s_b_r_data}{S\+B\+R\+Data}} $\ast$}]{ch\+\_\+data,  }\item[{const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{e\+\_\+a\mbox{[}2\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Calculation of levels of additional HF signal components (14496-\/3 sp04 p219) and Calculation of gain (14496-\/3 sp04 p219) 

Definition at line 219 of file aacsbr.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacsbr_8c_a4faf74f7de873b2a55deea55d3f63459_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacsbr_8c_a64f4b3a391defc778254f26996e50cbd}\label{aacsbr_8c_a64f4b3a391defc778254f26996e50cbd}} 
\index{aacsbr.c@{aacsbr.c}!sbr\_hf\_assemble@{sbr\_hf\_assemble}}
\index{sbr\_hf\_assemble@{sbr\_hf\_assemble}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{sbr\_hf\_assemble()}{sbr\_hf\_assemble()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} sbr\+\_\+hf\+\_\+assemble (\begin{DoxyParamCaption}\item[{float}]{Y1\mbox{[}38\mbox{]}\mbox{[}64\mbox{]}\mbox{[}2\mbox{]},  }\item[{const float}]{X\+\_\+high\mbox{[}64\mbox{]}\mbox{[}40\mbox{]}\mbox{[}2\mbox{]},  }\item[{\mbox{\hyperlink{struct_spectral_band_replication}{Spectral\+Band\+Replication}} $\ast$}]{sbr,  }\item[{\mbox{\hyperlink{struct_s_b_r_data}{S\+B\+R\+Data}} $\ast$}]{ch\+\_\+data,  }\item[{const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{e\+\_\+a\mbox{[}2\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Assembling HF Signals (14496-\/3 sp04 p220) 



Definition at line 276 of file aacsbr.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacsbr_8c_a64f4b3a391defc778254f26996e50cbd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacsbr_8c_a91577ad7e0b035c5d2d5b19e953baad9}\label{aacsbr_8c_a91577ad7e0b035c5d2d5b19e953baad9}} 
\index{aacsbr.c@{aacsbr.c}!sbr\_hf\_inverse\_filter@{sbr\_hf\_inverse\_filter}}
\index{sbr\_hf\_inverse\_filter@{sbr\_hf\_inverse\_filter}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{sbr\_hf\_inverse\_filter()}{sbr\_hf\_inverse\_filter()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} sbr\+\_\+hf\+\_\+inverse\+\_\+filter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_s_b_r_d_s_p_context}{S\+B\+R\+D\+S\+P\+Context}} $\ast$}]{dsp,  }\item[{float($\ast$)}]{alpha0\mbox{[}2\mbox{]},  }\item[{float($\ast$)}]{alpha1\mbox{[}2\mbox{]},  }\item[{const float}]{X\+\_\+low\mbox{[}32\mbox{]}\mbox{[}40\mbox{]}\mbox{[}2\mbox{]},  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{k0 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

High Frequency Generation (14496-\/3 sp04 p214+) and Inverse Filtering (14496-\/3 sp04 p214) Warning\+: This routine does not seem numerically stable. 

Definition at line 140 of file aacsbr.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacsbr_8c_a91577ad7e0b035c5d2d5b19e953baad9_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{aacsbr_8c_ab392c5b29436c62c5e07e9acff93ddee}\label{aacsbr_8c_ab392c5b29436c62c5e07e9acff93ddee}} 
\index{aacsbr.c@{aacsbr.c}!vlc\_sbr@{vlc\_sbr}}
\index{vlc\_sbr@{vlc\_sbr}!aacsbr.c@{aacsbr.c}}
\doxysubsubsection{\texorpdfstring{vlc\_sbr}{vlc\_sbr}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_v_l_c}{V\+LC}} vlc\+\_\+sbr\mbox{[}10\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 51 of file aacsbr.\+c.

