\hypertarget{qtrleenc_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/qtrleenc.c File Reference}
\label{qtrleenc_8c}\index{E:/github/ffmpeg/libavcodec/qtrleenc.c@{E:/github/ffmpeg/libavcodec/qtrleenc.c}}
{\ttfamily \#include \char`\"{}libavutil/imgutils.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}bytestream.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
Include dependency graph for qtrleenc.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{qtrleenc_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{qtrleenc_8c_a71c1b7172e13cff46fa0a3811c031f52}{M\+A\+X\+\_\+\+R\+L\+E\+\_\+\+B\+U\+LK}}~127
\item 
\#define \mbox{\hyperlink{qtrleenc_8c_a365f1b1896058bd6d0185b86f0f0aa38}{M\+A\+X\+\_\+\+R\+L\+E\+\_\+\+R\+E\+P\+E\+AT}}~128
\item 
\#define \mbox{\hyperlink{qtrleenc_8c_a70f0630366edba4128879d76185d0e16}{M\+A\+X\+\_\+\+R\+L\+E\+\_\+\+S\+K\+IP}}~254
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}} \mbox{\hyperlink{qtrleenc_8c_a0dab6677d26677848cef889eab1a64b8}{Qtrle\+Enc\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{qtrleenc_8c_a01ecf82b81ac7348995b1f615a4d3c15}{qtrle\+\_\+encode\+\_\+end}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{qtrleenc_8c_a0f7c0120a852abb47d366aa9e0b21720}{qtrle\+\_\+encode\+\_\+init}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{qtrleenc_8c_a4508d3bfc8eb5305fe6be3ee062e37ee}{qtrle\+\_\+encode\+\_\+line}} (\mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$p, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{structline}{line}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$buf)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{qtrleenc_8c_ac05b395857a0d7067d4105b21adebaa8}{encode\+\_\+frame}} (\mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$p, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{qtrleenc_8c_a6bc2478f15afb61af4ab3ce4deab4793}{qtrle\+\_\+encode\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$\mbox{\hyperlink{demuxing__decoding_8c_a3d4c6562f0b27cf0cacbbea5c038c090}{pkt}}, const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$pict, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$got\+\_\+packet)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} \mbox{\hyperlink{qtrleenc_8c_a48546ba2f24a0336f2fad94ed1cb3a89}{ff\+\_\+qtrle\+\_\+encoder}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{qtrleenc_8c_a71c1b7172e13cff46fa0a3811c031f52}\label{qtrleenc_8c_a71c1b7172e13cff46fa0a3811c031f52}} 
\index{qtrleenc.c@{qtrleenc.c}!MAX\_RLE\_BULK@{MAX\_RLE\_BULK}}
\index{MAX\_RLE\_BULK@{MAX\_RLE\_BULK}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{MAX\_RLE\_BULK}{MAX\_RLE\_BULK}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+R\+L\+E\+\_\+\+B\+U\+LK~127}

Maximum R\+LE code for bulk copy 

Definition at line 31 of file qtrleenc.\+c.

\mbox{\Hypertarget{qtrleenc_8c_a365f1b1896058bd6d0185b86f0f0aa38}\label{qtrleenc_8c_a365f1b1896058bd6d0185b86f0f0aa38}} 
\index{qtrleenc.c@{qtrleenc.c}!MAX\_RLE\_REPEAT@{MAX\_RLE\_REPEAT}}
\index{MAX\_RLE\_REPEAT@{MAX\_RLE\_REPEAT}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{MAX\_RLE\_REPEAT}{MAX\_RLE\_REPEAT}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+R\+L\+E\+\_\+\+R\+E\+P\+E\+AT~128}

Maximum R\+LE code for repeat 

Definition at line 33 of file qtrleenc.\+c.

\mbox{\Hypertarget{qtrleenc_8c_a70f0630366edba4128879d76185d0e16}\label{qtrleenc_8c_a70f0630366edba4128879d76185d0e16}} 
\index{qtrleenc.c@{qtrleenc.c}!MAX\_RLE\_SKIP@{MAX\_RLE\_SKIP}}
\index{MAX\_RLE\_SKIP@{MAX\_RLE\_SKIP}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{MAX\_RLE\_SKIP}{MAX\_RLE\_SKIP}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+R\+L\+E\+\_\+\+S\+K\+IP~254}

Maximum R\+LE code for skip 

Definition at line 35 of file qtrleenc.\+c.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{qtrleenc_8c_a0dab6677d26677848cef889eab1a64b8}\label{qtrleenc_8c_a0dab6677d26677848cef889eab1a64b8}} 
\index{qtrleenc.c@{qtrleenc.c}!QtrleEncContext@{QtrleEncContext}}
\index{QtrleEncContext@{QtrleEncContext}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{QtrleEncContext}{QtrleEncContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}} \mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{qtrleenc_8c_ac05b395857a0d7067d4105b21adebaa8}\label{qtrleenc_8c_ac05b395857a0d7067d4105b21adebaa8}} 
\index{qtrleenc.c@{qtrleenc.c}!encode\_frame@{encode\_frame}}
\index{encode\_frame@{encode\_frame}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{encode\_frame()}{encode\_frame()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} encode\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}} $\ast$}]{s,  }\item[{const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{p,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Encode frame including header 

Definition at line 322 of file qtrleenc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{qtrleenc_8c_ac05b395857a0d7067d4105b21adebaa8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{qtrleenc_8c_ac05b395857a0d7067d4105b21adebaa8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{qtrleenc_8c_a01ecf82b81ac7348995b1f615a4d3c15}\label{qtrleenc_8c_a01ecf82b81ac7348995b1f615a4d3c15}} 
\index{qtrleenc.c@{qtrleenc.c}!qtrle\_encode\_end@{qtrle\_encode\_end}}
\index{qtrle\_encode\_end@{qtrle\_encode\_end}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{qtrle\_encode\_end()}{qtrle\_encode\_end()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} qtrle\+\_\+encode\+\_\+end (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 66 of file qtrleenc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{qtrleenc_8c_a01ecf82b81ac7348995b1f615a4d3c15_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{qtrleenc_8c_a6bc2478f15afb61af4ab3ce4deab4793}\label{qtrleenc_8c_a6bc2478f15afb61af4ab3ce4deab4793}} 
\index{qtrleenc.c@{qtrleenc.c}!qtrle\_encode\_frame@{qtrle\_encode\_frame}}
\index{qtrle\_encode\_frame@{qtrle\_encode\_frame}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{qtrle\_encode\_frame()}{qtrle\_encode\_frame()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} qtrle\+\_\+encode\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{pkt,  }\item[{const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{pict,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{got\+\_\+packet }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 363 of file qtrleenc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{qtrleenc_8c_a6bc2478f15afb61af4ab3ce4deab4793_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{qtrleenc_8c_a0f7c0120a852abb47d366aa9e0b21720}\label{qtrleenc_8c_a0f7c0120a852abb47d366aa9e0b21720}} 
\index{qtrleenc.c@{qtrleenc.c}!qtrle\_encode\_init@{qtrle\_encode\_init}}
\index{qtrle\_encode\_init@{qtrle\_encode\_init}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{qtrle\_encode\_init()}{qtrle\_encode\_init()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} qtrle\+\_\+encode\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 77 of file qtrleenc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{qtrleenc_8c_a0f7c0120a852abb47d366aa9e0b21720_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{qtrleenc_8c_a4508d3bfc8eb5305fe6be3ee062e37ee}\label{qtrleenc_8c_a4508d3bfc8eb5305fe6be3ee062e37ee}} 
\index{qtrleenc.c@{qtrleenc.c}!qtrle\_encode\_line@{qtrle\_encode\_line}}
\index{qtrle\_encode\_line@{qtrle\_encode\_line}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{qtrle\_encode\_line()}{qtrle\_encode\_line()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} qtrle\+\_\+encode\+\_\+line (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_qtrle_enc_context}{Qtrle\+Enc\+Context}} $\ast$}]{s,  }\item[{const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{p,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{line,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$}]{buf }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Compute the best R\+LE sequence for a line 

Definition at line 135 of file qtrleenc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{qtrleenc_8c_a4508d3bfc8eb5305fe6be3ee062e37ee_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{qtrleenc_8c_a4508d3bfc8eb5305fe6be3ee062e37ee_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{qtrleenc_8c_a48546ba2f24a0336f2fad94ed1cb3a89}\label{qtrleenc_8c_a48546ba2f24a0336f2fad94ed1cb3a89}} 
\index{qtrleenc.c@{qtrleenc.c}!ff\_qtrle\_encoder@{ff\_qtrle\_encoder}}
\index{ff\_qtrle\_encoder@{ff\_qtrle\_encoder}!qtrleenc.c@{qtrleenc.c}}
\doxysubsubsection{\texorpdfstring{ff\_qtrle\_encoder}{ff\_qtrle\_encoder}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} ff\+\_\+qtrle\+\_\+encoder}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .name           = \textcolor{stringliteral}{"{}qtrle"{}},}
\DoxyCodeLine{    .long\_name      = \mbox{\hyperlink{libavutil_2internal_8h_a3c0fa12fafe59c44d4b16e60d8385637}{NULL\_IF\_CONFIG\_SMALL}}(\textcolor{stringliteral}{"{}QuickTime Animation (RLE) video"{}}),}
\DoxyCodeLine{    .type           = \mbox{\hyperlink{group__lavu__misc_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5}{AVMEDIA\_TYPE\_VIDEO}},}
\DoxyCodeLine{    .id             = \mbox{\hyperlink{group__lavc__core_ggaadca229ad2c20e060a14fec08a5cc7cea2372807239c429f6313bc79d33bab472}{AV\_CODEC\_ID\_QTRLE}},}
\DoxyCodeLine{    .priv\_data\_size = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{qtrleenc_8c_a0dab6677d26677848cef889eab1a64b8}{QtrleEncContext}}),}
\DoxyCodeLine{    .\mbox{\hyperlink{avrndec_8c_a41c0c9c8aa8e1fd12d65b18dd6948b09}{init}}           = \mbox{\hyperlink{qtrleenc_8c_a0f7c0120a852abb47d366aa9e0b21720}{qtrle\_encode\_init}},}
\DoxyCodeLine{    .encode2        = \mbox{\hyperlink{qtrleenc_8c_a6bc2478f15afb61af4ab3ce4deab4793}{qtrle\_encode\_frame}},}
\DoxyCodeLine{    .close          = \mbox{\hyperlink{qtrleenc_8c_a01ecf82b81ac7348995b1f615a4d3c15}{qtrle\_encode\_end}},}
\DoxyCodeLine{    .\mbox{\hyperlink{libkvazaar_8c_aa1219ee396a270ba57fd4f2306b64c6e}{pix\_fmts}}       = (\textcolor{keyword}{const} \textcolor{keyword}{enum} \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{AVPixelFormat}}[])\{}
\DoxyCodeLine{        \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3}{AV\_PIX\_FMT\_RGB24}}, \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5a384d17b51059de36e3f4a303813e5d4b}{AV\_PIX\_FMT\_RGB555BE}}, \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5a375034d667a39133f8012069098a45ca}{AV\_PIX\_FMT\_ARGB}}, \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e}{AV\_PIX\_FMT\_GRAY8}}, \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3}{AV\_PIX\_FMT\_NONE}}}
\DoxyCodeLine{    \},}
\DoxyCodeLine{    .caps\_internal  = \mbox{\hyperlink{libavcodec_2internal_8h_ab4ca16b0fda02840383d0b6d08a44660}{FF\_CODEC\_CAP\_INIT\_CLEANUP}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 404 of file qtrleenc.\+c.

