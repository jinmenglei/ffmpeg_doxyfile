\hypertarget{rtmpcrypt_8c}{}\doxysection{E\+:/github/ffmpeg/libavformat/rtmpcrypt.c File Reference}
\label{rtmpcrypt_8c}\index{E:/github/ffmpeg/libavformat/rtmpcrypt.c@{E:/github/ffmpeg/libavformat/rtmpcrypt.c}}
{\ttfamily \#include \char`\"{}libavutil/blowfish.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/intreadwrite.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/opt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/rc4.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/xtea.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rtmp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rtmpdh.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rtmpcrypt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}url.\+h\char`\"{}}\newline
Include dependency graph for rtmpcrypt.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_r_t_m_p_e_context}{R\+T\+M\+P\+E\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{rtmpcrypt_8c_ad12dce0a7bf9d908b172a28155b3d261}{O\+F\+F\+S\+ET}}(x)~offsetof(\mbox{\hyperlink{struct_r_t_m_p_e_context}{R\+T\+M\+P\+E\+Context}}, x)
\item 
\#define \mbox{\hyperlink{rtmpcrypt_8c_afe38ec6126e35e40049e27fdf4586ba5}{D\+EC}}~\mbox{\hyperlink{opt_8h_aad820197915e73441f76f5e0c384d78a}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+D\+E\+C\+O\+D\+I\+N\+G\+\_\+\+P\+A\+R\+AM}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_r_t_m_p_e_context}{R\+T\+M\+P\+E\+Context}} \mbox{\hyperlink{rtmpcrypt_8c_ae2fbed22330238c602e24d3c2c19d936}{R\+T\+M\+P\+E\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtmpcrypt_8c_a4ee1c788bc61267e8d88f7d01d86d88f}{ff\+\_\+rtmpe\+\_\+gen\+\_\+pub\+\_\+key}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtmpcrypt_8c_a82bb969a48684d2a29ea9be9cfcb2cf7}{ff\+\_\+rtmpe\+\_\+compute\+\_\+secret\+\_\+key}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$serverdata, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$clientdata, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{hwdevice_8c_ae4165b400ecd5a84616b429f6516512b}{type}})
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{rtmpcrypt_8c_a40a758518b1de9bcda7053374ed8ef07}{rtmpe8\+\_\+sig}} (const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} key\+\_\+id)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{rtmpcrypt_8c_a3680208edafd2a7e5e2cc697db285342}{rtmpe9\+\_\+sig}} (const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} key\+\_\+id)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{rtmpcrypt_8c_a8ad7b714a892e603aa26821e7984bc5a}{ff\+\_\+rtmpe\+\_\+encrypt\+\_\+sig}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$sig, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$digest, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{hwdevice_8c_ae4165b400ecd5a84616b429f6516512b}{type}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtmpcrypt_8c_a993a3e6b465f182f3325454d9137dd95}{ff\+\_\+rtmpe\+\_\+update\+\_\+keystream}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtmpcrypt_8c_a47db4187e4d7f29402485da6f5b18917}{rtmpe\+\_\+close}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtmpcrypt_8c_ad5c640367978a184563a08bb0f122b71}{rtmpe\+\_\+open}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, const char $\ast$uri, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{log_8c_ac8bf36fe0577cba66bccda3a6f7e80a4}{flags}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtmpcrypt_8c_a82821814762bdea4441668f098cea065}{rtmpe\+\_\+read}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtmpcrypt_8c_aff5513fb9fc1a94cccc68ebfffdbeddb}{rtmpe\+\_\+write}} (\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} \mbox{\hyperlink{rtmpcrypt_8c_a614dbde60f0c3d00e076a583215346f0}{rtmpe8\+\_\+keys}} \mbox{[}16\mbox{]}\mbox{[}16\mbox{]}
\item 
static const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} \mbox{\hyperlink{rtmpcrypt_8c_ae2d778e852f45f4fac60a566e80c118c}{rtmpe9\+\_\+keys}} \mbox{[}16\mbox{]}\mbox{[}24\mbox{]}
\item 
static const \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} \mbox{\hyperlink{rtmpcrypt_8c_a568c26b7f8dd33704cfcb81fa757e3a4}{ffrtmpcrypt\+\_\+options}} \mbox{[}$\,$\mbox{]}
\item 
static const \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} \mbox{\hyperlink{rtmpcrypt_8c_adfe0adcbfbfbd02fdf6d67634d5a594c}{ffrtmpcrypt\+\_\+class}}
\item 
const \mbox{\hyperlink{struct_u_r_l_protocol}{U\+R\+L\+Protocol}} \mbox{\hyperlink{rtmpcrypt_8c_a9a28dd5c48674806e64c7d284c5ca505}{ff\+\_\+ffrtmpcrypt\+\_\+protocol}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
R\+T\+M\+PE protocol 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{rtmpcrypt_8c_afe38ec6126e35e40049e27fdf4586ba5}\label{rtmpcrypt_8c_afe38ec6126e35e40049e27fdf4586ba5}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!DEC@{DEC}}
\index{DEC@{DEC}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{DEC}{DEC}}
{\footnotesize\ttfamily \#define D\+EC~\mbox{\hyperlink{opt_8h_aad820197915e73441f76f5e0c384d78a}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+D\+E\+C\+O\+D\+I\+N\+G\+\_\+\+P\+A\+R\+AM}}}



Definition at line 314 of file rtmpcrypt.\+c.

\mbox{\Hypertarget{rtmpcrypt_8c_ad12dce0a7bf9d908b172a28155b3d261}\label{rtmpcrypt_8c_ad12dce0a7bf9d908b172a28155b3d261}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!OFFSET@{OFFSET}}
\index{OFFSET@{OFFSET}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{OFFSET}{OFFSET}}
{\footnotesize\ttfamily \#define O\+F\+F\+S\+ET(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~offsetof(\mbox{\hyperlink{struct_r_t_m_p_e_context}{R\+T\+M\+P\+E\+Context}}, x)}



Definition at line 313 of file rtmpcrypt.\+c.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{rtmpcrypt_8c_ae2fbed22330238c602e24d3c2c19d936}\label{rtmpcrypt_8c_ae2fbed22330238c602e24d3c2c19d936}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!RTMPEContext@{RTMPEContext}}
\index{RTMPEContext@{RTMPEContext}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{RTMPEContext}{RTMPEContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_r_t_m_p_e_context}{R\+T\+M\+P\+E\+Context}} \mbox{\hyperlink{struct_r_t_m_p_e_context}{R\+T\+M\+P\+E\+Context}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{rtmpcrypt_8c_a82bb969a48684d2a29ea9be9cfcb2cf7}\label{rtmpcrypt_8c_a82bb969a48684d2a29ea9be9cfcb2cf7}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!ff\_rtmpe\_compute\_secret\_key@{ff\_rtmpe\_compute\_secret\_key}}
\index{ff\_rtmpe\_compute\_secret\_key@{ff\_rtmpe\_compute\_secret\_key}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{ff\_rtmpe\_compute\_secret\_key()}{ff\_rtmpe\_compute\_secret\_key()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+rtmpe\+\_\+compute\+\_\+secret\+\_\+key (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{serverdata,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{clientdata,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{type }\end{DoxyParamCaption})}

Compute the shared secret key and initialize the R\+C4 encryption.


\begin{DoxyParams}{Parameters}
{\em h} & an \mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} \\
\hline
{\em serverdata} & server data (1536 bytes) \\
\hline
{\em clientdata} & client data (1536 bytes) \\
\hline
{\em type} & the position of the server digest \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero on success, negative value otherwise 
\end{DoxyReturn}


Definition at line 145 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a82bb969a48684d2a29ea9be9cfcb2cf7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a82bb969a48684d2a29ea9be9cfcb2cf7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_a8ad7b714a892e603aa26821e7984bc5a}\label{rtmpcrypt_8c_a8ad7b714a892e603aa26821e7984bc5a}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!ff\_rtmpe\_encrypt\_sig@{ff\_rtmpe\_encrypt\_sig}}
\index{ff\_rtmpe\_encrypt\_sig@{ff\_rtmpe\_encrypt\_sig}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{ff\_rtmpe\_encrypt\_sig()}{ff\_rtmpe\_encrypt\_sig()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+rtmpe\+\_\+encrypt\+\_\+sig (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{signature,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{digest,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{type }\end{DoxyParamCaption})}

Encrypt the signature.


\begin{DoxyParams}{Parameters}
{\em h} & an \mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} \\
\hline
{\em signature} & the signature to encrypt \\
\hline
{\em digest} & the digest used for finding the encryption key \\
\hline
{\em type} & type of encryption (8 for X\+T\+EA, 9 for Blowfish) \\
\hline
\end{DoxyParams}


Definition at line 207 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a8ad7b714a892e603aa26821e7984bc5a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a8ad7b714a892e603aa26821e7984bc5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_a4ee1c788bc61267e8d88f7d01d86d88f}\label{rtmpcrypt_8c_a4ee1c788bc61267e8d88f7d01d86d88f}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!ff\_rtmpe\_gen\_pub\_key@{ff\_rtmpe\_gen\_pub\_key}}
\index{ff\_rtmpe\_gen\_pub\_key@{ff\_rtmpe\_gen\_pub\_key}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{ff\_rtmpe\_gen\_pub\_key()}{ff\_rtmpe\_gen\_pub\_key()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+rtmpe\+\_\+gen\+\_\+pub\+\_\+key (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf }\end{DoxyParamCaption})}

Initialize the Diffie-\/\+Hellmann context and generate the public key.


\begin{DoxyParams}{Parameters}
{\em h} & an \mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} \\
\hline
{\em buf} & handshake data (1536 bytes) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero on success, negative value otherwise 
\end{DoxyReturn}


Definition at line 122 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a4ee1c788bc61267e8d88f7d01d86d88f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a4ee1c788bc61267e8d88f7d01d86d88f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_a993a3e6b465f182f3325454d9137dd95}\label{rtmpcrypt_8c_a993a3e6b465f182f3325454d9137dd95}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!ff\_rtmpe\_update\_keystream@{ff\_rtmpe\_update\_keystream}}
\index{ff\_rtmpe\_update\_keystream@{ff\_rtmpe\_update\_keystream}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{ff\_rtmpe\_update\_keystream()}{ff\_rtmpe\_update\_keystream()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+rtmpe\+\_\+update\+\_\+keystream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h }\end{DoxyParamCaption})}

Update the keystream and set R\+C4 keys for encryption.


\begin{DoxyParams}{Parameters}
{\em h} & an \mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero on success, negative value otherwise 
\end{DoxyReturn}


Definition at line 223 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{rtmpcrypt_8c_a993a3e6b465f182f3325454d9137dd95_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a993a3e6b465f182f3325454d9137dd95_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_a40a758518b1de9bcda7053374ed8ef07}\label{rtmpcrypt_8c_a40a758518b1de9bcda7053374ed8ef07}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe8\_sig@{rtmpe8\_sig}}
\index{rtmpe8\_sig@{rtmpe8\_sig}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe8\_sig()}{rtmpe8\_sig()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} rtmpe8\+\_\+sig (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{in,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{out,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{key\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 184 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a40a758518b1de9bcda7053374ed8ef07_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a40a758518b1de9bcda7053374ed8ef07_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_a3680208edafd2a7e5e2cc697db285342}\label{rtmpcrypt_8c_a3680208edafd2a7e5e2cc697db285342}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe9\_sig@{rtmpe9\_sig}}
\index{rtmpe9\_sig@{rtmpe9\_sig}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe9\_sig()}{rtmpe9\_sig()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} rtmpe9\+\_\+sig (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{in,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{out,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{key\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 192 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a3680208edafd2a7e5e2cc697db285342_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a3680208edafd2a7e5e2cc697db285342_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_a47db4187e4d7f29402485da6f5b18917}\label{rtmpcrypt_8c_a47db4187e4d7f29402485da6f5b18917}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe\_close@{rtmpe\_close}}
\index{rtmpe\_close@{rtmpe\_close}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe\_close()}{rtmpe\_close()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} rtmpe\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 238 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a47db4187e4d7f29402485da6f5b18917_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=254pt]{rtmpcrypt_8c_a47db4187e4d7f29402485da6f5b18917_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_ad5c640367978a184563a08bb0f122b71}\label{rtmpcrypt_8c_ad5c640367978a184563a08bb0f122b71}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe\_open@{rtmpe\_open}}
\index{rtmpe\_open@{rtmpe\_open}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe\_open()}{rtmpe\_open()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} rtmpe\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h,  }\item[{const char $\ast$}]{uri,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{flags }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 248 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_ad5c640367978a184563a08bb0f122b71_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_a82821814762bdea4441668f098cea065}\label{rtmpcrypt_8c_a82821814762bdea4441668f098cea065}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe\_read@{rtmpe\_read}}
\index{rtmpe\_read@{rtmpe\_read}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe\_read()}{rtmpe\_read()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} rtmpe\+\_\+read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 277 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_a82821814762bdea4441668f098cea065_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtmpcrypt_8c_aff5513fb9fc1a94cccc68ebfffdbeddb}\label{rtmpcrypt_8c_aff5513fb9fc1a94cccc68ebfffdbeddb}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe\_write@{rtmpe\_write}}
\index{rtmpe\_write@{rtmpe\_write}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe\_write()}{rtmpe\_write()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} rtmpe\+\_\+write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_r_l_context}{U\+R\+L\+Context}} $\ast$}]{h,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 297 of file rtmpcrypt.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtmpcrypt_8c_aff5513fb9fc1a94cccc68ebfffdbeddb_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{rtmpcrypt_8c_a9a28dd5c48674806e64c7d284c5ca505}\label{rtmpcrypt_8c_a9a28dd5c48674806e64c7d284c5ca505}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!ff\_ffrtmpcrypt\_protocol@{ff\_ffrtmpcrypt\_protocol}}
\index{ff\_ffrtmpcrypt\_protocol@{ff\_ffrtmpcrypt\_protocol}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{ff\_ffrtmpcrypt\_protocol}{ff\_ffrtmpcrypt\_protocol}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_u_r_l_protocol}{U\+R\+L\+Protocol}} ff\+\_\+ffrtmpcrypt\+\_\+protocol}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .name            = \textcolor{stringliteral}{"{}ffrtmpcrypt"{}},}
\DoxyCodeLine{    .url\_open        = \mbox{\hyperlink{rtmpcrypt_8c_ad5c640367978a184563a08bb0f122b71}{rtmpe\_open}},}
\DoxyCodeLine{    .url\_read        = \mbox{\hyperlink{rtmpcrypt_8c_a82821814762bdea4441668f098cea065}{rtmpe\_read}},}
\DoxyCodeLine{    .url\_write       = \mbox{\hyperlink{rtmpcrypt_8c_aff5513fb9fc1a94cccc68ebfffdbeddb}{rtmpe\_write}},}
\DoxyCodeLine{    .url\_close       = \mbox{\hyperlink{rtmpcrypt_8c_a47db4187e4d7f29402485da6f5b18917}{rtmpe\_close}},}
\DoxyCodeLine{    .priv\_data\_size  = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{rtmpcrypt_8c_ae2fbed22330238c602e24d3c2c19d936}{RTMPEContext}}),}
\DoxyCodeLine{    .\mbox{\hyperlink{cbs__av1_8c_a67119bce106892b6dade1dc5aa405ac9}{flags}}           = \mbox{\hyperlink{url_8h_ae575748ec7008ec519ddb262d8f58508}{URL\_PROTOCOL\_FLAG\_NETWORK}},}
\DoxyCodeLine{    .priv\_data\_class = \&\mbox{\hyperlink{rtmpcrypt_8c_adfe0adcbfbfbd02fdf6d67634d5a594c}{ffrtmpcrypt\_class}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 328 of file rtmpcrypt.\+c.

\mbox{\Hypertarget{rtmpcrypt_8c_adfe0adcbfbfbd02fdf6d67634d5a594c}\label{rtmpcrypt_8c_adfe0adcbfbfbd02fdf6d67634d5a594c}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!ffrtmpcrypt\_class@{ffrtmpcrypt\_class}}
\index{ffrtmpcrypt\_class@{ffrtmpcrypt\_class}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{ffrtmpcrypt\_class}{ffrtmpcrypt\_class}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} ffrtmpcrypt\+\_\+class\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .class\_name = \textcolor{stringliteral}{"{}ffrtmpcrypt"{}},}
\DoxyCodeLine{    .item\_name  = \mbox{\hyperlink{group__lavu__log_ga791fcd0dba1d19fe0c3677509344328e}{av\_default\_item\_name}},}
\DoxyCodeLine{    .option     = \mbox{\hyperlink{rtmpcrypt_8c_a568c26b7f8dd33704cfcb81fa757e3a4}{ffrtmpcrypt\_options}},}
\DoxyCodeLine{    .version    = \mbox{\hyperlink{group__lavu__ver_ga36e17e3fc9bcbe5c55820a8ac8b47e3c}{LIBAVUTIL\_VERSION\_INT}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 321 of file rtmpcrypt.\+c.

\mbox{\Hypertarget{rtmpcrypt_8c_a568c26b7f8dd33704cfcb81fa757e3a4}\label{rtmpcrypt_8c_a568c26b7f8dd33704cfcb81fa757e3a4}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!ffrtmpcrypt\_options@{ffrtmpcrypt\_options}}
\index{ffrtmpcrypt\_options@{ffrtmpcrypt\_options}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{ffrtmpcrypt\_options}{ffrtmpcrypt\_options}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} ffrtmpcrypt\+\_\+options\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    \{\textcolor{stringliteral}{"{}ffrtmpcrypt\_tunneling"{}}, \textcolor{stringliteral}{"{}Use a HTTP tunneling connection (RTMPTE)."{}}, \mbox{\hyperlink{rtmpcrypt_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(tunneling), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411}{AV\_OPT\_TYPE\_INT}}, \{.i64 = 0\}, 0, 1, \mbox{\hyperlink{rtmpcrypt_8c_afe38ec6126e35e40049e27fdf4586ba5}{DEC}}\},}
\DoxyCodeLine{    \{ \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} \},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 316 of file rtmpcrypt.\+c.

\mbox{\Hypertarget{rtmpcrypt_8c_a614dbde60f0c3d00e076a583215346f0}\label{rtmpcrypt_8c_a614dbde60f0c3d00e076a583215346f0}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe8\_keys@{rtmpe8\_keys}}
\index{rtmpe8\_keys@{rtmpe8\_keys}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe8\_keys}{rtmpe8\_keys}}
{\footnotesize\ttfamily const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} rtmpe8\+\_\+keys\mbox{[}16\mbox{]}\mbox{[}16\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 52 of file rtmpcrypt.\+c.

\mbox{\Hypertarget{rtmpcrypt_8c_ae2d778e852f45f4fac60a566e80c118c}\label{rtmpcrypt_8c_ae2d778e852f45f4fac60a566e80c118c}} 
\index{rtmpcrypt.c@{rtmpcrypt.c}!rtmpe9\_keys@{rtmpe9\_keys}}
\index{rtmpe9\_keys@{rtmpe9\_keys}!rtmpcrypt.c@{rtmpcrypt.c}}
\doxysubsubsection{\texorpdfstring{rtmpe9\_keys}{rtmpe9\_keys}}
{\footnotesize\ttfamily const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} rtmpe9\+\_\+keys\mbox{[}16\mbox{]}\mbox{[}24\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 87 of file rtmpcrypt.\+c.

