\hypertarget{framepool_8c}{}\doxysection{E\+:/github/ffmpeg/libavfilter/framepool.c File Reference}
\label{framepool_8c}\index{E:/github/ffmpeg/libavfilter/framepool.c@{E:/github/ffmpeg/libavfilter/framepool.c}}
{\ttfamily \#include \char`\"{}framepool.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/avassert.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/avutil.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/buffer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/frame.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/imgutils.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/mem.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/pixfmt.\+h\char`\"{}}\newline
Include dependency graph for framepool.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{framepool_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$ \mbox{\hyperlink{framepool_8c_abb65d9749be73a232767793dbf6c9d8e}{ff\+\_\+frame\+\_\+pool\+\_\+video\+\_\+init}} (\mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$($\ast$alloc)(\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}), \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2utils_8c_a2474a5474cbff19523a51eb1de01cda4}{width}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2utils_8c_ad12fc34ce789bce6c8a05d8a17138534}{height}}, enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} \mbox{\hyperlink{filter__design_8txt_a7d537039ea0e18164d9edb0b5ca984dd}{format}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} align)
\item 
\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$ \mbox{\hyperlink{framepool_8c_addce31c1afeccf04c663ace91fad2e25}{ff\+\_\+frame\+\_\+pool\+\_\+audio\+\_\+init}} (\mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$($\ast$alloc)(\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}), \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{aptx_8h_ac9da8d7a4bd192b8a7dccbc024542709}{channels}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} nb\+\_\+samples, enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}} \mbox{\hyperlink{filter__design_8txt_a7d537039ea0e18164d9edb0b5ca984dd}{format}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} align)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{framepool_8c_a67131c97bb278a8e5d4799c39cab3063}{ff\+\_\+frame\+\_\+pool\+\_\+get\+\_\+video\+\_\+config}} (\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$pool, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{tests_2utils_8c_a2474a5474cbff19523a51eb1de01cda4}{width}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{tests_2utils_8c_ad12fc34ce789bce6c8a05d8a17138534}{height}}, enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} $\ast$\mbox{\hyperlink{filter__design_8txt_a7d537039ea0e18164d9edb0b5ca984dd}{format}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$align)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{framepool_8c_a69557e25825b48d1da3fa76cab6b1398}{ff\+\_\+frame\+\_\+pool\+\_\+get\+\_\+audio\+\_\+config}} (\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$pool, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{aptx_8h_ac9da8d7a4bd192b8a7dccbc024542709}{channels}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$nb\+\_\+samples, enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}} $\ast$\mbox{\hyperlink{filter__design_8txt_a7d537039ea0e18164d9edb0b5ca984dd}{format}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$align)
\item 
\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$ \mbox{\hyperlink{framepool_8c_af8bcc18fdc7c6eb25f4052b120521059}{ff\+\_\+frame\+\_\+pool\+\_\+get}} (\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$pool)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{framepool_8c_a98fcdbcd4269e8f11f8f7fea7c08a4e8}{ff\+\_\+frame\+\_\+pool\+\_\+uninit}} (\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$$\ast$pool)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{framepool_8c_addce31c1afeccf04c663ace91fad2e25}\label{framepool_8c_addce31c1afeccf04c663ace91fad2e25}} 
\index{framepool.c@{framepool.c}!ff\_frame\_pool\_audio\_init@{ff\_frame\_pool\_audio\_init}}
\index{ff\_frame\_pool\_audio\_init@{ff\_frame\_pool\_audio\_init}!framepool.c@{framepool.c}}
\doxysubsubsection{\texorpdfstring{ff\_frame\_pool\_audio\_init()}{ff\_frame\_pool\_audio\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}}$\ast$ ff\+\_\+frame\+\_\+pool\+\_\+audio\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$($\ast$)(\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})}]{alloc,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{channels,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{samples,  }\item[{enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}}}]{format,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{align }\end{DoxyParamCaption})}

Allocate and initialize an audio frame pool.


\begin{DoxyParams}{Parameters}
{\em alloc} & a function that will be used to allocate new frame buffers when the pool is empty. May be N\+U\+LL, then the default allocator will be used (\mbox{\hyperlink{group__lavu__buffer_ga5ae84ac902283dea1a660ede06c1cdac}{av\+\_\+buffer\+\_\+alloc()}}). \\
\hline
{\em channels} & channels of each frame in this pool \\
\hline
{\em nb\+\_\+samples} & number of samples of each frame in this pool \\
\hline
{\em format} & format of each frame in this pool \\
\hline
{\em align} & buffers alignement of each frame in this pool \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
newly created audio frame pool on success, N\+U\+LL on error. 
\end{DoxyReturn}


Definition at line 119 of file framepool.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{framepool_8c_addce31c1afeccf04c663ace91fad2e25_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{framepool_8c_addce31c1afeccf04c663ace91fad2e25_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{framepool_8c_af8bcc18fdc7c6eb25f4052b120521059}\label{framepool_8c_af8bcc18fdc7c6eb25f4052b120521059}} 
\index{framepool.c@{framepool.c}!ff\_frame\_pool\_get@{ff\_frame\_pool\_get}}
\index{ff\_frame\_pool\_get@{ff\_frame\_pool\_get}!framepool.c@{framepool.c}}
\doxysubsubsection{\texorpdfstring{ff\_frame\_pool\_get()}{ff\_frame\_pool\_get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}}$\ast$ ff\+\_\+frame\+\_\+pool\+\_\+get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$}]{pool }\end{DoxyParamCaption})}

Allocate a new \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}}, reussing old buffers from the pool when available. This function may be called simultaneously from multiple threads.

\begin{DoxyReturn}{Returns}
a new \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} on success, N\+U\+LL on error. 
\end{DoxyReturn}


Definition at line 195 of file framepool.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{framepool_8c_af8bcc18fdc7c6eb25f4052b120521059_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{framepool_8c_af8bcc18fdc7c6eb25f4052b120521059_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{framepool_8c_a69557e25825b48d1da3fa76cab6b1398}\label{framepool_8c_a69557e25825b48d1da3fa76cab6b1398}} 
\index{framepool.c@{framepool.c}!ff\_frame\_pool\_get\_audio\_config@{ff\_frame\_pool\_get\_audio\_config}}
\index{ff\_frame\_pool\_get\_audio\_config@{ff\_frame\_pool\_get\_audio\_config}!framepool.c@{framepool.c}}
\doxysubsubsection{\texorpdfstring{ff\_frame\_pool\_get\_audio\_config()}{ff\_frame\_pool\_get\_audio\_config()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+frame\+\_\+pool\+\_\+get\+\_\+audio\+\_\+config (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$}]{pool,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{channels,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{nb\+\_\+samples,  }\item[{enum \mbox{\hyperlink{group__lavu__sampfmts_gaf9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format}} $\ast$}]{format,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{align }\end{DoxyParamCaption})}

Get the audio frame pool configuration.


\begin{DoxyParams}{Parameters}
{\em channels} & channels of each frame in this pool \\
\hline
{\em nb\+\_\+samples} & number of samples of each frame in this pool \\
\hline
{\em format} & format of each frame in this pool \\
\hline
{\em align} & buffers alignement of each frame in this pool \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, a negative A\+V\+E\+R\+R\+OR otherwise. 
\end{DoxyReturn}


Definition at line 176 of file framepool.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{framepool_8c_a69557e25825b48d1da3fa76cab6b1398_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{framepool_8c_a69557e25825b48d1da3fa76cab6b1398_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{framepool_8c_a67131c97bb278a8e5d4799c39cab3063}\label{framepool_8c_a67131c97bb278a8e5d4799c39cab3063}} 
\index{framepool.c@{framepool.c}!ff\_frame\_pool\_get\_video\_config@{ff\_frame\_pool\_get\_video\_config}}
\index{ff\_frame\_pool\_get\_video\_config@{ff\_frame\_pool\_get\_video\_config}!framepool.c@{framepool.c}}
\doxysubsubsection{\texorpdfstring{ff\_frame\_pool\_get\_video\_config()}{ff\_frame\_pool\_get\_video\_config()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+frame\+\_\+pool\+\_\+get\+\_\+video\+\_\+config (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$}]{pool,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{width,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{height,  }\item[{enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} $\ast$}]{format,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{align }\end{DoxyParamCaption})}

Get the video frame pool configuration.


\begin{DoxyParams}{Parameters}
{\em width} & width of each frame in this pool \\
\hline
{\em height} & height of each frame in this pool \\
\hline
{\em format} & format of each frame in this pool \\
\hline
{\em align} & buffers alignement of each frame in this pool \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, a negative A\+V\+E\+R\+R\+OR otherwise. 
\end{DoxyReturn}


Definition at line 157 of file framepool.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{framepool_8c_a67131c97bb278a8e5d4799c39cab3063_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{framepool_8c_a67131c97bb278a8e5d4799c39cab3063_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{framepool_8c_a98fcdbcd4269e8f11f8f7fea7c08a4e8}\label{framepool_8c_a98fcdbcd4269e8f11f8f7fea7c08a4e8}} 
\index{framepool.c@{framepool.c}!ff\_frame\_pool\_uninit@{ff\_frame\_pool\_uninit}}
\index{ff\_frame\_pool\_uninit@{ff\_frame\_pool\_uninit}!framepool.c@{framepool.c}}
\doxysubsubsection{\texorpdfstring{ff\_frame\_pool\_uninit()}{ff\_frame\_pool\_uninit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+frame\+\_\+pool\+\_\+uninit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}} $\ast$$\ast$}]{pool }\end{DoxyParamCaption})}

Deallocate the frame pool. It is safe to call this function while some of the allocated frame are still in use.


\begin{DoxyParams}{Parameters}
{\em pool} & pointer to the frame pool to be freed. It will be set to N\+U\+LL. \\
\hline
\end{DoxyParams}


Definition at line 284 of file framepool.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{framepool_8c_a98fcdbcd4269e8f11f8f7fea7c08a4e8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{framepool_8c_a98fcdbcd4269e8f11f8f7fea7c08a4e8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{framepool_8c_abb65d9749be73a232767793dbf6c9d8e}\label{framepool_8c_abb65d9749be73a232767793dbf6c9d8e}} 
\index{framepool.c@{framepool.c}!ff\_frame\_pool\_video\_init@{ff\_frame\_pool\_video\_init}}
\index{ff\_frame\_pool\_video\_init@{ff\_frame\_pool\_video\_init}!framepool.c@{framepool.c}}
\doxysubsubsection{\texorpdfstring{ff\_frame\_pool\_video\_init()}{ff\_frame\_pool\_video\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_f_f_frame_pool}{F\+F\+Frame\+Pool}}$\ast$ ff\+\_\+frame\+\_\+pool\+\_\+video\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$($\ast$)(\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})}]{alloc,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{width,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{height,  }\item[{enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}}}]{format,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{align }\end{DoxyParamCaption})}

Allocate and initialize a video frame pool.


\begin{DoxyParams}{Parameters}
{\em alloc} & a function that will be used to allocate new frame buffers when the pool is empty. May be N\+U\+LL, then the default allocator will be used (\mbox{\hyperlink{group__lavu__buffer_ga5ae84ac902283dea1a660ede06c1cdac}{av\+\_\+buffer\+\_\+alloc()}}). \\
\hline
{\em width} & width of each frame in this pool \\
\hline
{\em height} & height of each frame in this pool \\
\hline
{\em format} & format of each frame in this pool \\
\hline
{\em align} & buffers alignement of each frame in this pool \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
newly created video frame pool on success, N\+U\+LL on error. 
\end{DoxyReturn}


Definition at line 51 of file framepool.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{framepool_8c_abb65d9749be73a232767793dbf6c9d8e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{framepool_8c_abb65d9749be73a232767793dbf6c9d8e_icgraph}
\end{center}
\end{figure}
