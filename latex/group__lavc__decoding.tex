\hypertarget{group__lavc__decoding}{}\doxysection{Decoding}
\label{group__lavc__decoding}\index{Decoding@{Decoding}}
Collaboration diagram for Decoding\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding}
\end{center}
\end{figure}
\doxysubsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__lavc__parsing}{Frame parsing}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__lavc__decoding_ga8f5b632a03ce83ac8e025894b1fc307a}{A\+V\+\_\+\+I\+N\+P\+U\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+A\+D\+D\+I\+N\+G\+\_\+\+S\+I\+ZE}}~64
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group__lavc__decoding_ga352363bce7d3ed82c101b3bc001d1c16}{A\+V\+Discard}} \{ \newline
\mbox{\hyperlink{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a93d0436f7651b58debe3f995e2582dcd}{A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+NE}} =-\/16, 
\mbox{\hyperlink{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b}{A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+D\+E\+F\+A\+U\+LT}} = 0, 
\mbox{\hyperlink{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8}{A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+N\+R\+EF}} = 8, 
\mbox{\hyperlink{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a776541ad00a4f13c3fdcd363988bffb3}{A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+B\+I\+D\+IR}} = 16, 
\newline
\mbox{\hyperlink{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16aabee31ca5c7c140d3a84b848164eeaf8}{A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+N\+I\+N\+T\+RA}} = 24, 
\mbox{\hyperlink{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1}{A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+N\+K\+EY}} = 32, 
\mbox{\hyperlink{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a}{A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+A\+LL}} = 48
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga09dee227d3666720eff1f6913d11699d}{avcodec\+\_\+default\+\_\+get\+\_\+buffer2}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{log_8c_ac8bf36fe0577cba66bccda3a6f7e80a4}{flags}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavc__decoding_ga48432a3760eec9fce0f0ef7b298859f1}{avcodec\+\_\+align\+\_\+dimensions}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{tests_2utils_8c_a2474a5474cbff19523a51eb1de01cda4}{width}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{tests_2utils_8c_ad12fc34ce789bce6c8a05d8a17138534}{height}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavc__decoding_ga34e3269dc1b9e2c98e9371241722e7e2}{avcodec\+\_\+align\+\_\+dimensions2}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{tests_2utils_8c_a2474a5474cbff19523a51eb1de01cda4}{width}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{tests_2utils_8c_ad12fc34ce789bce6c8a05d8a17138534}{height}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} linesize\+\_\+align\mbox{[}\mbox{\hyperlink{frame_8h_add80189702cf0f5ea82718576fb43201}{A\+V\+\_\+\+N\+U\+M\+\_\+\+D\+A\+T\+A\+\_\+\+P\+O\+I\+N\+T\+E\+RS}}\mbox{]})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga29744651709d05d125982e6ca20fcd95}{avcodec\+\_\+enum\+\_\+to\+\_\+chroma\+\_\+pos}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$xpos, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$ypos, enum \mbox{\hyperlink{pixfmt_8h_a1f86ed1b6a420faccacf77c98db6c1ff}{A\+V\+Chroma\+Location}} \mbox{\hyperlink{spdifenc_8c_addcb93d939ffa259ff1d9247bdd590fd}{pos}})
\item 
enum \mbox{\hyperlink{pixfmt_8h_a1f86ed1b6a420faccacf77c98db6c1ff}{A\+V\+Chroma\+Location}} \mbox{\hyperlink{group__lavc__decoding_ga30c6c7e3af6c589814d5135561b69980}{avcodec\+\_\+chroma\+\_\+pos\+\_\+to\+\_\+enum}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} xpos, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ypos)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_gaaa1fbe477c04455cdc7a994090100db4}{avcodec\+\_\+decode\+\_\+audio4}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$got\+\_\+frame\+\_\+ptr, const \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532}{avcodec\+\_\+decode\+\_\+video2}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$picture, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$got\+\_\+picture\+\_\+ptr, const \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga47db1b7f294b9f92684401b9c66a7c4b}{avcodec\+\_\+decode\+\_\+subtitle2}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_subtitle}{A\+V\+Subtitle}} $\ast$\mbox{\hyperlink{dnn__backend__native__layer__mathbinary_8c_aec238e230db0cd41b80558db403931dd}{sub}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$got\+\_\+sub\+\_\+ptr, \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga58bc4bf1e0ac59e27362597e467efff3}{avcodec\+\_\+send\+\_\+packet}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, const \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c}{avcodec\+\_\+receive\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga9395cb802a5febf1f00df31497779169}{avcodec\+\_\+send\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga5b8eff59cf259747cf0b31563e38ded6}{avcodec\+\_\+receive\+\_\+packet}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavc__decoding_ga7fc990105405e7958f8051cee81bee6b}{avcodec\+\_\+get\+\_\+hw\+\_\+frames\+\_\+parameters}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$device\+\_\+ref, enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} \mbox{\hyperlink{hw__decode_8c_a4a8dc36f4e1b77be375dfcf127a130cc}{hw\+\_\+pix\+\_\+fmt}}, \mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$$\ast$out\+\_\+frames\+\_\+ref)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__lavc__decoding_ga8f5b632a03ce83ac8e025894b1fc307a}\label{group__lavc__decoding_ga8f5b632a03ce83ac8e025894b1fc307a}} 
\index{Decoding@{Decoding}!AV\_INPUT\_BUFFER\_PADDING\_SIZE@{AV\_INPUT\_BUFFER\_PADDING\_SIZE}}
\index{AV\_INPUT\_BUFFER\_PADDING\_SIZE@{AV\_INPUT\_BUFFER\_PADDING\_SIZE}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{AV\_INPUT\_BUFFER\_PADDING\_SIZE}{AV\_INPUT\_BUFFER\_PADDING\_SIZE}}
{\footnotesize\ttfamily \#define A\+V\+\_\+\+I\+N\+P\+U\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+A\+D\+D\+I\+N\+G\+\_\+\+S\+I\+ZE~64}

Required number of additionally allocated bytes at the end of the input bitstream for decoding. This is mainly needed because some optimized bitstream readers read 32 or 64 bit at once and could read over the end.~\newline
 Note\+: If the first 23 bits of the additional bytes are not 0, then damaged M\+P\+EG bitstreams could cause overread and segfault. 

Definition at line 215 of file avcodec.\+h.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{group__lavc__decoding_ga352363bce7d3ed82c101b3bc001d1c16}\label{group__lavc__decoding_ga352363bce7d3ed82c101b3bc001d1c16}} 
\index{Decoding@{Decoding}!AVDiscard@{AVDiscard}}
\index{AVDiscard@{AVDiscard}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{AVDiscard}{AVDiscard}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group__lavc__decoding_ga352363bce7d3ed82c101b3bc001d1c16}{A\+V\+Discard}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{AVDISCARD\_NONE@{AVDISCARD\_NONE}!Decoding@{Decoding}}\index{Decoding@{Decoding}!AVDISCARD\_NONE@{AVDISCARD\_NONE}}}\mbox{\Hypertarget{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a93d0436f7651b58debe3f995e2582dcd}\label{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a93d0436f7651b58debe3f995e2582dcd}} 
A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+NE&discard nothing \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AVDISCARD\_DEFAULT@{AVDISCARD\_DEFAULT}!Decoding@{Decoding}}\index{Decoding@{Decoding}!AVDISCARD\_DEFAULT@{AVDISCARD\_DEFAULT}}}\mbox{\Hypertarget{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b}\label{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b}} 
A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+D\+E\+F\+A\+U\+LT&discard useless packets like 0 size packets in avi \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AVDISCARD\_NONREF@{AVDISCARD\_NONREF}!Decoding@{Decoding}}\index{Decoding@{Decoding}!AVDISCARD\_NONREF@{AVDISCARD\_NONREF}}}\mbox{\Hypertarget{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8}\label{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8}} 
A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+N\+R\+EF&discard all non reference \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AVDISCARD\_BIDIR@{AVDISCARD\_BIDIR}!Decoding@{Decoding}}\index{Decoding@{Decoding}!AVDISCARD\_BIDIR@{AVDISCARD\_BIDIR}}}\mbox{\Hypertarget{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a776541ad00a4f13c3fdcd363988bffb3}\label{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a776541ad00a4f13c3fdcd363988bffb3}} 
A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+B\+I\+D\+IR&discard all bidirectional frames \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AVDISCARD\_NONINTRA@{AVDISCARD\_NONINTRA}!Decoding@{Decoding}}\index{Decoding@{Decoding}!AVDISCARD\_NONINTRA@{AVDISCARD\_NONINTRA}}}\mbox{\Hypertarget{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16aabee31ca5c7c140d3a84b848164eeaf8}\label{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16aabee31ca5c7c140d3a84b848164eeaf8}} 
A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+N\+I\+N\+T\+RA&discard all non intra frames \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AVDISCARD\_NONKEY@{AVDISCARD\_NONKEY}!Decoding@{Decoding}}\index{Decoding@{Decoding}!AVDISCARD\_NONKEY@{AVDISCARD\_NONKEY}}}\mbox{\Hypertarget{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1}\label{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1}} 
A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+N\+O\+N\+K\+EY&discard all frames except keyframes \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AVDISCARD\_ALL@{AVDISCARD\_ALL}!Decoding@{Decoding}}\index{Decoding@{Decoding}!AVDISCARD\_ALL@{AVDISCARD\_ALL}}}\mbox{\Hypertarget{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a}\label{group__lavc__decoding_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a}} 
A\+V\+D\+I\+S\+C\+A\+R\+D\+\_\+\+A\+LL&discard all \\
\hline

\end{DoxyEnumFields}


Definition at line 227 of file avcodec.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__lavc__decoding_ga48432a3760eec9fce0f0ef7b298859f1}\label{group__lavc__decoding_ga48432a3760eec9fce0f0ef7b298859f1}} 
\index{Decoding@{Decoding}!avcodec\_align\_dimensions@{avcodec\_align\_dimensions}}
\index{avcodec\_align\_dimensions@{avcodec\_align\_dimensions}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_align\_dimensions()}{avcodec\_align\_dimensions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} avcodec\+\_\+align\+\_\+dimensions (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{s,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{width,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{height }\end{DoxyParamCaption})}

Modify width and height values so that they will result in a memory buffer that is acceptable for the codec if you do not use any horizontal padding.

May only be used if a codec with A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+R1 has been opened. 

Definition at line 340 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga48432a3760eec9fce0f0ef7b298859f1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga34e3269dc1b9e2c98e9371241722e7e2}\label{group__lavc__decoding_ga34e3269dc1b9e2c98e9371241722e7e2}} 
\index{Decoding@{Decoding}!avcodec\_align\_dimensions2@{avcodec\_align\_dimensions2}}
\index{avcodec\_align\_dimensions2@{avcodec\_align\_dimensions2}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_align\_dimensions2()}{avcodec\_align\_dimensions2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} avcodec\+\_\+align\+\_\+dimensions2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{s,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{width,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{height,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{linesize\+\_\+align\mbox{[}\+A\+V\+\_\+\+N\+U\+M\+\_\+\+D\+A\+T\+A\+\_\+\+P\+O\+I\+N\+T\+E\+R\+S\mbox{]} }\end{DoxyParamCaption})}

Modify width and height values so that they will result in a memory buffer that is acceptable for the codec if you also ensure that all line sizes are a multiple of the respective linesize\+\_\+align\mbox{[}i\mbox{]}.

May only be used if a codec with A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+R1 has been opened. 

Definition at line 156 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga34e3269dc1b9e2c98e9371241722e7e2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga34e3269dc1b9e2c98e9371241722e7e2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga30c6c7e3af6c589814d5135561b69980}\label{group__lavc__decoding_ga30c6c7e3af6c589814d5135561b69980}} 
\index{Decoding@{Decoding}!avcodec\_chroma\_pos\_to\_enum@{avcodec\_chroma\_pos\_to\_enum}}
\index{avcodec\_chroma\_pos\_to\_enum@{avcodec\_chroma\_pos\_to\_enum}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_chroma\_pos\_to\_enum()}{avcodec\_chroma\_pos\_to\_enum()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{pixfmt_8h_a1f86ed1b6a420faccacf77c98db6c1ff}{A\+V\+Chroma\+Location}} avcodec\+\_\+chroma\+\_\+pos\+\_\+to\+\_\+enum (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{xpos,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ypos }\end{DoxyParamCaption})}

Converts swscale x/y chroma position to A\+V\+Chroma\+Location.

The positions represent the chroma (0,0) position in a coordinates system with luma (0,0) representing the origin and luma(1,1) representing 256,256


\begin{DoxyParams}{Parameters}
{\em xpos} & horizontal chroma sample position \\
\hline
{\em ypos} & vertical chroma sample position \\
\hline
\end{DoxyParams}


Definition at line 355 of file utils.\+c.

\mbox{\Hypertarget{group__lavc__decoding_gaaa1fbe477c04455cdc7a994090100db4}\label{group__lavc__decoding_gaaa1fbe477c04455cdc7a994090100db4}} 
\index{Decoding@{Decoding}!avcodec\_decode\_audio4@{avcodec\_decode\_audio4}}
\index{avcodec\_decode\_audio4@{avcodec\_decode\_audio4}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_decode\_audio4()}{avcodec\_decode\_audio4()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+decode\+\_\+audio4 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{frame,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{got\+\_\+frame\+\_\+ptr,  }\item[{const \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})}

Decode the audio frame of size avpkt-\/$>$size from avpkt-\/$>$data into frame.

Some decoders may support multiple frames in a single \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}}. Such decoders would then just decode the first frame and the return value would be less than the packet size. In this case, avcodec\+\_\+decode\+\_\+audio4 has to be called again with an \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} containing the remaining data in order to decode the second frame, etc... Even if no frames are returned, the packet needs to be fed to the decoder with remaining data until it is completely consumed or an error occurs.

Some decoders (those marked with A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY) have a delay between input and output. This means that for some packets they will not immediately produce decoded output and need to be flushed at the end of decoding to get all the decoded data. Flushing is done by calling this function with packets with avpkt-\/$>$data set to N\+U\+LL and avpkt-\/$>$size set to 0 until it stops returning samples. It is safe to flush even those decoders that are not marked with A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY, then no samples will be returned.

\begin{DoxyWarning}{Warning}
The input buffer, avpkt-\/$>$data must be A\+V\+\_\+\+I\+N\+P\+U\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+A\+D\+D\+I\+N\+G\+\_\+\+S\+I\+ZE larger than the actual read bytes because some optimized bitstream readers read 32 or 64 bits at once and could read over the end.
\end{DoxyWarning}
\begin{DoxyNote}{Note}
The \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} M\+U\+ST have been opened with \mbox{\hyperlink{group__lavc__core_ga11f785a188d7d9df71621001465b0f1d}{avcodec\+\_\+open2()}} before packets may be fed to the decoder.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
 & {\em avctx} & the codec context \\
\hline
\mbox{\texttt{ out}}  & {\em frame} & The \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} in which to store decoded audio samples. The decoder will allocate a buffer for the decoded frame by calling the \mbox{\hyperlink{struct_a_v_codec_context_aef79333a4c6abf1628c55d75ec82bede}{A\+V\+Codec\+Context.\+get\+\_\+buffer2()}} callback. When \mbox{\hyperlink{struct_a_v_codec_context_a17d91e3ddcf7cc8fb235ba4f15777282}{A\+V\+Codec\+Context.\+refcounted\+\_\+frames}} is set to 1, the frame is reference counted and the returned reference belongs to the caller. The caller must release the frame using \mbox{\hyperlink{group__lavu__frame_ga0a2b687f9c1c5ed0089b01fd61227108}{av\+\_\+frame\+\_\+unref()}} when the frame is no longer needed. The caller may safely write to the frame if \mbox{\hyperlink{group__lavu__frame_ga3ba755bada5c3c8883361ef43fb5fb7a}{av\+\_\+frame\+\_\+is\+\_\+writable()}} returns 1. When \mbox{\hyperlink{struct_a_v_codec_context_a17d91e3ddcf7cc8fb235ba4f15777282}{A\+V\+Codec\+Context.\+refcounted\+\_\+frames}} is set to 0, the returned reference belongs to the decoder and is valid only until the next call to this function or until closing or flushing the decoder. The caller may not write to it. \\
\hline
\mbox{\texttt{ out}}  & {\em got\+\_\+frame\+\_\+ptr} & Zero if no frame could be decoded, otherwise it is non-\/zero. Note that this field being set to zero does not mean that an error has occurred. For decoders with A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY set, no given decode call is guaranteed to produce a frame. \\
\hline
\mbox{\texttt{ in}}  & {\em avpkt} & The input \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} containing the input buffer. At least avpkt-\/$>$data and avpkt-\/$>$size should be set. Some decoders might also require additional fields to be set. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A negative error code is returned if an error occurred during decoding, otherwise the number of bytes consumed from the input \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} is returned.
\end{DoxyReturn}
\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000004}{Deprecated}}]Use \mbox{\hyperlink{group__lavc__decoding_ga58bc4bf1e0ac59e27362597e467efff3}{avcodec\+\_\+send\+\_\+packet()}} and \mbox{\hyperlink{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c}{avcodec\+\_\+receive\+\_\+frame()}}. \end{DoxyRefDesc}


Definition at line 833 of file decode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_gaaa1fbe477c04455cdc7a994090100db4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_gaaa1fbe477c04455cdc7a994090100db4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga47db1b7f294b9f92684401b9c66a7c4b}\label{group__lavc__decoding_ga47db1b7f294b9f92684401b9c66a7c4b}} 
\index{Decoding@{Decoding}!avcodec\_decode\_subtitle2@{avcodec\_decode\_subtitle2}}
\index{avcodec\_decode\_subtitle2@{avcodec\_decode\_subtitle2}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_decode\_subtitle2()}{avcodec\_decode\_subtitle2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+decode\+\_\+subtitle2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_subtitle}{A\+V\+Subtitle}} $\ast$}]{sub,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{got\+\_\+sub\+\_\+ptr,  }\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})}

Decode a subtitle message. Return a negative value on error, otherwise return the number of bytes used. If no subtitle could be decompressed, got\+\_\+sub\+\_\+ptr is zero. Otherwise, the subtitle is stored in $\ast$sub. Note that A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+R1 is not available for subtitle codecs. This is for simplicity, because the performance difference is expected to be negligible and reusing a get\+\_\+buffer written for video codecs would probably perform badly due to a potentially very different allocation pattern.

Some decoders (those marked with A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY) have a delay between input and output. This means that for some packets they will not immediately produce decoded output and need to be flushed at the end of decoding to get all the decoded data. Flushing is done by calling this function with packets with avpkt-\/$>$data set to N\+U\+LL and avpkt-\/$>$size set to 0 until it stops returning subtitles. It is safe to flush even those decoders that are not marked with A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY, then no subtitles will be returned.

\begin{DoxyNote}{Note}
The \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} M\+U\+ST have been opened with \mbox{\hyperlink{group__lavc__core_ga11f785a188d7d9df71621001465b0f1d}{avcodec\+\_\+open2()}} before packets may be fed to the decoder.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
 & {\em avctx} & the codec context \\
\hline
\mbox{\texttt{ out}}  & {\em sub} & The preallocated \mbox{\hyperlink{struct_a_v_subtitle}{A\+V\+Subtitle}} in which the decoded subtitle will be stored, must be freed with avsubtitle\+\_\+free if $\ast$got\+\_\+sub\+\_\+ptr is set. \\
\hline
\mbox{\texttt{ in,out}}  & {\em got\+\_\+sub\+\_\+ptr} & Zero if no subtitle could be decompressed, otherwise, it is nonzero. \\
\hline
\mbox{\texttt{ in}}  & {\em avpkt} & The input \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} containing the input buffer. \\
\hline
\end{DoxyParams}


Definition at line 998 of file decode.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga47db1b7f294b9f92684401b9c66a7c4b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532}\label{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532}} 
\index{Decoding@{Decoding}!avcodec\_decode\_video2@{avcodec\_decode\_video2}}
\index{avcodec\_decode\_video2@{avcodec\_decode\_video2}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_decode\_video2()}{avcodec\_decode\_video2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+decode\+\_\+video2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{picture,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{got\+\_\+picture\+\_\+ptr,  }\item[{const \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})}

Decode the video frame of size avpkt-\/$>$size from avpkt-\/$>$data into picture. Some decoders may support multiple frames in a single \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}}, such decoders would then just decode the first frame.

\begin{DoxyWarning}{Warning}
The input buffer must be A\+V\+\_\+\+I\+N\+P\+U\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+A\+D\+D\+I\+N\+G\+\_\+\+S\+I\+ZE larger than the actual read bytes because some optimized bitstream readers read 32 or 64 bits at once and could read over the end.

The end of the input buffer buf should be set to 0 to ensure that no overreading happens for damaged M\+P\+EG streams.
\end{DoxyWarning}
\begin{DoxyNote}{Note}
Codecs which have the A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY capability set have a delay between input and output, these need to be fed with avpkt-\/$>$data=N\+U\+LL, avpkt-\/$>$size=0 at the end to return the remaining frames.

The \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} M\+U\+ST have been opened with \mbox{\hyperlink{group__lavc__core_ga11f785a188d7d9df71621001465b0f1d}{avcodec\+\_\+open2()}} before packets may be fed to the decoder.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
 & {\em avctx} & the codec context \\
\hline
\mbox{\texttt{ out}}  & {\em picture} & The \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} in which the decoded video frame will be stored. Use \mbox{\hyperlink{group__lavu__frame_gac700017c5270c79c1e1befdeeb008b2f}{av\+\_\+frame\+\_\+alloc()}} to get an \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}}. The codec will allocate memory for the actual bitmap by calling the \mbox{\hyperlink{struct_a_v_codec_context_aef79333a4c6abf1628c55d75ec82bede}{A\+V\+Codec\+Context.\+get\+\_\+buffer2()}} callback. When \mbox{\hyperlink{struct_a_v_codec_context_a17d91e3ddcf7cc8fb235ba4f15777282}{A\+V\+Codec\+Context.\+refcounted\+\_\+frames}} is set to 1, the frame is reference counted and the returned reference belongs to the caller. The caller must release the frame using \mbox{\hyperlink{group__lavu__frame_ga0a2b687f9c1c5ed0089b01fd61227108}{av\+\_\+frame\+\_\+unref()}} when the frame is no longer needed. The caller may safely write to the frame if \mbox{\hyperlink{group__lavu__frame_ga3ba755bada5c3c8883361ef43fb5fb7a}{av\+\_\+frame\+\_\+is\+\_\+writable()}} returns 1. When \mbox{\hyperlink{struct_a_v_codec_context_a17d91e3ddcf7cc8fb235ba4f15777282}{A\+V\+Codec\+Context.\+refcounted\+\_\+frames}} is set to 0, the returned reference belongs to the decoder and is valid only until the next call to this function or until closing or flushing the decoder. The caller may not write to it.\\
\hline
\mbox{\texttt{ in}}  & {\em avpkt} & The input \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} containing the input buffer. You can create such packet with \mbox{\hyperlink{group__lavc__packet_gac9cb9756175b96e7441575803757fb73}{av\+\_\+init\+\_\+packet()}} and by then setting data and size, some decoders might in addition need other fields like flags\&A\+V\+\_\+\+P\+K\+T\+\_\+\+F\+L\+A\+G\+\_\+\+K\+EY. All decoders are designed to use the least fields possible. \\
\hline
\mbox{\texttt{ in,out}}  & {\em got\+\_\+picture\+\_\+ptr} & Zero if no frame could be decompressed, otherwise, it is nonzero. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On error a negative value is returned, otherwise the number of bytes used or zero if no frame could be decompressed.
\end{DoxyReturn}
\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000005}{Deprecated}}]Use \mbox{\hyperlink{group__lavc__decoding_ga58bc4bf1e0ac59e27362597e467efff3}{avcodec\+\_\+send\+\_\+packet()}} and \mbox{\hyperlink{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c}{avcodec\+\_\+receive\+\_\+frame()}}. \end{DoxyRefDesc}


Definition at line 826 of file decode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga09dee227d3666720eff1f6913d11699d}\label{group__lavc__decoding_ga09dee227d3666720eff1f6913d11699d}} 
\index{Decoding@{Decoding}!avcodec\_default\_get\_buffer2@{avcodec\_default\_get\_buffer2}}
\index{avcodec\_default\_get\_buffer2@{avcodec\_default\_get\_buffer2}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_default\_get\_buffer2()}{avcodec\_default\_get\_buffer2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+default\+\_\+get\+\_\+buffer2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{s,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{frame,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{flags }\end{DoxyParamCaption})}

The default callback for \mbox{\hyperlink{struct_a_v_codec_context_aef79333a4c6abf1628c55d75ec82bede}{A\+V\+Codec\+Context.\+get\+\_\+buffer2()}}. It is made public so it can be called by custom get\+\_\+buffer2() implementations for decoders without A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+R1 set. 

Definition at line 1668 of file decode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga09dee227d3666720eff1f6913d11699d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavc__decoding_ga09dee227d3666720eff1f6913d11699d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga29744651709d05d125982e6ca20fcd95}\label{group__lavc__decoding_ga29744651709d05d125982e6ca20fcd95}} 
\index{Decoding@{Decoding}!avcodec\_enum\_to\_chroma\_pos@{avcodec\_enum\_to\_chroma\_pos}}
\index{avcodec\_enum\_to\_chroma\_pos@{avcodec\_enum\_to\_chroma\_pos}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_enum\_to\_chroma\_pos()}{avcodec\_enum\_to\_chroma\_pos()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+enum\+\_\+to\+\_\+chroma\+\_\+pos (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{xpos,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{ypos,  }\item[{enum \mbox{\hyperlink{pixfmt_8h_a1f86ed1b6a420faccacf77c98db6c1ff}{A\+V\+Chroma\+Location}}}]{pos }\end{DoxyParamCaption})}

Converts A\+V\+Chroma\+Location to swscale x/y chroma position.

The positions represent the chroma (0,0) position in a coordinates system with luma (0,0) representing the origin and luma(1,1) representing 256,256


\begin{DoxyParams}{Parameters}
{\em xpos} & horizontal chroma sample position \\
\hline
{\em ypos} & vertical chroma sample position \\
\hline
\end{DoxyParams}


Definition at line 355 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{group__lavc__decoding_ga29744651709d05d125982e6ca20fcd95_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga29744651709d05d125982e6ca20fcd95_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga7fc990105405e7958f8051cee81bee6b}\label{group__lavc__decoding_ga7fc990105405e7958f8051cee81bee6b}} 
\index{Decoding@{Decoding}!avcodec\_get\_hw\_frames\_parameters@{avcodec\_get\_hw\_frames\_parameters}}
\index{avcodec\_get\_hw\_frames\_parameters@{avcodec\_get\_hw\_frames\_parameters}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_get\_hw\_frames\_parameters()}{avcodec\_get\_hw\_frames\_parameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+get\+\_\+hw\+\_\+frames\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$}]{device\+\_\+ref,  }\item[{enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}}}]{hw\+\_\+pix\+\_\+fmt,  }\item[{\mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$$\ast$}]{out\+\_\+frames\+\_\+ref }\end{DoxyParamCaption})}

Create and return a \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} with values adequate for hardware decoding. This is meant to get called from the get\+\_\+format callback, and is a helper for preparing a \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} for \mbox{\hyperlink{struct_a_v_codec_context_a3bac44bb0b016ab838780cc19ac277d6}{A\+V\+Codec\+Context.\+hw\+\_\+frames\+\_\+ctx}}. This A\+PI is for decoding with certain hardware acceleration modes/\+A\+P\+Is only.

The returned \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} is not initialized. The caller must do this with \mbox{\hyperlink{hwcontext_8c_a66a7e1ebc7e459ce07d3de6639ac7e38}{av\+\_\+hwframe\+\_\+ctx\+\_\+init()}}.

Calling this function is not a requirement, but makes it simpler to avoid codec or hardware A\+PI specific details when manually allocating frames.

Alternatively to this, an A\+PI user can set \mbox{\hyperlink{struct_a_v_codec_context_acf8113e490f9e7b57465e65af9c0c75c}{A\+V\+Codec\+Context.\+hw\+\_\+device\+\_\+ctx}}, which sets up \mbox{\hyperlink{struct_a_v_codec_context_a3bac44bb0b016ab838780cc19ac277d6}{A\+V\+Codec\+Context.\+hw\+\_\+frames\+\_\+ctx}} fully automatically, and makes it unnecessary to call this function or having to care about \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} initialization at all.

There are a number of requirements for calling this function\+:


\begin{DoxyItemize}
\item It must be called from get\+\_\+format with the same avctx parameter that was passed to get\+\_\+format. Calling it outside of get\+\_\+format is not allowed, and can trigger undefined behavior.
\item The function is not always supported (see description of return values). Even if this function returns successfully, hwaccel initialization could fail later. (The degree to which implementations check whether the stream is actually supported varies. Some do this check only after the user\textquotesingle{}s get\+\_\+format callback returns.)
\item The hw\+\_\+pix\+\_\+fmt must be one of the choices suggested by get\+\_\+format. If the user decides to use a \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} prepared with this A\+PI function, the user must return the same hw\+\_\+pix\+\_\+fmt from get\+\_\+format.
\item The device\+\_\+ref passed to this function must support the given hw\+\_\+pix\+\_\+fmt.
\item After calling this A\+PI function, it is the user\textquotesingle{}s responsibility to initialize the \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} (returned by the out\+\_\+frames\+\_\+ref parameter), and to set \mbox{\hyperlink{struct_a_v_codec_context_a3bac44bb0b016ab838780cc19ac277d6}{A\+V\+Codec\+Context.\+hw\+\_\+frames\+\_\+ctx}} to it. If done, this must be done before returning from get\+\_\+format (this is implied by the normal \mbox{\hyperlink{struct_a_v_codec_context_a3bac44bb0b016ab838780cc19ac277d6}{A\+V\+Codec\+Context.\+hw\+\_\+frames\+\_\+ctx}} A\+PI rules).
\item The \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} parameters may change every time time get\+\_\+format is called. Also, \mbox{\hyperlink{struct_a_v_codec_context_a3bac44bb0b016ab838780cc19ac277d6}{A\+V\+Codec\+Context.\+hw\+\_\+frames\+\_\+ctx}} is reset before get\+\_\+format. So you are inherently required to go through this process again on every get\+\_\+format call.
\item It is perfectly possible to call this function without actually using the resulting \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}}. One use-\/case might be trying to reuse a previously initialized \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}}, and calling this A\+PI function only to test whether the required frame parameters have changed.
\item Fields that use dynamically allocated values of any kind must not be set by the user unless setting them is explicitly allowed by the documentation. If the user sets \mbox{\hyperlink{struct_a_v_h_w_frames_context_aaeccab495e5027aa0402dea10bdcd166}{A\+V\+H\+W\+Frames\+Context.\+free}} and \mbox{\hyperlink{struct_a_v_h_w_frames_context_a4d6e4c17632bd6770654b7627722222e}{A\+V\+H\+W\+Frames\+Context.\+user\+\_\+opaque}}, the new free callback must call the potentially set previous free callback. This A\+PI call may set any dynamically allocated fields, including the free callback.
\end{DoxyItemize}

The function will set at least the following fields on \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} (potentially more, depending on hwaccel A\+PI)\+:


\begin{DoxyItemize}
\item All fields set by \mbox{\hyperlink{hwcontext_8c_ac45a7c039eb4e084b692f69ff5f2e217}{av\+\_\+hwframe\+\_\+ctx\+\_\+alloc()}}.
\item Set the format field to hw\+\_\+pix\+\_\+fmt.
\item Set the sw\+\_\+format field to the most suited and most versatile format. (An implication is that this will prefer generic formats over opaque formats with arbitrary restrictions, if possible.)
\item Set the width/height fields to the coded frame size, rounded up to the A\+P\+I-\/specific minimum alignment.
\item Only {\itshape if} the hwaccel requires a pre-\/allocated pool\+: set the initial\+\_\+pool\+\_\+size field to the number of maximum reference surfaces possible with the codec, plus 1 surface for the user to work (meaning the user can safely reference at most 1 decoded surface at a time), plus additional buffering introduced by frame threading. If the hwaccel does not require pre-\/allocation, the field is left to 0, and the decoder will allocate new surfaces on demand during decoding.
\item Possibly \mbox{\hyperlink{struct_a_v_h_w_frames_context_a54e38c3e4355321e23e0f4c7411cb8ee}{A\+V\+H\+W\+Frames\+Context.\+hwctx}} fields, depending on the underlying hardware A\+PI.
\end{DoxyItemize}

Essentially, out\+\_\+frames\+\_\+ref returns the same as \mbox{\hyperlink{hwcontext_8c_ac45a7c039eb4e084b692f69ff5f2e217}{av\+\_\+hwframe\+\_\+ctx\+\_\+alloc()}}, but with basic frame parameters set.

The function is stateless, and does not change the \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} or the device\+\_\+ref \mbox{\hyperlink{struct_a_v_h_w_device_context}{A\+V\+H\+W\+Device\+Context}}.


\begin{DoxyParams}{Parameters}
{\em avctx} & The context which is currently calling get\+\_\+format, and which implicitly contains all state needed for filling the returned \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}} properly. \\
\hline
{\em device\+\_\+ref} & A reference to the \mbox{\hyperlink{struct_a_v_h_w_device_context}{A\+V\+H\+W\+Device\+Context}} describing the device which will be used by the hardware decoder. \\
\hline
{\em hw\+\_\+pix\+\_\+fmt} & The hwaccel format you are going to return from get\+\_\+format. \\
\hline
{\em out\+\_\+frames\+\_\+ref} & On success, set to a reference to an {\itshape uninitialized} \mbox{\hyperlink{struct_a_v_h_w_frames_context}{A\+V\+H\+W\+Frames\+Context}}, created from the given device\+\_\+ref. Fields will be set to values required for decoding. Not changed if an error is returned. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero on success, a negative value on error. The following error codes have special semantics\+: \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+N\+O\+E\+N\+T)}}\+: the decoder does not support this functionality. Setup is always manual, or it is a decoder which does not support setting \mbox{\hyperlink{struct_a_v_codec_context_a3bac44bb0b016ab838780cc19ac277d6}{A\+V\+Codec\+Context.\+hw\+\_\+frames\+\_\+ctx}} at all, or it is a software format. \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+I\+N\+V\+A\+L)}}\+: it is known that hardware decoding is not supported for this configuration, or the device\+\_\+ref is not supported for the hwaccel referenced by hw\+\_\+pix\+\_\+fmt. 
\end{DoxyReturn}


Definition at line 1201 of file decode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga7fc990105405e7958f8051cee81bee6b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga7fc990105405e7958f8051cee81bee6b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c}\label{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c}} 
\index{Decoding@{Decoding}!avcodec\_receive\_frame@{avcodec\_receive\_frame}}
\index{avcodec\_receive\_frame@{avcodec\_receive\_frame}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_receive\_frame()}{avcodec\_receive\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+receive\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{frame }\end{DoxyParamCaption})}

Return decoded output data from a decoder.


\begin{DoxyParams}{Parameters}
{\em avctx} & codec context \\
\hline
{\em frame} & This will be set to a reference-\/counted video or audio frame (depending on the decoder type) allocated by the decoder. Note that the function will always call av\+\_\+frame\+\_\+unref(frame) before doing anything else.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0\+: success, a frame was returned \mbox{\hyperlink{filter__design_8txt_adf2fb515710d47541f7150ecd2950e76}{A\+V\+E\+R\+R\+O\+R(\+E\+A\+G\+A\+I\+N)}}\+: output is not available in this state -\/ user must try to send new input A\+V\+E\+R\+R\+O\+R\+\_\+\+E\+OF\+: the decoder has been fully flushed, and there will be no more output frames \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+I\+N\+V\+A\+L)}}\+: codec not opened, or it is an encoder A\+V\+E\+R\+R\+O\+R\+\_\+\+I\+N\+P\+U\+T\+\_\+\+C\+H\+A\+N\+G\+ED\+: current decoded frame has changed parameters with respect to first decoded frame. Applicable when flag A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+F\+L\+A\+G\+\_\+\+D\+R\+O\+P\+C\+H\+A\+N\+G\+ED is set. other negative values\+: legitimate decoding errors 
\end{DoxyReturn}


Definition at line 669 of file decode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga5b8eff59cf259747cf0b31563e38ded6}\label{group__lavc__decoding_ga5b8eff59cf259747cf0b31563e38ded6}} 
\index{Decoding@{Decoding}!avcodec\_receive\_packet@{avcodec\_receive\_packet}}
\index{avcodec\_receive\_packet@{avcodec\_receive\_packet}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_receive\_packet()}{avcodec\_receive\_packet()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+receive\+\_\+packet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})}

Read encoded data from the encoder.


\begin{DoxyParams}{Parameters}
{\em avctx} & codec context \\
\hline
{\em avpkt} & This will be set to a reference-\/counted packet allocated by the encoder. Note that the function will always call av\+\_\+packet\+\_\+unref(avpkt) before doing anything else. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, otherwise negative error code\+: \mbox{\hyperlink{filter__design_8txt_adf2fb515710d47541f7150ecd2950e76}{A\+V\+E\+R\+R\+O\+R(\+E\+A\+G\+A\+I\+N)}}\+: output is not available in the current state -\/ user must try to send input A\+V\+E\+R\+R\+O\+R\+\_\+\+E\+OF\+: the encoder has been fully flushed, and there will be no more output packets \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+I\+N\+V\+A\+L)}}\+: codec not opened, or it is a decoder other errors\+: legitimate encoding errors 
\end{DoxyReturn}


Definition at line 338 of file encode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga5b8eff59cf259747cf0b31563e38ded6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga5b8eff59cf259747cf0b31563e38ded6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga9395cb802a5febf1f00df31497779169}\label{group__lavc__decoding_ga9395cb802a5febf1f00df31497779169}} 
\index{Decoding@{Decoding}!avcodec\_send\_frame@{avcodec\_send\_frame}}
\index{avcodec\_send\_frame@{avcodec\_send\_frame}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_send\_frame()}{avcodec\_send\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+send\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{const \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{frame }\end{DoxyParamCaption})}

Supply a raw video or audio frame to the encoder. Use \mbox{\hyperlink{group__lavc__decoding_ga5b8eff59cf259747cf0b31563e38ded6}{avcodec\+\_\+receive\+\_\+packet()}} to retrieve buffered output packets.


\begin{DoxyParams}[1]{Parameters}
 & {\em avctx} & codec context \\
\hline
\mbox{\texttt{ in}}  & {\em frame} & \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} containing the raw audio or video frame to be encoded. Ownership of the frame remains with the caller, and the encoder will not write to the frame. The encoder may create a reference to the frame data (or copy it if the frame is not reference-\/counted). It can be N\+U\+LL, in which case it is considered a flush packet. This signals the end of the stream. If the encoder still has packets buffered, it will return them after this call. Once flushing mode has been entered, additional flush packets are ignored, and sending frames will return A\+V\+E\+R\+R\+O\+R\+\_\+\+E\+OF.\\
\hline
\end{DoxyParams}
For audio\+: If A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+V\+A\+R\+I\+A\+B\+L\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE is set, then each frame can have any number of samples. If it is not set, frame-\/$>$nb\+\_\+samples must be equal to avctx-\/$>$frame\+\_\+size for all frames except the last. The final frame may be smaller than avctx-\/$>$frame\+\_\+size. \begin{DoxyReturn}{Returns}
0 on success, otherwise negative error code\+: \mbox{\hyperlink{filter__design_8txt_adf2fb515710d47541f7150ecd2950e76}{A\+V\+E\+R\+R\+O\+R(\+E\+A\+G\+A\+I\+N)}}\+: input is not accepted in the current state -\/ user must read output with \mbox{\hyperlink{group__lavc__decoding_ga5b8eff59cf259747cf0b31563e38ded6}{avcodec\+\_\+receive\+\_\+packet()}} (once all output is read, the packet should be resent, and the call will not fail with E\+A\+G\+A\+IN). A\+V\+E\+R\+R\+O\+R\+\_\+\+E\+OF\+: the encoder has been flushed, and no new frames can be sent to it \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+I\+N\+V\+A\+L)}}\+: codec not opened, refcounted\+\_\+frames not set, it is a decoder, or requires flush \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+N\+O\+M\+E\+M)}}\+: failed to add packet to internal queue, or similar other errors\+: legitimate encoding errors 
\end{DoxyReturn}


Definition at line 307 of file encode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga9395cb802a5febf1f00df31497779169_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga9395cb802a5febf1f00df31497779169_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavc__decoding_ga58bc4bf1e0ac59e27362597e467efff3}\label{group__lavc__decoding_ga58bc4bf1e0ac59e27362597e467efff3}} 
\index{Decoding@{Decoding}!avcodec\_send\_packet@{avcodec\_send\_packet}}
\index{avcodec\_send\_packet@{avcodec\_send\_packet}!Decoding@{Decoding}}
\doxysubsubsection{\texorpdfstring{avcodec\_send\_packet()}{avcodec\_send\_packet()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avcodec\+\_\+send\+\_\+packet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{const \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})}

Supply raw packet data as input to a decoder.

Internally, this call will copy relevant \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} fields, which can influence decoding per-\/packet, and apply them when the packet is actually decoded. (For example \mbox{\hyperlink{struct_a_v_codec_context_af869b808363998c80adf7df6a944a5a6}{A\+V\+Codec\+Context.\+skip\+\_\+frame}}, which might direct the decoder to drop the frame contained by the packet sent with this function.)

\begin{DoxyWarning}{Warning}
The input buffer, avpkt-\/$>$data must be A\+V\+\_\+\+I\+N\+P\+U\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+A\+D\+D\+I\+N\+G\+\_\+\+S\+I\+ZE larger than the actual read bytes because some optimized bitstream readers read 32 or 64 bits at once and could read over the end.

Do not mix this A\+PI with the legacy A\+PI (like \mbox{\hyperlink{group__lavc__decoding_ga3ac51525b7ad8bca4ced9f3446e96532}{avcodec\+\_\+decode\+\_\+video2()}}) on the same \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}}. It will return unexpected results now or in future libavcodec versions.
\end{DoxyWarning}
\begin{DoxyNote}{Note}
The \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} M\+U\+ST have been opened with \mbox{\hyperlink{group__lavc__core_ga11f785a188d7d9df71621001465b0f1d}{avcodec\+\_\+open2()}} before packets may be fed to the decoder.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
 & {\em avctx} & codec context \\
\hline
\mbox{\texttt{ in}}  & {\em avpkt} & The input \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}}. Usually, this will be a single video frame, or several complete audio frames. Ownership of the packet remains with the caller, and the decoder will not write to the packet. The decoder may create a reference to the packet data (or copy it if the packet is not reference-\/counted). Unlike with older A\+P\+Is, the packet is always fully consumed, and if it contains multiple frames (e.\+g. some audio codecs), will require you to call \mbox{\hyperlink{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c}{avcodec\+\_\+receive\+\_\+frame()}} multiple times afterwards before you can send a new packet. It can be N\+U\+LL (or an \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} with data set to N\+U\+LL and size set to 0); in this case, it is considered a flush packet, which signals the end of the stream. Sending the first flush packet will return success. Subsequent ones are unnecessary and will return A\+V\+E\+R\+R\+O\+R\+\_\+\+E\+OF. If the decoder still has frames buffered, it will return them after sending a flush packet.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, otherwise negative error code\+: \mbox{\hyperlink{filter__design_8txt_adf2fb515710d47541f7150ecd2950e76}{A\+V\+E\+R\+R\+O\+R(\+E\+A\+G\+A\+I\+N)}}\+: input is not accepted in the current state -\/ user must read output with \mbox{\hyperlink{group__lavc__decoding_ga11e6542c4e66d3028668788a1a74217c}{avcodec\+\_\+receive\+\_\+frame()}} (once all output is read, the packet should be resent, and the call will not fail with E\+A\+G\+A\+IN). A\+V\+E\+R\+R\+O\+R\+\_\+\+E\+OF\+: the decoder has been flushed, and no new packets can be sent to it (also returned if more than 1 flush packet is sent) \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+I\+N\+V\+A\+L)}}\+: codec not opened, it is an encoder, or requires flush \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+N\+O\+M\+E\+M)}}\+: failed to add packet to internal queue, or similar other errors\+: legitimate decoding errors 
\end{DoxyReturn}


Definition at line 606 of file decode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga58bc4bf1e0ac59e27362597e467efff3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavc__decoding_ga58bc4bf1e0ac59e27362597e467efff3_icgraph}
\end{center}
\end{figure}
