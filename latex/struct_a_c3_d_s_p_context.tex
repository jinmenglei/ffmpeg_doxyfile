\hypertarget{struct_a_c3_d_s_p_context}{}\doxysection{A\+C3\+D\+S\+P\+Context Struct Reference}
\label{struct_a_c3_d_s_p_context}\index{AC3DSPContext@{AC3DSPContext}}


{\ttfamily \#include $<$ac3dsp.\+h$>$}



Collaboration diagram for A\+C3\+D\+S\+P\+Context\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{struct_a_c3_d_s_p_context__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a8ea9e94f34504806d0ec582cbdad84b3}{ac3\+\_\+exponent\+\_\+min}} )(\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{eval_8c_afc05d41e1a0fc024ac21072d11d4f263}{exp}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} num\+\_\+reuse\+\_\+blocks, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} nb\+\_\+coefs)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_ab2f93bc156ce8a68bad0dfe3914ab764}{ac3\+\_\+max\+\_\+msb\+\_\+abs\+\_\+int16}} )(const int16\+\_\+t $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_ac4024162f79ed32000153fc469803745}{ac3\+\_\+lshift\+\_\+int16}} )(int16\+\_\+t $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2swresample_8c_a78dd9f7c9440136f1bd89fab33ad2fb2}{shift}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a1aad04e431f09d6b32ffd46ab790bf5a}{ac3\+\_\+rshift\+\_\+int32}} )(\mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2swresample_8c_a78dd9f7c9440136f1bd89fab33ad2fb2}{shift}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a7e24543c707968639a67b70f5105e048}{float\+\_\+to\+\_\+fixed24}} )(\mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$dst, const float $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a5040a0de4b0b2d4db0b876fb22c91fc9}{bit\+\_\+alloc\+\_\+calc\+\_\+bap}} )(int16\+\_\+t $\ast$\mbox{\hyperlink{lzw_8c_a450ea4ae52aeb4ca6e2fabf02c695153}{mask}}, int16\+\_\+t $\ast$psd, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} start, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{avrndec_8c_a13191ba45577b1d4f9b37d64df91eb55}{end}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} snr\+\_\+offset, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{cuda__runtime_8h_a4585493d7811b0c99a998ad111f614d7}{floor}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{dolby__e_8h_ab5308c82f464de497c2ced9a3a4cf76c}{bap\+\_\+tab}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$bap)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a908013e439d3992407f9fb65871c9939}{update\+\_\+bap\+\_\+counts}} )(uint16\+\_\+t mant\+\_\+cnt\mbox{[}16\mbox{]}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$bap, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_ad674cb5d6fd451588f946bad2b50908d}{compute\+\_\+mantissa\+\_\+size}} )(uint16\+\_\+t mant\+\_\+cnt\mbox{[}6\mbox{]}\mbox{[}16\mbox{]})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a65c51ff695dce293a676bfbb782ac17a}{extract\+\_\+exponents}} )(\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{eval_8c_afc05d41e1a0fc024ac21072d11d4f263}{exp}}, \mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$coef, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} nb\+\_\+coefs)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a4f73265bad048c479e237a481216691e}{sum\+\_\+square\+\_\+butterfly\+\_\+int32}} )(int64\+\_\+t sum\mbox{[}4\mbox{]}, const \mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$coef0, const \mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$coef1, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a3f2fd852d8851b165275217025c7aa82}{sum\+\_\+square\+\_\+butterfly\+\_\+float}} )(float sum\mbox{[}4\mbox{]}, const float $\ast$coef0, const float $\ast$coef1, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{struct_a_c3_d_s_p_context_a100255655a9e5e76f0e18dfe48605755}{out\+\_\+channels}}
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{struct_a_c3_d_s_p_context_acb1b4810809a6846e4de37502b8a532a}{in\+\_\+channels}}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a566f62835eaa1a6f5bf778de64ff8a6d}{downmix}} )(float $\ast$$\ast$\mbox{\hyperlink{filter__design_8txt_ac53f7e33bdbd6ea3ec96ee0f1292ee84}{samples}}, float $\ast$$\ast$matrix, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_af15f389e9b2c7b12749c785d00206b1b}{downmix\+\_\+fixed}} )(\mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$$\ast$\mbox{\hyperlink{filter__design_8txt_ac53f7e33bdbd6ea3ec96ee0f1292ee84}{samples}}, int16\+\_\+t $\ast$$\ast$matrix, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ \mbox{\hyperlink{struct_a_c3_d_s_p_context_a960a0c6b36f4145848970b8032c85c8a}{apply\+\_\+window\+\_\+int16}} )(int16\+\_\+t $\ast$\mbox{\hyperlink{filter__design_8txt_ad29e68e2acddc1f10f601345de7bf4aa}{output}}, const int16\+\_\+t $\ast$\mbox{\hyperlink{filter__design_8txt_ae5b41782d9a629f85214ea4140ed1acd}{input}}, const int16\+\_\+t $\ast$\mbox{\hyperlink{hca__data_8h_a446bc3805b5a8b73ee7121ebd7e4e8b0}{window}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 33 of file ac3dsp.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a8ea9e94f34504806d0ec582cbdad84b3}\label{struct_a_c3_d_s_p_context_a8ea9e94f34504806d0ec582cbdad84b3}} 
\index{AC3DSPContext@{AC3DSPContext}!ac3\_exponent\_min@{ac3\_exponent\_min}}
\index{ac3\_exponent\_min@{ac3\_exponent\_min}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{ac3\_exponent\_min}{ac3\_exponent\_min}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::ac3\+\_\+exponent\+\_\+min) (\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{eval_8c_afc05d41e1a0fc024ac21072d11d4f263}{exp}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} num\+\_\+reuse\+\_\+blocks, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} nb\+\_\+coefs)}

Set each encoded exponent in a block to the minimum of itself and the exponents in the same frequency bin of up to 5 following blocks. 
\begin{DoxyParams}{Parameters}
{\em exp} & pointer to the start of the current block of exponents. constraints\+: align 16 \\
\hline
{\em num\+\_\+reuse\+\_\+blocks} & number of blocks that will reuse exponents from the current block. constraints\+: range 0 to 5 \\
\hline
{\em nb\+\_\+coefs} & number of frequency coefficients. \\
\hline
\end{DoxyParams}


Definition at line 43 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_ac4024162f79ed32000153fc469803745}\label{struct_a_c3_d_s_p_context_ac4024162f79ed32000153fc469803745}} 
\index{AC3DSPContext@{AC3DSPContext}!ac3\_lshift\_int16@{ac3\_lshift\_int16}}
\index{ac3\_lshift\_int16@{ac3\_lshift\_int16}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{ac3\_lshift\_int16}{ac3\_lshift\_int16}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::ac3\+\_\+lshift\+\_\+int16) (int16\+\_\+t $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2swresample_8c_a78dd9f7c9440136f1bd89fab33ad2fb2}{shift}})}

Left-\/shift each value in an array of int16\+\_\+t by a specified amount. 
\begin{DoxyParams}{Parameters}
{\em src} & input array constraints\+: align 16 \\
\hline
{\em len} & number of values in the array constraints\+: multiple of 32 greater than 0 \\
\hline
{\em shift} & left shift amount constraints\+: range \mbox{[}0,15\mbox{]} \\
\hline
\end{DoxyParams}


Definition at line 65 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_ab2f93bc156ce8a68bad0dfe3914ab764}\label{struct_a_c3_d_s_p_context_ab2f93bc156ce8a68bad0dfe3914ab764}} 
\index{AC3DSPContext@{AC3DSPContext}!ac3\_max\_msb\_abs\_int16@{ac3\_max\_msb\_abs\_int16}}
\index{ac3\_max\_msb\_abs\_int16@{ac3\_max\_msb\_abs\_int16}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{ac3\_max\_msb\_abs\_int16}{ac3\_max\_msb\_abs\_int16}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$ A\+C3\+D\+S\+P\+Context\+::ac3\+\_\+max\+\_\+msb\+\_\+abs\+\_\+int16) (const int16\+\_\+t $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}

Calculate the maximum M\+SB of the absolute value of each element in an array of int16\+\_\+t. 
\begin{DoxyParams}{Parameters}
{\em src} & input array constraints\+: align 16. values must be in range \mbox{[}-\/32767,32767\mbox{]} \\
\hline
{\em len} & number of values in the array constraints\+: multiple of 16 greater than 0 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a value with the same M\+SB as \mbox{\hyperlink{cuda__runtime_8h_affe776513b24d84b39af8ab0930fef7f}{max(abs(src\mbox{[}$\,$\mbox{]}))}} 
\end{DoxyReturn}


Definition at line 54 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a1aad04e431f09d6b32ffd46ab790bf5a}\label{struct_a_c3_d_s_p_context_a1aad04e431f09d6b32ffd46ab790bf5a}} 
\index{AC3DSPContext@{AC3DSPContext}!ac3\_rshift\_int32@{ac3\_rshift\_int32}}
\index{ac3\_rshift\_int32@{ac3\_rshift\_int32}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{ac3\_rshift\_int32}{ac3\_rshift\_int32}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::ac3\+\_\+rshift\+\_\+int32) (\mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2swresample_8c_a78dd9f7c9440136f1bd89fab33ad2fb2}{shift}})}

Right-\/shift each value in an array of int32\+\_\+t by a specified amount. 
\begin{DoxyParams}{Parameters}
{\em src} & input array constraints\+: align 16 \\
\hline
{\em len} & number of values in the array constraints\+: multiple of 16 greater than 0 \\
\hline
{\em shift} & right shift amount constraints\+: range \mbox{[}0,31\mbox{]} \\
\hline
\end{DoxyParams}


Definition at line 76 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a960a0c6b36f4145848970b8032c85c8a}\label{struct_a_c3_d_s_p_context_a960a0c6b36f4145848970b8032c85c8a}} 
\index{AC3DSPContext@{AC3DSPContext}!apply\_window\_int16@{apply\_window\_int16}}
\index{apply\_window\_int16@{apply\_window\_int16}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{apply\_window\_int16}{apply\_window\_int16}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::apply\+\_\+window\+\_\+int16) (int16\+\_\+t $\ast$\mbox{\hyperlink{filter__design_8txt_ad29e68e2acddc1f10f601345de7bf4aa}{output}}, const int16\+\_\+t $\ast$\mbox{\hyperlink{filter__design_8txt_ae5b41782d9a629f85214ea4140ed1acd}{input}}, const int16\+\_\+t $\ast$\mbox{\hyperlink{hca__data_8h_a446bc3805b5a8b73ee7121ebd7e4e8b0}{window}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}

Apply symmetric window in 16-\/bit fixed-\/point. 
\begin{DoxyParams}{Parameters}
{\em output} & destination array constraints\+: 16-\/byte aligned \\
\hline
{\em input} & source array constraints\+: 16-\/byte aligned \\
\hline
{\em window} & window array constraints\+: 16-\/byte aligned, at least len/2 elements \\
\hline
{\em len} & full window length constraints\+: multiple of ? greater than zero \\
\hline
\end{DoxyParams}


Definition at line 151 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a5040a0de4b0b2d4db0b876fb22c91fc9}\label{struct_a_c3_d_s_p_context_a5040a0de4b0b2d4db0b876fb22c91fc9}} 
\index{AC3DSPContext@{AC3DSPContext}!bit\_alloc\_calc\_bap@{bit\_alloc\_calc\_bap}}
\index{bit\_alloc\_calc\_bap@{bit\_alloc\_calc\_bap}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{bit\_alloc\_calc\_bap}{bit\_alloc\_calc\_bap}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::bit\+\_\+alloc\+\_\+calc\+\_\+bap) (int16\+\_\+t $\ast$\mbox{\hyperlink{lzw_8c_a450ea4ae52aeb4ca6e2fabf02c695153}{mask}}, int16\+\_\+t $\ast$psd, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} start, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{avrndec_8c_a13191ba45577b1d4f9b37d64df91eb55}{end}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} snr\+\_\+offset, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{cuda__runtime_8h_a4585493d7811b0c99a998ad111f614d7}{floor}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{dolby__e_8h_ab5308c82f464de497c2ced9a3a4cf76c}{bap\+\_\+tab}}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$bap)}

Calculate bit allocation pointers. The S\+NR is the difference between the masking curve and the signal. A\+C-\/3 uses this value for each frequency bin to allocate bits. The snroffset parameter is a global adjustment to the S\+NR for all bins.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mask} & masking curve \\
\hline
\mbox{\texttt{ in}}  & {\em psd} & signal power for each frequency bin \\
\hline
\mbox{\texttt{ in}}  & {\em start} & starting bin location \\
\hline
\mbox{\texttt{ in}}  & {\em end} & ending bin location \\
\hline
\mbox{\texttt{ in}}  & {\em snr\+\_\+offset} & S\+NR adjustment \\
\hline
\mbox{\texttt{ in}}  & {\em floor} & noise floor \\
\hline
\mbox{\texttt{ in}}  & {\em bap\+\_\+tab} & look-\/up table for bit allocation pointers \\
\hline
\mbox{\texttt{ out}}  & {\em bap} & bit allocation pointers \\
\hline
\end{DoxyParams}


Definition at line 106 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_ad674cb5d6fd451588f946bad2b50908d}\label{struct_a_c3_d_s_p_context_ad674cb5d6fd451588f946bad2b50908d}} 
\index{AC3DSPContext@{AC3DSPContext}!compute\_mantissa\_size@{compute\_mantissa\_size}}
\index{compute\_mantissa\_size@{compute\_mantissa\_size}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{compute\_mantissa\_size}{compute\_mantissa\_size}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}($\ast$ A\+C3\+D\+S\+P\+Context\+::compute\+\_\+mantissa\+\_\+size) (uint16\+\_\+t mant\+\_\+cnt\mbox{[}6\mbox{]}\mbox{[}16\mbox{]})}

Calculate the number of bits needed to encode a set of mantissas.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mant\+\_\+cnt} & bap counts for all blocks \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mantissa bit count 
\end{DoxyReturn}


Definition at line 125 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a566f62835eaa1a6f5bf778de64ff8a6d}\label{struct_a_c3_d_s_p_context_a566f62835eaa1a6f5bf778de64ff8a6d}} 
\index{AC3DSPContext@{AC3DSPContext}!downmix@{downmix}}
\index{downmix@{downmix}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{downmix}{downmix}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::downmix) (float $\ast$$\ast$\mbox{\hyperlink{filter__design_8txt_ac53f7e33bdbd6ea3ec96ee0f1292ee84}{samples}}, float $\ast$$\ast$matrix, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}



Definition at line 137 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_af15f389e9b2c7b12749c785d00206b1b}\label{struct_a_c3_d_s_p_context_af15f389e9b2c7b12749c785d00206b1b}} 
\index{AC3DSPContext@{AC3DSPContext}!downmix\_fixed@{downmix\_fixed}}
\index{downmix\_fixed@{downmix\_fixed}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{downmix\_fixed}{downmix\_fixed}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::downmix\+\_\+fixed) (\mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$$\ast$\mbox{\hyperlink{filter__design_8txt_ac53f7e33bdbd6ea3ec96ee0f1292ee84}{samples}}, int16\+\_\+t $\ast$$\ast$matrix, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}



Definition at line 138 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a65c51ff695dce293a676bfbb782ac17a}\label{struct_a_c3_d_s_p_context_a65c51ff695dce293a676bfbb782ac17a}} 
\index{AC3DSPContext@{AC3DSPContext}!extract\_exponents@{extract\_exponents}}
\index{extract\_exponents@{extract\_exponents}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{extract\_exponents}{extract\_exponents}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::extract\+\_\+exponents) (\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{eval_8c_afc05d41e1a0fc024ac21072d11d4f263}{exp}}, \mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$coef, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} nb\+\_\+coefs)}



Definition at line 127 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a7e24543c707968639a67b70f5105e048}\label{struct_a_c3_d_s_p_context_a7e24543c707968639a67b70f5105e048}} 
\index{AC3DSPContext@{AC3DSPContext}!float\_to\_fixed24@{float\_to\_fixed24}}
\index{float\_to\_fixed24@{float\_to\_fixed24}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{float\_to\_fixed24}{float\_to\_fixed24}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::float\+\_\+to\+\_\+fixed24) (\mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$dst, const float $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}

Convert an array of float in range \mbox{[}-\/1.\+0,1.\+0\mbox{]} to int32\+\_\+t with range \mbox{[}-\/(1$<$$<$24),(1$<$$<$24)\mbox{]}


\begin{DoxyParams}{Parameters}
{\em dst} & destination array of int32\+\_\+t. constraints\+: 16-\/byte aligned \\
\hline
{\em src} & source array of float. constraints\+: 16-\/byte aligned \\
\hline
{\em len} & number of elements to convert. constraints\+: multiple of 32 greater than zero \\
\hline
\end{DoxyParams}


Definition at line 89 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_acb1b4810809a6846e4de37502b8a532a}\label{struct_a_c3_d_s_p_context_acb1b4810809a6846e4de37502b8a532a}} 
\index{AC3DSPContext@{AC3DSPContext}!in\_channels@{in\_channels}}
\index{in\_channels@{in\_channels}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{in\_channels}{in\_channels}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} A\+C3\+D\+S\+P\+Context\+::in\+\_\+channels}



Definition at line 136 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a100255655a9e5e76f0e18dfe48605755}\label{struct_a_c3_d_s_p_context_a100255655a9e5e76f0e18dfe48605755}} 
\index{AC3DSPContext@{AC3DSPContext}!out\_channels@{out\_channels}}
\index{out\_channels@{out\_channels}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{out\_channels}{out\_channels}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} A\+C3\+D\+S\+P\+Context\+::out\+\_\+channels}



Definition at line 135 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a3f2fd852d8851b165275217025c7aa82}\label{struct_a_c3_d_s_p_context_a3f2fd852d8851b165275217025c7aa82}} 
\index{AC3DSPContext@{AC3DSPContext}!sum\_square\_butterfly\_float@{sum\_square\_butterfly\_float}}
\index{sum\_square\_butterfly\_float@{sum\_square\_butterfly\_float}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{sum\_square\_butterfly\_float}{sum\_square\_butterfly\_float}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::sum\+\_\+square\+\_\+butterfly\+\_\+float) (float sum\mbox{[}4\mbox{]}, const float $\ast$coef0, const float $\ast$coef1, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}



Definition at line 132 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a4f73265bad048c479e237a481216691e}\label{struct_a_c3_d_s_p_context_a4f73265bad048c479e237a481216691e}} 
\index{AC3DSPContext@{AC3DSPContext}!sum\_square\_butterfly\_int32@{sum\_square\_butterfly\_int32}}
\index{sum\_square\_butterfly\_int32@{sum\_square\_butterfly\_int32}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{sum\_square\_butterfly\_int32}{sum\_square\_butterfly\_int32}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::sum\+\_\+square\+\_\+butterfly\+\_\+int32) (int64\+\_\+t sum\mbox{[}4\mbox{]}, const \mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$coef0, const \mbox{\hyperlink{audioconvert_8c_afd12020da5a235dfcf0c3c748fb5baed}{int32\+\_\+t}} $\ast$coef1, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}



Definition at line 129 of file ac3dsp.\+h.

\mbox{\Hypertarget{struct_a_c3_d_s_p_context_a908013e439d3992407f9fb65871c9939}\label{struct_a_c3_d_s_p_context_a908013e439d3992407f9fb65871c9939}} 
\index{AC3DSPContext@{AC3DSPContext}!update\_bap\_counts@{update\_bap\_counts}}
\index{update\_bap\_counts@{update\_bap\_counts}!AC3DSPContext@{AC3DSPContext}}
\doxysubsubsection{\texorpdfstring{update\_bap\_counts}{update\_bap\_counts}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}($\ast$ A\+C3\+D\+S\+P\+Context\+::update\+\_\+bap\+\_\+counts) (uint16\+\_\+t mant\+\_\+cnt\mbox{[}16\mbox{]}, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$bap, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}})}

Update bap counts using the supplied array of bap.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em mant\+\_\+cnt} & bap counts for 1 block \\
\hline
\mbox{\texttt{ in}}  & {\em bap} & array of bap, pointing to start coef bin \\
\hline
\mbox{\texttt{ in}}  & {\em len} & number of elements to process \\
\hline
\end{DoxyParams}


Definition at line 117 of file ac3dsp.\+h.



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/github/ffmpeg/libavcodec/\mbox{\hyperlink{ac3dsp_8h}{ac3dsp.\+h}}\end{DoxyCompactItemize}
