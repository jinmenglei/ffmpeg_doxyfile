\hypertarget{vf__removelogo_8c}{}\doxysection{E\+:/github/ffmpeg/libavfilter/vf\+\_\+removelogo.c File Reference}
\label{vf__removelogo_8c}\index{E:/github/ffmpeg/libavfilter/vf\_removelogo.c@{E:/github/ffmpeg/libavfilter/vf\_removelogo.c}}
{\ttfamily \#include \char`\"{}libavutil/imgutils.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/opt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avfilter.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}formats.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}video.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}bbox.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lavfutils.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lswsutils.\+h\char`\"{}}\newline
Include dependency graph for vf\+\_\+removelogo.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vf__removelogo_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_removelogo_context}{Removelogo\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{vf__removelogo_8c_ad12dce0a7bf9d908b172a28155b3d261}{O\+F\+F\+S\+ET}}(x)~offsetof(\mbox{\hyperlink{struct_removelogo_context}{Removelogo\+Context}}, x)
\item 
\#define \mbox{\hyperlink{vf__removelogo_8c_a6ccad09b4a2a06ae178418fdccf5940d}{F\+L\+A\+GS}}~\mbox{\hyperlink{opt_8h_a1fa5f9ced9142668142f316b0aad2cfc}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+F\+I\+L\+T\+E\+R\+I\+N\+G\+\_\+\+P\+A\+R\+AM}}$\vert$\mbox{\hyperlink{opt_8h_aaf3d0af9d7eca757034486a8eb896246}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+V\+I\+D\+E\+O\+\_\+\+P\+A\+R\+AM}}
\item 
\#define \mbox{\hyperlink{vf__removelogo_8c_ab7d1882e24f466b2b1ec354473b0e15f}{apply\+\_\+mask\+\_\+fudge\+\_\+factor}}(x)~(((x) $>$$>$ 2) + (x))
\item 
\#define \mbox{\hyperlink{vf__removelogo_8c_aeafc4275c9846106c39e07729b6bd3cd}{S\+H\+O\+W\+\_\+\+L\+O\+G\+O\+\_\+\+I\+N\+FO}}(\mbox{\hyperlink{libavcodec_2iff_8c_ad252b7381b15bd112907d7bc830a424a}{mask\+\_\+type}})
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_removelogo_context}{Removelogo\+Context}} \mbox{\hyperlink{vf__removelogo_8c_afdfc3e0ec4df00de41f46495ed578375}{Removelogo\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{vf__removelogo_8c_a398e248c8122f3ec50aa79ae02439e36}{A\+V\+F\+I\+L\+T\+E\+R\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+C\+L\+A\+SS}} (removelogo)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vf__removelogo_8c_a8ec46bc3f41fb28da80689ca58099d4f}{convert\+\_\+mask\+\_\+to\+\_\+strength\+\_\+mask}} (\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{filter__design_8txt_ac6f0a759dab43b0d58cd04fb6513534c}{data}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} linesize, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{sw__rgb_8c_aba9ed0487b0aa23eba534648df8384c0}{w}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} min\+\_\+val, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$max\+\_\+mask\+\_\+size)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__removelogo_8c_a5b4e302dfe4b2ee5369f0278621acd5f}{query\+\_\+formats}} (\mbox{\hyperlink{struct_a_v_filter_context}{A\+V\+Filter\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__removelogo_8c_a8e0c33333b062c292c246ae7a3385840}{load\+\_\+mask}} (\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$\mbox{\hyperlink{lzw_8c_a450ea4ae52aeb4ca6e2fabf02c695153}{mask}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{sw__rgb_8c_aba9ed0487b0aa23eba534648df8384c0}{w}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, const char $\ast$filename, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$log\+\_\+ctx)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vf__removelogo_8c_a487829aa6698feb1511e85e3a44b7276}{generate\+\_\+half\+\_\+size\+\_\+image}} (const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$src\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} src\+\_\+linesize, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$dst\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} dst\+\_\+linesize, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} src\+\_\+w, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} src\+\_\+h, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$max\+\_\+mask\+\_\+size)
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__removelogo_8c_ab7cd5b404747a481115ce1d090fd11b8}{init}} (\mbox{\hyperlink{struct_a_v_filter_context}{A\+V\+Filter\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__removelogo_8c_afe4a0f1afa95e519217447eb871d38a8}{config\+\_\+props\+\_\+input}} (\mbox{\hyperlink{struct_a_v_filter_link}{A\+V\+Filter\+Link}} $\ast$\mbox{\hyperlink{filter__design_8txt_a720b17cc89203cfc793b5d7e17a6ca88}{inlink}})
\item 
static unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__removelogo_8c_ae58af1dd8ca852009ea5c1bfdb671d6e}{blur\+\_\+pixel}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$$\ast$$\ast$\mbox{\hyperlink{lzw_8c_a450ea4ae52aeb4ca6e2fabf02c695153}{mask}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$mask\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} mask\+\_\+linesize, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$image\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} image\+\_\+linesize, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{sw__rgb_8c_aba9ed0487b0aa23eba534648df8384c0}{w}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} x, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} y)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vf__removelogo_8c_a3618517fea30c6f8309141b365c3ce6a}{blur\+\_\+image}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$$\ast$$\ast$\mbox{\hyperlink{lzw_8c_a450ea4ae52aeb4ca6e2fabf02c695153}{mask}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$src\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} src\+\_\+linesize, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$dst\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} dst\+\_\+linesize, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$mask\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} mask\+\_\+linesize, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{sw__rgb_8c_aba9ed0487b0aa23eba534648df8384c0}{w}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavfilter_2af__afir_8c_a2935ad4574b6b85a524d227a44e8f171}{direct}}, \mbox{\hyperlink{struct_f_f_bounding_box}{F\+F\+Bounding\+Box}} $\ast$bbox)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__removelogo_8c_a6488998983896e30d1b975c8d56dab48}{filter\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_filter_link}{A\+V\+Filter\+Link}} $\ast$\mbox{\hyperlink{filter__design_8txt_a720b17cc89203cfc793b5d7e17a6ca88}{inlink}}, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$inpicref)
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vf__removelogo_8c_abbead6cde1da3e72ce200578c426f1e6}{uninit}} (\mbox{\hyperlink{struct_a_v_filter_context}{A\+V\+Filter\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} \mbox{\hyperlink{vf__removelogo_8c_a94aa8f40dba6b5cf974cdb7245c9480d}{removelogo\+\_\+options}} \mbox{[}$\,$\mbox{]}
\item 
static const \mbox{\hyperlink{struct_a_v_filter_pad}{A\+V\+Filter\+Pad}} \mbox{\hyperlink{vf__removelogo_8c_abe50eff1de33968cf59d1fd3c2f31331}{removelogo\+\_\+inputs}} \mbox{[}$\,$\mbox{]}
\item 
static const \mbox{\hyperlink{struct_a_v_filter_pad}{A\+V\+Filter\+Pad}} \mbox{\hyperlink{vf__removelogo_8c_a53823a2202d4162a1939cd96600a12b1}{removelogo\+\_\+outputs}} \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{struct_a_v_filter}{A\+V\+Filter}} \mbox{\hyperlink{vf__removelogo_8c_a1bcaaeb74b5057798c9fba0bde19cc22}{ff\+\_\+vf\+\_\+removelogo}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Advanced blur-\/based logo removing filter

This filter loads an image mask file showing where a logo is and uses a blur transform to remove the logo.

Based on the libmpcodecs remove-\/logo filter by Robert Edele. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{vf__removelogo_8c_ab7d1882e24f466b2b1ec354473b0e15f}\label{vf__removelogo_8c_ab7d1882e24f466b2b1ec354473b0e15f}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!apply\_mask\_fudge\_factor@{apply\_mask\_fudge\_factor}}
\index{apply\_mask\_fudge\_factor@{apply\_mask\_fudge\_factor}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{apply\_mask\_fudge\_factor}{apply\_mask\_fudge\_factor}}
{\footnotesize\ttfamily \#define apply\+\_\+mask\+\_\+fudge\+\_\+factor(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~(((x) $>$$>$ 2) + (x))}

Choose a slightly larger mask size to improve performance.

This function maps the absolute minimum mask size needed to the mask size we\textquotesingle{}ll actually use. \mbox{\hyperlink{vf__dblur_8c_a692c2fe66d37c8a385f1c91f5942ea0d}{f(x)}} = x (the smallest that will work) will produce the sharpest results, but will be quite jittery. \mbox{\hyperlink{vf__dblur_8c_a692c2fe66d37c8a385f1c91f5942ea0d}{f(x)}} = 1.\+25x (what I\textquotesingle{}m using) is a good tradeoff in my opinion. This will calculate only at init-\/time, so you can put a long expression here without effecting performance. 

Definition at line 117 of file vf\+\_\+removelogo.\+c.

\mbox{\Hypertarget{vf__removelogo_8c_a6ccad09b4a2a06ae178418fdccf5940d}\label{vf__removelogo_8c_a6ccad09b4a2a06ae178418fdccf5940d}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!FLAGS@{FLAGS}}
\index{FLAGS@{FLAGS}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{FLAGS}{FLAGS}}
{\footnotesize\ttfamily \#define F\+L\+A\+GS~\mbox{\hyperlink{opt_8h_a1fa5f9ced9142668142f316b0aad2cfc}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+F\+I\+L\+T\+E\+R\+I\+N\+G\+\_\+\+P\+A\+R\+AM}}$\vert$\mbox{\hyperlink{opt_8h_aaf3d0af9d7eca757034486a8eb896246}{A\+V\+\_\+\+O\+P\+T\+\_\+\+F\+L\+A\+G\+\_\+\+V\+I\+D\+E\+O\+\_\+\+P\+A\+R\+AM}}}



Definition at line 98 of file vf\+\_\+removelogo.\+c.

\mbox{\Hypertarget{vf__removelogo_8c_ad12dce0a7bf9d908b172a28155b3d261}\label{vf__removelogo_8c_ad12dce0a7bf9d908b172a28155b3d261}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!OFFSET@{OFFSET}}
\index{OFFSET@{OFFSET}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{OFFSET}{OFFSET}}
{\footnotesize\ttfamily \#define O\+F\+F\+S\+ET(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~offsetof(\mbox{\hyperlink{struct_removelogo_context}{Removelogo\+Context}}, x)}



Definition at line 97 of file vf\+\_\+removelogo.\+c.

\mbox{\Hypertarget{vf__removelogo_8c_aeafc4275c9846106c39e07729b6bd3cd}\label{vf__removelogo_8c_aeafc4275c9846106c39e07729b6bd3cd}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!SHOW\_LOGO\_INFO@{SHOW\_LOGO\_INFO}}
\index{SHOW\_LOGO\_INFO@{SHOW\_LOGO\_INFO}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{SHOW\_LOGO\_INFO}{SHOW\_LOGO\_INFO}}
{\footnotesize\ttfamily \#define S\+H\+O\+W\+\_\+\+L\+O\+G\+O\+\_\+\+I\+N\+FO(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{libavcodec_2iff_8c_ad252b7381b15bd112907d7bc830a424a}{mask\+\_\+type}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{tableprint__vlc_8h_af38b91523053c244564a94f1ef862c2c}{av\_log}}(\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}}, \mbox{\hyperlink{group__lavu__log__constants_ga9b58b28e2d429b930b69db19877f76a8}{AV\_LOG\_VERBOSE}}, \#\mbox{\hyperlink{libavcodec_2iff_8c_ad252b7381b15bd112907d7bc830a424a}{mask\_type}} \textcolor{stringliteral}{"{} x1:\%d x2:\%d y1:\%d y2:\%d max\_mask\_size:\%d\(\backslash\)n"{}}, \(\backslash\)}
\DoxyCodeLine{           \mbox{\hyperlink{cbs__vp9_8c_a5950eda76c8ffc67651de936cd8c79ec}{s}}-\/>mask\_type\#\#\_mask\_bbox.x1, \mbox{\hyperlink{cbs__vp9_8c_a5950eda76c8ffc67651de936cd8c79ec}{s}}-\/>mask\_type\#\#\_mask\_bbox.x2, \(\backslash\)}
\DoxyCodeLine{           \mbox{\hyperlink{cbs__vp9_8c_a5950eda76c8ffc67651de936cd8c79ec}{s}}-\/>mask\_type\#\#\_mask\_bbox.y1, \mbox{\hyperlink{cbs__vp9_8c_a5950eda76c8ffc67651de936cd8c79ec}{s}}-\/>mask\_type\#\#\_mask\_bbox.y2, \(\backslash\)}
\DoxyCodeLine{           \mbox{\hyperlink{libavcodec_2iff_8c_ad252b7381b15bd112907d7bc830a424a}{mask\_type}}\#\#\_max\_mask\_size);}

\end{DoxyCode}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{vf__removelogo_8c_afdfc3e0ec4df00de41f46495ed578375}\label{vf__removelogo_8c_afdfc3e0ec4df00de41f46495ed578375}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!RemovelogoContext@{RemovelogoContext}}
\index{RemovelogoContext@{RemovelogoContext}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{RemovelogoContext}{RemovelogoContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_removelogo_context}{Removelogo\+Context}} \mbox{\hyperlink{struct_removelogo_context}{Removelogo\+Context}}}

This code implements a filter to remove annoying TV logos and other annoying images placed onto a video stream. It works by filling in the pixels that comprise the logo with neighboring pixels. The transform is very loosely based on a gaussian blur, but it is different enough to merit its own paragraph later on. It is a major improvement on the old delogo filter as it both uses a better blurring algorithm and uses a bitmap to use an arbitrary and generally much tighter fitting shape than a rectangle.

The logo removal algorithm has two key points. The first is that it distinguishes between pixels in the logo and those not in the logo by using the passed-\/in bitmap. Pixels not in the logo are copied over directly without being modified and they also serve as source pixels for the logo fill-\/in. Pixels inside the logo have the mask applied.

At init-\/time the bitmap is reprocessed internally, and the distance to the nearest edge of the logo (Manhattan distance), along with a little extra to remove rough edges, is stored in each pixel. This is done using an in-\/place erosion algorithm, and incrementing each pixel that survives any given erosion. Once every pixel is eroded, the maximum value is recorded, and a set of masks from size 0 to this size are generaged. The masks are circular binary masks, where each pixel within a radius N (where N is the size of the mask) is a 1, and all other pixels are a 0. Although a gaussian mask would be more mathematically accurate, a binary mask works better in practice because we generally do not use the central pixels in the mask (because they are in the logo region), and thus a gaussian mask will cause too little blur and thus a very unstable image.

The mask is applied in a special way. Namely, only pixels in the mask that line up to pixels outside the logo are used. The dynamic mask size means that the mask is just big enough so that the edges touch pixels outside the logo, so the blurring is kept to a minimum and at least the first boundary condition is met (that the image function itself is continuous), even if the second boundary condition (that the derivative of the image function is continuous) is not met. A masking algorithm that does preserve the second boundary coundition (perhaps something based on a highly-\/modified bi-\/cubic algorithm) should offer even better results on paper, but the noise in a typical TV signal should make anything based on derivatives hopelessly noisy. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{vf__removelogo_8c_a398e248c8122f3ec50aa79ae02439e36}\label{vf__removelogo_8c_a398e248c8122f3ec50aa79ae02439e36}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!AVFILTER\_DEFINE\_CLASS@{AVFILTER\_DEFINE\_CLASS}}
\index{AVFILTER\_DEFINE\_CLASS@{AVFILTER\_DEFINE\_CLASS}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{AVFILTER\_DEFINE\_CLASS()}{AVFILTER\_DEFINE\_CLASS()}}
{\footnotesize\ttfamily A\+V\+F\+I\+L\+T\+E\+R\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+C\+L\+A\+SS (\begin{DoxyParamCaption}\item[{removelogo}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vf__removelogo_8c_a3618517fea30c6f8309141b365c3ce6a}\label{vf__removelogo_8c_a3618517fea30c6f8309141b365c3ce6a}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!blur\_image@{blur\_image}}
\index{blur\_image@{blur\_image}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{blur\_image()}{blur\_image()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} blur\+\_\+image (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$$\ast$$\ast$}]{mask,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{src\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{src\+\_\+linesize,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{dst\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{dst\+\_\+linesize,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{mask\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{mask\+\_\+linesize,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{w,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{h,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{direct,  }\item[{\mbox{\hyperlink{struct_f_f_bounding_box}{F\+F\+Bounding\+Box}} $\ast$}]{bbox }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Blur image plane using a mask.


\begin{DoxyParams}{Parameters}
{\em source} & The image to have it\textquotesingle{}s logo removed. \\
\hline
{\em destination} & Where the output image will be stored. \\
\hline
{\em source\+\_\+stride} & How far apart (in memory) two consecutive lines are. \\
\hline
{\em destination} & Same as source\+\_\+stride, but for the destination image. \\
\hline
{\em width} & Width of the image. This is the same for source and destination. \\
\hline
{\em height} & Height of the image. This is the same for source and destination. \\
\hline
{\em is\+\_\+image\+\_\+direct} & If the image is direct, then source and destination are the same and we can save a lot of time by not copying pixels that haven\textquotesingle{}t changed. \\
\hline
{\em filter} & The image that stores the distance to the edge of the logo for each pixel. \\
\hline
{\em logo\+\_\+start\+\_\+x} & smallest x-\/coordinate that contains at least 1 logo pixel. \\
\hline
{\em logo\+\_\+start\+\_\+y} & smallest y-\/coordinate that contains at least 1 logo pixel. \\
\hline
{\em logo\+\_\+end\+\_\+x} & largest x-\/coordinate that contains at least 1 logo pixel. \\
\hline
{\em logo\+\_\+end\+\_\+y} & largest y-\/coordinate that contains at least 1 logo pixel.\\
\hline
\end{DoxyParams}
This function processes an entire plane. Pixels outside of the logo are copied to the output without change, and pixels inside the logo have the de-\/blurring function applied. 

Definition at line 461 of file vf\+\_\+removelogo.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vf__removelogo_8c_a3618517fea30c6f8309141b365c3ce6a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{vf__removelogo_8c_a3618517fea30c6f8309141b365c3ce6a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_ae58af1dd8ca852009ea5c1bfdb671d6e}\label{vf__removelogo_8c_ae58af1dd8ca852009ea5c1bfdb671d6e}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!blur\_pixel@{blur\_pixel}}
\index{blur\_pixel@{blur\_pixel}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{blur\_pixel()}{blur\_pixel()}}
{\footnotesize\ttfamily static unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} blur\+\_\+pixel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$$\ast$$\ast$}]{mask,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{mask\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{mask\+\_\+linesize,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{image\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{image\+\_\+linesize,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{w,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{h,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{x,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{y }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Blur image.

It takes a pixel that is inside the mask and blurs it. It does so by finding the average of all the pixels within the mask and outside of the mask.


\begin{DoxyParams}{Parameters}
{\em mask\+\_\+data} & the mask plane to use for averaging \\
\hline
{\em image\+\_\+data} & the image plane to blur \\
\hline
{\em w} & width of the image \\
\hline
{\em h} & height of the image \\
\hline
{\em x} & x-\/coordinate of the pixel to blur \\
\hline
{\em y} & y-\/coordinate of the pixel to blur \\
\hline
\end{DoxyParams}


Definition at line 388 of file vf\+\_\+removelogo.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{vf__removelogo_8c_ae58af1dd8ca852009ea5c1bfdb671d6e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_afe4a0f1afa95e519217447eb871d38a8}\label{vf__removelogo_8c_afe4a0f1afa95e519217447eb871d38a8}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!config\_props\_input@{config\_props\_input}}
\index{config\_props\_input@{config\_props\_input}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{config\_props\_input()}{config\_props\_input()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} config\+\_\+props\+\_\+input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_filter_link}{A\+V\+Filter\+Link}} $\ast$}]{inlink }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 359 of file vf\+\_\+removelogo.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{vf__removelogo_8c_afe4a0f1afa95e519217447eb871d38a8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_a8ec46bc3f41fb28da80689ca58099d4f}\label{vf__removelogo_8c_a8ec46bc3f41fb28da80689ca58099d4f}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!convert\_mask\_to\_strength\_mask@{convert\_mask\_to\_strength\_mask}}
\index{convert\_mask\_to\_strength\_mask@{convert\_mask\_to\_strength\_mask}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{convert\_mask\_to\_strength\_mask()}{convert\_mask\_to\_strength\_mask()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} convert\+\_\+mask\+\_\+to\+\_\+strength\+\_\+mask (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{linesize,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{w,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{h,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{min\+\_\+val,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{max\+\_\+mask\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Pre-\/process an image to give distance information.

This function takes a bitmap image and converts it in place into a distance image. A distance image is zero for pixels outside of the logo and is the Manhattan distance ($\vert$dx$\vert$ + $\vert$dy$\vert$) from the logo edge for pixels inside of the logo. This will overestimate the distance, but that is safe, and is far easier to implement than a proper pythagorean distance since I\textquotesingle{}m using a modified erosion algorithm to compute the distances.


\begin{DoxyParams}{Parameters}
{\em mask} & image which will be converted from a greyscale image into a distance image. \\
\hline
\end{DoxyParams}


Definition at line 133 of file vf\+\_\+removelogo.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vf__removelogo_8c_a8ec46bc3f41fb28da80689ca58099d4f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_a6488998983896e30d1b975c8d56dab48}\label{vf__removelogo_8c_a6488998983896e30d1b975c8d56dab48}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!filter\_frame@{filter\_frame}}
\index{filter\_frame@{filter\_frame}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{filter\_frame()}{filter\_frame()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} filter\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_filter_link}{A\+V\+Filter\+Link}} $\ast$}]{inlink,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{inpicref }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 495 of file vf\+\_\+removelogo.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vf__removelogo_8c_a6488998983896e30d1b975c8d56dab48_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_a487829aa6698feb1511e85e3a44b7276}\label{vf__removelogo_8c_a487829aa6698feb1511e85e3a44b7276}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!generate\_half\_size\_image@{generate\_half\_size\_image}}
\index{generate\_half\_size\_image@{generate\_half\_size\_image}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{generate\_half\_size\_image()}{generate\_half\_size\_image()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} generate\+\_\+half\+\_\+size\+\_\+image (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{src\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{src\+\_\+linesize,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{dst\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{dst\+\_\+linesize,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{src\+\_\+w,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{src\+\_\+h,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{max\+\_\+mask\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Generate a scaled down image with half width, height, and intensity.

This function not only scales down an image, but halves the value in each pixel too. The purpose of this is to produce a chroma filter image out of a luma filter image. The pixel values store the distance to the edge of the logo and halving the dimensions halves the distance. This function rounds up, because a downwards rounding error could cause the filter to fail, but an upwards rounding error will only cause a minor amount of excess blur in the chroma planes. 

Definition at line 256 of file vf\+\_\+removelogo.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vf__removelogo_8c_a487829aa6698feb1511e85e3a44b7276_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{vf__removelogo_8c_a487829aa6698feb1511e85e3a44b7276_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_ab7cd5b404747a481115ce1d090fd11b8}\label{vf__removelogo_8c_ab7cd5b404747a481115ce1d090fd11b8}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!init@{init}}
\index{init@{init}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_filter_context}{A\+V\+Filter\+Context}} $\ast$}]{ctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 282 of file vf\+\_\+removelogo.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vf__removelogo_8c_ab7cd5b404747a481115ce1d090fd11b8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_a8e0c33333b062c292c246ae7a3385840}\label{vf__removelogo_8c_a8e0c33333b062c292c246ae7a3385840}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!load\_mask@{load\_mask}}
\index{load\_mask@{load\_mask}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{load\_mask()}{load\_mask()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} load\+\_\+mask (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$}]{mask,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{w,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{h,  }\item[{const char $\ast$}]{filename,  }\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{log\+\_\+ctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 215 of file vf\+\_\+removelogo.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vf__removelogo_8c_a8e0c33333b062c292c246ae7a3385840_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=209pt]{vf__removelogo_8c_a8e0c33333b062c292c246ae7a3385840_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_a5b4e302dfe4b2ee5369f0278621acd5f}\label{vf__removelogo_8c_a5b4e302dfe4b2ee5369f0278621acd5f}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!query\_formats@{query\_formats}}
\index{query\_formats@{query\_formats}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{query\_formats()}{query\_formats()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} query\+\_\+formats (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_filter_context}{A\+V\+Filter\+Context}} $\ast$}]{ctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 206 of file vf\+\_\+removelogo.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{vf__removelogo_8c_a5b4e302dfe4b2ee5369f0278621acd5f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vf__removelogo_8c_abbead6cde1da3e72ce200578c426f1e6}\label{vf__removelogo_8c_abbead6cde1da3e72ce200578c426f1e6}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!uninit@{uninit}}
\index{uninit@{uninit}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{uninit()}{uninit()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} uninit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_filter_context}{A\+V\+Filter\+Context}} $\ast$}]{ctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 536 of file vf\+\_\+removelogo.\+c.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{vf__removelogo_8c_a1bcaaeb74b5057798c9fba0bde19cc22}\label{vf__removelogo_8c_a1bcaaeb74b5057798c9fba0bde19cc22}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!ff\_vf\_removelogo@{ff\_vf\_removelogo}}
\index{ff\_vf\_removelogo@{ff\_vf\_removelogo}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{ff\_vf\_removelogo}{ff\_vf\_removelogo}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_filter}{A\+V\+Filter}} ff\+\_\+vf\+\_\+removelogo}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .name          = \textcolor{stringliteral}{"{}removelogo"{}},}
\DoxyCodeLine{    .description   = \mbox{\hyperlink{libavutil_2internal_8h_a3c0fa12fafe59c44d4b16e60d8385637}{NULL\_IF\_CONFIG\_SMALL}}(\textcolor{stringliteral}{"{}Remove a TV logo based on a mask image."{}}),}
\DoxyCodeLine{    .priv\_size     = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{vf__removelogo_8c_afdfc3e0ec4df00de41f46495ed578375}{RemovelogoContext}}),}
\DoxyCodeLine{    .\mbox{\hyperlink{vf__removelogo_8c_ab7cd5b404747a481115ce1d090fd11b8}{init}}          = \mbox{\hyperlink{vf__removelogo_8c_ab7cd5b404747a481115ce1d090fd11b8}{init}},}
\DoxyCodeLine{    .\mbox{\hyperlink{vf__removelogo_8c_abbead6cde1da3e72ce200578c426f1e6}{uninit}}        = \mbox{\hyperlink{vf__removelogo_8c_abbead6cde1da3e72ce200578c426f1e6}{uninit}},}
\DoxyCodeLine{    .\mbox{\hyperlink{vf__removelogo_8c_a5b4e302dfe4b2ee5369f0278621acd5f}{query\_formats}} = \mbox{\hyperlink{vf__removelogo_8c_a5b4e302dfe4b2ee5369f0278621acd5f}{query\_formats}},}
\DoxyCodeLine{    .\mbox{\hyperlink{filter__design_8txt_a45917ba5e6c8b798c6e2ba6ca7301a5d}{inputs}}        = \mbox{\hyperlink{vf__removelogo_8c_abe50eff1de33968cf59d1fd3c2f31331}{removelogo\_inputs}},}
\DoxyCodeLine{    .\mbox{\hyperlink{af__acontrast_8c_a7ddb0b5ac76101c5bee71e9840bf1698}{outputs}}       = \mbox{\hyperlink{vf__removelogo_8c_a53823a2202d4162a1939cd96600a12b1}{removelogo\_outputs}},}
\DoxyCodeLine{    .priv\_class    = \&removelogo\_class,}
\DoxyCodeLine{    .\mbox{\hyperlink{cbs__av1_8c_a67119bce106892b6dade1dc5aa405ac9}{flags}}         = \mbox{\hyperlink{group__lavfi_ga00c4b8da7d5d89fa4ddc5dcdf72bffca}{AVFILTER\_FLAG\_SUPPORT\_TIMELINE\_GENERIC}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 576 of file vf\+\_\+removelogo.\+c.

\mbox{\Hypertarget{vf__removelogo_8c_abe50eff1de33968cf59d1fd3c2f31331}\label{vf__removelogo_8c_abe50eff1de33968cf59d1fd3c2f31331}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!removelogo\_inputs@{removelogo\_inputs}}
\index{removelogo\_inputs@{removelogo\_inputs}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{removelogo\_inputs}{removelogo\_inputs}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_filter_pad}{A\+V\+Filter\+Pad}} removelogo\+\_\+inputs\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        .name         = \textcolor{stringliteral}{"{}default"{}},}
\DoxyCodeLine{        .type         = \mbox{\hyperlink{group__lavu__misc_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5}{AVMEDIA\_TYPE\_VIDEO}},}
\DoxyCodeLine{        .config\_props = \mbox{\hyperlink{vf__removelogo_8c_afe4a0f1afa95e519217447eb871d38a8}{config\_props\_input}},}
\DoxyCodeLine{        .filter\_frame = \mbox{\hyperlink{vf__removelogo_8c_a6488998983896e30d1b975c8d56dab48}{filter\_frame}},}
\DoxyCodeLine{    \},}
\DoxyCodeLine{    \{ \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 558 of file vf\+\_\+removelogo.\+c.

\mbox{\Hypertarget{vf__removelogo_8c_a94aa8f40dba6b5cf974cdb7245c9480d}\label{vf__removelogo_8c_a94aa8f40dba6b5cf974cdb7245c9480d}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!removelogo\_options@{removelogo\_options}}
\index{removelogo\_options@{removelogo\_options}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{removelogo\_options}{removelogo\_options}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} removelogo\+\_\+options\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}filename"{}}, \textcolor{stringliteral}{"{}set bitmap filename"{}}, \mbox{\hyperlink{vf__removelogo_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(filename), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4}{AV\_OPT\_TYPE\_STRING}}, \{.str=\mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\}, .flags = \mbox{\hyperlink{vf__removelogo_8c_a6ccad09b4a2a06ae178418fdccf5940d}{FLAGS}} \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}f"{}},        \textcolor{stringliteral}{"{}set bitmap filename"{}}, \mbox{\hyperlink{vf__removelogo_8c_ad12dce0a7bf9d908b172a28155b3d261}{OFFSET}}(filename), \mbox{\hyperlink{group__avoptions_ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4}{AV\_OPT\_TYPE\_STRING}}, \{.str=\mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\}, .flags = \mbox{\hyperlink{vf__removelogo_8c_a6ccad09b4a2a06ae178418fdccf5940d}{FLAGS}} \},}
\DoxyCodeLine{    \{ \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 99 of file vf\+\_\+removelogo.\+c.

\mbox{\Hypertarget{vf__removelogo_8c_a53823a2202d4162a1939cd96600a12b1}\label{vf__removelogo_8c_a53823a2202d4162a1939cd96600a12b1}} 
\index{vf\_removelogo.c@{vf\_removelogo.c}!removelogo\_outputs@{removelogo\_outputs}}
\index{removelogo\_outputs@{removelogo\_outputs}!vf\_removelogo.c@{vf\_removelogo.c}}
\doxysubsubsection{\texorpdfstring{removelogo\_outputs}{removelogo\_outputs}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_filter_pad}{A\+V\+Filter\+Pad}} removelogo\+\_\+outputs\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        .name = \textcolor{stringliteral}{"{}default"{}},}
\DoxyCodeLine{        .type = \mbox{\hyperlink{group__lavu__misc_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5}{AVMEDIA\_TYPE\_VIDEO}},}
\DoxyCodeLine{    \},}
\DoxyCodeLine{    \{ \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}} \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 568 of file vf\+\_\+removelogo.\+c.

