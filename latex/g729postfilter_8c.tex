\hypertarget{g729postfilter_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/g729postfilter.c File Reference}
\label{g729postfilter_8c}\index{E:/github/ffmpeg/libavcodec/g729postfilter.c@{E:/github/ffmpeg/libavcodec/g729postfilter.c}}
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
{\ttfamily \#include $<$limits.\+h$>$}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}g729.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}acelp\+\_\+pitch\+\_\+delay.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}g729postfilter.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}celp\+\_\+math.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}acelp\+\_\+filters.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}acelp\+\_\+vectors.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}celp\+\_\+filters.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mathops.\+h\char`\"{}}\newline
Include dependency graph for g729postfilter.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{g729postfilter_8c_a0ac65b37442b7b10d74dedeb7d25e737}{F\+R\+A\+C\+\_\+\+B\+I\+TS}}~15
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{g729postfilter_8c_a84a75558569de065bc622b86e8e2107e}{residual\+\_\+filter}} (int16\+\_\+t $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, const int16\+\_\+t $\ast$filter\+\_\+coeffs, const int16\+\_\+t $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} subframe\+\_\+size)
\begin{DoxyCompactList}\small\item\em Residual signal calculation (4.\+2.\+1 if G.\+729) \end{DoxyCompactList}\item 
static int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_ac2a3b59b31f1672cefff87f07cf9a360}{long\+\_\+term\+\_\+filter}} (\mbox{\hyperlink{struct_audio_d_s_p_context}{Audio\+D\+S\+P\+Context}} $\ast$adsp, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} pitch\+\_\+delay\+\_\+int, const int16\+\_\+t $\ast$residual, int16\+\_\+t $\ast$residual\+\_\+filt, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} subframe\+\_\+size)
\begin{DoxyCompactList}\small\item\em long-\/term postfilter (4.\+2.\+1) \end{DoxyCompactList}\item 
static int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_a688a118b3f336c1956acb1a38b2bccbb}{get\+\_\+tilt\+\_\+comp}} (\mbox{\hyperlink{struct_audio_d_s_p_context}{Audio\+D\+S\+P\+Context}} $\ast$adsp, int16\+\_\+t $\ast$lp\+\_\+gn, const int16\+\_\+t $\ast$lp\+\_\+gd, int16\+\_\+t $\ast$speech, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} subframe\+\_\+size)
\begin{DoxyCompactList}\small\item\em Calculate reflection coefficient for tilt compensation filter (4.\+2.\+3). \end{DoxyCompactList}\item 
static int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_af25a0ad80aa75fb94915ddd82e8c865d}{apply\+\_\+tilt\+\_\+comp}} (int16\+\_\+t $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, int16\+\_\+t $\ast$res\+\_\+pst, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} refl\+\_\+coeff, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} subframe\+\_\+size, int16\+\_\+t ht\+\_\+prev\+\_\+data)
\begin{DoxyCompactList}\small\item\em Apply tilt compensation filter (4.\+2.\+3). \end{DoxyCompactList}\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{g729postfilter_8c_ae72d9925d30947624d5f23ae58ab6bc3}{ff\+\_\+g729\+\_\+postfilter}} (\mbox{\hyperlink{struct_audio_d_s_p_context}{Audio\+D\+S\+P\+Context}} $\ast$adsp, int16\+\_\+t $\ast$ht\+\_\+prev\+\_\+data, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$voicing, const int16\+\_\+t $\ast$lp\+\_\+filter\+\_\+coeffs, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} pitch\+\_\+delay\+\_\+int, int16\+\_\+t $\ast$residual, int16\+\_\+t $\ast$res\+\_\+filter\+\_\+data, int16\+\_\+t $\ast$pos\+\_\+filter\+\_\+data, int16\+\_\+t $\ast$speech, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} subframe\+\_\+size)
\begin{DoxyCompactList}\small\item\em Signal postfiltering (4.\+2) \end{DoxyCompactList}\item 
int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_aa1af12c9c72f258230156b2e08e84694}{ff\+\_\+g729\+\_\+adaptive\+\_\+gain\+\_\+control}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} gain\+\_\+before, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} gain\+\_\+after, int16\+\_\+t $\ast$speech, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} subframe\+\_\+size, int16\+\_\+t gain\+\_\+prev)
\begin{DoxyCompactList}\small\item\em Adaptive gain control (4.\+2.\+4) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_a073078a30f857db63460da59dfc6e2e1}{ff\+\_\+g729\+\_\+interp\+\_\+filt\+\_\+short}} \mbox{[}(\mbox{\hyperlink{g729postfilter_8h_ad81684f5f89981d623c03661de2e580c}{A\+N\+A\+L\+Y\+Z\+E\+D\+\_\+\+F\+R\+A\+C\+\_\+\+D\+E\+L\+A\+YS}}+1) $\ast$\mbox{\hyperlink{g729postfilter_8h_acaa4dbd659ca081e15e284574b110807}{S\+H\+O\+R\+T\+\_\+\+I\+N\+T\+\_\+\+F\+I\+L\+T\+\_\+\+L\+EN}}\mbox{]}
\item 
static const int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_ab16f639cc2da742ce59b32f62d39bd62}{ff\+\_\+g729\+\_\+interp\+\_\+filt\+\_\+long}} \mbox{[}(\mbox{\hyperlink{g729postfilter_8h_ad81684f5f89981d623c03661de2e580c}{A\+N\+A\+L\+Y\+Z\+E\+D\+\_\+\+F\+R\+A\+C\+\_\+\+D\+E\+L\+A\+YS}}+1) $\ast$\mbox{\hyperlink{g729postfilter_8h_ac3d726f016a0554f56b8a34b705b6af7}{L\+O\+N\+G\+\_\+\+I\+N\+T\+\_\+\+F\+I\+L\+T\+\_\+\+L\+EN}}\mbox{]}
\item 
static const int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_ab82b384ac829986637e93237bb1ee66c}{formant\+\_\+pp\+\_\+factor\+\_\+num\+\_\+pow}} \mbox{[}10\mbox{]}
\item 
static const int16\+\_\+t \mbox{\hyperlink{g729postfilter_8c_a1bed485783b56912dbe3fced97278558}{formant\+\_\+pp\+\_\+factor\+\_\+den\+\_\+pow}} \mbox{[}10\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{g729postfilter_8c_a0ac65b37442b7b10d74dedeb7d25e737}\label{g729postfilter_8c_a0ac65b37442b7b10d74dedeb7d25e737}} 
\index{g729postfilter.c@{g729postfilter.c}!FRAC\_BITS@{FRAC\_BITS}}
\index{FRAC\_BITS@{FRAC\_BITS}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{FRAC\_BITS}{FRAC\_BITS}}
{\footnotesize\ttfamily \#define F\+R\+A\+C\+\_\+\+B\+I\+TS~15}



Definition at line 33 of file g729postfilter.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{g729postfilter_8c_af25a0ad80aa75fb94915ddd82e8c865d}\label{g729postfilter_8c_af25a0ad80aa75fb94915ddd82e8c865d}} 
\index{g729postfilter.c@{g729postfilter.c}!apply\_tilt\_comp@{apply\_tilt\_comp}}
\index{apply\_tilt\_comp@{apply\_tilt\_comp}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{apply\_tilt\_comp()}{apply\_tilt\_comp()}}
{\footnotesize\ttfamily static int16\+\_\+t apply\+\_\+tilt\+\_\+comp (\begin{DoxyParamCaption}\item[{int16\+\_\+t $\ast$}]{out,  }\item[{int16\+\_\+t $\ast$}]{res\+\_\+pst,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{refl\+\_\+coeff,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{subframe\+\_\+size,  }\item[{int16\+\_\+t}]{ht\+\_\+prev\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Apply tilt compensation filter (4.\+2.\+3). 


\begin{DoxyParams}{Parameters}
{\em res\+\_\+pst} & \mbox{[}in/out\mbox{]} residual signal (partially filtered) \\
\hline
{\em k1} & (3.\+12) reflection coefficient \\
\hline
{\em subframe\+\_\+size} & size of subframe \\
\hline
{\em ht\+\_\+prev\+\_\+data} & previous data for 4.\+2.\+3, equation 86\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
new value for ht\+\_\+prev\+\_\+data 
\end{DoxyReturn}


Definition at line 479 of file g729postfilter.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{g729postfilter_8c_af25a0ad80aa75fb94915ddd82e8c865d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c_af25a0ad80aa75fb94915ddd82e8c865d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{g729postfilter_8c_aa1af12c9c72f258230156b2e08e84694}\label{g729postfilter_8c_aa1af12c9c72f258230156b2e08e84694}} 
\index{g729postfilter.c@{g729postfilter.c}!ff\_g729\_adaptive\_gain\_control@{ff\_g729\_adaptive\_gain\_control}}
\index{ff\_g729\_adaptive\_gain\_control@{ff\_g729\_adaptive\_gain\_control}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{ff\_g729\_adaptive\_gain\_control()}{ff\_g729\_adaptive\_gain\_control()}}
{\footnotesize\ttfamily int16\+\_\+t ff\+\_\+g729\+\_\+adaptive\+\_\+gain\+\_\+control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{gain\+\_\+before,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{gain\+\_\+after,  }\item[{int16\+\_\+t $\ast$}]{speech,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{subframe\+\_\+size,  }\item[{int16\+\_\+t}]{gain\+\_\+prev }\end{DoxyParamCaption})}



Adaptive gain control (4.\+2.\+4) 


\begin{DoxyParams}{Parameters}
{\em gain\+\_\+before} & gain of speech before applying postfilters \\
\hline
{\em gain\+\_\+after} & gain of speech after applying postfilters \\
\hline
{\em speech} & \mbox{[}in/out\mbox{]} signal buffer \\
\hline
{\em subframe\+\_\+size} & length of subframe \\
\hline
{\em gain\+\_\+prev} & (3.\+12) previous value of gain coefficient\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(3.\+12) last value of gain coefficient 
\end{DoxyReturn}


Definition at line 578 of file g729postfilter.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=280pt]{g729postfilter_8c_aa1af12c9c72f258230156b2e08e84694_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{g729postfilter_8c_aa1af12c9c72f258230156b2e08e84694_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{g729postfilter_8c_ae72d9925d30947624d5f23ae58ab6bc3}\label{g729postfilter_8c_ae72d9925d30947624d5f23ae58ab6bc3}} 
\index{g729postfilter.c@{g729postfilter.c}!ff\_g729\_postfilter@{ff\_g729\_postfilter}}
\index{ff\_g729\_postfilter@{ff\_g729\_postfilter}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{ff\_g729\_postfilter()}{ff\_g729\_postfilter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+g729\+\_\+postfilter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_d_s_p_context}{Audio\+D\+S\+P\+Context}} $\ast$}]{adsp,  }\item[{int16\+\_\+t $\ast$}]{ht\+\_\+prev\+\_\+data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{voicing,  }\item[{const int16\+\_\+t $\ast$}]{lp\+\_\+filter\+\_\+coeffs,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{pitch\+\_\+delay\+\_\+int,  }\item[{int16\+\_\+t $\ast$}]{residual,  }\item[{int16\+\_\+t $\ast$}]{res\+\_\+filter\+\_\+data,  }\item[{int16\+\_\+t $\ast$}]{pos\+\_\+filter\+\_\+data,  }\item[{int16\+\_\+t $\ast$}]{speech,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{subframe\+\_\+size }\end{DoxyParamCaption})}



Signal postfiltering (4.\+2) 


\begin{DoxyParams}{Parameters}
{\em dsp} & initialized D\+SP context \\
\hline
{\em ht\+\_\+prev\+\_\+data} & \mbox{[}in/out\mbox{]} (Q12) pointer to variable receiving tilt compensation filter data from previous subframe \\
\hline
{\em voicing} & \mbox{[}in/out\mbox{]} (Q0) pointer to variable receiving voicing decision \\
\hline
{\em lp\+\_\+filter\+\_\+coeffs} & (Q12) LP filter coefficients \\
\hline
{\em pitch\+\_\+delay\+\_\+int} & integer part of the pitch delay \\
\hline
{\em residual} & \mbox{[}in/out\mbox{]} (Q0) residual signal buffer (used in long-\/term postfilter) \\
\hline
{\em res\+\_\+filter\+\_\+data} & \mbox{[}in/out\mbox{]} (Q0) speech data of previous subframe \\
\hline
{\em pos\+\_\+filter\+\_\+data} & \mbox{[}in/out\mbox{]} (Q0) previous speech data for short-\/term postfilter \\
\hline
{\em speech} & \mbox{[}in/out\mbox{]} (Q0) signal buffer \\
\hline
{\em subframe\+\_\+size} & size of subframe\\
\hline
\end{DoxyParams}
Filtering has the following stages\+: Long-\/term postfilter (4.\+2.\+1) Short-\/term postfilter (4.\+2.\+2). Tilt-\/compensation (4.\+2.\+3) 

Definition at line 517 of file g729postfilter.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c_ae72d9925d30947624d5f23ae58ab6bc3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{g729postfilter_8c_ae72d9925d30947624d5f23ae58ab6bc3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{g729postfilter_8c_a688a118b3f336c1956acb1a38b2bccbb}\label{g729postfilter_8c_a688a118b3f336c1956acb1a38b2bccbb}} 
\index{g729postfilter.c@{g729postfilter.c}!get\_tilt\_comp@{get\_tilt\_comp}}
\index{get\_tilt\_comp@{get\_tilt\_comp}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{get\_tilt\_comp()}{get\_tilt\_comp()}}
{\footnotesize\ttfamily static int16\+\_\+t get\+\_\+tilt\+\_\+comp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_d_s_p_context}{Audio\+D\+S\+P\+Context}} $\ast$}]{adsp,  }\item[{int16\+\_\+t $\ast$}]{lp\+\_\+gn,  }\item[{const int16\+\_\+t $\ast$}]{lp\+\_\+gd,  }\item[{int16\+\_\+t $\ast$}]{speech,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{subframe\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculate reflection coefficient for tilt compensation filter (4.\+2.\+3). 


\begin{DoxyParams}{Parameters}
{\em dsp} & initialized D\+SP context \\
\hline
{\em lp\+\_\+gn} & (3.\+12) coefficients of A(z/\+F\+O\+R\+M\+A\+N\+T\+\_\+\+P\+P\+\_\+\+F\+A\+C\+T\+O\+R\+\_\+\+N\+UM) filter \\
\hline
{\em lp\+\_\+gd} & (3.\+12) coefficients of A(z/\+F\+O\+R\+M\+A\+N\+T\+\_\+\+P\+P\+\_\+\+F\+A\+C\+T\+O\+R\+\_\+\+D\+EN) filter \\
\hline
{\em speech} & speech to update \\
\hline
{\em subframe\+\_\+size} & size of subframe\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(3.\+12) reflection coefficient
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
The routine also calculates the gain term for the short-\/term filter (gf) and multiplies the speech data by 1/gf.
\end{DoxyRemark}
\begin{DoxyNote}{Note}
All members of lp\+\_\+gn, except 10-\/19 must be equal to zero. 
\end{DoxyNote}


Definition at line 427 of file g729postfilter.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c_a688a118b3f336c1956acb1a38b2bccbb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c_a688a118b3f336c1956acb1a38b2bccbb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{g729postfilter_8c_ac2a3b59b31f1672cefff87f07cf9a360}\label{g729postfilter_8c_ac2a3b59b31f1672cefff87f07cf9a360}} 
\index{g729postfilter.c@{g729postfilter.c}!long\_term\_filter@{long\_term\_filter}}
\index{long\_term\_filter@{long\_term\_filter}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{long\_term\_filter()}{long\_term\_filter()}}
{\footnotesize\ttfamily static int16\+\_\+t long\+\_\+term\+\_\+filter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_audio_d_s_p_context}{Audio\+D\+S\+P\+Context}} $\ast$}]{adsp,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{pitch\+\_\+delay\+\_\+int,  }\item[{const int16\+\_\+t $\ast$}]{residual,  }\item[{int16\+\_\+t $\ast$}]{residual\+\_\+filt,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{subframe\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



long-\/term postfilter (4.\+2.\+1) 


\begin{DoxyParams}{Parameters}
{\em dsp} & initialized D\+SP context \\
\hline
{\em pitch\+\_\+delay\+\_\+int} & integer part of the pitch delay in the first subframe \\
\hline
{\em residual} & filtering input data \\
\hline
{\em residual\+\_\+filt} & \mbox{[}out\mbox{]} speech signal with applied A(z/\+F\+O\+R\+M\+A\+N\+T\+\_\+\+P\+P\+\_\+\+F\+A\+C\+T\+O\+R\+\_\+\+N\+UM) filter \\
\hline
{\em subframe\+\_\+size} & size of subframe\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if long-\/term prediction gain is less than 3dB, 1 -\/ otherwise 
\end{DoxyReturn}


Definition at line 110 of file g729postfilter.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c_ac2a3b59b31f1672cefff87f07cf9a360_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c_ac2a3b59b31f1672cefff87f07cf9a360_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{g729postfilter_8c_a84a75558569de065bc622b86e8e2107e}\label{g729postfilter_8c_a84a75558569de065bc622b86e8e2107e}} 
\index{g729postfilter.c@{g729postfilter.c}!residual\_filter@{residual\_filter}}
\index{residual\_filter@{residual\_filter}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{residual\_filter()}{residual\_filter()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} residual\+\_\+filter (\begin{DoxyParamCaption}\item[{int16\+\_\+t $\ast$}]{out,  }\item[{const int16\+\_\+t $\ast$}]{filter\+\_\+coeffs,  }\item[{const int16\+\_\+t $\ast$}]{in,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{subframe\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Residual signal calculation (4.\+2.\+1 if G.\+729) 


\begin{DoxyParams}{Parameters}
{\em out} & \mbox{[}out\mbox{]} output data filtered through A(z/\+F\+O\+R\+M\+A\+N\+T\+\_\+\+P\+P\+\_\+\+F\+A\+C\+T\+O\+R\+\_\+\+N\+UM) \\
\hline
{\em filter\+\_\+coeffs} & (3.\+12) A(z/\+F\+O\+R\+M\+A\+N\+T\+\_\+\+P\+P\+\_\+\+F\+A\+C\+T\+O\+R\+\_\+\+N\+UM) filter coefficients \\
\hline
{\em in} & input speech data to process \\
\hline
{\em subframe\+\_\+size} & size of one subframe\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
in buffer must contain 10 items of previous speech data before top of the buffer 
\end{DoxyNote}
\begin{DoxyRemark}{Remarks}
It is safe to pass the same buffer for input and output. 
\end{DoxyRemark}


Definition at line 86 of file g729postfilter.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{g729postfilter_8c_a84a75558569de065bc622b86e8e2107e_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{g729postfilter_8c_ab16f639cc2da742ce59b32f62d39bd62}\label{g729postfilter_8c_ab16f639cc2da742ce59b32f62d39bd62}} 
\index{g729postfilter.c@{g729postfilter.c}!ff\_g729\_interp\_filt\_long@{ff\_g729\_interp\_filt\_long}}
\index{ff\_g729\_interp\_filt\_long@{ff\_g729\_interp\_filt\_long}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{ff\_g729\_interp\_filt\_long}{ff\_g729\_interp\_filt\_long}}
{\footnotesize\ttfamily const int16\+\_\+t ff\+\_\+g729\+\_\+interp\+\_\+filt\+\_\+long\mbox{[}(\mbox{\hyperlink{g729postfilter_8h_ad81684f5f89981d623c03661de2e580c}{A\+N\+A\+L\+Y\+Z\+E\+D\+\_\+\+F\+R\+A\+C\+\_\+\+D\+E\+L\+A\+YS}}+1) $\ast$\mbox{\hyperlink{g729postfilter_8h_ac3d726f016a0554f56b8a34b705b6af7}{L\+O\+N\+G\+\_\+\+I\+N\+T\+\_\+\+F\+I\+L\+T\+\_\+\+L\+EN}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{   0, 31915, 29436, 25569, 20676, 15206,  9639,  4439,}
\DoxyCodeLine{   0, -\/3390, -\/5579, -\/6549, -\/6414, -\/5392, -\/3773, -\/1874,}
\DoxyCodeLine{   0,  1595,  2727,  3303,  3319,  2850,  2030,  1023,}
\DoxyCodeLine{   0,  -\/887, -\/1527, -\/1860, -\/1876, -\/1614, -\/1150,  -\/579,}
\DoxyCodeLine{   0,   501,   859,  1041,  1044,   892,   631,   315,}
\DoxyCodeLine{   0,  -\/266,  -\/453,  -\/543,  -\/538,  -\/455,  -\/317,  -\/156,}
\DoxyCodeLine{   0,   130,   218,   258,   253,   212,   147,    72,}
\DoxyCodeLine{   0,   -\/59,  -\/101,  -\/122,  -\/123,  -\/106,   -\/77,   -\/40,}
\DoxyCodeLine{\}}

\end{DoxyCode}
long interpolation filter (of length 129, according to spec) for computing signal with non-\/integer delay 

Definition at line 49 of file g729postfilter.\+c.

\mbox{\Hypertarget{g729postfilter_8c_a073078a30f857db63460da59dfc6e2e1}\label{g729postfilter_8c_a073078a30f857db63460da59dfc6e2e1}} 
\index{g729postfilter.c@{g729postfilter.c}!ff\_g729\_interp\_filt\_short@{ff\_g729\_interp\_filt\_short}}
\index{ff\_g729\_interp\_filt\_short@{ff\_g729\_interp\_filt\_short}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{ff\_g729\_interp\_filt\_short}{ff\_g729\_interp\_filt\_short}}
{\footnotesize\ttfamily const int16\+\_\+t ff\+\_\+g729\+\_\+interp\+\_\+filt\+\_\+short\mbox{[}(\mbox{\hyperlink{g729postfilter_8h_ad81684f5f89981d623c03661de2e580c}{A\+N\+A\+L\+Y\+Z\+E\+D\+\_\+\+F\+R\+A\+C\+\_\+\+D\+E\+L\+A\+YS}}+1) $\ast$\mbox{\hyperlink{g729postfilter_8h_acaa4dbd659ca081e15e284574b110807}{S\+H\+O\+R\+T\+\_\+\+I\+N\+T\+\_\+\+F\+I\+L\+T\+\_\+\+L\+EN}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{      0, 31650, 28469, 23705, 18050, 12266,  7041,  2873,}
\DoxyCodeLine{      0, -\/1597, -\/2147, -\/1992, -\/1492,  -\/933,  -\/484,  -\/188,}
\DoxyCodeLine{\}}

\end{DoxyCode}
short interpolation filter (of length 33, according to spec) for computing signal with non-\/integer delay 

Definition at line 40 of file g729postfilter.\+c.

\mbox{\Hypertarget{g729postfilter_8c_a1bed485783b56912dbe3fced97278558}\label{g729postfilter_8c_a1bed485783b56912dbe3fced97278558}} 
\index{g729postfilter.c@{g729postfilter.c}!formant\_pp\_factor\_den\_pow@{formant\_pp\_factor\_den\_pow}}
\index{formant\_pp\_factor\_den\_pow@{formant\_pp\_factor\_den\_pow}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{formant\_pp\_factor\_den\_pow}{formant\_pp\_factor\_den\_pow}}
{\footnotesize\ttfamily const int16\+\_\+t formant\+\_\+pp\+\_\+factor\+\_\+den\+\_\+pow\mbox{[}10\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{  }
\DoxyCodeLine{  22938, 16057, 11240, 7868, 5508, 3856, 2699, 1889, 1322, 925}
\DoxyCodeLine{\}}

\end{DoxyCode}
formant\+\_\+pp\+\_\+factor\+\_\+den\+\_\+pow\mbox{[}i\mbox{]} = F\+O\+R\+M\+A\+N\+T\+\_\+\+P\+P\+\_\+\+F\+A\+C\+T\+O\+R\+\_\+\+D\+E\+N$^\wedge$(i+1) 

Definition at line 71 of file g729postfilter.\+c.

\mbox{\Hypertarget{g729postfilter_8c_ab82b384ac829986637e93237bb1ee66c}\label{g729postfilter_8c_ab82b384ac829986637e93237bb1ee66c}} 
\index{g729postfilter.c@{g729postfilter.c}!formant\_pp\_factor\_num\_pow@{formant\_pp\_factor\_num\_pow}}
\index{formant\_pp\_factor\_num\_pow@{formant\_pp\_factor\_num\_pow}!g729postfilter.c@{g729postfilter.c}}
\doxysubsubsection{\texorpdfstring{formant\_pp\_factor\_num\_pow}{formant\_pp\_factor\_num\_pow}}
{\footnotesize\ttfamily const int16\+\_\+t formant\+\_\+pp\+\_\+factor\+\_\+num\+\_\+pow\mbox{[}10\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{  }
\DoxyCodeLine{  18022, 9912, 5451, 2998, 1649, 907, 499, 274, 151, 83}
\DoxyCodeLine{\}}

\end{DoxyCode}
formant\+\_\+pp\+\_\+factor\+\_\+num\+\_\+pow\mbox{[}i\mbox{]} = F\+O\+R\+M\+A\+N\+T\+\_\+\+P\+P\+\_\+\+F\+A\+C\+T\+O\+R\+\_\+\+N\+U\+M$^\wedge$(i+1) 

Definition at line 63 of file g729postfilter.\+c.

