\hypertarget{group__lavu__mem__funcs}{}\doxysection{Heap Management}
\label{group__lavu__mem__funcs}\index{Heap Management@{Heap Management}}
Collaboration diagram for Heap Management\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{group__lavu__mem__funcs}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc}} (size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}) \mbox{\hyperlink{group__lavu__mem__attrs_gad48ff724186ef4e602ae7a2547e4287c}{av\+\_\+malloc\+\_\+attrib}} \mbox{\hyperlink{group__lavu__mem__funcs_gaf3f08c4449fbe1ad6489ad59c625ac9d}{av\+\_\+alloc\+\_\+size}}(1)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_gaf143ecab33a3868b57345466c39de7c1}{av\+\_\+mallocz}} (size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}) \mbox{\hyperlink{group__lavu__mem__attrs_gad48ff724186ef4e602ae7a2547e4287c}{av\+\_\+malloc\+\_\+attrib}} \mbox{\hyperlink{group__lavu__mem__funcs_gaf3f08c4449fbe1ad6489ad59c625ac9d}{av\+\_\+alloc\+\_\+size}}(1)
\item 
\mbox{\hyperlink{group__lavu__mem__funcs_ga6531cf9cce83adf3ebf0495c8adc92b6}{av\+\_\+alloc\+\_\+size}} (1, 2) \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{mem_8c_a254f3455439c15a2c8a75b8f0235fdbd}{av\+\_\+malloc\+\_\+array}}(size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga79fd723df92f68cf8a6207a1d98b4c01}{nmemb}}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_gaaf38f6d994f5a85854ef47fd98fa6e9a}{av\+\_\+calloc}} (size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga79fd723df92f68cf8a6207a1d98b4c01}{nmemb}}, size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}) \mbox{\hyperlink{group__lavu__mem__attrs_gad48ff724186ef4e602ae7a2547e4287c}{av\+\_\+malloc\+\_\+attrib}}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr, size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}) \mbox{\hyperlink{group__lavu__mem__funcs_gaf3f08c4449fbe1ad6489ad59c625ac9d}{av\+\_\+alloc\+\_\+size}}(2)
\item 
\mbox{\hyperlink{attributes_8h_a93f17e0f0b53a66e7b5eceb3dff2918f}{av\+\_\+warn\+\_\+unused\+\_\+result}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga9665abf3720f9f460790c2c3b224c052}{av\+\_\+reallocp}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr, size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_gae5ca394e7536fcd2689008b011a211ad}{av\+\_\+realloc\+\_\+f}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr, size\+\_\+t nelem, size\+\_\+t elsize)
\item 
\mbox{\hyperlink{group__lavu__mem__funcs_gaf3f08c4449fbe1ad6489ad59c625ac9d}{av\+\_\+alloc\+\_\+size}} (2, 3) \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{mem_8c_aadc230ece36ef112710b262a6601a16b}{av\+\_\+realloc\+\_\+array}}(\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_gad8fde0c159ac905909339e082a049cde}{av\+\_\+reallocp\+\_\+array}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr, size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga79fd723df92f68cf8a6207a1d98b4c01}{nmemb}}, size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a}{av\+\_\+fast\+\_\+realloc}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, size\+\_\+t min\+\_\+size)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003}{av\+\_\+fast\+\_\+malloc}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, size\+\_\+t min\+\_\+size)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavu__mem__funcs_ga0bfda4adf7f9e943f9eb1a08eeda3791}{av\+\_\+fast\+\_\+mallocz}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, size\+\_\+t min\+\_\+size)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavu__mem__funcs_ga0c9096f498624c525aa2315b8a20c411}{av\+\_\+free}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavu__mem__funcs_ga0cc84043ea2167ad005c86e11d0bcdba}{av\+\_\+freep}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ptr)
\item 
char $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_ga7c352f4cff02184f005323691375fea9}{av\+\_\+strdup}} (const char $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}) \mbox{\hyperlink{group__lavu__mem__attrs_gad48ff724186ef4e602ae7a2547e4287c}{av\+\_\+malloc\+\_\+attrib}}
\item 
char $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_gaffde7a717e3a603ed11a998c18d68cad}{av\+\_\+strndup}} (const char $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, size\+\_\+t \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}}) \mbox{\hyperlink{group__lavu__mem__attrs_gad48ff724186ef4e602ae7a2547e4287c}{av\+\_\+malloc\+\_\+attrib}}
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$ \mbox{\hyperlink{group__lavu__mem__funcs_ga4ad5e6363f4a6b6eddfdb427e21166f2}{av\+\_\+memdup}} (const \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$p, size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavu__mem__funcs_ga3ea4736dcceab4ba033b8abd2c2a180e}{av\+\_\+memcpy\+\_\+backptr}} (\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$dst, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} back, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} cnt)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}
\item 
size\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga79fd723df92f68cf8a6207a1d98b4c01}{nmemb}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions responsible for allocating, freeing, and copying memory.

All memory allocation functions have a built-\/in upper limit of {\ttfamily I\+N\+T\+\_\+\+M\+AX} bytes. This may be changed with \mbox{\hyperlink{group__lavu__mem__misc_ga2204fc859b4a3ca2d5bfd1bf4e8c4dfb}{av\+\_\+max\+\_\+alloc()}}, although exercise extreme caution when doing so. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga6531cf9cce83adf3ebf0495c8adc92b6}\label{group__lavu__mem__funcs_ga6531cf9cce83adf3ebf0495c8adc92b6}} 
\index{Heap Management@{Heap Management}!av\_alloc\_size@{av\_alloc\_size}}
\index{av\_alloc\_size@{av\_alloc\_size}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_alloc\_size()}{av\_alloc\_size()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily av\+\_\+alloc\+\_\+size (\begin{DoxyParamCaption}\item[{1}]{,  }\item[{2}]{ }\end{DoxyParamCaption})}

Allocate a memory block for an array with \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}}.

The allocated memory will have size {\ttfamily size $\ast$ nmemb} bytes.


\begin{DoxyParams}{Parameters}
{\em nmemb} & Number of element \\
\hline
{\em size} & Size of a single element \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the allocated block, or {\ttfamily N\+U\+LL} if the block cannot be allocated 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}}
\end{DoxySeeAlso}
Allocate a memory block for an array with \mbox{\hyperlink{group__lavu__mem__funcs_gaf143ecab33a3868b57345466c39de7c1}{av\+\_\+mallocz()}}.

The allocated memory will have size {\ttfamily size $\ast$ nmemb} bytes.


\begin{DoxyParams}{Parameters}
{\em nmemb} & Number of elements \\
\hline
{\em size} & Size of the single element \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the allocated block, or {\ttfamily N\+U\+LL} if the block cannot be allocated
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_gaf143ecab33a3868b57345466c39de7c1}{av\+\_\+mallocz()}} 

\mbox{\hyperlink{mem_8c_a254f3455439c15a2c8a75b8f0235fdbd}{av\+\_\+malloc\+\_\+array()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__lavu__mem__funcs_gaf3f08c4449fbe1ad6489ad59c625ac9d}\label{group__lavu__mem__funcs_gaf3f08c4449fbe1ad6489ad59c625ac9d}} 
\index{Heap Management@{Heap Management}!av\_alloc\_size@{av\_alloc\_size}}
\index{av\_alloc\_size@{av\_alloc\_size}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_alloc\_size()}{av\_alloc\_size()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily av\+\_\+alloc\+\_\+size (\begin{DoxyParamCaption}\item[{2}]{,  }\item[{3}]{ }\end{DoxyParamCaption})}

Allocate, reallocate, or free an array.

If {\ttfamily ptr} is {\ttfamily N\+U\+LL} and {\ttfamily nmemb} $>$ 0, allocate a new block. If {\ttfamily nmemb} is zero, free the memory block pointed to by {\ttfamily ptr}.


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to a memory block already allocated with \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}} or {\ttfamily N\+U\+LL} \\
\hline
{\em nmemb} & Number of elements in the array \\
\hline
{\em size} & Size of the single element of the array\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to a newly-\/reallocated block or N\+U\+LL if the block cannot be reallocated or the function is used to free the memory block
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Unlike \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}}, the allocated memory is not guaranteed to be correctly aligned. 
\end{DoxyWarning}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_gad8fde0c159ac905909339e082a049cde}{av\+\_\+reallocp\+\_\+array()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__lavu__mem__funcs_gaaf38f6d994f5a85854ef47fd98fa6e9a}\label{group__lavu__mem__funcs_gaaf38f6d994f5a85854ef47fd98fa6e9a}} 
\index{Heap Management@{Heap Management}!av\_calloc@{av\_calloc}}
\index{av\_calloc@{av\_calloc}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_calloc()}{av\_calloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}$\ast$ av\+\_\+calloc (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{nmemb,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Non-\/inlined equivalent of \mbox{\hyperlink{mem_8c_aedc3761897b7e9ea8ae1222b3d013c94}{av\+\_\+mallocz\+\_\+array()}}.

Created for symmetry with the calloc() C function. 

Definition at line 245 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=346pt]{group__lavu__mem__funcs_gaaf38f6d994f5a85854ef47fd98fa6e9a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003}\label{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003}} 
\index{Heap Management@{Heap Management}!av\_fast\_malloc@{av\_fast\_malloc}}
\index{av\_fast\_malloc@{av\_fast\_malloc}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_fast\_malloc()}{av\_fast\_malloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+fast\+\_\+malloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr,  }\item[{unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{size,  }\item[{size\+\_\+t}]{min\+\_\+size }\end{DoxyParamCaption})}

Allocate a buffer, reusing the given one if large enough.

Contrary to \mbox{\hyperlink{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a}{av\+\_\+fast\+\_\+realloc()}}, the current buffer contents might not be preserved and on error the old buffer is freed, thus no special handling to avoid memleaks is necessary.

{\ttfamily $\ast$ptr} is allowed to be {\ttfamily N\+U\+LL}, in which case allocation always happens if {\ttfamily size\+\_\+needed} is greater than 0.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\_t}} *buf = ...;}
\DoxyCodeLine{\mbox{\hyperlink{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003}{av\_fast\_malloc}}(\&buf, \&current\_size, size\_needed);}
\DoxyCodeLine{\textcolor{keywordflow}{if} (!buf) \{}
\DoxyCodeLine{    \textcolor{comment}{// Allocation failed; buf already freed}}
\DoxyCodeLine{    \textcolor{keywordflow}{return} \mbox{\hyperlink{filter__design_8txt_adf2fb515710d47541f7150ecd2950e76}{AVERROR}}(ENOMEM);}
\DoxyCodeLine{\}}
\end{DoxyCode}



\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em ptr} & Pointer to pointer to an already allocated buffer. {\ttfamily $\ast$ptr} will be overwritten with pointer to new buffer on success or {\ttfamily N\+U\+LL} on failure \\
\hline
\mbox{\texttt{ in,out}}  & {\em size} & Pointer to the size of buffer {\ttfamily $\ast$ptr}. {\ttfamily $\ast$size} is updated to the new allocated size, in particular 0 in case of failure. \\
\hline
\mbox{\texttt{ in}}  & {\em min\+\_\+size} & Desired minimal size of buffer {\ttfamily $\ast$ptr} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}} 

\mbox{\hyperlink{group__lavu__mem__funcs_ga0bfda4adf7f9e943f9eb1a08eeda3791}{av\+\_\+fast\+\_\+mallocz()}} 
\end{DoxySeeAlso}


Definition at line 502 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga0bfda4adf7f9e943f9eb1a08eeda3791}\label{group__lavu__mem__funcs_ga0bfda4adf7f9e943f9eb1a08eeda3791}} 
\index{Heap Management@{Heap Management}!av\_fast\_mallocz@{av\_fast\_mallocz}}
\index{av\_fast\_mallocz@{av\_fast\_mallocz}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_fast\_mallocz()}{av\_fast\_mallocz()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+fast\+\_\+mallocz (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr,  }\item[{unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{size,  }\item[{size\+\_\+t}]{min\+\_\+size }\end{DoxyParamCaption})}

Allocate and clear a buffer, reusing the given one if large enough.

Like \mbox{\hyperlink{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003}{av\+\_\+fast\+\_\+malloc()}}, but all newly allocated space is initially cleared. Reused buffer is not cleared.

{\ttfamily $\ast$ptr} is allowed to be {\ttfamily N\+U\+LL}, in which case allocation always happens if {\ttfamily size\+\_\+needed} is greater than 0.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em ptr} & Pointer to pointer to an already allocated buffer. {\ttfamily $\ast$ptr} will be overwritten with pointer to new buffer on success or {\ttfamily N\+U\+LL} on failure \\
\hline
\mbox{\texttt{ in,out}}  & {\em size} & Pointer to the size of buffer {\ttfamily $\ast$ptr}. {\ttfamily $\ast$size} is updated to the new allocated size, in particular 0 in case of failure. \\
\hline
\mbox{\texttt{ in}}  & {\em min\+\_\+size} & Desired minimal size of buffer {\ttfamily $\ast$ptr} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003}{av\+\_\+fast\+\_\+malloc()}} 
\end{DoxySeeAlso}


Definition at line 507 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_ga0bfda4adf7f9e943f9eb1a08eeda3791_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_ga0bfda4adf7f9e943f9eb1a08eeda3791_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a}\label{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a}} 
\index{Heap Management@{Heap Management}!av\_fast\_realloc@{av\_fast\_realloc}}
\index{av\_fast\_realloc@{av\_fast\_realloc}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_fast\_realloc()}{av\_fast\_realloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}$\ast$ av\+\_\+fast\+\_\+realloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr,  }\item[{unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{size,  }\item[{size\+\_\+t}]{min\+\_\+size }\end{DoxyParamCaption})}

Reallocate the given buffer if it is not large enough, otherwise do nothing.

If the given buffer is {\ttfamily N\+U\+LL}, then a new uninitialized buffer is allocated.

If the given buffer is not large enough, and reallocation fails, {\ttfamily N\+U\+LL} is returned and {\ttfamily $\ast$size} is set to 0, but the original buffer is not changed or freed.

A typical use pattern follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\_t}} *buf = ...;}
\DoxyCodeLine{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\_t}} *new\_buf = \mbox{\hyperlink{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a}{av\_fast\_realloc}}(buf, \&current\_size, size\_needed);}
\DoxyCodeLine{\textcolor{keywordflow}{if} (!new\_buf) \{}
\DoxyCodeLine{    \textcolor{comment}{// Allocation failed; clean up original buffer}}
\DoxyCodeLine{    \mbox{\hyperlink{tableprint__vlc_8h_adba82e1bcd02de510a858fcbedf79ef1}{av\_freep}}(\&buf);}
\DoxyCodeLine{    \textcolor{keywordflow}{return} \mbox{\hyperlink{filter__design_8txt_adf2fb515710d47541f7150ecd2950e76}{AVERROR}}(ENOMEM);}
\DoxyCodeLine{\}}
\end{DoxyCode}



\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em ptr} & Already allocated buffer, or {\ttfamily N\+U\+LL} \\
\hline
\mbox{\texttt{ in,out}}  & {\em size} & Pointer to the size of buffer {\ttfamily ptr}. {\ttfamily $\ast$size} is updated to the new allocated size, in particular 0 in case of failure. \\
\hline
\mbox{\texttt{ in}}  & {\em min\+\_\+size} & Desired minimal size of buffer {\ttfamily ptr} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ptr} if the buffer is large enough, a pointer to newly reallocated buffer if the buffer was not large enough, or {\ttfamily N\+U\+LL} in case of error 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}} 

\mbox{\hyperlink{group__lavu__mem__funcs_ga29d0252b981f157e713a68ffca52f003}{av\+\_\+fast\+\_\+malloc()}} 
\end{DoxySeeAlso}


Definition at line 478 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=255pt]{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga0c9096f498624c525aa2315b8a20c411}\label{group__lavu__mem__funcs_ga0c9096f498624c525aa2315b8a20c411}} 
\index{Heap Management@{Heap Management}!av\_free@{av\_free}}
\index{av\_free@{av\_free}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_free()}{av\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr }\end{DoxyParamCaption})}

Free a memory block which has been allocated with a function of \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}} or \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}} family.


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to the memory block which should be freed.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
{\ttfamily ptr = N\+U\+LL} is explicitly allowed. 

It is recommended that you use \mbox{\hyperlink{group__lavu__mem__funcs_ga0cc84043ea2167ad005c86e11d0bcdba}{av\+\_\+freep()}} instead, to prevent leaving behind dangling pointers. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_ga0cc84043ea2167ad005c86e11d0bcdba}{av\+\_\+freep()}} 
\end{DoxySeeAlso}


Definition at line 219 of file mem.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_ga0c9096f498624c525aa2315b8a20c411_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga0cc84043ea2167ad005c86e11d0bcdba}\label{group__lavu__mem__funcs_ga0cc84043ea2167ad005c86e11d0bcdba}} 
\index{Heap Management@{Heap Management}!av\_freep@{av\_freep}}
\index{av\_freep@{av\_freep}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_freep()}{av\_freep()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+freep (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr }\end{DoxyParamCaption})}

Free a memory block which has been allocated with a function of \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}} or \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}} family, and set the pointer pointing to it to {\ttfamily N\+U\+LL}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\_t}} *buf = \mbox{\hyperlink{tableprint__vlc_8h_ae97db1f58b6b1515ed57a83bea3dd572}{av\_malloc}}(16);}
\DoxyCodeLine{\mbox{\hyperlink{tableprint__vlc_8h_a079eab092887563f2bef9106c6120089}{av\_free}}(buf);}
\DoxyCodeLine{\textcolor{comment}{// buf now contains a dangling pointer to freed memory, and accidental}}
\DoxyCodeLine{\textcolor{comment}{// dereference of buf will result in a use-\/after-\/free, which may be a}}
\DoxyCodeLine{\textcolor{comment}{// security risk.}}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\_t}} *buf = \mbox{\hyperlink{tableprint__vlc_8h_ae97db1f58b6b1515ed57a83bea3dd572}{av\_malloc}}(16);}
\DoxyCodeLine{\mbox{\hyperlink{tableprint__vlc_8h_adba82e1bcd02de510a858fcbedf79ef1}{av\_freep}}(\&buf);}
\DoxyCodeLine{\textcolor{comment}{// buf is now NULL, and accidental dereference will only result in a}}
\DoxyCodeLine{\textcolor{comment}{// NULL-\/pointer dereference.}}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to the pointer to the memory block which should be freed \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
{\ttfamily $\ast$ptr = N\+U\+LL} is safe and leads to no action. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_ga0c9096f498624c525aa2315b8a20c411}{av\+\_\+free()}} 
\end{DoxySeeAlso}


Definition at line 228 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=215pt]{group__lavu__mem__funcs_ga0cc84043ea2167ad005c86e11d0bcdba_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_ga0cc84043ea2167ad005c86e11d0bcdba_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}\label{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}} 
\index{Heap Management@{Heap Management}!av\_malloc@{av\_malloc}}
\index{av\_malloc@{av\_malloc}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_malloc()}{av\_malloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}$\ast$ av\+\_\+malloc (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Allocate a memory block with alignment suitable for all memory accesses (including vectors if available on the C\+PU).


\begin{DoxyParams}{Parameters}
{\em size} & Size in bytes for the memory block to be allocated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the allocated block, or {\ttfamily N\+U\+LL} if the block cannot be allocated 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_gaf143ecab33a3868b57345466c39de7c1}{av\+\_\+mallocz()}} 
\end{DoxySeeAlso}


Definition at line 77 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=139pt]{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_gaf143ecab33a3868b57345466c39de7c1}\label{group__lavu__mem__funcs_gaf143ecab33a3868b57345466c39de7c1}} 
\index{Heap Management@{Heap Management}!av\_mallocz@{av\_mallocz}}
\index{av\_mallocz@{av\_mallocz}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_mallocz()}{av\_mallocz()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}$\ast$ av\+\_\+mallocz (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Allocate a memory block with alignment suitable for all memory accesses (including vectors if available on the C\+PU) and zero all the bytes of the block.


\begin{DoxyParams}{Parameters}
{\em size} & Size in bytes for the memory block to be allocated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the allocated block, or {\ttfamily N\+U\+LL} if it cannot be allocated 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}} 
\end{DoxySeeAlso}


Definition at line 237 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{group__lavu__mem__funcs_gaf143ecab33a3868b57345466c39de7c1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga3ea4736dcceab4ba033b8abd2c2a180e}\label{group__lavu__mem__funcs_ga3ea4736dcceab4ba033b8abd2c2a180e}} 
\index{Heap Management@{Heap Management}!av\_memcpy\_backptr@{av\_memcpy\_backptr}}
\index{av\_memcpy\_backptr@{av\_memcpy\_backptr}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_memcpy\_backptr()}{av\_memcpy\_backptr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+memcpy\+\_\+backptr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{dst,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{back,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{cnt }\end{DoxyParamCaption})}

Overlapping memcpy() implementation.


\begin{DoxyParams}{Parameters}
{\em dst} & Destination buffer \\
\hline
{\em back} & Number of bytes back to start copying (i.\+e. the initial size of the overlapping window); must be $>$ 0 \\
\hline
{\em cnt} & Number of bytes to copy; must be $>$= 0\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
{\ttfamily cnt $>$ back} is valid, this will copy the bytes we just copied, thus creating a repeating pattern with a period length of {\ttfamily back}. 
\end{DoxyNote}


Definition at line 428 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{group__lavu__mem__funcs_ga3ea4736dcceab4ba033b8abd2c2a180e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_ga3ea4736dcceab4ba033b8abd2c2a180e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga4ad5e6363f4a6b6eddfdb427e21166f2}\label{group__lavu__mem__funcs_ga4ad5e6363f4a6b6eddfdb427e21166f2}} 
\index{Heap Management@{Heap Management}!av\_memdup@{av\_memdup}}
\index{av\_memdup@{av\_memdup}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_memdup()}{av\_memdup()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}$\ast$ av\+\_\+memdup (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{p,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Duplicate a buffer with \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}}.


\begin{DoxyParams}{Parameters}
{\em p} & Buffer to be duplicated \\
\hline
{\em size} & Size in bytes of the buffer copied \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to a newly allocated buffer containing a copy of {\ttfamily p} or {\ttfamily N\+U\+LL} if the buffer cannot be allocated 
\end{DoxyReturn}


Definition at line 285 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{group__lavu__mem__funcs_ga4ad5e6363f4a6b6eddfdb427e21166f2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_ga4ad5e6363f4a6b6eddfdb427e21166f2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}\label{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}} 
\index{Heap Management@{Heap Management}!av\_realloc@{av\_realloc}}
\index{av\_realloc@{av\_realloc}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_realloc()}{av\_realloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}$\ast$ av\+\_\+realloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Allocate, reallocate, or free a block of memory.

If {\ttfamily ptr} is {\ttfamily N\+U\+LL} and {\ttfamily size} $>$ 0, allocate a new block. If {\ttfamily size} is zero, free the memory block pointed to by {\ttfamily ptr}. Otherwise, expand or shrink that block of memory according to {\ttfamily size}.


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to a memory block already allocated with \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}} or {\ttfamily N\+U\+LL} \\
\hline
{\em size} & Size in bytes of the memory block to be allocated or reallocated\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to a newly-\/reallocated block or {\ttfamily N\+U\+LL} if the block cannot be reallocated or the function is used to free the memory block
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Unlike \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}}, the returned pointer is not guaranteed to be correctly aligned. 
\end{DoxyWarning}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_ga869fd8884d8d29a7a4910d879926d94a}{av\+\_\+fast\+\_\+realloc()}} 

\mbox{\hyperlink{group__lavu__mem__funcs_ga9665abf3720f9f460790c2c3b224c052}{av\+\_\+reallocp()}} 
\end{DoxySeeAlso}


Definition at line 134 of file mem.\+c.

\mbox{\Hypertarget{group__lavu__mem__funcs_gae5ca394e7536fcd2689008b011a211ad}\label{group__lavu__mem__funcs_gae5ca394e7536fcd2689008b011a211ad}} 
\index{Heap Management@{Heap Management}!av\_realloc\_f@{av\_realloc\_f}}
\index{av\_realloc\_f@{av\_realloc\_f}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_realloc\_f()}{av\_realloc\_f()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}$\ast$ av\+\_\+realloc\+\_\+f (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr,  }\item[{size\+\_\+t}]{nelem,  }\item[{size\+\_\+t}]{elsize }\end{DoxyParamCaption})}

Allocate, reallocate, or free a block of memory.

This function does the same thing as \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}}, except\+:
\begin{DoxyItemize}
\item It takes two size arguments and allocates {\ttfamily nelem $\ast$ elsize} bytes, after checking the result of the multiplication for integer overflow.
\item It frees the input block in case of failure, thus avoiding the memory leak with the classic 
\begin{DoxyCode}{0}
\DoxyCodeLine{buf = realloc(buf);}
\DoxyCodeLine{\textcolor{keywordflow}{if} (!buf)}
\DoxyCodeLine{    \textcolor{keywordflow}{return} -\/1;}
\end{DoxyCode}
 pattern. 
\end{DoxyItemize}

Definition at line 146 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_gae5ca394e7536fcd2689008b011a211ad_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_gae5ca394e7536fcd2689008b011a211ad_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga9665abf3720f9f460790c2c3b224c052}\label{group__lavu__mem__funcs_ga9665abf3720f9f460790c2c3b224c052}} 
\index{Heap Management@{Heap Management}!av\_reallocp@{av\_reallocp}}
\index{av\_reallocp@{av\_reallocp}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_reallocp()}{av\_reallocp()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_a93f17e0f0b53a66e7b5eceb3dff2918f}{av\+\_\+warn\+\_\+unused\+\_\+result}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+reallocp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Allocate, reallocate, or free a block of memory through a pointer to a pointer.

If {\ttfamily $\ast$ptr} is {\ttfamily N\+U\+LL} and {\ttfamily size} $>$ 0, allocate a new block. If {\ttfamily size} is zero, free the memory block pointed to by {\ttfamily $\ast$ptr}. Otherwise, expand or shrink that block of memory according to {\ttfamily size}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em ptr} & Pointer to a pointer to a memory block already allocated with \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}}, or a pointer to {\ttfamily N\+U\+LL}. The pointer is updated on success, or freed on failure. \\
\hline
\mbox{\texttt{ in}}  & {\em size} & Size in bytes for the memory block to be allocated or reallocated\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Zero on success, an A\+V\+E\+R\+R\+OR error code on failure
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Unlike \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}}, the allocated memory is not guaranteed to be correctly aligned. 
\end{DoxyWarning}


Definition at line 161 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{group__lavu__mem__funcs_ga9665abf3720f9f460790c2c3b224c052_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_gad8fde0c159ac905909339e082a049cde}\label{group__lavu__mem__funcs_gad8fde0c159ac905909339e082a049cde}} 
\index{Heap Management@{Heap Management}!av\_reallocp\_array@{av\_reallocp\_array}}
\index{av\_reallocp\_array@{av\_reallocp\_array}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_reallocp\_array()}{av\_reallocp\_array()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+reallocp\+\_\+array (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{ptr,  }\item[{size\+\_\+t}]{nmemb,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Allocate, reallocate, or free an array through a pointer to a pointer.

If {\ttfamily $\ast$ptr} is {\ttfamily N\+U\+LL} and {\ttfamily nmemb} $>$ 0, allocate a new block. If {\ttfamily nmemb} is zero, free the memory block pointed to by {\ttfamily $\ast$ptr}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em ptr} & Pointer to a pointer to a memory block already allocated with \mbox{\hyperlink{group__lavu__mem__funcs_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb}{av\+\_\+realloc()}}, or a pointer to {\ttfamily N\+U\+LL}. The pointer is updated on success, or freed on failure. \\
\hline
\mbox{\texttt{ in}}  & {\em nmemb} & Number of elements \\
\hline
\mbox{\texttt{ in}}  & {\em size} & Size of the single element\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Zero on success, an A\+V\+E\+R\+R\+OR error code on failure
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Unlike \mbox{\hyperlink{group__lavu__mem__funcs_gacbca30ebc510a7e4156d66e7aceb2dc8}{av\+\_\+malloc()}}, the allocated memory is not guaranteed to be correctly aligned. 
\end{DoxyWarning}


Definition at line 206 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_gad8fde0c159ac905909339e082a049cde_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{group__lavu__mem__funcs_gad8fde0c159ac905909339e082a049cde_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga7c352f4cff02184f005323691375fea9}\label{group__lavu__mem__funcs_ga7c352f4cff02184f005323691375fea9}} 
\index{Heap Management@{Heap Management}!av\_strdup@{av\_strdup}}
\index{av\_strdup@{av\_strdup}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_strdup()}{av\_strdup()}}
{\footnotesize\ttfamily char$\ast$ av\+\_\+strdup (\begin{DoxyParamCaption}\item[{const char $\ast$}]{s }\end{DoxyParamCaption})}

Duplicate a string.


\begin{DoxyParams}{Parameters}
{\em s} & String to be duplicated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to a newly-\/allocated string containing a copy of {\ttfamily s} or {\ttfamily N\+U\+LL} if the string cannot be allocated 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavu__mem__funcs_gaffde7a717e3a603ed11a998c18d68cad}{av\+\_\+strndup()}} 
\end{DoxySeeAlso}


Definition at line 253 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{group__lavu__mem__funcs_ga7c352f4cff02184f005323691375fea9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavu__mem__funcs_gaffde7a717e3a603ed11a998c18d68cad}\label{group__lavu__mem__funcs_gaffde7a717e3a603ed11a998c18d68cad}} 
\index{Heap Management@{Heap Management}!av\_strndup@{av\_strndup}}
\index{av\_strndup@{av\_strndup}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{av\_strndup()}{av\_strndup()}}
{\footnotesize\ttfamily char$\ast$ av\+\_\+strndup (\begin{DoxyParamCaption}\item[{const char $\ast$}]{s,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}

Duplicate a substring of a string.


\begin{DoxyParams}{Parameters}
{\em s} & String to be duplicated \\
\hline
{\em len} & Maximum length of the resulting string (not counting the terminating byte) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to a newly-\/allocated string containing a substring of {\ttfamily s} or {\ttfamily N\+U\+LL} if the string cannot be allocated 
\end{DoxyReturn}


Definition at line 265 of file mem.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_gaffde7a717e3a603ed11a998c18d68cad_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavu__mem__funcs_gaffde7a717e3a603ed11a998c18d68cad_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{group__lavu__mem__funcs_ga79fd723df92f68cf8a6207a1d98b4c01}\label{group__lavu__mem__funcs_ga79fd723df92f68cf8a6207a1d98b4c01}} 
\index{Heap Management@{Heap Management}!nmemb@{nmemb}}
\index{nmemb@{nmemb}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{nmemb}{nmemb}}
{\footnotesize\ttfamily size\+\_\+t nmemb}



Definition at line 323 of file mem.\+h.

\mbox{\Hypertarget{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}\label{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}} 
\index{Heap Management@{Heap Management}!size@{size}}
\index{size@{size}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{size}{size}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily size\+\_\+t size\+\_\+t size}



Definition at line 11134 of file twinvq\+\_\+data.\+h.

\mbox{\Hypertarget{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}\label{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}} 
\index{Heap Management@{Heap Management}!size@{size}}
\index{size@{size}!Heap Management@{Heap Management}}
\doxysubsubsection{\texorpdfstring{size}{size}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily size\+\_\+t size\+\_\+t size}



Definition at line 220 of file mem.\+h.

