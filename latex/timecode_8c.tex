\hypertarget{timecode_8c}{}\doxysection{E\+:/github/ffmpeg/libavutil/timecode.c File Reference}
\label{timecode_8c}\index{E:/github/ffmpeg/libavutil/timecode.c@{E:/github/ffmpeg/libavutil/timecode.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include \char`\"{}timecode.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}log.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}error.\+h\char`\"{}}\newline
Include dependency graph for timecode.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{timecode_8c_aef6b950d708ea805b970c16e71a97869}{av\+\_\+timecode\+\_\+adjust\+\_\+ntsc\+\_\+framenum2}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} framenum, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} fps)
\item 
uint32\+\_\+t \mbox{\hyperlink{timecode_8c_ae3045b65cc54f72e9d53d3c97a5f4da5}{av\+\_\+timecode\+\_\+get\+\_\+smpte\+\_\+from\+\_\+framenum}} (const \mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$\mbox{\hyperlink{regdef_8h_a71234e05f922466327ffed37b019c7fb}{tc}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} framenum)
\item 
uint32\+\_\+t \mbox{\hyperlink{timecode_8c_a4b32766367b125c300d043035d06415c}{av\+\_\+timecode\+\_\+get\+\_\+smpte}} (\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}} rate, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} drop, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} hh, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} mm, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{colorspacedsp__template_8c_a74d3c3c85d450f9238a162d015c0b407}{ss}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff)
\item 
char $\ast$ \mbox{\hyperlink{timecode_8c_a8cadcdf7e38091651068f70adb94f867}{av\+\_\+timecode\+\_\+make\+\_\+string}} (const \mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$\mbox{\hyperlink{regdef_8h_a71234e05f922466327ffed37b019c7fb}{tc}}, char $\ast$buf, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} framenum)
\item 
static unsigned \mbox{\hyperlink{timecode_8c_a03505b023286f8ed064a12ec260c227f}{bcd2uint}} (\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} bcd)
\item 
char $\ast$ \mbox{\hyperlink{timecode_8c_aa7a37c926d97d20838aa4f9faa59bdc6}{av\+\_\+timecode\+\_\+make\+\_\+smpte\+\_\+tc\+\_\+string2}} (char $\ast$buf, \mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}} rate, uint32\+\_\+t tcsmpte, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} prevent\+\_\+df, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} skip\+\_\+field)
\item 
char $\ast$ \mbox{\hyperlink{timecode_8c_a24963ec8df5712caa8c30b046804d866}{av\+\_\+timecode\+\_\+make\+\_\+smpte\+\_\+tc\+\_\+string}} (char $\ast$buf, uint32\+\_\+t tcsmpte, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} prevent\+\_\+df)
\item 
char $\ast$ \mbox{\hyperlink{timecode_8c_a671b3f88e40043bb521550f911cd6b16}{av\+\_\+timecode\+\_\+make\+\_\+mpeg\+\_\+tc\+\_\+string}} (char $\ast$buf, uint32\+\_\+t tc25bit)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{timecode_8c_abc088f89afb413b9e4fe99754662d92c}{check\+\_\+fps}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} fps)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{timecode_8c_a36bebfb9d76af7625f7a463ed33b2282}{check\+\_\+timecode}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$log\+\_\+ctx, \mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$\mbox{\hyperlink{regdef_8h_a71234e05f922466327ffed37b019c7fb}{tc}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{timecode_8c_ade19043fd0019573f240bd44be143fba}{fps\+\_\+from\+\_\+frame\+\_\+rate}} (\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}} rate)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{timecode_8c_ae181c7f842ad64c2e75c320e46f4edfc}{av\+\_\+timecode\+\_\+check\+\_\+frame\+\_\+rate}} (\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}} rate)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{timecode_8c_ad279cd982964a2f8cc7adfa01533b412}{av\+\_\+timecode\+\_\+init}} (\mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$\mbox{\hyperlink{regdef_8h_a71234e05f922466327ffed37b019c7fb}{tc}}, \mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}} rate, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{log_8c_ac8bf36fe0577cba66bccda3a6f7e80a4}{flags}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{mpegvideo__enc_8c_a9f46efad78eac6d29e11afe4f483369b}{frame\+\_\+start}}, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$log\+\_\+ctx)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{timecode_8c_a02596c9d431329a3acc646c943b1c800}{av\+\_\+timecode\+\_\+init\+\_\+from\+\_\+string}} (\mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$\mbox{\hyperlink{regdef_8h_a71234e05f922466327ffed37b019c7fb}{tc}}, \mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}} rate, const char $\ast$str, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$log\+\_\+ctx)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Timecode helpers \begin{DoxySeeAlso}{See also}
\href{https://en.wikipedia.org/wiki/SMPTE_time_code}{\texttt{ https\+://en.\+wikipedia.\+org/wiki/\+S\+M\+P\+T\+E\+\_\+time\+\_\+code}} 

\href{http://www.dropframetimecode.org}{\texttt{ http\+://www.\+dropframetimecode.\+org}} 
\end{DoxySeeAlso}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{timecode_8c_aef6b950d708ea805b970c16e71a97869}\label{timecode_8c_aef6b950d708ea805b970c16e71a97869}} 
\index{timecode.c@{timecode.c}!av\_timecode\_adjust\_ntsc\_framenum2@{av\_timecode\_adjust\_ntsc\_framenum2}}
\index{av\_timecode\_adjust\_ntsc\_framenum2@{av\_timecode\_adjust\_ntsc\_framenum2}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_adjust\_ntsc\_framenum2()}{av\_timecode\_adjust\_ntsc\_framenum2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+timecode\+\_\+adjust\+\_\+ntsc\+\_\+framenum2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{framenum,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{fps }\end{DoxyParamCaption})}

Adjust frame number for N\+T\+SC drop frame time code.


\begin{DoxyParams}{Parameters}
{\em framenum} & frame number to adjust \\
\hline
{\em fps} & frame per second, 30 or 60 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
adjusted frame number 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
adjustment is only valid in N\+T\+SC 29.\+97 and 59.\+94 
\end{DoxyWarning}


Definition at line 34 of file timecode.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_aef6b950d708ea805b970c16e71a97869_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_ae181c7f842ad64c2e75c320e46f4edfc}\label{timecode_8c_ae181c7f842ad64c2e75c320e46f4edfc}} 
\index{timecode.c@{timecode.c}!av\_timecode\_check\_frame\_rate@{av\_timecode\_check\_frame\_rate}}
\index{av\_timecode\_check\_frame\_rate@{av\_timecode\_check\_frame\_rate}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_check\_frame\_rate()}{av\_timecode\_check\_frame\_rate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+timecode\+\_\+check\+\_\+frame\+\_\+rate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}}}]{rate }\end{DoxyParamCaption})}

Check if the timecode feature is available for the given frame rate

\begin{DoxyReturn}{Returns}
0 if supported, $<$0 otherwise 
\end{DoxyReturn}


Definition at line 217 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_ae181c7f842ad64c2e75c320e46f4edfc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_ae181c7f842ad64c2e75c320e46f4edfc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_a4b32766367b125c300d043035d06415c}\label{timecode_8c_a4b32766367b125c300d043035d06415c}} 
\index{timecode.c@{timecode.c}!av\_timecode\_get\_smpte@{av\_timecode\_get\_smpte}}
\index{av\_timecode\_get\_smpte@{av\_timecode\_get\_smpte}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_get\_smpte()}{av\_timecode\_get\_smpte()}}
{\footnotesize\ttfamily uint32\+\_\+t av\+\_\+timecode\+\_\+get\+\_\+smpte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}}}]{rate,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{drop,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{hh,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{mm,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ss,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ff }\end{DoxyParamCaption})}

Convert sei info to S\+M\+P\+TE 12M binary representation.


\begin{DoxyParams}{Parameters}
{\em rate} & frame rate in rational form \\
\hline
{\em drop} & drop flag \\
\hline
{\em hh} & hour \\
\hline
{\em mm} & minute \\
\hline
{\em ss} & second \\
\hline
{\em ff} & frame number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the S\+M\+P\+TE binary representation 
\end{DoxyReturn}


Definition at line 71 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{timecode_8c_a4b32766367b125c300d043035d06415c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a4b32766367b125c300d043035d06415c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_ae3045b65cc54f72e9d53d3c97a5f4da5}\label{timecode_8c_ae3045b65cc54f72e9d53d3c97a5f4da5}} 
\index{timecode.c@{timecode.c}!av\_timecode\_get\_smpte\_from\_framenum@{av\_timecode\_get\_smpte\_from\_framenum}}
\index{av\_timecode\_get\_smpte\_from\_framenum@{av\_timecode\_get\_smpte\_from\_framenum}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_get\_smpte\_from\_framenum()}{av\_timecode\_get\_smpte\_from\_framenum()}}
{\footnotesize\ttfamily uint32\+\_\+t av\+\_\+timecode\+\_\+get\+\_\+smpte\+\_\+from\+\_\+framenum (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$}]{tc,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{framenum }\end{DoxyParamCaption})}

Convert frame number to S\+M\+P\+TE 12M binary representation.


\begin{DoxyParams}{Parameters}
{\em tc} & timecode data correctly initialized \\
\hline
{\em framenum} & frame number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the S\+M\+P\+TE binary representation
\end{DoxyReturn}
See S\+M\+P\+TE ST 314M-\/2005 Sec 4.\+4.\+2.\+2.\+1 \char`\"{}\+Time code pack (\+T\+C)\char`\"{} the format description as follows\+: bits 0-\/5\+: hours, in B\+C\+D(6bits) bits 6\+: B\+G\+F1 bits 7\+: B\+G\+F2 (N\+T\+SC) or F\+I\+E\+LD (P\+AL) bits 8-\/14\+: minutes, in B\+C\+D(7bits) bits 15\+: B\+G\+F0 (N\+T\+SC) or B\+G\+F2 (P\+AL) bits 16-\/22\+: seconds, in B\+C\+D(7bits) bits 23\+: F\+I\+E\+LD (N\+T\+SC) or B\+G\+F0 (P\+AL) bits 24-\/29\+: frames, in B\+C\+D(6bits) bits 30\+: drop frame flag (0\+: non drop, 1\+: drop) bits 31\+: color frame flag (0\+: unsync mode, 1\+: sync mode) \begin{DoxyNote}{Note}
B\+CD numbers (6 or 7 bits)\+: 4 or 5 lower bits for units, 2 higher bits for tens. 

\mbox{\hyperlink{struct_frame}{Frame}} number adjustment is automatically done in case of drop timecode, you do N\+OT have to call \mbox{\hyperlink{timecode_8h_aef6b950d708ea805b970c16e71a97869}{av\+\_\+timecode\+\_\+adjust\+\_\+ntsc\+\_\+framenum2()}}. 

The frame number is relative to tc-\/$>$start. 

Color frame (CF) and binary group flags (B\+GF) bits are set to zero. 
\end{DoxyNote}


Definition at line 55 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_ae3045b65cc54f72e9d53d3c97a5f4da5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_ae3045b65cc54f72e9d53d3c97a5f4da5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_ad279cd982964a2f8cc7adfa01533b412}\label{timecode_8c_ad279cd982964a2f8cc7adfa01533b412}} 
\index{timecode.c@{timecode.c}!av\_timecode\_init@{av\_timecode\_init}}
\index{av\_timecode\_init@{av\_timecode\_init}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_init()}{av\_timecode\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+timecode\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$}]{tc,  }\item[{\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}}}]{rate,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{flags,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{frame\+\_\+start,  }\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{log\+\_\+ctx }\end{DoxyParamCaption})}

Init a timecode struct with the passed parameters.


\begin{DoxyParams}{Parameters}
{\em log\+\_\+ctx} & a pointer to an arbitrary struct of which the first field is a pointer to an \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} struct (used for av\+\_\+log) \\
\hline
{\em tc} & pointer to an allocated \mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} \\
\hline
{\em rate} & frame rate in rational form \\
\hline
{\em flags} & miscellaneous flags such as drop frame, +24 hours, ... (see A\+V\+Timecode\+Flag) \\
\hline
{\em frame\+\_\+start} & the first frame number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, A\+V\+E\+R\+R\+OR otherwise 
\end{DoxyReturn}


Definition at line 222 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_ad279cd982964a2f8cc7adfa01533b412_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_ad279cd982964a2f8cc7adfa01533b412_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_a02596c9d431329a3acc646c943b1c800}\label{timecode_8c_a02596c9d431329a3acc646c943b1c800}} 
\index{timecode.c@{timecode.c}!av\_timecode\_init\_from\_string@{av\_timecode\_init\_from\_string}}
\index{av\_timecode\_init\_from\_string@{av\_timecode\_init\_from\_string}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_init\_from\_string()}{av\_timecode\_init\_from\_string()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+timecode\+\_\+init\+\_\+from\+\_\+string (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$}]{tc,  }\item[{\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}}}]{rate,  }\item[{const char $\ast$}]{str,  }\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{log\+\_\+ctx }\end{DoxyParamCaption})}

Parse timecode representation (hh\+:mm\+:ss\mbox{[}\+:;.\mbox{]}ff).


\begin{DoxyParams}{Parameters}
{\em log\+\_\+ctx} & a pointer to an arbitrary struct of which the first field is a pointer to an \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} struct (used for av\+\_\+log). \\
\hline
{\em tc} & pointer to an allocated \mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} \\
\hline
{\em rate} & frame rate in rational form \\
\hline
{\em str} & timecode string which will determine the frame start \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, A\+V\+E\+R\+R\+OR otherwise 
\end{DoxyReturn}


Definition at line 232 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a02596c9d431329a3acc646c943b1c800_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a02596c9d431329a3acc646c943b1c800_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_a671b3f88e40043bb521550f911cd6b16}\label{timecode_8c_a671b3f88e40043bb521550f911cd6b16}} 
\index{timecode.c@{timecode.c}!av\_timecode\_make\_mpeg\_tc\_string@{av\_timecode\_make\_mpeg\_tc\_string}}
\index{av\_timecode\_make\_mpeg\_tc\_string@{av\_timecode\_make\_mpeg\_tc\_string}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_make\_mpeg\_tc\_string()}{av\_timecode\_make\_mpeg\_tc\_string()}}
{\footnotesize\ttfamily char$\ast$ av\+\_\+timecode\+\_\+make\+\_\+mpeg\+\_\+tc\+\_\+string (\begin{DoxyParamCaption}\item[{char $\ast$}]{buf,  }\item[{uint32\+\_\+t}]{tc25bit }\end{DoxyParamCaption})}

Get the timecode string from the 25-\/bit timecode format (M\+P\+EG G\+OP format).


\begin{DoxyParams}{Parameters}
{\em buf} & destination buffer, must be at least A\+V\+\_\+\+T\+I\+M\+E\+C\+O\+D\+E\+\_\+\+S\+T\+R\+\_\+\+S\+I\+ZE long \\
\hline
{\em tc25bit} & the 25-\/bits timecode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the buf parameter 
\end{DoxyReturn}


Definition at line 168 of file timecode.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a671b3f88e40043bb521550f911cd6b16_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_a24963ec8df5712caa8c30b046804d866}\label{timecode_8c_a24963ec8df5712caa8c30b046804d866}} 
\index{timecode.c@{timecode.c}!av\_timecode\_make\_smpte\_tc\_string@{av\_timecode\_make\_smpte\_tc\_string}}
\index{av\_timecode\_make\_smpte\_tc\_string@{av\_timecode\_make\_smpte\_tc\_string}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_make\_smpte\_tc\_string()}{av\_timecode\_make\_smpte\_tc\_string()}}
{\footnotesize\ttfamily char$\ast$ av\+\_\+timecode\+\_\+make\+\_\+smpte\+\_\+tc\+\_\+string (\begin{DoxyParamCaption}\item[{char $\ast$}]{buf,  }\item[{uint32\+\_\+t}]{tcsmpte,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{prevent\+\_\+df }\end{DoxyParamCaption})}

Get the timecode string from the S\+M\+P\+TE timecode format.


\begin{DoxyParams}{Parameters}
{\em buf} & destination buffer, must be at least A\+V\+\_\+\+T\+I\+M\+E\+C\+O\+D\+E\+\_\+\+S\+T\+R\+\_\+\+S\+I\+ZE long \\
\hline
{\em tcsmpte} & the 32-\/bit S\+M\+P\+TE timecode \\
\hline
{\em prevent\+\_\+df} & prevent the use of a drop flag when it is known the DF bit is arbitrary \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the buf parameter 
\end{DoxyReturn}


Definition at line 163 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a24963ec8df5712caa8c30b046804d866_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_aa7a37c926d97d20838aa4f9faa59bdc6}\label{timecode_8c_aa7a37c926d97d20838aa4f9faa59bdc6}} 
\index{timecode.c@{timecode.c}!av\_timecode\_make\_smpte\_tc\_string2@{av\_timecode\_make\_smpte\_tc\_string2}}
\index{av\_timecode\_make\_smpte\_tc\_string2@{av\_timecode\_make\_smpte\_tc\_string2}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_make\_smpte\_tc\_string2()}{av\_timecode\_make\_smpte\_tc\_string2()}}
{\footnotesize\ttfamily char$\ast$ av\+\_\+timecode\+\_\+make\+\_\+smpte\+\_\+tc\+\_\+string2 (\begin{DoxyParamCaption}\item[{char $\ast$}]{buf,  }\item[{\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}}}]{rate,  }\item[{uint32\+\_\+t}]{tcsmpte,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{prevent\+\_\+df,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{skip\+\_\+field }\end{DoxyParamCaption})}

Get the timecode string from the S\+M\+P\+TE timecode format.

In contrast to av\+\_\+timecode\+\_\+make\+\_\+smpte\+\_\+tc\+\_\+string this function supports 50/60 fps timecodes by using the field bit.


\begin{DoxyParams}{Parameters}
{\em buf} & destination buffer, must be at least A\+V\+\_\+\+T\+I\+M\+E\+C\+O\+D\+E\+\_\+\+S\+T\+R\+\_\+\+S\+I\+ZE long \\
\hline
{\em rate} & frame rate of the timecode \\
\hline
{\em tcsmpte} & the 32-\/bit S\+M\+P\+TE timecode \\
\hline
{\em prevent\+\_\+df} & prevent the use of a drop flag when it is known the DF bit is arbitrary \\
\hline
{\em skip\+\_\+field} & prevent the use of a field flag when it is known the field bit is arbitrary (e.\+g. because it is used as PC flag) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the buf parameter 
\end{DoxyReturn}


Definition at line 139 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{timecode_8c_aa7a37c926d97d20838aa4f9faa59bdc6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_aa7a37c926d97d20838aa4f9faa59bdc6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_a8cadcdf7e38091651068f70adb94f867}\label{timecode_8c_a8cadcdf7e38091651068f70adb94f867}} 
\index{timecode.c@{timecode.c}!av\_timecode\_make\_string@{av\_timecode\_make\_string}}
\index{av\_timecode\_make\_string@{av\_timecode\_make\_string}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{av\_timecode\_make\_string()}{av\_timecode\_make\_string()}}
{\footnotesize\ttfamily char$\ast$ av\+\_\+timecode\+\_\+make\+\_\+string (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$}]{tc,  }\item[{char $\ast$}]{buf,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{framenum }\end{DoxyParamCaption})}

Load timecode string in buf.


\begin{DoxyParams}{Parameters}
{\em buf} & destination buffer, must be at least A\+V\+\_\+\+T\+I\+M\+E\+C\+O\+D\+E\+\_\+\+S\+T\+R\+\_\+\+S\+I\+ZE long \\
\hline
{\em tc} & timecode data correctly initialized \\
\hline
{\em framenum} & frame number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the buf parameter
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Timecode representation can be a negative timecode and have more than 24 hours, but will only be honored if the flags are correctly set. 

The frame number is relative to tc-\/$>$start. 
\end{DoxyNote}


Definition at line 105 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=347pt]{timecode_8c_a8cadcdf7e38091651068f70adb94f867_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a8cadcdf7e38091651068f70adb94f867_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_a03505b023286f8ed064a12ec260c227f}\label{timecode_8c_a03505b023286f8ed064a12ec260c227f}} 
\index{timecode.c@{timecode.c}!bcd2uint@{bcd2uint}}
\index{bcd2uint@{bcd2uint}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{bcd2uint()}{bcd2uint()}}
{\footnotesize\ttfamily static unsigned bcd2uint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}}}]{bcd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 130 of file timecode.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a03505b023286f8ed064a12ec260c227f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_abc088f89afb413b9e4fe99754662d92c}\label{timecode_8c_abc088f89afb413b9e4fe99754662d92c}} 
\index{timecode.c@{timecode.c}!check\_fps@{check\_fps}}
\index{check\_fps@{check\_fps}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{check\_fps()}{check\_fps()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} check\+\_\+fps (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{fps }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 180 of file timecode.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_abc088f89afb413b9e4fe99754662d92c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_a36bebfb9d76af7625f7a463ed33b2282}\label{timecode_8c_a36bebfb9d76af7625f7a463ed33b2282}} 
\index{timecode.c@{timecode.c}!check\_timecode@{check\_timecode}}
\index{check\_timecode@{check\_timecode}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{check\_timecode()}{check\_timecode()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} check\+\_\+timecode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{log\+\_\+ctx,  }\item[{\mbox{\hyperlink{struct_a_v_timecode}{A\+V\+Timecode}} $\ast$}]{tc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 193 of file timecode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=269pt]{timecode_8c_a36bebfb9d76af7625f7a463ed33b2282_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_a36bebfb9d76af7625f7a463ed33b2282_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{timecode_8c_ade19043fd0019573f240bd44be143fba}\label{timecode_8c_ade19043fd0019573f240bd44be143fba}} 
\index{timecode.c@{timecode.c}!fps\_from\_frame\_rate@{fps\_from\_frame\_rate}}
\index{fps\_from\_frame\_rate@{fps\_from\_frame\_rate}!timecode.c@{timecode.c}}
\doxysubsubsection{\texorpdfstring{fps\_from\_frame\_rate()}{fps\_from\_frame\_rate()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} fps\+\_\+from\+\_\+frame\+\_\+rate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_rational}{A\+V\+Rational}}}]{rate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 210 of file timecode.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timecode_8c_ade19043fd0019573f240bd44be143fba_icgraph}
\end{center}
\end{figure}
