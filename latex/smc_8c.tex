\hypertarget{smc_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/smc.c File Reference}
\label{smc_8c}\index{E:/github/ffmpeg/libavcodec/smc.c@{E:/github/ffmpeg/libavcodec/smc.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}libavutil/intreadwrite.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}bytestream.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
Include dependency graph for smc.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{smc_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_smc_context}{Smc\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{smc_8c_a72a7f0ee444f612be01540ea3f7d457a}{C\+P\+A\+IR}}~2
\item 
\#define \mbox{\hyperlink{smc_8c_a0ed5c0b04f3430ae2eab3f393e80d730}{C\+Q\+U\+AD}}~4
\item 
\#define \mbox{\hyperlink{smc_8c_aa6c111aef3579edf2a7a35a90b345f33}{C\+O\+C\+T\+ET}}~8
\item 
\#define \mbox{\hyperlink{smc_8c_a7493e45f9ed628eec8be3151f3161966}{C\+O\+L\+O\+R\+S\+\_\+\+P\+E\+R\+\_\+\+T\+A\+B\+LE}}~256
\item 
\#define \mbox{\hyperlink{smc_8c_ae24280c734b59e82627b86f845307c23}{G\+E\+T\+\_\+\+B\+L\+O\+C\+K\+\_\+\+C\+O\+U\+NT}}()~  (opcode \& 0x10) ? (1 + bytestream2\+\_\+get\+\_\+byte(\&\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}-\/$>$gb)) \+: 1 + (opcode \& 0x0F);
\item 
\#define \mbox{\hyperlink{smc_8c_aa6fbe6cef3898af31e72a1f42ad01c3b}{A\+D\+V\+A\+N\+C\+E\+\_\+\+B\+L\+O\+CK}}()
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_smc_context}{Smc\+Context}} \mbox{\hyperlink{smc_8c_a26b639ed175174f115b5f4a5ac831fb9}{Smc\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{smc_8c_a794c899087ea0d1858dc97ed068ce269}{smc\+\_\+decode\+\_\+stream}} (\mbox{\hyperlink{struct_smc_context}{Smc\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}})
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{smc_8c_a9b7a7550043fb28eafaadeda42cb6b44}{smc\+\_\+decode\+\_\+init}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{smc_8c_a17e2a2ac24bc8664be44491b2a98994d}{smc\+\_\+decode\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$\mbox{\hyperlink{filter__design_8txt_ac6f0a759dab43b0d58cd04fb6513534c}{data}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$got\+\_\+frame, \mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$avpkt)
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{smc_8c_aab6485d150ad23ace074e3a3deeffc9a}{smc\+\_\+decode\+\_\+end}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} \mbox{\hyperlink{smc_8c_adbe2b98ef014bc16264ecc6aa1205fbd}{ff\+\_\+smc\+\_\+decoder}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
QT S\+MC Video \mbox{\hyperlink{struct_decoder}{Decoder}} by Mike Melanson (\href{mailto:melanson@pcisys.net}{\texttt{ melanson@pcisys.\+net}}) For more information about the S\+MC format, visit\+: \href{http://www.pcisys.net/~melanson/codecs/}{\texttt{ http\+://www.\+pcisys.\+net/$\sim$melanson/codecs/}}

The S\+MC decoder outputs P\+A\+L8 colorspace data. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{smc_8c_aa6fbe6cef3898af31e72a1f42ad01c3b}\label{smc_8c_aa6fbe6cef3898af31e72a1f42ad01c3b}} 
\index{smc.c@{smc.c}!ADVANCE\_BLOCK@{ADVANCE\_BLOCK}}
\index{ADVANCE\_BLOCK@{ADVANCE\_BLOCK}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{ADVANCE\_BLOCK}{ADVANCE\_BLOCK}}
{\footnotesize\ttfamily \#define A\+D\+V\+A\+N\+C\+E\+\_\+\+B\+L\+O\+CK(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{ \(\backslash\)}
\DoxyCodeLine{    pixel\_ptr += 4; \(\backslash\)}
\DoxyCodeLine{    if (pixel\_ptr >= \mbox{\hyperlink{tests_2snowenc_8c_a667b04d7fb6ef46db4da4af554c5b6f7}{width}}) \(\backslash\)}
\DoxyCodeLine{    \{ \(\backslash\)}
\DoxyCodeLine{        pixel\_ptr = 0; \(\backslash\)}
\DoxyCodeLine{        row\_ptr += \mbox{\hyperlink{mace_8c_a08f66a6870d87afcd5dc1b60d1019692}{stride}} * 4; \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{    total\_blocks-\/-\/; \(\backslash\)}
\DoxyCodeLine{    if (total\_blocks < !!n\_blocks) \(\backslash\)}
\DoxyCodeLine{    \{ \(\backslash\)}
\DoxyCodeLine{        av\_log(\mbox{\hyperlink{cbs__vp9_8c_a5950eda76c8ffc67651de936cd8c79ec}{s}}-\/>avctx, \mbox{\hyperlink{group__lavu__log__constants_gad172eacfed8653e454c6fdcbe53baab3}{AV\_LOG\_INFO}}, \textcolor{stringliteral}{"{}warning: block counter just went negative (this should not happen)\(\backslash\)n"{}}); \(\backslash\)}
\DoxyCodeLine{        return; \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 64 of file smc.\+c.

\mbox{\Hypertarget{smc_8c_aa6c111aef3579edf2a7a35a90b345f33}\label{smc_8c_aa6c111aef3579edf2a7a35a90b345f33}} 
\index{smc.c@{smc.c}!COCTET@{COCTET}}
\index{COCTET@{COCTET}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{COCTET}{COCTET}}
{\footnotesize\ttfamily \#define C\+O\+C\+T\+ET~8}



Definition at line 42 of file smc.\+c.

\mbox{\Hypertarget{smc_8c_a7493e45f9ed628eec8be3151f3161966}\label{smc_8c_a7493e45f9ed628eec8be3151f3161966}} 
\index{smc.c@{smc.c}!COLORS\_PER\_TABLE@{COLORS\_PER\_TABLE}}
\index{COLORS\_PER\_TABLE@{COLORS\_PER\_TABLE}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{COLORS\_PER\_TABLE}{COLORS\_PER\_TABLE}}
{\footnotesize\ttfamily \#define C\+O\+L\+O\+R\+S\+\_\+\+P\+E\+R\+\_\+\+T\+A\+B\+LE~256}



Definition at line 44 of file smc.\+c.

\mbox{\Hypertarget{smc_8c_a72a7f0ee444f612be01540ea3f7d457a}\label{smc_8c_a72a7f0ee444f612be01540ea3f7d457a}} 
\index{smc.c@{smc.c}!CPAIR@{CPAIR}}
\index{CPAIR@{CPAIR}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{CPAIR}{CPAIR}}
{\footnotesize\ttfamily \#define C\+P\+A\+IR~2}



Definition at line 40 of file smc.\+c.

\mbox{\Hypertarget{smc_8c_a0ed5c0b04f3430ae2eab3f393e80d730}\label{smc_8c_a0ed5c0b04f3430ae2eab3f393e80d730}} 
\index{smc.c@{smc.c}!CQUAD@{CQUAD}}
\index{CQUAD@{CQUAD}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{CQUAD}{CQUAD}}
{\footnotesize\ttfamily \#define C\+Q\+U\+AD~4}



Definition at line 41 of file smc.\+c.

\mbox{\Hypertarget{smc_8c_ae24280c734b59e82627b86f845307c23}\label{smc_8c_ae24280c734b59e82627b86f845307c23}} 
\index{smc.c@{smc.c}!GET\_BLOCK\_COUNT@{GET\_BLOCK\_COUNT}}
\index{GET\_BLOCK\_COUNT@{GET\_BLOCK\_COUNT}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{GET\_BLOCK\_COUNT}{GET\_BLOCK\_COUNT}}
{\footnotesize\ttfamily \#define G\+E\+T\+\_\+\+B\+L\+O\+C\+K\+\_\+\+C\+O\+U\+NT(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~  (opcode \& 0x10) ? (1 + bytestream2\+\_\+get\+\_\+byte(\&\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}-\/$>$gb)) \+: 1 + (opcode \& 0x0F);}



Definition at line 61 of file smc.\+c.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{smc_8c_a26b639ed175174f115b5f4a5ac831fb9}\label{smc_8c_a26b639ed175174f115b5f4a5ac831fb9}} 
\index{smc.c@{smc.c}!SmcContext@{SmcContext}}
\index{SmcContext@{SmcContext}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{SmcContext}{SmcContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_smc_context}{Smc\+Context}} \mbox{\hyperlink{struct_smc_context}{Smc\+Context}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{smc_8c_aab6485d150ad23ace074e3a3deeffc9a}\label{smc_8c_aab6485d150ad23ace074e3a3deeffc9a}} 
\index{smc.c@{smc.c}!smc\_decode\_end@{smc\_decode\_end}}
\index{smc\_decode\_end@{smc\_decode\_end}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{smc\_decode\_end()}{smc\_decode\_end()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} smc\+\_\+decode\+\_\+end (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 468 of file smc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{smc_8c_aab6485d150ad23ace074e3a3deeffc9a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{smc_8c_a17e2a2ac24bc8664be44491b2a98994d}\label{smc_8c_a17e2a2ac24bc8664be44491b2a98994d}} 
\index{smc.c@{smc.c}!smc\_decode\_frame@{smc\_decode\_frame}}
\index{smc\_decode\_frame@{smc\_decode\_frame}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{smc\_decode\_frame()}{smc\_decode\_frame()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} smc\+\_\+decode\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} $\ast$}]{data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{got\+\_\+frame,  }\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{avpkt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 431 of file smc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{smc_8c_a17e2a2ac24bc8664be44491b2a98994d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{smc_8c_a9b7a7550043fb28eafaadeda42cb6b44}\label{smc_8c_a9b7a7550043fb28eafaadeda42cb6b44}} 
\index{smc.c@{smc.c}!smc\_decode\_init@{smc\_decode\_init}}
\index{smc\_decode\_init@{smc\_decode\_init}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{smc\_decode\_init()}{smc\_decode\_init()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} smc\+\_\+decode\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 417 of file smc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{smc_8c_a9b7a7550043fb28eafaadeda42cb6b44_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{smc_8c_a794c899087ea0d1858dc97ed068ce269}\label{smc_8c_a794c899087ea0d1858dc97ed068ce269}} 
\index{smc.c@{smc.c}!smc\_decode\_stream@{smc\_decode\_stream}}
\index{smc\_decode\_stream@{smc\_decode\_stream}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{smc\_decode\_stream()}{smc\_decode\_stream()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} smc\+\_\+decode\+\_\+stream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_smc_context}{Smc\+Context}} $\ast$}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 80 of file smc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{smc_8c_a794c899087ea0d1858dc97ed068ce269_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{smc_8c_a794c899087ea0d1858dc97ed068ce269_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{smc_8c_adbe2b98ef014bc16264ecc6aa1205fbd}\label{smc_8c_adbe2b98ef014bc16264ecc6aa1205fbd}} 
\index{smc.c@{smc.c}!ff\_smc\_decoder@{ff\_smc\_decoder}}
\index{ff\_smc\_decoder@{ff\_smc\_decoder}!smc.c@{smc.c}}
\doxysubsubsection{\texorpdfstring{ff\_smc\_decoder}{ff\_smc\_decoder}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} ff\+\_\+smc\+\_\+decoder}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .name           = \textcolor{stringliteral}{"{}smc"{}},}
\DoxyCodeLine{    .long\_name      = \mbox{\hyperlink{libavutil_2internal_8h_a3c0fa12fafe59c44d4b16e60d8385637}{NULL\_IF\_CONFIG\_SMALL}}(\textcolor{stringliteral}{"{}QuickTime Graphics (SMC)"{}}),}
\DoxyCodeLine{    .type           = \mbox{\hyperlink{group__lavu__misc_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5}{AVMEDIA\_TYPE\_VIDEO}},}
\DoxyCodeLine{    .id             = \mbox{\hyperlink{group__lavc__core_ggaadca229ad2c20e060a14fec08a5cc7ceaac568d9f1ca9f8ab8cb2f38a6dfdaab0}{AV\_CODEC\_ID\_SMC}},}
\DoxyCodeLine{    .priv\_data\_size = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{smc_8c_a26b639ed175174f115b5f4a5ac831fb9}{SmcContext}}),}
\DoxyCodeLine{    .\mbox{\hyperlink{avrndec_8c_a41c0c9c8aa8e1fd12d65b18dd6948b09}{init}}           = \mbox{\hyperlink{smc_8c_a9b7a7550043fb28eafaadeda42cb6b44}{smc\_decode\_init}},}
\DoxyCodeLine{    .close          = \mbox{\hyperlink{smc_8c_aab6485d150ad23ace074e3a3deeffc9a}{smc\_decode\_end}},}
\DoxyCodeLine{    .\mbox{\hyperlink{decode__audio_8c_a1704ae53d7f426e1b67341785b5b2b58}{decode}}         = \mbox{\hyperlink{smc_8c_a17e2a2ac24bc8664be44491b2a98994d}{smc\_decode\_frame}},}
\DoxyCodeLine{    .capabilities   = \mbox{\hyperlink{group__lavc__core_ga5f35425595395c76cfa406c883f78aed}{AV\_CODEC\_CAP\_DR1}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 477 of file smc.\+c.

