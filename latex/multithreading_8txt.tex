\hypertarget{multithreading_8txt}{}\doxysection{E\+:/github/ffmpeg/doc/multithreading.txt File Reference}
\label{multithreading_8txt}\index{E:/github/ffmpeg/doc/multithreading.txt@{E:/github/ffmpeg/doc/multithreading.txt}}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{multithreading_8txt_aaf4ad2551fbccbc7086a6e2d03ef86e9}{clients}} = =============================================\mbox{\hyperlink{struct_slice}{Slice}} threading -\/ $\ast$The client \textquotesingle{}\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}} \mbox{\hyperlink{api-band-test_8c_aa57c1f6c2df235153ce61242a4d85adc}{draw\+\_\+horiz\+\_\+band}}() must \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} thread-\/safe according \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} the \mbox{\hyperlink{cbs__jpeg__syntax__template_8c_a4149a62d0e5bafe86ee74e03003161f9}{comment}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} avcodec.\+h. \mbox{\hyperlink{struct_frame}{Frame}} threading -\/ $\ast$Restrictions with slice threading also apply. $\ast$For best performance, the client should \mbox{\hyperlink{tests_2swresample_8c_afe699f10da48cabcc52a4c54f96ecaac}{set}} thread\+\_\+safe\+\_\+callbacks \mbox{\hyperlink{audioconvert_8c_a399cece626adcffd619948d47f2d975a}{if}} \mbox{\hyperlink{writing__filters_8txt_a3859a4129dbce920c88bdbeb078d4728}{it}} provides \mbox{\hyperlink{h264pred__template_8c_a4124bc0a9335c27f086f24ba207a4912}{a}} thread-\/safe \mbox{\hyperlink{svq3_8c_a85ff541f248b1dfea6f1a6bfb244d8df}{get\+\_\+buffer}}() callback. $\ast$There \mbox{\hyperlink{swscale_8txt_a723c667eda7f9b65ec345ca1e08ab17a}{is}} one \mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}} of delay added \mbox{\hyperlink{input_8c_a1cc7a9678a80af263f2be38bc9647316}{for}} every thread beyond the \mbox{\hyperlink{rate__distortion_8txt_a526861bf57e81f603c2201f788ae709c}{first}} one. Clients must \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} able \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} handle this
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before \mbox{\hyperlink{multithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a}{ff\+\_\+thread\+\_\+await\+\_\+progress}} () has been called \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} them. reget\+\_\+buffer() and \mbox{\hyperlink{seek_8c_a5819dbc2d305e99e930c734a0d28bc3b}{buffer}} age optimizations no longer work. $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} written \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} after \mbox{\hyperlink{libavcodec_2utils_8c_a8f2a011a6e511ed85066482460c6c5cd}{ff\+\_\+thread\+\_\+report\+\_\+progress}}() has been called \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} them. This includes \mbox{\hyperlink{multithreading_8txt_a24b6f80b720c2b4cc33c2de7d29bd240}{draw\+\_\+edges}}(). Porting \mbox{\hyperlink{dashenc_8c_abd2708df6d8fd950b83d85b41dc8f5df}{codecs}} \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} \mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}} threading
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling \mbox{\hyperlink{multithreading_8txt_a76a40bbaff145731efcb417bb8453d19}{get\+\_\+buffer}} ()
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call \mbox{\hyperlink{multithreading_8txt_a97c3cac75166393103fbc1594899e0b3}{ff\+\_\+thread\+\_\+finish\+\_\+setup}} () afterwards. If \mbox{\hyperlink{undefined_8txt_a97ad0c09402bfbbae274bd564295f850}{some}} \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} can \textquotesingle{}t \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} moved
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have \mbox{\hyperlink{multithreading_8txt_a4e871baf97bc0c256543f0fde05c8307}{update\+\_\+thread\+\_\+context}} () \mbox{\hyperlink{svq3_8c_aa90bc2b9950a6a9a3144876047f8bee2}{run}} \mbox{\hyperlink{writing__filters_8txt_a3859a4129dbce920c88bdbeb078d4728}{it}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} the next thread. Add \mbox{\hyperlink{group__lavc__core_gae21e6310b40920cd61f54e9c320d8e6c}{A\+V\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+H\+R\+E\+A\+DS}} \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} the codec capabilities. There will \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} very little speed gain at this point but \mbox{\hyperlink{writing__filters_8txt_a3859a4129dbce920c88bdbeb078d4728}{it}} should work. If there are inter-\/\mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}} dependencies
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have so the codec calls ff\+\_\+thread\+\_\+report \mbox{\hyperlink{multithreading_8txt_a5bd353e7cf21396158f646410741c5ce}{await\+\_\+progress}} ()
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have so the codec calls ff\+\_\+thread\+\_\+report \mbox{\hyperlink{tests_2swresample_8c_afe699f10da48cabcc52a4c54f96ecaac}{set}} \mbox{\hyperlink{libavcodec_2internal_8h_a133d9f0e29862e9f1726beafc530e052}{F\+F\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+A\+L\+L\+O\+C\+A\+T\+E\+\_\+\+P\+R\+O\+G\+R\+E\+SS}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} caps\+\_\+internal and use \mbox{\hyperlink{multithreading_8txt_ad20d53520fe26af28cbae5338a670db5}{ff\+\_\+thread\+\_\+get\+\_\+buffer}} () \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} \mbox{\hyperlink{cbs__h2645_8c_a09a36ce7cd425b67f5af376c21363e4c}{allocate}} frames. The \mbox{\hyperlink{tests_2movenc_8c_a61217d5bc9d5b446d9c08e7ca401b733}{frames}} must then \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} freed with \mbox{\hyperlink{libavcodec_2utils_8c_aa3f6cbc3d5b74d46b247469ca3247ad1}{ff\+\_\+thread\+\_\+release\+\_\+buffer}}(). \mbox{\hyperlink{writing__filters_8txt_adba4db634fe47d450a90228871dde5f6}{Otherwise}} \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} directly into the user-\/supplied frames. Call \mbox{\hyperlink{libavcodec_2utils_8c_a8f2a011a6e511ed85066482460c6c5cd}{ff\+\_\+thread\+\_\+report\+\_\+progress}}() after \mbox{\hyperlink{undefined_8txt_a97ad0c09402bfbbae274bd564295f850}{some}} part of the current picture has decoded. \mbox{\hyperlink{vf__geq_8c_adf764cbdea00d65edcd07bb9953ad2b7a42a4ade1acd55a49164099104990e09f}{A}} good place \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} put this \mbox{\hyperlink{swscale_8txt_a723c667eda7f9b65ec345ca1e08ab17a}{is}} where \mbox{\hyperlink{api-band-test_8c_aa57c1f6c2df235153ce61242a4d85adc}{draw\+\_\+horiz\+\_\+band}}() \mbox{\hyperlink{swscale_8txt_a723c667eda7f9b65ec345ca1e08ab17a}{is}} called -\/ \mbox{\hyperlink{dnn__backend__native__layer__mathbinary_8c_a01cc0e7283f9c4498568405f5920729e}{add}} this \mbox{\hyperlink{audioconvert_8c_a399cece626adcffd619948d47f2d975a}{if}} \mbox{\hyperlink{writing__filters_8txt_a3859a4129dbce920c88bdbeb078d4728}{it}} isn \textquotesingle{}t called anywhere
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel $\ast$The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have so the codec calls ff\+\_\+thread\+\_\+report \mbox{\hyperlink{tests_2swresample_8c_afe699f10da48cabcc52a4c54f96ecaac}{set}} \mbox{\hyperlink{libavcodec_2internal_8h_a133d9f0e29862e9f1726beafc530e052}{F\+F\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+A\+L\+L\+O\+C\+A\+T\+E\+\_\+\+P\+R\+O\+G\+R\+E\+SS}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} caps\+\_\+internal and use as \mbox{\hyperlink{writing__filters_8txt_a3859a4129dbce920c88bdbeb078d4728}{it}} \mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}} useful too and the implementation \mbox{\hyperlink{swscale_8txt_a723c667eda7f9b65ec345ca1e08ab17a}{is}} trivial when you \mbox{\hyperlink{fft_8c_aeac685ede53ad58d0e24e6c060feff7a}{re}} doing this Note \mbox{\hyperlink{filter__design_8txt_aa3db53f7995de75dd50930fc259ebb40}{that}} \mbox{\hyperlink{multithreading_8txt_a24b6f80b720c2b4cc33c2de7d29bd240}{draw\+\_\+edges}} () needs \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} called before reporting progress. Before accessing \mbox{\hyperlink{h264pred__template_8c_a4124bc0a9335c27f086f24ba207a4912}{a}} reference \mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}} or its M\+Vs
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
F\+Fmpeg multithreading \mbox{\hyperlink{multithreading_8txt_a0fea1c858641d60420b60158938baee5}{methods}}
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec \mbox{\hyperlink{multithreading_8txt_afc797023b68446af6fe896338323c142}{implementations}}
\item 
the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across \mbox{\hyperlink{multithreading_8txt_a8f477395ef773bd1e02cfca3de081509}{frames}}
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{multithreading_8txt_aaf4ad2551fbccbc7086a6e2d03ef86e9}\label{multithreading_8txt_aaf4ad2551fbccbc7086a6e2d03ef86e9}} 
\index{multithreading.txt@{multithreading.txt}!clients@{clients}}
\index{clients@{clients}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{clients}{clients}}
{\footnotesize\ttfamily using \mbox{\hyperlink{multithreading_8txt_aaf4ad2551fbccbc7086a6e2d03ef86e9}{clients}} =  ============================================= \mbox{\hyperlink{struct_slice}{Slice}} threading -\/ $\ast$ The client\textquotesingle{}\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}} \mbox{\hyperlink{api-band-test_8c_aa57c1f6c2df235153ce61242a4d85adc}{draw\+\_\+horiz\+\_\+band}}() must \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} thread-\/safe according \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} the \mbox{\hyperlink{cbs__jpeg__syntax__template_8c_a4149a62d0e5bafe86ee74e03003161f9}{comment}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} avcodec.\+h. \mbox{\hyperlink{struct_frame}{Frame}} threading -\/ $\ast$ Restrictions with slice threading also apply. $\ast$ For best performance, the client should \mbox{\hyperlink{tests_2swresample_8c_afe699f10da48cabcc52a4c54f96ecaac}{set}} thread\+\_\+safe\+\_\+callbacks \mbox{\hyperlink{audioconvert_8c_a399cece626adcffd619948d47f2d975a}{if}} \mbox{\hyperlink{writing__filters_8txt_a3859a4129dbce920c88bdbeb078d4728}{it}} provides \mbox{\hyperlink{h264pred__template_8c_a4124bc0a9335c27f086f24ba207a4912}{a}} thread-\/safe \mbox{\hyperlink{svq3_8c_a85ff541f248b1dfea6f1a6bfb244d8df}{get\+\_\+buffer}}() callback. $\ast$ There \mbox{\hyperlink{swscale_8txt_a723c667eda7f9b65ec345ca1e08ab17a}{is}} one \mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}} of delay added \mbox{\hyperlink{input_8c_a1cc7a9678a80af263f2be38bc9647316}{for}} every thread beyond the \mbox{\hyperlink{rate__distortion_8txt_a526861bf57e81f603c2201f788ae709c}{first}} one. Clients must \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} able \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} handle this}



Definition at line 14 of file multithreading.\+txt.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{multithreading_8txt_a5bd353e7cf21396158f646410741c5ce}\label{multithreading_8txt_a5bd353e7cf21396158f646410741c5ce}} 
\index{multithreading.txt@{multithreading.txt}!await\_progress@{await\_progress}}
\index{await\_progress@{await\_progress}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{await\_progress()}{await\_progress()}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel$\ast$ The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have so the codec calls ff\+\_\+thread\+\_\+report await\+\_\+progress (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{multithreading_8txt_a24b6f80b720c2b4cc33c2de7d29bd240}\label{multithreading_8txt_a24b6f80b720c2b4cc33c2de7d29bd240}} 
\index{multithreading.txt@{multithreading.txt}!draw\_edges@{draw\_edges}}
\index{draw\_edges@{draw\_edges}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{draw\_edges()}{draw\_edges()}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel$\ast$ The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have so the codec calls ff\+\_\+thread\+\_\+report \mbox{\hyperlink{tests_2swresample_8c_afe699f10da48cabcc52a4c54f96ecaac}{set}} \mbox{\hyperlink{libavcodec_2internal_8h_a133d9f0e29862e9f1726beafc530e052}{F\+F\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+A\+L\+L\+O\+C\+A\+T\+E\+\_\+\+P\+R\+O\+G\+R\+E\+SS}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} caps\+\_\+internal and use as \mbox{\hyperlink{writing__filters_8txt_a3859a4129dbce920c88bdbeb078d4728}{it}} \mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}} useful too and the implementation \mbox{\hyperlink{swscale_8txt_a723c667eda7f9b65ec345ca1e08ab17a}{is}} trivial when you \mbox{\hyperlink{fft_8c_aeac685ede53ad58d0e24e6c060feff7a}{re}} doing this Note \mbox{\hyperlink{filter__design_8txt_aa3db53f7995de75dd50930fc259ebb40}{that}} draw\+\_\+edges (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{multithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a}\label{multithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a}} 
\index{multithreading.txt@{multithreading.txt}!ff\_thread\_await\_progress@{ff\_thread\_await\_progress}}
\index{ff\_thread\_await\_progress@{ff\_thread\_await\_progress}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_await\_progress()}{ff\_thread\_await\_progress()}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel$\ast$ The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before ff\+\_\+thread\+\_\+await\+\_\+progress (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{multithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{multithreading_8txt_a97c3cac75166393103fbc1594899e0b3}\label{multithreading_8txt_a97c3cac75166393103fbc1594899e0b3}} 
\index{multithreading.txt@{multithreading.txt}!ff\_thread\_finish\_setup@{ff\_thread\_finish\_setup}}
\index{ff\_thread\_finish\_setup@{ff\_thread\_finish\_setup}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_finish\_setup()}{ff\_thread\_finish\_setup()}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel$\ast$ The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call ff\+\_\+thread\+\_\+finish\+\_\+setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{multithreading_8txt_a97c3cac75166393103fbc1594899e0b3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{multithreading_8txt_ad20d53520fe26af28cbae5338a670db5}\label{multithreading_8txt_ad20d53520fe26af28cbae5338a670db5}} 
\index{multithreading.txt@{multithreading.txt}!ff\_thread\_get\_buffer@{ff\_thread\_get\_buffer}}
\index{ff\_thread\_get\_buffer@{ff\_thread\_get\_buffer}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{ff\_thread\_get\_buffer()}{ff\_thread\_get\_buffer()}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel$\ast$ The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have so the codec calls ff\+\_\+thread\+\_\+report \mbox{\hyperlink{tests_2swresample_8c_afe699f10da48cabcc52a4c54f96ecaac}{set}} \mbox{\hyperlink{libavcodec_2internal_8h_a133d9f0e29862e9f1726beafc530e052}{F\+F\+\_\+\+C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+A\+L\+L\+O\+C\+A\+T\+E\+\_\+\+P\+R\+O\+G\+R\+E\+SS}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} caps\+\_\+internal and use ff\+\_\+thread\+\_\+get\+\_\+buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{multithreading_8txt_ad20d53520fe26af28cbae5338a670db5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{multithreading_8txt_a76a40bbaff145731efcb417bb8453d19}\label{multithreading_8txt_a76a40bbaff145731efcb417bb8453d19}} 
\index{multithreading.txt@{multithreading.txt}!get\_buffer@{get\_buffer}}
\index{get\_buffer@{get\_buffer}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{get\_buffer()}{get\_buffer()}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel$\ast$ The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling get\+\_\+buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{multithreading_8txt_a4e871baf97bc0c256543f0fde05c8307}\label{multithreading_8txt_a4e871baf97bc0c256543f0fde05c8307}} 
\index{multithreading.txt@{multithreading.txt}!update\_thread\_context@{update\_thread\_context}}
\index{update\_thread\_context@{update\_thread\_context}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{update\_thread\_context()}{update\_thread\_context()}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across will \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} because their bitstreams cannot \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} decoded \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel$\ast$ The contents of buffers must \mbox{\hyperlink{filter__design_8txt_a025a8cdb5c3b1625f70486924286ebe9}{not}} \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} read before as well as \mbox{\hyperlink{spdifenc_8c_a5588144d84c4c0c07d52c2f1dfebfa4f}{code}} calling up \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} before the \mbox{\hyperlink{api-h264-slice-test_8c_a3c08e4ac8c5371b05813a63eacdaea0e}{decode}} \mbox{\hyperlink{soxr__resample_8c_a3270f8745c76566680b996a9d271e4c5}{process}} starts Call have update\+\_\+thread\+\_\+context (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{multithreading_8txt_a8f477395ef773bd1e02cfca3de081509}\label{multithreading_8txt_a8f477395ef773bd1e02cfca3de081509}} 
\index{multithreading.txt@{multithreading.txt}!frames@{frames}}
\index{frames@{frames}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{frames}{frames}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec whose streams don t reset across frames}



Definition at line 37 of file multithreading.\+txt.

\mbox{\Hypertarget{multithreading_8txt_afc797023b68446af6fe896338323c142}\label{multithreading_8txt_afc797023b68446af6fe896338323c142}} 
\index{multithreading.txt@{multithreading.txt}!implementations@{implementations}}
\index{implementations@{implementations}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{implementations}{implementations}}
{\footnotesize\ttfamily the pkt\+\_\+dts and pkt\+\_\+pts \mbox{\hyperlink{filter__design_8txt_a8abfcc999d0d8cf41af3e6533be471d3}{fields}} \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} will \mbox{\hyperlink{tablegen_8txt_ab2c896c6b61dfa6df230fb4219c9bef3}{work}} as usual Restrictions \mbox{\hyperlink{writing__filters_8txt_a95df7a7ff85fb8f73f62d3c5d2d325f8}{on}} codec implementations}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{==============================================}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{struct_slice}{Slice}} threading -\/}
\DoxyCodeLine{ None except \mbox{\hyperlink{filter__design_8txt_aa3db53f7995de75dd50930fc259ebb40}{that}} there must \mbox{\hyperlink{writing__filters_8txt_a4318f2b797795d91f2ab490ec7a3d321}{be}} something worth executing \mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}} parallel.}
\DoxyCodeLine{}
\DoxyCodeLine{Frame threading -\/}
\DoxyCodeLine{* Codecs can only accept entire pictures per packet.}
\DoxyCodeLine{* Codecs similar \mbox{\hyperlink{libavcodec_2webvttdec_8c_a5d467a63df9ff99d33d6749038f6f421}{to}} ffv1}

\end{DoxyCode}


Definition at line 29 of file multithreading.\+txt.

\mbox{\Hypertarget{multithreading_8txt_a0fea1c858641d60420b60158938baee5}\label{multithreading_8txt_a0fea1c858641d60420b60158938baee5}} 
\index{multithreading.txt@{multithreading.txt}!methods@{methods}}
\index{methods@{methods}!multithreading.txt@{multithreading.txt}}
\doxysubsubsection{\texorpdfstring{methods}{methods}}
{\footnotesize\ttfamily F\+Fmpeg multithreading methods}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{==============================================}
\DoxyCodeLine{}
\DoxyCodeLine{FFmpeg provides two \mbox{\hyperlink{multithreading_8txt_a0fea1c858641d60420b60158938baee5}{methods}} \textcolor{keywordflow}{for} multithreading \mbox{\hyperlink{dashenc_8c_abd2708df6d8fd950b83d85b41dc8f5df}{codecs}}.}
\DoxyCodeLine{}
\DoxyCodeLine{Slice threading decodes multiple parts of \mbox{\hyperlink{undefined_8txt_ad99f336d4c117c453fef82993434eb4d}{a}} \mbox{\hyperlink{filter__design_8txt_a48ad71a5b40cdd5f23c601f33665a953}{frame}} at the same time}

\end{DoxyCode}


Definition at line 1 of file multithreading.\+txt.

