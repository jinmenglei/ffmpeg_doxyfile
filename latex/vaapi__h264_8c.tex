\hypertarget{vaapi__h264_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/vaapi\+\_\+h264.c File Reference}
\label{vaapi__h264_8c}\index{E:/github/ffmpeg/libavcodec/vaapi\_h264.c@{E:/github/ffmpeg/libavcodec/vaapi\_h264.c}}
{\ttfamily \#include \char`\"{}h264dec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}h264\+\_\+ps.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}hwconfig.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vaapi\+\_\+decode.\+h\char`\"{}}\newline
Include dependency graph for vaapi\+\_\+h264.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_d_p_b}{D\+PB}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_d_p_b}{D\+PB}} \mbox{\hyperlink{vaapi__h264_8c_afed569e4d1bb4ba61109644cdbc4d992}{D\+PB}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vaapi__h264_8c_a994a8e59be8fccbab97d1bd4502cbbf0}{init\+\_\+vaapi\+\_\+pic}} (V\+A\+Picture\+H264 $\ast$va\+\_\+pic)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vaapi__h264_8c_a124542ecc507fc4255dd1e4e19ec9b48}{fill\+\_\+vaapi\+\_\+pic}} (V\+A\+Picture\+H264 $\ast$va\+\_\+pic, const \mbox{\hyperlink{struct_h264_picture}{H264\+Picture}} $\ast$pic, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} pic\+\_\+structure)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__h264_8c_aa8d1fd2b63af71c14a671a216ac9f086}{dpb\+\_\+add}} (\mbox{\hyperlink{struct_d_p_b}{D\+PB}} $\ast$dpb, const \mbox{\hyperlink{struct_h264_picture}{H264\+Picture}} $\ast$pic)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__h264_8c_abb347fcc9af825ebfa186c546109c7df}{fill\+\_\+vaapi\+\_\+\+Reference\+Frames}} (V\+A\+Picture\+Parameter\+Buffer\+H264 $\ast$pic\+\_\+param, const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}})
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vaapi__h264_8c_a835737117866b947455383f90eff458c}{fill\+\_\+vaapi\+\_\+\+Ref\+Pic\+List}} (V\+A\+Picture\+H264 \mbox{\hyperlink{struct_ref_pic_list}{Ref\+Pic\+List}}\mbox{[}32\mbox{]}, const \mbox{\hyperlink{struct_h264_ref}{H264\+Ref}} $\ast$ref\+\_\+list, unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ref\+\_\+count)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{vaapi__h264_8c_a924ef0fe2ee56f8ea6dc6a21cbd67c24}{fill\+\_\+vaapi\+\_\+plain\+\_\+pred\+\_\+weight\+\_\+table}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}, unsigned char $\ast$luma\+\_\+weight\+\_\+flag, \mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}} luma\+\_\+weight\mbox{[}32\mbox{]}, \mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}} luma\+\_\+offset\mbox{[}32\mbox{]}, unsigned char $\ast$chroma\+\_\+weight\+\_\+flag, \mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}} chroma\+\_\+weight\mbox{[}32\mbox{]}\mbox{[}2\mbox{]}, \mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}} chroma\+\_\+offset\mbox{[}32\mbox{]}\mbox{[}2\mbox{]})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__h264_8c_ac9e51988c3a7597140724b238549b704}{vaapi\+\_\+h264\+\_\+start\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{attributes_8h_a7ca8a3900269f92fcc7b68235dea7787}{av\+\_\+unused}} const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{seek_8c_a5819dbc2d305e99e930c734a0d28bc3b}{buffer}}, \mbox{\hyperlink{attributes_8h_a7ca8a3900269f92fcc7b68235dea7787}{av\+\_\+unused}} uint32\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__h264_8c_aa6e3c1f00aba74e6bbb41075062c017b}{vaapi\+\_\+h264\+\_\+end\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__h264_8c_ae71b4676cb94f3dfec523de6dbe439aa}{vaapi\+\_\+h264\+\_\+decode\+\_\+slice}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{seek_8c_a5819dbc2d305e99e930c734a0d28bc3b}{buffer}}, uint32\+\_\+t \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{struct_a_v_h_w_accel}{A\+V\+H\+W\+Accel}} \mbox{\hyperlink{vaapi__h264_8c_ae3994aa66d306260b82ef07f2bd68b79}{ff\+\_\+h264\+\_\+vaapi\+\_\+hwaccel}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file implements the glue code between F\+Fmpeg\textquotesingle{}s and VA A\+PI\textquotesingle{}s structures for H.\+264 decoding. 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{vaapi__h264_8c_afed569e4d1bb4ba61109644cdbc4d992}\label{vaapi__h264_8c_afed569e4d1bb4ba61109644cdbc4d992}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!DPB@{DPB}}
\index{DPB@{DPB}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{DPB}{DPB}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_d_p_b}{D\+PB}} \mbox{\hyperlink{struct_d_p_b}{D\+PB}}}

Decoded \mbox{\hyperlink{struct_picture}{Picture}} Buffer (\mbox{\hyperlink{struct_d_p_b}{D\+PB}}). 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{vaapi__h264_8c_aa8d1fd2b63af71c14a671a216ac9f086}\label{vaapi__h264_8c_aa8d1fd2b63af71c14a671a216ac9f086}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!dpb\_add@{dpb\_add}}
\index{dpb\_add@{dpb\_add}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{dpb\_add()}{dpb\_add()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} dpb\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_d_p_b}{D\+PB}} $\ast$}]{dpb,  }\item[{const \mbox{\hyperlink{struct_h264_picture}{H264\+Picture}} $\ast$}]{pic }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Append picture to the decoded picture buffer, in a VA A\+PI form that merges the second field picture attributes with the first, if available. The decoded picture buffer\textquotesingle{}s size must be large enough to receive the new VA A\+PI picture object. 

Definition at line 94 of file vaapi\+\_\+h264.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_aa8d1fd2b63af71c14a671a216ac9f086_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_aa8d1fd2b63af71c14a671a216ac9f086_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_a124542ecc507fc4255dd1e4e19ec9b48}\label{vaapi__h264_8c_a124542ecc507fc4255dd1e4e19ec9b48}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!fill\_vaapi\_pic@{fill\_vaapi\_pic}}
\index{fill\_vaapi\_pic@{fill\_vaapi\_pic}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{fill\_vaapi\_pic()}{fill\_vaapi\_pic()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} fill\+\_\+vaapi\+\_\+pic (\begin{DoxyParamCaption}\item[{V\+A\+Picture\+H264 $\ast$}]{va\+\_\+pic,  }\item[{const \mbox{\hyperlink{struct_h264_picture}{H264\+Picture}} $\ast$}]{pic,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{pic\+\_\+structure }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Translate an F\+Fmpeg \mbox{\hyperlink{struct_picture}{Picture}} into its VA A\+PI form.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em va\+\_\+pic} & A pointer to VA A\+PI\textquotesingle{}s own picture struct \\
\hline
\mbox{\texttt{ in}}  & {\em pic} & A pointer to the F\+Fmpeg picture struct to convert \\
\hline
\mbox{\texttt{ in}}  & {\em pic\+\_\+structure} & The picture field type (as defined in mpegvideo.\+h), supersedes pic\textquotesingle{}s field type if nonzero. \\
\hline
\end{DoxyParams}


Definition at line 55 of file vaapi\+\_\+h264.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{vaapi__h264_8c_a124542ecc507fc4255dd1e4e19ec9b48_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_a124542ecc507fc4255dd1e4e19ec9b48_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_a924ef0fe2ee56f8ea6dc6a21cbd67c24}\label{vaapi__h264_8c_a924ef0fe2ee56f8ea6dc6a21cbd67c24}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!fill\_vaapi\_plain\_pred\_weight\_table@{fill\_vaapi\_plain\_pred\_weight\_table}}
\index{fill\_vaapi\_plain\_pred\_weight\_table@{fill\_vaapi\_plain\_pred\_weight\_table}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{fill\_vaapi\_plain\_pred\_weight\_table()}{fill\_vaapi\_plain\_pred\_weight\_table()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} fill\+\_\+vaapi\+\_\+plain\+\_\+pred\+\_\+weight\+\_\+table (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{list,  }\item[{unsigned char $\ast$}]{luma\+\_\+weight\+\_\+flag,  }\item[{\mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}}}]{luma\+\_\+weight\mbox{[}32\mbox{]},  }\item[{\mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}}}]{luma\+\_\+offset\mbox{[}32\mbox{]},  }\item[{unsigned char $\ast$}]{chroma\+\_\+weight\+\_\+flag,  }\item[{\mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}}}]{chroma\+\_\+weight\mbox{[}32\mbox{]}\mbox{[}2\mbox{]},  }\item[{\mbox{\hyperlink{writing__filters_8txt_ac2130f8d91aa2edb2bf9cfd0b73c9997}{short}}}]{chroma\+\_\+offset\mbox{[}32\mbox{]}\mbox{[}2\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Fill in prediction weight table.

VA A\+PI requires a plain prediction weight table as it does not infer any value.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em h} & A pointer to the current H.\+264 context \\
\hline
\mbox{\texttt{ in}}  & {\em list} & The reference frame list index to use \\
\hline
\mbox{\texttt{ out}}  & {\em luma\+\_\+weight\+\_\+flag} & VA A\+PI plain luma weight flag \\
\hline
\mbox{\texttt{ out}}  & {\em luma\+\_\+weight} & VA A\+PI plain luma weight table \\
\hline
\mbox{\texttt{ out}}  & {\em luma\+\_\+offset} & VA A\+PI plain luma offset table \\
\hline
\mbox{\texttt{ out}}  & {\em chroma\+\_\+weight\+\_\+flag} & VA A\+PI plain chroma weight flag \\
\hline
\mbox{\texttt{ out}}  & {\em chroma\+\_\+weight} & VA A\+PI plain chroma weight table \\
\hline
\mbox{\texttt{ out}}  & {\em chroma\+\_\+offset} & VA A\+PI plain chroma offset table \\
\hline
\end{DoxyParams}


Definition at line 188 of file vaapi\+\_\+h264.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{vaapi__h264_8c_a924ef0fe2ee56f8ea6dc6a21cbd67c24_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_abb347fcc9af825ebfa186c546109c7df}\label{vaapi__h264_8c_abb347fcc9af825ebfa186c546109c7df}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!fill\_vaapi\_ReferenceFrames@{fill\_vaapi\_ReferenceFrames}}
\index{fill\_vaapi\_ReferenceFrames@{fill\_vaapi\_ReferenceFrames}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{fill\_vaapi\_ReferenceFrames()}{fill\_vaapi\_ReferenceFrames()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} fill\+\_\+vaapi\+\_\+\+Reference\+Frames (\begin{DoxyParamCaption}\item[{V\+A\+Picture\+Parameter\+Buffer\+H264 $\ast$}]{pic\+\_\+param,  }\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$}]{h }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Fill in VA A\+PI reference frames array. 

Definition at line 125 of file vaapi\+\_\+h264.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_abb347fcc9af825ebfa186c546109c7df_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_abb347fcc9af825ebfa186c546109c7df_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_a835737117866b947455383f90eff458c}\label{vaapi__h264_8c_a835737117866b947455383f90eff458c}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!fill\_vaapi\_RefPicList@{fill\_vaapi\_RefPicList}}
\index{fill\_vaapi\_RefPicList@{fill\_vaapi\_RefPicList}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{fill\_vaapi\_RefPicList()}{fill\_vaapi\_RefPicList()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} fill\+\_\+vaapi\+\_\+\+Ref\+Pic\+List (\begin{DoxyParamCaption}\item[{V\+A\+Picture\+H264}]{Ref\+Pic\+List\mbox{[}32\mbox{]},  }\item[{const \mbox{\hyperlink{struct_h264_ref}{H264\+Ref}} $\ast$}]{ref\+\_\+list,  }\item[{unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ref\+\_\+count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Fill in VA A\+PI reference picture lists from the F\+Fmpeg reference picture list.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em \mbox{\hyperlink{struct_ref_pic_list}{Ref\+Pic\+List}}} & VA A\+PI internal reference picture list \\
\hline
\mbox{\texttt{ in}}  & {\em ref\+\_\+list} & A pointer to the F\+Fmpeg reference list \\
\hline
\mbox{\texttt{ in}}  & {\em ref\+\_\+count} & The number of reference pictures in ref\+\_\+list \\
\hline
\end{DoxyParams}


Definition at line 159 of file vaapi\+\_\+h264.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_a835737117866b947455383f90eff458c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{vaapi__h264_8c_a835737117866b947455383f90eff458c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_a994a8e59be8fccbab97d1bd4502cbbf0}\label{vaapi__h264_8c_a994a8e59be8fccbab97d1bd4502cbbf0}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!init\_vaapi\_pic@{init\_vaapi\_pic}}
\index{init\_vaapi\_pic@{init\_vaapi\_pic}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{init\_vaapi\_pic()}{init\_vaapi\_pic()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} init\+\_\+vaapi\+\_\+pic (\begin{DoxyParamCaption}\item[{V\+A\+Picture\+H264 $\ast$}]{va\+\_\+pic }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Initialize an empty VA A\+PI picture.

VA A\+PI requires a fixed-\/size reference picture array. 

Definition at line 39 of file vaapi\+\_\+h264.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_a994a8e59be8fccbab97d1bd4502cbbf0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_ae71b4676cb94f3dfec523de6dbe439aa}\label{vaapi__h264_8c_ae71b4676cb94f3dfec523de6dbe439aa}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!vaapi\_h264\_decode\_slice@{vaapi\_h264\_decode\_slice}}
\index{vaapi\_h264\_decode\_slice@{vaapi\_h264\_decode\_slice}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{vaapi\_h264\_decode\_slice()}{vaapi\_h264\_decode\_slice()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} vaapi\+\_\+h264\+\_\+decode\+\_\+slice (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buffer,  }\item[{uint32\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Decode the given H.\+264 slice with VA A\+PI. 

Definition at line 328 of file vaapi\+\_\+h264.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_ae71b4676cb94f3dfec523de6dbe439aa_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_aa6e3c1f00aba74e6bbb41075062c017b}\label{vaapi__h264_8c_aa6e3c1f00aba74e6bbb41075062c017b}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!vaapi\_h264\_end\_frame@{vaapi\_h264\_end\_frame}}
\index{vaapi\_h264\_end\_frame@{vaapi\_h264\_end\_frame}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{vaapi\_h264\_end\_frame()}{vaapi\_h264\_end\_frame()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} vaapi\+\_\+h264\+\_\+end\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

End a hardware decoding based frame. 

Definition at line 310 of file vaapi\+\_\+h264.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_aa6e3c1f00aba74e6bbb41075062c017b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__h264_8c_ac9e51988c3a7597140724b238549b704}\label{vaapi__h264_8c_ac9e51988c3a7597140724b238549b704}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!vaapi\_h264\_start\_frame@{vaapi\_h264\_start\_frame}}
\index{vaapi\_h264\_start\_frame@{vaapi\_h264\_start\_frame}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{vaapi\_h264\_start\_frame()}{vaapi\_h264\_start\_frame()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} vaapi\+\_\+h264\+\_\+start\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{attributes_8h_a7ca8a3900269f92fcc7b68235dea7787}{av\+\_\+unused}} const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{attributes_8h_a7ca8a3900269f92fcc7b68235dea7787}{av\+\_\+unused}} uint32\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Initialize and start decoding a frame with VA A\+PI. 

Definition at line 226 of file vaapi\+\_\+h264.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__h264_8c_ac9e51988c3a7597140724b238549b704_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{vaapi__h264_8c_ae3994aa66d306260b82ef07f2bd68b79}\label{vaapi__h264_8c_ae3994aa66d306260b82ef07f2bd68b79}} 
\index{vaapi\_h264.c@{vaapi\_h264.c}!ff\_h264\_vaapi\_hwaccel@{ff\_h264\_vaapi\_hwaccel}}
\index{ff\_h264\_vaapi\_hwaccel@{ff\_h264\_vaapi\_hwaccel}!vaapi\_h264.c@{vaapi\_h264.c}}
\doxysubsubsection{\texorpdfstring{ff\_h264\_vaapi\_hwaccel}{ff\_h264\_vaapi\_hwaccel}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_a_v_h_w_accel}{A\+V\+H\+W\+Accel}} ff\+\_\+h264\+\_\+vaapi\+\_\+hwaccel}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .name                 = \textcolor{stringliteral}{"{}h264\_vaapi"{}},}
\DoxyCodeLine{    .type                 = \mbox{\hyperlink{group__lavu__misc_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5}{AVMEDIA\_TYPE\_VIDEO}},}
\DoxyCodeLine{    .id                   = \mbox{\hyperlink{group__lavc__core_ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be}{AV\_CODEC\_ID\_H264}},}
\DoxyCodeLine{    .pix\_fmt              = \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8}{AV\_PIX\_FMT\_VAAPI}},}
\DoxyCodeLine{    .start\_frame          = \&\mbox{\hyperlink{vaapi__h264_8c_ac9e51988c3a7597140724b238549b704}{vaapi\_h264\_start\_frame}},}
\DoxyCodeLine{    .end\_frame            = \&\mbox{\hyperlink{vaapi__h264_8c_aa6e3c1f00aba74e6bbb41075062c017b}{vaapi\_h264\_end\_frame}},}
\DoxyCodeLine{    .decode\_slice         = \&\mbox{\hyperlink{vaapi__h264_8c_ae71b4676cb94f3dfec523de6dbe439aa}{vaapi\_h264\_decode\_slice}},}
\DoxyCodeLine{    .frame\_priv\_data\_size = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{vaapi__decode_8h_a06a73b1ac29713fabcde634467def2d1}{VAAPIDecodePicture}}),}
\DoxyCodeLine{    .\mbox{\hyperlink{avrndec_8c_a41c0c9c8aa8e1fd12d65b18dd6948b09}{init}}                 = \&\mbox{\hyperlink{vaapi__decode_8c_aa89acd3163709b8a935a39287097faa6}{ff\_vaapi\_decode\_init}},}
\DoxyCodeLine{    .\mbox{\hyperlink{crystalhd_8c_a47e28e6ea289d3f83ad1883ddde5a422}{uninit}}               = \&\mbox{\hyperlink{vaapi__decode_8c_ab506815becc38e590d62b26f84637149}{ff\_vaapi\_decode\_uninit}},}
\DoxyCodeLine{    .frame\_params         = \&\mbox{\hyperlink{vaapi__decode_8c_a772bdcd007a35bad24405e12b8739ea2}{ff\_vaapi\_common\_frame\_params}},}
\DoxyCodeLine{    .priv\_data\_size       = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_v_a_a_p_i_decode_context}{VAAPIDecodeContext}}),}
\DoxyCodeLine{    .caps\_internal        = \mbox{\hyperlink{hwconfig_8h_a6c1e3494a613e73e4b7bcd9a3b75d45d}{HWACCEL\_CAP\_ASYNC\_SAFE}},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 388 of file vaapi\+\_\+h264.\+c.

