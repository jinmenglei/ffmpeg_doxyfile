\hypertarget{group__lavr}{}\doxysection{libavresample}
\label{group__lavr}\index{libavresample@{libavresample}}
\doxysubsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{avresample_8h}{avresample.\+h}}
\item 
file \mbox{\hyperlink{libavresample_2version_8h}{version.\+h}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__lavr_gaee1afc173c8d1eefe0e1d8a881b7df26}{A\+V\+R\+E\+S\+A\+M\+P\+L\+E\+\_\+\+M\+A\+X\+\_\+\+C\+H\+A\+N\+N\+E\+LS}}~32
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} \mbox{\hyperlink{group__lavr_gabe4ee61779da95d51dff716ef5b275a3}{A\+V\+Audio\+Resample\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} unsigned \mbox{\hyperlink{group__lavr_ga412a1239c4c41faacce70e8fd008117a}{avresample\+\_\+version}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} const char $\ast$ \mbox{\hyperlink{group__lavr_ga098cc855136ed23959982040373bfbb7}{avresample\+\_\+configuration}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} const char $\ast$ \mbox{\hyperlink{group__lavr_gad5fec4f6232b358f77b1c03736605fec}{avresample\+\_\+license}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} const \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} $\ast$ \mbox{\hyperlink{group__lavr_ga75617752d47ce6813b3586b77155485d}{avresample\+\_\+get\+\_\+class}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$ \mbox{\hyperlink{group__lavr_gac36561d3dc63ee46b0e60ff06302cd60}{avresample\+\_\+alloc\+\_\+context}} (\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}{avresample\+\_\+open}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga27bcfad07f450c3033e61a70e397338d}{avresample\+\_\+is\+\_\+open}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{group__lavr_ga773ba7cfea3c78bb2e11ab409a2a439d}{avresample\+\_\+free}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$$\ast$avr)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_gabcb70029d64ee1b6b48c95e18957ce70}{avresample\+\_\+build\+\_\+matrix}} (uint64\+\_\+t in\+\_\+layout, uint64\+\_\+t out\+\_\+layout, double center\+\_\+mix\+\_\+level, double surround\+\_\+mix\+\_\+level, double lfe\+\_\+mix\+\_\+level, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__normalize_8c_a271b174061d4ba8e443056ae6f927529}{normalize}}, double $\ast$matrix, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{mace_8c_a08f66a6870d87afcd5dc1b60d1019692}{stride}}, enum \mbox{\hyperlink{group__channel__mask__c_gabd576ea664e3ac5d31f3362064fe13e6}{A\+V\+Matrix\+Encoding}} matrix\+\_\+encoding)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_gad2fa01bf75bc5c40b80f35ea118d62a3}{avresample\+\_\+get\+\_\+matrix}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, double $\ast$matrix, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{mace_8c_a08f66a6870d87afcd5dc1b60d1019692}{stride}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga7fe2cd5d725054b9d02174b0c7e6a44d}{avresample\+\_\+set\+\_\+matrix}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, const double $\ast$matrix, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{mace_8c_a08f66a6870d87afcd5dc1b60d1019692}{stride}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga7778b1eb6a3e913e585e3393bc94e57b}{avresample\+\_\+set\+\_\+channel\+\_\+mapping}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$channel\+\_\+map)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_gad4e9a75785aa22f7128eba734e21ff97}{avresample\+\_\+set\+\_\+compensation}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} sample\+\_\+delta, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} compensation\+\_\+distance)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga116e6173d7582e6abf43b9633c29026a}{avresample\+\_\+get\+\_\+out\+\_\+samples}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} in\+\_\+nb\+\_\+samples)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$\mbox{\hyperlink{filter__design_8txt_ad29e68e2acddc1f10f601345de7bf4aa}{output}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} out\+\_\+plane\+\_\+size, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} out\+\_\+samples, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$const $\ast$\mbox{\hyperlink{filter__design_8txt_ae5b41782d9a629f85214ea4140ed1acd}{input}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} in\+\_\+plane\+\_\+size, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} in\+\_\+samples)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga01fe18a5241902a538f25b140c155ae8}{avresample\+\_\+get\+\_\+delay}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_gae837c8c266740713ea38359cf6ae17cf}{avresample\+\_\+available}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$\mbox{\hyperlink{filter__design_8txt_ad29e68e2acddc1f10f601345de7bf4aa}{output}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} nb\+\_\+samples)
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga112366b769bd88f127aeed9d3ebe1f86}{avresample\+\_\+convert\+\_\+frame}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{filter__design_8txt_ad29e68e2acddc1f10f601345de7bf4aa}{output}}, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{filter__design_8txt_ae5b41782d9a629f85214ea4140ed1acd}{input}})
\item 
\mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavr_ga6b89aa6fd4a6063f3be41d7530b2e2a1}{avresample\+\_\+config}} (\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$avr, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{audio__convert_8c_af3acf4f5d59e8dda267d0d31ae9a8c67}{out}}, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{audio__convert_8c_ab92ad91055387e15b43ff5f6f60f2895}{in}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{group__lavr_ga7fbeabfb11b2ac38e966c05f69a1029c}{A\+V\+Mix\+Coeff\+Type}}
\item 
enum \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{group__lavr_ga7b164447ad8d41d9f875c17972e8b28c}{A\+V\+Resample\+Filter\+Type}}
\item 
enum \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{group__lavr_ga7aef839537aeecede586219937b90917}{A\+V\+Resample\+Dither\+Method}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Libavresample (lavr) is a library that handles audio resampling, sample format conversion and mixing.

Interaction with lavr is done through \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}}, which is allocated with \mbox{\hyperlink{group__lavr_gac36561d3dc63ee46b0e60ff06302cd60}{avresample\+\_\+alloc\+\_\+context()}}. It is opaque, so all parameters must be set with the \mbox{\hyperlink{group__avoptions}{A\+V\+Options}} A\+PI.

For example the following code will setup conversion from planar float sample format to interleaved signed 16-\/bit integer, downsampling from 48k\+Hz to 44.\+1k\+Hz and downmixing from 5.\+1 channels to stereo (using the default mixing matrix)\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{struct_a_v_audio_resample_context}{AVAudioResampleContext}} *avr = \mbox{\hyperlink{group__lavr_gac36561d3dc63ee46b0e60ff06302cd60}{avresample\_alloc\_context}}();}
\DoxyCodeLine{\mbox{\hyperlink{group__opt__set__funcs_ga3adf7185c21cc080890a5ec02c2e56b2}{av\_opt\_set\_int}}(avr, \textcolor{stringliteral}{"{}in\_channel\_layout"{}},  \mbox{\hyperlink{group__channel__mask__c_gac36a042dc21866f9043ce930f300d0df}{AV\_CH\_LAYOUT\_5POINT1}}, 0);}
\DoxyCodeLine{\mbox{\hyperlink{group__opt__set__funcs_ga3adf7185c21cc080890a5ec02c2e56b2}{av\_opt\_set\_int}}(avr, \textcolor{stringliteral}{"{}out\_channel\_layout"{}}, \mbox{\hyperlink{group__channel__mask__c_gabc6d6651bba254cd0fa2c42a57228e65}{AV\_CH\_LAYOUT\_STEREO}},  0);}
\DoxyCodeLine{\mbox{\hyperlink{group__opt__set__funcs_ga3adf7185c21cc080890a5ec02c2e56b2}{av\_opt\_set\_int}}(avr, \textcolor{stringliteral}{"{}in\_sample\_rate"{}},     48000,                0);}
\DoxyCodeLine{\mbox{\hyperlink{group__opt__set__funcs_ga3adf7185c21cc080890a5ec02c2e56b2}{av\_opt\_set\_int}}(avr, \textcolor{stringliteral}{"{}out\_sample\_rate"{}},    44100,                0);}
\DoxyCodeLine{\mbox{\hyperlink{group__opt__set__funcs_ga3adf7185c21cc080890a5ec02c2e56b2}{av\_opt\_set\_int}}(avr, \textcolor{stringliteral}{"{}in\_sample\_fmt"{}},      \mbox{\hyperlink{group__lavu__sampfmts_ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b}{AV\_SAMPLE\_FMT\_FLTP}},   0);}
\DoxyCodeLine{\mbox{\hyperlink{group__opt__set__funcs_ga3adf7185c21cc080890a5ec02c2e56b2}{av\_opt\_set\_int}}(avr, \textcolor{stringliteral}{"{}out\_sample\_fmt"{}},     \mbox{\hyperlink{group__lavu__sampfmts_ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af}{AV\_SAMPLE\_FMT\_S16}},    0);}
\end{DoxyCode}


Once the context is initialized, it must be opened with \mbox{\hyperlink{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}{avresample\+\_\+open()}}. If you need to change the conversion parameters, you must close the context with \mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close()}}, change the parameters as described above, then reopen it again.

The conversion itself is done by repeatedly calling \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}}. Note that the samples may get buffered in two places in lavr. The first one is the output F\+I\+FO, where the samples end up if the output buffer is not large enough. The data stored in there may be retrieved at any time with \mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}}. The second place is the resampling delay buffer, applicable only when resampling is done. The samples in it require more input before they can be processed. Their current amount is returned by \mbox{\hyperlink{group__lavr_ga01fe18a5241902a538f25b140c155ae8}{avresample\+\_\+get\+\_\+delay()}}. At the end of conversion the resampling buffer can be flushed by calling \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} with N\+U\+LL input.

The following code demonstrates the conversion loop assuming the parameters from above and caller-\/defined functions \mbox{\hyperlink{filter__audio_8c_a4209191767f4a5779718e9f691a6de53}{get\+\_\+input()}} and handle\+\_\+output()\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\_t}} **\mbox{\hyperlink{filter__design_8txt_a877535c3b6ffdf230bce90c82c597d17}{input}};}
\DoxyCodeLine{\textcolor{keywordtype}{int} in\_linesize, in\_samples;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{while} (\mbox{\hyperlink{filter__audio_8c_a4209191767f4a5779718e9f691a6de53}{get\_input}}(\&\mbox{\hyperlink{filter__design_8txt_a877535c3b6ffdf230bce90c82c597d17}{input}}, \&in\_linesize, \&in\_samples)) \{}
\DoxyCodeLine{    \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\_t}} *\mbox{\hyperlink{filter__design_8txt_aa4e1c6357e04ee6960702c705448a76a}{output}}}
\DoxyCodeLine{    \textcolor{keywordtype}{int} out\_linesize;}
\DoxyCodeLine{    \textcolor{keywordtype}{int} out\_samples = \mbox{\hyperlink{group__lavr_ga116e6173d7582e6abf43b9633c29026a}{avresample\_get\_out\_samples}}(avr, in\_samples);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{group__lavu__sampmanip_ga4db4c77f928d32c7d8854732f50b8c04}{av\_samples\_alloc}}(\&\mbox{\hyperlink{filter__design_8txt_aa4e1c6357e04ee6960702c705448a76a}{output}}, \&out\_linesize, 2, out\_samples,}
\DoxyCodeLine{                     \mbox{\hyperlink{group__lavu__sampfmts_ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af}{AV\_SAMPLE\_FMT\_S16}}, 0);}
\DoxyCodeLine{    out\_samples = \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\_convert}}(avr, \&\mbox{\hyperlink{filter__design_8txt_aa4e1c6357e04ee6960702c705448a76a}{output}}, out\_linesize, out\_samples,}
\DoxyCodeLine{                                     \mbox{\hyperlink{filter__design_8txt_a877535c3b6ffdf230bce90c82c597d17}{input}}, in\_linesize, in\_samples);}
\DoxyCodeLine{    handle\_output(\mbox{\hyperlink{filter__design_8txt_aa4e1c6357e04ee6960702c705448a76a}{output}}, out\_linesize, out\_samples);}
\DoxyCodeLine{    \mbox{\hyperlink{tableprint__vlc_8h_adba82e1bcd02de510a858fcbedf79ef1}{av\_freep}}(\&\mbox{\hyperlink{filter__design_8txt_aa4e1c6357e04ee6960702c705448a76a}{output}});}
\DoxyCodeLine{ \}}
\end{DoxyCode}


When the conversion is finished and the F\+I\+F\+Os are flushed if required, the conversion context and everything associated with it must be freed with \mbox{\hyperlink{group__lavr_ga773ba7cfea3c78bb2e11ab409a2a439d}{avresample\+\_\+free()}}. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__lavr_gaee1afc173c8d1eefe0e1d8a881b7df26}\label{group__lavr_gaee1afc173c8d1eefe0e1d8a881b7df26}} 
\index{libavresample@{libavresample}!AVRESAMPLE\_MAX\_CHANNELS@{AVRESAMPLE\_MAX\_CHANNELS}}
\index{AVRESAMPLE\_MAX\_CHANNELS@{AVRESAMPLE\_MAX\_CHANNELS}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{AVRESAMPLE\_MAX\_CHANNELS}{AVRESAMPLE\_MAX\_CHANNELS}}
{\footnotesize\ttfamily \#define A\+V\+R\+E\+S\+A\+M\+P\+L\+E\+\_\+\+M\+A\+X\+\_\+\+C\+H\+A\+N\+N\+E\+LS~32}



Definition at line 104 of file avresample.\+h.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{group__lavr_gabe4ee61779da95d51dff716ef5b275a3}\label{group__lavr_gabe4ee61779da95d51dff716ef5b275a3}} 
\index{libavresample@{libavresample}!AVAudioResampleContext@{AVAudioResampleContext}}
\index{AVAudioResampleContext@{AVAudioResampleContext}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{AVAudioResampleContext}{AVAudioResampleContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}}}



Definition at line 1 of file avresample.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__lavr_gac36561d3dc63ee46b0e60ff06302cd60}\label{group__lavr_gac36561d3dc63ee46b0e60ff06302cd60}} 
\index{libavresample@{libavresample}!avresample\_alloc\_context@{avresample\_alloc\_context}}
\index{avresample\_alloc\_context@{avresample\_alloc\_context}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_alloc\_context()}{avresample\_alloc\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}}$\ast$ avresample\+\_\+alloc\+\_\+context (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}}]{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000066}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Allocate \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} and set options.

\begin{DoxyReturn}{Returns}
allocated audio resample context, or N\+U\+LL on failure 
\end{DoxyReturn}


Definition at line 96 of file options.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gac36561d3dc63ee46b0e60ff06302cd60_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{group__lavr_gac36561d3dc63ee46b0e60ff06302cd60_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_gae837c8c266740713ea38359cf6ae17cf}\label{group__lavr_gae837c8c266740713ea38359cf6ae17cf}} 
\index{libavresample@{libavresample}!avresample\_available@{avresample\_available}}
\index{avresample\_available@{avresample\_available}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_available()}{avresample\_available()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+available (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000079}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Return the number of available samples in the output F\+I\+FO.

During conversion, if the user does not specify an output buffer or specifies an output buffer that is smaller than what is needed, remaining samples that are not written to the output are stored to an internal F\+I\+FO buffer. The samples in the F\+I\+FO can be read with \mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}} or \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}}.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}} 

\mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of samples available for reading 
\end{DoxyReturn}


Definition at line 748 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{group__lavr_gae837c8c266740713ea38359cf6ae17cf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gae837c8c266740713ea38359cf6ae17cf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_gabcb70029d64ee1b6b48c95e18957ce70}\label{group__lavr_gabcb70029d64ee1b6b48c95e18957ce70}} 
\index{libavresample@{libavresample}!avresample\_build\_matrix@{avresample\_build\_matrix}}
\index{avresample\_build\_matrix@{avresample\_build\_matrix}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_build\_matrix()}{avresample\_build\_matrix()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+build\+\_\+matrix (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{in\+\_\+layout,  }\item[{uint64\+\_\+t}]{out\+\_\+layout,  }\item[{double}]{center\+\_\+mix\+\_\+level,  }\item[{double}]{surround\+\_\+mix\+\_\+level,  }\item[{double}]{lfe\+\_\+mix\+\_\+level,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{normalize,  }\item[{double $\ast$}]{matrix,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{stride,  }\item[{enum \mbox{\hyperlink{group__channel__mask__c_gabd576ea664e3ac5d31f3362064fe13e6}{A\+V\+Matrix\+Encoding}}}]{matrix\+\_\+encoding }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000071}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Generate a channel mixing matrix.

This function is the one used internally by libavresample for building the default mixing matrix. It is made public just as a utility function for building custom matrices.


\begin{DoxyParams}[1]{Parameters}
 & {\em in\+\_\+layout} & input channel layout \\
\hline
 & {\em out\+\_\+layout} & output channel layout \\
\hline
 & {\em center\+\_\+mix\+\_\+level} & mix level for the center channel \\
\hline
 & {\em surround\+\_\+mix\+\_\+level} & mix level for the surround channel(s) \\
\hline
 & {\em lfe\+\_\+mix\+\_\+level} & mix level for the low-\/frequency effects channel \\
\hline
 & {\em normalize} & if 1, coefficients will be normalized to prevent overflow. if 0, coefficients will not be normalized. \\
\hline
\mbox{\texttt{ out}}  & {\em matrix} & mixing coefficients; matrix\mbox{[}i + stride $\ast$ o\mbox{]} is the weight of input channel i in output channel o. \\
\hline
 & {\em stride} & distance between adjacent input channels in the matrix array \\
\hline
 & {\em matrix\+\_\+encoding} & matrixed stereo downmix mode (e.\+g. dplii) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative A\+V\+E\+R\+R\+OR code on failure 
\end{DoxyReturn}


Definition at line 87 of file audio\+\_\+mix\+\_\+matrix.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gabcb70029d64ee1b6b48c95e18957ce70_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gabcb70029d64ee1b6b48c95e18957ce70_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}\label{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}} 
\index{libavresample@{libavresample}!avresample\_close@{avresample\_close}}
\index{avresample\_close@{avresample\_close}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_close()}{avresample\_close()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} avresample\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000069}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Close \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}}.

This closes the context, but it does not change the parameters. The context can be reopened with \mbox{\hyperlink{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}{avresample\+\_\+open()}}. It does, however, clear the output F\+I\+FO and any remaining leftover samples in the resampling delay buffer. If there was a custom matrix being used, that is also cleared.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} 

\mbox{\hyperlink{group__lavr_ga7fe2cd5d725054b9d02174b0c7e6a44d}{avresample\+\_\+set\+\_\+matrix()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
\end{DoxyParams}


Definition at line 262 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga6b89aa6fd4a6063f3be41d7530b2e2a1}\label{group__lavr_ga6b89aa6fd4a6063f3be41d7530b2e2a1}} 
\index{libavresample@{libavresample}!avresample\_config@{avresample\_config}}
\index{avresample\_config@{avresample\_config}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_config()}{avresample\_config()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+config (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{out,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{in }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000082}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Configure or reconfigure the \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} using the information provided by the A\+V\+Frames.

The original resampling context is reset even on failure. The function calls \mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close()}} internally if the context is open.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}{avresample\+\_\+open()}}; 

\mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close()}};
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em out} & output \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} \\
\hline
{\em in} & input \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, A\+V\+E\+R\+R\+OR on failure. 
\end{DoxyReturn}


Definition at line 505 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga6b89aa6fd4a6063f3be41d7530b2e2a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{group__lavr_ga6b89aa6fd4a6063f3be41d7530b2e2a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga098cc855136ed23959982040373bfbb7}\label{group__lavr_ga098cc855136ed23959982040373bfbb7}} 
\index{libavresample@{libavresample}!avresample\_configuration@{avresample\_configuration}}
\index{avresample\_configuration@{avresample\_configuration}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_configuration()}{avresample\_configuration()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} const char$\ast$ avresample\+\_\+configuration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}}]{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000063}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Return the libavresample build-\/time configuration. \begin{DoxyReturn}{Returns}
configure string 
\end{DoxyReturn}


Definition at line 790 of file utils.\+c.

\mbox{\Hypertarget{group__lavr_ga166443b8688b79b378631cddca93c87b}\label{group__lavr_ga166443b8688b79b378631cddca93c87b}} 
\index{libavresample@{libavresample}!avresample\_convert@{avresample\_convert}}
\index{avresample\_convert@{avresample\_convert}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_convert()}{avresample\_convert()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+convert (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$}]{output,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{out\+\_\+plane\+\_\+size,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{out\+\_\+samples,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$const $\ast$}]{input,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{in\+\_\+plane\+\_\+size,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{in\+\_\+samples }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000077}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Convert input samples and write them to the output F\+I\+FO.

The upper bound on the number of output samples can be obtained through \mbox{\hyperlink{group__lavr_ga116e6173d7582e6abf43b9633c29026a}{avresample\+\_\+get\+\_\+out\+\_\+samples()}}.

The output data can be N\+U\+LL or have fewer allocated samples than required. In this case, any remaining samples not written to the output will be added to an internal F\+I\+FO buffer, to be returned at the next call to this function or to \mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}}.

If converting sample rate, there may be data remaining in the internal resampling delay buffer. \mbox{\hyperlink{group__lavr_ga01fe18a5241902a538f25b140c155ae8}{avresample\+\_\+get\+\_\+delay()}} tells the number of remaining samples. To get this data as output, call \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} with N\+U\+LL input.

At the end of the conversion process, there may be data remaining in the internal F\+I\+FO buffer. \mbox{\hyperlink{group__lavr_gae837c8c266740713ea38359cf6ae17cf}{avresample\+\_\+available()}} tells the number of remaining samples. To get this data as output, either call \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} with N\+U\+LL input or call \mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}}.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_ga116e6173d7582e6abf43b9633c29026a}{avresample\+\_\+get\+\_\+out\+\_\+samples()}} 

\mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}} 

\mbox{\hyperlink{group__lavr_ga01fe18a5241902a538f25b140c155ae8}{avresample\+\_\+get\+\_\+delay()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em output} & output data pointers \\
\hline
{\em out\+\_\+plane\+\_\+size} & output plane size, in bytes. This can be 0 if unknown, but that will lead to optimized functions not being used directly on the output, which could slow down some conversions. \\
\hline
{\em out\+\_\+samples} & maximum number of samples that the output buffer can hold \\
\hline
{\em input} & input data pointers \\
\hline
{\em in\+\_\+plane\+\_\+size} & input plane size, in bytes This can be 0 if unknown, but that will lead to optimized functions not being used directly on the input, which could slow down some conversions. \\
\hline
{\em in\+\_\+samples} & number of input samples to convert \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of samples written to the output buffer, not including converted samples added to the internal output F\+I\+FO 
\end{DoxyReturn}


Definition at line 330 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga166443b8688b79b378631cddca93c87b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga166443b8688b79b378631cddca93c87b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga112366b769bd88f127aeed9d3ebe1f86}\label{group__lavr_ga112366b769bd88f127aeed9d3ebe1f86}} 
\index{libavresample@{libavresample}!avresample\_convert\_frame@{avresample\_convert\_frame}}
\index{avresample\_convert\_frame@{avresample\_convert\_frame}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_convert\_frame()}{avresample\_convert\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+convert\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{output,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{input }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000081}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Convert the samples in the input \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} and write them to the output \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}}.

Input and output A\+V\+Frames must have channel\+\_\+layout, sample\+\_\+rate and format set.

The upper bound on the number of output samples is obtained through \mbox{\hyperlink{group__lavr_ga116e6173d7582e6abf43b9633c29026a}{avresample\+\_\+get\+\_\+out\+\_\+samples()}}.

If the output \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} does not have the data pointers allocated the nb\+\_\+samples field will be set using \mbox{\hyperlink{group__lavr_ga116e6173d7582e6abf43b9633c29026a}{avresample\+\_\+get\+\_\+out\+\_\+samples()}} and \mbox{\hyperlink{group__lavu__frame_ga6b1acbfa82c79bf7fd78d868572f0ceb}{av\+\_\+frame\+\_\+get\+\_\+buffer()}} is called to allocate the frame.

The output \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} can be N\+U\+LL or have fewer allocated samples than required. In this case, any remaining samples not written to the output will be added to an internal F\+I\+FO buffer, to be returned at the next call to this function or to \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} or to \mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}}.

If converting sample rate, there may be data remaining in the internal resampling delay buffer. \mbox{\hyperlink{group__lavr_ga01fe18a5241902a538f25b140c155ae8}{avresample\+\_\+get\+\_\+delay()}} tells the number of remaining samples. To get this data as output, call this function or \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} with N\+U\+LL input.

At the end of the conversion process, there may be data remaining in the internal F\+I\+FO buffer. \mbox{\hyperlink{group__lavr_gae837c8c266740713ea38359cf6ae17cf}{avresample\+\_\+available()}} tells the number of remaining samples. To get this data as output, either call this function or \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} with N\+U\+LL input or call \mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}}.

If the \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} configuration does not match the output and input \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} settings the conversion does not take place and depending on which \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} is not matching A\+V\+E\+R\+R\+O\+R\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+C\+H\+A\+N\+G\+ED, A\+V\+E\+R\+R\+O\+R\+\_\+\+I\+N\+P\+U\+T\+\_\+\+C\+H\+A\+N\+G\+ED or A\+V\+E\+R\+R\+O\+R\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+C\+H\+A\+N\+G\+E\+D$\vert$\+A\+V\+E\+R\+R\+O\+R\+\_\+\+I\+N\+P\+U\+T\+\_\+\+C\+H\+A\+N\+G\+ED is returned.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_ga116e6173d7582e6abf43b9633c29026a}{avresample\+\_\+get\+\_\+out\+\_\+samples()}} 

\mbox{\hyperlink{group__lavr_gae837c8c266740713ea38359cf6ae17cf}{avresample\+\_\+available()}} 

\mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} 

\mbox{\hyperlink{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}{avresample\+\_\+read()}} 

\mbox{\hyperlink{group__lavr_ga01fe18a5241902a538f25b140c155ae8}{avresample\+\_\+get\+\_\+delay()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em output} & output \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} \\
\hline
{\em input} & input \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, A\+V\+E\+R\+R\+OR on failure or nonmatching configuration. 
\end{DoxyReturn}


Definition at line 603 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga112366b769bd88f127aeed9d3ebe1f86_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga773ba7cfea3c78bb2e11ab409a2a439d}\label{group__lavr_ga773ba7cfea3c78bb2e11ab409a2a439d}} 
\index{libavresample@{libavresample}!avresample\_free@{avresample\_free}}
\index{avresample\_free@{avresample\_free}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_free()}{avresample\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} avresample\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$$\ast$}]{avr }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000070}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Free \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} and associated \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} values.

This also calls \mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close()}} before freeing.


\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
\end{DoxyParams}


Definition at line 278 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga773ba7cfea3c78bb2e11ab409a2a439d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{group__lavr_ga773ba7cfea3c78bb2e11ab409a2a439d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga75617752d47ce6813b3586b77155485d}\label{group__lavr_ga75617752d47ce6813b3586b77155485d}} 
\index{libavresample@{libavresample}!avresample\_get\_class@{avresample\_get\_class}}
\index{avresample\_get\_class@{avresample\_get\_class}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_get\_class()}{avresample\_get\_class()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} const \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}}$\ast$ avresample\+\_\+get\+\_\+class (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}}]{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000065}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Get the \mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} for \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}}.

Can be used in combination with A\+V\+\_\+\+O\+P\+T\+\_\+\+S\+E\+A\+R\+C\+H\+\_\+\+F\+A\+K\+E\+\_\+\+O\+BJ for examining options without allocating a context.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__avoptions_gae31ae7fb20113b00108d0ecf53f25664}{av\+\_\+opt\+\_\+find()}}.
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{struct_a_v_class}{A\+V\+Class}} for \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} 
\end{DoxyReturn}


Definition at line 110 of file options.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga75617752d47ce6813b3586b77155485d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga01fe18a5241902a538f25b140c155ae8}\label{group__lavr_ga01fe18a5241902a538f25b140c155ae8}} 
\index{libavresample@{libavresample}!avresample\_get\_delay@{avresample\_get\_delay}}
\index{avresample\_get\_delay@{avresample\_get\_delay}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_get\_delay()}{avresample\_get\_delay()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+get\+\_\+delay (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000078}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Return the number of samples currently in the resampling delay buffer.

When resampling, there may be a delay between the input and output. Any unconverted samples in each call are stored internally in a delay buffer. This function allows the user to determine the current number of samples in the delay buffer, which can be useful for synchronization.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of samples currently in the resampling delay buffer 
\end{DoxyReturn}


Definition at line 438 of file resample.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga01fe18a5241902a538f25b140c155ae8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_gad2fa01bf75bc5c40b80f35ea118d62a3}\label{group__lavr_gad2fa01bf75bc5c40b80f35ea118d62a3}} 
\index{libavresample@{libavresample}!avresample\_get\_matrix@{avresample\_get\_matrix}}
\index{avresample\_get\_matrix@{avresample\_get\_matrix}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_get\_matrix()}{avresample\_get\_matrix()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+get\+\_\+matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{double $\ast$}]{matrix,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{stride }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000072}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Get the current channel mixing matrix.

If no custom matrix has been previously set or the \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} is not open, an error is returned.


\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em matrix} & mixing coefficients; matrix\mbox{[}i + stride $\ast$ o\mbox{]} is the weight of input channel i in output channel o. \\
\hline
{\em stride} & distance between adjacent input channels in the matrix array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative A\+V\+E\+R\+R\+OR code on failure 
\end{DoxyReturn}


Definition at line 637 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gad2fa01bf75bc5c40b80f35ea118d62a3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga116e6173d7582e6abf43b9633c29026a}\label{group__lavr_ga116e6173d7582e6abf43b9633c29026a}} 
\index{libavresample@{libavresample}!avresample\_get\_out\_samples@{avresample\_get\_out\_samples}}
\index{avresample\_get\_out\_samples@{avresample\_get\_out\_samples}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_get\_out\_samples()}{avresample\_get\_out\_samples()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+get\+\_\+out\+\_\+samples (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{in\+\_\+nb\+\_\+samples }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000076}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Provide the upper bound on the number of samples the configured conversion would output.


\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em in\+\_\+nb\+\_\+samples} & number of input samples\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of samples or \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+I\+N\+V\+A\+L)}} if the value would exceed I\+N\+T\+\_\+\+M\+AX 
\end{DoxyReturn}


Definition at line 753 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga116e6173d7582e6abf43b9633c29026a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{group__lavr_ga116e6173d7582e6abf43b9633c29026a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga27bcfad07f450c3033e61a70e397338d}\label{group__lavr_ga27bcfad07f450c3033e61a70e397338d}} 
\index{libavresample@{libavresample}!avresample\_is\_open@{avresample\_is\_open}}
\index{avresample\_is\_open@{avresample\_is\_open}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_is\_open()}{avresample\_is\_open()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+is\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000068}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Check whether an \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} is open or closed.


\begin{DoxyParams}{Parameters}
{\em avr} & \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if avr is open, 0 if avr is closed. 
\end{DoxyReturn}


Definition at line 257 of file utils.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga27bcfad07f450c3033e61a70e397338d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_gad5fec4f6232b358f77b1c03736605fec}\label{group__lavr_gad5fec4f6232b358f77b1c03736605fec}} 
\index{libavresample@{libavresample}!avresample\_license@{avresample\_license}}
\index{avresample\_license@{avresample\_license}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_license()}{avresample\_license()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} const char$\ast$ avresample\+\_\+license (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}}]{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000064}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Return the libavresample license. 

Definition at line 784 of file utils.\+c.

\mbox{\Hypertarget{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}\label{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}} 
\index{libavresample@{libavresample}!avresample\_open@{avresample\_open}}
\index{avresample\_open@{avresample\_open}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_open()}{avresample\_open()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000067}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Initialize \mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}}. \begin{DoxyNote}{Note}
The context must be configured using the \mbox{\hyperlink{struct_a_v_option}{A\+V\+Option}} A\+PI. 

The fields \char`\"{}in\+\_\+channel\+\_\+layout\char`\"{}, \char`\"{}out\+\_\+channel\+\_\+layout\char`\"{}, \char`\"{}in\+\_\+sample\+\_\+rate\char`\"{}, \char`\"{}out\+\_\+sample\+\_\+rate\char`\"{}, \char`\"{}in\+\_\+sample\+\_\+fmt\char`\"{}, \char`\"{}out\+\_\+sample\+\_\+fmt\char`\"{} must be set.
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__opt__set__funcs_ga3adf7185c21cc080890a5ec02c2e56b2}{av\+\_\+opt\+\_\+set\+\_\+int()}} 

\mbox{\hyperlink{group__avoptions_gaf1a88e8f152d7835f111b1ef8813fb2e}{av\+\_\+opt\+\_\+set\+\_\+dict()}} 

\mbox{\hyperlink{group__channel__mask__c_gacb84f3e93a583e1f84a5283162a606a2}{av\+\_\+get\+\_\+default\+\_\+channel\+\_\+layout()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative A\+V\+E\+R\+R\+OR code on failure 
\end{DoxyReturn}


Definition at line 36 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gad870b62ac33369be9d0800a98bf1aebb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{group__lavr_gad870b62ac33369be9d0800a98bf1aebb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}\label{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb}} 
\index{libavresample@{libavresample}!avresample\_read@{avresample\_read}}
\index{avresample\_read@{avresample\_read}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_read()}{avresample\_read()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$}]{output,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{nb\+\_\+samples }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000080}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Read samples from the output F\+I\+FO.

During conversion, if the user does not specify an output buffer or specifies an output buffer that is smaller than what is needed, remaining samples that are not written to the output are stored to an internal F\+I\+FO buffer. This function can be used to read samples from that internal F\+I\+FO.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_gae837c8c266740713ea38359cf6ae17cf}{avresample\+\_\+available()}} 

\mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em output} & output data pointers. May be N\+U\+LL, in which case nb\+\_\+samples of data is discarded from output F\+I\+FO. \\
\hline
{\em nb\+\_\+samples} & number of samples to read from the F\+I\+FO \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of samples written to output 
\end{DoxyReturn}


Definition at line 772 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_gaa23f4a372e843c7e8a68c00fd3c272eb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga7778b1eb6a3e913e585e3393bc94e57b}\label{group__lavr_ga7778b1eb6a3e913e585e3393bc94e57b}} 
\index{libavresample@{libavresample}!avresample\_set\_channel\_mapping@{avresample\_set\_channel\_mapping}}
\index{avresample\_set\_channel\_mapping@{avresample\_set\_channel\_mapping}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_set\_channel\_mapping()}{avresample\_set\_channel\_mapping()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+set\+\_\+channel\+\_\+mapping (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{channel\+\_\+map }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000074}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Set a customized input channel mapping.

This function can only be called when the allocated context is not open. Also, the input channel layout must have already been set.

Calling \mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close()}} on the context will clear the channel mapping.

The map for each input channel specifies the channel index in the source to use for that particular channel, or -\/1 to mute the channel. Source channels can be duplicated by using the same index for multiple input channels.

Examples\+:

Reordering 5.\+1 A\+AC order (C,L,R,Ls,Rs,L\+FE) to F\+Fmpeg order (L,R,C,L\+FE,Ls,Rs)\+: \{ 1, 2, 0, 5, 3, 4 \}

Muting the 3rd channel in 4-\/channel input\+: \{ 0, 1, -\/1, 3 \}

Duplicating the left channel of stereo input\+: \{ 0, 0 \}


\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em channel\+\_\+map} & customized input channel mapping \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative A\+V\+E\+R\+R\+OR code on failure 
\end{DoxyReturn}


Definition at line 697 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga7778b1eb6a3e913e585e3393bc94e57b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_gad4e9a75785aa22f7128eba734e21ff97}\label{group__lavr_gad4e9a75785aa22f7128eba734e21ff97}} 
\index{libavresample@{libavresample}!avresample\_set\_compensation@{avresample\_set\_compensation}}
\index{avresample\_set\_compensation@{avresample\_set\_compensation}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_set\_compensation()}{avresample\_set\_compensation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+set\+\_\+compensation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{sample\+\_\+delta,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{compensation\+\_\+distance }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000075}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Set compensation for resampling.

This can be called anytime after \mbox{\hyperlink{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}{avresample\+\_\+open()}}. If resampling is not automatically enabled because of a sample rate conversion, the \char`\"{}force\+\_\+resampling\char`\"{} option must have been set to 1 when opening the context in order to use resampling compensation.


\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em sample\+\_\+delta} & compensation delta, in samples \\
\hline
{\em compensation\+\_\+distance} & compensation distance, in samples \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative A\+V\+E\+R\+R\+OR code on failure 
\end{DoxyReturn}


Definition at line 233 of file resample.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{group__lavr_gad4e9a75785aa22f7128eba734e21ff97_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga7fe2cd5d725054b9d02174b0c7e6a44d}\label{group__lavr_ga7fe2cd5d725054b9d02174b0c7e6a44d}} 
\index{libavresample@{libavresample}!avresample\_set\_matrix@{avresample\_set\_matrix}}
\index{avresample\_set\_matrix@{avresample\_set\_matrix}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_set\_matrix()}{avresample\_set\_matrix()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} avresample\+\_\+set\+\_\+matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_audio_resample_context}{A\+V\+Audio\+Resample\+Context}} $\ast$}]{avr,  }\item[{const double $\ast$}]{matrix,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{stride }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000073}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Set channel mixing matrix.

Allows for setting a custom mixing matrix, overriding the default matrix generated internally during \mbox{\hyperlink{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}{avresample\+\_\+open()}}. This function can be called anytime on an allocated context, either before or after calling \mbox{\hyperlink{group__lavr_gad870b62ac33369be9d0800a98bf1aebb}{avresample\+\_\+open()}}, as long as the channel layouts have been set. \mbox{\hyperlink{group__lavr_ga166443b8688b79b378631cddca93c87b}{avresample\+\_\+convert()}} always uses the current matrix. Calling \mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close()}} on the context will clear the current matrix.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__lavr_gad742010c2d2f25fc10e0c7cf07b6d6a1}{avresample\+\_\+close()}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em avr} & audio resample context \\
\hline
{\em matrix} & mixing coefficients; matrix\mbox{[}i + stride $\ast$ o\mbox{]} is the weight of input channel i in output channel o. \\
\hline
{\em stride} & distance between adjacent input channels in the matrix array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative A\+V\+E\+R\+R\+OR code on failure 
\end{DoxyReturn}


Definition at line 666 of file utils.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__lavr_ga7fe2cd5d725054b9d02174b0c7e6a44d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__lavr_ga412a1239c4c41faacce70e8fd008117a}\label{group__lavr_ga412a1239c4c41faacce70e8fd008117a}} 
\index{libavresample@{libavresample}!avresample\_version@{avresample\_version}}
\index{avresample\_version@{avresample\_version}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{avresample\_version()}{avresample\_version()}}
{\footnotesize\ttfamily \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} unsigned avresample\+\_\+version (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}}}]{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000062}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Return the L\+I\+B\+A\+V\+R\+E\+S\+A\+M\+P\+L\+E\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+I\+NT constant. 

Definition at line 779 of file utils.\+c.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{group__lavr_ga7fbeabfb11b2ac38e966c05f69a1029c}\label{group__lavr_ga7fbeabfb11b2ac38e966c05f69a1029c}} 
\index{libavresample@{libavresample}!AVMixCoeffType@{AVMixCoeffType}}
\index{AVMixCoeffType@{AVMixCoeffType}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{AVMixCoeffType}{AVMixCoeffType}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} A\+V\+Mix\+Coeff\+Type}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000059}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Mixing Coefficient Types 

Definition at line 112 of file avresample.\+h.

\mbox{\Hypertarget{group__lavr_ga7aef839537aeecede586219937b90917}\label{group__lavr_ga7aef839537aeecede586219937b90917}} 
\index{libavresample@{libavresample}!AVResampleDitherMethod@{AVResampleDitherMethod}}
\index{AVResampleDitherMethod@{AVResampleDitherMethod}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{AVResampleDitherMethod}{AVResampleDitherMethod}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} A\+V\+Resample\+Dither\+Method}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000061}{Deprecated}}]use libswresample \end{DoxyRefDesc}


Definition at line 132 of file avresample.\+h.

\mbox{\Hypertarget{group__lavr_ga7b164447ad8d41d9f875c17972e8b28c}\label{group__lavr_ga7b164447ad8d41d9f875c17972e8b28c}} 
\index{libavresample@{libavresample}!AVResampleFilterType@{AVResampleFilterType}}
\index{AVResampleFilterType@{AVResampleFilterType}!libavresample@{libavresample}}
\doxysubsubsection{\texorpdfstring{AVResampleFilterType}{AVResampleFilterType}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{libswscale_2utils_8c_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated}} A\+V\+Resample\+Filter\+Type}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000060}{Deprecated}}]use libswresample\end{DoxyRefDesc}


Resampling Filter Types 

Definition at line 123 of file avresample.\+h.

