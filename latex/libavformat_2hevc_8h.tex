\hypertarget{libavformat_2hevc_8h}{}\doxysection{E\+:/github/ffmpeg/libavformat/hevc.h File Reference}
\label{libavformat_2hevc_8h}\index{E:/github/ffmpeg/libavformat/hevc.h@{E:/github/ffmpeg/libavformat/hevc.h}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include \char`\"{}avio.\+h\char`\"{}}\newline
Include dependency graph for hevc.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavformat_2hevc_8h_a350037081ed1998ffc257a28dc66ea1d}{ff\+\_\+hevc\+\_\+annexb2mp4}} (\mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}} $\ast$pb, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf\+\_\+in, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} filter\+\_\+ps, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$ps\+\_\+count)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavformat_2hevc_8h_a325aca121ea26fbcbf1c7d9c8d56f82e}{ff\+\_\+hevc\+\_\+annexb2mp4\+\_\+buf}} (const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf\+\_\+in, \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$buf\+\_\+out, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$\mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} filter\+\_\+ps, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$ps\+\_\+count)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{libavformat_2hevc_8h_a81c4ea74f4e7c8c3ed1a9a8ad7336d91}{ff\+\_\+isom\+\_\+write\+\_\+hvcc}} (\mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}} $\ast$pb, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$\mbox{\hyperlink{filter__design_8txt_ac6f0a759dab43b0d58cd04fb6513534c}{data}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ps\+\_\+array\+\_\+completeness)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
internal header for H\+E\+VC (de)muxer utilities 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{libavformat_2hevc_8h_a350037081ed1998ffc257a28dc66ea1d}\label{libavformat_2hevc_8h_a350037081ed1998ffc257a28dc66ea1d}} 
\index{hevc.h@{hevc.h}!ff\_hevc\_annexb2mp4@{ff\_hevc\_annexb2mp4}}
\index{ff\_hevc\_annexb2mp4@{ff\_hevc\_annexb2mp4}!hevc.h@{hevc.h}}
\doxysubsubsection{\texorpdfstring{ff\_hevc\_annexb2mp4()}{ff\_hevc\_annexb2mp4()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+hevc\+\_\+annexb2mp4 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}} $\ast$}]{pb,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf\+\_\+in,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{size,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{filter\+\_\+ps,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{ps\+\_\+count }\end{DoxyParamCaption})}

Writes Annex B formatted H\+E\+VC N\+AL units to the provided \mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}}.

The N\+AL units are converted to an M\+P4-\/compatible format (start code prefixes are replaced by 4-\/byte size fields, as per I\+S\+O/\+I\+EC 14496-\/15).

If filter\+\_\+ps is non-\/zero, any H\+E\+VC parameter sets found in the input will be discarded, and $\ast$ps\+\_\+count will be set to the number of discarded PS N\+AL units.


\begin{DoxyParams}{Parameters}
{\em pb} & address of the \mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}} where the data shall be written \\
\hline
{\em buf\+\_\+in} & address of the buffer holding the input data \\
\hline
{\em size} & size (in bytes) of the input buffer \\
\hline
{\em filter\+\_\+ps} & whether to write parameter set N\+AL units to the output (0) or to discard them (non-\/zero) \\
\hline
{\em ps\+\_\+count} & address of the variable where the number of discarded parameter set N\+AL units shall be written, may be N\+U\+LL \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the amount (in bytes) of data written in case of success, a negative value corresponding to an A\+V\+E\+R\+R\+OR code in case of failure 
\end{DoxyReturn}


Definition at line 999 of file hevc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h_a350037081ed1998ffc257a28dc66ea1d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h_a350037081ed1998ffc257a28dc66ea1d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavformat_2hevc_8h_a325aca121ea26fbcbf1c7d9c8d56f82e}\label{libavformat_2hevc_8h_a325aca121ea26fbcbf1c7d9c8d56f82e}} 
\index{hevc.h@{hevc.h}!ff\_hevc\_annexb2mp4\_buf@{ff\_hevc\_annexb2mp4\_buf}}
\index{ff\_hevc\_annexb2mp4\_buf@{ff\_hevc\_annexb2mp4\_buf}!hevc.h@{hevc.h}}
\doxysubsubsection{\texorpdfstring{ff\_hevc\_annexb2mp4\_buf()}{ff\_hevc\_annexb2mp4\_buf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+hevc\+\_\+annexb2mp4\+\_\+buf (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf\+\_\+in,  }\item[{\mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$}]{buf\+\_\+out,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{size,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{filter\+\_\+ps,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{ps\+\_\+count }\end{DoxyParamCaption})}

Writes Annex B formatted H\+E\+VC N\+AL units to a data buffer.

The N\+AL units are converted to an M\+P4-\/compatible format (start code prefixes are replaced by 4-\/byte size fields, as per I\+S\+O/\+I\+EC 14496-\/15).

If filter\+\_\+ps is non-\/zero, any H\+E\+VC parameter sets found in the input will be discarded, and $\ast$ps\+\_\+count will be set to the number of discarded PS N\+AL units.

On success, $\ast$size holds the size (in bytes) of the output data buffer.


\begin{DoxyParams}{Parameters}
{\em buf\+\_\+in} & address of the buffer holding the input data \\
\hline
{\em size} & address of the variable holding the size (in bytes) of the input buffer (on input) and of the output buffer (on success) \\
\hline
{\em buf\+\_\+out} & on success, address of the variable holding the address of the output buffer \\
\hline
{\em filter\+\_\+ps} & whether to write parameter set N\+AL units to the output (0) or to discard them (non-\/zero) \\
\hline
{\em ps\+\_\+count} & address of the variable where the number of discarded parameter set N\+AL units shall be written, may be N\+U\+LL \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 in case of success, a negative value corresponding to an A\+V\+E\+R\+R\+OR code in case of failure 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
$\ast$buf\+\_\+out will be treated as uninitialized on input and won\textquotesingle{}t be freed. 
\end{DoxyNote}


Definition at line 1047 of file hevc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h_a325aca121ea26fbcbf1c7d9c8d56f82e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h_a325aca121ea26fbcbf1c7d9c8d56f82e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{libavformat_2hevc_8h_a81c4ea74f4e7c8c3ed1a9a8ad7336d91}\label{libavformat_2hevc_8h_a81c4ea74f4e7c8c3ed1a9a8ad7336d91}} 
\index{hevc.h@{hevc.h}!ff\_isom\_write\_hvcc@{ff\_isom\_write\_hvcc}}
\index{ff\_isom\_write\_hvcc@{ff\_isom\_write\_hvcc}!hevc.h@{hevc.h}}
\doxysubsubsection{\texorpdfstring{ff\_isom\_write\_hvcc()}{ff\_isom\_write\_hvcc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+isom\+\_\+write\+\_\+hvcc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}} $\ast$}]{pb,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{data,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{size,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ps\+\_\+array\+\_\+completeness }\end{DoxyParamCaption})}

Writes H\+E\+VC extradata (parameter sets, declarative S\+EI N\+AL units) to the provided \mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}}.

If the extradata is Annex B format, it gets converted to hvcC format before writing.


\begin{DoxyParams}{Parameters}
{\em pb} & address of the \mbox{\hyperlink{struct_a_v_i_o_context}{A\+V\+I\+O\+Context}} where the hvcC shall be written \\
\hline
{\em data} & address of the buffer holding the data needed to write the hvcC \\
\hline
{\em size} & size (in bytes) of the data buffer \\
\hline
{\em ps\+\_\+array\+\_\+completeness} & whether all parameter sets are in the hvcC (1) or there may be additional parameter sets in the bitstream (0) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 in case of success, a negative value corresponding to an A\+V\+E\+R\+R\+OR code in case of failure 
\end{DoxyReturn}


Definition at line 1068 of file hevc.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h_a81c4ea74f4e7c8c3ed1a9a8ad7336d91_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{libavformat_2hevc_8h_a81c4ea74f4e7c8c3ed1a9a8ad7336d91_icgraph}
\end{center}
\end{figure}
