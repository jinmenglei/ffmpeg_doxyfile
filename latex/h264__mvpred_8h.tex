\hypertarget{h264__mvpred_8h}{}\doxysection{E\+:/github/ffmpeg/libavcodec/h264\+\_\+mvpred.h File Reference}
\label{h264__mvpred_8h}\index{E:/github/ffmpeg/libavcodec/h264\_mvpred.h@{E:/github/ffmpeg/libavcodec/h264\_mvpred.h}}
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}h264dec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mpegutils.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/avassert.\+h\char`\"{}}\newline
Include dependency graph for h264\+\_\+mvpred.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{h264__mvpred_8h_a22c77e5b4fa10038de0d4ee79636fe66}{S\+E\+T\+\_\+\+D\+I\+A\+G\+\_\+\+MV}}(M\+V\+\_\+\+OP,  R\+E\+F\+\_\+\+OP,  XY,  Y4)
\item 
\#define \mbox{\hyperlink{h264__mvpred_8h_a00edca2b1d6f6de6a8a86c89bd54df65}{F\+I\+X\+\_\+\+M\+V\+\_\+\+M\+B\+A\+FF}}(\mbox{\hyperlink{hwdevice_8c_ae4165b400ecd5a84616b429f6516512b}{type}},  refn,  mvn,  idx)
\item 
\#define \mbox{\hyperlink{h264__mvpred_8h_ad0b41d17e562f24387bc0565434b4044}{M\+A\+P\+\_\+\+M\+VS}}
\item 
\#define \mbox{\hyperlink{h264__mvpred_8h_aa3ab2327a9893d80ce0eaaee11540e0b}{M\+A\+P\+\_\+\+F2F}}(idx,  mb\+\_\+type)
\item 
\#define \mbox{\hyperlink{h264__mvpred_8h_aa3ab2327a9893d80ce0eaaee11540e0b}{M\+A\+P\+\_\+\+F2F}}(idx,  mb\+\_\+type)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{h264__mvpred_8h_ade55bbde5ee09dafb2ce17a945fab480}{fetch\+\_\+diagonal\+\_\+mv}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl, const int16\+\_\+t $\ast$$\ast$\mbox{\hyperlink{writing__filters_8txt_ac6aa34a4d5a2730cb4a78b73983c6398}{C}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{input_8c_acb559820d9ca11295b4500f179ef6392}{i}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} part\+\_\+width)
\item 
static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{h264__mvpred_8h_aaa90501f99f6baadb9c9509466876380}{pred\+\_\+motion}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const \mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} n, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} part\+\_\+width, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2jpeg2000dwt_8c_a5cabdd8be5af41f675fed06498e094b7}{ref}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const mx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const my)
\item 
static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{h264__mvpred_8h_ae8a6324fea3d96fbb0d50da84f93d27c}{pred\+\_\+16x8\+\_\+motion}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const \mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} n, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2jpeg2000dwt_8c_a5cabdd8be5af41f675fed06498e094b7}{ref}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const mx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const my)
\item 
static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{h264__mvpred_8h_ab62c42098d181ef4416a92960ce02e01}{pred\+\_\+8x16\+\_\+motion}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const \mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} n, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2jpeg2000dwt_8c_a5cabdd8be5af41f675fed06498e094b7}{ref}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const mx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const my)
\item 
static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{h264__mvpred_8h_a6dbcd9036d31e6217971643dcf65b813}{pred\+\_\+pskip\+\_\+motion}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const \mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{h264__mvpred_8h_a0a8898f5c34f52b859711f737745180e}{fill\+\_\+decode\+\_\+neighbors}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} mb\+\_\+type)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{h264__mvpred_8h_aae03fca7c732c43a90d0c3d785025811}{fill\+\_\+decode\+\_\+caches}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} mb\+\_\+type)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{attributes_8h_a7ca8a3900269f92fcc7b68235dea7787}{av\+\_\+unused}} \mbox{\hyperlink{h264__mvpred_8h_a61fd1739e509fc6d475909fda9601636}{decode\+\_\+mb\+\_\+skip}} (const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a1f1dfeb2f802fe99f37fe91867b84456}{h}}, \mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$sl)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
H.\+264 / A\+VC / M\+P\+E\+G-\/4 part10 motion vector prediction. \begin{DoxyAuthor}{Author}
Michael Niedermayer \href{mailto:michaelni@gmx.at}{\texttt{ michaelni@gmx.\+at}} 
\end{DoxyAuthor}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{h264__mvpred_8h_a00edca2b1d6f6de6a8a86c89bd54df65}\label{h264__mvpred_8h_a00edca2b1d6f6de6a8a86c89bd54df65}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!FIX\_MV\_MBAFF@{FIX\_MV\_MBAFF}}
\index{FIX\_MV\_MBAFF@{FIX\_MV\_MBAFF}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{FIX\_MV\_MBAFF}{FIX\_MV\_MBAFF}}
{\footnotesize\ttfamily \#define F\+I\+X\+\_\+\+M\+V\+\_\+\+M\+B\+A\+FF(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{hwdevice_8c_ae4165b400ecd5a84616b429f6516512b}{type}},  }\item[{}]{refn,  }\item[{}]{mvn,  }\item[{}]{idx }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{h264dec_8h_ac849bdce122304e45cd342a1ac227aed}{FRAME\_MBAFF}}(\mbox{\hyperlink{vp9dsp__template_8c_a5e36941b3d856737e81516acd45edc50}{h}})) \{                       \(\backslash\)}
\DoxyCodeLine{        if (\mbox{\hyperlink{h264dec_8h_a4b6e9be890e19617a2ee277a0abd7c7a}{MB\_FIELD}}(sl)) \{                     \(\backslash\)}
\DoxyCodeLine{            if (!\mbox{\hyperlink{mpegutils_8h_a60ada078b2b0f8fd6504484a68df92e4}{IS\_INTERLACED}}(\mbox{\hyperlink{writing__filters_8txt_a860450fba1f740387dc082792ad89517}{type}})) \{         \(\backslash\)}
\DoxyCodeLine{                refn <<= 1;                     \(\backslash\)}
\DoxyCodeLine{                AV\_COPY32(mvbuf[idx], mvn);     \(\backslash\)}
\DoxyCodeLine{                mvbuf[idx][1] /= 2;             \(\backslash\)}
\DoxyCodeLine{                mvn = mvbuf[idx];               \(\backslash\)}
\DoxyCodeLine{            \}                                   \(\backslash\)}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \{                                \(\backslash\)}
\DoxyCodeLine{            if (\mbox{\hyperlink{mpegutils_8h_a60ada078b2b0f8fd6504484a68df92e4}{IS\_INTERLACED}}(\mbox{\hyperlink{writing__filters_8txt_a860450fba1f740387dc082792ad89517}{type}})) \{          \(\backslash\)}
\DoxyCodeLine{                refn >>= 1;                     \(\backslash\)}
\DoxyCodeLine{                AV\_COPY32(mvbuf[idx], mvn);     \(\backslash\)}
\DoxyCodeLine{                mvbuf[idx][1] *= 2;             \(\backslash\)}
\DoxyCodeLine{                mvn = mvbuf[idx];               \(\backslash\)}
\DoxyCodeLine{            \}                                   \(\backslash\)}
\DoxyCodeLine{        \}                                       \(\backslash\)}
\DoxyCodeLine{    \}}

\end{DoxyCode}


Definition at line 238 of file h264\+\_\+mvpred.\+h.

\mbox{\Hypertarget{h264__mvpred_8h_aa3ab2327a9893d80ce0eaaee11540e0b}\label{h264__mvpred_8h_aa3ab2327a9893d80ce0eaaee11540e0b}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!MAP\_F2F@{MAP\_F2F}}
\index{MAP\_F2F@{MAP\_F2F}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{MAP\_F2F}{MAP\_F2F}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \#define M\+A\+P\+\_\+\+F2F(\begin{DoxyParamCaption}\item[{}]{idx,  }\item[{}]{mb\+\_\+type }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{mpegutils_8h_a60ada078b2b0f8fd6504484a68df92e4}{IS\_INTERLACED}}(mb\_type) \&\& sl-\/>ref\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx] >= 0) \{     \(\backslash\)}
\DoxyCodeLine{        sl-\/>ref\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx]     *= 2;                              \(\backslash\)}
\DoxyCodeLine{        sl-\/>mv\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx][1]   /= 2;                              \(\backslash\)}
\DoxyCodeLine{        sl-\/>mvd\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx][1] >>= 1;                              \(\backslash\)}
\DoxyCodeLine{    \}}

\end{DoxyCode}
\mbox{\Hypertarget{h264__mvpred_8h_aa3ab2327a9893d80ce0eaaee11540e0b}\label{h264__mvpred_8h_aa3ab2327a9893d80ce0eaaee11540e0b}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!MAP\_F2F@{MAP\_F2F}}
\index{MAP\_F2F@{MAP\_F2F}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{MAP\_F2F}{MAP\_F2F}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \#define M\+A\+P\+\_\+\+F2F(\begin{DoxyParamCaption}\item[{}]{idx,  }\item[{}]{mb\+\_\+type }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{mpegutils_8h_a60ada078b2b0f8fd6504484a68df92e4}{IS\_INTERLACED}}(mb\_type) \&\& sl-\/>ref\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx] >= 0) \{      \(\backslash\)}
\DoxyCodeLine{        sl-\/>ref\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx]    >>= 1;                              \(\backslash\)}
\DoxyCodeLine{        sl-\/>mv\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx][1]   *= 2;                              \(\backslash\)}
\DoxyCodeLine{        sl-\/>mvd\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][idx][1] <<= 1;                              \(\backslash\)}
\DoxyCodeLine{    \}}

\end{DoxyCode}
\mbox{\Hypertarget{h264__mvpred_8h_ad0b41d17e562f24387bc0565434b4044}\label{h264__mvpred_8h_ad0b41d17e562f24387bc0565434b4044}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!MAP\_MVS@{MAP\_MVS}}
\index{MAP\_MVS@{MAP\_MVS}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{MAP\_MVS}{MAP\_MVS}}
{\footnotesize\ttfamily \#define M\+A\+P\+\_\+\+M\+VS}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{h264__mvpred_8h_aa3ab2327a9893d80ce0eaaee11540e0b}{MAP\_F2F}}(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] -\/ 1 -\/ 1 * 8, topleft\_type)                         \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] + 0 -\/ 1 * 8, top\_type)                             \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] + 1 -\/ 1 * 8, top\_type)                             \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] + 2 -\/ 1 * 8, top\_type)                             \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] + 3 -\/ 1 * 8, top\_type)                             \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] + 4 -\/ 1 * 8, topright\_type)                        \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] -\/ 1 + 0 * 8, left\_type[\mbox{\hyperlink{h264dec_8h_ae7b88f7f3bf6df3d8fc7971055b99bba}{LTOP}}])                      \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] -\/ 1 + 1 * 8, left\_type[\mbox{\hyperlink{h264dec_8h_ae7b88f7f3bf6df3d8fc7971055b99bba}{LTOP}}])                      \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] -\/ 1 + 2 * 8, left\_type[\mbox{\hyperlink{h264dec_8h_a250e49ca0074313affcaf196149d88ae}{LBOT}}])                      \(\backslash\)}
\DoxyCodeLine{    MAP\_F2F(\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] -\/ 1 + 3 * 8, left\_type[\mbox{\hyperlink{h264dec_8h_a250e49ca0074313affcaf196149d88ae}{LBOT}}])}

\end{DoxyCode}
\mbox{\Hypertarget{h264__mvpred_8h_a22c77e5b4fa10038de0d4ee79636fe66}\label{h264__mvpred_8h_a22c77e5b4fa10038de0d4ee79636fe66}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!SET\_DIAG\_MV@{SET\_DIAG\_MV}}
\index{SET\_DIAG\_MV@{SET\_DIAG\_MV}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{SET\_DIAG\_MV}{SET\_DIAG\_MV}}
{\footnotesize\ttfamily \#define S\+E\+T\+\_\+\+D\+I\+A\+G\+\_\+\+MV(\begin{DoxyParamCaption}\item[{}]{M\+V\+\_\+\+OP,  }\item[{}]{R\+E\+F\+\_\+\+OP,  }\item[{}]{XY,  }\item[{}]{Y4 }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \textcolor{keyword}{const} \textcolor{keywordtype}{int} xy = XY, y4 = Y4;                                     \(\backslash\)}
\DoxyCodeLine{        const \textcolor{keywordtype}{int} mb\_type = mb\_types[xy + (y4 >> 2) * \mbox{\hyperlink{vp9dsp__template_8c_a5e36941b3d856737e81516acd45edc50}{h}}-\/>mb\_stride];    \(\backslash\)}
\DoxyCodeLine{        \mbox{\hyperlink{filter__design_8txt_a0e82f1088fdc24c14bf175d2ac77523f}{if}} (!\mbox{\hyperlink{mpegutils_8h_a9e0ee168ee7b4c7ce87a303fafd0d8c0}{USES\_LIST}}(mb\_type, \mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}))                                  \(\backslash\)}
\DoxyCodeLine{            \textcolor{keywordflow}{return} \mbox{\hyperlink{h264dec_8h_a607ad7d3723486a7a0237f07a0206da1}{LIST\_NOT\_USED}};                                       \(\backslash\)}
\DoxyCodeLine{        mv = \mbox{\hyperlink{vp9dsp__template_8c_a5e36941b3d856737e81516acd45edc50}{h}}-\/>cur\_pic\_ptr-\/>motion\_val[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][\mbox{\hyperlink{vp9dsp__template_8c_a5e36941b3d856737e81516acd45edc50}{h}}-\/>mb2b\_xy[xy] + 3 + y4 * \mbox{\hyperlink{vp9dsp__template_8c_a5e36941b3d856737e81516acd45edc50}{h}}-\/>b\_stride]; \(\backslash\)}
\DoxyCodeLine{        sl-\/>mv\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] -\/ 2][0] = \mbox{\hyperlink{libavcodec_24xm_8c_a19c59215a57cc549287f6d8481937b12}{mv}}[0];                     \(\backslash\)}
\DoxyCodeLine{        sl-\/>mv\_cache[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][\mbox{\hyperlink{h264dec_8h_a21d6ce2d107485821da2cf01ce14b3b3}{scan8}}[0] -\/ 2][1] = \mbox{\hyperlink{libavcodec_24xm_8c_a19c59215a57cc549287f6d8481937b12}{mv}}[1] MV\_OP;               \(\backslash\)}
\DoxyCodeLine{        return \mbox{\hyperlink{vp9dsp__template_8c_a5e36941b3d856737e81516acd45edc50}{h}}-\/>cur\_pic\_ptr-\/>ref\_index[\mbox{\hyperlink{filter__design_8txt_a9f17285cc70842ab252aa590b046ecf5}{list}}][4 * xy + 1 + (y4 \& \string~1)] REF\_OP;}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{h264__mvpred_8h_a61fd1739e509fc6d475909fda9601636}\label{h264__mvpred_8h_a61fd1739e509fc6d475909fda9601636}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!decode\_mb\_skip@{decode\_mb\_skip}}
\index{decode\_mb\_skip@{decode\_mb\_skip}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{decode\_mb\_skip()}{decode\_mb\_skip()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{attributes_8h_a7ca8a3900269f92fcc7b68235dea7787}{av\+\_\+unused}} decode\+\_\+mb\+\_\+skip (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

decodes a P\+\_\+\+S\+K\+IP or B\+\_\+\+S\+K\+IP macroblock 

Definition at line 803 of file h264\+\_\+mvpred.\+h.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_a61fd1739e509fc6d475909fda9601636_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_a61fd1739e509fc6d475909fda9601636_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{h264__mvpred_8h_ade55bbde5ee09dafb2ce17a945fab480}\label{h264__mvpred_8h_ade55bbde5ee09dafb2ce17a945fab480}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!fetch\_diagonal\_mv@{fetch\_diagonal\_mv}}
\index{fetch\_diagonal\_mv@{fetch\_diagonal\_mv}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{fetch\_diagonal\_mv()}{fetch\_diagonal\_mv()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} fetch\+\_\+diagonal\+\_\+mv (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl,  }\item[{const int16\+\_\+t $\ast$$\ast$}]{C,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{i,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{list,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{part\+\_\+width }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 38 of file h264\+\_\+mvpred.\+h.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_ade55bbde5ee09dafb2ce17a945fab480_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{h264__mvpred_8h_aae03fca7c732c43a90d0c3d785025811}\label{h264__mvpred_8h_aae03fca7c732c43a90d0c3d785025811}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!fill\_decode\_caches@{fill\_decode\_caches}}
\index{fill\_decode\_caches@{fill\_decode\_caches}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{fill\_decode\_caches()}{fill\_decode\_caches()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} fill\+\_\+decode\+\_\+caches (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{mb\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 445 of file h264\+\_\+mvpred.\+h.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{h264__mvpred_8h_aae03fca7c732c43a90d0c3d785025811_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_aae03fca7c732c43a90d0c3d785025811_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{h264__mvpred_8h_a0a8898f5c34f52b859711f737745180e}\label{h264__mvpred_8h_a0a8898f5c34f52b859711f737745180e}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!fill\_decode\_neighbors@{fill\_decode\_neighbors}}
\index{fill\_decode\_neighbors@{fill\_decode\_neighbors}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{fill\_decode\_neighbors()}{fill\_decode\_neighbors()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} fill\+\_\+decode\+\_\+neighbors (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{mb\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 356 of file h264\+\_\+mvpred.\+h.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_a0a8898f5c34f52b859711f737745180e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{h264__mvpred_8h_ae8a6324fea3d96fbb0d50da84f93d27c}\label{h264__mvpred_8h_ae8a6324fea3d96fbb0d50da84f93d27c}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!pred\_16x8\_motion@{pred\_16x8\_motion}}
\index{pred\_16x8\_motion@{pred\_16x8\_motion}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{pred\_16x8\_motion()}{pred\_16x8\_motion()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} pred\+\_\+16x8\+\_\+motion (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{n,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{list,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ref,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const}]{mx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const}]{my }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Get the directionally predicted 16x8 \mbox{\hyperlink{struct_m_v}{MV}}. 
\begin{DoxyParams}{Parameters}
{\em n} & the block index \\
\hline
{\em mx} & the x component of the predicted motion vector \\
\hline
{\em my} & the y component of the predicted motion vector \\
\hline
\end{DoxyParams}


Definition at line 160 of file h264\+\_\+mvpred.\+h.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_ae8a6324fea3d96fbb0d50da84f93d27c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_ae8a6324fea3d96fbb0d50da84f93d27c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{h264__mvpred_8h_ab62c42098d181ef4416a92960ce02e01}\label{h264__mvpred_8h_ab62c42098d181ef4416a92960ce02e01}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!pred\_8x16\_motion@{pred\_8x16\_motion}}
\index{pred\_8x16\_motion@{pred\_8x16\_motion}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{pred\_8x16\_motion()}{pred\_8x16\_motion()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} pred\+\_\+8x16\+\_\+motion (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{n,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{list,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ref,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const}]{mx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const}]{my }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Get the directionally predicted 8x16 \mbox{\hyperlink{struct_m_v}{MV}}. 
\begin{DoxyParams}{Parameters}
{\em n} & the block index \\
\hline
{\em mx} & the x component of the predicted motion vector \\
\hline
{\em my} & the y component of the predicted motion vector \\
\hline
\end{DoxyParams}


Definition at line 201 of file h264\+\_\+mvpred.\+h.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_ab62c42098d181ef4416a92960ce02e01_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_ab62c42098d181ef4416a92960ce02e01_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{h264__mvpred_8h_aaa90501f99f6baadb9c9509466876380}\label{h264__mvpred_8h_aaa90501f99f6baadb9c9509466876380}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!pred\_motion@{pred\_motion}}
\index{pred\_motion@{pred\_motion}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{pred\_motion()}{pred\_motion()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} pred\+\_\+motion (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{n,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{part\+\_\+width,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{list,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{ref,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const}]{mx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$const}]{my }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Get the predicted \mbox{\hyperlink{struct_m_v}{MV}}. 
\begin{DoxyParams}{Parameters}
{\em n} & the block index \\
\hline
{\em part\+\_\+width} & the width of the partition (4, 8,16) -\/$>$ (1, 2, 4) \\
\hline
{\em mx} & the x component of the predicted motion vector \\
\hline
{\em my} & the y component of the predicted motion vector \\
\hline
\end{DoxyParams}


Definition at line 95 of file h264\+\_\+mvpred.\+h.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{h264__mvpred_8h_aaa90501f99f6baadb9c9509466876380_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_aaa90501f99f6baadb9c9509466876380_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{h264__mvpred_8h_a6dbcd9036d31e6217971643dcf65b813}\label{h264__mvpred_8h_a6dbcd9036d31e6217971643dcf65b813}} 
\index{h264\_mvpred.h@{h264\_mvpred.h}!pred\_pskip\_motion@{pred\_pskip\_motion}}
\index{pred\_pskip\_motion@{pred\_pskip\_motion}!h264\_mvpred.h@{h264\_mvpred.h}}
\doxysubsubsection{\texorpdfstring{pred\_pskip\_motion()}{pred\_pskip\_motion()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_a28f50f4c125959216885f01d56dbe866}{av\+\_\+always\+\_\+inline}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} pred\+\_\+pskip\+\_\+motion (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_h264_context}{H264\+Context}} $\ast$const}]{h,  }\item[{\mbox{\hyperlink{struct_h264_slice_context}{H264\+Slice\+Context}} $\ast$}]{sl }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 257 of file h264\+\_\+mvpred.\+h.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{h264__mvpred_8h_a6dbcd9036d31e6217971643dcf65b813_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h264__mvpred_8h_a6dbcd9036d31e6217971643dcf65b813_icgraph}
\end{center}
\end{figure}
