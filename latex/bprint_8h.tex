\hypertarget{bprint_8h}{}\doxysection{E\+:/github/ffmpeg/libavutil/bprint.h File Reference}
\label{bprint_8h}\index{E:/github/ffmpeg/libavutil/bprint.h@{E:/github/ffmpeg/libavutil/bprint.h}}
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include \char`\"{}attributes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avstring.\+h\char`\"{}}\newline
Include dependency graph for bprint.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{bprint_8h_a89675bde26f19bdd3775f9085a96ea05}{F\+F\+\_\+\+P\+A\+D\+\_\+\+S\+T\+R\+U\+C\+T\+U\+RE}}(\mbox{\hyperlink{checkasm_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}},  \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, ...)
\item 
\#define \mbox{\hyperlink{bprint_8h_a01aefbce0615a828eae24135a9b35c45}{A\+V\+\_\+\+B\+P\+R\+I\+N\+T\+\_\+\+S\+I\+Z\+E\+\_\+\+U\+N\+L\+I\+M\+I\+T\+ED}}~((unsigned)-\/1)
\item 
\#define \mbox{\hyperlink{bprint_8h_a0e07836126dff024ac10acbc744ebe8f}{A\+V\+\_\+\+B\+P\+R\+I\+N\+T\+\_\+\+S\+I\+Z\+E\+\_\+\+A\+U\+T\+O\+M\+A\+T\+IC}}~1
\item 
\#define \mbox{\hyperlink{bprint_8h_a5764f3aa498fb83dafdebadf7e77d5fa}{A\+V\+\_\+\+B\+P\+R\+I\+N\+T\+\_\+\+S\+I\+Z\+E\+\_\+\+C\+O\+U\+N\+T\+\_\+\+O\+N\+LY}}~0
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{bprint_8h_a6aa38da4460d5eded81c6d738cc9bd13}{F\+F\+\_\+\+P\+A\+D\+\_\+\+S\+T\+R\+U\+C\+T\+U\+RE}} (A\+V\+B\+Print, 1024, char $\ast$str;unsigned \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}};unsigned \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}};unsigned \mbox{\hyperlink{bprint_8h_acf8cd3996e691221ed7bdb8310ea2fc2}{size\+\_\+max}};char reserved\+\_\+internal\+\_\+buffer\mbox{[}1\mbox{]};) \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8c_a26abc84daea3189592c511fc26067d66}{av\+\_\+bprint\+\_\+init}}(A\+V\+B\+Print $\ast$buf
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_af70c16532f4ba50c599e4eaa67a1d63b}{av\+\_\+bprint\+\_\+init\+\_\+for\+\_\+buffer}} (A\+V\+B\+Print $\ast$buf, char $\ast$\mbox{\hyperlink{seek_8c_a5819dbc2d305e99e930c734a0d28bc3b}{buffer}}, unsigned \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_aa2e89377fd7c92db534f29caff1af209}{av\+\_\+bprintf}} (A\+V\+B\+Print $\ast$buf, const char $\ast$fmt,...) \mbox{\hyperlink{rtpproto_8c_a592f4a5e13fd709e6e0bc93a3131612d}{av\+\_\+printf\+\_\+format}}(2
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_ae24ca62b5e2ba99651636c04b61240f1}{av\+\_\+vbprintf}} (A\+V\+B\+Print $\ast$buf, const char $\ast$fmt, va\+\_\+list vl\+\_\+arg)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_aabc9a9d58de61dd824e625d59a7531bb}{av\+\_\+bprint\+\_\+chars}} (A\+V\+B\+Print $\ast$buf, char \mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}}, unsigned n)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_aa215ba46a975d996e483cf0b9dcc85e5}{av\+\_\+bprint\+\_\+append\+\_\+data}} (A\+V\+B\+Print $\ast$buf, const char $\ast$\mbox{\hyperlink{filter__design_8txt_ac6f0a759dab43b0d58cd04fb6513534c}{data}}, unsigned \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_a4896e4efea5b234507bcbba45ca0397b}{av\+\_\+bprint\+\_\+strftime}} (A\+V\+B\+Print $\ast$buf, const char $\ast$fmt, const struct tm $\ast$tm)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_a32f3999614d90e082602d54a3c5237d6}{av\+\_\+bprint\+\_\+get\+\_\+buffer}} (A\+V\+B\+Print $\ast$buf, unsigned \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}}, unsigned char $\ast$$\ast$mem, unsigned $\ast$actual\+\_\+size)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_ab1c28dbff5990dbd37e6c00e3d7c438b}{av\+\_\+bprint\+\_\+clear}} (A\+V\+B\+Print $\ast$buf)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{bprint_8h_a07432f704c49a6fa636197e2aa80bac0}{av\+\_\+bprint\+\_\+is\+\_\+complete}} (const A\+V\+B\+Print $\ast$buf)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{bprint_8h_a3fd45f50d9d4f7cc8fed5331a37f47ea}{av\+\_\+bprint\+\_\+finalize}} (A\+V\+B\+Print $\ast$buf, char $\ast$$\ast$\mbox{\hyperlink{seek_8c_a303c237cf2d5c428fa1c694defff28fe}{ret\+\_\+str}})
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{bprint_8h_a14ec58eeaa6d4a3571cd9f0ffb873e62}{av\+\_\+bprint\+\_\+escape}} (A\+V\+B\+Print $\ast$dstbuf, const char $\ast$\mbox{\hyperlink{tests_2checkasm_2vp9dsp_8c_a858376c0918f93e656c8c0d76c63dbe8}{src}}, const char $\ast$special\+\_\+chars, enum \mbox{\hyperlink{group__lavu__string_gaef885958293f07153383f99db573ff5a}{A\+V\+Escape\+Mode}} \mbox{\hyperlink{ebur128_8h_a1a6b6fb557d8d37d59700faf4e4c9167}{mode}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{log_8c_ac8bf36fe0577cba66bccda3a6f7e80a4}{flags}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
unsigned \mbox{\hyperlink{bprint_8h_a938b4c4eed995775474a106731647736}{size\+\_\+init}}
\item 
unsigned unsigned \mbox{\hyperlink{bprint_8h_acf8cd3996e691221ed7bdb8310ea2fc2}{size\+\_\+max}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{bprint_8h_a0e07836126dff024ac10acbc744ebe8f}\label{bprint_8h_a0e07836126dff024ac10acbc744ebe8f}} 
\index{bprint.h@{bprint.h}!AV\_BPRINT\_SIZE\_AUTOMATIC@{AV\_BPRINT\_SIZE\_AUTOMATIC}}
\index{AV\_BPRINT\_SIZE\_AUTOMATIC@{AV\_BPRINT\_SIZE\_AUTOMATIC}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{AV\_BPRINT\_SIZE\_AUTOMATIC}{AV\_BPRINT\_SIZE\_AUTOMATIC}}
{\footnotesize\ttfamily \#define A\+V\+\_\+\+B\+P\+R\+I\+N\+T\+\_\+\+S\+I\+Z\+E\+\_\+\+A\+U\+T\+O\+M\+A\+T\+IC~1}

\mbox{\Hypertarget{bprint_8h_a5764f3aa498fb83dafdebadf7e77d5fa}\label{bprint_8h_a5764f3aa498fb83dafdebadf7e77d5fa}} 
\index{bprint.h@{bprint.h}!AV\_BPRINT\_SIZE\_COUNT\_ONLY@{AV\_BPRINT\_SIZE\_COUNT\_ONLY}}
\index{AV\_BPRINT\_SIZE\_COUNT\_ONLY@{AV\_BPRINT\_SIZE\_COUNT\_ONLY}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{AV\_BPRINT\_SIZE\_COUNT\_ONLY}{AV\_BPRINT\_SIZE\_COUNT\_ONLY}}
{\footnotesize\ttfamily \#define A\+V\+\_\+\+B\+P\+R\+I\+N\+T\+\_\+\+S\+I\+Z\+E\+\_\+\+C\+O\+U\+N\+T\+\_\+\+O\+N\+LY~0}

\mbox{\Hypertarget{bprint_8h_a01aefbce0615a828eae24135a9b35c45}\label{bprint_8h_a01aefbce0615a828eae24135a9b35c45}} 
\index{bprint.h@{bprint.h}!AV\_BPRINT\_SIZE\_UNLIMITED@{AV\_BPRINT\_SIZE\_UNLIMITED}}
\index{AV\_BPRINT\_SIZE\_UNLIMITED@{AV\_BPRINT\_SIZE\_UNLIMITED}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{AV\_BPRINT\_SIZE\_UNLIMITED}{AV\_BPRINT\_SIZE\_UNLIMITED}}
{\footnotesize\ttfamily \#define A\+V\+\_\+\+B\+P\+R\+I\+N\+T\+\_\+\+S\+I\+Z\+E\+\_\+\+U\+N\+L\+I\+M\+I\+T\+ED~((unsigned)-\/1)}

\mbox{\Hypertarget{bprint_8h_a89675bde26f19bdd3775f9085a96ea05}\label{bprint_8h_a89675bde26f19bdd3775f9085a96ea05}} 
\index{bprint.h@{bprint.h}!FF\_PAD\_STRUCTURE@{FF\_PAD\_STRUCTURE}}
\index{FF\_PAD\_STRUCTURE@{FF\_PAD\_STRUCTURE}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{FF\_PAD\_STRUCTURE}{FF\_PAD\_STRUCTURE}}
{\footnotesize\ttfamily \#define F\+F\+\_\+\+P\+A\+D\+\_\+\+S\+T\+R\+U\+C\+T\+U\+RE(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{checkasm_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}},  }\item[{}]{\mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}},  }\item[{}]{... }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct }ff\_pad\_helper\_\#\#\mbox{\hyperlink{writing__filters_8txt_adb27990ed3d4ad300fd1dde281903508}{name}} \{ \_\_VA\_ARGS\_\_ \}; \(\backslash\)}
\DoxyCodeLine{typedef \textcolor{keyword}{struct }\mbox{\hyperlink{writing__filters_8txt_adb27990ed3d4ad300fd1dde281903508}{name}} \{ \(\backslash\)}
\DoxyCodeLine{    \_\_VA\_ARGS\_\_ \(\backslash\)}
\DoxyCodeLine{    char reserved\_padding[\mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}} -\/ \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }ff\_pad\_helper\_\#\#\mbox{\hyperlink{writing__filters_8txt_adb27990ed3d4ad300fd1dde281903508}{name}})]; \(\backslash\)}
\DoxyCodeLine{\} \mbox{\hyperlink{writing__filters_8txt_adb27990ed3d4ad300fd1dde281903508}{name}};}

\end{DoxyCode}
Define a structure with extra padding to a fixed size This helps ensuring binary compatibility with future versions. 

Definition at line 34 of file bprint.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{bprint_8h_aa215ba46a975d996e483cf0b9dcc85e5}\label{bprint_8h_aa215ba46a975d996e483cf0b9dcc85e5}} 
\index{bprint.h@{bprint.h}!av\_bprint\_append\_data@{av\_bprint\_append\_data}}
\index{av\_bprint\_append\_data@{av\_bprint\_append\_data}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_append\_data()}{av\_bprint\_append\_data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprint\+\_\+append\+\_\+data (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{const char $\ast$}]{data,  }\item[{unsigned}]{size }\end{DoxyParamCaption})}

Append data to a print buffer.

param buf bprint buffer to use param data pointer to data param size size of data 

Definition at line 158 of file bprint.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_aa215ba46a975d996e483cf0b9dcc85e5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_aa215ba46a975d996e483cf0b9dcc85e5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_aabc9a9d58de61dd824e625d59a7531bb}\label{bprint_8h_aabc9a9d58de61dd824e625d59a7531bb}} 
\index{bprint.h@{bprint.h}!av\_bprint\_chars@{av\_bprint\_chars}}
\index{av\_bprint\_chars@{av\_bprint\_chars}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_chars()}{av\_bprint\_chars()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprint\+\_\+chars (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{char}]{c,  }\item[{unsigned}]{n }\end{DoxyParamCaption})}

Append char c n times to a print buffer. 

Definition at line 140 of file bprint.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_aabc9a9d58de61dd824e625d59a7531bb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{bprint_8h_aabc9a9d58de61dd824e625d59a7531bb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_ab1c28dbff5990dbd37e6c00e3d7c438b}\label{bprint_8h_ab1c28dbff5990dbd37e6c00e3d7c438b}} 
\index{bprint.h@{bprint.h}!av\_bprint\_clear@{av\_bprint\_clear}}
\index{av\_bprint\_clear@{av\_bprint\_clear}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_clear()}{av\_bprint\_clear()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprint\+\_\+clear (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf }\end{DoxyParamCaption})}

Reset the string to \char`\"{}\char`\"{} but keep internal allocated data. 

Definition at line 227 of file bprint.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{bprint_8h_ab1c28dbff5990dbd37e6c00e3d7c438b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_a14ec58eeaa6d4a3571cd9f0ffb873e62}\label{bprint_8h_a14ec58eeaa6d4a3571cd9f0ffb873e62}} 
\index{bprint.h@{bprint.h}!av\_bprint\_escape@{av\_bprint\_escape}}
\index{av\_bprint\_escape@{av\_bprint\_escape}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_escape()}{av\_bprint\_escape()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprint\+\_\+escape (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{dstbuf,  }\item[{const char $\ast$}]{src,  }\item[{const char $\ast$}]{special\+\_\+chars,  }\item[{enum \mbox{\hyperlink{group__lavu__string_gaef885958293f07153383f99db573ff5a}{A\+V\+Escape\+Mode}}}]{mode,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{flags }\end{DoxyParamCaption})}

Escape the content in src and append it to dstbuf.


\begin{DoxyParams}{Parameters}
{\em dstbuf} & already inited destination bprint buffer \\
\hline
{\em src} & string containing the text to escape \\
\hline
{\em special\+\_\+chars} & string containing the special characters which need to be escaped, can be N\+U\+LL \\
\hline
{\em mode} & escape mode to employ, see A\+V\+\_\+\+E\+S\+C\+A\+P\+E\+\_\+\+M\+O\+D\+E\+\_\+$\ast$ macros. Any unknown value for mode will be considered equivalent to A\+V\+\_\+\+E\+S\+C\+A\+P\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+A\+C\+K\+S\+L\+A\+SH, but this behaviour can change without notice. \\
\hline
{\em flags} & flags which control how to escape, see A\+V\+\_\+\+E\+S\+C\+A\+P\+E\+\_\+\+F\+L\+A\+G\+\_\+$\ast$ macros \\
\hline
\end{DoxyParams}


Definition at line 265 of file bprint.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_a14ec58eeaa6d4a3571cd9f0ffb873e62_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_a14ec58eeaa6d4a3571cd9f0ffb873e62_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_a3fd45f50d9d4f7cc8fed5331a37f47ea}\label{bprint_8h_a3fd45f50d9d4f7cc8fed5331a37f47ea}} 
\index{bprint.h@{bprint.h}!av\_bprint\_finalize@{av\_bprint\_finalize}}
\index{av\_bprint\_finalize@{av\_bprint\_finalize}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_finalize()}{av\_bprint\_finalize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+bprint\+\_\+finalize (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{char $\ast$$\ast$}]{ret\+\_\+str }\end{DoxyParamCaption})}

Finalize a print buffer.

The print buffer can no longer be used afterwards, but the len and size fields are still valid.

\begin{DoxyItemize}
\item \mbox{[}out\mbox{]} ret\+\_\+str if not N\+U\+LL, used to return a permanent copy of the buffer contents, or N\+U\+LL if memory allocation fails; if N\+U\+LL, the buffer is discarded and freed \begin{DoxyReturn}{Returns}
0 for success or error code (probably \mbox{\hyperlink{group__lavu__error_gae4bb6f165973d09584e0ec0f335f69ca}{A\+V\+E\+R\+R\+O\+R(\+E\+N\+O\+M\+E\+M)}}) 
\end{DoxyReturn}
\end{DoxyItemize}


Definition at line 235 of file bprint.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_a3fd45f50d9d4f7cc8fed5331a37f47ea_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_a32f3999614d90e082602d54a3c5237d6}\label{bprint_8h_a32f3999614d90e082602d54a3c5237d6}} 
\index{bprint.h@{bprint.h}!av\_bprint\_get\_buffer@{av\_bprint\_get\_buffer}}
\index{av\_bprint\_get\_buffer@{av\_bprint\_get\_buffer}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_get\_buffer()}{av\_bprint\_get\_buffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprint\+\_\+get\+\_\+buffer (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{unsigned}]{size,  }\item[{unsigned char $\ast$$\ast$}]{mem,  }\item[{unsigned $\ast$}]{actual\+\_\+size }\end{DoxyParamCaption})}

Allocate bytes in the buffer for external use.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buf} & buffer structure \\
\hline
\mbox{\texttt{ in}}  & {\em size} & required size \\
\hline
\mbox{\texttt{ out}}  & {\em mem} & pointer to the memory area \\
\hline
\mbox{\texttt{ out}}  & {\em actual\+\_\+size} & size of the memory area after allocation; can be larger or smaller than size \\
\hline
\end{DoxyParams}


Definition at line 218 of file bprint.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_a32f3999614d90e082602d54a3c5237d6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_a32f3999614d90e082602d54a3c5237d6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_af70c16532f4ba50c599e4eaa67a1d63b}\label{bprint_8h_af70c16532f4ba50c599e4eaa67a1d63b}} 
\index{bprint.h@{bprint.h}!av\_bprint\_init\_for\_buffer@{av\_bprint\_init\_for\_buffer}}
\index{av\_bprint\_init\_for\_buffer@{av\_bprint\_init\_for\_buffer}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_init\_for\_buffer()}{av\_bprint\_init\_for\_buffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprint\+\_\+init\+\_\+for\+\_\+buffer (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{char $\ast$}]{buffer,  }\item[{unsigned}]{size }\end{DoxyParamCaption})}

Init a print buffer using a pre-\/existing buffer.

The buffer will not be reallocated.


\begin{DoxyParams}{Parameters}
{\em buf} & buffer structure to init \\
\hline
{\em buffer} & byte buffer to use for the string data \\
\hline
{\em size} & size of buffer \\
\hline
\end{DoxyParams}


Definition at line 85 of file bprint.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{bprint_8h_af70c16532f4ba50c599e4eaa67a1d63b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_a07432f704c49a6fa636197e2aa80bac0}\label{bprint_8h_a07432f704c49a6fa636197e2aa80bac0}} 
\index{bprint.h@{bprint.h}!av\_bprint\_is\_complete@{av\_bprint\_is\_complete}}
\index{av\_bprint\_is\_complete@{av\_bprint\_is\_complete}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_is\_complete()}{av\_bprint\_is\_complete()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} av\+\_\+bprint\+\_\+is\+\_\+complete (\begin{DoxyParamCaption}\item[{const A\+V\+B\+Print $\ast$}]{buf }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Test if the print buffer is complete (not truncated).

It may have been truncated due to a memory allocation failure or the size\+\_\+max limit (compare size and size\+\_\+max if necessary). 

Definition at line 185 of file bprint.\+h.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{bprint_8h_a07432f704c49a6fa636197e2aa80bac0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_a4896e4efea5b234507bcbba45ca0397b}\label{bprint_8h_a4896e4efea5b234507bcbba45ca0397b}} 
\index{bprint.h@{bprint.h}!av\_bprint\_strftime@{av\_bprint\_strftime}}
\index{av\_bprint\_strftime@{av\_bprint\_strftime}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprint\_strftime()}{av\_bprint\_strftime()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprint\+\_\+strftime (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{const char $\ast$}]{fmt,  }\item[{const struct tm $\ast$}]{tm }\end{DoxyParamCaption})}

Append a formatted date and time to a print buffer.

param buf bprint buffer to use param fmt date and time format string, see strftime() param tm broken-\/down time structure to translate

\begin{DoxyNote}{Note}
due to poor design of the standard strftime function, it may produce poor results if the format string expands to a very long text and the bprint buffer is near the limit stated by the size\+\_\+max option. 
\end{DoxyNote}


Definition at line 176 of file bprint.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_a4896e4efea5b234507bcbba45ca0397b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_a4896e4efea5b234507bcbba45ca0397b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_aa2e89377fd7c92db534f29caff1af209}\label{bprint_8h_aa2e89377fd7c92db534f29caff1af209}} 
\index{bprint.h@{bprint.h}!av\_bprintf@{av\_bprintf}}
\index{av\_bprintf@{av\_bprintf}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_bprintf()}{av\_bprintf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+bprintf (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{const char $\ast$}]{fmt,  }\item[{}]{... }\end{DoxyParamCaption})}

Append a formatted string to a print buffer. \mbox{\Hypertarget{bprint_8h_ae24ca62b5e2ba99651636c04b61240f1}\label{bprint_8h_ae24ca62b5e2ba99651636c04b61240f1}} 
\index{bprint.h@{bprint.h}!av\_vbprintf@{av\_vbprintf}}
\index{av\_vbprintf@{av\_vbprintf}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{av\_vbprintf()}{av\_vbprintf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} av\+\_\+vbprintf (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print $\ast$}]{buf,  }\item[{const char $\ast$}]{fmt,  }\item[{va\+\_\+list}]{vl\+\_\+arg }\end{DoxyParamCaption})}

Append a formatted string to a print buffer. 

Definition at line 117 of file bprint.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_ae24ca62b5e2ba99651636c04b61240f1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{bprint_8h_ae24ca62b5e2ba99651636c04b61240f1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{bprint_8h_a6aa38da4460d5eded81c6d738cc9bd13}\label{bprint_8h_a6aa38da4460d5eded81c6d738cc9bd13}} 
\index{bprint.h@{bprint.h}!FF\_PAD\_STRUCTURE@{FF\_PAD\_STRUCTURE}}
\index{FF\_PAD\_STRUCTURE@{FF\_PAD\_STRUCTURE}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{FF\_PAD\_STRUCTURE()}{FF\_PAD\_STRUCTURE()}}
{\footnotesize\ttfamily F\+F\+\_\+\+P\+A\+D\+\_\+\+S\+T\+R\+U\+C\+T\+U\+RE (\begin{DoxyParamCaption}\item[{A\+V\+B\+Print}]{,  }\item[{1024}]{,  }\item[{char $\ast$str;unsigned \mbox{\hyperlink{spdifenc_8c_a77124bd5f7e31e6fffc19f335da0c23f}{len}};unsigned \mbox{\hyperlink{group__lavu__mem__funcs_ga34e10fdac079a9ca4512b8ccd7f20b8a}{size}};unsigned \mbox{\hyperlink{bprint_8h_acf8cd3996e691221ed7bdb8310ea2fc2}{size\+\_\+max}};char reserved\+\_\+internal\+\_\+buffer;}]{\mbox{[}1\mbox{]} }\end{DoxyParamCaption})}

Buffer to print data progressively

The string buffer grows as necessary and is always 0-\/terminated. The content of the string is never accessed, and thus is encoding-\/agnostic and can even hold binary data.

Small buffers are kept in the structure itself, and thus require no memory allocation at all (unless the contents of the buffer is needed after the structure goes out of scope). This is almost as lightweight as declaring a local \char`\"{}char buf\mbox{[}512\mbox{]}\char`\"{}.

The length of the string can go beyond the allocated size\+: the buffer is then truncated, but the functions still keep account of the actual total length.

In other words, buf-\/$>$len can be greater than buf-\/$>$size and records the total length of what would have been to the buffer if there had been enough memory.

Append operations do not need to be tested for failure\+: if a memory allocation fails, data stop being appended to the buffer, but the length is still updated. This situation can be tested with \mbox{\hyperlink{bprint_8h_a07432f704c49a6fa636197e2aa80bac0}{av\+\_\+bprint\+\_\+is\+\_\+complete()}}.

The size\+\_\+max field determines several possible behaviours\+:

size\+\_\+max = -\/1 (= U\+I\+N\+T\+\_\+\+M\+AX) or any large value will let the buffer be reallocated as necessary, with an amortized linear cost.

size\+\_\+max = 0 prevents writing anything to the buffer\+: only the total length is computed. The write operations can then possibly be repeated in a buffer with exactly the necessary size (using size\+\_\+init = size\+\_\+max = len + 1).

size\+\_\+max = 1 is automatically replaced by the exact size available in the structure itself, thus ensuring no dynamic memory allocation. The internal buffer is large enough to hold a reasonable paragraph of text, such as the current paragraph. Convenience macros for special values for \mbox{\hyperlink{bprint_8c_a26abc84daea3189592c511fc26067d66}{av\+\_\+bprint\+\_\+init()}} size\+\_\+max parameter. Init a print buffer.


\begin{DoxyParams}{Parameters}
{\em buf} & buffer to init \\
\hline
{\em size\+\_\+init} & initial size (including the final 0) \\
\hline
{\em size\+\_\+max} & maximum size; 0 means do not write anything, just count the length; 1 is replaced by the maximum value for automatic storage; any large value means that the internal buffer will be reallocated as needed up to that limit; -\/1 is converted to U\+I\+N\+T\+\_\+\+M\+AX, the largest limit possible. Check also A\+V\+\_\+\+B\+P\+R\+I\+N\+T\+\_\+\+S\+I\+Z\+E\+\_\+$\ast$ macros. \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{bprint_8h_a938b4c4eed995775474a106731647736}\label{bprint_8h_a938b4c4eed995775474a106731647736}} 
\index{bprint.h@{bprint.h}!size\_init@{size\_init}}
\index{size\_init@{size\_init}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{size\_init}{size\_init}}
{\footnotesize\ttfamily unsigned size\+\_\+init}



Definition at line 111 of file bprint.\+h.

\mbox{\Hypertarget{bprint_8h_acf8cd3996e691221ed7bdb8310ea2fc2}\label{bprint_8h_acf8cd3996e691221ed7bdb8310ea2fc2}} 
\index{bprint.h@{bprint.h}!size\_max@{size\_max}}
\index{size\_max@{size\_max}!bprint.h@{bprint.h}}
\doxysubsubsection{\texorpdfstring{size\_max}{size\_max}}
{\footnotesize\ttfamily unsigned unsigned size\+\_\+max}



Definition at line 111 of file bprint.\+h.

