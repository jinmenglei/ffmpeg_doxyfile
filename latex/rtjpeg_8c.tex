\hypertarget{rtjpeg_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/rtjpeg.c File Reference}
\label{rtjpeg_8c}\index{E:/github/ffmpeg/libavcodec/rtjpeg.c@{E:/github/ffmpeg/libavcodec/rtjpeg.c}}
{\ttfamily \#include \char`\"{}libavutil/common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}get\+\_\+bits.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rtjpeg.\+h\char`\"{}}\newline
Include dependency graph for rtjpeg.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtjpeg_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{rtjpeg_8c_a60ae77b77116db10ed623c126e1fa802}{P\+U\+T\+\_\+\+C\+O\+E\+FF}}(\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}})
\item 
\#define \mbox{\hyperlink{rtjpeg_8c_a0d4e7487e0a80bedb2aa48c4cda7652c}{A\+L\+I\+GN}}(\mbox{\hyperlink{h264pred__template_8c_a4124bc0a9335c27f086f24ba207a4912}{a}})
\begin{DoxyCompactList}\small\item\em aligns the bitstream to the given power of two \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{rtjpeg_8c_a660ff55775b8d7f7770fdc3ccf236854}{B\+L\+O\+CK}}(\mbox{\hyperlink{libavcodec_2g726_8c_a543cd89a6890b4c9eca252bee9c9429f}{quant}},  dst,  \mbox{\hyperlink{mace_8c_a08f66a6870d87afcd5dc1b60d1019692}{stride}})
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtjpeg_8c_abf34ecf1ce4e330fce01410f8060e482}{get\+\_\+block}} (\mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} $\ast$gb, int16\+\_\+t $\ast$\mbox{\hyperlink{filter__design_8txt_a17afa58b2bc574dedcd1cc02e1fdf165}{block}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$scan, const uint32\+\_\+t $\ast$\mbox{\hyperlink{libavcodec_2g726_8c_a543cd89a6890b4c9eca252bee9c9429f}{quant}})
\begin{DoxyCompactList}\small\item\em read one block from stream \end{DoxyCompactList}\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{rtjpeg_8c_ae9174140a32f4b14c57d756d3f6429ea}{ff\+\_\+rtjpeg\+\_\+decode\+\_\+frame\+\_\+yuv420}} (\mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}}, \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$buf, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} buf\+\_\+size)
\begin{DoxyCompactList}\small\item\em decode one rtjpeg Y\+U\+V420 frame \end{DoxyCompactList}\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{rtjpeg_8c_aada8543f3eb3e54c22cb5443ae3e87fc}{ff\+\_\+rtjpeg\+\_\+decode\+\_\+init}} (\mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2utils_8c_a2474a5474cbff19523a51eb1de01cda4}{width}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{tests_2utils_8c_ad12fc34ce789bce6c8a05d8a17138534}{height}}, const uint32\+\_\+t $\ast$lquant, const uint32\+\_\+t $\ast$cquant)
\begin{DoxyCompactList}\small\item\em initialize an \mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}}, may be called multiple times \end{DoxyCompactList}\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{rtjpeg_8c_a405c8967970b96c42e7d1cbe8e03fb83}{ff\+\_\+rtjpeg\+\_\+init}} (\mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}} $\ast$\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}}, \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{rtjpeg_8c_a0d4e7487e0a80bedb2aa48c4cda7652c}\label{rtjpeg_8c_a0d4e7487e0a80bedb2aa48c4cda7652c}} 
\index{rtjpeg.c@{rtjpeg.c}!ALIGN@{ALIGN}}
\index{ALIGN@{ALIGN}!rtjpeg.c@{rtjpeg.c}}
\doxysubsubsection{\texorpdfstring{ALIGN}{ALIGN}}
{\footnotesize\ttfamily \#define A\+L\+I\+GN(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{h264pred__template_8c_a4124bc0a9335c27f086f24ba207a4912}{a}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    n = (-\/\mbox{\hyperlink{get__bits_8h_aac3f793480c01f793f2acc9eba031ff5}{get\_bits\_count}}(gb)) \& (\mbox{\hyperlink{undefined_8txt_ad99f336d4c117c453fef82993434eb4d}{a}} -\/ 1); \(\backslash\)}
\DoxyCodeLine{    if (n) \{\mbox{\hyperlink{get__bits_8h_a610df6b7704558756ee5c30247495731}{skip\_bits}}(gb, n);\}}

\end{DoxyCode}


aligns the bitstream to the given power of two 



Definition at line 30 of file rtjpeg.\+c.

\mbox{\Hypertarget{rtjpeg_8c_a660ff55775b8d7f7770fdc3ccf236854}\label{rtjpeg_8c_a660ff55775b8d7f7770fdc3ccf236854}} 
\index{rtjpeg.c@{rtjpeg.c}!BLOCK@{BLOCK}}
\index{BLOCK@{BLOCK}!rtjpeg.c@{rtjpeg.c}}
\doxysubsubsection{\texorpdfstring{BLOCK}{BLOCK}}
{\footnotesize\ttfamily \#define B\+L\+O\+CK(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{libavcodec_2g726_8c_a543cd89a6890b4c9eca252bee9c9429f}{quant}},  }\item[{}]{dst,  }\item[{}]{\mbox{\hyperlink{mace_8c_a08f66a6870d87afcd5dc1b60d1019692}{stride}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \textcolor{keywordflow}{do} \{ \(\backslash\)}
\DoxyCodeLine{    int res = \mbox{\hyperlink{rtjpeg_8c_abf34ecf1ce4e330fce01410f8060e482}{get\_block}}(\&gb, \mbox{\hyperlink{filter__design_8txt_a17afa58b2bc574dedcd1cc02e1fdf165}{block}}, \mbox{\hyperlink{undefined_8txt_a12d8853991e25cc8d069554379c29ef6}{c}}-\/>scan, \mbox{\hyperlink{vorbis__enc__data_8h_a0ec8e44e0e296a1e3307a1436a0f0fdf}{quant}}); \(\backslash\)}
\DoxyCodeLine{    if (res < 0) \(\backslash\)}
\DoxyCodeLine{        return res; \(\backslash\)}
\DoxyCodeLine{    if (res > 0) \(\backslash\)}
\DoxyCodeLine{        c-\/>idsp.idct\_put(dst, \mbox{\hyperlink{mace_8c_a08f66a6870d87afcd5dc1b60d1019692}{stride}}, \mbox{\hyperlink{filter__design_8txt_a17afa58b2bc574dedcd1cc02e1fdf165}{block}}); \(\backslash\)}
\DoxyCodeLine{\} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}
\mbox{\Hypertarget{rtjpeg_8c_a60ae77b77116db10ed623c126e1fa802}\label{rtjpeg_8c_a60ae77b77116db10ed623c126e1fa802}} 
\index{rtjpeg.c@{rtjpeg.c}!PUT\_COEFF@{PUT\_COEFF}}
\index{PUT\_COEFF@{PUT\_COEFF}!rtjpeg.c@{rtjpeg.c}}
\doxysubsubsection{\texorpdfstring{PUT\_COEFF}{PUT\_COEFF}}
{\footnotesize\ttfamily \#define P\+U\+T\+\_\+\+C\+O\+E\+FF(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{target__dec__fuzzer_8c_acfe27e61edea06412363421f1a013e81}{c}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \mbox{\hyperlink{input_8c_acb559820d9ca11295b4500f179ef6392}{i}} = scan[\mbox{\hyperlink{vf__owdenoise_8c_a35c8a1e85abdf2de13b1be2fe51f293b}{coeff}}-\/-\/]; \(\backslash\)}
\DoxyCodeLine{    block[\mbox{\hyperlink{input_8c_acb559820d9ca11295b4500f179ef6392}{i}}] = (\mbox{\hyperlink{undefined_8txt_a12d8853991e25cc8d069554379c29ef6}{c}}) * \mbox{\hyperlink{vorbis__enc__data_8h_a0ec8e44e0e296a1e3307a1436a0f0fdf}{quant}}[\mbox{\hyperlink{input_8c_acb559820d9ca11295b4500f179ef6392}{i}}];}

\end{DoxyCode}


Definition at line 25 of file rtjpeg.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{rtjpeg_8c_ae9174140a32f4b14c57d756d3f6429ea}\label{rtjpeg_8c_ae9174140a32f4b14c57d756d3f6429ea}} 
\index{rtjpeg.c@{rtjpeg.c}!ff\_rtjpeg\_decode\_frame\_yuv420@{ff\_rtjpeg\_decode\_frame\_yuv420}}
\index{ff\_rtjpeg\_decode\_frame\_yuv420@{ff\_rtjpeg\_decode\_frame\_yuv420}!rtjpeg.c@{rtjpeg.c}}
\doxysubsubsection{\texorpdfstring{ff\_rtjpeg\_decode\_frame\_yuv420()}{ff\_rtjpeg\_decode\_frame\_yuv420()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+rtjpeg\+\_\+decode\+\_\+frame\+\_\+yuv420 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}} $\ast$}]{c,  }\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{f,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{buf,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{buf\+\_\+size }\end{DoxyParamCaption})}



decode one rtjpeg Y\+U\+V420 frame 


\begin{DoxyParams}{Parameters}
{\em c} & context, must be initialized via ff\+\_\+rtjpeg\+\_\+decode\+\_\+init \\
\hline
{\em f} & \mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} to place decoded frame into. If parts of the frame are not coded they are left unchanged, so consider initializing it \\
\hline
{\em buf} & buffer containing input data \\
\hline
{\em buf\+\_\+size} & length of input data in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of bytes consumed from the input buffer 
\end{DoxyReturn}


Definition at line 106 of file rtjpeg.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtjpeg_8c_ae9174140a32f4b14c57d756d3f6429ea_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{rtjpeg_8c_ae9174140a32f4b14c57d756d3f6429ea_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtjpeg_8c_aada8543f3eb3e54c22cb5443ae3e87fc}\label{rtjpeg_8c_aada8543f3eb3e54c22cb5443ae3e87fc}} 
\index{rtjpeg.c@{rtjpeg.c}!ff\_rtjpeg\_decode\_init@{ff\_rtjpeg\_decode\_init}}
\index{ff\_rtjpeg\_decode\_init@{ff\_rtjpeg\_decode\_init}!rtjpeg.c@{rtjpeg.c}}
\doxysubsubsection{\texorpdfstring{ff\_rtjpeg\_decode\_init()}{ff\_rtjpeg\_decode\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+rtjpeg\+\_\+decode\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}} $\ast$}]{c,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{width,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{height,  }\item[{const uint32\+\_\+t $\ast$}]{lquant,  }\item[{const uint32\+\_\+t $\ast$}]{cquant }\end{DoxyParamCaption})}



initialize an \mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}}, may be called multiple times 


\begin{DoxyParams}{Parameters}
{\em c} & context to initialize \\
\hline
{\em width} & width of image, will be rounded down to the nearest multiple of 16 for decoding \\
\hline
{\em height} & height of image, will be rounded down to the nearest multiple of 16 for decoding \\
\hline
{\em lquant} & luma quantization table to use \\
\hline
{\em cquant} & chroma quantization table to use \\
\hline
\end{DoxyParams}


Definition at line 158 of file rtjpeg.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtjpeg_8c_aada8543f3eb3e54c22cb5443ae3e87fc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtjpeg_8c_a405c8967970b96c42e7d1cbe8e03fb83}\label{rtjpeg_8c_a405c8967970b96c42e7d1cbe8e03fb83}} 
\index{rtjpeg.c@{rtjpeg.c}!ff\_rtjpeg\_init@{ff\_rtjpeg\_init}}
\index{ff\_rtjpeg\_init@{ff\_rtjpeg\_init}!rtjpeg.c@{rtjpeg.c}}
\doxysubsubsection{\texorpdfstring{ff\_rtjpeg\_init()}{ff\_rtjpeg\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+rtjpeg\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_r_t_jpeg_context}{R\+T\+Jpeg\+Context}} $\ast$}]{c,  }\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})}



Definition at line 170 of file rtjpeg.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{rtjpeg_8c_a405c8967970b96c42e7d1cbe8e03fb83_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{rtjpeg_8c_a405c8967970b96c42e7d1cbe8e03fb83_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtjpeg_8c_abf34ecf1ce4e330fce01410f8060e482}\label{rtjpeg_8c_abf34ecf1ce4e330fce01410f8060e482}} 
\index{rtjpeg.c@{rtjpeg.c}!get\_block@{get\_block}}
\index{get\_block@{get\_block}!rtjpeg.c@{rtjpeg.c}}
\doxysubsubsection{\texorpdfstring{get\_block()}{get\_block()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} get\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} $\ast$}]{gb,  }\item[{int16\+\_\+t $\ast$}]{block,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{scan,  }\item[{const uint32\+\_\+t $\ast$}]{quant }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



read one block from stream 


\begin{DoxyParams}{Parameters}
{\em gb} & contains stream data \\
\hline
{\em block} & where data is written to \\
\hline
{\em scan} & array containing the mapping stream address -\/$>$ block position \\
\hline
{\em quant} & quantization factors \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 means the block is not coded, $<$ 0 means an error occurred.
\end{DoxyReturn}
Note\+: \mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} is used to make the code simpler, since all data is aligned this could be done faster in a different way, e.\+g. as it is done in M\+Player libmpcodecs/native/rtjpegn.\+c. 

Definition at line 46 of file rtjpeg.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtjpeg_8c_abf34ecf1ce4e330fce01410f8060e482_cgraph}
\end{center}
\end{figure}
