\hypertarget{wma_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/wma.c File Reference}
\label{wma_8c}\index{E:/github/ffmpeg/libavcodec/wma.c@{E:/github/ffmpeg/libavcodec/wma.c}}
{\ttfamily \#include \char`\"{}libavutil/attributes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sinewin.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}wma.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}wma\+\_\+common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}wma\+\_\+freqs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}wmadata.\+h\char`\"{}}\newline
Include dependency graph for wma.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{wma_8c_a5ccecfa9340c2062f5cdde4c42666f8f}{init\+\_\+coef\+\_\+vlc}} (\mbox{\hyperlink{struct_v_l_c}{V\+LC}} $\ast$vlc, uint16\+\_\+t $\ast$$\ast$prun\+\_\+table, float $\ast$$\ast$plevel\+\_\+table, uint16\+\_\+t $\ast$$\ast$pint\+\_\+table, const \mbox{\hyperlink{struct_coef_v_l_c_table}{Coef\+V\+L\+C\+Table}} $\ast$vlc\+\_\+table)
\item 
\mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{wma_8c_aa4d6aca04d65e087fc876061e5160b8b}{ff\+\_\+wma\+\_\+init}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} flags2)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{wma_8c_a12dead47706b66154058cdb891e99579}{ff\+\_\+wma\+\_\+total\+\_\+gain\+\_\+to\+\_\+bits}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} total\+\_\+gain)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{wma_8c_ac446ded91b7bdb7912c945768dace1e0}{ff\+\_\+wma\+\_\+end}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{wma_8c_abdf3b4c138d499be18d2f68fe7455c2f}{ff\+\_\+wma\+\_\+get\+\_\+large\+\_\+val}} (\mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} $\ast$gb)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{wma_8c_ab5c55290941510ca88d6857ed0ce1d24}{ff\+\_\+wma\+\_\+run\+\_\+level\+\_\+decode}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} $\ast$gb, \mbox{\hyperlink{struct_v_l_c}{V\+LC}} $\ast$vlc, const float $\ast$level\+\_\+table, const uint16\+\_\+t $\ast$run\+\_\+table, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{nutenc_8c_a4c7a521b8f1a0769c09bfa4a1fca7dab}{version}}, \mbox{\hyperlink{wma_8h_aab8fb190c917c7b28ba7e910d3c18984}{W\+M\+A\+Coef}} $\ast$ptr, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vf__uspp_8c_a06b941e27d7180a9a7c906f9907682d6}{offset}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} num\+\_\+coefs, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} block\+\_\+len, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} frame\+\_\+len\+\_\+bits, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} coef\+\_\+nb\+\_\+bits)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{wma_8c_ac446ded91b7bdb7912c945768dace1e0}\label{wma_8c_ac446ded91b7bdb7912c945768dace1e0}} 
\index{wma.c@{wma.c}!ff\_wma\_end@{ff\_wma\_end}}
\index{ff\_wma\_end@{ff\_wma\_end}!wma.c@{wma.c}}
\doxysubsubsection{\texorpdfstring{ff\_wma\_end()}{ff\_wma\_end()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+wma\+\_\+end (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})}



Definition at line 364 of file wma.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{wma_8c_ac446ded91b7bdb7912c945768dace1e0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{wma_8c_abdf3b4c138d499be18d2f68fe7455c2f}\label{wma_8c_abdf3b4c138d499be18d2f68fe7455c2f}} 
\index{wma.c@{wma.c}!ff\_wma\_get\_large\_val@{ff\_wma\_get\_large\_val}}
\index{ff\_wma\_get\_large\_val@{ff\_wma\_get\_large\_val}!wma.c@{wma.c}}
\doxysubsubsection{\texorpdfstring{ff\_wma\_get\_large\_val()}{ff\_wma\_get\_large\_val()}}
{\footnotesize\ttfamily unsigned \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+wma\+\_\+get\+\_\+large\+\_\+val (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} $\ast$}]{gb }\end{DoxyParamCaption})}

Decode an uncompressed coefficient. 
\begin{DoxyParams}{Parameters}
{\em gb} & \mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the decoded coefficient 
\end{DoxyReturn}
consumes up to 34 bits

decode length

Definition at line 392 of file wma.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c_abdf3b4c138d499be18d2f68fe7455c2f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c_abdf3b4c138d499be18d2f68fe7455c2f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{wma_8c_aa4d6aca04d65e087fc876061e5160b8b}\label{wma_8c_aa4d6aca04d65e087fc876061e5160b8b}} 
\index{wma.c@{wma.c}!ff\_wma\_init@{ff\_wma\_init}}
\index{ff\_wma\_init@{ff\_wma\_init}!wma.c@{wma.c}}
\doxysubsubsection{\texorpdfstring{ff\_wma\_init()}{ff\_wma\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+wma\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{flags2 }\end{DoxyParamCaption})}



Definition at line 77 of file wma.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c_aa4d6aca04d65e087fc876061e5160b8b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{wma_8c_aa4d6aca04d65e087fc876061e5160b8b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{wma_8c_ab5c55290941510ca88d6857ed0ce1d24}\label{wma_8c_ab5c55290941510ca88d6857ed0ce1d24}} 
\index{wma.c@{wma.c}!ff\_wma\_run\_level\_decode@{ff\_wma\_run\_level\_decode}}
\index{ff\_wma\_run\_level\_decode@{ff\_wma\_run\_level\_decode}!wma.c@{wma.c}}
\doxysubsubsection{\texorpdfstring{ff\_wma\_run\_level\_decode()}{ff\_wma\_run\_level\_decode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+wma\+\_\+run\+\_\+level\+\_\+decode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{struct_get_bit_context}{Get\+Bit\+Context}} $\ast$}]{gb,  }\item[{\mbox{\hyperlink{struct_v_l_c}{V\+LC}} $\ast$}]{vlc,  }\item[{const float $\ast$}]{level\+\_\+table,  }\item[{const uint16\+\_\+t $\ast$}]{run\+\_\+table,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{version,  }\item[{\mbox{\hyperlink{wma_8h_aab8fb190c917c7b28ba7e910d3c18984}{W\+M\+A\+Coef}} $\ast$}]{ptr,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{offset,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{num\+\_\+coefs,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{block\+\_\+len,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{frame\+\_\+len\+\_\+bits,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{coef\+\_\+nb\+\_\+bits }\end{DoxyParamCaption})}

Decode run level compressed coefficients. 
\begin{DoxyParams}{Parameters}
{\em avctx} & codec context \\
\hline
{\em gb} & bitstream reader context \\
\hline
{\em vlc} & vlc table for get\+\_\+vlc2 \\
\hline
{\em level\+\_\+table} & level codes \\
\hline
{\em run\+\_\+table} & run codes \\
\hline
{\em version} & 0 for wma1,2 1 for wmapro \\
\hline
{\em ptr} & output buffer \\
\hline
{\em offset} & offset in the output buffer \\
\hline
{\em num\+\_\+coefs} & number of input coefficients \\
\hline
{\em block\+\_\+len} & input buffer length (2$^\wedge$n) \\
\hline
{\em frame\+\_\+len\+\_\+bits} & number of bits for escaped run codes \\
\hline
{\em coef\+\_\+nb\+\_\+bits} & number of bits for escaped level codes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 otherwise 
\end{DoxyReturn}
normal code

E\+OB

escape

N\+O\+TE\+: this is rather suboptimal. reading block\+\_\+len\+\_\+bits would be better

escape decode

N\+O\+TE\+: E\+OB can be omitted

Definition at line 424 of file wma.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c_ab5c55290941510ca88d6857ed0ce1d24_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c_ab5c55290941510ca88d6857ed0ce1d24_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{wma_8c_a12dead47706b66154058cdb891e99579}\label{wma_8c_a12dead47706b66154058cdb891e99579}} 
\index{wma.c@{wma.c}!ff\_wma\_total\_gain\_to\_bits@{ff\_wma\_total\_gain\_to\_bits}}
\index{ff\_wma\_total\_gain\_to\_bits@{ff\_wma\_total\_gain\_to\_bits}!wma.c@{wma.c}}
\doxysubsubsection{\texorpdfstring{ff\_wma\_total\_gain\_to\_bits()}{ff\_wma\_total\_gain\_to\_bits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+wma\+\_\+total\+\_\+gain\+\_\+to\+\_\+bits (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{total\+\_\+gain }\end{DoxyParamCaption})}



Definition at line 350 of file wma.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c_a12dead47706b66154058cdb891e99579_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{wma_8c_a5ccecfa9340c2062f5cdde4c42666f8f}\label{wma_8c_a5ccecfa9340c2062f5cdde4c42666f8f}} 
\index{wma.c@{wma.c}!init\_coef\_vlc@{init\_coef\_vlc}}
\index{init\_coef\_vlc@{init\_coef\_vlc}!wma.c@{wma.c}}
\doxysubsubsection{\texorpdfstring{init\_coef\_vlc()}{init\_coef\_vlc()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} init\+\_\+coef\+\_\+vlc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_v_l_c}{V\+LC}} $\ast$}]{vlc,  }\item[{uint16\+\_\+t $\ast$$\ast$}]{prun\+\_\+table,  }\item[{float $\ast$$\ast$}]{plevel\+\_\+table,  }\item[{uint16\+\_\+t $\ast$$\ast$}]{pint\+\_\+table,  }\item[{const \mbox{\hyperlink{struct_coef_v_l_c_table}{Coef\+V\+L\+C\+Table}} $\ast$}]{vlc\+\_\+table }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 34 of file wma.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wma_8c_a5ccecfa9340c2062f5cdde4c42666f8f_cgraph}
\end{center}
\end{figure}
