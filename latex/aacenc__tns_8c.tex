\hypertarget{aacenc__tns_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/aacenc\+\_\+tns.c File Reference}
\label{aacenc__tns_8c}\index{E:/github/ffmpeg/libavcodec/aacenc\_tns.c@{E:/github/ffmpeg/libavcodec/aacenc\_tns.c}}
{\ttfamily \#include \char`\"{}libavutil/libm.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacenc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacenc\+\_\+tns.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aactab.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacenc\+\_\+utils.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}aacenc\+\_\+quantization.\+h\char`\"{}}\newline
Include dependency graph for aacenc\+\_\+tns.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacenc__tns_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{aacenc__tns_8c_a147b811d92e450ddb120d5750e8f54d3}{T\+N\+S\+\_\+\+Q\+\_\+\+B\+I\+TS}}~4
\item 
\#define \mbox{\hyperlink{aacenc__tns_8c_a099a42003d2f000d85bc971994c94cd2}{T\+N\+S\+\_\+\+Q\+\_\+\+B\+I\+T\+S\+\_\+\+I\+S8}}~4
\item 
\#define \mbox{\hyperlink{aacenc__tns_8c_ad31875d6def013204b225d500d93cdcd}{T\+N\+S\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+C\+O\+E\+F\+\_\+\+C\+O\+M\+P\+R\+E\+S\+S\+I\+ON}}
\item 
\#define \mbox{\hyperlink{aacenc__tns_8c_a3add5f9afa6e897dce4c642288dcdad5}{T\+N\+S\+\_\+\+G\+A\+I\+N\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+L\+OW}}~1.\+4\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}
\item 
\#define \mbox{\hyperlink{aacenc__tns_8c_a5e220370b7b36d26ff961f549f01a9cd}{T\+N\+S\+\_\+\+G\+A\+I\+N\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+H\+I\+GH}}~1.\+16\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}$\ast$\mbox{\hyperlink{aacenc__tns_8c_a3add5f9afa6e897dce4c642288dcdad5}{T\+N\+S\+\_\+\+G\+A\+I\+N\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+L\+OW}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{aacenc__tns_8c_aed8ba48bd53b63b2014d8980b51ee638}{compress\+\_\+coeffs}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$coef, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} order, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} c\+\_\+bits)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacenc__tns_8c_acc0812bbf8b3d237f1bb1eac0151db0e}{ff\+\_\+aac\+\_\+encode\+\_\+tns\+\_\+info}} (\mbox{\hyperlink{struct_a_a_c_enc_context}{A\+A\+C\+Enc\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, \mbox{\hyperlink{struct_single_channel_element}{Single\+Channel\+Element}} $\ast$sce)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacenc__tns_8c_af0710322abd6cc3aa926dd40abd87b04}{ff\+\_\+aac\+\_\+apply\+\_\+tns}} (\mbox{\hyperlink{struct_a_a_c_enc_context}{A\+A\+C\+Enc\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, \mbox{\hyperlink{struct_single_channel_element}{Single\+Channel\+Element}} $\ast$sce)
\item 
static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacenc__tns_8c_acc299a5e0e53b77ac3a8f979f99aef0b}{quantize\+\_\+coefs}} (double $\ast$coef, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$idx, float $\ast$lpc, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} order, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} c\+\_\+bits)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{aacenc__tns_8c_aa7ca00fe59ad0930d411c51ff498426c}{ff\+\_\+aac\+\_\+search\+\_\+for\+\_\+tns}} (\mbox{\hyperlink{struct_a_a_c_enc_context}{A\+A\+C\+Enc\+Context}} $\ast$\mbox{\hyperlink{sw__rgb_8c_a517a4433fe5466cc6af1c80c538b0881}{s}}, \mbox{\hyperlink{struct_single_channel_element}{Single\+Channel\+Element}} $\ast$sce)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A\+AC encoder temporal noise shaping \begin{DoxyAuthor}{Author}
Rostislav Pehlivanov ( atomnuker gmail com ) 
\end{DoxyAuthor}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{aacenc__tns_8c_ad31875d6def013204b225d500d93cdcd}\label{aacenc__tns_8c_ad31875d6def013204b225d500d93cdcd}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!TNS\_ENABLE\_COEF\_COMPRESSION@{TNS\_ENABLE\_COEF\_COMPRESSION}}
\index{TNS\_ENABLE\_COEF\_COMPRESSION@{TNS\_ENABLE\_COEF\_COMPRESSION}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{TNS\_ENABLE\_COEF\_COMPRESSION}{TNS\_ENABLE\_COEF\_COMPRESSION}}
{\footnotesize\ttfamily \#define T\+N\+S\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+C\+O\+E\+F\+\_\+\+C\+O\+M\+P\+R\+E\+S\+S\+I\+ON}



Definition at line 42 of file aacenc\+\_\+tns.\+c.

\mbox{\Hypertarget{aacenc__tns_8c_a5e220370b7b36d26ff961f549f01a9cd}\label{aacenc__tns_8c_a5e220370b7b36d26ff961f549f01a9cd}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!TNS\_GAIN\_THRESHOLD\_HIGH@{TNS\_GAIN\_THRESHOLD\_HIGH}}
\index{TNS\_GAIN\_THRESHOLD\_HIGH@{TNS\_GAIN\_THRESHOLD\_HIGH}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{TNS\_GAIN\_THRESHOLD\_HIGH}{TNS\_GAIN\_THRESHOLD\_HIGH}}
{\footnotesize\ttfamily \#define T\+N\+S\+\_\+\+G\+A\+I\+N\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+H\+I\+GH~1.\+16\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}$\ast$\mbox{\hyperlink{aacenc__tns_8c_a3add5f9afa6e897dce4c642288dcdad5}{T\+N\+S\+\_\+\+G\+A\+I\+N\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+L\+OW}}}



Definition at line 46 of file aacenc\+\_\+tns.\+c.

\mbox{\Hypertarget{aacenc__tns_8c_a3add5f9afa6e897dce4c642288dcdad5}\label{aacenc__tns_8c_a3add5f9afa6e897dce4c642288dcdad5}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!TNS\_GAIN\_THRESHOLD\_LOW@{TNS\_GAIN\_THRESHOLD\_LOW}}
\index{TNS\_GAIN\_THRESHOLD\_LOW@{TNS\_GAIN\_THRESHOLD\_LOW}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{TNS\_GAIN\_THRESHOLD\_LOW}{TNS\_GAIN\_THRESHOLD\_LOW}}
{\footnotesize\ttfamily \#define T\+N\+S\+\_\+\+G\+A\+I\+N\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+L\+OW~1.\+4\mbox{\hyperlink{target__bsf__fuzzer_8c_a74b1d1806653d461788d9d335e023047}{f}}}



Definition at line 45 of file aacenc\+\_\+tns.\+c.

\mbox{\Hypertarget{aacenc__tns_8c_a147b811d92e450ddb120d5750e8f54d3}\label{aacenc__tns_8c_a147b811d92e450ddb120d5750e8f54d3}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!TNS\_Q\_BITS@{TNS\_Q\_BITS}}
\index{TNS\_Q\_BITS@{TNS\_Q\_BITS}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{TNS\_Q\_BITS}{TNS\_Q\_BITS}}
{\footnotesize\ttfamily \#define T\+N\+S\+\_\+\+Q\+\_\+\+B\+I\+TS~4}



Definition at line 36 of file aacenc\+\_\+tns.\+c.

\mbox{\Hypertarget{aacenc__tns_8c_a099a42003d2f000d85bc971994c94cd2}\label{aacenc__tns_8c_a099a42003d2f000d85bc971994c94cd2}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!TNS\_Q\_BITS\_IS8@{TNS\_Q\_BITS\_IS8}}
\index{TNS\_Q\_BITS\_IS8@{TNS\_Q\_BITS\_IS8}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{TNS\_Q\_BITS\_IS8}{TNS\_Q\_BITS\_IS8}}
{\footnotesize\ttfamily \#define T\+N\+S\+\_\+\+Q\+\_\+\+B\+I\+T\+S\+\_\+\+I\+S8~4}



Definition at line 39 of file aacenc\+\_\+tns.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{aacenc__tns_8c_aed8ba48bd53b63b2014d8980b51ee638}\label{aacenc__tns_8c_aed8ba48bd53b63b2014d8980b51ee638}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!compress\_coeffs@{compress\_coeffs}}
\index{compress\_coeffs@{compress\_coeffs}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{compress\_coeffs()}{compress\_coeffs()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} compress\+\_\+coeffs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{coef,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{order,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{c\+\_\+bits }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 48 of file aacenc\+\_\+tns.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{aacenc__tns_8c_aed8ba48bd53b63b2014d8980b51ee638_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacenc__tns_8c_af0710322abd6cc3aa926dd40abd87b04}\label{aacenc__tns_8c_af0710322abd6cc3aa926dd40abd87b04}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!ff\_aac\_apply\_tns@{ff\_aac\_apply\_tns}}
\index{ff\_aac\_apply\_tns@{ff\_aac\_apply\_tns}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{ff\_aac\_apply\_tns()}{ff\_aac\_apply\_tns()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+aac\+\_\+apply\+\_\+tns (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_a_c_enc_context}{A\+A\+C\+Enc\+Context}} $\ast$}]{s,  }\item[{\mbox{\hyperlink{struct_single_channel_element}{Single\+Channel\+Element}} $\ast$}]{sce }\end{DoxyParamCaption})}



Definition at line 102 of file aacenc\+\_\+tns.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacenc__tns_8c_af0710322abd6cc3aa926dd40abd87b04_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacenc__tns_8c_acc0812bbf8b3d237f1bb1eac0151db0e}\label{aacenc__tns_8c_acc0812bbf8b3d237f1bb1eac0151db0e}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!ff\_aac\_encode\_tns\_info@{ff\_aac\_encode\_tns\_info}}
\index{ff\_aac\_encode\_tns\_info@{ff\_aac\_encode\_tns\_info}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{ff\_aac\_encode\_tns\_info()}{ff\_aac\_encode\_tns\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+aac\+\_\+encode\+\_\+tns\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_a_c_enc_context}{A\+A\+C\+Enc\+Context}} $\ast$}]{s,  }\item[{\mbox{\hyperlink{struct_single_channel_element}{Single\+Channel\+Element}} $\ast$}]{sce }\end{DoxyParamCaption})}

Encode T\+NS data. Coefficient compression is simply not lossless as it should be on any decoder tested and as such is not active. 

Definition at line 70 of file aacenc\+\_\+tns.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacenc__tns_8c_acc0812bbf8b3d237f1bb1eac0151db0e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacenc__tns_8c_aa7ca00fe59ad0930d411c51ff498426c}\label{aacenc__tns_8c_aa7ca00fe59ad0930d411c51ff498426c}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!ff\_aac\_search\_for\_tns@{ff\_aac\_search\_for\_tns}}
\index{ff\_aac\_search\_for\_tns@{ff\_aac\_search\_for\_tns}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{ff\_aac\_search\_for\_tns()}{ff\_aac\_search\_for\_tns()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+aac\+\_\+search\+\_\+for\+\_\+tns (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_a_c_enc_context}{A\+A\+C\+Enc\+Context}} $\ast$}]{s,  }\item[{\mbox{\hyperlink{struct_single_channel_element}{Single\+Channel\+Element}} $\ast$}]{sce }\end{DoxyParamCaption})}



Definition at line 161 of file aacenc\+\_\+tns.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacenc__tns_8c_aa7ca00fe59ad0930d411c51ff498426c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{aacenc__tns_8c_acc299a5e0e53b77ac3a8f979f99aef0b}\label{aacenc__tns_8c_acc299a5e0e53b77ac3a8f979f99aef0b}} 
\index{aacenc\_tns.c@{aacenc\_tns.c}!quantize\_coefs@{quantize\_coefs}}
\index{quantize\_coefs@{quantize\_coefs}!aacenc\_tns.c@{aacenc\_tns.c}}
\doxysubsubsection{\texorpdfstring{quantize\_coefs()}{quantize\_coefs()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} quantize\+\_\+coefs (\begin{DoxyParamCaption}\item[{double $\ast$}]{coef,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{idx,  }\item[{float $\ast$}]{lpc,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{order,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{c\+\_\+bits }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 147 of file aacenc\+\_\+tns.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{aacenc__tns_8c_acc299a5e0e53b77ac3a8f979f99aef0b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{aacenc__tns_8c_acc299a5e0e53b77ac3a8f979f99aef0b_icgraph}
\end{center}
\end{figure}
