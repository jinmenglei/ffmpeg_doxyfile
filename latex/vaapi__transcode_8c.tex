\hypertarget{vaapi__transcode_8c}{}\doxysection{E\+:/github/ffmpeg/doc/examples/vaapi\+\_\+transcode.c File Reference}
\label{vaapi__transcode_8c}\index{E:/github/ffmpeg/doc/examples/vaapi\_transcode.c@{E:/github/ffmpeg/doc/examples/vaapi\_transcode.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$libavutil/hwcontext.\+h$>$}\newline
{\ttfamily \#include $<$libavcodec/avcodec.\+h$>$}\newline
{\ttfamily \#include $<$libavformat/avformat.\+h$>$}\newline
Include dependency graph for vaapi\+\_\+transcode.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__transcode_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} \mbox{\hyperlink{vaapi__transcode_8c_a23d429b9966083a48326db7e2ee600ac}{get\+\_\+vaapi\+\_\+format}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}}, const enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} $\ast$\mbox{\hyperlink{floatimg__cmp_8c_aa1219ee396a270ba57fd4f2306b64c6e}{pix\+\_\+fmts}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__transcode_8c_abd04bf1a933d4d2698482f4949c61fed}{open\+\_\+input\+\_\+file}} (const char $\ast$filename)
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__transcode_8c_a14ec353af8427af9cbe9ca97d7b716d1}{encode\+\_\+write}} (\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$\mbox{\hyperlink{cbs__vp9__syntax__template_8c_a78a801b08f3801b9059f0450b834984e}{frame}})
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__transcode_8c_a5aae1034b2b8615190498df88463de44}{dec\+\_\+enc}} (\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$\mbox{\hyperlink{demuxing__decoding_8c_a3d4c6562f0b27cf0cacbbea5c038c090}{pkt}}, \mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} $\ast$enc\+\_\+codec)
\item 
\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__transcode_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$ \mbox{\hyperlink{vaapi__transcode_8c_a24170971d926c1359c289f2515dec3d7}{ifmt\+\_\+ctx}} = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}
\item 
static \mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$ \mbox{\hyperlink{vaapi__transcode_8c_a264d18b973551e505c9d3baf7a0ce726}{ofmt\+\_\+ctx}} = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}
\item 
static \mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}} $\ast$ \mbox{\hyperlink{vaapi__transcode_8c_a08d3cd3b71ea4209189c445198b095b8}{hw\+\_\+device\+\_\+ctx}} = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}
\item 
static \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$ \mbox{\hyperlink{vaapi__transcode_8c_ab27eeec669e462078d6c2b794b298bad}{decoder\+\_\+ctx}} = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}
\item 
static \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$ \mbox{\hyperlink{vaapi__transcode_8c_a507e0179d97911c45eb4a36cd998be94}{encoder\+\_\+ctx}} = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__transcode_8c_aecc5d778441f4eed0883bf5f0099e049}{video\+\_\+stream}} = -\/1
\item 
static \mbox{\hyperlink{struct_a_v_stream}{A\+V\+Stream}} $\ast$ \mbox{\hyperlink{vaapi__transcode_8c_a3e44252189bdae5212c5d1171bcd7cf4}{ost}}
\item 
static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{vaapi__transcode_8c_ad06983e7f6e71b233ea7ff3dee1952f2}{initialized}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Intel V\+A\+A\+P\+I-\/accelerated transcoding example. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{vaapi__transcode_8c_a5aae1034b2b8615190498df88463de44}\label{vaapi__transcode_8c_a5aae1034b2b8615190498df88463de44}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!dec\_enc@{dec\_enc}}
\index{dec\_enc@{dec\_enc}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{dec\_enc()}{dec\_enc()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} dec\+\_\+enc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_packet}{A\+V\+Packet}} $\ast$}]{pkt,  }\item[{\mbox{\hyperlink{struct_a_v_codec}{A\+V\+Codec}} $\ast$}]{enc\+\_\+codec }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 148 of file vaapi\+\_\+transcode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{vaapi__transcode_8c_a5aae1034b2b8615190498df88463de44_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{vaapi__transcode_8c_a5aae1034b2b8615190498df88463de44_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__transcode_8c_a14ec353af8427af9cbe9ca97d7b716d1}\label{vaapi__transcode_8c_a14ec353af8427af9cbe9ca97d7b716d1}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!encode\_write@{encode\_write}}
\index{encode\_write@{encode\_write}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{encode\_write()}{encode\_write()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} encode\+\_\+write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_frame}{A\+V\+Frame}} $\ast$}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 112 of file vaapi\+\_\+transcode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__transcode_8c_a14ec353af8427af9cbe9ca97d7b716d1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{vaapi__transcode_8c_a14ec353af8427af9cbe9ca97d7b716d1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__transcode_8c_a23d429b9966083a48326db7e2ee600ac}\label{vaapi__transcode_8c_a23d429b9966083a48326db7e2ee600ac}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!get\_vaapi\_format@{get\_vaapi\_format}}
\index{get\_vaapi\_format@{get\_vaapi\_format}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{get\_vaapi\_format()}{get\_vaapi\_format()}}
{\footnotesize\ttfamily static enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} get\+\_\+vaapi\+\_\+format (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{ctx,  }\item[{const enum \mbox{\hyperlink{pixfmt_8h_a9a8e335cf3be472042bc9f0cf80cd4c5}{A\+V\+Pixel\+Format}} $\ast$}]{pix\+\_\+fmts }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 46 of file vaapi\+\_\+transcode.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__transcode_8c_a23d429b9966083a48326db7e2ee600ac_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__transcode_8c_a3c04138a5bfe5d72780bb7e82a18e627}\label{vaapi__transcode_8c_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!main@{main}}
\index{main@{main}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} main (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Definition at line 230 of file vaapi\+\_\+transcode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vaapi__transcode_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vaapi__transcode_8c_abd04bf1a933d4d2698482f4949c61fed}\label{vaapi__transcode_8c_abd04bf1a933d4d2698482f4949c61fed}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!open\_input\_file@{open\_input\_file}}
\index{open\_input\_file@{open\_input\_file}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{open\_input\_file()}{open\_input\_file()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} open\+\_\+input\+\_\+file (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 62 of file vaapi\+\_\+transcode.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{vaapi__transcode_8c_abd04bf1a933d4d2698482f4949c61fed_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{vaapi__transcode_8c_abd04bf1a933d4d2698482f4949c61fed_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{vaapi__transcode_8c_ab27eeec669e462078d6c2b794b298bad}\label{vaapi__transcode_8c_ab27eeec669e462078d6c2b794b298bad}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!decoder\_ctx@{decoder\_ctx}}
\index{decoder\_ctx@{decoder\_ctx}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{decoder\_ctx}{decoder\_ctx}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}}$\ast$ decoder\+\_\+ctx = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 43 of file vaapi\+\_\+transcode.\+c.

\mbox{\Hypertarget{vaapi__transcode_8c_a507e0179d97911c45eb4a36cd998be94}\label{vaapi__transcode_8c_a507e0179d97911c45eb4a36cd998be94}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!encoder\_ctx@{encoder\_ctx}}
\index{encoder\_ctx@{encoder\_ctx}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{encoder\_ctx}{encoder\_ctx}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$ encoder\+\_\+ctx = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 43 of file vaapi\+\_\+transcode.\+c.

\mbox{\Hypertarget{vaapi__transcode_8c_a08d3cd3b71ea4209189c445198b095b8}\label{vaapi__transcode_8c_a08d3cd3b71ea4209189c445198b095b8}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!hw\_device\_ctx@{hw\_device\_ctx}}
\index{hw\_device\_ctx@{hw\_device\_ctx}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{hw\_device\_ctx}{hw\_device\_ctx}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_buffer_ref}{A\+V\+Buffer\+Ref}}$\ast$ hw\+\_\+device\+\_\+ctx = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 42 of file vaapi\+\_\+transcode.\+c.

\mbox{\Hypertarget{vaapi__transcode_8c_a24170971d926c1359c289f2515dec3d7}\label{vaapi__transcode_8c_a24170971d926c1359c289f2515dec3d7}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!ifmt\_ctx@{ifmt\_ctx}}
\index{ifmt\_ctx@{ifmt\_ctx}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{ifmt\_ctx}{ifmt\_ctx}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}}$\ast$ ifmt\+\_\+ctx = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 41 of file vaapi\+\_\+transcode.\+c.

\mbox{\Hypertarget{vaapi__transcode_8c_ad06983e7f6e71b233ea7ff3dee1952f2}\label{vaapi__transcode_8c_ad06983e7f6e71b233ea7ff3dee1952f2}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!initialized@{initialized}}
\index{initialized@{initialized}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{initialized}{initialized}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} initialized = 0\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 46 of file vaapi\+\_\+transcode.\+c.

\mbox{\Hypertarget{vaapi__transcode_8c_a264d18b973551e505c9d3baf7a0ce726}\label{vaapi__transcode_8c_a264d18b973551e505c9d3baf7a0ce726}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!ofmt\_ctx@{ofmt\_ctx}}
\index{ofmt\_ctx@{ofmt\_ctx}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{ofmt\_ctx}{ofmt\_ctx}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}} $\ast$ ofmt\+\_\+ctx = \mbox{\hyperlink{coverity_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 41 of file vaapi\+\_\+transcode.\+c.

\mbox{\Hypertarget{vaapi__transcode_8c_a3e44252189bdae5212c5d1171bcd7cf4}\label{vaapi__transcode_8c_a3e44252189bdae5212c5d1171bcd7cf4}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!ost@{ost}}
\index{ost@{ost}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{ost}{ost}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_a_v_stream}{A\+V\+Stream}}$\ast$ ost\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 45 of file vaapi\+\_\+transcode.\+c.

\mbox{\Hypertarget{vaapi__transcode_8c_aecc5d778441f4eed0883bf5f0099e049}\label{vaapi__transcode_8c_aecc5d778441f4eed0883bf5f0099e049}} 
\index{vaapi\_transcode.c@{vaapi\_transcode.c}!video\_stream@{video\_stream}}
\index{video\_stream@{video\_stream}!vaapi\_transcode.c@{vaapi\_transcode.c}}
\doxysubsubsection{\texorpdfstring{video\_stream}{video\_stream}}
{\footnotesize\ttfamily \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} video\+\_\+stream = -\/1\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 44 of file vaapi\+\_\+transcode.\+c.

