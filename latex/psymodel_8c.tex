\hypertarget{psymodel_8c}{}\doxysection{E\+:/github/ffmpeg/libavcodec/psymodel.c File Reference}
\label{psymodel_8c}\index{E:/github/ffmpeg/libavcodec/psymodel.c@{E:/github/ffmpeg/libavcodec/psymodel.c}}
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}avcodec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}psymodel.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}iirfilter.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}libavutil/mem.\+h\char`\"{}}\newline
Include dependency graph for psymodel.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{psymodel_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{psymodel_8c_aae2ac6e734365bf8a4e4b2ab30dea50c}{F\+I\+L\+T\+\_\+\+O\+R\+D\+ER}}~4
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}} \mbox{\hyperlink{psymodel_8c_a47776132efa531a92a7708fae7ffd6fd}{F\+F\+Psy\+Preprocess\+Context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{psymodel_8c_ac7dc8839493b0d0bdb6213d6a99cdf9a}{ff\+\_\+psy\+\_\+init}} (\mbox{\hyperlink{struct_f_f_psy_context}{F\+F\+Psy\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}}, \mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} num\+\_\+lens, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$\mbox{\hyperlink{af__superequalizer_8c_ab4edab3980d056fc2e3acc475b444d11}{bands}}, const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$num\+\_\+bands, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} num\+\_\+groups, const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$group\+\_\+map)
\item 
\mbox{\hyperlink{struct_f_f_psy_channel_group}{F\+F\+Psy\+Channel\+Group}} $\ast$ \mbox{\hyperlink{psymodel_8c_a112f761c42e9b08248e1a8e5816f492d}{ff\+\_\+psy\+\_\+find\+\_\+group}} (\mbox{\hyperlink{struct_f_f_psy_context}{F\+F\+Psy\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}}, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{ebur128_8h_af4463779bb9b119822c94419a10d31c0}{channel}})
\item 
\mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{psymodel_8c_ad94bd3392ce88a51aad087583504989b}{ff\+\_\+psy\+\_\+end}} (\mbox{\hyperlink{struct_f_f_psy_context}{F\+F\+Psy\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}})
\item 
\mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}} $\ast$ \mbox{\hyperlink{psymodel_8c_a31a66dbed29d4d993e4f76bfac91d580}{ff\+\_\+psy\+\_\+preprocess\+\_\+init}} (\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$avctx)
\item 
\mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{psymodel_8c_ae6edf554a06e8c82fbd8520feae2ed00}{ff\+\_\+psy\+\_\+preprocess}} (struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}}, float $\ast$$\ast$audio, \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} \mbox{\hyperlink{aptx_8h_ac9da8d7a4bd192b8a7dccbc024542709}{channels}})
\item 
\mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} \mbox{\hyperlink{psymodel_8c_a95e0e857bed5fd77e2451ab653622ab2}{ff\+\_\+psy\+\_\+preprocess\+\_\+end}} (struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}} $\ast$\mbox{\hyperlink{tests_2movenc_8c_a93cc7296f13f507c1fd7abd0db36b898}{ctx}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{struct_f_f_psy_model}{F\+F\+Psy\+Model}} \mbox{\hyperlink{psymodel_8c_ae15d2aa668a6570a3b28f71627fa467d}{ff\+\_\+aac\+\_\+psy\+\_\+model}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{psymodel_8c_aae2ac6e734365bf8a4e4b2ab30dea50c}\label{psymodel_8c_aae2ac6e734365bf8a4e4b2ab30dea50c}} 
\index{psymodel.c@{psymodel.c}!FILT\_ORDER@{FILT\_ORDER}}
\index{FILT\_ORDER@{FILT\_ORDER}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{FILT\_ORDER}{FILT\_ORDER}}
{\footnotesize\ttfamily \#define F\+I\+L\+T\+\_\+\+O\+R\+D\+ER~4}



Definition at line 101 of file psymodel.\+c.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{psymodel_8c_a47776132efa531a92a7708fae7ffd6fd}\label{psymodel_8c_a47776132efa531a92a7708fae7ffd6fd}} 
\index{psymodel.c@{psymodel.c}!FFPsyPreprocessContext@{FFPsyPreprocessContext}}
\index{FFPsyPreprocessContext@{FFPsyPreprocessContext}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{FFPsyPreprocessContext}{FFPsyPreprocessContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}} \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{psymodel_8c_ad94bd3392ce88a51aad087583504989b}\label{psymodel_8c_ad94bd3392ce88a51aad087583504989b}} 
\index{psymodel.c@{psymodel.c}!ff\_psy\_end@{ff\_psy\_end}}
\index{ff\_psy\_end@{ff\_psy\_end}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{ff\_psy\_end()}{ff\_psy\_end()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+psy\+\_\+end (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_f_psy_context}{F\+F\+Psy\+Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}

Cleanup model context at the end.


\begin{DoxyParams}{Parameters}
{\em ctx} & model context \\
\hline
\end{DoxyParams}


Definition at line 83 of file psymodel.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{psymodel_8c_ad94bd3392ce88a51aad087583504989b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{psymodel_8c_a112f761c42e9b08248e1a8e5816f492d}\label{psymodel_8c_a112f761c42e9b08248e1a8e5816f492d}} 
\index{psymodel.c@{psymodel.c}!ff\_psy\_find\_group@{ff\_psy\_find\_group}}
\index{ff\_psy\_find\_group@{ff\_psy\_find\_group}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{ff\_psy\_find\_group()}{ff\_psy\_find\_group()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_f_f_psy_channel_group}{F\+F\+Psy\+Channel\+Group}}$\ast$ ff\+\_\+psy\+\_\+find\+\_\+group (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_f_psy_context}{F\+F\+Psy\+Context}} $\ast$}]{ctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{channel }\end{DoxyParamCaption})}

Determine what group a channel belongs to.


\begin{DoxyParams}{Parameters}
{\em ctx} & psymodel context \\
\hline
{\em channel} & channel to locate the group for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the \mbox{\hyperlink{struct_f_f_psy_channel_group}{F\+F\+Psy\+Channel\+Group}} this channel belongs to 
\end{DoxyReturn}


Definition at line 73 of file psymodel.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=306pt]{psymodel_8c_a112f761c42e9b08248e1a8e5816f492d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{psymodel_8c_ac7dc8839493b0d0bdb6213d6a99cdf9a}\label{psymodel_8c_ac7dc8839493b0d0bdb6213d6a99cdf9a}} 
\index{psymodel.c@{psymodel.c}!ff\_psy\_init@{ff\_psy\_init}}
\index{ff\_psy\_init@{ff\_psy\_init}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{ff\_psy\_init()}{ff\_psy\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} ff\+\_\+psy\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_f_f_psy_context}{F\+F\+Psy\+Context}} $\ast$}]{ctx,  }\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{num\+\_\+lens,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$$\ast$}]{bands,  }\item[{const \mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}} $\ast$}]{num\+\_\+bands,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{num\+\_\+groups,  }\item[{const \mbox{\hyperlink{audio__convert_8c_ae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t}} $\ast$}]{group\+\_\+map }\end{DoxyParamCaption})}

Initialize psychoacoustic model.


\begin{DoxyParams}{Parameters}
{\em ctx} & model context \\
\hline
{\em avctx} & codec context \\
\hline
{\em num\+\_\+lens} & number of possible frame lengths \\
\hline
{\em bands} & scalefactor band lengths for all frame lengths \\
\hline
{\em num\+\_\+bands} & number of scalefactor bands for all frame lengths \\
\hline
{\em num\+\_\+groups} & number of channel groups \\
\hline
{\em group\+\_\+map} & array with \# of channels in group -\/ 1, for each group\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero if successful, a negative value if not 
\end{DoxyReturn}


Definition at line 31 of file psymodel.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{psymodel_8c_ac7dc8839493b0d0bdb6213d6a99cdf9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=263pt]{psymodel_8c_ac7dc8839493b0d0bdb6213d6a99cdf9a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{psymodel_8c_ae6edf554a06e8c82fbd8520feae2ed00}\label{psymodel_8c_ae6edf554a06e8c82fbd8520feae2ed00}} 
\index{psymodel.c@{psymodel.c}!ff\_psy\_preprocess@{ff\_psy\_preprocess}}
\index{ff\_psy\_preprocess@{ff\_psy\_preprocess}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{ff\_psy\_preprocess()}{ff\_psy\_preprocess()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+psy\+\_\+preprocess (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}} $\ast$}]{ctx,  }\item[{float $\ast$$\ast$}]{audio,  }\item[{\mbox{\hyperlink{ffmpeg__filter_8c_a61569f2965b7a369eb10b6d75d410d11}{int}}}]{channels }\end{DoxyParamCaption})}

Preprocess several channel in audio frame in order to compress it better.


\begin{DoxyParams}{Parameters}
{\em ctx} & preprocessing context \\
\hline
{\em audio} & samples to be filtered (in place) \\
\hline
{\em channels} & number of channel to preprocess \\
\hline
\end{DoxyParams}


Definition at line 139 of file psymodel.\+c.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{psymodel_8c_ae6edf554a06e8c82fbd8520feae2ed00_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{psymodel_8c_a95e0e857bed5fd77e2451ab653622ab2}\label{psymodel_8c_a95e0e857bed5fd77e2451ab653622ab2}} 
\index{psymodel.c@{psymodel.c}!ff\_psy\_preprocess\_end@{ff\_psy\_preprocess\_end}}
\index{ff\_psy\_preprocess\_end@{ff\_psy\_preprocess\_end}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{ff\_psy\_preprocess\_end()}{ff\_psy\_preprocess\_end()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} \mbox{\hyperlink{rematrix__template_8c_a4dfdfbb7b69470f1152e022432ee2d45}{void}} ff\+\_\+psy\+\_\+preprocess\+\_\+end (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}

Cleanup audio preprocessing module. 

Definition at line 152 of file psymodel.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{psymodel_8c_a95e0e857bed5fd77e2451ab653622ab2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{psymodel_8c_a95e0e857bed5fd77e2451ab653622ab2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{psymodel_8c_a31a66dbed29d4d993e4f76bfac91d580}\label{psymodel_8c_a31a66dbed29d4d993e4f76bfac91d580}} 
\index{psymodel.c@{psymodel.c}!ff\_psy\_preprocess\_init@{ff\_psy\_preprocess\_init}}
\index{ff\_psy\_preprocess\_init@{ff\_psy\_preprocess\_init}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{ff\_psy\_preprocess\_init()}{ff\_psy\_preprocess\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{attributes_8h_abeeb324fff79a5335d36774704e2475c}{av\+\_\+cold}} struct \mbox{\hyperlink{struct_f_f_psy_preprocess_context}{F\+F\+Psy\+Preprocess\+Context}}$\ast$ ff\+\_\+psy\+\_\+preprocess\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context}} $\ast$}]{avctx }\end{DoxyParamCaption})}

psychoacoustic model audio preprocessing initialization 

Definition at line 103 of file psymodel.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{psymodel_8c_a31a66dbed29d4d993e4f76bfac91d580_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{psymodel_8c_a31a66dbed29d4d993e4f76bfac91d580_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{psymodel_8c_ae15d2aa668a6570a3b28f71627fa467d}\label{psymodel_8c_ae15d2aa668a6570a3b28f71627fa467d}} 
\index{psymodel.c@{psymodel.c}!ff\_aac\_psy\_model@{ff\_aac\_psy\_model}}
\index{ff\_aac\_psy\_model@{ff\_aac\_psy\_model}!psymodel.c@{psymodel.c}}
\doxysubsubsection{\texorpdfstring{ff\_aac\_psy\_model}{ff\_aac\_psy\_model}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_f_f_psy_model}{F\+F\+Psy\+Model}} ff\+\_\+aac\+\_\+psy\+\_\+model\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line 1018 of file aacpsy.\+c.

