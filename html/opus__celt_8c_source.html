<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/opus_celt.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">opus_celt.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="opus__celt_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2012 Andrew D&#39;Addesio</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2013-2014 Mozilla Corporation</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2016 Rostislav Pehlivanov &lt;atomnuker@gmail.com&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opus__celt_8h.html">opus_celt.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opustab_8h.html">opustab.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opus__pvq_8h.html">opus_pvq.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* Use the 2D z-transform to apply prediction in both the time domain (alpha)</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * and the frequency domain (beta) */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#a76f5c3a68dbced0f524641fc3766df6f">   34</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#a76f5c3a68dbced0f524641fc3766df6f">celt_decode_coarse_energy</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_opus_range_coder.html">OpusRangeCoder</a> *rc)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">float</span> prev[2] = { 0 };</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = <a class="code" href="opustab_8c.html#a87a19c6fd3b9c1432366f6da33b946b1">ff_celt_alpha_coef</a>[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size];</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">float</span> beta  = <a class="code" href="opustab_8c.html#ace1aade40c4eb4b10cf291e69a6ed1da">ff_celt_beta_coef</a>[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size];</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *model = <a class="code" href="opustab_8c.html#a700cf6584c799503a67738e87c840a4e">ff_celt_coarse_energy_dist</a>[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size][0];</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">/* intra frame */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc) + 3 &lt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits &amp;&amp; <a class="code" href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a>(rc, 3)) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = 0.0f;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        beta  = 1.0f - (4915.0f/32768.0f);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        model = <a class="code" href="opustab_8c.html#a700cf6584c799503a67738e87c840a4e">ff_celt_coarse_energy_dist</a>[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size][1];</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="opus_8h.html#ab20adf1ddf763aaffdcfe2389c68a6e8">CELT_MAX_BANDS</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels; j++) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[j];</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordtype">float</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#ae1f616347c13c08d2255bb22a3263fe4">available</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">if</span> (i &lt; f-&gt;start_band || <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;end_band) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0.0;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <a class="code" href="filter__design_8txt.html#ae1f616347c13c08d2255bb22a3263fe4">available</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits - <a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#ae1f616347c13c08d2255bb22a3263fe4">available</a> &gt;= 15) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="comment">/* decode using a Laplace distribution */</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                <span class="keywordtype">int</span> k = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, 20) &lt;&lt; 1;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = <a class="code" href="opus__rc_8c.html#ae5a637bf186a544e83c275310deb3b9e">ff_opus_rc_dec_laplace</a>(rc, model[k] &lt;&lt; 7, model[k+1] &lt;&lt; 6);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#ae1f616347c13c08d2255bb22a3263fe4">available</a> &gt;= 2) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <span class="keywordtype">int</span> x = <a class="code" href="opus__rc_8c.html#a8f07c6d16221f0ff2a3933ee71a39adf">ff_opus_rc_dec_cdf</a>(rc, <a class="code" href="opustab_8c.html#a4892e4f64eaa660194101e105334576a">ff_celt_model_energy_small</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = (x&gt;&gt;1) ^ -(x&amp;1);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#ae1f616347c13c08d2255bb22a3263fe4">available</a> &gt;= 1) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = -(float)<a class="code" href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a>(rc, 1);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            } <span class="keywordflow">else</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = -1;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(-9.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) * <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + prev[j] + <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            prev[j] += beta * <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#abe2398ee6be160f841df7bdb05c32069">   78</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#abe2398ee6be160f841df7bdb05c32069">celt_decode_fine_energy</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_opus_range_coder.html">OpusRangeCoder</a> *rc)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band; i &lt; f-&gt;end_band; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;fine_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels; j++) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[j];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordtype">int</span> q2;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordtype">float</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            q2 = <a class="code" href="opus__rc_8c.html#a9f761fd87b3c54869c06153a49e596d5">ff_opus_rc_get_raw</a>(rc, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;fine_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = (q2 + 0.5f) * (1 &lt;&lt; (14 - <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;fine_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])) / 16384.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> - 0.5<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] += <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#aae6e009bdb5148a885d69f5c145078de">   97</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#aae6e009bdb5148a885d69f5c145078de">celt_decode_final_energy</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_opus_range_coder.html">OpusRangeCoder</a> *rc)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">int</span> priority, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">int</span> bits_left = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits - <a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">for</span> (priority = 0; priority &lt; 2; priority++) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band; i &lt; f-&gt;end_band &amp;&amp; bits_left &gt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;fine_priority[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != priority || <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;fine_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <a class="code" href="opus__celt_8h.html#ab5799791ebc03c73d77e43edebde0c77">CELT_MAX_FINE_BITS</a>)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels; j++) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="keywordtype">int</span> q2;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                q2 = <a class="code" href="opus__rc_8c.html#a9f761fd87b3c54869c06153a49e596d5">ff_opus_rc_get_raw</a>(rc, 1);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = (q2 - 0.5f) * (1 &lt;&lt; (14 - <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;fine_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1)) / 16384.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[j].energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] += <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                bits_left--;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#ade097de8117a11fbba1907a11a180415">  119</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#ade097de8117a11fbba1907a11a180415">celt_decode_tf_changes</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_opus_range_coder.html">OpusRangeCoder</a> *rc)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = 0, tf_select = 0, tf_changed = 0, tf_select_bit;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">int</span> consumed, <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient ? 2 : 4;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    consumed = <a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    tf_select_bit = (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size != 0 &amp;&amp; consumed+<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>+1 &lt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band; i &lt; f-&gt;end_band; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> (consumed+<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>+tf_select_bit &lt;= f-&gt;framebits) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> ^= <a class="code" href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a>(rc, <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            consumed = <a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            tf_changed |= <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;tf_change[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient ? 4 : 5;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (tf_select_bit &amp;&amp; <a class="code" href="opustab_8c.html#a69ef403d8e5049b2d8601d341075f486">ff_celt_tf_select</a>[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size][<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient][0][tf_changed] !=</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                         <a class="code" href="opustab_8c.html#a69ef403d8e5049b2d8601d341075f486">ff_celt_tf_select</a>[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size][<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient][1][tf_changed])</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        tf_select = <a class="code" href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a>(rc, 1);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band; i &lt; f-&gt;end_band; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;tf_change[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="opustab_8c.html#a69ef403d8e5049b2d8601d341075f486">ff_celt_tf_select</a>[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size][<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient][tf_select][<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;tf_change[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#a48029d7c06567214acafe8b0a212a0b4">  146</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#a48029d7c06567214acafe8b0a212a0b4">celt_denormalize</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <span class="keywordtype">float</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band; i &lt; f-&gt;end_band; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordtype">float</span> *dst = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> + (<a class="code" href="opustab_8c.html#a3ef78bee61b2001c10f6e083c3fcf96d">ff_celt_freq_bands</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordtype">float</span> log_norm = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code" href="opustab_8c.html#ae2412b4f9f133862d9c33b66caa7c088">ff_celt_mean_energy</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordtype">float</span> norm = <a class="code" href="libm_8h.html#ab10a740fa7e188e74fe93f9c0bd2a5b3">exp2f</a>(<a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(log_norm, 32.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="opustab_8c.html#a02cce71fc3a6b9de006cd2255acf14b2">ff_celt_freq_range</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size; j++)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            dst[j] *= norm;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#ac85aa7143612ab6aa8f54a4ca3a98df2">  160</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#ac85aa7143612ab6aa8f54a4ca3a98df2">celt_postfilter_apply_transition</a>(<a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <span class="keywordtype">float</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> T0 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period_old;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> T1 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">float</span> g00, g01, g02;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordtype">float</span> g10, g11, g12;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordtype">float</span> x0, x1, x2, x3, x4;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains[0]     == 0.0 &amp;&amp;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old[0] == 0.0)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    g00 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old[0];</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    g01 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old[1];</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    g02 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old[2];</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    g10 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains[0];</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    g11 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains[1];</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    g12 = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains[2];</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    x1 = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[-T1 + 1];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    x2 = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[-T1];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    x3 = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[-T1 - 1];</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    x4 = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[-T1 - 2];</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = <a class="code" href="opustab_8c.html#ae18d3c8856023f7797f3afa28f9caaa6">ff_celt_window2</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        x0 = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - T1 + 2];</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] +=  (1.0 - <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>) * g00 * <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - T0]                          +</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    (1.0 - <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>) * g01 * (<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - T0 - 1] + <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - T0 + 1]) +</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    (1.0 - <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>) * g02 * (<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - T0 - 2] + <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - T0 + 2]) +</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>         * g10 * x2                                    +</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>         * g11 * (x1 + x3)                             +</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>         * g12 * (x0 + x4);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        x4 = x3;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        x3 = x2;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        x2 = x1;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        x1 = x0;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#ab592bcda2877d0239a76b2c5664108b5">  205</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#ab592bcda2877d0239a76b2c5664108b5">celt_postfilter</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocksize * <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocks;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> filter_len = <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> - 2 * <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="opus__celt_8c.html#ac85aa7143612ab6aa8f54a4ca3a98df2">celt_postfilter_apply_transition</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf + 1024);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period_old = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period_new;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_new, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains));</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt; <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a>) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="opus__celt_8c.html#ac85aa7143612ab6aa8f54a4ca3a98df2">celt_postfilter_apply_transition</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf + 1024 + <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains[0] &gt; FLT_EPSILON &amp;&amp; filter_len &gt; 0)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;opusdsp.postfilter(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf + 1024 + 2 * <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                  <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                  filter_len);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period_old = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    memmove(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf + <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, (1024 + <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a> / 2) * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#a9a5c08c505be6073fd5d672e7f77a43c">  233</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="opus__celt_8c.html#a9a5c08c505be6073fd5d672e7f77a43c">parse_postfilter</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_opus_range_coder.html">OpusRangeCoder</a> *rc, <span class="keywordtype">int</span> consumed)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].pf_gains_new, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].pf_gains_new));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].pf_gains_new, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].pf_gains_new));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band == 0 &amp;&amp; consumed + 16 &lt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">int</span> has_postfilter = <a class="code" href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a>(rc, 1);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">if</span> (has_postfilter) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordtype">float</span> gain;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordtype">int</span> tapset, octave, <a class="code" href="writing__filters_8txt.html#a7d62873e0d35fb5d679f0c3f668cf220">period</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            octave = <a class="code" href="opus__rc_8c.html#a11570adec89b51f06a5bfbd1d98c68b5">ff_opus_rc_dec_uint</a>(rc, 6);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <a class="code" href="writing__filters_8txt.html#a7d62873e0d35fb5d679f0c3f668cf220">period</a> = (16 &lt;&lt; octave) + <a class="code" href="opus__rc_8c.html#a9f761fd87b3c54869c06153a49e596d5">ff_opus_rc_get_raw</a>(rc, 4 + octave) - 1;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            gain   = 0.09375f * (<a class="code" href="opus__rc_8c.html#a9f761fd87b3c54869c06153a49e596d5">ff_opus_rc_get_raw</a>(rc, 3) + 1);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            tapset = (<a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc) + 2 &lt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits) ?</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                     <a class="code" href="opus__rc_8c.html#a8f07c6d16221f0ff2a3933ee71a39adf">ff_opus_rc_dec_cdf</a>(rc, <a class="code" href="opustab_8c.html#a4eaa2fd3acf781a54a0ae7763d00ccdf">ff_celt_model_tapset</a>) : 0;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_period_new = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="writing__filters_8txt.html#a7d62873e0d35fb5d679f0c3f668cf220">period</a>, <a class="code" href="opus__celt_8h.html#a9994cab3ee918f456b3e7449fd1b60a2">CELT_POSTFILTER_MINPERIOD</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_new[0] = gain * <a class="code" href="opustab_8c.html#aea97aa794d9960c7396eff310dbaf1f5">ff_celt_postfilter_taps</a>[tapset][0];</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_new[1] = gain * <a class="code" href="opustab_8c.html#aea97aa794d9960c7396eff310dbaf1f5">ff_celt_postfilter_taps</a>[tapset][1];</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_new[2] = gain * <a class="code" href="opustab_8c.html#aea97aa794d9960c7396eff310dbaf1f5">ff_celt_postfilter_taps</a>[tapset][2];</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        consumed = <a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> consumed;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="opus__celt_8c.html#aae9bea776d93fff6b0dd4cad4fd1e491">  268</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#aae9bea776d93fff6b0dd4cad4fd1e491">process_anticollapse</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <span class="keywordtype">float</span> *<a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba58833a3110c570fb05130d40c365d1e4">X</a>)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band; i &lt; f-&gt;end_band; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordtype">int</span> renormalize = 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordtype">float</span> *xptr;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordtype">float</span> prev[2];</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordtype">float</span> Ediff, <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordtype">float</span> thresh, sqrt_1;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordtype">int</span> depth;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">/* depth in 1/8 bits */</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        depth = (1 + <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;pulses[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) / (<a class="code" href="opustab_8c.html#a02cce71fc3a6b9de006cd2255acf14b2">ff_celt_freq_range</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        thresh = <a class="code" href="libm_8h.html#ab10a740fa7e188e74fe93f9c0bd2a5b3">exp2f</a>(-1.0 - 0.125<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> * depth);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        sqrt_1 = 1.0f / sqrtf(<a class="code" href="opustab_8c.html#a02cce71fc3a6b9de006cd2255acf14b2">ff_celt_freq_range</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        xptr = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba58833a3110c570fb05130d40c365d1e4">X</a> + (<a class="code" href="opustab_8c.html#a3ef78bee61b2001c10f6e083c3fcf96d">ff_celt_freq_bands</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        prev[0] = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        prev[1] = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels == 1) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="struct_celt_block.html">CeltBlock</a> *block1 = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1];</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            prev[0] = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(prev[0], block1-&gt;<a class="code" href="struct_celt_block.html#a65c294819be5dfd521d12cb0fb815799">prev_energy</a>[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            prev[1] = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(prev[1], block1-&gt;<a class="code" href="struct_celt_block.html#a65c294819be5dfd521d12cb0fb815799">prev_energy</a>[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        Ediff = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(prev[0], prev[1]);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        Ediff = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, Ediff);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment">/* r needs to be multiplied by 2 or 2*sqrt(2) depending on LM because</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">        short blocks don&#39;t have the same energy as long */</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> = <a class="code" href="libm_8h.html#ab10a740fa7e188e74fe93f9c0bd2a5b3">exp2f</a>(1 - Ediff);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size == 3)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> *= <a class="code" href="mathematics_8h.html#a66b3ab30f1332874326ed93969e496e0">M_SQRT2</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(thresh, <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>) * sqrt_1;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">for</span> (k = 0; k &lt; 1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size; k++) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="comment">/* Detect collapse */</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (!(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;collapse_masks[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp; 1 &lt;&lt; k)) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="comment">/* Fill with noise */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="opustab_8c.html#a02cce71fc3a6b9de006cd2255acf14b2">ff_celt_freq_range</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; j++)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    xptr[(j &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size) + k] = (<a class="code" href="opus__celt_8h.html#a01a5f958314fe61cd5e90df8495da701">celt_rng</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>) &amp; 0x8000) ? <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> : -<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                renormalize = 1;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="comment">/* We just added some energy, so we need to renormalize */</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (renormalize)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="opus__celt_8h.html#a229037e59bafd49effcbe3c654e72a86">celt_renormalize_vector</a>(xptr, <a class="code" href="opustab_8c.html#a02cce71fc3a6b9de006cd2255acf14b2">ff_celt_freq_range</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size, 1.0f);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="opus__celt_8h.html#a8d8030a25d5339c4a0a3c8c4b0dbce10">  320</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="opus__celt_8c.html#a7f369e31d0f0bb75916cb9e449dae821">ff_celt_decode_frame</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_opus_range_coder.html">OpusRangeCoder</a> *rc,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                         <span class="keywordtype">float</span> **<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>, <span class="keywordtype">int</span> <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>, <span class="keywordtype">int</span> <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                         <span class="keywordtype">int</span> start_band,  <span class="keywordtype">int</span> end_band)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, downmix = 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordtype">int</span> consumed;           <span class="comment">// bits of entropy consumed thus far for this frame</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="struct_m_d_c_t15_context.html">MDCT15Context</a> *imdct;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a> != 1 &amp;&amp; <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a> != 2) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid number of coded channels: %d\n&quot;</span>,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;               <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (start_band &lt; 0 || start_band &gt; end_band || end_band &gt; <a class="code" href="opus_8h.html#ab20adf1ddf763aaffdcfe2389c68a6e8">CELT_MAX_BANDS</a>) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid start/end band: %d %d\n&quot;</span>,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;               start_band, end_band);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;silence        = 0;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient      = 0;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;anticollapse   = 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;flushed        = 0;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels       = <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band     = start_band;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;end_band       = end_band;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits      = rc-&gt;<a class="code" href="struct_opus_range_coder.html#ab902d1137b9711e5de7202a044470499">rb</a>.<a class="code" href="struct_raw_bits_context.html#a2ddf28692dab2e541c9c9b3c04432189">bytes</a> * 8;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> / <a class="code" href="opus_8h.html#a4d6eb140580ed6e63631455e6b293349">CELT_SHORT_BLOCKSIZE</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size &gt; <a class="code" href="opus_8h.html#a3bb3234069e525ed18b9dba4405ed990">CELT_MAX_LOG_BLOCKS</a> ||</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> != <a class="code" href="opus_8h.html#a4d6eb140580ed6e63631455e6b293349">CELT_SHORT_BLOCKSIZE</a> * (1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size)) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid CELT frame size: %d\n&quot;</span>,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;               <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;output_channels)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;output_channels = <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        memset(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].coeffs,         0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].coeffs));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        memset(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].collapse_masks, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].collapse_masks));</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    consumed = <a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">/* obtain silence flag */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (consumed &gt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;silence = 1;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (consumed == 1)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;silence = <a class="code" href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a>(rc, 15);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;silence) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        consumed = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        rc-&gt;<a class="code" href="struct_opus_range_coder.html#ae3edc9813eea71d5de665230aa7f93bf">total_bits</a> += <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits - <a class="code" href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a>(rc);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">/* obtain post-filter options */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    consumed = <a class="code" href="opus__celt_8c.html#a9a5c08c505be6073fd5d672e7f77a43c">parse_postfilter</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, rc, consumed);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">/* obtain transient flag */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size != 0 &amp;&amp; consumed+3 &lt;= <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;framebits)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient = <a class="code" href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a>(rc, 3);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocks    = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient ? 1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size : 1;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocksize = <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> / <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocks;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    imdct = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;imdct[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient ? 0 : <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;size];</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a> == 1) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="opus_8h.html#ab20adf1ddf763aaffdcfe2389c68a6e8">CELT_MAX_BANDS</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].energy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="opus__celt_8c.html#a76f5c3a68dbced0f524641fc3766df6f">celt_decode_coarse_energy</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, rc);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="opus__celt_8c.html#ade097de8117a11fbba1907a11a180415">celt_decode_tf_changes</a>   (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, rc);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="opus_8c.html#adbdbcbab6105ace3dee88c4e82f308e4">ff_celt_bitalloc</a>         (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, rc, 0);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="opus__celt_8c.html#abe2398ee6be160f841df7bdb05c32069">celt_decode_fine_energy</a>  (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, rc);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="opus_8c.html#aa664dee9d1d8230685975511748812c4">ff_celt_quant_bands</a>      (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, rc);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;anticollapse_needed)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;anticollapse = <a class="code" href="opus__rc_8c.html#a9f761fd87b3c54869c06153a49e596d5">ff_opus_rc_get_raw</a>(rc, 1);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="opus__celt_8c.html#aae6e009bdb5148a885d69f5c145078de">celt_decode_final_energy</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, rc);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">/* apply anti-collapse processing and denormalization to</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">     * each coded channel */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;anticollapse)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <a class="code" href="opus__celt_8c.html#aae9bea776d93fff6b0dd4cad4fd1e491">process_anticollapse</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].coeffs);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="opus__celt_8c.html#a48029d7c06567214acafe8b0a212a0b4">celt_denormalize</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].coeffs);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">/* stereo -&gt; mono downmix */</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;output_channels &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;dsp-&gt;vector_fmac_scalar(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].coeffs, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].coeffs, 1.0, <a class="code" href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a>(<a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>, 16));</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        downmix = 1;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;output_channels &gt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;channels)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].coeffs, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].coeffs, <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;silence) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy); j++)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[j] = <a class="code" href="opus__celt_8h.html#aa2ea4b792193632df88d18d063c76d8b">CELT_ENERGY_SILENCE</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        memset(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].coeffs, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].coeffs));</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        memset(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].coeffs, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].coeffs));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">/* transform and output for each output channel */</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;output_channels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="comment">/* iMDCT and overlap-add */</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocks; j++) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordtype">float</span> *dst  = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf + 1024 + j * <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocksize;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            imdct-&gt;<a class="code" href="struct_m_d_c_t15_context.html#a6500832ad3c15d2c4f1ca3093a012da4">imdct_half</a>(imdct, dst + <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a> / 2, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].coeffs + j,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                              <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;blocks);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;dsp-&gt;vector_fmul_window(dst, dst, dst + <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a> / 2,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                                       <a class="code" href="opustab_8c.html#a2af08d377eca2ca21a3bc82026d16f56">ff_celt_window</a>, <a class="code" href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a> / 2);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">if</span> (downmix)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;dsp-&gt;vector_fmul_scalar(&amp;<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf[1024], &amp;<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf[1024], 0.5f, <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="comment">/* postfilter */</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <a class="code" href="opus__celt_8c.html#ab592bcda2877d0239a76b2c5664108b5">celt_postfilter</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="comment">/* deemphasis */</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;emph_coeff = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;opusdsp.deemphasis(<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                                  &amp;<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf[1024 - <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>],</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                                  <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;emph_coeff, <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a> == 1)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[1].energy, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].energy, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[0].energy));</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++ ) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;transient) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[1], <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0], <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0]));</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0], <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy,         <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0]));</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="opus_8h.html#ab20adf1ddf763aaffdcfe2389c68a6e8">CELT_MAX_BANDS</a>; j++)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0][j] = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0][j], <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[j]);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;start_band; j++) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0][j] = <a class="code" href="opus__celt_8h.html#aa2ea4b792193632df88d18d063c76d8b">CELT_ENERGY_SILENCE</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[j]         = 0.0;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">for</span> (j = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;end_band; j &lt; <a class="code" href="opus_8h.html#ab20adf1ddf763aaffdcfe2389c68a6e8">CELT_MAX_BANDS</a>; j++) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0][j] = <a class="code" href="opus__celt_8h.html#aa2ea4b792193632df88d18d063c76d8b">CELT_ENERGY_SILENCE</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy[j]         = 0.0;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;seed = rc-&gt;<a class="code" href="struct_opus_range_coder.html#af57046d2eb5e99e3e0cf9d19d6ace76d">range</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="opus__celt_8h.html#adb78af194a2fe221844f1de6b6aa54a6">  490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#adb78af194a2fe221844f1de6b6aa54a6">ff_celt_flush</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;flushed)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="struct_celt_block.html">CeltBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="opus_8h.html#ab20adf1ddf763aaffdcfe2389c68a6e8">CELT_MAX_BANDS</a>; j++)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[0][j] = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;prev_energy[1][j] = <a class="code" href="opus__celt_8h.html#aa2ea4b792193632df88d18d063c76d8b">CELT_ENERGY_SILENCE</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        memset(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy, 0, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;energy));</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        memset(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf,    0, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;buf));</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        memset(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains,     0, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains));</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        memset(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old, 0, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_old));</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        memset(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_new, 0, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;pf_gains_new));</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="comment">/* libopus uses CELT_EMPH_COEFF on init, but 0 is better since there&#39;s</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">         * a lesser discontinuity when seeking.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">         * The deemphasis functions differ from libopus in that they require</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">         * an initial state divided by the coefficient. */</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;emph_coeff = 0.0f / <a class="code" href="opusdsp_8h.html#a4c5f1276b887aa4007112053b6d16365">CELT_EMPH_COEFF</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;seed = 0;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;flushed = 1;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="opus__celt_8h.html#a13ae5d4134043d07a70c75f9d999c874">  521</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="opus__celt_8c.html#a13ae5d4134043d07a70c75f9d999c874">ff_celt_free</a>(<a class="code" href="struct_celt_frame.html">CeltFrame</a> **<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="struct_celt_frame.html">CeltFrame</a> *frm = *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (!frm)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(frm-&gt;<a class="code" href="struct_celt_frame.html#a8c22ad13241fa5cad39a9e136b4576e1">imdct</a>); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="mdct15_8c.html#a0404f2d334b8c08ae549db8d70de18de">ff_mdct15_uninit</a>(&amp;frm-&gt;<a class="code" href="struct_celt_frame.html#a8c22ad13241fa5cad39a9e136b4576e1">imdct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="opus__pvq_8c.html#a50203575d295ccabb9ba72cfeb9004e3">ff_celt_pvq_uninit</a>(&amp;frm-&gt;<a class="code" href="struct_celt_frame.html#ab59bbb4abba7740d1b039065d653c5e5">pvq</a>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;frm-&gt;<a class="code" href="struct_celt_frame.html#a8d15e0bb7e1d2889023ae65e1bd5e8b5">dsp</a>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="opus__celt_8h.html#a638a8a4771587840b2aef3936ba70085">  538</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="opus__celt_8c.html#a638a8a4771587840b2aef3936ba70085">ff_celt_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_celt_frame.html">CeltFrame</a> **<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <span class="keywordtype">int</span> output_channels,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                 <span class="keywordtype">int</span> apply_phase_inv)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;{</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="struct_celt_frame.html">CeltFrame</a> *frm;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">if</span> (output_channels != 1 &amp;&amp; output_channels != 2) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid number of output channels: %d\n&quot;</span>,</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;               output_channels);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    frm = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*frm));</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span> (!frm)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    frm-&gt;<a class="code" href="struct_celt_frame.html#a59865af71de931a10765f06b9064373b">avctx</a>           = avctx;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    frm-&gt;<a class="code" href="struct_celt_frame.html#acaf9babeb0f49a6b3acb8d9f407709e8">output_channels</a> = output_channels;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    frm-&gt;<a class="code" href="struct_celt_frame.html#a89fb74b66873844ddccfd409affcd5ca">apply_phase_inv</a> = apply_phase_inv;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(frm-&gt;<a class="code" href="struct_celt_frame.html#a8c22ad13241fa5cad39a9e136b4576e1">imdct</a>); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mdct15_8c.html#add736843175ec54bb031e29cfb96031b">ff_mdct15_init</a>(&amp;frm-&gt;<a class="code" href="struct_celt_frame.html#a8c22ad13241fa5cad39a9e136b4576e1">imdct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], 1, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 3, -1.0f/32768)) &lt; 0)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="opus__pvq_8c.html#a4b9e0e5765e508a8d06aca8e66bb5513">ff_celt_pvq_init</a>(&amp;frm-&gt;<a class="code" href="struct_celt_frame.html#ab59bbb4abba7740d1b039065d653c5e5">pvq</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    frm-&gt;<a class="code" href="struct_celt_frame.html#a8d15e0bb7e1d2889023ae65e1bd5e8b5">dsp</a> = <a class="code" href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (!frm-&gt;<a class="code" href="struct_celt_frame.html#a8d15e0bb7e1d2889023ae65e1bd5e8b5">dsp</a>) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="libavcodec_2opusdsp_8c.html#a8f00eb28f7d2ac8d0b157de6386092c0">ff_opus_dsp_init</a>(&amp;frm-&gt;<a class="code" href="struct_celt_frame.html#a6ca294d77ed3e05ad9a17f10e2dcee2b">opusdsp</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="opus__celt_8c.html#adb78af194a2fe221844f1de6b6aa54a6">ff_celt_flush</a>(frm);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = frm;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="opus__celt_8c.html#a13ae5d4134043d07a70c75f9d999c874">ff_celt_free</a>(&amp;frm);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aopustab_8c_html_aea97aa794d9960c7396eff310dbaf1f5"><div class="ttname"><a href="opustab_8c.html#aea97aa794d9960c7396eff310dbaf1f5">ff_celt_postfilter_taps</a></div><div class="ttdeci">const float ff_celt_postfilter_taps[3][3]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l01096">opustab.c:1096</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_a76f5c3a68dbced0f524641fc3766df6f"><div class="ttname"><a href="opus__celt_8c.html#a76f5c3a68dbced0f524641fc3766df6f">celt_decode_coarse_energy</a></div><div class="ttdeci">static void celt_decode_coarse_energy(CeltFrame *f, OpusRangeCoder *rc)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00034">opus_celt.c:34</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_ac85aa7143612ab6aa8f54a4ca3a98df2"><div class="ttname"><a href="opus__celt_8c.html#ac85aa7143612ab6aa8f54a4ca3a98df2">celt_postfilter_apply_transition</a></div><div class="ttdeci">static void celt_postfilter_apply_transition(CeltBlock *block, float *data)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00160">opus_celt.c:160</a></div></div>
<div class="ttc" id="avf__curves_8c_html_a33ac7b8ce37a3a60855883424fcf8b62"><div class="ttname"><a href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a></div><div class="ttdeci">const char * r</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00114">vf_curves.c:114</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopustab_8c_html_a3ef78bee61b2001c10f6e083c3fcf96d"><div class="ttname"><a href="opustab_8c.html#a3ef78bee61b2001c10f6e083c3fcf96d">ff_celt_freq_bands</a></div><div class="ttdeci">const uint8_t ff_celt_freq_bands[]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00766">opustab.c:766</a></div></div>
<div class="ttc" id="astruct_m_d_c_t15_context_html_a6500832ad3c15d2c4f1ca3093a012da4"><div class="ttname"><a href="struct_m_d_c_t15_context.html#a6500832ad3c15d2c4f1ca3093a012da4">MDCT15Context::imdct_half</a></div><div class="ttdeci">void(* imdct_half)(struct MDCT15Context *s, float *dst, const float *src, ptrdiff_t stride)</div><div class="ttdef"><b>Definition:</b> <a href="mdct15_8h_source.html#l00052">mdct15.h:52</a></div></div>
<div class="ttc" id="aopus__rc_8c_html_a9f761fd87b3c54869c06153a49e596d5"><div class="ttname"><a href="opus__rc_8c.html#a9f761fd87b3c54869c06153a49e596d5">ff_opus_rc_get_raw</a></div><div class="ttdeci">uint32_t ff_opus_rc_get_raw(OpusRangeCoder *rc, uint32_t count)</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8c_source.html#l00140">opus_rc.c:140</a></div></div>
<div class="ttc" id="aopustab_8c_html_a2af08d377eca2ca21a3bc82026d16f56"><div class="ttname"><a href="opustab_8c.html#a2af08d377eca2ca21a3bc82026d16f56">ff_celt_window</a></div><div class="ttdeci">const float * ff_celt_window</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l01133">opustab.c:1133</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_adb78af194a2fe221844f1de6b6aa54a6"><div class="ttname"><a href="opus__celt_8c.html#adb78af194a2fe221844f1de6b6aa54a6">ff_celt_flush</a></div><div class="ttdeci">void ff_celt_flush(CeltFrame *f)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00490">opus_celt.c:490</a></div></div>
<div class="ttc" id="astruct_celt_frame_html_acaf9babeb0f49a6b3acb8d9f407709e8"><div class="ttname"><a href="struct_celt_frame.html#acaf9babeb0f49a6b3acb8d9f407709e8">CeltFrame::output_channels</a></div><div class="ttdeci">int output_channels</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00101">opus_celt.h:101</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_aa4e1c6357e04ee6960702c705448a76a"><div class="ttname"><a href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a></div><div class="ttdeci">filter_frame For filters that do not use the this method is called when a frame is pushed to the filter s input It can be called at any time except in a reentrant way If the input frame is enough to produce output</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00225">filter_design.txt:225</a></div></div>
<div class="ttc" id="aopustab_8c_html_a4eaa2fd3acf781a54a0ae7763d00ccdf"><div class="ttname"><a href="opustab_8c.html#a4eaa2fd3acf781a54a0ae7763d00ccdf">ff_celt_model_tapset</a></div><div class="ttdeci">const uint16_t ff_celt_model_tapset[]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00756">opustab.c:756</a></div></div>
<div class="ttc" id="astruct_opus_range_coder_html_ae3edc9813eea71d5de665230aa7f93bf"><div class="ttname"><a href="struct_opus_range_coder.html#ae3edc9813eea71d5de665230aa7f93bf">OpusRangeCoder::total_bits</a></div><div class="ttdeci">uint32_t total_bits</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8h_source.html#l00045">opus_rc.h:45</a></div></div>
<div class="ttc" id="allviddspenc_8c_html_aba9ed0487b0aa23eba534648df8384c0"><div class="ttname"><a href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a></div><div class="ttdeci">uint8_t w</div><div class="ttdef"><b>Definition:</b> <a href="llviddspenc_8c_source.html#l00038">llviddspenc.c:38</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="amdct15_8c_html_add736843175ec54bb031e29cfb96031b"><div class="ttname"><a href="mdct15_8c.html#add736843175ec54bb031e29cfb96031b">ff_mdct15_init</a></div><div class="ttdeci">av_cold int ff_mdct15_init(MDCT15Context **ps, int inverse, int N, double scale)</div><div class="ttdef"><b>Definition:</b> <a href="mdct15_8c_source.html#l00247">mdct15.c:247</a></div></div>
<div class="ttc" id="aopus__pvq_8c_html_a4b9e0e5765e508a8d06aca8e66bb5513"><div class="ttname"><a href="opus__pvq_8c.html#a4b9e0e5765e508a8d06aca8e66bb5513">ff_celt_pvq_init</a></div><div class="ttdeci">int av_cold ff_celt_pvq_init(CeltPVQ **pvq, int encode)</div><div class="ttdef"><b>Definition:</b> <a href="opus__pvq_8c_source.html#l00897">opus_pvq.c:897</a></div></div>
<div class="ttc" id="aopus__rc_8h_html_a688a17ae0387c6ebc06bceba1253d4ca"><div class="ttname"><a href="opus__rc_8h.html#a688a17ae0387c6ebc06bceba1253d4ca">opus_rc_tell</a></div><div class="ttdeci">static av_always_inline uint32_t opus_rc_tell(const OpusRangeCoder *rc)</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8h_source.html#l00061">opus_rc.h:61</a></div></div>
<div class="ttc" id="aopustab_8c_html_a700cf6584c799503a67738e87c840a4e"><div class="ttname"><a href="opustab_8c.html#a700cf6584c799503a67738e87c840a4e">ff_celt_coarse_energy_dist</a></div><div class="ttdeci">const uint8_t ff_celt_coarse_energy_dist[4][2][42]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00806">opustab.c:806</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_a9a5c08c505be6073fd5d672e7f77a43c"><div class="ttname"><a href="opus__celt_8c.html#a9a5c08c505be6073fd5d672e7f77a43c">parse_postfilter</a></div><div class="ttdeci">static int parse_postfilter(CeltFrame *f, OpusRangeCoder *rc, int consumed)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00233">opus_celt.c:233</a></div></div>
<div class="ttc" id="astruct_raw_bits_context_html_a2ddf28692dab2e541c9c9b3c04432189"><div class="ttname"><a href="struct_raw_bits_context.html#a2ddf28692dab2e541c9c9b3c04432189">RawBitsContext::bytes</a></div><div class="ttdeci">uint32_t bytes</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8h_source.html#l00035">opus_rc.h:35</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba58833a3110c570fb05130d40c365d1e4"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba58833a3110c570fb05130d40c365d1e4">X</a></div><div class="ttdeci">@ X</div><div class="ttdef"><b>Definition:</b> <a href="vf__addroi_8c_source.html#l00026">vf_addroi.c:26</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_ab592bcda2877d0239a76b2c5664108b5"><div class="ttname"><a href="opus__celt_8c.html#ab592bcda2877d0239a76b2c5664108b5">celt_postfilter</a></div><div class="ttdeci">static void celt_postfilter(CeltFrame *f, CeltBlock *block)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00205">opus_celt.c:205</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_a638a8a4771587840b2aef3936ba70085"><div class="ttname"><a href="opus__celt_8c.html#a638a8a4771587840b2aef3936ba70085">ff_celt_init</a></div><div class="ttdeci">int ff_celt_init(AVCodecContext *avctx, CeltFrame **f, int output_channels, int apply_phase_inv)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00538">opus_celt.c:538</a></div></div>
<div class="ttc" id="aopus__celt_8h_html_a229037e59bafd49effcbe3c654e72a86"><div class="ttname"><a href="opus__celt_8h.html#a229037e59bafd49effcbe3c654e72a86">celt_renormalize_vector</a></div><div class="ttdeci">static av_always_inline void celt_renormalize_vector(float *X, int N, float gain)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00149">opus_celt.h:149</a></div></div>
<div class="ttc" id="astruct_opus_range_coder_html"><div class="ttname"><a href="struct_opus_range_coder.html">OpusRangeCoder</a></div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8h_source.html#l00040">opus_rc.h:40</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aopus__rc_8c_html_a11570adec89b51f06a5bfbd1d98c68b5"><div class="ttname"><a href="opus__rc_8c.html#a11570adec89b51f06a5bfbd1d98c68b5">ff_opus_rc_dec_uint</a></div><div class="ttdeci">uint32_t ff_opus_rc_dec_uint(OpusRangeCoder *rc, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8c_source.html#l00182">opus_rc.c:182</a></div></div>
<div class="ttc" id="aopus_8h_html_a4d6eb140580ed6e63631455e6b293349"><div class="ttname"><a href="opus_8h.html#a4d6eb140580ed6e63631455e6b293349">CELT_SHORT_BLOCKSIZE</a></div><div class="ttdeci">#define CELT_SHORT_BLOCKSIZE</div><div class="ttdef"><b>Definition:</b> <a href="opus_8h_source.html#l00041">opus.h:41</a></div></div>
<div class="ttc" id="astruct_opus_range_coder_html_ab902d1137b9711e5de7202a044470499"><div class="ttname"><a href="struct_opus_range_coder.html#ab902d1137b9711e5de7202a044470499">OpusRangeCoder::rb</a></div><div class="ttdeci">RawBitsContext rb</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8h_source.html#l00042">opus_rc.h:42</a></div></div>
<div class="ttc" id="amxfenc_8c_html_ad662aa56c1696f09c0ac6b97abafac6d"><div class="ttname"><a href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdef"><b>Definition:</b> <a href="mxfenc_8c_source.html#l02166">mxfenc.c:2166</a></div></div>
<div class="ttc" id="aopus__celt_8h_html_ab5799791ebc03c73d77e43edebde0c77"><div class="ttname"><a href="opus__celt_8h.html#ab5799791ebc03c73d77e43edebde0c77">CELT_MAX_FINE_BITS</a></div><div class="ttdeci">#define CELT_MAX_FINE_BITS</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00040">opus_celt.h:40</a></div></div>
<div class="ttc" id="avp3data_8h_html_a46a6da6b1936191571fd30b2a749f38c"><div class="ttname"><a href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a></div><div class="ttdeci">uint8_t bits</div><div class="ttdef"><b>Definition:</b> <a href="vp3data_8h_source.html#l00202">vp3data.h:202</a></div></div>
<div class="ttc" id="alibm_8h_html_ab10a740fa7e188e74fe93f9c0bd2a5b3"><div class="ttname"><a href="libm_8h.html#ab10a740fa7e188e74fe93f9c0bd2a5b3">exp2f</a></div><div class="ttdeci">#define exp2f(x)</div><div class="ttdef"><b>Definition:</b> <a href="libm_8h_source.html#l00293">libm.h:293</a></div></div>
<div class="ttc" id="aaptx_8h_html_ac9da8d7a4bd192b8a7dccbc024542709"><div class="ttname"><a href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a></div><div class="ttdeci">channels</div><div class="ttdef"><b>Definition:</b> <a href="aptx_8h_source.html#l00033">aptx.h:33</a></div></div>
<div class="ttc" id="astruct_celt_frame_html_a6ca294d77ed3e05ad9a17f10e2dcee2b"><div class="ttname"><a href="struct_celt_frame.html#a6ca294d77ed3e05ad9a17f10e2dcee2b">CeltFrame::opusdsp</a></div><div class="ttdeci">OpusDSP opusdsp</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00099">opus_celt.h:99</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="aopus_8c_html_adbdbcbab6105ace3dee88c4e82f308e4"><div class="ttname"><a href="opus_8c.html#adbdbcbab6105ace3dee88c4e82f308e4">ff_celt_bitalloc</a></div><div class="ttdeci">void ff_celt_bitalloc(CeltFrame *f, OpusRangeCoder *rc, int encode)</div><div class="ttdef"><b>Definition:</b> <a href="opus_8c_source.html#l00555">opus.c:555</a></div></div>
<div class="ttc" id="astruct_celt_frame_html_ab59bbb4abba7740d1b039065d653c5e5"><div class="ttname"><a href="struct_celt_frame.html#ab59bbb4abba7740d1b039065d653c5e5">CeltFrame::pvq</a></div><div class="ttdeci">CeltPVQ * pvq</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00098">opus_celt.h:98</a></div></div>
<div class="ttc" id="aopus__pvq_8c_html_a50203575d295ccabb9ba72cfeb9004e3"><div class="ttname"><a href="opus__pvq_8c.html#a50203575d295ccabb9ba72cfeb9004e3">ff_celt_pvq_uninit</a></div><div class="ttdeci">void av_cold ff_celt_pvq_uninit(CeltPVQ **pvq)</div><div class="ttdef"><b>Definition:</b> <a href="opus__pvq_8c_source.html#l00914">opus_pvq.c:914</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a7d62873e0d35fb5d679f0c3f668cf220"><div class="ttname"><a href="writing__filters_8txt.html#a7d62873e0d35fb5d679f0c3f668cf220">period</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option keep it simple and lowercase description are in without period</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00089">writing_filters.txt:89</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_ade097de8117a11fbba1907a11a180415"><div class="ttname"><a href="opus__celt_8c.html#ade097de8117a11fbba1907a11a180415">celt_decode_tf_changes</a></div><div class="ttdeci">static void celt_decode_tf_changes(CeltFrame *f, OpusRangeCoder *rc)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00119">opus_celt.c:119</a></div></div>
<div class="ttc" id="aopus_8h_html_ab20adf1ddf763aaffdcfe2389c68a6e8"><div class="ttname"><a href="opus_8h.html#ab20adf1ddf763aaffdcfe2389c68a6e8">CELT_MAX_BANDS</a></div><div class="ttdeci">#define CELT_MAX_BANDS</div><div class="ttdef"><b>Definition:</b> <a href="opus_8h_source.html#l00045">opus.h:45</a></div></div>
<div class="ttc" id="aopustab_8c_html_a02cce71fc3a6b9de006cd2255acf14b2"><div class="ttname"><a href="opustab_8c.html#a02cce71fc3a6b9de006cd2255acf14b2">ff_celt_freq_range</a></div><div class="ttdeci">const uint8_t ff_celt_freq_range[]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00770">opustab.c:770</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="aopus__celt_8h_html_aa2ea4b792193632df88d18d063c76d8b"><div class="ttname"><a href="opus__celt_8h.html#aa2ea4b792193632df88d18d063c76d8b">CELT_ENERGY_SILENCE</a></div><div class="ttdeci">#define CELT_ENERGY_SILENCE</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00045">opus_celt.h:45</a></div></div>
<div class="ttc" id="aopustab_8h_html"><div class="ttname"><a href="opustab_8h.html">opustab.h</a></div></div>
<div class="ttc" id="astruct_celt_frame_html_a89fb74b66873844ddccfd409affcd5ca"><div class="ttname"><a href="struct_celt_frame.html#a89fb74b66873844ddccfd409affcd5ca">CeltFrame::apply_phase_inv</a></div><div class="ttdeci">int apply_phase_inv</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00102">opus_celt.h:102</a></div></div>
<div class="ttc" id="aopus__pvq_8h_html"><div class="ttname"><a href="opus__pvq_8h.html">opus_pvq.h</a></div></div>
<div class="ttc" id="astruct_celt_frame_html_a59865af71de931a10765f06b9064373b"><div class="ttname"><a href="struct_celt_frame.html#a59865af71de931a10765f06b9064373b">CeltFrame::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00094">opus_celt.h:94</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_abe2398ee6be160f841df7bdb05c32069"><div class="ttname"><a href="opus__celt_8c.html#abe2398ee6be160f841df7bdb05c32069">celt_decode_fine_energy</a></div><div class="ttdeci">static void celt_decode_fine_energy(CeltFrame *f, OpusRangeCoder *rc)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00078">opus_celt.c:78</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_a13ae5d4134043d07a70c75f9d999c874"><div class="ttname"><a href="opus__celt_8c.html#a13ae5d4134043d07a70c75f9d999c874">ff_celt_free</a></div><div class="ttdeci">void ff_celt_free(CeltFrame **f)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00521">opus_celt.c:521</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_a48029d7c06567214acafe8b0a212a0b4"><div class="ttname"><a href="opus__celt_8c.html#a48029d7c06567214acafe8b0a212a0b4">celt_denormalize</a></div><div class="ttdeci">static void celt_denormalize(CeltFrame *f, CeltBlock *block, float *data)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00146">opus_celt.c:146</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00606">avcodec.h:606</a></div></div>
<div class="ttc" id="aopustab_8c_html_ae18d3c8856023f7797f3afa28f9caaa6"><div class="ttname"><a href="opustab_8c.html#ae18d3c8856023f7797f3afa28f9caaa6">ff_celt_window2</a></div><div class="ttdeci">const float ff_celt_window2[120]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l01136">opustab.c:1136</a></div></div>
<div class="ttc" id="aopus__celt_8h_html_a01a5f958314fe61cd5e90df8495da701"><div class="ttname"><a href="opus__celt_8h.html#a01a5f958314fe61cd5e90df8495da701">celt_rng</a></div><div class="ttdeci">static av_always_inline uint32_t celt_rng(CeltFrame *f)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00143">opus_celt.h:143</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="aopustab_8c_html_a69ef403d8e5049b2d8601d341075f486"><div class="ttname"><a href="opustab_8c.html#a69ef403d8e5049b2d8601d341075f486">ff_celt_tf_select</a></div><div class="ttdeci">const int8_t ff_celt_tf_select[4][2][2][2]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00780">opustab.c:780</a></div></div>
<div class="ttc" id="astruct_opus_range_coder_html_af57046d2eb5e99e3e0cf9d19d6ace76d"><div class="ttname"><a href="struct_opus_range_coder.html#af57046d2eb5e99e3e0cf9d19d6ace76d">OpusRangeCoder::range</a></div><div class="ttdeci">uint32_t range</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8h_source.html#l00043">opus_rc.h:43</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="aopustab_8c_html_ace1aade40c4eb4b10cf291e69a6ed1da"><div class="ttname"><a href="opustab_8c.html#ace1aade40c4eb4b10cf291e69a6ed1da">ff_celt_beta_coef</a></div><div class="ttdeci">const float ff_celt_beta_coef[]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00802">opustab.c:802</a></div></div>
<div class="ttc" id="astruct_celt_block_html_a65c294819be5dfd521d12cb0fb815799"><div class="ttname"><a href="struct_celt_block.html#a65c294819be5dfd521d12cb0fb815799">CeltBlock::prev_energy</a></div><div class="ttdeci">float prev_energy[2][CELT_MAX_BANDS]</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00069">opus_celt.h:69</a></div></div>
<div class="ttc" id="aopus__rc_8c_html_a8f07c6d16221f0ff2a3933ee71a39adf"><div class="ttname"><a href="opus__rc_8c.html#a8f07c6d16221f0ff2a3933ee71a39adf">ff_opus_rc_dec_cdf</a></div><div class="ttdeci">uint32_t ff_opus_rc_dec_cdf(OpusRangeCoder *rc, const uint16_t *cdf)</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8c_source.html#l00090">opus_rc.c:90</a></div></div>
<div class="ttc" id="aopus__rc_8c_html_ae5a637bf186a544e83c275310deb3b9e"><div class="ttname"><a href="opus__rc_8c.html#ae5a637bf186a544e83c275310deb3b9e">ff_opus_rc_dec_laplace</a></div><div class="ttdeci">int ff_opus_rc_dec_laplace(OpusRangeCoder *rc, uint32_t symbol, int decay)</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8c_source.html#l00275">opus_rc.c:275</a></div></div>
<div class="ttc" id="aopus_8h_html_a3bb3234069e525ed18b9dba4405ed990"><div class="ttname"><a href="opus_8h.html#a3bb3234069e525ed18b9dba4405ed990">CELT_MAX_LOG_BLOCKS</a></div><div class="ttdeci">#define CELT_MAX_LOG_BLOCKS</div><div class="ttdef"><b>Definition:</b> <a href="opus_8h_source.html#l00043">opus.h:43</a></div></div>
<div class="ttc" id="astruct_celt_frame_html"><div class="ttname"><a href="struct_celt_frame.html">CeltFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00092">opus_celt.h:92</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ae1f616347c13c08d2255bb22a3263fe4"><div class="ttname"><a href="filter__design_8txt.html#ae1f616347c13c08d2255bb22a3263fe4">available</a></div><div class="ttdeci">if no frame is available</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00166">filter_design.txt:166</a></div></div>
<div class="ttc" id="aopus__celt_8h_html"><div class="ttname"><a href="opus__celt_8h.html">opus_celt.h</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a09f9d0cee65cb17a34e6e6d313c44b76"><div class="ttname"><a href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default value</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_aae6e009bdb5148a885d69f5c145078de"><div class="ttname"><a href="opus__celt_8c.html#aae6e009bdb5148a885d69f5c145078de">celt_decode_final_energy</a></div><div class="ttdeci">static void celt_decode_final_energy(CeltFrame *f, OpusRangeCoder *rc)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00097">opus_celt.c:97</a></div></div>
<div class="ttc" id="amdct15_8c_html_a0404f2d334b8c08ae549db8d70de18de"><div class="ttname"><a href="mdct15_8c.html#a0404f2d334b8c08ae549db8d70de18de">ff_mdct15_uninit</a></div><div class="ttdeci">av_cold void ff_mdct15_uninit(MDCT15Context **ps)</div><div class="ttdef"><b>Definition:</b> <a href="mdct15_8c_source.html#l00043">mdct15.c:43</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="aopus__celt_8h_html_a9994cab3ee918f456b3e7449fd1b60a2"><div class="ttname"><a href="opus__celt_8h.html#a9994cab3ee918f456b3e7449fd1b60a2">CELT_POSTFILTER_MINPERIOD</a></div><div class="ttdeci">#define CELT_POSTFILTER_MINPERIOD</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00044">opus_celt.h:44</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_a7f369e31d0f0bb75916cb9e449dae821"><div class="ttname"><a href="opus__celt_8c.html#a7f369e31d0f0bb75916cb9e449dae821">ff_celt_decode_frame</a></div><div class="ttdeci">int ff_celt_decode_frame(CeltFrame *f, OpusRangeCoder *rc, float **output, int channels, int frame_size, int start_band, int end_band)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00320">opus_celt.c:320</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="aopusdsp_8h_html_a4c5f1276b887aa4007112053b6d16365"><div class="ttname"><a href="opusdsp_8h.html#a4c5f1276b887aa4007112053b6d16365">CELT_EMPH_COEFF</a></div><div class="ttdeci">#define CELT_EMPH_COEFF</div><div class="ttdef"><b>Definition:</b> <a href="opusdsp_8h_source.html#l00024">opusdsp.h:24</a></div></div>
<div class="ttc" id="aopustab_8c_html_a4892e4f64eaa660194101e105334576a"><div class="ttname"><a href="opustab_8c.html#a4892e4f64eaa660194101e105334576a">ff_celt_model_energy_small</a></div><div class="ttdeci">const uint16_t ff_celt_model_energy_small[]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00764">opustab.c:764</a></div></div>
<div class="ttc" id="alibavcodec_2opusdsp_8c_html_a8f00eb28f7d2ac8d0b157de6386092c0"><div class="ttname"><a href="libavcodec_2opusdsp_8c.html#a8f00eb28f7d2ac8d0b157de6386092c0">ff_opus_dsp_init</a></div><div class="ttdeci">av_cold void ff_opus_dsp_init(OpusDSP *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2opusdsp_8c_source.html#l00052">opusdsp.c:52</a></div></div>
<div class="ttc" id="aopus_8c_html_aa664dee9d1d8230685975511748812c4"><div class="ttname"><a href="opus_8c.html#aa664dee9d1d8230685975511748812c4">ff_celt_quant_bands</a></div><div class="ttdeci">void ff_celt_quant_bands(CeltFrame *f, OpusRangeCoder *rc)</div><div class="ttdef"><b>Definition:</b> <a href="opus_8c_source.html#l00446">opus.c:446</a></div></div>
<div class="ttc" id="astruct_celt_frame_html_a8c22ad13241fa5cad39a9e136b4576e1"><div class="ttname"><a href="struct_celt_frame.html#a8c22ad13241fa5cad39a9e136b4576e1">CeltFrame::imdct</a></div><div class="ttdeci">MDCT15Context * imdct[4]</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00095">opus_celt.h:95</a></div></div>
<div class="ttc" id="aopustab_8c_html_a87a19c6fd3b9c1432366f6da33b946b1"><div class="ttname"><a href="opustab_8c.html#a87a19c6fd3b9c1432366f6da33b946b1">ff_celt_alpha_coef</a></div><div class="ttdeci">const float ff_celt_alpha_coef[]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00798">opustab.c:798</a></div></div>
<div class="ttc" id="astruct_m_d_c_t15_context_html"><div class="ttname"><a href="struct_m_d_c_t15_context.html">MDCT15Context</a></div><div class="ttdef"><b>Definition:</b> <a href="mdct15_8h_source.html#l00028">mdct15.h:28</a></div></div>
<div class="ttc" id="astruct_celt_block_html"><div class="ttname"><a href="struct_celt_block.html">CeltBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00065">opus_celt.h:65</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga17ae68044f725fd5ba26c54162b96490"><div class="ttname"><a href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a></div><div class="ttdeci">#define AV_CODEC_FLAG_BITEXACT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00333">avcodec.h:333</a></div></div>
<div class="ttc" id="aopus__celt_8c_html_aae9bea776d93fff6b0dd4cad4fd1e491"><div class="ttname"><a href="opus__celt_8c.html#aae9bea776d93fff6b0dd4cad4fd1e491">process_anticollapse</a></div><div class="ttdeci">static void process_anticollapse(CeltFrame *f, CeltBlock *block, float *X)</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8c_source.html#l00268">opus_celt.c:268</a></div></div>
<div class="ttc" id="amathematics_8h_html_a66b3ab30f1332874326ed93969e496e0"><div class="ttname"><a href="mathematics_8h.html#a66b3ab30f1332874326ed93969e496e0">M_SQRT2</a></div><div class="ttdeci">#define M_SQRT2</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00061">mathematics.h:61</a></div></div>
<div class="ttc" id="avf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00136">vf_palettegen.c:136</a></div></div>
<div class="ttc" id="amacros_8h_html_acae4ba605b3a7d535b7ac058ffe96892"><div class="ttname"><a href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a></div><div class="ttdeci">#define FFALIGN(x, a)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00048">macros.h:48</a></div></div>
<div class="ttc" id="ailbcdata_8h_html_a545b8c1c045fcc34b81d3ca822620277"><div class="ttname"><a href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a></div><div class="ttdeci">static const int16_t alpha[]</div><div class="ttdef"><b>Definition:</b> <a href="ilbcdata_8h_source.html#l00055">ilbcdata.h:55</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="alibavutil_2float__dsp_8c_html_abf4186be59dc9de8cda94ee7beacaf67"><div class="ttname"><a href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a></div><div class="ttdeci">av_cold AVFloatDSPContext * avpriv_float_dsp_alloc(int bit_exact)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2float__dsp_8c_source.html#l00135">float_dsp.c:135</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a17afa58b2bc574dedcd1cc02e1fdf165"><div class="ttname"><a href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a></div><div class="ttdeci">The exact code depends on how similar the blocks are and how related they are to the block</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00207">filter_design.txt:207</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="aopus__rc_8c_html_a8723a6f5c670b13f0dd2fcbb405c07e8"><div class="ttname"><a href="opus__rc_8c.html#a8723a6f5c670b13f0dd2fcbb405c07e8">ff_opus_rc_dec_log</a></div><div class="ttdeci">uint32_t ff_opus_rc_dec_log(OpusRangeCoder *rc, uint32_t bits)</div><div class="ttdef"><b>Definition:</b> <a href="opus__rc_8c_source.html#l00114">opus_rc.c:114</a></div></div>
<div class="ttc" id="aopustab_8c_html_ae2412b4f9f133862d9c33b66caa7c088"><div class="ttname"><a href="opustab_8c.html#ae2412b4f9f133862d9c33b66caa7c088">ff_celt_mean_energy</a></div><div class="ttdeci">const float ff_celt_mean_energy[]</div><div class="ttdef"><b>Definition:</b> <a href="opustab_8c_source.html#l00790">opustab.c:790</a></div></div>
<div class="ttc" id="aopus_8h_html_a67de4727bb028f4e6c6f979cb3ba1ec0"><div class="ttname"><a href="opus_8h.html#a67de4727bb028f4e6c6f979cb3ba1ec0">CELT_OVERLAP</a></div><div class="ttdeci">#define CELT_OVERLAP</div><div class="ttdef"><b>Definition:</b> <a href="opus_8h_source.html#l00042">opus.h:42</a></div></div>
<div class="ttc" id="astruct_celt_frame_html_a8d15e0bb7e1d2889023ae65e1bd5e8b5"><div class="ttname"><a href="struct_celt_frame.html#a8d15e0bb7e1d2889023ae65e1bd5e8b5">CeltFrame::dsp</a></div><div class="ttdeci">AVFloatDSPContext * dsp</div><div class="ttdef"><b>Definition:</b> <a href="opus__celt_8h_source.html#l00096">opus_celt.h:96</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
