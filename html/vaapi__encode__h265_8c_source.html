<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/vaapi_encode_h265.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">vaapi_encode_h265.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="vaapi__encode__h265_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;va/va.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;va/va_enc_hevc.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">libavutil/common.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mastering__display__metadata_8h.html">libavutil/mastering_display_metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cbs_8h.html">cbs.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cbs__h265_8h.html">cbs_h265.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="h265__profile__level_8h.html">h265_profile_level.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavformat_2hevc_8h.html">hevc.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hevc__sei_8h.html">hevc_sei.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="put__bits_8h.html">put_bits.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vaapi__encode_8h.html">vaapi_encode.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">   41</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">SEI_MASTERING_DISPLAY</a>       = 0x08,</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">   42</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">SEI_CONTENT_LIGHT_LEVEL</a>     = 0x10,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;};</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_picture.html">   45</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html">VAAPIEncodeH265Picture</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">   46</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_picture.html#aaec01e3b49cdfd1d3431506f34c42fb3">   48</a></span>&#160;    int64_t <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#aaec01e3b49cdfd1d3431506f34c42fb3">last_idr_frame</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">   50</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">   51</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">slice_type</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">   52</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">pic_type</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#aebfe4ab3b9a1915f4a8a696c8d82278c">   53</a></span>&#160;} <a class="code" href="vaapi__encode__h265_8c.html#aebfe4ab3b9a1915f4a8a696c8d82278c">VAAPIEncodeH265Picture</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html">   55</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> {</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a7476453fe557f88f28162381013446ed">   56</a></span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_context.html">VAAPIEncodeContext</a> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a7476453fe557f88f28162381013446ed">common</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// User options.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a8c1a8e78fa19864070e4f2b1679a0035">   59</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a8c1a8e78fa19864070e4f2b1679a0035">qp</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a148258646cbac548b2defd748b0cdcb9">   60</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a148258646cbac548b2defd748b0cdcb9">aud</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a88ad7624ac3c1517f88d3a2035e54006">   61</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a88ad7624ac3c1517f88d3a2035e54006">profile</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a3cd40728f514772c80ba92cb46b1f834">   62</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a3cd40728f514772c80ba92cb46b1f834">tier</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a295b9b9fe47514b8db4fdc02d06cf4ad">   63</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a295b9b9fe47514b8db4fdc02d06cf4ad">level</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#aab76564476676e4f30fb2a8403b1491e">   64</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aab76564476676e4f30fb2a8403b1491e">sei</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Derived settings.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">   67</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">fixed_qp_idr</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">   68</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">   69</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">fixed_qp_b</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// Writer structures.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a7575f6e353011a578098384db2fac1d0">   72</a></span>&#160;    <a class="code" href="struct_h265_raw_a_u_d.html">H265RawAUD</a>   <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a7575f6e353011a578098384db2fac1d0">raw_aud</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#ab56cfb4c37b829a479d565cbab10dc3b">   73</a></span>&#160;    <a class="code" href="struct_h265_raw_v_p_s.html">H265RawVPS</a>   <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ab56cfb4c37b829a479d565cbab10dc3b">raw_vps</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#ac523a04c45ce9edb0df974b006a62394">   74</a></span>&#160;    <a class="code" href="struct_h265_raw_s_p_s.html">H265RawSPS</a>   <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ac523a04c45ce9edb0df974b006a62394">raw_sps</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a943f64211ad5e51cc73ec7090662d41c">   75</a></span>&#160;    <a class="code" href="struct_h265_raw_p_p_s.html">H265RawPPS</a>   <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a943f64211ad5e51cc73ec7090662d41c">raw_pps</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#acbe90fd660fc0d6fbfbd5944e6e7739b">   76</a></span>&#160;    <a class="code" href="struct_h265_raw_s_e_i.html">H265RawSEI</a>   <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#acbe90fd660fc0d6fbfbd5944e6e7739b">raw_sei</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#ab628ce8d15c00634c519465b0cdc3461">   77</a></span>&#160;    <a class="code" href="struct_h265_raw_slice.html">H265RawSlice</a> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ab628ce8d15c00634c519465b0cdc3461">raw_slice</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a8cad1f607a198b1bb7f3beffd881e7a1">   79</a></span>&#160;    <a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html">H265RawSEIMasteringDisplayColourVolume</a> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a8cad1f607a198b1bb7f3beffd881e7a1">sei_mastering_display</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a66df2dc25cb32b3ee79edf81eb53b8c5">   80</a></span>&#160;    <a class="code" href="struct_h265_raw_s_e_i_content_light_level_info.html">H265RawSEIContentLightLevelInfo</a>        <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a66df2dc25cb32b3ee79edf81eb53b8c5">sei_content_light_level</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#aea3efe3941e42cfe26d585901fb10bf2">   82</a></span>&#160;    <a class="code" href="struct_coded_bitstream_context.html">CodedBitstreamContext</a> *<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aea3efe3941e42cfe26d585901fb10bf2">cbc</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#ad5d0a7dfb75cac13583ebbad55dd04e6">   83</a></span>&#160;    <a class="code" href="struct_coded_bitstream_fragment.html">CodedBitstreamFragment</a> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ad5d0a7dfb75cac13583ebbad55dd04e6">current_access_unit</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">   84</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">   85</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#ab789821233a7a86259723a45f66a397e">   86</a></span>&#160;} <a class="code" href="vaapi__encode__h265_8c.html#ab789821233a7a86259723a45f66a397e">VAAPIEncodeH265Context</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a445a9800395c3943e8f58f5164d1ccce">   89</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a445a9800395c3943e8f58f5164d1ccce">vaapi_encode_h265_write_access_unit</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                               <span class="keywordtype">char</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">size_t</span> *data_len,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                               <a class="code" href="struct_coded_bitstream_fragment.html">CodedBitstreamFragment</a> *au)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    err = <a class="code" href="cbs_8c.html#ab102e392bf66ea81fd4ab660d0eb1a55">ff_cbs_write_fragment_data</a>(priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aea3efe3941e42cfe26d585901fb10bf2">cbc</a>, au);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to write packed header.\n&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (*data_len &lt; 8 * au-&gt;data_size - au-&gt;<a class="code" href="struct_coded_bitstream_fragment.html#a7eb062e0098963ca1f0734ecf97f6d2b">data_bit_padding</a>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Access unit too large: &quot;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;               <span class="stringliteral">&quot;%zu &lt; %zu.\n&quot;</span>, *data_len,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;               8 * au-&gt;<a class="code" href="struct_coded_bitstream_fragment.html#abc4ae0aacd4ad9726b85446629e5ddba">data_size</a> - au-&gt;<a class="code" href="struct_coded_bitstream_fragment.html#a7eb062e0098963ca1f0734ecf97f6d2b">data_bit_padding</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSPC);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    memcpy(<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, au-&gt;<a class="code" href="struct_coded_bitstream_fragment.html#ac13b60257e4932c7ca183b29a7581bb4">data</a>, au-&gt;<a class="code" href="struct_coded_bitstream_fragment.html#abc4ae0aacd4ad9726b85446629e5ddba">data_size</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    *data_len = 8 * au-&gt;<a class="code" href="struct_coded_bitstream_fragment.html#abc4ae0aacd4ad9726b85446629e5ddba">data_size</a> - au-&gt;<a class="code" href="struct_coded_bitstream_fragment.html#a7eb062e0098963ca1f0734ecf97f6d2b">data_bit_padding</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">  115</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                     <a class="code" href="struct_coded_bitstream_fragment.html">CodedBitstreamFragment</a> *au,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                     <span class="keywordtype">void</span> *nal_unit)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="struct_h265_raw_n_a_l_unit_header.html">H265RawNALUnitHeader</a> *<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a> = nal_unit;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    err = <a class="code" href="cbs_8c.html#a7407231caba0bf0ebde5ae921f81948d">ff_cbs_insert_unit_content</a>(au, -1,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                     <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>-&gt;nal_unit_type, nal_unit, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to add NAL unit: &quot;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;               <span class="stringliteral">&quot;type = %d.\n&quot;</span>, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>-&gt;nal_unit_type);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a0f173358dcba4db4161bb6adadeaba19">  133</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a0f173358dcba4db4161bb6adadeaba19">vaapi_encode_h265_write_sequence_header</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                   <span class="keywordtype">char</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">size_t</span> *data_len)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="struct_coded_bitstream_fragment.html">CodedBitstreamFragment</a>   *au = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ad5d0a7dfb75cac13583ebbad55dd04e6">current_access_unit</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a>) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a7575f6e353011a578098384db2fac1d0">raw_aud</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a> = 0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ab56cfb4c37b829a479d565cbab10dc3b">raw_vps</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ac523a04c45ce9edb0df974b006a62394">raw_sps</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a943f64211ad5e51cc73ec7090662d41c">raw_pps</a>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    err = <a class="code" href="vaapi__encode__h265_8c.html#a445a9800395c3943e8f58f5164d1ccce">vaapi_encode_h265_write_access_unit</a>(avctx, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, data_len, au);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="cbs_8c.html#aaa28071334c4823ab5d299a458c06070">ff_cbs_fragment_reset</a>(au);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a0e1a8597093f264a2428aadd86d81615">  165</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a0e1a8597093f264a2428aadd86d81615">vaapi_encode_h265_write_slice_header</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                                <a class="code" href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a> *pic,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                                <a class="code" href="struct_v_a_a_p_i_encode_slice.html">VAAPIEncodeSlice</a> *slice,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                                <span class="keywordtype">char</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">size_t</span> *data_len)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="struct_coded_bitstream_fragment.html">CodedBitstreamFragment</a>   *au = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ad5d0a7dfb75cac13583ebbad55dd04e6">current_access_unit</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a>) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a7575f6e353011a578098384db2fac1d0">raw_aud</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a> = 0;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ab628ce8d15c00634c519465b0cdc3461">raw_slice</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    err = <a class="code" href="vaapi__encode__h265_8c.html#a445a9800395c3943e8f58f5164d1ccce">vaapi_encode_h265_write_access_unit</a>(avctx, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, data_len, au);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="cbs_8c.html#aaa28071334c4823ab5d299a458c06070">ff_cbs_fragment_reset</a>(au);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#aff430e98f65ecc1ff29afe0d25a5f92b">  191</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#aff430e98f65ecc1ff29afe0d25a5f92b">vaapi_encode_h265_write_extra_header</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                                <a class="code" href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a> *pic,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                                <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keywordtype">int</span> *<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                                <span class="keywordtype">char</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">size_t</span> *data_len)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="struct_coded_bitstream_fragment.html">CodedBitstreamFragment</a>   *au = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ad5d0a7dfb75cac13583ebbad55dd04e6">current_access_unit</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">int</span> err, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a>) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="struct_h265_raw_s_e_i.html">H265RawSEI</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a> = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#acbe90fd660fc0d6fbfbd5944e6e7739b">raw_sei</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a>) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a148258646cbac548b2defd748b0cdcb9">aud</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a> = 0;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        *<a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a> = (<a class="code" href="cbs__h265_8h.html#a5d5dc1bfb367b88d25bda358715430ed">H265RawSEI</a>) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            .nal_unit_header = {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                .nal_unit_type         = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a851dd1439e3e90b183b078268b3e96b3">HEVC_NAL_SEI_PREFIX</a>,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                .nuh_layer_id          = 0,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                .nuh_temporal_id_plus1 = 1,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            },</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        };</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a> &amp; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">SEI_MASTERING_DISPLAY</a>) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>-&gt;payload[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].payload_type = <a class="code" href="hevc__sei_8h.html#abba0b9185313c25cb08327f8ee281bd1a6ddfbaaf66914fbb3ac4ffe9f97ea446">HEVC_SEI_TYPE_MASTERING_DISPLAY_INFO</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>-&gt;payload[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].payload.mastering_display = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a8cad1f607a198b1bb7f3beffd881e7a1">sei_mastering_display</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a> &amp; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">SEI_CONTENT_LIGHT_LEVEL</a>) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>-&gt;payload[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].payload_type = <a class="code" href="hevc__sei_8h.html#abba0b9185313c25cb08327f8ee281bd1aa5e68dcb556416bc48795a3fb785c53d">HEVC_SEI_TYPE_CONTENT_LIGHT_LEVEL_INFO</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>-&gt;payload[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].payload.content_light_level = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a66df2dc25cb32b3ee79edf81eb53b8c5">sei_content_light_level</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>-&gt;payload_count = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>-&gt;payload_count &gt; 0);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        err = <a class="code" href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a>(avctx, au, <a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a> = 0;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        err = <a class="code" href="vaapi__encode__h265_8c.html#a445a9800395c3943e8f58f5164d1ccce">vaapi_encode_h265_write_access_unit</a>(avctx, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, data_len, au);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <a class="code" href="cbs_8c.html#aaa28071334c4823ab5d299a458c06070">ff_cbs_fragment_reset</a>(au);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        *<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = VAEncPackedHeaderRawData;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="cbs_8c.html#aaa28071334c4823ab5d299a458c06070">ff_cbs_fragment_reset</a>(au);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#ab94ce52f004960fcb817d893ccd34fbd">  257</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#ab94ce52f004960fcb817d893ccd34fbd">vaapi_encode_h265_init_sequence_params</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_context.html">VAAPIEncodeContext</a>                *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a>           *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="struct_h265_raw_v_p_s.html">H265RawVPS</a>                        *<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a> = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ab56cfb4c37b829a479d565cbab10dc3b">raw_vps</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="struct_h265_raw_s_p_s.html">H265RawSPS</a>                        *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a> = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ac523a04c45ce9edb0df974b006a62394">raw_sps</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="struct_h265_raw_p_p_s.html">H265RawPPS</a>                        *<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a> = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a943f64211ad5e51cc73ec7090662d41c">raw_pps</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="struct_h265_raw_profile_tier_level.html">H265RawProfileTierLevel</a>           *<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a> = &amp;<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;profile_tier_level;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="struct_h265_raw_v_u_i.html">H265RawVUI</a>                        *vui = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    VAEncSequenceParameterBufferHEVC *vseq = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;codec_sequence_params;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    VAEncPictureParameterBufferHEVC  *vpic = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;codec_picture_params;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">int</span> chroma_format, <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    memset(<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    memset(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    memset(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>));</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a7476453fe557f88f28162381013446ed">common</a>.<a class="code" href="struct_v_a_a_p_i_encode_context.html#a5747c7ac39ba2c4d71c7002d18fc4ca2">input_frames</a>-&gt;<a class="code" href="struct_a_v_h_w_frames_context.html#a663a9aceca97aa7b2426c9aba6543e4a">sw_format</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;nb_components == 1) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        chroma_format = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w == 1 &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h == 1) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            chroma_format = 1;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w == 1 &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h == 0) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            chroma_format = 2;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w == 0 &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h == 0) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            chroma_format = 3;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Chroma format of input pixel format &quot;</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                   <span class="stringliteral">&quot;%s is not supported.\n&quot;</span>, <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;name);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> = <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;comp[0].depth;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// VPS</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;nal_unit_header = (<a class="code" href="cbs__h265_8h.html#af8da48f7c852d19ad67dbaee1eb929f5">H265RawNALUnitHeader</a>) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        .nal_unit_type         = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2aa29547e9e8fe1223d617542c12beca01">HEVC_NAL_VPS</a>,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        .nuh_layer_id          = 0,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        .nuh_temporal_id_plus1 = 1,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    };</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_video_parameter_set_id = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_base_layer_internal_flag  = 1;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_base_layer_available_flag = 1;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_layers_minus1         = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers_minus1     = 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_temporal_id_nesting_flag  = 1;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a80c9d1a7260adec811dfa657c3cef1e4">general_profile_space</a> = 0;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#ae1859bab36dcee8ed212da1169b0e1b7">general_profile_idc</a>   = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a472bae417bac4e4132ce6c3afe4d3d51">general_tier_flag</a>     = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a3cd40728f514772c80ba92cb46b1f834">tier</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (chroma_format == 1) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a391708871161d00c3c81135ee40ffe7d">general_profile_compatibility_flag</a>[1] = <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> ==  8;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a391708871161d00c3c81135ee40ffe7d">general_profile_compatibility_flag</a>[2] = <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> &lt;= 10;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a391708871161d00c3c81135ee40ffe7d">general_profile_compatibility_flag</a>[4] = 1;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a7c4753daf16561a74212f5fd73362fd7">general_progressive_source_flag</a>    = 1;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a4de6d85aead0bd30afc2d7c76bed34de">general_interlaced_source_flag</a>     = 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#ae76c52b88d83b55d5ca86f97508c9de8">general_non_packed_constraint_flag</a> = 1;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#aa21fc19889d71f4c7c58f22538216c81">general_frame_only_constraint_flag</a> = 1;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#ad1b7169a661a4b5ddf96bf4e3730f7ca">general_max_12bit_constraint_flag</a> = <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> &lt;= 12;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#af40ce45662f3a98cb700c70813cf277c">general_max_10bit_constraint_flag</a> = <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> &lt;= 10;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a4156257a7a5a6174925d3da0fc190fed">general_max_8bit_constraint_flag</a>  = <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> ==  8;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a823c0b0b3fb0fba28256b3cee8ba8241">general_max_422chroma_constraint_flag</a>  = chroma_format &lt;= 2;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a402d6969e405274267140151b818bfcf">general_max_420chroma_constraint_flag</a>  = chroma_format &lt;= 1;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a800236095c5d9cb2d15715320c1be7df">general_max_monochrome_constraint_flag</a> = chroma_format == 0;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a7b5a038f4e59b8b1d65529d1730cb2d4">general_intra_constraint_flag</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;gop_size == 1;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a9f134b2b53fbc926ca75a38470d68f75">general_lower_bit_rate_constraint_flag</a> = 1;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a> != <a class="code" href="avcodec_8h.html#a84a993ea19afa2cbda45b3283a598fe6">FF_LEVEL_UNKNOWN</a>) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a0f6d211a3d54ca9441759a02559e3700">general_level_idc</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_h265_level_descriptor.html">H265LevelDescriptor</a> *<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="h265__profile__level_8c.html#a48f0ed8030281f89cc01bf8521895332">ff_h265_guess_level</a>(<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_width, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_height,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;nb_slices, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_rows, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_cols,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                    (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;b_per_p &gt; 0) + 1);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Using level %s.\n&quot;</span>, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>-&gt;name);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a0f6d211a3d54ca9441759a02559e3700">general_level_idc</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>-&gt;level_idc;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Stream will not conform to &quot;</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                   <span class="stringliteral">&quot;any normal level; using level 8.5.\n&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a0f6d211a3d54ca9441759a02559e3700">general_level_idc</a> = 255;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="comment">// The tier flag must be set in level 8.5.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a472bae417bac4e4132ce6c3afe4d3d51">general_tier_flag</a> = 1;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_sub_layer_ordering_info_present_flag = 0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_dec_pic_buffering_minus1[0]      = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;max_b_depth + 1;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_num_reorder_pics[0]              = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;max_b_depth;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_latency_increase_plus1[0]        = 0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_layer_id             = 0;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_layer_sets_minus1    = 0;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;layer_id_included_flag[0][0] = 1;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_timing_info_present_flag = 1;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_units_in_tick  = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_time_scale         = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_poc_proportional_to_timing_flag = 1;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_ticks_poc_diff_one_minus1   = 0;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_units_in_tick  = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_time_scale         = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_poc_proportional_to_timing_flag = 0;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_hrd_parameters = 0;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// SPS</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nal_unit_header = (<a class="code" href="cbs__h265_8h.html#af8da48f7c852d19ad67dbaee1eb929f5">H265RawNALUnitHeader</a>) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        .nal_unit_type         = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2ae7ebf86d4b3d90d069bd88f5f1cd9a61">HEVC_NAL_SPS</a>,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        .nuh_layer_id          = 0,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        .nuh_temporal_id_plus1 = 1,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    };</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_video_parameter_set_id = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_video_parameter_set_id;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_max_sub_layers_minus1    = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers_minus1;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_temporal_id_nesting_flag = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_temporal_id_nesting_flag;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;profile_tier_level = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;profile_tier_level;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_seq_parameter_set_id = 0;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc          = chroma_format;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;separate_colour_plane_flag = 0;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_width_in_luma_samples  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_width;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_height_in_luma_samples = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_height;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>  != <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_width ||</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> != <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_height) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;conformance_window_flag = 1;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;conf_win_left_offset   = 0;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;conf_win_right_offset  =</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_width - avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>) &gt;&gt; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;conf_win_top_offset    = 0;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;conf_win_bottom_offset =</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_height - avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>) &gt;&gt; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;conformance_window_flag = 0;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth_luma_minus8   = <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> - 8;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth_chroma_minus8 = <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> - 8;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_pic_order_cnt_lsb_minus4 = 8;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_sub_layer_ordering_info_present_flag =</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_sub_layer_ordering_info_present_flag;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_max_sub_layers_minus1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_max_dec_pic_buffering_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] =</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_dec_pic_buffering_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_max_num_reorder_pics[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] =</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_num_reorder_pics[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_max_latency_increase_plus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] =</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_latency_increase_plus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// These have to come from the capabilities of the encoder.  We have no</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// way to query them, so just hardcode parameters which work on the Intel</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// driver.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// CTB size from 8x8 to 32x32.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_luma_coding_block_size_minus3   = 0;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_luma_coding_block_size = 2;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// Transform size from 4x4 to 32x32.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_luma_transform_block_size_minus2   = 0;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_luma_transform_block_size = 3;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// Full transform hierarchy allowed (2-5).</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_inter = 3;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_intra = 3;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// AMP works.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;amp_enabled_flag = 1;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// SAO and temporal MVP do not work.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sample_adaptive_offset_enabled_flag = 0;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_temporal_mvp_enabled_flag       = 0;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_enabled_flag = 0;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// STRPSs should ideally be here rather than defined individually in</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// each slice, but the structure isn&#39;t completely fixed so for now</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// don&#39;t bother.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;num_short_term_ref_pic_sets     = 0;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;long_term_ref_pics_present_flag = 0;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui_parameters_present_flag = 1;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> != 0 &amp;&amp;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> != 0) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_rational.html">AVRational</a> sar_idc[] = {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            {   0,  0 },</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            {   1,  1 }, {  12, 11 }, {  10, 11 }, {  16, 11 },</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            {  40, 33 }, {  24, 11 }, {  20, 11 }, {  32, 11 },</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            {  80, 33 }, {  18, 11 }, {  15, 11 }, {  64, 33 },</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            { 160, 99 }, {   4,  3 }, {   3,  2 }, {   2,  1 },</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        };</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordtype">int</span> num, den, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;num, &amp;den, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                  avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, 65535);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(sar_idc); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">if</span> (num == sar_idc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num &amp;&amp;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                den == sar_idc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].den) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#aefa21ebc532a515e78c4a6c0da63f100">aspect_ratio_idc</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(sar_idc)) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#aefa21ebc532a515e78c4a6c0da63f100">aspect_ratio_idc</a> = 255;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a3ff01d5b63234a540d4e881354e0be51">sar_width</a>  = num;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a61bc765938c8fd05a6d68c446c26a682">sar_height</a> = den;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a9277843834e9a13b3b18d1e72016b73d">aspect_ratio_info_present_flag</a> = 1;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// Unspecified video format, from table E-2.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#adcfe6b894df05c6288d9695fdf3b954d">video_format</a>             = 5;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#af86e783549c00135842c25c7511e77a2">video_full_range_flag</a>    =</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a> == <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#ae226dc044e5894338ec812172da6a4ec">colour_primaries</a>         = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3a41b3e5bde23b877799f6e72dac8ef3">color_primaries</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a30bc4e9a099a7b47e329ec0636080300">transfer_characteristics</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab649e8c599f5a0e2a30448e67a36deb6">color_trc</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#ae35f37c7e21cb0c15b1f61b4786b8d17">matrix_coefficients</a>      = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">colorspace</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3a41b3e5bde23b877799f6e72dac8ef3">color_primaries</a> != <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942">AVCOL_PRI_UNSPECIFIED</a> ||</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab649e8c599f5a0e2a30448e67a36deb6">color_trc</a>       != <a class="code" href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab">AVCOL_TRC_UNSPECIFIED</a> ||</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">colorspace</a>      != <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a>)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a67ca26553820a828f7c26d8da5837b93">colour_description_present_flag</a> = 1;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a>     != <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a> ||</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a67ca26553820a828f7c26d8da5837b93">colour_description_present_flag</a>)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a5b758d81b6b4234099bcdf2e801e3454">video_signal_type_present_flag</a> = 1;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac60a0209642b5d74068cab0ac35a78b2">chroma_sample_location</a> != <a class="code" href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffafd1c2fae7783c113d76a017c6e7b638f">AVCHROMA_LOC_UNSPECIFIED</a>) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a096e7faf252e502d7bc0c50818bdd995">chroma_loc_info_present_flag</a> = 1;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#ac685dd07744e90202e5486f176531702">chroma_sample_loc_type_top_field</a>    =</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a26d85668011cd5fc01e9f809f85dc725">chroma_sample_loc_type_bottom_field</a> =</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac60a0209642b5d74068cab0ac35a78b2">chroma_sample_location</a> - 1;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a641b0d04419531237c29c39d670d9c7b">vui_timing_info_present_flag</a>        = 1;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#ad77af084df103cc30aaec04ff31f0e70">vui_num_units_in_tick</a>               = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_units_in_tick;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a97140f13b072118dc4cb5b8fef730a2c">vui_time_scale</a>                      = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_time_scale;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a9eebe7f94b36d0ca6c1befd6acae0ca8">vui_poc_proportional_to_timing_flag</a> = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_poc_proportional_to_timing_flag;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#ab397f4107f035acfe3849854daaf8ff2">vui_num_ticks_poc_diff_one_minus1</a>   = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_ticks_poc_diff_one_minus1;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#aa04e55c3b15425ee5dcec83eab189a08">vui_hrd_parameters_present_flag</a>     = 0;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#ae74e5b789fd770f5da74de008776b243">bitstream_restriction_flag</a>    = 1;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a49a5ad32b06374c9a2e96f44ffbfd7e9">motion_vectors_over_pic_boundaries_flag</a> = 1;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a97bab0c3909ab8901b7560163fcb765f">restricted_ref_pic_lists_flag</a> = 1;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a6547f5c3a139b3bd5c9be70b14cd4421">max_bytes_per_pic_denom</a>       = 0;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a684eb191a4469521b7e1a30233ed3e12">max_bits_per_min_cu_denom</a>     = 0;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a30ad7184e0e16058575c4da49a33087d">log2_max_mv_length_horizontal</a> = 15;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    vui-&gt;<a class="code" href="struct_h265_raw_v_u_i.html#a996273123a0b796ce6eec3f759477533">log2_max_mv_length_vertical</a>   = 15;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// PPS</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;nal_unit_header = (<a class="code" href="cbs__h265_8h.html#af8da48f7c852d19ad67dbaee1eb929f5">H265RawNALUnitHeader</a>) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        .nal_unit_type         = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a9de9f8fb190148a764245ee40f2c5e5e">HEVC_NAL_PPS</a>,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        .nuh_layer_id          = 0,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        .nuh_temporal_id_plus1 = 1,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    };</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_pic_parameter_set_id = 0;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_seq_parameter_set_id = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_seq_parameter_set_id;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l0_default_active_minus1 = 0;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l1_default_active_minus1 = 0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;init_qp_minus26 = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">fixed_qp_idr</a> - 26;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cu_qp_delta_enabled_flag = (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;va_rc_mode != VA_RC_CQP);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth   = 0;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_rows &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_cols) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordtype">int</span> uniform_spacing;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tiles_enabled_flag      = 1;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns_minus1 = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_cols - 1;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows_minus1    = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_rows - 1;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="comment">// Test whether the spacing provided matches the H.265 uniform</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">// spacing, and set the flag if it does.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        uniform_spacing = 1;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns_minus1 &amp;&amp;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    uniform_spacing; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;col_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] !=</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_block_cols / <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_cols -</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                 <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>      * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_block_cols / <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_cols)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                uniform_spacing = 0;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows_minus1 &amp;&amp;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    uniform_spacing; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] !=</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_block_rows / <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_rows -</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                 <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>      * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_block_rows / <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_rows)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                uniform_spacing = 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;uniform_spacing_flag = uniform_spacing;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns_minus1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;col_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows_minus1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]   = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;loop_filter_across_tiles_enabled_flag = 1;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_loop_filter_across_slices_enabled_flag = 1;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// Fill VAAPI parameter buffers.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    *vseq = (VAEncSequenceParameterBufferHEVC) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        .general_profile_idc = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;profile_tier_level.general_profile_idc,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        .general_level_idc   = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;profile_tier_level.general_level_idc,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        .general_tier_flag   = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;profile_tier_level.general_tier_flag,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        .intra_period     = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;gop_size,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        .intra_idr_period = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;gop_size,</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        .ip_period        = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;b_per_p + 1,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        .bits_per_second  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;va_bit_rate,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        .pic_width_in_luma_samples  = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_width_in_luma_samples,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        .pic_height_in_luma_samples = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_height_in_luma_samples,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        .seq_fields.bits = {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            .chroma_format_idc             = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc,</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            .separate_colour_plane_flag    = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;separate_colour_plane_flag,</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            .bit_depth_luma_minus8         = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth_luma_minus8,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            .bit_depth_chroma_minus8       = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth_chroma_minus8,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            .scaling_list_enabled_flag     = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list_enabled_flag,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            .strong_intra_smoothing_enabled_flag =</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;strong_intra_smoothing_enabled_flag,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            .amp_enabled_flag              = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;amp_enabled_flag,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            .sample_adaptive_offset_enabled_flag =</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sample_adaptive_offset_enabled_flag,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            .pcm_enabled_flag              = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_enabled_flag,</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            .pcm_loop_filter_disabled_flag = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_loop_filter_disabled_flag,</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            .sps_temporal_mvp_enabled_flag = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_temporal_mvp_enabled_flag,</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        },</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        .log2_min_luma_coding_block_size_minus3 =</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_luma_coding_block_size_minus3,</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        .log2_diff_max_min_luma_coding_block_size =</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_luma_coding_block_size,</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        .log2_min_transform_block_size_minus2 =</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_luma_transform_block_size_minus2,</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        .log2_diff_max_min_transform_block_size =</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_luma_transform_block_size,</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        .max_transform_hierarchy_depth_inter =</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_inter,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        .max_transform_hierarchy_depth_intra =</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_intra,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        .pcm_sample_bit_depth_luma_minus1 =</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_sample_bit_depth_luma_minus1,</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        .pcm_sample_bit_depth_chroma_minus1 =</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_sample_bit_depth_chroma_minus1,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        .log2_min_pcm_luma_coding_block_size_minus3 =</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_pcm_luma_coding_block_size_minus3,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        .log2_max_pcm_luma_coding_block_size_minus3 =</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_pcm_luma_coding_block_size_minus3 +</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_pcm_luma_coding_block_size,</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        .vui_parameters_present_flag = 0,</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    };</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    *vpic = (VAEncPictureParameterBufferHEVC) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        .decoded_curr_pic = {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            .picture_id = VA_INVALID_ID,</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            .flags      = VA_PICTURE_HEVC_INVALID,</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        },</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        .coded_buf = VA_INVALID_ID,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        .collocated_ref_pic_index = 0xff,</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        .last_picture = 0,</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        .pic_init_qp            = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;init_qp_minus26 + 26,</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        .diff_cu_qp_delta_depth = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth,</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        .pps_cb_qp_offset       = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_cb_qp_offset,</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        .pps_cr_qp_offset       = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_cr_qp_offset,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        .num_tile_columns_minus1 = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns_minus1,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        .num_tile_rows_minus1    = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows_minus1,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        .log2_parallel_merge_level_minus2 = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_parallel_merge_level_minus2,</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        .ctu_max_bitsize_allowed          = 0,</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        .num_ref_idx_l0_default_active_minus1 =</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l0_default_active_minus1,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        .num_ref_idx_l1_default_active_minus1 =</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l1_default_active_minus1,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        .slice_pic_parameter_set_id = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_pic_parameter_set_id,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        .pic_fields.bits = {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            .sign_data_hiding_enabled_flag  = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sign_data_hiding_enabled_flag,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            .constrained_intra_pred_flag    = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;constrained_intra_pred_flag,</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            .transform_skip_enabled_flag    = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;transform_skip_enabled_flag,</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            .cu_qp_delta_enabled_flag       = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cu_qp_delta_enabled_flag,</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            .weighted_pred_flag             = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;weighted_pred_flag,</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            .weighted_bipred_flag           = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;weighted_bipred_flag,</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            .transquant_bypass_enabled_flag = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;transquant_bypass_enabled_flag,</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            .tiles_enabled_flag             = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tiles_enabled_flag,</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            .entropy_coding_sync_enabled_flag = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;entropy_coding_sync_enabled_flag,</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            .loop_filter_across_tiles_enabled_flag =</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;loop_filter_across_tiles_enabled_flag,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            .scaling_list_data_present_flag = (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_scaling_list_data_present_flag |</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                               <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_scaling_list_data_present_flag),</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            .screen_content_flag            = 0,</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            .enable_gpu_weighted_prediction = 0,</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            .no_output_of_prior_pics_flag   = 0,</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        },</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    };</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tiles_enabled_flag) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= vpic-&gt;num_tile_rows_minus1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            vpic-&gt;row_height_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]   = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= vpic-&gt;num_tile_columns_minus1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            vpic-&gt;column_width_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a8a1a8c928b7a92a33dde81f47d25194a">  701</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a8a1a8c928b7a92a33dde81f47d25194a">vaapi_encode_h265_init_picture_params</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                                                 <a class="code" href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a> *pic)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_context.html">VAAPIEncodeContext</a>               *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a>          *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html">VAAPIEncodeH265Picture</a>          *hpic = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a5ebeafc2d09071a391659e2acf38dda3">priv_data</a>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a>              *prev = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a990d7ec9ddfeda0d522e0856eaf84efd">prev</a>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html">VAAPIEncodeH265Picture</a>         *hprev = prev ? prev-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a5ebeafc2d09071a391659e2acf38dda3">priv_data</a> : <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    VAEncPictureParameterBufferHEVC *vpic = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0b5603bae3f5d92488a246b62b7393e6">codec_picture_params</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab56d9a8ef94cff8f64aff4c9f115503a">PICTURE_TYPE_IDR</a>) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a4c211c3d8a02e456836bf7c7102151b2">display_order</a> == pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#aeebf0e912cc72cb3f0d394fe86019cda">encode_order</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#aaec01e3b49cdfd1d3431506f34c42fb3">last_idr_frame</a> = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a4c211c3d8a02e456836bf7c7102151b2">display_order</a>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a> = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a4b0b26a126e80e1d58dd6f2f97930f18">HEVC_NAL_IDR_W_RADL</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">slice_type</a>     = <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a">HEVC_SLICE_I</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">pic_type</a>       = 0;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(prev);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#aaec01e3b49cdfd1d3431506f34c42fb3">last_idr_frame</a> = hprev-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#aaec01e3b49cdfd1d3431506f34c42fb3">last_idr_frame</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7acc8409d697602a190af45b91bb061624">PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a> = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a0ba8bf9d7cd40c6c4feaf7869df6aa77">HEVC_NAL_CRA_NUT</a>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">slice_type</a>     = <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a">HEVC_SLICE_I</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">pic_type</a>       = 0;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a653f32daa38a2adc6d8abebcfdf44173">PICTURE_TYPE_P</a>) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">refs</a>[0]);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a> = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2ab248c626f1edb7f7de024522066e9c46">HEVC_NAL_TRAIL_R</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">slice_type</a>     = <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca120fc088451ea70f9ff083787b639d2b">HEVC_SLICE_P</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">pic_type</a>       = 1;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <a class="code" href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a> *irap_ref;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">refs</a>[0] &amp;&amp; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">refs</a>[1]);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">for</span> (irap_ref = pic; irap_ref; irap_ref = irap_ref-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">refs</a>[1]) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                <span class="keywordflow">if</span> (irap_ref-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7acc8409d697602a190af45b91bb061624">PICTURE_TYPE_I</a>)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a71966a0785a63842d1e1a0ce91b0578f">b_depth</a> == <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;max_b_depth) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a> = irap_ref ? <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a09dbdda5a7adb690731a3d90502f91d6">HEVC_NAL_RASL_N</a></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                                                : <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a0e80d039bf2d17c46036f41f516ff174">HEVC_NAL_TRAIL_N</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a> = irap_ref ? <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2add2cddf07e6df1eb81ca46eda7fd5379">HEVC_NAL_RASL_R</a></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                                                : <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2ab248c626f1edb7f7de024522066e9c46">HEVC_NAL_TRAIL_R</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">slice_type</a> = <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b">HEVC_SLICE_B</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">pic_type</a>   = 2;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a> = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a4c211c3d8a02e456836bf7c7102151b2">display_order</a> - hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#aaec01e3b49cdfd1d3431506f34c42fb3">last_idr_frame</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a148258646cbac548b2defd748b0cdcb9">aud</a>) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a> = 1;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a7575f6e353011a578098384db2fac1d0">raw_aud</a> = (<a class="code" href="cbs__h265_8h.html#a477ee52a18a76ccfa1fa091f76ed6363">H265RawAUD</a>) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            .<a class="code" href="struct_h265_raw_a_u_d.html#a1eea205faa97c4be78706878f5d63bec">nal_unit_header</a> = {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                .<a class="code" href="struct_h265_raw_n_a_l_unit_header.html#aa7b5723924ef61edb4f42334efa73bf8">nal_unit_type</a>         = <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a38f49d24f4c1b542dba310897916e378">HEVC_NAL_AUD</a>,</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                .nuh_layer_id          = 0,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                .nuh_temporal_id_plus1 = 1,</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            },</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            .pic_type = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">pic_type</a>,</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        };</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">aud_needed</a> = 0;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a> = 0;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">// Only look for the metadata on I/IDR frame on the output. We</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">// may force an IDR frame on the output where the medadata gets</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// changed on the input frame.</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> ((priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aab76564476676e4f30fb2a8403b1491e">sei</a> &amp; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">SEI_MASTERING_DISPLAY</a>) &amp;&amp;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7acc8409d697602a190af45b91bb061624">PICTURE_TYPE_I</a> || pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab56d9a8ef94cff8f64aff4c9f115503a">PICTURE_TYPE_IDR</a>)) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *sd =</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <a class="code" href="group__lavu__frame.html#gadec0efb470b1eead6a979333d9deca0c">av_frame_get_side_data</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#abdd10141f1025ea3a6903bafd450cbf7">input_image</a>,</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                   <a class="code" href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bca6e305f92e325fbd219527452048f16cb">AV_FRAME_DATA_MASTERING_DISPLAY_METADATA</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">if</span> (sd) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="struct_a_v_mastering_display_metadata.html">AVMasteringDisplayMetadata</a> *mdm =</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                (<a class="code" href="struct_a_v_mastering_display_metadata.html">AVMasteringDisplayMetadata</a> *)sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">data</a>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="comment">// SEI is needed when both the primaries and luminance are set</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a0e30962e66d883ddba77fac5af55d3af">has_primaries</a> &amp;&amp; mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#addf45817ef0970905e650aff3907ce4d">has_luminance</a>) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html">H265RawSEIMasteringDisplayColourVolume</a> *mdcv =</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a8cad1f607a198b1bb7f3beffd881e7a1">sei_mastering_display</a>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> mapping[3] = {1, 2, 0};</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> chroma_den = 50000;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> luma_den   = 10000;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> j = mapping[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    mdcv-&gt;<a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a72cf1b21d4e7d20d9788644ccd5d0a10">display_primaries_x</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] =</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                        <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(chroma_den *</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                    <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[j][0])),</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                              chroma_den);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    mdcv-&gt;<a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#ae1854554979e7931ecf3a84554c8a0bd">display_primaries_y</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] =</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                        <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(chroma_den *</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                    <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[j][1])),</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                              chroma_den);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                mdcv-&gt;<a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#acb19c61aa93da6390383cb7d846925f9">white_point_x</a> =</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(chroma_den * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a968384052f48e91fc57b3c61b9f68224">white_point</a>[0])),</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                          chroma_den);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                mdcv-&gt;<a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a4ce61fa8f279e2875e2e2e5f3044a5ff">white_point_y</a> =</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(chroma_den * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a968384052f48e91fc57b3c61b9f68224">white_point</a>[1])),</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                          chroma_den);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                mdcv-&gt;<a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a2e5dd694d77030760eccbc12f26c8748">max_display_mastering_luminance</a> =</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(luma_den * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a45890b654337321044a5b13c5e5961c5">max_luminance</a>));</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                mdcv-&gt;<a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a7490c8da9081450c6d0ca81d0b455943">min_display_mastering_luminance</a> =</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                    <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(luma_den * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(mdm-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a4ad2e7f456d7763060c25e92be573341">min_luminance</a>)),</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                          mdcv-&gt;<a class="code" href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a2e5dd694d77030760eccbc12f26c8748">max_display_mastering_luminance</a>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a> |= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">SEI_MASTERING_DISPLAY</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">if</span> ((priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aab76564476676e4f30fb2a8403b1491e">sei</a> &amp; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">SEI_CONTENT_LIGHT_LEVEL</a>) &amp;&amp;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7acc8409d697602a190af45b91bb061624">PICTURE_TYPE_I</a> || pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab56d9a8ef94cff8f64aff4c9f115503a">PICTURE_TYPE_IDR</a>)) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *sd =</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <a class="code" href="group__lavu__frame.html#gadec0efb470b1eead6a979333d9deca0c">av_frame_get_side_data</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#abdd10141f1025ea3a6903bafd450cbf7">input_image</a>,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                                   <a class="code" href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bca311f0afd2dded92ef68ae00f7711aa2d">AV_FRAME_DATA_CONTENT_LIGHT_LEVEL</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (sd) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <a class="code" href="struct_a_v_content_light_metadata.html">AVContentLightMetadata</a> *clm =</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                (<a class="code" href="struct_a_v_content_light_metadata.html">AVContentLightMetadata</a> *)sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">data</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <a class="code" href="struct_h265_raw_s_e_i_content_light_level_info.html">H265RawSEIContentLightLevelInfo</a> *clli =</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a66df2dc25cb32b3ee79edf81eb53b8c5">sei_content_light_level</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            clli-&gt;<a class="code" href="struct_h265_raw_s_e_i_content_light_level_info.html#ada03e548f675c3eea3e24c7094a90365">max_content_light_level</a>     = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(clm-&gt;<a class="code" href="struct_a_v_content_light_metadata.html#a9d2d7743a599c9b2f2a07a9504625b92">MaxCLL</a>,  65535);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            clli-&gt;max_pic_average_light_level = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(clm-&gt;<a class="code" href="struct_a_v_content_light_metadata.html#a4e9bfc44c6b87bbf096141fae12e1692">MaxFALL</a>, 65535);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">sei_needed</a> |= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">SEI_CONTENT_LIGHT_LEVEL</a>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    vpic-&gt;decoded_curr_pic = (VAPictureHEVC) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        .picture_id    = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a7b20419c52cbcfb242f90a8b35edfc14">recon_surface</a>,</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        .pic_order_cnt = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>,</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        .flags         = 0,</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    };</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#af7067b239d6821ab286c9c268d1bb799">nb_refs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <a class="code" href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a>      *<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">refs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html">VAAPIEncodeH265Picture</a> *href;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> &amp;&amp; <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;encode_order &lt; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#aeebf0e912cc72cb3f0d394fe86019cda">encode_order</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        href = <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;priv_data;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        vpic-&gt;reference_frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (VAPictureHEVC) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            .picture_id    = <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;recon_surface,</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            .pic_order_cnt = href-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            .flags = (<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;display_order &lt; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a4c211c3d8a02e456836bf7c7102151b2">display_order</a> ?</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                      VA_PICTURE_HEVC_RPS_ST_CURR_BEFORE : 0) |</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                     (<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;display_order &gt; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a4c211c3d8a02e456836bf7c7102151b2">display_order</a> ?</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                      VA_PICTURE_HEVC_RPS_ST_CURR_AFTER  : 0),</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        };</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(vpic-&gt;reference_frames); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        vpic-&gt;reference_frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (VAPictureHEVC) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            .picture_id = VA_INVALID_ID,</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            .flags      = VA_PICTURE_HEVC_INVALID,</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        };</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    vpic-&gt;coded_buf = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#ab10d79f488c154649c6b6c9ff223f8c6">output_buffer</a>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    vpic-&gt;nal_unit_type = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">switch</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a>) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab56d9a8ef94cff8f64aff4c9f115503a">PICTURE_TYPE_IDR</a>:</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        vpic-&gt;pic_fields.bits.idr_pic_flag       = 1;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        vpic-&gt;pic_fields.bits.coding_type        = 1;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        vpic-&gt;pic_fields.bits.reference_pic_flag = 1;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7acc8409d697602a190af45b91bb061624">PICTURE_TYPE_I</a>:</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        vpic-&gt;pic_fields.bits.idr_pic_flag       = 0;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        vpic-&gt;pic_fields.bits.coding_type        = 1;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        vpic-&gt;pic_fields.bits.reference_pic_flag = 1;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a653f32daa38a2adc6d8abebcfdf44173">PICTURE_TYPE_P</a>:</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        vpic-&gt;pic_fields.bits.idr_pic_flag       = 0;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        vpic-&gt;pic_fields.bits.coding_type        = 2;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        vpic-&gt;pic_fields.bits.reference_pic_flag = 1;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4a3d20bd96935a81d334d85be050639b">PICTURE_TYPE_B</a>:</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        vpic-&gt;pic_fields.bits.idr_pic_flag       = 0;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        vpic-&gt;pic_fields.bits.coding_type        = 3;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        vpic-&gt;pic_fields.bits.reference_pic_flag = 0;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(0 &amp;&amp; <span class="stringliteral">&quot;invalid picture type&quot;</span>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#addeaef0327ef16c70ccc9b692e3f02b9">  900</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#addeaef0327ef16c70ccc9b692e3f02b9">vaapi_encode_h265_init_slice_params</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                                               <a class="code" href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a> *pic,</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                               <a class="code" href="struct_v_a_a_p_i_encode_slice.html">VAAPIEncodeSlice</a> *slice)</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;{</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a>           *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html">VAAPIEncodeH265Picture</a>           *hpic = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a5ebeafc2d09071a391659e2acf38dda3">priv_data</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h265_raw_s_p_s.html">H265RawSPS</a>                  *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a> = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ac523a04c45ce9edb0df974b006a62394">raw_sps</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h265_raw_p_p_s.html">H265RawPPS</a>                  *<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a> = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a943f64211ad5e51cc73ec7090662d41c">raw_pps</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="struct_h265_raw_slice_header.html">H265RawSliceHeader</a>                 *sh = &amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ab628ce8d15c00634c519465b0cdc3461">raw_slice</a>.<a class="code" href="struct_h265_raw_slice.html#a1998935f5b7e179a5372b142fcce28e2">header</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    VAEncPictureParameterBufferHEVC  *vpic = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0b5603bae3f5d92488a246b62b7393e6">codec_picture_params</a>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    VAEncSliceParameterBufferHEVC  *vslice = slice-&gt;<a class="code" href="struct_v_a_a_p_i_encode_slice.html#a4ef0c52a1f5c8310dd26c65016c039ef">codec_slice_params</a>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#ae09bf4ffba94f7b42816f75169f1f19a">nal_unit_header</a> = (<a class="code" href="cbs__h265_8h.html#af8da48f7c852d19ad67dbaee1eb929f5">H265RawNALUnitHeader</a>) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        .<a class="code" href="struct_h265_raw_n_a_l_unit_header.html#aa7b5723924ef61edb4f42334efa73bf8">nal_unit_type</a>         = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">slice_nal_unit</a>,</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        .nuh_layer_id          = 0,</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        .nuh_temporal_id_plus1 = 1,</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    };</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aaebacc6c3f4fa90ad8c67b35e8ee0918">slice_pic_parameter_set_id</a>      = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_pic_parameter_set_id;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a515ce2589dd3d04368fb0a51750e02df">first_slice_segment_in_pic_flag</a> = slice-&gt;<a class="code" href="struct_v_a_a_p_i_encode_slice.html#a70db41297dea0624085ebbacc418262c">index</a> == 0;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a2730b579a72a01a3cf213de1816f4dd1">slice_segment_address</a>           = slice-&gt;<a class="code" href="struct_v_a_a_p_i_encode_slice.html#a3a0ea0892268d865f4981ac1b56baff9">block_start</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#afff48b3ccac611560b1c07e0ea9b6806">slice_type</a> = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">slice_type</a>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a38315422d3fe0c9755eefddec0c6bad0">slice_pic_order_cnt_lsb</a> = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a> &amp;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        (1 &lt;&lt; (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_pic_order_cnt_lsb_minus4 + 4)) - 1;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> != <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab56d9a8ef94cff8f64aff4c9f115503a">PICTURE_TYPE_IDR</a>) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <a class="code" href="struct_h265_raw_s_t_ref_pic_set.html">H265RawSTRefPicSet</a> *rps;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html">VAAPIEncodeH265Picture</a> *strp;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordtype">int</span> rps_poc[<a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baca65838438d536410bdc17544ec1531c">MAX_DPB_SIZE</a>];</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordtype">int</span> rps_used[<a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baca65838438d536410bdc17544ec1531c">MAX_DPB_SIZE</a>];</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, poc, rps_pics;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#ac74ccdb5cf3c4b66c57e88821d3f086e">short_term_ref_pic_set_sps_flag</a> = 0;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        rps = &amp;sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aa1e8cf44139be14c2de4700fe67ee1f2">short_term_ref_pic_set</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        memset(rps, 0, <span class="keyword">sizeof</span>(*rps));</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        rps_pics = 0;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#af7067b239d6821ab286c9c268d1bb799">nb_refs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            strp = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">refs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a5ebeafc2d09071a391659e2acf38dda3">priv_data</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            rps_poc[rps_pics]  = strp-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            rps_used[rps_pics] = 1;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            ++rps_pics;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a00607efbf6665511840f09b80e257f50">nb_dpb_pics</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a83158ec0aff37a9b2337525a0d4b7b0c">dpb</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == pic)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#af7067b239d6821ab286c9c268d1bb799">nb_refs</a>; j++) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a83158ec0aff37a9b2337525a0d4b7b0c">dpb</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">refs</a>[j])</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">if</span> (j &lt; pic-&gt;nb_refs)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            strp = pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a83158ec0aff37a9b2337525a0d4b7b0c">dpb</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a5ebeafc2d09071a391659e2acf38dda3">priv_data</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            rps_poc[rps_pics]  = strp-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            rps_used[rps_pics] = 0;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            ++rps_pics;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; rps_pics; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="keywordflow">for</span> (j = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>; j &gt; 0; j--) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <span class="keywordflow">if</span> (rps_poc[j] &gt; rps_poc[j - 1])</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(rps_poc[j] != rps_poc[j - 1]);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<span class="keywordtype">int</span>, rps_poc[j],  rps_poc[j - 1]);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<span class="keywordtype">int</span>, rps_used[j], rps_used[j - 1]);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;RPS for POC %d:&quot;</span>,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;               hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; rps_pics; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot; (%d,%d)&quot;</span>,</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                   rps_poc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], rps_used[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; rps_pics; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(rps_poc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            <span class="keywordflow">if</span> (rps_poc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        rps-&gt;<a class="code" href="struct_h265_raw_s_t_ref_pic_set.html#a60a38f1d0f38a5b01e73cc643755738d">num_negative_pics</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        poc = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">for</span> (j = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1; j &gt;= 0; j--) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            rps-&gt;<a class="code" href="struct_h265_raw_s_t_ref_pic_set.html#a49b4e057f7e54e29936b0ab891ab5b85">delta_poc_s0_minus1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1 - j] = poc - rps_poc[j] - 1;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            rps-&gt;<a class="code" href="struct_h265_raw_s_t_ref_pic_set.html#ad36da2cbd80f201493923baa859e062e">used_by_curr_pic_s0_flag</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1 - j] = rps_used[j];</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            poc = rps_poc[j];</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        rps-&gt;<a class="code" href="struct_h265_raw_s_t_ref_pic_set.html#a37989994adf97813c8a2eb129a8f38eb">num_positive_pics</a> = rps_pics - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        poc = hpic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">pic_order_cnt</a>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">for</span> (j = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>; j &lt; rps_pics; j++) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            rps-&gt;<a class="code" href="struct_h265_raw_s_t_ref_pic_set.html#ae667ae9bb1d15f14d6a1d17b36904a30">delta_poc_s1_minus1</a>[j - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = rps_poc[j] - poc - 1;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            rps-&gt;<a class="code" href="struct_h265_raw_s_t_ref_pic_set.html#aea14516d5f287a457857ada1372bb4a2">used_by_curr_pic_s1_flag</a>[j - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = rps_used[j];</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            poc = rps_poc[j];</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aefb282e1dcc8652b454993ac4a50f130">num_long_term_sps</a>  = 0;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aa2f7270b9304da8c14109098f4867e34">num_long_term_pics</a> = 0;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a5e748dc4b97193b6cfcb909c186eb274">slice_temporal_mvp_enabled_flag</a> =</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_temporal_mvp_enabled_flag;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">if</span> (sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a5e748dc4b97193b6cfcb909c186eb274">slice_temporal_mvp_enabled_flag</a>) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#acdad52b787ca89dca23b77a2cd9b4289">collocated_from_l0_flag</a> = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#afff48b3ccac611560b1c07e0ea9b6806">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b">HEVC_SLICE_B</a>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a89a77c4686a41c058196eb0f2987cccb">collocated_ref_idx</a>      = 0;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#abb7c8e48b806394b00c1c07ea427a446">num_ref_idx_active_override_flag</a> = 0;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a62d4a1d3d99e25c9d6b84b5b6378c3ec">num_ref_idx_l0_active_minus1</a> = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l0_default_active_minus1;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a21304cb3c4509ecb79ed2cc307d26e6a">num_ref_idx_l1_active_minus1</a> = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l1_default_active_minus1;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a5fc0fb8bf36f53c71e2f0c0f78eef938">slice_sao_luma_flag</a> = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aea3677dd615e24fc47c1eb11e6683c62">slice_sao_chroma_flag</a> =</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sample_adaptive_offset_enabled_flag;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4a3d20bd96935a81d334d85be050639b">PICTURE_TYPE_B</a>)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#acd3a1cfccbffa9601ee4bdb71db7ed52">slice_qp_delta</a> = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">fixed_qp_b</a> - (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;init_qp_minus26 + 26);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a653f32daa38a2adc6d8abebcfdf44173">PICTURE_TYPE_P</a>)</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#acd3a1cfccbffa9601ee4bdb71db7ed52">slice_qp_delta</a> = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a> - (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;init_qp_minus26 + 26);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#acd3a1cfccbffa9601ee4bdb71db7ed52">slice_qp_delta</a> = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">fixed_qp_idr</a> - (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;init_qp_minus26 + 26);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    *vslice = (VAEncSliceParameterBufferHEVC) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        .slice_segment_address = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a2730b579a72a01a3cf213de1816f4dd1">slice_segment_address</a>,</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        .num_ctu_in_slice      = slice-&gt;<a class="code" href="struct_v_a_a_p_i_encode_slice.html#a21f0b514e8ad6659f990543021c83326">block_size</a>,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        .slice_type                 = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#afff48b3ccac611560b1c07e0ea9b6806">slice_type</a>,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        .slice_pic_parameter_set_id = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aaebacc6c3f4fa90ad8c67b35e8ee0918">slice_pic_parameter_set_id</a>,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        .num_ref_idx_l0_active_minus1 = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a62d4a1d3d99e25c9d6b84b5b6378c3ec">num_ref_idx_l0_active_minus1</a>,</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        .num_ref_idx_l1_active_minus1 = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a21304cb3c4509ecb79ed2cc307d26e6a">num_ref_idx_l1_active_minus1</a>,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        .luma_log2_weight_denom         = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a9793a75e340acf94e32d885fdfde3a44">luma_log2_weight_denom</a>,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        .delta_chroma_log2_weight_denom = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a96ecff056dd38fa82c9f723157c4c521">delta_chroma_log2_weight_denom</a>,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        .max_num_merge_cand = 5 - sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#ac84dd02dab15e6571b5430daf73da00c">five_minus_max_num_merge_cand</a>,</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        .slice_qp_delta     = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#acd3a1cfccbffa9601ee4bdb71db7ed52">slice_qp_delta</a>,</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        .slice_cb_qp_offset = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a2951055447e9d22d9d68b4f622aee955">slice_cb_qp_offset</a>,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        .slice_cr_qp_offset = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a64268950ec860e651fda30b7d3d4f6a6">slice_cr_qp_offset</a>,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        .slice_beta_offset_div2 = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#ab7b630fcef7d22360eb0fcf34e95a715">slice_beta_offset_div2</a>,</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        .slice_tc_offset_div2   = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#ad12a95e2ae9ce457b13ccb0ef0d1980b">slice_tc_offset_div2</a>,</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        .slice_fields.bits = {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            .last_slice_of_pic_flag       = slice-&gt;<a class="code" href="struct_v_a_a_p_i_encode_slice.html#a70db41297dea0624085ebbacc418262c">index</a> == pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a72a967758798eb575425db365946dfd6">nb_slices</a> - 1,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            .dependent_slice_segment_flag = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#ad81472e570f14b416063984bc278fb70">dependent_slice_segment_flag</a>,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            .colour_plane_id              = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a4074dd51b8a2eaa3c17e211517ef6280">colour_plane_id</a>,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            .slice_temporal_mvp_enabled_flag =</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a5e748dc4b97193b6cfcb909c186eb274">slice_temporal_mvp_enabled_flag</a>,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            .slice_sao_luma_flag          = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a5fc0fb8bf36f53c71e2f0c0f78eef938">slice_sao_luma_flag</a>,</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            .slice_sao_chroma_flag        = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aea3677dd615e24fc47c1eb11e6683c62">slice_sao_chroma_flag</a>,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            .num_ref_idx_active_override_flag =</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#abb7c8e48b806394b00c1c07ea427a446">num_ref_idx_active_override_flag</a>,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            .mvd_l1_zero_flag             = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a162dccaaec33001e9cad1e58b16db9bf">mvd_l1_zero_flag</a>,</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            .cabac_init_flag              = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a637edc918dafa5ba06d29b3028750527">cabac_init_flag</a>,</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            .slice_deblocking_filter_disabled_flag =</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#aabf433a46a6cb4e06a0b48189e4f15e5">slice_deblocking_filter_disabled_flag</a>,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            .slice_loop_filter_across_slices_enabled_flag =</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#a82cb5ddb50f064dae1da3717bc6fc840">slice_loop_filter_across_slices_enabled_flag</a>,</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            .collocated_from_l0_flag      = sh-&gt;<a class="code" href="struct_h265_raw_slice_header.html#acdad52b787ca89dca23b77a2cd9b4289">collocated_from_l0_flag</a>,</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        },</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    };</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(vslice-&gt;ref_pic_list0); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        vslice-&gt;ref_pic_list0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].picture_id = VA_INVALID_ID;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        vslice-&gt;ref_pic_list0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].flags      = VA_PICTURE_HEVC_INVALID;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        vslice-&gt;ref_pic_list1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].picture_id = VA_INVALID_ID;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        vslice-&gt;ref_pic_list1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].flags      = VA_PICTURE_HEVC_INVALID;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#af7067b239d6821ab286c9c268d1bb799">nb_refs</a> &lt;= 2);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#af7067b239d6821ab286c9c268d1bb799">nb_refs</a> &gt;= 1) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="comment">// Backward reference for P- or B-frame.</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a653f32daa38a2adc6d8abebcfdf44173">PICTURE_TYPE_P</a> ||</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                   pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4a3d20bd96935a81d334d85be050639b">PICTURE_TYPE_B</a>);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        vslice-&gt;ref_pic_list0[0] = vpic-&gt;reference_frames[0];</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#af7067b239d6821ab286c9c268d1bb799">nb_refs</a> &gt;= 2) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="comment">// Forward reference for B-frame.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">type</a> == <a class="code" href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4a3d20bd96935a81d334d85be050639b">PICTURE_TYPE_B</a>);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        vslice-&gt;ref_pic_list1[0] = vpic-&gt;reference_frames[1];</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a8661d5a9f693a205588fbc87dd741183"> 1094</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a8661d5a9f693a205588fbc87dd741183">vaapi_encode_h265_configure</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;{</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_context.html">VAAPIEncodeContext</a>      *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    err = <a class="code" href="cbs_8c.html#af4e737d195acae80b9337f9a4127a7d3">ff_cbs_init</a>(&amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aea3efe3941e42cfe26d585901fb10bf2">cbc</a>, <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>, avctx);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;va_rc_mode == VA_RC_CQP) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="comment">// Note that VAAPI only supports positive QP values - the range is</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="comment">// therefore always bounded below by 1, even in 10-bit mode where</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="comment">// it should go down to -12.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a> = av_clip(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rc_quality, 1, 51);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aef7017818f06f053f2e63fe759b30eb1">i_quant_factor</a> &gt; 0.0)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">fixed_qp_idr</a> =</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                av_clip((avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aef7017818f06f053f2e63fe759b30eb1">i_quant_factor</a> * priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a> +</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                         avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#afe9b149e17b9e28823ab3cf9732b990d">i_quant_offset</a>) + 0.5, 1, 51);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">fixed_qp_idr</a> = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a40a7fdf60f853d9140bbe1204a66efb2">b_quant_factor</a> &gt; 0.0)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">fixed_qp_b</a> =</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                av_clip((avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a40a7fdf60f853d9140bbe1204a66efb2">b_quant_factor</a> * priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a> +</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                         avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a31a2ef78cf186083c2c676dda8e226db">b_quant_offset</a>) + 0.5, 1, 51);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">fixed_qp_b</a> = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Using fixed QP = &quot;</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;               <span class="stringliteral">&quot;%d / %d / %d for IDR- / P- / B-frames.\n&quot;</span>,</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;               priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">fixed_qp_idr</a>, priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a>, priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">fixed_qp_b</a>);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="comment">// These still need to be set for init_qp/slice_qp_delta.</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">fixed_qp_idr</a> = 30;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">fixed_qp_p</a>   = 30;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">fixed_qp_b</a>   = 30;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;roi_quant_range = 51 + 6 * (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile-&gt;depth - 8);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#aa5ed456c37670c5163d744ba88f667c5"> 1139</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_v_a_a_p_i_encode_profile.html">VAAPIEncodeProfile</a> <a class="code" href="vaapi__encode__h265_8c.html#aa5ed456c37670c5163d744ba88f667c5">vaapi_encode_h265_profiles</a>[] = {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    { <a class="code" href="avcodec_8h.html#af7a5858840ff5f2c70ae33a2cd1f4228">FF_PROFILE_HEVC_MAIN</a>,     8, 3, 1, 1, VAProfileHEVCMain       },</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    { <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>,     8, 3, 1, 1, VAProfileHEVCMain       },</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">#if VA_CHECK_VERSION(0, 37, 0)</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    { <a class="code" href="avcodec_8h.html#aaf015040dda97fac08a56ddbd1dd1e31">FF_PROFILE_HEVC_MAIN_10</a>, 10, 3, 1, 1, VAProfileHEVCMain10     },</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    { <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>,    10, 3, 1, 1, VAProfileHEVCMain10     },</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="preprocessor">#if VA_CHECK_VERSION(1, 2, 0)</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    { <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>,     8, 3, 1, 0, VAProfileHEVCMain422_10 },</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    { <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>,    10, 3, 1, 0, VAProfileHEVCMain422_10 },</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    { <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a> }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;};</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a3bb4ba7b1aef45885c82ab8a4b8a851a"> 1153</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_v_a_a_p_i_encode_type.html">VAAPIEncodeType</a> <a class="code" href="vaapi__encode__h265_8c.html#a3bb4ba7b1aef45885c82ab8a4b8a851a">vaapi_encode_type_h265</a> = {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    .<a class="code" href="struct_v_a_a_p_i_encode_type.html#a4f12ecc975c957802691314dd58bcfd6">profiles</a>              = <a class="code" href="vaapi__encode__h265_8c.html#aa5ed456c37670c5163d744ba88f667c5">vaapi_encode_h265_profiles</a>,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    .flags                 = <a class="code" href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04a0bd3695af879bf892f15bfe02355b902">FLAG_SLICE_CONTROL</a> |</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                             <a class="code" href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04a4894ca430a745f72a320a8510f49abbf">FLAG_B_PICTURES</a> |</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                             <a class="code" href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04adb158c6c9512d48028d0dba677934703">FLAG_B_PICTURE_REFERENCES</a> |</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                             <a class="code" href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04abe8e15036905c4de8a6355add509c896">FLAG_NON_IDR_KEY_PICTURES</a>,</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    .default_quality       = 25,</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    .configure             = &amp;<a class="code" href="vaapi__encode__h265_8c.html#a8661d5a9f693a205588fbc87dd741183">vaapi_encode_h265_configure</a>,</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    .picture_priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="vaapi__encode__h265_8c.html#aebfe4ab3b9a1915f4a8a696c8d82278c">VAAPIEncodeH265Picture</a>),</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    .sequence_params_size  = <span class="keyword">sizeof</span>(VAEncSequenceParameterBufferHEVC),</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    .init_sequence_params  = &amp;<a class="code" href="vaapi__encode__h265_8c.html#ab94ce52f004960fcb817d893ccd34fbd">vaapi_encode_h265_init_sequence_params</a>,</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    .picture_params_size   = <span class="keyword">sizeof</span>(VAEncPictureParameterBufferHEVC),</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    .init_picture_params   = &amp;<a class="code" href="vaapi__encode__h265_8c.html#a8a1a8c928b7a92a33dde81f47d25194a">vaapi_encode_h265_init_picture_params</a>,</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    .slice_params_size     = <span class="keyword">sizeof</span>(VAEncSliceParameterBufferHEVC),</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    .init_slice_params     = &amp;<a class="code" href="vaapi__encode__h265_8c.html#addeaef0327ef16c70ccc9b692e3f02b9">vaapi_encode_h265_init_slice_params</a>,</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    .sequence_header_type  = VAEncPackedHeaderSequence,</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    .write_sequence_header = &amp;<a class="code" href="vaapi__encode__h265_8c.html#a0f173358dcba4db4161bb6adadeaba19">vaapi_encode_h265_write_sequence_header</a>,</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    .slice_header_type     = VAEncPackedHeaderHEVC_Slice,</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    .write_slice_header    = &amp;<a class="code" href="vaapi__encode__h265_8c.html#a0e1a8597093f264a2428aadd86d81615">vaapi_encode_h265_write_slice_header</a>,</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    .write_extra_header    = &amp;<a class="code" href="vaapi__encode__h265_8c.html#aff430e98f65ecc1ff29afe0d25a5f92b">vaapi_encode_h265_write_extra_header</a>,</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;};</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a178a2ec1303bf04d2b25d612a94a4556"> 1185</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a178a2ec1303bf04d2b25d612a94a4556">vaapi_encode_h265_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;{</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_context.html">VAAPIEncodeContext</a>      *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;codec = &amp;<a class="code" href="vaapi__encode__h265_8c.html#a3bb4ba7b1aef45885c82ab8a4b8a851a">vaapi_encode_type_h265</a>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> == <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a>)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a88ad7624ac3c1517f88d3a2035e54006">profile</a>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a> == <a class="code" href="avcodec_8h.html#a84a993ea19afa2cbda45b3283a598fe6">FF_LEVEL_UNKNOWN</a>)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a> = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a295b9b9fe47514b8db4fdc02d06cf4ad">level</a>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a> != <a class="code" href="avcodec_8h.html#a84a993ea19afa2cbda45b3283a598fe6">FF_LEVEL_UNKNOWN</a> &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a> &amp; ~0xff) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid level %d: must fit &quot;</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;               <span class="stringliteral">&quot;in 8-bit unsigned integer.\n&quot;</span>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;desired_packed_headers =</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        VA_ENC_PACKED_HEADER_SEQUENCE | <span class="comment">// VPS, SPS and PPS.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        VA_ENC_PACKED_HEADER_SLICE    | <span class="comment">// Slice headers.</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        VA_ENC_PACKED_HEADER_MISC;      <span class="comment">// SEI</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_width  = <a class="code" href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>,  16);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;surface_height = <a class="code" href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>, 16);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">// CTU size is currently hard-coded to 32.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_block_width = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_block_height = 32;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a8c1a8e78fa19864070e4f2b1679a0035">qp</a> &gt; 0)</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;explicit_qp = priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#a8c1a8e78fa19864070e4f2b1679a0035">qp</a>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavcodec_2vaapi__encode_8c.html#ab55f58e120cb3bc6c0c7ab82385bc6d1">ff_vaapi_encode_init</a>(avctx);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;}</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a457b0a297771255707be9e605ef7b055"> 1220</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vaapi__encode__h265_8c.html#a457b0a297771255707be9e605ef7b055">vaapi_encode_h265_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a> *priv = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="cbs_8c.html#afac1187cc18c3e4d8f3978f46437fb6a">ff_cbs_fragment_free</a>(&amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#ad5d0a7dfb75cac13583ebbad55dd04e6">current_access_unit</a>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="cbs_8c.html#a6dbebb8d16b38af408586aaebcbc70c4">ff_cbs_close</a>(&amp;priv-&gt;<a class="code" href="struct_v_a_a_p_i_encode_h265_context.html#aea3efe3941e42cfe26d585901fb10bf2">cbc</a>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavcodec_2vaapi__encode_8c.html#ac75ceee4c1b5bb20cff6639320bccf32">ff_vaapi_encode_close</a>(avctx);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 1230</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(VAAPIEncodeH265Context, x)</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d"> 1231</a></span>&#160;<span class="preprocessor">#define FLAGS (AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM)</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#ab1a761f6fb5a9ff6de36ec6ae4f92740"> 1232</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="vaapi__encode__h265_8c.html#ab1a761f6fb5a9ff6de36ec6ae4f92740">vaapi_encode_h265_options</a>[] = {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <a class="code" href="vaapi__encode_8h.html#a47f5bde2d480d3ab8d0f591a38b25080">VAAPI_ENCODE_COMMON_OPTIONS</a>,</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <a class="code" href="vaapi__encode_8h.html#a52fce90aec391a11f7587f490bc5cf9a">VAAPI_ENCODE_RC_OPTIONS</a>,</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    { <span class="stringliteral">&quot;qp&quot;</span>, <span class="stringliteral">&quot;Constant QP (for P-frames; scaled by qfactor/qoffset for I/B)&quot;</span>,</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <a class="code" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(qp), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 0 }, 0, 52, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    { <span class="stringliteral">&quot;aud&quot;</span>, <span class="stringliteral">&quot;Include AUD&quot;</span>,</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <a class="code" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a7504445d398235ced7f02944d1146623">aud</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    { <span class="stringliteral">&quot;profile&quot;</span>, <span class="stringliteral">&quot;Set profile (general_profile_idc)&quot;</span>,</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <a class="code" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      { .i64 = <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a> }, <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a>, 0xff, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="preprocessor">#define PROFILE(name, value)  name, NULL, 0, AV_OPT_TYPE_CONST, \</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="preprocessor">      { .i64 = value }, 0, 0, FLAGS, &quot;profile&quot;</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a>(<span class="stringliteral">&quot;main&quot;</span>,               <a class="code" href="avcodec_8h.html#af7a5858840ff5f2c70ae33a2cd1f4228">FF_PROFILE_HEVC_MAIN</a>) },</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a>(<span class="stringliteral">&quot;main10&quot;</span>,             <a class="code" href="avcodec_8h.html#aaf015040dda97fac08a56ddbd1dd1e31">FF_PROFILE_HEVC_MAIN_10</a>) },</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a>(<span class="stringliteral">&quot;rext&quot;</span>,               <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>) },</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="preprocessor">#undef PROFILE</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    { <span class="stringliteral">&quot;tier&quot;</span>, <span class="stringliteral">&quot;Set tier (general_tier_flag)&quot;</span>,</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(tier), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      { .i64 = 0 }, 0, 1, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;tier&quot;</span> },</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    { <span class="stringliteral">&quot;main&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      { .i64 = 0 }, 0, 0, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;tier&quot;</span> },</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    { <span class="stringliteral">&quot;high&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      { .i64 = 1 }, 0, 0, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;tier&quot;</span> },</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    { <span class="stringliteral">&quot;level&quot;</span>, <span class="stringliteral">&quot;Set level (general_level_idc)&quot;</span>,</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <a class="code" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      { .i64 = <a class="code" href="avcodec_8h.html#a84a993ea19afa2cbda45b3283a598fe6">FF_LEVEL_UNKNOWN</a> }, <a class="code" href="avcodec_8h.html#a84a993ea19afa2cbda45b3283a598fe6">FF_LEVEL_UNKNOWN</a>, 0xff, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;level&quot;</span> },</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="preprocessor">#define LEVEL(name, value) name, NULL, 0, AV_OPT_TYPE_CONST, \</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="preprocessor">      { .i64 = value }, 0, 0, FLAGS, &quot;level&quot;</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;1&quot;</span>,    30) },</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;2&quot;</span>,    60) },</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;2.1&quot;</span>,  63) },</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;3&quot;</span>,    90) },</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;3.1&quot;</span>,  93) },</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;4&quot;</span>,   120) },</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;4.1&quot;</span>, 123) },</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;5&quot;</span>,   150) },</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;5.1&quot;</span>, 153) },</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;5.2&quot;</span>, 156) },</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;6&quot;</span>,   180) },</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;6.1&quot;</span>, 183) },</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    { <a class="code" href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a>(<span class="stringliteral">&quot;6.2&quot;</span>, 186) },</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="preprocessor">#undef LEVEL</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    { <span class="stringliteral">&quot;sei&quot;</span>, <span class="stringliteral">&quot;Set SEI to include&quot;</span>,</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <a class="code" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e">AV_OPT_TYPE_FLAGS</a>,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      { .i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">SEI_MASTERING_DISPLAY</a> | <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">SEI_CONTENT_LIGHT_LEVEL</a> },</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      0, INT_MAX, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;sei&quot;</span> },</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    { <span class="stringliteral">&quot;hdr&quot;</span>,</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="stringliteral">&quot;Include HDR metadata for mastering display colour volume &quot;</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <span class="stringliteral">&quot;and content light level information&quot;</span>,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      { .i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">SEI_MASTERING_DISPLAY</a> | <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">SEI_CONTENT_LIGHT_LEVEL</a> },</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      INT_MIN, INT_MAX, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;sei&quot;</span> },</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    { <span class="stringliteral">&quot;tiles&quot;</span>, <span class="stringliteral">&quot;Tile columns x rows&quot;</span>,</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <a class="code" href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(common.tile_cols), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a078f280b98b49a9f585c5d479b711d9a">AV_OPT_TYPE_IMAGE_SIZE</a>,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;};</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#ab3287c5bf28d61442316f97ef13505e5"> 1300</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_default.html">AVCodecDefault</a> <a class="code" href="vaapi__encode__h265_8c.html#ab3287c5bf28d61442316f97ef13505e5">vaapi_encode_h265_defaults</a>[] = {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    { <span class="stringliteral">&quot;b&quot;</span>,              <span class="stringliteral">&quot;0&quot;</span>   },</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    { <span class="stringliteral">&quot;bf&quot;</span>,             <span class="stringliteral">&quot;2&quot;</span>   },</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    { <span class="stringliteral">&quot;g&quot;</span>,              <span class="stringliteral">&quot;120&quot;</span> },</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    { <span class="stringliteral">&quot;i_qfactor&quot;</span>,      <span class="stringliteral">&quot;1&quot;</span>   },</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    { <span class="stringliteral">&quot;i_qoffset&quot;</span>,      <span class="stringliteral">&quot;0&quot;</span>   },</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    { <span class="stringliteral">&quot;b_qfactor&quot;</span>,      <span class="stringliteral">&quot;6/5&quot;</span> },</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    { <span class="stringliteral">&quot;b_qoffset&quot;</span>,      <span class="stringliteral">&quot;0&quot;</span>   },</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    { <span class="stringliteral">&quot;qmin&quot;</span>,           <span class="stringliteral">&quot;-1&quot;</span>  },</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    { <span class="stringliteral">&quot;qmax&quot;</span>,           <span class="stringliteral">&quot;-1&quot;</span>  },</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;};</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#ade1c8544ee9bcb41161960055de8bb8e"> 1313</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="vaapi__encode__h265_8c.html#ade1c8544ee9bcb41161960055de8bb8e">vaapi_encode_h265_class</a> = {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;h265_vaapi&quot;</span>,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    .option     = <a class="code" href="vaapi__encode__h265_8c.html#ab1a761f6fb5a9ff6de36ec6ae4f92740">vaapi_encode_h265_options</a>,</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;};</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="vaapi__encode__h265_8c.html#a4c05c2aa2309a25071b0fbf5cd586516"> 1320</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="vaapi__encode__h265_8c.html#a4c05c2aa2309a25071b0fbf5cd586516">ff_hevc_vaapi_encoder</a> = {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;hevc_vaapi&quot;</span>,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;H.265/HEVC (VAAPI)&quot;</span>),</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="vaapi__encode__h265_8c.html#ab789821233a7a86259723a45f66a397e">VAAPIEncodeH265Context</a>),</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = &amp;<a class="code" href="vaapi__encode__h265_8c.html#a178a2ec1303bf04d2b25d612a94a4556">vaapi_encode_h265_init</a>,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    .receive_packet = &amp;<a class="code" href="libavcodec_2vaapi__encode_8c.html#aa28619b3d9fec15b23657f531b1dd6ee">ff_vaapi_encode_receive_packet</a>,</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    .close          = &amp;<a class="code" href="vaapi__encode__h265_8c.html#a457b0a297771255707be9e605ef7b055">vaapi_encode_h265_close</a>,</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    .priv_class     = &amp;<a class="code" href="vaapi__encode__h265_8c.html#ade1c8544ee9bcb41161960055de8bb8e">vaapi_encode_h265_class</a>,</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a> | <a class="code" href="group__lavc__core.html#gad4cbd44018d5bf16beefd73b465327c2">AV_CODEC_CAP_HARDWARE</a>,</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    .caps_internal  = <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    .<a class="code" href="amfenc__h264_8c.html#a06a81528f29475b48d86ad34c9e65223">defaults</a>       = <a class="code" href="vaapi__encode__h265_8c.html#ab3287c5bf28d61442316f97ef13505e5">vaapi_encode_h265_defaults</a>,</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a> = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a>,</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    },</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    .hw_configs     = <a class="code" href="libavcodec_2vaapi__encode_8c.html#a35f8a0672b026556d23848415260b9e3">ff_vaapi_encode_hw_configs</a>,</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    .wrapper_name   = <span class="stringliteral">&quot;vaapi&quot;</span>,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aavcodec_8h_html_aedc45d7b874ec5c3e4e9b6e9d948abc4"><div class="ttname"><a href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_REXT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01950">avcodec.h:1950</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a4a3d20bd96935a81d334d85be050639b"><div class="ttname"><a href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4a3d20bd96935a81d334d85be050639b">PICTURE_TYPE_B</a></div><div class="ttdeci">@ PICTURE_TYPE_B</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00058">vaapi_encode.h:58</a></div></div>
<div class="ttc" id="ahevc__sei_8h_html_abba0b9185313c25cb08327f8ee281bd1aa5e68dcb556416bc48795a3fb785c53d"><div class="ttname"><a href="hevc__sei_8h.html#abba0b9185313c25cb08327f8ee281bd1aa5e68dcb556416bc48795a3fb785c53d">HEVC_SEI_TYPE_CONTENT_LIGHT_LEVEL_INFO</a></div><div class="ttdeci">@ HEVC_SEI_TYPE_CONTENT_LIGHT_LEVEL_INFO</div><div class="ttdef"><b>Definition:</b> <a href="hevc__sei_8h_source.html#l00057">hevc_sei.h:57</a></div></div>
<div class="ttc" id="aaf__astats_8c_html_a3fb64d8b9f96155a5d4138e186198917"><div class="ttname"><a href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a></div><div class="ttdeci">static void bit_depth(AudioStatsContext *s, uint64_t mask, uint64_t imask, AVRational *depth)</div><div class="ttdef"><b>Definition:</b> <a href="af__astats_8c_source.html#l00254">af_astats.c:254</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a66df2dc25cb32b3ee79edf81eb53b8c5"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a66df2dc25cb32b3ee79edf81eb53b8c5">VAAPIEncodeH265Context::sei_content_light_level</a></div><div class="ttdeci">H265RawSEIContentLightLevelInfo sei_content_light_level</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00080">vaapi_encode_h265.c:80</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b53fda85ad61baa345edbd96cb8a33c"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">AVCodecContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00576">avcodec.h:576</a></div></div>
<div class="ttc" id="acbs__h265_8h_html_a477ee52a18a76ccfa1fa091f76ed6363"><div class="ttname"><a href="cbs__h265_8h.html#a477ee52a18a76ccfa1fa091f76ed6363">H265RawAUD</a></div><div class="ttdeci">struct H265RawAUD H265RawAUD</div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab649e8c599f5a0e2a30448e67a36deb6"><div class="ttname"><a href="struct_a_v_codec_context.html#ab649e8c599f5a0e2a30448e67a36deb6">AVCodecContext::color_trc</a></div><div class="ttdeci">enum AVColorTransferCharacteristic color_trc</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1147</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a5b758d81b6b4234099bcdf2e801e3454"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a5b758d81b6b4234099bcdf2e801e3454">H265RawVUI::video_signal_type_present_flag</a></div><div class="ttdeci">uint8_t video_signal_type_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00144">cbs_h265.h:144</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_abdd10141f1025ea3a6903bafd450cbf7"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#abdd10141f1025ea3a6903bafd450cbf7">VAAPIEncodePicture::input_image</a></div><div class="ttdeci">AVFrame * input_image</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00090">vaapi_encode.h:90</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a7b20419c52cbcfb242f90a8b35edfc14"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a7b20419c52cbcfb242f90a8b35edfc14">VAAPIEncodePicture::recon_surface</a></div><div class="ttdeci">VASurfaceID recon_surface</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00094">vaapi_encode.h:94</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_picture_html_aaec01e3b49cdfd1d3431506f34c42fb3"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_picture.html#aaec01e3b49cdfd1d3431506f34c42fb3">VAAPIEncodeH265Picture::last_idr_frame</a></div><div class="ttdeci">int64_t last_idr_frame</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00048">vaapi_encode_h265.c:48</a></div></div>
<div class="ttc" id="alibavformat_2hevc_8h_html"><div class="ttname"><a href="libavformat_2hevc_8h.html">hevc.h</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_ac523a04c45ce9edb0df974b006a62394"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#ac523a04c45ce9edb0df974b006a62394">VAAPIEncodeH265Context::raw_sps</a></div><div class="ttdeci">H265RawSPS raw_sps</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00074">vaapi_encode_h265.c:74</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_ad12a95e2ae9ce457b13ccb0ef0d1980b"><div class="ttname"><a href="struct_h265_raw_slice_header.html#ad12a95e2ae9ce457b13ccb0ef0d1980b">H265RawSliceHeader::slice_tc_offset_div2</a></div><div class="ttdeci">int8_t slice_tc_offset_div2</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00529">cbs_h265.h:529</a></div></div>
<div class="ttc" id="astruct_a_v_content_light_metadata_html_a9d2d7743a599c9b2f2a07a9504625b92"><div class="ttname"><a href="struct_a_v_content_light_metadata.html#a9d2d7743a599c9b2f2a07a9504625b92">AVContentLightMetadata::MaxCLL</a></div><div class="ttdeci">unsigned MaxCLL</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00102">mastering_display_metadata.h:102</a></div></div>
<div class="ttc" id="acommon_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gadec0efb470b1eead6a979333d9deca0c"><div class="ttname"><a href="group__lavu__frame.html#gadec0efb470b1eead6a979333d9deca0c">av_frame_get_side_data</a></div><div class="ttdeci">AVFrameSideData * av_frame_get_side_data(const AVFrame *frame, enum AVFrameSideDataType type)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00738">frame.c:738</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a402d6969e405274267140151b818bfcf"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a402d6969e405274267140151b818bfcf">H265RawProfileTierLevel::general_max_420chroma_constraint_flag</a></div><div class="ttdeci">uint8_t general_max_420chroma_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00059">cbs_h265.h:59</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_picture_html_af38efb0e9c99344d4b95e28f10677171"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_picture.html#af38efb0e9c99344d4b95e28f10677171">VAAPIEncodeH265Picture::slice_nal_unit</a></div><div class="ttdeci">int slice_nal_unit</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00050">vaapi_encode_h265.c:50</a></div></div>
<div class="ttc" id="apixdesc_8c_html_afe0c3e8aef5173de28bbdaea4298f5f0"><div class="ttname"><a href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a></div><div class="ttdeci">const AVPixFmtDescriptor * av_pix_fmt_desc_get(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02573">pixdesc.c:2573</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gab4faa0afdf35076914824200331defff"><div class="ttname"><a href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a></div><div class="ttdeci">#define AVERROR_EOF</div><div class="ttdoc">End of file.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00055">error.h:55</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gad4cbd44018d5bf16beefd73b465327c2"><div class="ttname"><a href="group__lavc__core.html#gad4cbd44018d5bf16beefd73b465327c2">AV_CODEC_CAP_HARDWARE</a></div><div class="ttdeci">#define AV_CODEC_CAP_HARDWARE</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00150">codec.h:150</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_abc6126af1d45847bc59afa0aa3216b04adb158c6c9512d48028d0dba677934703"><div class="ttname"><a href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04adb158c6c9512d48028d0dba677934703">FLAG_B_PICTURE_REFERENCES</a></div><div class="ttdeci">@ FLAG_B_PICTURE_REFERENCES</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00360">vaapi_encode.h:360</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a990d7ec9ddfeda0d522e0856eaf84efd"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a990d7ec9ddfeda0d522e0856eaf84efd">VAAPIEncodePicture::prev</a></div><div class="ttdeci">struct VAAPIEncodePicture * prev</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00119">vaapi_encode.h:119</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_adcfe6b894df05c6288d9695fdf3b954d"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#adcfe6b894df05c6288d9695fdf3b954d">H265RawVUI::video_format</a></div><div class="ttdeci">uint8_t video_format</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00145">cbs_h265.h:145</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_afff48b3ccac611560b1c07e0ea9b6806"><div class="ttname"><a href="struct_h265_raw_slice_header.html#afff48b3ccac611560b1c07e0ea9b6806">H265RawSliceHeader::slice_type</a></div><div class="ttdeci">uint8_t slice_type</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00462">cbs_h265.h:462</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a943f64211ad5e51cc73ec7090662d41c"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a943f64211ad5e51cc73ec7090662d41c">VAAPIEncodeH265Context::raw_pps</a></div><div class="ttdeci">H265RawPPS raw_pps</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00075">vaapi_encode_h265.c:75</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_ae09bf4ffba94f7b42816f75169f1f19a"><div class="ttname"><a href="struct_h265_raw_slice_header.html#ae09bf4ffba94f7b42816f75169f1f19a">H265RawSliceHeader::nal_unit_header</a></div><div class="ttdeci">H265RawNALUnitHeader nal_unit_header</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00452">cbs_h265.h:452</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a6354a1ca57d8372a0a8b6a44d3645393"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a6354a1ca57d8372a0a8b6a44d3645393">vaapi_encode_h265_add_nal</a></div><div class="ttdeci">static int vaapi_encode_h265_add_nal(AVCodecContext *avctx, CodedBitstreamFragment *au, void *nal_unit)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00115">vaapi_encode_h265.c:115</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_p_s_html"><div class="ttname"><a href="struct_h265_raw_v_p_s.html">H265RawVPS</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00191">cbs_h265.h:191</a></div></div>
<div class="ttc" id="apixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a7575f6e353011a578098384db2fac1d0"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a7575f6e353011a578098384db2fac1d0">VAAPIEncodeH265Context::raw_aud</a></div><div class="ttdeci">H265RawAUD raw_aud</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00072">vaapi_encode_h265.c:72</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a></div><div class="ttdeci">@ AVCOL_RANGE_JPEG</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00586">pixfmt.h:586</a></div></div>
<div class="ttc" id="acbs_8c_html_aaa28071334c4823ab5d299a458c06070"><div class="ttname"><a href="cbs_8c.html#aaa28071334c4823ab5d299a458c06070">ff_cbs_fragment_reset</a></div><div class="ttdeci">void ff_cbs_fragment_reset(CodedBitstreamFragment *frag)</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8c_source.html#l00147">cbs.c:147</a></div></div>
<div class="ttc" id="astruct_coded_bitstream_context_html"><div class="ttname"><a href="struct_coded_bitstream_context.html">CodedBitstreamContext</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs_8h_source.html#l00170">cbs.h:170</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_picture_html"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_picture.html">VAAPIEncodeH265Picture</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00045">vaapi_encode_h265.c:45</a></div></div>
<div class="ttc" id="acbs_8c_html_a6dbebb8d16b38af408586aaebcbc70c4"><div class="ttname"><a href="cbs_8c.html#a6dbebb8d16b38af408586aaebcbc70c4">ff_cbs_close</a></div><div class="ttdeci">void ff_cbs_close(CodedBitstreamContext **ctx_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8c_source.html#l00121">cbs.c:121</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a49a5ad32b06374c9a2e96f44ffbfd7e9"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a49a5ad32b06374c9a2e96f44ffbfd7e9">H265RawVUI::motion_vectors_over_pic_boundaries_flag</a></div><div class="ttdeci">uint8_t motion_vectors_over_pic_boundaries_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00176">cbs_h265.h:176</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab"><div class="ttname"><a href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab">AVCOL_TRC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_TRC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00486">pixfmt.h:486</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_ab56cfb4c37b829a479d565cbab10dc3b"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#ab56cfb4c37b829a479d565cbab10dc3b">VAAPIEncodeH265Context::raw_vps</a></div><div class="ttdeci">H265RawVPS raw_vps</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00073">vaapi_encode_h265.c:73</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_html"><div class="ttname"><a href="struct_h265_raw_s_e_i.html">H265RawSEI</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00721">cbs_h265.h:721</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a09dbdda5a7adb690731a3d90502f91d6"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a09dbdda5a7adb690731a3d90502f91d6">HEVC_NAL_RASL_N</a></div><div class="ttdeci">@ HEVC_NAL_RASL_N</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00037">hevc.h:37</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="alibavcodec_2vaapi__encode_8c_html_ac75ceee4c1b5bb20cff6639320bccf32"><div class="ttname"><a href="libavcodec_2vaapi__encode_8c.html#ac75ceee4c1b5bb20cff6639320bccf32">ff_vaapi_encode_close</a></div><div class="ttdeci">av_cold int ff_vaapi_encode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vaapi__encode_8c_source.html#l02528">vaapi_encode.c:2528</a></div></div>
<div class="ttc" id="acbs_8h_html"><div class="ttname"><a href="cbs_8h.html">cbs.h</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a2730b579a72a01a3cf213de1816f4dd1"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a2730b579a72a01a3cf213de1816f4dd1">H265RawSliceHeader::slice_segment_address</a></div><div class="ttdeci">uint16_t slice_segment_address</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00459">cbs_h265.h:459</a></div></div>
<div class="ttc" id="acbs__h265_8h_html"><div class="ttname"><a href="cbs__h265_8h.html">cbs_h265.h</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a84a993ea19afa2cbda45b3283a598fe6"><div class="ttname"><a href="avcodec_8h.html#a84a993ea19afa2cbda45b3283a598fe6">FF_LEVEL_UNKNOWN</a></div><div class="ttdeci">#define FF_LEVEL_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01983">avcodec.h:1983</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a97140f13b072118dc4cb5b8fef730a2c"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a97140f13b072118dc4cb5b8fef730a2c">H265RawVUI::vui_time_scale</a></div><div class="ttdeci">uint32_t vui_time_scale</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00168">cbs_h265.h:168</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html">AVMasteringDisplayMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00038">mastering_display_metadata.h:38</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_t_ref_pic_set_html_ad36da2cbd80f201493923baa859e062e"><div class="ttname"><a href="struct_h265_raw_s_t_ref_pic_set.html#ad36da2cbd80f201493923baa859e062e">H265RawSTRefPicSet::used_by_curr_pic_s0_flag</a></div><div class="ttdeci">uint8_t used_by_curr_pic_s0_flag[HEVC_MAX_REFS]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00240">cbs_h265.h:240</a></div></div>
<div class="ttc" id="acbs_8c_html_afac1187cc18c3e4d8f3978f46437fb6a"><div class="ttname"><a href="cbs_8c.html#afac1187cc18c3e4d8f3978f46437fb6a">ff_cbs_fragment_free</a></div><div class="ttdeci">void ff_cbs_fragment_free(CodedBitstreamFragment *frag)</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8c_source.html#l00161">cbs.c:161</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a9793a75e340acf94e32d885fdfde3a44"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a9793a75e340acf94e32d885fdfde3a44">H265RawSliceHeader::luma_log2_weight_denom</a></div><div class="ttdeci">uint8_t luma_log2_weight_denom</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00500">cbs_h265.h:500</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_ad81472e570f14b416063984bc278fb70"><div class="ttname"><a href="struct_h265_raw_slice_header.html#ad81472e570f14b416063984bc278fb70">H265RawSliceHeader::dependent_slice_segment_flag</a></div><div class="ttdeci">uint8_t dependent_slice_segment_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00458">cbs_h265.h:458</a></div></div>
<div class="ttc" id="astruct_h265_raw_p_p_s_html"><div class="ttname"><a href="struct_h265_raw_p_p_s.html">H265RawPPS</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00354">cbs_h265.h:354</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_ab3287c5bf28d61442316f97ef13505e5"><div class="ttname"><a href="vaapi__encode__h265_8c.html#ab3287c5bf28d61442316f97ef13505e5">vaapi_encode_h265_defaults</a></div><div class="ttdeci">static const AVCodecDefault vaapi_encode_h265_defaults[]</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01300">vaapi_encode_h265.c:1300</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a71966a0785a63842d1e1a0ce91b0578f"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a71966a0785a63842d1e1a0ce91b0578f">VAAPIEncodePicture::b_depth</a></div><div class="ttdeci">int b_depth</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00086">vaapi_encode.h:86</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a5e748dc4b97193b6cfcb909c186eb274"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a5e748dc4b97193b6cfcb909c186eb274">H265RawSliceHeader::slice_temporal_mvp_enabled_flag</a></div><div class="ttdeci">uint8_t slice_temporal_mvp_enabled_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00481">cbs_h265.h:481</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a457b0a297771255707be9e605ef7b055"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a457b0a297771255707be9e605ef7b055">vaapi_encode_h265_close</a></div><div class="ttdeci">static av_cold int vaapi_encode_h265_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01220">vaapi_encode_h265.c:1220</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_aa04e55c3b15425ee5dcec83eab189a08"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#aa04e55c3b15425ee5dcec83eab189a08">H265RawVUI::vui_hrd_parameters_present_flag</a></div><div class="ttdeci">uint8_t vui_hrd_parameters_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00171">cbs_h265.h:171</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_ae1859bab36dcee8ed212da1169b0e1b7"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#ae1859bab36dcee8ed212da1169b0e1b7">H265RawProfileTierLevel::general_profile_idc</a></div><div class="ttdeci">uint8_t general_profile_idc</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00046">cbs_h265.h:46</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_mastering_display_colour_volume_html_ae1854554979e7931ecf3a84554c8a0bd"><div class="ttname"><a href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#ae1854554979e7931ecf3a84554c8a0bd">H265RawSEIMasteringDisplayColourVolume::display_primaries_y</a></div><div class="ttdeci">uint16_t display_primaries_y[3]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00666">cbs_h265.h:666</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_abc6126af1d45847bc59afa0aa3216b04a4894ca430a745f72a320a8510f49abbf"><div class="ttname"><a href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04a4894ca430a745f72a320a8510f49abbf">FLAG_B_PICTURES</a></div><div class="ttdeci">@ FLAG_B_PICTURES</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00358">vaapi_encode.h:358</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a99bb728e1307537bf40831ebcb06b774"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a99bb728e1307537bf40831ebcb06b774">VAAPIEncodeH265Context::fixed_qp_idr</a></div><div class="ttdeci">int fixed_qp_idr</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00067">vaapi_encode_h265.c:67</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a515ce2589dd3d04368fb0a51750e02df"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a515ce2589dd3d04368fb0a51750e02df">H265RawSliceHeader::first_slice_segment_in_pic_flag</a></div><div class="ttdeci">uint8_t first_slice_segment_in_pic_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00454">cbs_h265.h:454</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a2951055447e9d22d9d68b4f622aee955"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a2951055447e9d22d9d68b4f622aee955">H265RawSliceHeader::slice_cb_qp_offset</a></div><div class="ttdeci">int8_t slice_cb_qp_offset</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00519">cbs_h265.h:519</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a0b5603bae3f5d92488a246b62b7393e6"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a0b5603bae3f5d92488a246b62b7393e6">VAAPIEncodePicture::codec_picture_params</a></div><div class="ttdeci">void * codec_picture_params</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00103">vaapi_encode.h:103</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a61bc765938c8fd05a6d68c446c26a682"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a61bc765938c8fd05a6d68c446c26a682">H265RawVUI::sar_height</a></div><div class="ttdeci">uint16_t sar_height</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00139">cbs_h265.h:139</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a82cb5ddb50f064dae1da3717bc6fc840"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a82cb5ddb50f064dae1da3717bc6fc840">H265RawSliceHeader::slice_loop_filter_across_slices_enabled_flag</a></div><div class="ttdeci">uint8_t slice_loop_filter_across_slices_enabled_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00530">cbs_h265.h:530</a></div></div>
<div class="ttc" id="astruct_a_v_codec_default_html"><div class="ttname"><a href="struct_a_v_codec_default.html">AVCodecDefault</a></div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00208">internal.h:208</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a684eb191a4469521b7e1a30233ed3e12"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a684eb191a4469521b7e1a30233ed3e12">H265RawVUI::max_bits_per_min_cu_denom</a></div><div class="ttdeci">uint8_t max_bits_per_min_cu_denom</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00180">cbs_h265.h:180</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html"><div class="ttname"><a href="vaapi__encode_8h.html">vaapi_encode.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac60a0209642b5d74068cab0ac35a78b2"><div class="ttname"><a href="struct_a_v_codec_context.html#ac60a0209642b5d74068cab0ac35a78b2">AVCodecContext::chroma_sample_location</a></div><div class="ttdeci">enum AVChromaLocation chroma_sample_location</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1168</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_ab94ce52f004960fcb817d893ccd34fbd"><div class="ttname"><a href="vaapi__encode__h265_8c.html#ab94ce52f004960fcb817d893ccd34fbd">vaapi_encode_h265_init_sequence_params</a></div><div class="ttdeci">static int vaapi_encode_h265_init_sequence_params(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00257">vaapi_encode_h265.c:257</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a3a41b3e5bde23b877799f6e72dac8ef3"><div class="ttname"><a href="struct_a_v_codec_context.html#a3a41b3e5bde23b877799f6e72dac8ef3">AVCodecContext::color_primaries</a></div><div class="ttdeci">enum AVColorPrimaries color_primaries</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1140</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_ac685dd07744e90202e5486f176531702"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#ac685dd07744e90202e5486f176531702">H265RawVUI::chroma_sample_loc_type_top_field</a></div><div class="ttdeci">uint8_t chroma_sample_loc_type_top_field</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00153">cbs_h265.h:153</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a455b050a491e1ce16c0b80781643be42"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a455b050a491e1ce16c0b80781643be42">VAAPIEncodePicture::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00085">vaapi_encode.h:85</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_ade1c8544ee9bcb41161960055de8bb8e"><div class="ttname"><a href="vaapi__encode__h265_8c.html#ade1c8544ee9bcb41161960055de8bb8e">vaapi_encode_h265_class</a></div><div class="ttdeci">static const AVClass vaapi_encode_h265_class</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01313">vaapi_encode_h265.c:1313</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_aea3efe3941e42cfe26d585901fb10bf2"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#aea3efe3941e42cfe26d585901fb10bf2">VAAPIEncodeH265Context::cbc</a></div><div class="ttdeci">CodedBitstreamContext * cbc</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00082">vaapi_encode_h265.c:82</a></div></div>
<div class="ttc" id="aamfenc__h264_8c_html_a06a81528f29475b48d86ad34c9e65223"><div class="ttname"><a href="amfenc__h264_8c.html#a06a81528f29475b48d86ad34c9e65223">defaults</a></div><div class="ttdeci">static const AVCodecDefault defaults[]</div><div class="ttdef"><b>Definition:</b> <a href="amfenc__h264_8c_source.html#l00361">amfenc_h264.c:361</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_af40ce45662f3a98cb700c70813cf277c"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#af40ce45662f3a98cb700c70813cf277c">H265RawProfileTierLevel::general_max_10bit_constraint_flag</a></div><div class="ttdeci">uint8_t general_max_10bit_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00056">cbs_h265.h:56</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_t_ref_pic_set_html_a37989994adf97813c8a2eb129a8f38eb"><div class="ttname"><a href="struct_h265_raw_s_t_ref_pic_set.html#a37989994adf97813c8a2eb129a8f38eb">H265RawSTRefPicSet::num_positive_pics</a></div><div class="ttdeci">uint8_t num_positive_pics</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00238">cbs_h265.h:238</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_af86e783549c00135842c25c7511e77a2"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#af86e783549c00135842c25c7511e77a2">H265RawVUI::video_full_range_flag</a></div><div class="ttdeci">uint8_t video_full_range_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00146">cbs_h265.h:146</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga4fd9c0b8e663cf3d55e89fbc6ce71602"><div class="ttname"><a href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a></div><div class="ttdeci">int av_reduce(int *dst_num, int *dst_den, int64_t num, int64_t den, int64_t max)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00035">rational.c:35</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html"><div class="ttname"><a href="struct_h265_raw_v_u_i.html">H265RawVUI</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00135">cbs_h265.h:135</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_abb7c8e48b806394b00c1c07ea427a446"><div class="ttname"><a href="struct_h265_raw_slice_header.html#abb7c8e48b806394b00c1c07ea427a446">H265RawSliceHeader::num_ref_idx_active_override_flag</a></div><div class="ttdeci">uint8_t num_ref_idx_active_override_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00486">cbs_h265.h:486</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html">VAAPIEncodeH265Context</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00055">vaapi_encode_h265.c:55</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a73689bdaa2702919f4428e049365f301"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a73689bdaa2702919f4428e049365f301">VAAPIEncodeH265Context::aud_needed</a></div><div class="ttdeci">int aud_needed</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00084">vaapi_encode_h265.c:84</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_t_ref_pic_set_html_a60a38f1d0f38a5b01e73cc643755738d"><div class="ttname"><a href="struct_h265_raw_s_t_ref_pic_set.html#a60a38f1d0f38a5b01e73cc643755738d">H265RawSTRefPicSet::num_negative_pics</a></div><div class="ttdeci">uint8_t num_negative_pics</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00237">cbs_h265.h:237</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a31a2ef78cf186083c2c676dda8e226db"><div class="ttname"><a href="struct_a_v_codec_context.html#a31a2ef78cf186083c2c676dda8e226db">AVCodecContext::b_quant_offset</a></div><div class="ttdeci">float b_quant_offset</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00808">avcodec.h:808</a></div></div>
<div class="ttc" id="astruct_a_v_content_light_metadata_html_a4e9bfc44c6b87bbf096141fae12e1692"><div class="ttname"><a href="struct_a_v_content_light_metadata.html#a4e9bfc44c6b87bbf096141fae12e1692">AVContentLightMetadata::MaxFALL</a></div><div class="ttdeci">unsigned MaxFALL</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00107">mastering_display_metadata.h:107</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a295b9b9fe47514b8db4fdc02d06cf4ad"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a295b9b9fe47514b8db4fdc02d06cf4ad">VAAPIEncodeH265Context::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00063">vaapi_encode_h265.c:63</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="atablegen_8h_html_acb2450405534f2af2557e0d2487c09dc"><div class="ttname"><a href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a></div><div class="ttdeci">#define lrint</div><div class="ttdef"><b>Definition:</b> <a href="tablegen_8h_source.html#l00053">tablegen.h:53</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a3ff01d5b63234a540d4e881354e0be51"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a3ff01d5b63234a540d4e881354e0be51">H265RawVUI::sar_width</a></div><div class="ttdeci">uint16_t sar_width</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00138">cbs_h265.h:138</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_abc6126af1d45847bc59afa0aa3216b04abe8e15036905c4de8a6355add509c896"><div class="ttname"><a href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04abe8e15036905c4de8a6355add509c896">FLAG_NON_IDR_KEY_PICTURES</a></div><div class="ttdeci">@ FLAG_NON_IDR_KEY_PICTURES</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00363">vaapi_encode.h:363</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aavcodec_8h_html_af7a5858840ff5f2c70ae33a2cd1f4228"><div class="ttname"><a href="avcodec_8h.html#af7a5858840ff5f2c70ae33a2cd1f4228">FF_PROFILE_HEVC_MAIN</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_MAIN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01947">avcodec.h:1947</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a841b7f53cac8145dc0bb0a21d537a334"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a841b7f53cac8145dc0bb0a21d537a334">VAAPIEncodeH265Context::fixed_qp_b</a></div><div class="ttdeci">int fixed_qp_b</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00069">vaapi_encode_h265.c:69</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_afe9b149e17b9e28823ab3cf9732b990d"><div class="ttname"><a href="struct_a_v_codec_context.html#afe9b149e17b9e28823ab3cf9732b990d">AVCodecContext::i_quant_offset</a></div><div class="ttdeci">float i_quant_offset</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00838">avcodec.h:838</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a7c4753daf16561a74212f5fd73362fd7"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a7c4753daf16561a74212f5fd73362fd7">H265RawProfileTierLevel::general_progressive_source_flag</a></div><div class="ttdeci">uint8_t general_progressive_source_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00050">cbs_h265.h:50</a></div></div>
<div class="ttc" id="ah265__levels_8c_html_a36871c498b69e919ade4c667e3ee94cd"><div class="ttname"><a href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a></div><div class="ttdeci">const H265RawProfileTierLevel * ptl</div><div class="ttdef"><b>Definition:</b> <a href="h265__levels_8c_source.html#l00170">h265_levels.c:170</a></div></div>
<div class="ttc" id="ah265__profile__level_8c_html_a48f0ed8030281f89cc01bf8521895332"><div class="ttname"><a href="h265__profile__level_8c.html#a48f0ed8030281f89cc01bf8521895332">ff_h265_guess_level</a></div><div class="ttdeci">const H265LevelDescriptor * ff_h265_guess_level(const H265RawProfileTierLevel *ptl, int64_t bitrate, int width, int height, int slice_segments, int tile_rows, int tile_cols, int max_dec_pic_buffering)</div><div class="ttdef"><b>Definition:</b> <a href="h265__profile__level_8c_source.html#l00174">h265_profile_level.c:174</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a9eebe7f94b36d0ca6c1befd6acae0ca8"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a9eebe7f94b36d0ca6c1befd6acae0ca8">H265RawVUI::vui_poc_proportional_to_timing_flag</a></div><div class="ttdeci">uint8_t vui_poc_proportional_to_timing_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00169">cbs_h265.h:169</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_ab789821233a7a86259723a45f66a397e"><div class="ttname"><a href="vaapi__encode__h265_8c.html#ab789821233a7a86259723a45f66a397e">VAAPIEncodeH265Context</a></div><div class="ttdeci">struct VAAPIEncodeH265Context VAAPIEncodeH265Context</div></div>
<div class="ttc" id="astruct_coded_bitstream_fragment_html_abc4ae0aacd4ad9726b85446629e5ddba"><div class="ttname"><a href="struct_coded_bitstream_fragment.html#abc4ae0aacd4ad9726b85446629e5ddba">CodedBitstreamFragment::data_size</a></div><div class="ttdeci">size_t data_size</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8h_source.html#l00131">cbs.h:131</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a6547f5c3a139b3bd5c9be70b14cd4421"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a6547f5c3a139b3bd5c9be70b14cd4421">H265RawVUI::max_bytes_per_pic_denom</a></div><div class="ttdeci">uint8_t max_bytes_per_pic_denom</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00179">cbs_h265.h:179</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a6ccad09b4a2a06ae178418fdccf5940d"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a></div><div class="ttdeci">#define FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01231">vaapi_encode_h265.c:1231</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a9f134b2b53fbc926ca75a38470d68f75"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a9f134b2b53fbc926ca75a38470d68f75">H265RawProfileTierLevel::general_lower_bit_rate_constraint_flag</a></div><div class="ttdeci">uint8_t general_lower_bit_rate_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00063">cbs_h265.h:63</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_ae35f37c7e21cb0c15b1f61b4786b8d17"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#ae35f37c7e21cb0c15b1f61b4786b8d17">H265RawVUI::matrix_coefficients</a></div><div class="ttdeci">uint8_t matrix_coefficients</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00150">cbs_h265.h:150</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga935dbbf6bde8dfe5fa7ddb1da582eb07"><div class="ttname"><a href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a></div><div class="ttdeci">static double av_q2d(AVRational a)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00104">rational.h:104</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_ad5d0a7dfb75cac13583ebbad55dd04e6"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#ad5d0a7dfb75cac13583ebbad55dd04e6">VAAPIEncodeH265Context::current_access_unit</a></div><div class="ttdeci">CodedBitstreamFragment current_access_unit</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00083">vaapi_encode_h265.c:83</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a1d8d03f5be975b8a728574cbdb00c896"><div class="ttname"><a href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a></div><div class="ttdeci">#define FF_PROFILE_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01860">avcodec.h:1860</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a472bae417bac4e4132ce6c3afe4d3d51"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a472bae417bac4e4132ce6c3afe4d3d51">H265RawProfileTierLevel::general_tier_flag</a></div><div class="ttdeci">uint8_t general_tier_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00045">cbs_h265.h:45</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5252d34fbce300228d4dbda19a8c3293"><div class="ttname"><a href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">AVCodecContext::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00905">avcodec.h:905</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_coded_bitstream_fragment_html_ac13b60257e4932c7ca183b29a7581bb4"><div class="ttname"><a href="struct_coded_bitstream_fragment.html#ac13b60257e4932c7ca183b29a7581bb4">CodedBitstreamFragment::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8h_source.html#l00124">cbs.h:124</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a88ad7624ac3c1517f88d3a2035e54006"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a88ad7624ac3c1517f88d3a2035e54006">VAAPIEncodeH265Context::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00061">vaapi_encode_h265.c:61</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_acbe90fd660fc0d6fbfbd5944e6e7739b"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#acbe90fd660fc0d6fbfbd5944e6e7739b">VAAPIEncodeH265Context::raw_sei</a></div><div class="ttdeci">H265RawSEI raw_sei</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00076">vaapi_encode_h265.c:76</a></div></div>
<div class="ttc" id="alibavcodec_2vaapi__encode_8c_html_aa28619b3d9fec15b23657f531b1dd6ee"><div class="ttname"><a href="libavcodec_2vaapi__encode_8c.html#aa28619b3d9fec15b23657f531b1dd6ee">ff_vaapi_encode_receive_packet</a></div><div class="ttdeci">int ff_vaapi_encode_receive_packet(AVCodecContext *avctx, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vaapi__encode_8c_source.html#l01154">vaapi_encode.c:1154</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_t_ref_pic_set_html_aea14516d5f287a457857ada1372bb4a2"><div class="ttname"><a href="struct_h265_raw_s_t_ref_pic_set.html#aea14516d5f287a457857ada1372bb4a2">H265RawSTRefPicSet::used_by_curr_pic_s1_flag</a></div><div class="ttdeci">uint8_t used_by_curr_pic_s1_flag[HEVC_MAX_REFS]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00242">cbs_h265.h:242</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a">HEVC_SLICE_I</a></div><div class="ttdeci">@ HEVC_SLICE_I</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00098">hevc.h:98</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html">H265RawProfileTierLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00043">cbs_h265.h:43</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a67ca26553820a828f7c26d8da5837b93"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a67ca26553820a828f7c26d8da5837b93">H265RawVUI::colour_description_present_flag</a></div><div class="ttdeci">uint8_t colour_description_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00147">cbs_h265.h:147</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_mastering_display_colour_volume_html_a7490c8da9081450c6d0ca81d0b455943"><div class="ttname"><a href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a7490c8da9081450c6d0ca81d0b455943">H265RawSEIMasteringDisplayColourVolume::min_display_mastering_luminance</a></div><div class="ttdeci">uint32_t min_display_mastering_luminance</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00670">cbs_h265.h:670</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942">AVCOL_PRI_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_PRI_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00461">pixfmt.h:461</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a968384052f48e91fc57b3c61b9f68224"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a968384052f48e91fc57b3c61b9f68224">AVMasteringDisplayMetadata::white_point</a></div><div class="ttdeci">AVRational white_point[2]</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00047">mastering_display_metadata.h:47</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_ae74e5b789fd770f5da74de008776b243"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#ae74e5b789fd770f5da74de008776b243">H265RawVUI::bitstream_restriction_flag</a></div><div class="ttdeci">uint8_t bitstream_restriction_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00174">cbs_h265.h:174</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55baca65838438d536410bdc17544ec1531c"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baca65838438d536410bdc17544ec1531c">MAX_DPB_SIZE</a></div><div class="ttdeci">@ MAX_DPB_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00042">vaapi_encode.h:42</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_picture_html_a494c93405c21e4a3ed06828d49dbfaca"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_picture.html#a494c93405c21e4a3ed06828d49dbfaca">VAAPIEncodeH265Picture::slice_type</a></div><div class="ttdeci">int slice_type</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00051">vaapi_encode_h265.c:51</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a8cad1f607a198b1bb7f3beffd881e7a1"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a8cad1f607a198b1bb7f3beffd881e7a1">VAAPIEncodeH265Context::sei_mastering_display</a></div><div class="ttdeci">H265RawSEIMasteringDisplayColourVolume sei_mastering_display</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00079">vaapi_encode_h265.c:79</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a38315422d3fe0c9755eefddec0c6bad0"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a38315422d3fe0c9755eefddec0c6bad0">H265RawSliceHeader::slice_pic_order_cnt_lsb</a></div><div class="ttdeci">uint16_t slice_pic_order_cnt_lsb</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00467">cbs_h265.h:467</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b">HEVC_SLICE_B</a></div><div class="ttdeci">@ HEVC_SLICE_B</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00096">hevc.h:96</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a9277843834e9a13b3b18d1e72016b73d"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a9277843834e9a13b3b18d1e72016b73d">H265RawVUI::aspect_ratio_info_present_flag</a></div><div class="ttdeci">uint8_t aspect_ratio_info_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00136">cbs_h265.h:136</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_ac576ed29d05a998ce895176ea812bfb0"><div class="ttname"><a href="vaapi__encode__h265_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a></div><div class="ttdeci">#define PROFILE(name, value)</div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_mastering_display_colour_volume_html_acb19c61aa93da6390383cb7d846925f9"><div class="ttname"><a href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#acb19c61aa93da6390383cb7d846925f9">H265RawSEIMasteringDisplayColourVolume::white_point_x</a></div><div class="ttdeci">uint16_t white_point_x</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00667">cbs_h265.h:667</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a9de9f8fb190148a764245ee40f2c5e5e"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a9de9f8fb190148a764245ee40f2c5e5e">HEVC_NAL_PPS</a></div><div class="ttdeci">@ HEVC_NAL_PPS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00063">hevc.h:63</a></div></div>
<div class="ttc" id="astruct_coded_bitstream_fragment_html"><div class="ttname"><a href="struct_coded_bitstream_fragment.html">CodedBitstreamFragment</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs_8h_source.html#l00118">cbs.h:118</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a0e1a8597093f264a2428aadd86d81615"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a0e1a8597093f264a2428aadd86d81615">vaapi_encode_h265_write_slice_header</a></div><div class="ttdeci">static int vaapi_encode_h265_write_slice_header(AVCodecContext *avctx, VAAPIEncodePicture *pic, VAAPIEncodeSlice *slice, char *data, size_t *data_len)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00165">vaapi_encode_h265.c:165</a></div></div>
<div class="ttc" id="acbs_8c_html_a7407231caba0bf0ebde5ae921f81948d"><div class="ttname"><a href="cbs_8c.html#a7407231caba0bf0ebde5ae921f81948d">ff_cbs_insert_unit_content</a></div><div class="ttdeci">int ff_cbs_insert_unit_content(CodedBitstreamFragment *frag, int position, CodedBitstreamUnitType type, void *content, AVBufferRef *content_buf)</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8c_source.html#l00721">cbs.c:721</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a4c05c2aa2309a25071b0fbf5cd586516"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a4c05c2aa2309a25071b0fbf5cd586516">ff_hevc_vaapi_encoder</a></div><div class="ttdeci">AVCodec ff_hevc_vaapi_encoder</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01320">vaapi_encode_h265.c:1320</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a96ecff056dd38fa82c9f723157c4c521"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a96ecff056dd38fa82c9f723157c4c521">H265RawSliceHeader::delta_chroma_log2_weight_denom</a></div><div class="ttdeci">int8_t delta_chroma_log2_weight_denom</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00501">cbs_h265.h:501</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a4156257a7a5a6174925d3da0fc190fed"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a4156257a7a5a6174925d3da0fc190fed">H265RawProfileTierLevel::general_max_8bit_constraint_flag</a></div><div class="ttdeci">uint8_t general_max_8bit_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00057">cbs_h265.h:57</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a00607efbf6665511840f09b80e257f50"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a00607efbf6665511840f09b80e257f50">VAAPIEncodePicture::nb_dpb_pics</a></div><div class="ttdeci">int nb_dpb_pics</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00111">vaapi_encode.h:111</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6927dc652ae6241f1dfdbad4e12d3a40"><div class="ttname"><a href="struct_a_v_codec_context.html#a6927dc652ae6241f1dfdbad4e12d3a40">AVCodecContext::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01982">avcodec.h:1982</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a078f280b98b49a9f585c5d479b711d9a"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a078f280b98b49a9f585c5d479b711d9a">AV_OPT_TYPE_IMAGE_SIZE</a></div><div class="ttdeci">@ AV_OPT_TYPE_IMAGE_SIZE</div><div class="ttdoc">offset must point to two consecutive integers</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00235">opt.h:235</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="vaapi__encode__h265_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01230">vaapi_encode_h265.c:1230</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a3cd40728f514772c80ba92cb46b1f834"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a3cd40728f514772c80ba92cb46b1f834">VAAPIEncodeH265Context::tier</a></div><div class="ttdeci">int tier</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00062">vaapi_encode_h265.c:62</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_type_html_a4f12ecc975c957802691314dd58bcfd6"><div class="ttname"><a href="struct_v_a_a_p_i_encode_type.html#a4f12ecc975c957802691314dd58bcfd6">VAAPIEncodeType::profiles</a></div><div class="ttdeci">const VAAPIEncodeProfile * profiles</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00369">vaapi_encode.h:369</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aaf015040dda97fac08a56ddbd1dd1e31"><div class="ttname"><a href="avcodec_8h.html#aaf015040dda97fac08a56ddbd1dd1e31">FF_PROFILE_HEVC_MAIN_10</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_MAIN_10</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01948">avcodec.h:1948</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_slice_html_a70db41297dea0624085ebbacc418262c"><div class="ttname"><a href="struct_v_a_a_p_i_encode_slice.html#a70db41297dea0624085ebbacc418262c">VAAPIEncodeSlice::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00062">vaapi_encode.h:62</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a72a967758798eb575425db365946dfd6"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a72a967758798eb575425db365946dfd6">VAAPIEncodePicture::nb_slices</a></div><div class="ttdeci">int nb_slices</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00126">vaapi_encode.h:126</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_content_light_level_info_html_ada03e548f675c3eea3e24c7094a90365"><div class="ttname"><a href="struct_h265_raw_s_e_i_content_light_level_info.html#ada03e548f675c3eea3e24c7094a90365">H265RawSEIContentLightLevelInfo::max_content_light_level</a></div><div class="ttdeci">uint16_t max_content_light_level</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00674">cbs_h265.h:674</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a7476453fe557f88f28162381013446ed"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a7476453fe557f88f28162381013446ed">VAAPIEncodeH265Context::common</a></div><div class="ttdeci">VAAPIEncodeContext common</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00056">vaapi_encode_h265.c:56</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ggae01fa7e427274293aacdf2adc17076bca6e305f92e325fbd219527452048f16cb"><div class="ttname"><a href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bca6e305f92e325fbd219527452048f16cb">AV_FRAME_DATA_MASTERING_DISPLAY_METADATA</a></div><div class="ttdeci">@ AV_FRAME_DATA_MASTERING_DISPLAY_METADATA</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00119">frame.h:119</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_picture_html_a4ade025f7944d9ed95b508cce625571a"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_picture.html#a4ade025f7944d9ed95b508cce625571a">VAAPIEncodeH265Picture::pic_type</a></div><div class="ttdeci">int pic_type</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00052">vaapi_encode_h265.c:52</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a0ba8bf9d7cd40c6c4feaf7869df6aa77"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a0ba8bf9d7cd40c6c4feaf7869df6aa77">HEVC_NAL_CRA_NUT</a></div><div class="ttdeci">@ HEVC_NAL_CRA_NUT</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00050">hevc.h:50</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a445a9800395c3943e8f58f5164d1ccce"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a445a9800395c3943e8f58f5164d1ccce">vaapi_encode_h265_write_access_unit</a></div><div class="ttdeci">static int vaapi_encode_h265_write_access_unit(AVCodecContext *avctx, char *data, size_t *data_len, CodedBitstreamFragment *au)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00089">vaapi_encode_h265.c:89</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_ab1a761f6fb5a9ff6de36ec6ae4f92740"><div class="ttname"><a href="vaapi__encode__h265_8c.html#ab1a761f6fb5a9ff6de36ec6ae4f92740">vaapi_encode_h265_options</a></div><div class="ttdeci">static const AVOption vaapi_encode_h265_options[]</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01232">vaapi_encode_h265.c:1232</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a0f6b20a3de817daa22251145f0967213"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a0f6b20a3de817daa22251145f0967213">VAAPIEncodePicture::refs</a></div><div class="ttdeci">struct VAAPIEncodePicture * refs[MAX_PICTURE_REFERENCES]</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00116">vaapi_encode.h:116</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a8a1a8c928b7a92a33dde81f47d25194a"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a8a1a8c928b7a92a33dde81f47d25194a">vaapi_encode_h265_init_picture_params</a></div><div class="ttdeci">static int vaapi_encode_h265_init_picture_params(AVCodecContext *avctx, VAAPIEncodePicture *pic)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00701">vaapi_encode_h265.c:701</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_mastering_display_colour_volume_html_a2e5dd694d77030760eccbc12f26c8748"><div class="ttname"><a href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a2e5dd694d77030760eccbc12f26c8748">H265RawSEIMasteringDisplayColourVolume::max_display_mastering_luminance</a></div><div class="ttdeci">uint32_t max_display_mastering_luminance</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00669">cbs_h265.h:669</a></div></div>
<div class="ttc" id="astruct_a_v_pix_fmt_descriptor_html"><div class="ttname"><a href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00081">pixdesc.h:81</a></div></div>
<div class="ttc" id="acbs__h265__syntax__template_8c_html_a5e9c159c9f2cfa2e44b616fdca3db5a7"><div class="ttname"><a href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a></div><div class="ttdeci">static int FUNC() vps(CodedBitstreamContext *ctx, RWContext *rw, H265RawVPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265__syntax__template_8c_source.html#l00420">cbs_h265_syntax_template.c:420</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_aa2f7270b9304da8c14109098f4867e34"><div class="ttname"><a href="struct_h265_raw_slice_header.html#aa2f7270b9304da8c14109098f4867e34">H265RawSliceHeader::num_long_term_pics</a></div><div class="ttdeci">uint8_t num_long_term_pics</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00474">cbs_h265.h:474</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a3dc51375a796326e3f512b374c328002"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a3dc51375a796326e3f512b374c328002">sei</a></div><div class="ttdeci">static int FUNC() sei(CodedBitstreamContext *ctx, RWContext *rw, H264RawSEI *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00924">cbs_h264_syntax_template.c:924</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba1cb1afce6fd88ce2e479c5bb4882e081">SEI_MASTERING_DISPLAY</a></div><div class="ttdeci">@ SEI_MASTERING_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00041">vaapi_encode_h265.c:41</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_ab397f4107f035acfe3849854daaf8ff2"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#ab397f4107f035acfe3849854daaf8ff2">H265RawVUI::vui_num_ticks_poc_diff_one_minus1</a></div><div class="ttdeci">uint32_t vui_num_ticks_poc_diff_one_minus1</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00170">cbs_h265.h:170</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_RANGE_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00552">pixfmt.h:552</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2add2cddf07e6df1eb81ca46eda7fd5379"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2add2cddf07e6df1eb81ca46eda7fd5379">HEVC_NAL_RASL_R</a></div><div class="ttdeci">@ HEVC_NAL_RASL_R</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00038">hevc.h:38</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a4074dd51b8a2eaa3c17e211517ef6280"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a4074dd51b8a2eaa3c17e211517ef6280">H265RawSliceHeader::colour_plane_id</a></div><div class="ttdeci">uint8_t colour_plane_id</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00465">cbs_h265.h:465</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a8c1a8e78fa19864070e4f2b1679a0035"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a8c1a8e78fa19864070e4f2b1679a0035">VAAPIEncodeH265Context::qp</a></div><div class="ttdeci">int qp</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00059">vaapi_encode_h265.c:59</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01859">avcodec.h:1859</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a178a2ec1303bf04d2b25d612a94a4556"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a178a2ec1303bf04d2b25d612a94a4556">vaapi_encode_h265_init</a></div><div class="ttdeci">static av_cold int vaapi_encode_h265_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01185">vaapi_encode_h265.c:1185</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a7504445d398235ced7f02944d1146623"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a7504445d398235ced7f02944d1146623">aud</a></div><div class="ttdeci">static int FUNC() aud(CodedBitstreamContext *ctx, RWContext *rw, H264RawAUD *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l01006">cbs_h264_syntax_template.c:1006</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baff1fe3f8495b35475bcaf43d1a6ee8e8">SEI_CONTENT_LIGHT_LEVEL</a></div><div class="ttdeci">@ SEI_CONTENT_LIGHT_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00042">vaapi_encode_h265.c:42</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a637edc918dafa5ba06d29b3028750527"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a637edc918dafa5ba06d29b3028750527">H265RawSliceHeader::cabac_init_flag</a></div><div class="ttdeci">uint8_t cabac_init_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00496">cbs_h265.h:496</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_ae226dc044e5894338ec812172da6a4ec"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#ae226dc044e5894338ec812172da6a4ec">H265RawVUI::colour_primaries</a></div><div class="ttdeci">uint8_t colour_primaries</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00148">cbs_h265.h:148</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_aabf433a46a6cb4e06a0b48189e4f15e5"><div class="ttname"><a href="struct_h265_raw_slice_header.html#aabf433a46a6cb4e06a0b48189e4f15e5">H265RawSliceHeader::slice_deblocking_filter_disabled_flag</a></div><div class="ttdeci">uint8_t slice_deblocking_filter_disabled_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00527">cbs_h265.h:527</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a40a7fdf60f853d9140bbe1204a66efb2"><div class="ttname"><a href="struct_a_v_codec_context.html#a40a7fdf60f853d9140bbe1204a66efb2">AVCodecContext::b_quant_factor</a></div><div class="ttdeci">float b_quant_factor</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00795">avcodec.h:795</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_af50691a76549a5721689fada179937a1"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#af50691a76549a5721689fada179937a1">VAAPIEncodeH265Context::fixed_qp_p</a></div><div class="ttdeci">int fixed_qp_p</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00068">vaapi_encode_h265.c:68</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a1e6d2c6dff68c6128ac0dcc8d2d9b77f"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a></div><div class="ttdeci">static int FUNC() pps(CodedBitstreamContext *ctx, RWContext *rw, H264RawPPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00404">cbs_h264_syntax_template.c:404</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_a52fce90aec391a11f7587f490bc5cf9a"><div class="ttname"><a href="vaapi__encode_8h.html#a52fce90aec391a11f7587f490bc5cf9a">VAAPI_ENCODE_RC_OPTIONS</a></div><div class="ttdeci">#define VAAPI_ENCODE_RC_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00463">vaapi_encode.h:463</a></div></div>
<div class="ttc" id="astruct_h265_level_descriptor_html"><div class="ttname"><a href="struct_h265_level_descriptor.html">H265LevelDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="h265__profile__level_8h_source.html#l00027">h265_profile_level.h:27</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html"><div class="ttname"><a href="struct_a_v_frame_side_data.html">AVFrameSideData</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00214">frame.h:214</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_ac84dd02dab15e6571b5430daf73da00c"><div class="ttname"><a href="struct_h265_raw_slice_header.html#ac84dd02dab15e6571b5430daf73da00c">H265RawSliceHeader::five_minus_max_num_merge_cand</a></div><div class="ttdeci">uint8_t five_minus_max_num_merge_cand</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00515">cbs_h265.h:515</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_aebfe4ab3b9a1915f4a8a696c8d82278c"><div class="ttname"><a href="vaapi__encode__h265_8c.html#aebfe4ab3b9a1915f4a8a696c8d82278c">VAAPIEncodeH265Picture</a></div><div class="ttdeci">struct VAAPIEncodeH265Picture VAAPIEncodeH265Picture</div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a4c211c3d8a02e456836bf7c7102151b2"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a4c211c3d8a02e456836bf7c7102151b2">VAAPIEncodePicture::display_order</a></div><div class="ttdeci">int64_t display_order</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00073">vaapi_encode.h:73</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_slice_html_a21f0b514e8ad6659f990543021c83326"><div class="ttname"><a href="struct_v_a_a_p_i_encode_slice.html#a21f0b514e8ad6659f990543021c83326">VAAPIEncodeSlice::block_size</a></div><div class="ttdeci">int block_size</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00066">vaapi_encode.h:66</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a4d08b297e97eefd66c714df4fff493c8"><div class="ttname"><a href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">AVCodecContext::framerate</a></div><div class="ttdeci">AVRational framerate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02069">avcodec.h:2069</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_aab76564476676e4f30fb2a8403b1491e"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#aab76564476676e4f30fb2a8403b1491e">VAAPIEncodeH265Context::sei</a></div><div class="ttdeci">int sei</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00064">vaapi_encode_h265.c:64</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="ah265__profile__level_8h_html"><div class="ttname"><a href="h265__profile__level_8h.html">h265_profile_level.h</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a1f86ed1b6a420faccacf77c98db6c1ffafd1c2fae7783c113d76a017c6e7b638f"><div class="ttname"><a href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffafd1c2fae7783c113d76a017c6e7b638f">AVCHROMA_LOC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCHROMA_LOC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00606">pixfmt.h:606</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_aea3677dd615e24fc47c1eb11e6683c62"><div class="ttname"><a href="struct_h265_raw_slice_header.html#aea3677dd615e24fc47c1eb11e6683c62">H265RawSliceHeader::slice_sao_chroma_flag</a></div><div class="ttdeci">uint8_t slice_sao_chroma_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00484">cbs_h265.h:484</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a7b5a038f4e59b8b1d65529d1730cb2d4"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a7b5a038f4e59b8b1d65529d1730cb2d4">H265RawProfileTierLevel::general_intra_constraint_flag</a></div><div class="ttdeci">uint8_t general_intra_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00061">cbs_h265.h:61</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab7bfeb9fa5840aac090e2b0bd0ef7589"><div class="ttname"><a href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">AVCodecContext::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00649">avcodec.h:649</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_mastering_display_colour_volume_html_a72cf1b21d4e7d20d9788644ccd5d0a10"><div class="ttname"><a href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a72cf1b21d4e7d20d9788644ccd5d0a10">H265RawSEIMasteringDisplayColourVolume::display_primaries_x</a></div><div class="ttdeci">uint16_t display_primaries_x[3]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00665">cbs_h265.h:665</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a5ebeafc2d09071a391659e2acf38dda3"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a5ebeafc2d09071a391659e2acf38dda3">VAAPIEncodePicture::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00102">vaapi_encode.h:102</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_ab7b630fcef7d22360eb0fcf34e95a715"><div class="ttname"><a href="struct_h265_raw_slice_header.html#ab7b630fcef7d22360eb0fcf34e95a715">H265RawSliceHeader::slice_beta_offset_div2</a></div><div class="ttdeci">int8_t slice_beta_offset_div2</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00528">cbs_h265.h:528</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a4ad2e7f456d7763060c25e92be573341"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a4ad2e7f456d7763060c25e92be573341">AVMasteringDisplayMetadata::min_luminance</a></div><div class="ttdeci">AVRational min_luminance</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00052">mastering_display_metadata.h:52</a></div></div>
<div class="ttc" id="astruct_h265_raw_n_a_l_unit_header_html_aa7b5723924ef61edb4f42334efa73bf8"><div class="ttname"><a href="struct_h265_raw_n_a_l_unit_header.html#aa7b5723924ef61edb4f42334efa73bf8">H265RawNALUnitHeader::nal_unit_type</a></div><div class="ttdeci">uint8_t nal_unit_type</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00038">cbs_h265.h:38</a></div></div>
<div class="ttc" id="asdr2_8c_html_abd18f6ed7dc5da8824a97bc504e4280e"><div class="ttname"><a href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a></div><div class="ttdeci">static const uint8_t header[24]</div><div class="ttdef"><b>Definition:</b> <a href="sdr2_8c_source.html#l00067">sdr2.c:67</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a162dccaaec33001e9cad1e58b16db9bf"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a162dccaaec33001e9cad1e58b16db9bf">H265RawSliceHeader::mvd_l1_zero_flag</a></div><div class="ttdeci">uint8_t mvd_l1_zero_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00495">cbs_h265.h:495</a></div></div>
<div class="ttc" id="astruct_h265_raw_a_u_d_html_a1eea205faa97c4be78706878f5d63bec"><div class="ttname"><a href="struct_h265_raw_a_u_d.html#a1eea205faa97c4be78706878f5d63bec">H265RawAUD::nal_unit_header</a></div><div class="ttdeci">H265RawNALUnitHeader nal_unit_header</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00446">cbs_h265.h:446</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a3bb4ba7b1aef45885c82ab8a4b8a851a"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a3bb4ba7b1aef45885c82ab8a4b8a851a">vaapi_encode_type_h265</a></div><div class="ttdeci">static const VAAPIEncodeType vaapi_encode_type_h265</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01153">vaapi_encode_h265.c:1153</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a096e7faf252e502d7bc0c50818bdd995"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a096e7faf252e502d7bc0c50818bdd995">H265RawVUI::chroma_loc_info_present_flag</a></div><div class="ttdeci">uint8_t chroma_loc_info_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00152">cbs_h265.h:152</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_aa5ed456c37670c5163d744ba88f667c5"><div class="ttname"><a href="vaapi__encode__h265_8c.html#aa5ed456c37670c5163d744ba88f667c5">vaapi_encode_h265_profiles</a></div><div class="ttdeci">static const VAAPIEncodeProfile vaapi_encode_h265_profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01139">vaapi_encode_h265.c:1139</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html_a76937ad48652a5a0cc4bff65fc6c886e"><div class="ttname"><a href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">AVFrameSideData::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00216">frame.h:216</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_a47f5bde2d480d3ab8d0f591a38b25080"><div class="ttname"><a href="vaapi__encode_8h.html#a47f5bde2d480d3ab8d0f591a38b25080">VAAPI_ENCODE_COMMON_OPTIONS</a></div><div class="ttdeci">#define VAAPI_ENCODE_COMMON_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00445">vaapi_encode.h:445</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_af7067b239d6821ab286c9c268d1bb799"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#af7067b239d6821ab286c9c268d1bb799">VAAPIEncodePicture::nb_refs</a></div><div class="ttdeci">int nb_refs</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00115">vaapi_encode.h:115</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_mastering_display_colour_volume_html_a4ce61fa8f279e2875e2e2e5f3044a5ff"><div class="ttname"><a href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html#a4ce61fa8f279e2875e2e2e5f3044a5ff">H265RawSEIMasteringDisplayColourVolume::white_point_y</a></div><div class="ttdeci">uint16_t white_point_y</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00668">cbs_h265.h:668</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a633e0a725537b96ec81834da7e843219"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">AVMasteringDisplayMetadata::display_primaries</a></div><div class="ttdeci">AVRational display_primaries[3][2]</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00042">mastering_display_metadata.h:42</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a8661d5a9f693a205588fbc87dd741183"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a8661d5a9f693a205588fbc87dd741183">vaapi_encode_h265_configure</a></div><div class="ttdeci">static av_cold int vaapi_encode_h265_configure(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l01094">vaapi_encode_h265.c:1094</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_addeaef0327ef16c70ccc9b692e3f02b9"><div class="ttname"><a href="vaapi__encode__h265_8c.html#addeaef0327ef16c70ccc9b692e3f02b9">vaapi_encode_h265_init_slice_params</a></div><div class="ttdeci">static int vaapi_encode_h265_init_slice_params(AVCodecContext *avctx, VAAPIEncodePicture *pic, VAAPIEncodeSlice *slice)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00900">vaapi_encode_h265.c:900</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_profile_html"><div class="ttname"><a href="struct_v_a_a_p_i_encode_profile.html">VAAPIEncodeProfile</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00130">vaapi_encode.h:130</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a></div><div class="ttdeci">@ AV_PIX_FMT_VAAPI</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00122">pixfmt.h:122</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_acdad52b787ca89dca23b77a2cd9b4289"><div class="ttname"><a href="struct_h265_raw_slice_header.html#acdad52b787ca89dca23b77a2cd9b4289">H265RawSliceHeader::collocated_from_l0_flag</a></div><div class="ttdeci">uint8_t collocated_from_l0_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00497">cbs_h265.h:497</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a97bab0c3909ab8901b7560163fcb765f"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a97bab0c3909ab8901b7560163fcb765f">H265RawVUI::restricted_ref_pic_lists_flag</a></div><div class="ttdeci">uint8_t restricted_ref_pic_lists_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00177">cbs_h265.h:177</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a5fc0fb8bf36f53c71e2f0c0f78eef938"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a5fc0fb8bf36f53c71e2f0c0f78eef938">H265RawSliceHeader::slice_sao_luma_flag</a></div><div class="ttdeci">uint8_t slice_sao_luma_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00483">cbs_h265.h:483</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_ab628ce8d15c00634c519465b0cdc3461"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#ab628ce8d15c00634c519465b0cdc3461">VAAPIEncodeH265Context::raw_slice</a></div><div class="ttdeci">H265RawSlice raw_slice</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00077">vaapi_encode_h265.c:77</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_a83158ec0aff37a9b2337525a0d4b7b0c"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#a83158ec0aff37a9b2337525a0d4b7b0c">VAAPIEncodePicture::dpb</a></div><div class="ttdeci">struct VAAPIEncodePicture * dpb[MAX_DPB_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00112">vaapi_encode.h:112</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_ac74ccdb5cf3c4b66c57e88821d3f086e"><div class="ttname"><a href="struct_h265_raw_slice_header.html#ac74ccdb5cf3c4b66c57e88821d3f086e">H265RawSliceHeader::short_term_ref_pic_set_sps_flag</a></div><div class="ttdeci">uint8_t short_term_ref_pic_set_sps_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00469">cbs_h265.h:469</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_context_html_a5747c7ac39ba2c4d71c7002d18fc4ca2"><div class="ttname"><a href="struct_v_a_a_p_i_encode_context.html#a5747c7ac39ba2c4d71c7002d18fc4ca2">VAAPIEncodeContext::input_frames</a></div><div class="ttdeci">AVHWFramesContext * input_frames</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00249">vaapi_encode.h:249</a></div></div>
<div class="ttc" id="astruct_a_v_content_light_metadata_html"><div class="ttname"><a href="struct_a_v_content_light_metadata.html">AVContentLightMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00098">mastering_display_metadata.h:98</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_content_light_level_info_html"><div class="ttname"><a href="struct_h265_raw_s_e_i_content_light_level_info.html">H265RawSEIContentLightLevelInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00673">cbs_h265.h:673</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a996273123a0b796ce6eec3f759477533"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a996273123a0b796ce6eec3f759477533">H265RawVUI::log2_max_mv_length_vertical</a></div><div class="ttdeci">uint8_t log2_max_mv_length_vertical</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00182">cbs_h265.h:182</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2ab248c626f1edb7f7de024522066e9c46"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2ab248c626f1edb7f7de024522066e9c46">HEVC_NAL_TRAIL_R</a></div><div class="ttdeci">@ HEVC_NAL_TRAIL_R</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00030">hevc.h:30</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a653f32daa38a2adc6d8abebcfdf44173"><div class="ttname"><a href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a653f32daa38a2adc6d8abebcfdf44173">PICTURE_TYPE_P</a></div><div class="ttdeci">@ PICTURE_TYPE_P</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00057">vaapi_encode.h:57</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html"><div class="ttname"><a href="struct_h265_raw_slice_header.html">H265RawSliceHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00451">cbs_h265.h:451</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_context_html"><div class="ttname"><a href="struct_v_a_a_p_i_encode_context.html">VAAPIEncodeContext</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00175">vaapi_encode.h:175</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ggae01fa7e427274293aacdf2adc17076bca311f0afd2dded92ef68ae00f7711aa2d"><div class="ttname"><a href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bca311f0afd2dded92ef68ae00f7711aa2d">AV_FRAME_DATA_CONTENT_LIGHT_LEVEL</a></div><div class="ttdeci">@ AV_FRAME_DATA_CONTENT_LIGHT_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00136">frame.h:136</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_adf764cbdea00d65edcd07bb9953ad2b7ab56d9a8ef94cff8f64aff4c9f115503a"><div class="ttname"><a href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab56d9a8ef94cff8f64aff4c9f115503a">PICTURE_TYPE_IDR</a></div><div class="ttdeci">@ PICTURE_TYPE_IDR</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00055">vaapi_encode.h:55</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_slice_html"><div class="ttname"><a href="struct_v_a_a_p_i_encode_slice.html">VAAPIEncodeSlice</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00061">vaapi_encode.h:61</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_a148258646cbac548b2defd748b0cdcb9"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#a148258646cbac548b2defd748b0cdcb9">VAAPIEncodeH265Context::aud</a></div><div class="ttdeci">int aud</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00060">vaapi_encode_h265.c:60</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_ad1b7169a661a4b5ddf96bf4e3730f7ca"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#ad1b7169a661a4b5ddf96bf4e3730f7ca">H265RawProfileTierLevel::general_max_12bit_constraint_flag</a></div><div class="ttdeci">uint8_t general_max_12bit_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00055">cbs_h265.h:55</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a89a77c4686a41c058196eb0f2987cccb"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a89a77c4686a41c058196eb0f2987cccb">H265RawSliceHeader::collocated_ref_idx</a></div><div class="ttdeci">uint8_t collocated_ref_idx</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00498">cbs_h265.h:498</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a641b0d04419531237c29c39d670d9c7b"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a641b0d04419531237c29c39d670d9c7b">H265RawVUI::vui_timing_info_present_flag</a></div><div class="ttdeci">uint8_t vui_timing_info_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00166">cbs_h265.h:166</a></div></div>
<div class="ttc" id="ahevc__sei_8h_html_abba0b9185313c25cb08327f8ee281bd1a6ddfbaaf66914fbb3ac4ffe9f97ea446"><div class="ttname"><a href="hevc__sei_8h.html#abba0b9185313c25cb08327f8ee281bd1a6ddfbaaf66914fbb3ac4ffe9f97ea446">HEVC_SEI_TYPE_MASTERING_DISPLAY_INFO</a></div><div class="ttdeci">@ HEVC_SEI_TYPE_MASTERING_DISPLAY_INFO</div><div class="ttdef"><b>Definition:</b> <a href="hevc__sei_8h_source.html#l00056">hevc_sei.h:56</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a4de6d85aead0bd30afc2d7c76bed34de"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a4de6d85aead0bd30afc2d7c76bed34de">H265RawProfileTierLevel::general_interlaced_source_flag</a></div><div class="ttdeci">uint8_t general_interlaced_source_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00051">cbs_h265.h:51</a></div></div>
<div class="ttc" id="acbs__h265_8h_html_a5d5dc1bfb367b88d25bda358715430ed"><div class="ttname"><a href="cbs__h265_8h.html#a5d5dc1bfb367b88d25bda358715430ed">H265RawSEI</a></div><div class="ttdeci">struct H265RawSEI H265RawSEI</div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a64268950ec860e651fda30b7d3d4f6a6"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a64268950ec860e651fda30b7d3d4f6a6">H265RawSliceHeader::slice_cr_qp_offset</a></div><div class="ttdeci">int8_t slice_cr_qp_offset</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00520">cbs_h265.h:520</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_t_ref_pic_set_html_ae667ae9bb1d15f14d6a1d17b36904a30"><div class="ttname"><a href="struct_h265_raw_s_t_ref_pic_set.html#ae667ae9bb1d15f14d6a1d17b36904a30">H265RawSTRefPicSet::delta_poc_s1_minus1</a></div><div class="ttdeci">uint16_t delta_poc_s1_minus1[HEVC_MAX_REFS]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00241">cbs_h265.h:241</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a></div><div class="ttdeci">@ AV_CODEC_ID_HEVC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00223">codec_id.h:223</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a189f25b576129ffa059ca38db0bc13dca120fc088451ea70f9ff083787b639d2b"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca120fc088451ea70f9ff083787b639d2b">HEVC_SLICE_P</a></div><div class="ttdeci">@ HEVC_SLICE_P</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00097">hevc.h:97</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html">VAAPIEncodePicture</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00070">vaapi_encode.h:70</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_adf764cbdea00d65edcd07bb9953ad2b7acc8409d697602a190af45b91bb061624"><div class="ttname"><a href="vaapi__encode_8h.html#adf764cbdea00d65edcd07bb9953ad2b7acc8409d697602a190af45b91bb061624">PICTURE_TYPE_I</a></div><div class="ttdeci">@ PICTURE_TYPE_I</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00056">vaapi_encode.h:56</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a0e30962e66d883ddba77fac5af55d3af"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a0e30962e66d883ddba77fac5af55d3af">AVMasteringDisplayMetadata::has_primaries</a></div><div class="ttdeci">int has_primaries</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00062">mastering_display_metadata.h:62</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_SPC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00515">pixfmt.h:515</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="acbs_8c_html_ab102e392bf66ea81fd4ab660d0eb1a55"><div class="ttname"><a href="cbs_8c.html#ab102e392bf66ea81fd4ab660d0eb1a55">ff_cbs_write_fragment_data</a></div><div class="ttdeci">int ff_cbs_write_fragment_data(CodedBitstreamContext *ctx, CodedBitstreamFragment *frag)</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8c_source.html#l00342">cbs.c:342</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_addf45817ef0970905e650aff3907ce4d"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#addf45817ef0970905e650aff3907ce4d">AVMasteringDisplayMetadata::has_luminance</a></div><div class="ttdeci">int has_luminance</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00067">mastering_display_metadata.h:67</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a80c9d1a7260adec811dfa657c3cef1e4"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a80c9d1a7260adec811dfa657c3cef1e4">H265RawProfileTierLevel::general_profile_space</a></div><div class="ttdeci">uint8_t general_profile_space</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00044">cbs_h265.h:44</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aef7017818f06f053f2e63fe759b30eb1"><div class="ttname"><a href="struct_a_v_codec_context.html#aef7017818f06f053f2e63fe759b30eb1">AVCodecContext::i_quant_factor</a></div><div class="ttdeci">float i_quant_factor</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00831">avcodec.h:831</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2aa29547e9e8fe1223d617542c12beca01"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2aa29547e9e8fe1223d617542c12beca01">HEVC_NAL_VPS</a></div><div class="ttdeci">@ HEVC_NAL_VPS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00061">hevc.h:61</a></div></div>
<div class="ttc" id="alibavcodec_2vaapi__encode_8c_html_a35f8a0672b026556d23848415260b9e3"><div class="ttname"><a href="libavcodec_2vaapi__encode_8c.html#a35f8a0672b026556d23848415260b9e3">ff_vaapi_encode_hw_configs</a></div><div class="ttdeci">const AVCodecHWConfigInternal *const ff_vaapi_encode_hw_configs[]</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vaapi__encode_8c_source.html#l00031">vaapi_encode.c:31</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a4b0b26a126e80e1d58dd6f2f97930f18"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a4b0b26a126e80e1d58dd6f2f97930f18">HEVC_NAL_IDR_W_RADL</a></div><div class="ttdeci">@ HEVC_NAL_IDR_W_RADL</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00048">hevc.h:48</a></div></div>
<div class="ttc" id="alibavcodec_2vaapi__encode_8c_html_ab55f58e120cb3bc6c0c7ab82385bc6d1"><div class="ttname"><a href="libavcodec_2vaapi__encode_8c.html#ab55f58e120cb3bc6c0c7ab82385bc6d1">ff_vaapi_encode_init</a></div><div class="ttdeci">av_cold int ff_vaapi_encode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vaapi__encode_8c_source.html#l02361">vaapi_encode.c:2361</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_t_ref_pic_set_html"><div class="ttname"><a href="struct_h265_raw_s_t_ref_pic_set.html">H265RawSTRefPicSet</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00227">cbs_h265.h:227</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a242a701bcfbec850a5843e7fad901352"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a></div><div class="ttdeci">static int FUNC() sps(CodedBitstreamContext *ctx, RWContext *rw, H264RawSPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00260">cbs_h264_syntax_template.c:260</a></div></div>
<div class="ttc" id="acbs_8c_html_af4e737d195acae80b9337f9a4127a7d3"><div class="ttname"><a href="cbs_8c.html#af4e737d195acae80b9337f9a4127a7d3">ff_cbs_init</a></div><div class="ttdeci">int ff_cbs_init(CodedBitstreamContext **ctx_ptr, enum AVCodecID codec_id, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8c_source.html#l00074">cbs.c:74</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a21304cb3c4509ecb79ed2cc307d26e6a"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a21304cb3c4509ecb79ed2cc307d26e6a">H265RawSliceHeader::num_ref_idx_l1_active_minus1</a></div><div class="ttdeci">uint8_t num_ref_idx_l1_active_minus1</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00488">cbs_h265.h:488</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a7fc4ecc324cd5096f219ebc00623b561"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a7fc4ecc324cd5096f219ebc00623b561">LEVEL</a></div><div class="ttdeci">#define LEVEL(name, value)</div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_aeebf0e912cc72cb3f0d394fe86019cda"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#aeebf0e912cc72cb3f0d394fe86019cda">VAAPIEncodePicture::encode_order</a></div><div class="ttdeci">int64_t encode_order</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00074">vaapi_encode.h:74</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a30bc4e9a099a7b47e329ec0636080300"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a30bc4e9a099a7b47e329ec0636080300">H265RawVUI::transfer_characteristics</a></div><div class="ttdeci">uint8_t transfer_characteristics</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00149">cbs_h265.h:149</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_context_html_aebf5757e404f1ec89a26704a95dc0b31"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_context.html#aebf5757e404f1ec89a26704a95dc0b31">VAAPIEncodeH265Context::sei_needed</a></div><div class="ttdeci">int sei_needed</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00085">vaapi_encode_h265.c:85</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a0e80d039bf2d17c46036f41f516ff174"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a0e80d039bf2d17c46036f41f516ff174">HEVC_NAL_TRAIL_N</a></div><div class="ttdeci">@ HEVC_NAL_TRAIL_N</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00029">hevc.h:29</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a38f49d24f4c1b542dba310897916e378"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a38f49d24f4c1b542dba310897916e378">HEVC_NAL_AUD</a></div><div class="ttdeci">@ HEVC_NAL_AUD</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00064">hevc.h:64</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_a0f173358dcba4db4161bb6adadeaba19"><div class="ttname"><a href="vaapi__encode__h265_8c.html#a0f173358dcba4db4161bb6adadeaba19">vaapi_encode_h265_write_sequence_header</a></div><div class="ttdeci">static int vaapi_encode_h265_write_sequence_header(AVCodecContext *avctx, char *data, size_t *data_len)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00133">vaapi_encode_h265.c:133</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_aaebacc6c3f4fa90ad8c67b35e8ee0918"><div class="ttname"><a href="struct_h265_raw_slice_header.html#aaebacc6c3f4fa90ad8c67b35e8ee0918">H265RawSliceHeader::slice_pic_parameter_set_id</a></div><div class="ttdeci">uint8_t slice_pic_parameter_set_id</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00456">cbs_h265.h:456</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_aefa21ebc532a515e78c4a6c0da63f100"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#aefa21ebc532a515e78c4a6c0da63f100">H265RawVUI::aspect_ratio_idc</a></div><div class="ttdeci">uint8_t aspect_ratio_idc</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00137">cbs_h265.h:137</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="acbs__h265_8h_html_af8da48f7c852d19ad67dbaee1eb929f5"><div class="ttname"><a href="cbs__h265_8h.html#af8da48f7c852d19ad67dbaee1eb929f5">H265RawNALUnitHeader</a></div><div class="ttdeci">struct H265RawNALUnitHeader H265RawNALUnitHeader</div></div>
<div class="ttc" id="astruct_coded_bitstream_fragment_html_a7eb062e0098963ca1f0734ecf97f6d2b"><div class="ttname"><a href="struct_coded_bitstream_fragment.html#a7eb062e0098963ca1f0734ecf97f6d2b">CodedBitstreamFragment::data_bit_padding</a></div><div class="ttdeci">size_t data_bit_padding</div><div class="ttdef"><b>Definition:</b> <a href="cbs_8h_source.html#l00135">cbs.h:135</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a800236095c5d9cb2d15715320c1be7df"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a800236095c5d9cb2d15715320c1be7df">H265RawProfileTierLevel::general_max_monochrome_constraint_flag</a></div><div class="ttdeci">uint8_t general_max_monochrome_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00060">cbs_h265.h:60</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a0f6d211a3d54ca9441759a02559e3700"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a0f6d211a3d54ca9441759a02559e3700">H265RawProfileTierLevel::general_level_idc</a></div><div class="ttdeci">uint8_t general_level_idc</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00068">cbs_h265.h:68</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_e_i_mastering_display_colour_volume_html"><div class="ttname"><a href="struct_h265_raw_s_e_i_mastering_display_colour_volume.html">H265RawSEIMasteringDisplayColourVolume</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00664">cbs_h265.h:664</a></div></div>
<div class="ttc" id="atests_2jpeg2000dwt_8c_html_a5cabdd8be5af41f675fed06498e094b7"><div class="ttname"><a href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a></div><div class="ttdeci">static int ref[MAX_W *MAX_W]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2jpeg2000dwt_8c_source.html#l00107">jpeg2000dwt.c:107</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga3f55f5bcfbb12e06c7cb1195028855e6"><div class="ttname"><a href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a></div><div class="ttdeci">#define AV_CODEC_CAP_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00075">codec.h:75</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a823c0b0b3fb0fba28256b3cee8ba8241"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a823c0b0b3fb0fba28256b3cee8ba8241">H265RawProfileTierLevel::general_max_422chroma_constraint_flag</a></div><div class="ttdeci">uint8_t general_max_422chroma_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00058">cbs_h265.h:58</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_slice_html_a4ef0c52a1f5c8310dd26c65016c039ef"><div class="ttname"><a href="struct_v_a_a_p_i_encode_slice.html#a4ef0c52a1f5c8310dd26c65016c039ef">VAAPIEncodeSlice::codec_slice_params</a></div><div class="ttdeci">void * codec_slice_params</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00067">vaapi_encode.h:67</a></div></div>
<div class="ttc" id="astruct_h265_raw_a_u_d_html"><div class="ttname"><a href="struct_h265_raw_a_u_d.html">H265RawAUD</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00445">cbs_h265.h:445</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_html"><div class="ttname"><a href="struct_h265_raw_slice.html">H265RawSlice</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00541">cbs_h265.h:541</a></div></div>
<div class="ttc" id="alibsvtav1_8c_html_a710bce51374aba96ab04912897666c35"><div class="ttname"><a href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> <a href="libsvtav1_8c_source.html#l00079">libsvtav1.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2ae7ebf86d4b3d90d069bd88f5f1cd9a61"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2ae7ebf86d4b3d90d069bd88f5f1cd9a61">HEVC_NAL_SPS</a></div><div class="ttdeci">@ HEVC_NAL_SPS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00062">hevc.h:62</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_html_a1998935f5b7e179a5372b142fcce28e2"><div class="ttname"><a href="struct_h265_raw_slice.html#a1998935f5b7e179a5372b142fcce28e2">H265RawSlice::header</a></div><div class="ttdeci">H265RawSliceHeader header</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00542">cbs_h265.h:542</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="amastering__display__metadata_8h_html"><div class="ttname"><a href="mastering__display__metadata_8h.html">mastering_display_metadata.h</a></div></div>
<div class="ttc" id="avaapi__encode__h265_8c_html_aff430e98f65ecc1ff29afe0d25a5f92b"><div class="ttname"><a href="vaapi__encode__h265_8c.html#aff430e98f65ecc1ff29afe0d25a5f92b">vaapi_encode_h265_write_extra_header</a></div><div class="ttdeci">static int vaapi_encode_h265_write_extra_header(AVCodecContext *avctx, VAAPIEncodePicture *pic, int index, int *type, char *data, size_t *data_len)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00191">vaapi_encode_h265.c:191</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_aefb282e1dcc8652b454993ac4a50f130"><div class="ttname"><a href="struct_h265_raw_slice_header.html#aefb282e1dcc8652b454993ac4a50f130">H265RawSliceHeader::num_long_term_sps</a></div><div class="ttdeci">uint8_t num_long_term_sps</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00473">cbs_h265.h:473</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_acd3a1cfccbffa9601ee4bdb71db7ed52"><div class="ttname"><a href="struct_h265_raw_slice_header.html#acd3a1cfccbffa9601ee4bdb71db7ed52">H265RawSliceHeader::slice_qp_delta</a></div><div class="ttdeci">int8_t slice_qp_delta</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00518">cbs_h265.h:518</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_p_s_html"><div class="ttname"><a href="struct_h265_raw_s_p_s.html">H265RawSPS</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00252">cbs_h265.h:252</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_ae76c52b88d83b55d5ca86f97508c9de8"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#ae76c52b88d83b55d5ca86f97508c9de8">H265RawProfileTierLevel::general_non_packed_constraint_flag</a></div><div class="ttdeci">uint8_t general_non_packed_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00052">cbs_h265.h:52</a></div></div>
<div class="ttc" id="amacros_8h_html_acae4ba605b3a7d535b7ac058ffe96892"><div class="ttname"><a href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a></div><div class="ttdeci">#define FFALIGN(x, a)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00048">macros.h:48</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="astruct_h265_raw_n_a_l_unit_header_html"><div class="ttname"><a href="struct_h265_raw_n_a_l_unit_header.html">H265RawNALUnitHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00037">cbs_h265.h:37</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e">AV_OPT_TYPE_FLAGS</a></div><div class="ttdeci">@ AV_OPT_TYPE_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00224">opt.h:224</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a255bf7100a4ba6dcb6ee5d87740a4f35"><div class="ttname"><a href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">AVCodecContext::color_range</a></div><div class="ttdeci">enum AVColorRange color_range</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1161</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a45890b654337321044a5b13c5e5961c5"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a45890b654337321044a5b13c5e5961c5">AVMasteringDisplayMetadata::max_luminance</a></div><div class="ttdeci">AVRational max_luminance</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00057">mastering_display_metadata.h:57</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_ad77af084df103cc30aaec04ff31f0e70"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#ad77af084df103cc30aaec04ff31f0e70">H265RawVUI::vui_num_units_in_tick</a></div><div class="ttdeci">uint32_t vui_num_units_in_tick</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00167">cbs_h265.h:167</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_slice_html_a3a0ea0892268d865f4981ac1b56baff9"><div class="ttname"><a href="struct_v_a_a_p_i_encode_slice.html#a3a0ea0892268d865f4981ac1b56baff9">VAAPIEncodeSlice::block_start</a></div><div class="ttdeci">int block_start</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00065">vaapi_encode.h:65</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_aa1e8cf44139be14c2de4700fe67ee1f2"><div class="ttname"><a href="struct_h265_raw_slice_header.html#aa1e8cf44139be14c2de4700fe67ee1f2">H265RawSliceHeader::short_term_ref_pic_set</a></div><div class="ttdeci">H265RawSTRefPicSet short_term_ref_pic_set</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00470">cbs_h265.h:470</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_frames_context_html_a663a9aceca97aa7b2426c9aba6543e4a"><div class="ttname"><a href="struct_a_v_h_w_frames_context.html#a663a9aceca97aa7b2426c9aba6543e4a">AVHWFramesContext::sw_format</a></div><div class="ttdeci">enum AVPixelFormat sw_format</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext_8h_source.html#l00199">hwcontext.h:222</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_h265_picture_html_a6e9a4df3998bee148ae26476cbf26f32"><div class="ttname"><a href="struct_v_a_a_p_i_encode_h265_picture.html#a6e9a4df3998bee148ae26476cbf26f32">VAAPIEncodeH265Picture::pic_order_cnt</a></div><div class="ttdeci">int pic_order_cnt</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode__h265_8c_source.html#l00046">vaapi_encode_h265.c:46</a></div></div>
<div class="ttc" id="astruct_h265_raw_slice_header_html_a62d4a1d3d99e25c9d6b84b5b6378c3ec"><div class="ttname"><a href="struct_h265_raw_slice_header.html#a62d4a1d3d99e25c9d6b84b5b6378c3ec">H265RawSliceHeader::num_ref_idx_l0_active_minus1</a></div><div class="ttdeci">uint8_t num_ref_idx_l0_active_minus1</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00487">cbs_h265.h:487</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a851dd1439e3e90b183b078268b3e96b3"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a851dd1439e3e90b183b078268b3e96b3">HEVC_NAL_SEI_PREFIX</a></div><div class="ttdeci">@ HEVC_NAL_SEI_PREFIX</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00068">hevc.h:68</a></div></div>
<div class="ttc" id="aput__bits_8h_html"><div class="ttname"><a href="put__bits_8h.html">put_bits.h</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_type_html"><div class="ttname"><a href="struct_v_a_a_p_i_encode_type.html">VAAPIEncodeType</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00366">vaapi_encode.h:366</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="ahevc__sei_8h_html"><div class="ttname"><a href="hevc__sei_8h.html">hevc_sei.h</a></div></div>
<div class="ttc" id="avaapi__encode_8h_html_abc6126af1d45847bc59afa0aa3216b04a0bd3695af879bf892f15bfe02355b902"><div class="ttname"><a href="vaapi__encode_8h.html#abc6126af1d45847bc59afa0aa3216b04a0bd3695af879bf892f15bfe02355b902">FLAG_SLICE_CONTROL</a></div><div class="ttdeci">@ FLAG_SLICE_CONTROL</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00352">vaapi_encode.h:352</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_aa21fc19889d71f4c7c58f22538216c81"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#aa21fc19889d71f4c7c58f22538216c81">H265RawProfileTierLevel::general_frame_only_constraint_flag</a></div><div class="ttdeci">uint8_t general_frame_only_constraint_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00053">cbs_h265.h:53</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a26d85668011cd5fc01e9f809f85dc725"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a26d85668011cd5fc01e9f809f85dc725">H265RawVUI::chroma_sample_loc_type_bottom_field</a></div><div class="ttdeci">uint8_t chroma_sample_loc_type_bottom_field</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00154">cbs_h265.h:154</a></div></div>
<div class="ttc" id="astruct_h265_raw_s_t_ref_pic_set_html_a49b4e057f7e54e29936b0ab891ab5b85"><div class="ttname"><a href="struct_h265_raw_s_t_ref_pic_set.html#a49b4e057f7e54e29936b0ab891ab5b85">H265RawSTRefPicSet::delta_poc_s0_minus1</a></div><div class="ttdeci">uint16_t delta_poc_s0_minus1[HEVC_MAX_REFS]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00239">cbs_h265.h:239</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8cd8caa7d40319324ce3d879a2edbd9f"><div class="ttname"><a href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">AVCodecContext::colorspace</a></div><div class="ttdeci">enum AVColorSpace colorspace</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1154</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a391708871161d00c3c81135ee40ffe7d"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a391708871161d00c3c81135ee40ffe7d">H265RawProfileTierLevel::general_profile_compatibility_flag</a></div><div class="ttdeci">uint8_t general_profile_compatibility_flag[32]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00048">cbs_h265.h:48</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_encode_picture_html_ab10d79f488c154649c6b6c9ff223f8c6"><div class="ttname"><a href="struct_v_a_a_p_i_encode_picture.html#ab10d79f488c154649c6b6c9ff223f8c6">VAAPIEncodePicture::output_buffer</a></div><div class="ttdeci">VABufferID output_buffer</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00100">vaapi_encode.h:100</a></div></div>
<div class="ttc" id="astruct_h265_raw_v_u_i_html_a30ad7184e0e16058575c4da49a33087d"><div class="ttname"><a href="struct_h265_raw_v_u_i.html#a30ad7184e0e16058575c4da49a33087d">H265RawVUI::log2_max_mv_length_horizontal</a></div><div class="ttdeci">uint8_t log2_max_mv_length_horizontal</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00181">cbs_h265.h:181</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
