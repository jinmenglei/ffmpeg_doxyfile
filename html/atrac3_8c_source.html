<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/atrac3.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">atrac3.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="atrac3_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * ATRAC3 compatible decoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2006-2008 Maxim Poliakovski</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2006-2008 Benjamin Larsson</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="attributes_8h.html">libavutil/attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="float__dsp_8h.html">libavutil/float_dsp.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libm_8h.html">libavutil/libm.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="x86_2fft_8h.html">fft.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="get__bits_8h.html">get_bits.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="atrac_8h.html">atrac.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="atrac3data_8h.html">atrac3data.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="atrac3_8c.html#aef45771f52c45f5552ea76ea637cf692">   51</a></span>&#160;<span class="preprocessor">#define MIN_CHANNELS    1</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="atrac3_8c.html#ac69ee46f4a51ed14f0d68628c2dec71d">   52</a></span>&#160;<span class="preprocessor">#define MAX_CHANNELS    8</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a6ce3145708c0c8eec0f4aa03b516d4ff">   53</a></span>&#160;<span class="preprocessor">#define MAX_JS_PAIRS    8 / 2</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">   55</a></span>&#160;<span class="preprocessor">#define JOINT_STEREO    0x12</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="atrac3_8c.html#aae597f206a8cf88b5a0593f39044b937">   56</a></span>&#160;<span class="preprocessor">#define SINGLE          0x2</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">   58</a></span>&#160;<span class="preprocessor">#define SAMPLES_PER_FRAME 1024</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a495246142249cef061e8bf58dbe53580">   59</a></span>&#160;<span class="preprocessor">#define MDCT_SIZE          512</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a6b04d1d27783ed933051c2ff1f625b82">   61</a></span>&#160;<span class="preprocessor">#define ATRAC3_VLC_BITS 8</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_gain_block.html">   63</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_gain_block.html">GainBlock</a> {</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_gain_block.html#a76506f500dbc40548c17a7e295066d6a">   64</a></span>&#160;    <a class="code" href="struct_atrac_gain_info.html">AtracGainInfo</a> <a class="code" href="struct_gain_block.html#a76506f500dbc40548c17a7e295066d6a">g_block</a>[4];</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a5ece445677f2f825f4ea081464fb8252">   65</a></span>&#160;} <a class="code" href="atrac3_8c.html#a5ece445677f2f825f4ea081464fb8252">GainBlock</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct_tonal_component.html">   67</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_tonal_component.html">TonalComponent</a> {</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="struct_tonal_component.html#abffd5147212dd7e8eef1146f073548a8">   68</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_tonal_component.html#abffd5147212dd7e8eef1146f073548a8">pos</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_tonal_component.html#a663f08462ff263c94443e04f844d9d4f">   69</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_tonal_component.html#a663f08462ff263c94443e04f844d9d4f">num_coefs</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="struct_tonal_component.html#a8ea3af30403e49b56efa80b006673329">   70</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_tonal_component.html#a8ea3af30403e49b56efa80b006673329">coef</a>[8];</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a5bb70e8f91b787735f7b8f26ef996ba8">   71</a></span>&#160;} <a class="code" href="atrac3_8c.html#a5bb70e8f91b787735f7b8f26ef996ba8">TonalComponent</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_channel_unit.html">   73</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_channel_unit.html">ChannelUnit</a> {</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_channel_unit.html#a9161b1a9636d4604c07f03300037383d">   74</a></span>&#160;    <span class="keywordtype">int</span>            <a class="code" href="struct_channel_unit.html#a9161b1a9636d4604c07f03300037383d">bands_coded</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_channel_unit.html#a8deac0bb027b633e36fe715295759655">   75</a></span>&#160;    <span class="keywordtype">int</span>            <a class="code" href="struct_channel_unit.html#a8deac0bb027b633e36fe715295759655">num_components</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_channel_unit.html#a95c9d009c9d2306f94494ea485626625">   76</a></span>&#160;    <span class="keywordtype">float</span>          <a class="code" href="struct_channel_unit.html#a95c9d009c9d2306f94494ea485626625">prev_frame</a>[<a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a>];</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_channel_unit.html#a9d24aa9f914f341a47b9b56a6065dc30">   77</a></span>&#160;    <span class="keywordtype">int</span>            <a class="code" href="struct_channel_unit.html#a9d24aa9f914f341a47b9b56a6065dc30">gc_blk_switch</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_channel_unit.html#a84e3ea997e2fbb77f3677fc1dc619dcb">   78</a></span>&#160;    <a class="code" href="struct_tonal_component.html">TonalComponent</a> <a class="code" href="struct_channel_unit.html#a84e3ea997e2fbb77f3677fc1dc619dcb">components</a>[64];</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_channel_unit.html#afc89fb14b38c6d89be073f2652b91c25">   79</a></span>&#160;    <a class="code" href="struct_gain_block.html">GainBlock</a>      <a class="code" href="struct_channel_unit.html#afc89fb14b38c6d89be073f2652b91c25">gain_block</a>[2];</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="atrac3_8c.html#af96df449dcabe28416e5ab40c6b54263">DECLARE_ALIGNED</a>(32, <span class="keywordtype">float</span>, spectrum)[<a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a>];</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="atrac3_8c.html#af96df449dcabe28416e5ab40c6b54263">DECLARE_ALIGNED</a>(32, <span class="keywordtype">float</span>, imdct_buf)[<a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a>];</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">float</span>          delay_buf1[46]; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">float</span>          delay_buf2[46];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">float</span>          delay_buf3[46];</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="atrac3_8c.html#abbbd86d0914276aedfef0ae5e2a655d8">   87</a></span>&#160;} <a class="code" href="atrac3_8c.html#abbbd86d0914276aedfef0ae5e2a655d8">ChannelUnit</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html">   89</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> {</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">   90</a></span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> <a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">   93</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">   95</a></span>&#160;    <a class="code" href="struct_channel_unit.html">ChannelUnit</a> *<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#ae351c2a19f5ee3223e6e143e2e8cebf8">   99</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_t_r_a_c3_context.html#ae351c2a19f5ee3223e6e143e2e8cebf8">matrix_coeff_index_prev</a>[<a class="code" href="atrac3_8c.html#a6ce3145708c0c8eec0f4aa03b516d4ff">MAX_JS_PAIRS</a>][4];</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#a9213e5ce3f7fe22fee77035d4a68d0f4">  100</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_t_r_a_c3_context.html#a9213e5ce3f7fe22fee77035d4a68d0f4">matrix_coeff_index_now</a>[<a class="code" href="atrac3_8c.html#a6ce3145708c0c8eec0f4aa03b516d4ff">MAX_JS_PAIRS</a>][4];</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#a10ceaaffbed40bef5db97dcd86455917">  101</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_t_r_a_c3_context.html#a10ceaaffbed40bef5db97dcd86455917">matrix_coeff_index_next</a>[<a class="code" href="atrac3_8c.html#a6ce3145708c0c8eec0f4aa03b516d4ff">MAX_JS_PAIRS</a>][4];</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">  102</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[<a class="code" href="atrac3_8c.html#a6ce3145708c0c8eec0f4aa03b516d4ff">MAX_JS_PAIRS</a>][6];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">  106</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">  107</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">temp_buf</a>[1070];</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#a930a7a63b34073ae7f52233d04665b0a">  111</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_t_r_a_c3_context.html#a930a7a63b34073ae7f52233d04665b0a">scrambled_stream</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#aafca7f4cd35db0d0d9062332df9c1c7f">  114</a></span>&#160;    <a class="code" href="struct_atrac_g_c_context.html">AtracGCContext</a>    <a class="code" href="struct_a_t_r_a_c3_context.html#aafca7f4cd35db0d0d9062332df9c1c7f">gainc_ctx</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#a37f06df9f0263f6854e4422178f4e53d">  115</a></span>&#160;    <a class="code" href="struct_f_f_t_context.html">FFTContext</a>        <a class="code" href="struct_a_t_r_a_c3_context.html#a37f06df9f0263f6854e4422178f4e53d">mdct_ctx</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_a_t_r_a_c3_context.html#a6c217e38bf2b863d522be33a2b7f0da6">  116</a></span>&#160;    <a class="code" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> (*<a class="code" href="struct_a_t_r_a_c3_context.html#a6c217e38bf2b863d522be33a2b7f0da6">vector_fmul</a>)(<span class="keywordtype">float</span> *dst, <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code" href="tests_2checkasm_2h264pred_8c.html#ac4457b06e88002c046568fa09e601dd5">src0</a>, <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a>,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a75905cd18400be25776586e8ae6c4a9e">  118</a></span>&#160;} <a class="code" href="atrac3_8c.html#a75905cd18400be25776586e8ae6c4a9e">ATRAC3Context</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="atrac3_8c.html#af96df449dcabe28416e5ab40c6b54263">  120</a></span>&#160;<span class="keyword">static</span> <a class="code" href="atrac3_8c.html#af96df449dcabe28416e5ab40c6b54263">DECLARE_ALIGNED</a>(32, <span class="keywordtype">float</span>, mdct_window)[<a class="code" href="atrac3_8c.html#a495246142249cef061e8bf58dbe53580">MDCT_SIZE</a>];</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">static</span> <a class="code" href="vlc_8h.html#a7e70876676d0b52ff7cf93cadf7e24fa">VLC_TYPE</a> atrac3_vlc_table[7 * 1 &lt;&lt; <a class="code" href="atrac3_8c.html#a6b04d1d27783ed933051c2ff1f625b82">ATRAC3_VLC_BITS</a>][2];</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_v_l_c.html">VLC</a>   spectral_coeff_tab[7];</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> imlt(<a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> *q, <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>, <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>, <span class="keywordtype">int</span> odd_band)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (odd_band) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 128; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<span class="keywordtype">float</span>, <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>[255 - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a37f06df9f0263f6854e4422178f4e53d">mdct_ctx</a>.<a class="code" href="struct_f_f_t_context.html#a78e7b9bd645d0b070739416760525834">imdct_calc</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a37f06df9f0263f6854e4422178f4e53d">mdct_ctx</a>, <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>, <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">/* Perform windowing on the output. */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a6c217e38bf2b863d522be33a2b7f0da6">vector_fmul</a>(<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>, <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>, mdct_window, <a class="code" href="atrac3_8c.html#a495246142249cef061e8bf58dbe53580">MDCT_SIZE</a>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"> * indata descrambling, only used for data coming from the rm container</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a8465e7ece542dcdc7c8f44dab1a72c6f">  156</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a8465e7ece542dcdc7c8f44dab1a72c6f">decode_bytes</a>(<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="keywordtype">int</span> bytes)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, off;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    uint32_t <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">const</span> uint32_t *buf;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    uint32_t *<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> = (uint32_t *)<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    off = (intptr_t)<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a> &amp; 3;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    buf = (<span class="keyword">const</span> uint32_t *)(<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a> - off);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (off)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="bswap_8h.html#ac1015f36993fc9b1659fe883d3ff3a17">av_be2ne32</a>((0x537F6103U &gt;&gt; (off * 8)) | (0x537F6103U &lt;&lt; (32 - (off * 8))));</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="bswap_8h.html#ac1015f36993fc9b1659fe883d3ff3a17">av_be2ne32</a>(0x537F6103U);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    bytes += 3 + off;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; bytes / 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> ^ buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (off)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Offset of %d&quot;</span>, off);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> off;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a06f13349468fc3ab5f9bf5aaebd25a0c">  179</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="atrac3_8c.html#a06f13349468fc3ab5f9bf5aaebd25a0c">init_imdct_window</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">/* generate the mdct window, for details see</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">     * http://wiki.multimedia.cx/index.php?title=RealAudio_atrc#Windows */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, j = 255; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 128; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, j--) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordtype">float</span> wi = sin(((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 0.5) / 256.0 - 0.5) * <a class="code" href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) + 1.0;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordtype">float</span> wj = sin(((j + 0.5) / 256.0 - 0.5) * <a class="code" href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) + 1.0;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>  = 0.5 * (wi * wi + wj * wj);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        mdct_window[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = mdct_window[511 - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = wi / <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        mdct_window[j] = mdct_window[511 - j] = wj / <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a574c6fd12a8797a9afd4194d10732dbe">  194</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a574c6fd12a8797a9afd4194d10732dbe">atrac3_decode_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> *q = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a37f06df9f0263f6854e4422178f4e53d">mdct_ctx</a>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a29fbbea106cc92a7c927f8614b99a687">  214</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="atrac3_8c.html#a29fbbea106cc92a7c927f8614b99a687">read_quant_spectral_coeffs</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> selector,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                       <span class="keywordtype">int</span> coding_flag, <span class="keywordtype">int</span> *mantissas,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                       <span class="keywordtype">int</span> num_codes)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>, huff_symb;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (selector == 1)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        num_codes /= 2;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (coding_flag != 0) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">/* constant length coding (CLC) */</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordtype">int</span> num_bits = <a class="code" href="atrac3data_8h.html#a9a92bc3f30546ac373dbfde515ca4d97">clc_length_tab</a>[selector];</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (selector &gt; 1) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; num_codes; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="keywordflow">if</span> (num_bits)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#a3930676484bc9311beeca491395b4376">get_sbits</a>(gb, num_bits);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = 0;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                mantissas[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; num_codes; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">if</span> (num_bits)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, num_bits); <span class="comment">// num_bits is always 4 in this case</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = 0;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                mantissas[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2    ] = <a class="code" href="atrac3data_8h.html#af1f898a7dbae1470ed38a39a95949ac4">mantissa_clc_tab</a>[<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &gt;&gt; 2];</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                mantissas[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = <a class="code" href="atrac3data_8h.html#af1f898a7dbae1470ed38a39a95949ac4">mantissa_clc_tab</a>[<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp;  3];</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="comment">/* variable length coding (VLC) */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (selector != 1) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; num_codes; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                huff_symb = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, spectral_coeff_tab[selector-1].<a class="code" href="prosumer_8c.html#a8f9d32e424405551734404b133418a22">table</a>,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                     <a class="code" href="atrac3_8c.html#a6b04d1d27783ed933051c2ff1f625b82">ATRAC3_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                huff_symb += 1;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = huff_symb &gt;&gt; 1;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="keywordflow">if</span> (huff_symb &amp; 1)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = -<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                mantissas[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; num_codes; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                huff_symb = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, spectral_coeff_tab[selector - 1].<a class="code" href="prosumer_8c.html#a8f9d32e424405551734404b133418a22">table</a>,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                     <a class="code" href="atrac3_8c.html#a6b04d1d27783ed933051c2ff1f625b82">ATRAC3_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                mantissas[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2    ] = <a class="code" href="atrac3data_8h.html#a3ae6b0a488ee107adc15a4e79fc755e3">mantissa_vlc_tab</a>[huff_symb * 2    ];</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                mantissas[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = <a class="code" href="atrac3data_8h.html#a3ae6b0a488ee107adc15a4e79fc755e3">mantissa_vlc_tab</a>[huff_symb * 2 + 1];</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a27953ee899b1711e0fc0e1dc48f1fb95">  273</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a27953ee899b1711e0fc0e1dc48f1fb95">decode_spectrum</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;{</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">int</span> num_subbands, coding_mode, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a>, last, subband_size;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">int</span> subband_vlc_index[32], sf_index[32];</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">int</span> mantissas[128];</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">float</span> scale_factor;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    num_subbands = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);  <span class="comment">// number of coded subbands</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    coding_mode  = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);    <span class="comment">// coding Mode: 0 - VLC/ 1-CLC</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">/* get the VLC selector table for the subbands, 0 means not coded */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= num_subbands; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        subband_vlc_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">/* read the scale factor indexes from the stream */</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= num_subbands; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (subband_vlc_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != 0)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            sf_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= num_subbands; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a> = <a class="code" href="atrac3data_8h.html#a5e7e442b82bdc0bf21f2bdd592998ac6">subband_tab</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>    ];</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        last  = <a class="code" href="atrac3data_8h.html#a5e7e442b82bdc0bf21f2bdd592998ac6">subband_tab</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1];</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        subband_size = last - <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> (subband_vlc_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != 0) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="comment">/* decode spectral coefficients for this subband */</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="comment">/* TODO: This can be done faster is several blocks share the</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">             * same VLC selector (subband_vlc_index) */</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="atrac3_8c.html#a29fbbea106cc92a7c927f8614b99a687">read_quant_spectral_coeffs</a>(gb, subband_vlc_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], coding_mode,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                       mantissas, subband_size);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="comment">/* decode the scale factor for this subband */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            scale_factor = <a class="code" href="atrac_8c.html#aa979aef7b15fe98b938293706ee1c50d">ff_atrac_sf_table</a>[sf_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] *</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                           <a class="code" href="atrac3data_8h.html#ad220a43658336b328998d60c75510118">inv_max_quant</a>[subband_vlc_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="comment">/* inverse quantize the coefficients */</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">for</span> (j = 0; <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a> &lt; last; <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a>++, j++)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[<a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a>] = mantissas[j] * scale_factor;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="comment">/* this subband was not coded, so zero the entire subband */</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            memset(<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> + <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a>, 0, subband_size * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">/* clear the subbands that were not coded */</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a> = <a class="code" href="atrac3data_8h.html#a5e7e442b82bdc0bf21f2bdd592998ac6">subband_tab</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    memset(<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> + <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a>, 0, (<a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a> - <a class="code" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a>) * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>));</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> num_subbands;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a795c772c413e5394db3c7b37e17c6ee5">  331</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a795c772c413e5394db3c7b37e17c6ee5">decode_tonal_components</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                   <a class="code" href="struct_tonal_component.html">TonalComponent</a> *components, <span class="keywordtype">int</span> num_bands)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, m;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">int</span> nb_components, coding_mode_selector, coding_mode;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">int</span> band_flags[4], mantissa[8];</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">int</span> component_count = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    nb_components = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">/* no tonal components */</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (nb_components == 0)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    coding_mode_selector = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> (coding_mode_selector == 2)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    coding_mode = coding_mode_selector &amp; 1;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nb_components; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordtype">int</span> coded_values_per_component, quant_step_index;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = 0; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &lt;= num_bands; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>++)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            band_flags[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        coded_values_per_component = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        quant_step_index = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">if</span> (quant_step_index &lt;= 1)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">if</span> (coding_mode_selector == 3)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            coding_mode = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = 0; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &lt; (num_bands + 1) * 4; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>++) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordtype">int</span> coded_components;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">if</span> (band_flags[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &gt;&gt; 2] == 0)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            coded_components = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = 0; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &lt; coded_components; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <a class="code" href="struct_tonal_component.html">TonalComponent</a> *<a class="code" href="motion__est_8c.html#aa8dbd96e837401561874816377fb71a1">cmp</a> = &amp;components[component_count];</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordtype">int</span> sf_index, coded_values, max_coded_values;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <span class="keywordtype">float</span> scale_factor;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                sf_index = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">if</span> (component_count &gt;= 64)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <a class="code" href="motion__est_8c.html#aa8dbd96e837401561874816377fb71a1">cmp</a>-&gt;pos = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> * 64 + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                max_coded_values = <a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a> - <a class="code" href="motion__est_8c.html#aa8dbd96e837401561874816377fb71a1">cmp</a>-&gt;pos;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                coded_values     = coded_values_per_component + 1;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                coded_values     = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(max_coded_values, coded_values);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                scale_factor = <a class="code" href="atrac_8c.html#aa979aef7b15fe98b938293706ee1c50d">ff_atrac_sf_table</a>[sf_index] *</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                               <a class="code" href="atrac3data_8h.html#ad220a43658336b328998d60c75510118">inv_max_quant</a>[quant_step_index];</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <a class="code" href="atrac3_8c.html#a29fbbea106cc92a7c927f8614b99a687">read_quant_spectral_coeffs</a>(gb, quant_step_index, coding_mode,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                           mantissa, coded_values);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <a class="code" href="motion__est_8c.html#aa8dbd96e837401561874816377fb71a1">cmp</a>-&gt;num_coefs = coded_values;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="comment">/* inverse quant */</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">for</span> (m = 0; m &lt; coded_values; m++)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    <a class="code" href="motion__est_8c.html#aa8dbd96e837401561874816377fb71a1">cmp</a>-&gt;coef[m] = mantissa[m] * scale_factor;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                component_count++;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> component_count;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="atrac3_8c.html#ab2bbbce166c4e10eb7f585312fd22edd">  415</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#ab2bbbce166c4e10eb7f585312fd22edd">decode_gain_control</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_gain_block.html">GainBlock</a> *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                               <span class="keywordtype">int</span> num_bands)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, j;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, *loc;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="struct_atrac_gain_info.html">AtracGainInfo</a> *gain = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>-&gt;g_block;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = 0; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &lt;= num_bands; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>++) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        gain[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>].<a class="code" href="struct_atrac_gain_info.html#a0734c5e8c66342680f70f9c801f94971">num_points</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>              = gain[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>].<a class="code" href="struct_atrac_gain_info.html#add65c9d06dac4bdf2a71ebc539dc2507">lev_code</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        loc                = gain[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>].<a class="code" href="struct_atrac_gain_info.html#ad9529816be0e72482f32fe26f3c4ad27">loc_code</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; gain[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>].<a class="code" href="struct_atrac_gain_info.html#a0734c5e8c66342680f70f9c801f94971">num_points</a>; j++) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>[j] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            loc[j]   = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (j &amp;&amp; loc[j] &lt;= loc[j - 1])</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">/* Clear the unused blocks. */</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &lt; 4 ; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>++)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        gain[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>].num_points = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a0033981a0fc39f6d0f0aaea87d8fe89f">  451</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a0033981a0fc39f6d0f0aaea87d8fe89f">add_tonal_components</a>(<span class="keywordtype">float</span> *spectrum, <span class="keywordtype">int</span> num_components,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                <a class="code" href="struct_tonal_component.html">TonalComponent</a> *components)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, last_pos = -1;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>, *<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; num_components; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        last_pos = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(components[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> + components[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_coefs, last_pos);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>    = components[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_tonal_component.html#a8ea3af30403e49b56efa80b006673329">coef</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>   = &amp;spectrum[components[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_tonal_component.html#abffd5147212dd7e8eef1146f073548a8">pos</a>];</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; components[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_coefs; j++)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[j] += <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>[j];</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> last_pos;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a9192c4bc2278ba0d7c8e8ab438753080">  469</a></span>&#160;<span class="preprocessor">#define INTERPOLATE(old, new, nsample) \</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor">    ((old) + (nsample) * 0.125 * ((new) - (old)))</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a3eff8c1ba8efd36c88a47df2af20d7ae">  472</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="atrac3_8c.html#a3eff8c1ba8efd36c88a47df2af20d7ae">reverse_matrixing</a>(<span class="keywordtype">float</span> *su1, <span class="keywordtype">float</span> *su2, <span class="keywordtype">int</span> *prev_code,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                              <span class="keywordtype">int</span> *curr_code)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, nsample, band;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordtype">float</span> mc1_l, mc1_r, mc2_l, mc2_r;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, band = 0; band &lt; 4 * 256; band += 256, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a> = prev_code[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="regdef_8h.html#a3ec77fc652b1787d9ace19f0f8fb6072">s2</a> = curr_code[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        nsample = band;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a> != <a class="code" href="regdef_8h.html#a3ec77fc652b1787d9ace19f0f8fb6072">s2</a>) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="comment">/* Selector value changed, interpolation needed. */</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            mc1_l = <a class="code" href="atrac3data_8h.html#a8053fa1323c6135ea7be67c923294066">matrix_coeffs</a>[<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a> * 2    ];</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            mc1_r = <a class="code" href="atrac3data_8h.html#a8053fa1323c6135ea7be67c923294066">matrix_coeffs</a>[<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a> * 2 + 1];</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            mc2_l = <a class="code" href="atrac3data_8h.html#a8053fa1323c6135ea7be67c923294066">matrix_coeffs</a>[<a class="code" href="regdef_8h.html#a3ec77fc652b1787d9ace19f0f8fb6072">s2</a> * 2    ];</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            mc2_r = <a class="code" href="atrac3data_8h.html#a8053fa1323c6135ea7be67c923294066">matrix_coeffs</a>[<a class="code" href="regdef_8h.html#a3ec77fc652b1787d9ace19f0f8fb6072">s2</a> * 2 + 1];</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="comment">/* Interpolation is done over the first eight samples. */</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">for</span> (; nsample &lt; band + 8; nsample++) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> = su1[nsample];</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a> = su2[nsample];</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a> = <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> * <a class="code" href="atrac3_8c.html#a9192c4bc2278ba0d7c8e8ab438753080">INTERPOLATE</a>(mc1_l, mc2_l, nsample - band) +</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                     <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a> * <a class="code" href="atrac3_8c.html#a9192c4bc2278ba0d7c8e8ab438753080">INTERPOLATE</a>(mc1_r, mc2_r, nsample - band);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                su1[nsample] = <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                su2[nsample] = <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> * 2.0 - <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">/* Apply the matrix without interpolation. */</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="regdef_8h.html#a3ec77fc652b1787d9ace19f0f8fb6072">s2</a>) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">case</span> 0:     <span class="comment">/* M/S decoding */</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">for</span> (; nsample &lt; band + 256; nsample++) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> = su1[nsample];</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a> = su2[nsample];</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                su1[nsample] =  <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>       * 2.0;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                su2[nsample] = (<a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> - <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>) * 2.0;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">for</span> (; nsample &lt; band + 256; nsample++) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> = su1[nsample];</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a> = su2[nsample];</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                su1[nsample] = (<a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> + <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>) *  2.0;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                su2[nsample] =  <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>       * -2.0;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">for</span> (; nsample &lt; band + 256; nsample++) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> = su1[nsample];</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a> = su2[nsample];</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                su1[nsample] = <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> + <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                su2[nsample] = <a class="code" href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a> - <a class="code" href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(0);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a66dfcf889cf352f2db40339cce8852c0">  534</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="atrac3_8c.html#a66dfcf889cf352f2db40339cce8852c0">get_channel_weights</a>(<span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>, <span class="keywordtype">float</span> ch[2])</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;{</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> == 7) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        ch[0] = 1.0;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        ch[1] = 1.0;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        ch[0] = (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &amp; 7) / 7.0;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        ch[1] = sqrt(2 - ch[0] * ch[0]);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<span class="keywordtype">float</span>, ch[0], ch[1]);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a8b5215a0e87f7cc126ee1af6885c1738">  547</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="atrac3_8c.html#a8b5215a0e87f7cc126ee1af6885c1738">channel_weighting</a>(<span class="keywordtype">float</span> *su1, <span class="keywordtype">float</span> *su2, <span class="keywordtype">int</span> *p3)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">int</span> band, nsample;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">/* w[x][y] y=0 is left y=1 is right */</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[2][2];</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (p3[1] != 7 || p3[3] != 7) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="atrac3_8c.html#a66dfcf889cf352f2db40339cce8852c0">get_channel_weights</a>(p3[1], p3[0], <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[0]);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="atrac3_8c.html#a66dfcf889cf352f2db40339cce8852c0">get_channel_weights</a>(p3[3], p3[2], <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[1]);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">for</span> (band = 256; band &lt; 4 * 256; band += 256) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordflow">for</span> (nsample = band; nsample &lt; band + 8; nsample++) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                su1[nsample] *= <a class="code" href="atrac3_8c.html#a9192c4bc2278ba0d7c8e8ab438753080">INTERPOLATE</a>(<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[0][0], <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[0][1], nsample - band);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                su2[nsample] *= <a class="code" href="atrac3_8c.html#a9192c4bc2278ba0d7c8e8ab438753080">INTERPOLATE</a>(<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[1][0], <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[1][1], nsample - band);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">for</span>(; nsample &lt; band + 256; nsample++) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                su1[nsample] *= <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[1][0];</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                su2[nsample] *= <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>[1][1];</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="atrac3_8c.html#aff7c87c23e138e2b3d54c82626bb15e5">  578</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#aff7c87c23e138e2b3d54c82626bb15e5">decode_channel_sound_unit</a>(<a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> *q, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                     <a class="code" href="struct_channel_unit.html">ChannelUnit</a> *snd, <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                     <span class="keywordtype">int</span> channel_num, <span class="keywordtype">int</span> coding_mode)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;{</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordtype">int</span> band, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, num_subbands, last_tonal, num_bands;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="struct_gain_block.html">GainBlock</a> *gain1 = &amp;snd-&gt;<a class="code" href="struct_channel_unit.html#afc89fb14b38c6d89be073f2652b91c25">gain_block</a>[    snd-&gt;<a class="code" href="struct_channel_unit.html#a9d24aa9f914f341a47b9b56a6065dc30">gc_blk_switch</a>];</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="struct_gain_block.html">GainBlock</a> *gain2 = &amp;snd-&gt;<a class="code" href="struct_channel_unit.html#afc89fb14b38c6d89be073f2652b91c25">gain_block</a>[1 - snd-&gt;<a class="code" href="struct_channel_unit.html#a9d24aa9f914f341a47b9b56a6065dc30">gc_blk_switch</a>];</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (coding_mode == <a class="code" href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">JOINT_STEREO</a> &amp;&amp; (channel_num % 2) == 1) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2) != 3) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,<a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,<span class="stringliteral">&quot;JS mono Sound Unit id != 3.\n&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6) != 0x28) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,<a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,<span class="stringliteral">&quot;Sound Unit id != 0x28.\n&quot;</span>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">/* number of coded QMF bands */</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    snd-&gt;<a class="code" href="struct_channel_unit.html#a9161b1a9636d4604c07f03300037383d">bands_coded</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="atrac3_8c.html#ab2bbbce166c4e10eb7f585312fd22edd">decode_gain_control</a>(gb, gain2, snd-&gt;<a class="code" href="struct_channel_unit.html#a9161b1a9636d4604c07f03300037383d">bands_coded</a>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    snd-&gt;<a class="code" href="struct_channel_unit.html#a8deac0bb027b633e36fe715295759655">num_components</a> = <a class="code" href="atrac3_8c.html#a795c772c413e5394db3c7b37e17c6ee5">decode_tonal_components</a>(gb, snd-&gt;<a class="code" href="struct_channel_unit.html#a84e3ea997e2fbb77f3677fc1dc619dcb">components</a>,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                                  snd-&gt;<a class="code" href="struct_channel_unit.html#a9161b1a9636d4604c07f03300037383d">bands_coded</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">if</span> (snd-&gt;<a class="code" href="struct_channel_unit.html#a8deac0bb027b633e36fe715295759655">num_components</a> &lt; 0)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">return</span> snd-&gt;<a class="code" href="struct_channel_unit.html#a8deac0bb027b633e36fe715295759655">num_components</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    num_subbands = <a class="code" href="atrac3_8c.html#a27953ee899b1711e0fc0e1dc48f1fb95">decode_spectrum</a>(gb, snd-&gt;spectrum);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">/* Merge the decoded spectrum and tonal components. */</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    last_tonal = <a class="code" href="atrac3_8c.html#a0033981a0fc39f6d0f0aaea87d8fe89f">add_tonal_components</a>(snd-&gt;spectrum, snd-&gt;<a class="code" href="struct_channel_unit.html#a8deac0bb027b633e36fe715295759655">num_components</a>,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                                      snd-&gt;<a class="code" href="struct_channel_unit.html#a84e3ea997e2fbb77f3677fc1dc619dcb">components</a>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">/* calculate number of used MLT/QMF bands according to the amount of coded</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">       spectral lines */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    num_bands = (<a class="code" href="atrac3data_8h.html#a5e7e442b82bdc0bf21f2bdd592998ac6">subband_tab</a>[num_subbands] - 1) &gt;&gt; 8;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (last_tonal &gt;= 0)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        num_bands = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>((last_tonal + 256) &gt;&gt; 8, num_bands);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">/* Reconstruct time domain samples. */</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">for</span> (band = 0; band &lt; 4; band++) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="comment">/* Perform the IMDCT step without overlapping. */</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">if</span> (band &lt;= num_bands)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            imlt(q, &amp;snd-&gt;spectrum[band * 256], snd-&gt;imdct_buf, band &amp; 1);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            memset(snd-&gt;imdct_buf, 0, 512 * <span class="keyword">sizeof</span>(*snd-&gt;imdct_buf));</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">/* gain compensation and overlapping */</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="atrac_8c.html#a370e2faff33af28beee0f214ab8cca9f">ff_atrac_gain_compensation</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#aafca7f4cd35db0d0d9062332df9c1c7f">gainc_ctx</a>, snd-&gt;imdct_buf,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                   &amp;snd-&gt;<a class="code" href="struct_channel_unit.html#a95c9d009c9d2306f94494ea485626625">prev_frame</a>[band * 256],</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                                   &amp;gain1-&gt;<a class="code" href="struct_gain_block.html#a76506f500dbc40548c17a7e295066d6a">g_block</a>[band], &amp;gain2-&gt;<a class="code" href="struct_gain_block.html#a76506f500dbc40548c17a7e295066d6a">g_block</a>[band],</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                                   256, &amp;<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[band * 256]);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">/* Swap the gain control buffers for the next frame. */</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    snd-&gt;<a class="code" href="struct_channel_unit.html#a9d24aa9f914f341a47b9b56a6065dc30">gc_blk_switch</a> ^= 1;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="atrac3_8c.html#aba472aa74b8d65298d19658bfadd94b0">  645</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#aba472aa74b8d65298d19658bfadd94b0">decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *databuf,</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                        <span class="keywordtype">float</span> **out_samples)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> *q = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ch;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr1;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a> == <a class="code" href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">JOINT_STEREO</a>) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="comment">/* channel coupling mode */</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="comment">/* Decode sound unit pairs (channels are expected to be even).</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">         * Multichannel joint stereo interleaves pairs (6ch: 2ch + 2ch + 2ch) */</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *js_databuf;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordtype">int</span> js_pair, js_block_align;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        js_block_align = (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>) * 2; <span class="comment">/* block pair */</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch = ch + 2) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            js_pair = ch/2;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            js_databuf = databuf + js_pair * js_block_align; <span class="comment">/* align to current pair */</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="comment">/* Set the bitstream reader at the start of first channel sound unit. */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                          js_databuf, js_block_align * 8);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <span class="comment">/* decode Sound Unit 1 */</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="atrac3_8c.html#aff7c87c23e138e2b3d54c82626bb15e5">decode_channel_sound_unit</a>(q, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[ch],</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                            out_samples[ch], ch, <a class="code" href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">JOINT_STEREO</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="comment">/* Framedata of the su2 in the joint-stereo mode is encoded in</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">             * reverse byte order so we need to swap it first. */</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">if</span> (js_databuf == q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr2 = q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a> + js_block_align - 1;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                ptr1          = q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; js_block_align / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ptr1++, ptr2--)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>, *ptr1, *ptr2);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr2 = js_databuf + js_block_align - 1;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; js_block_align; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = *ptr2--;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="comment">/* Skip the sync codes (0xF8). */</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            ptr1 = q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 4; *ptr1 == 0xF8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ptr1++) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= js_block_align)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="comment">/* set the bitstream reader at the start of the second Sound Unit */</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                           ptr1, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a> + js_block_align - ptr1);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="comment">/* Fill the Weighting coeffs delay buffer */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            memmove(q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair], &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][2],</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    4 * <span class="keyword">sizeof</span>(*q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair]));</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][4] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][5] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, 3);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ae351c2a19f5ee3223e6e143e2e8cebf8">matrix_coeff_index_prev</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a9213e5ce3f7fe22fee77035d4a68d0f4">matrix_coeff_index_now</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a9213e5ce3f7fe22fee77035d4a68d0f4">matrix_coeff_index_now</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]  = q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a10ceaaffbed40bef5db97dcd86455917">matrix_coeff_index_next</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a10ceaaffbed40bef5db97dcd86455917">matrix_coeff_index_next</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, 2);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="comment">/* Decode Sound Unit 2. */</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="atrac3_8c.html#aff7c87c23e138e2b3d54c82626bb15e5">decode_channel_sound_unit</a>(q, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[ch+1],</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                            out_samples[ch+1], ch+1, <a class="code" href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">JOINT_STEREO</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="comment">/* Reconstruct the channel coefficients. */</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <a class="code" href="atrac3_8c.html#a3eff8c1ba8efd36c88a47df2af20d7ae">reverse_matrixing</a>(out_samples[ch], out_samples[ch+1],</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                              q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ae351c2a19f5ee3223e6e143e2e8cebf8">matrix_coeff_index_prev</a>[js_pair],</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                              q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a9213e5ce3f7fe22fee77035d4a68d0f4">matrix_coeff_index_now</a>[js_pair]);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <a class="code" href="atrac3_8c.html#a8b5215a0e87f7cc126ee1af6885c1738">channel_weighting</a>(out_samples[ch], out_samples[ch+1], q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair]);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="comment">/* single channels */</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment">/* Decode the channel sound units. */</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="comment">/* Set the bitstream reader at the start of a channel sound unit. */</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                          databuf + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                          avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> * 8 / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="atrac3_8c.html#aff7c87c23e138e2b3d54c82626bb15e5">decode_channel_sound_unit</a>(q, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                            out_samples[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">/* Apply the iQMF synthesis filter. */</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordtype">float</span> *p1 = out_samples[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordtype">float</span> *p2 = p1 + 256;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordtype">float</span> *p3 = p2 + 256;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordtype">float</span> *p4 = p3 + 256;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="atrac_8c.html#ae304fd3549524ee15ad64390610661a8">ff_atrac_iqmf</a>(p1, p2, 256, p1, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].delay_buf1, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">temp_buf</a>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="atrac_8c.html#ae304fd3549524ee15ad64390610661a8">ff_atrac_iqmf</a>(p4, p3, 256, p3, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].delay_buf2, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">temp_buf</a>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <a class="code" href="atrac_8c.html#ae304fd3549524ee15ad64390610661a8">ff_atrac_iqmf</a>(p1, p3, 512, p1, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].delay_buf3, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">temp_buf</a>);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a2a508ac5a2f06ef986eef6e8822d2685">  758</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a2a508ac5a2f06ef986eef6e8822d2685">al_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *databuf,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                           <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">float</span> **out_samples)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;{</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> *q = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">/* Set the bitstream reader at the start of a channel sound unit. */</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, databuf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> * 8);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">/* single channels */</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">/* Decode the channel sound units. */</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="atrac3_8c.html#aff7c87c23e138e2b3d54c82626bb15e5">decode_channel_sound_unit</a>(q, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, &amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                                        out_samples[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">while</span> (i &lt; avctx-&gt;<a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a> &amp;&amp; <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>) &gt; 6 &amp;&amp; <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, 6) != 0x28) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">gb</a>, 1);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">/* Apply the iQMF synthesis filter. */</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordtype">float</span> *p1 = out_samples[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordtype">float</span> *p2 = p1 + 256;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordtype">float</span> *p3 = p2 + 256;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordtype">float</span> *p4 = p3 + 256;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <a class="code" href="atrac_8c.html#ae304fd3549524ee15ad64390610661a8">ff_atrac_iqmf</a>(p1, p2, 256, p1, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].delay_buf1, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">temp_buf</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <a class="code" href="atrac_8c.html#ae304fd3549524ee15ad64390610661a8">ff_atrac_iqmf</a>(p4, p3, 256, p3, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].delay_buf2, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">temp_buf</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="atrac_8c.html#ae304fd3549524ee15ad64390610661a8">ff_atrac_iqmf</a>(p1, p3, 512, p1, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].delay_buf3, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">temp_buf</a>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="atrac3_8c.html#aba86d10b9a0c43c6395e05c377f65670">  792</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#aba86d10b9a0c43c6395e05c377f65670">atrac3_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>,</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                               <span class="keywordtype">int</span> *got_frame_ptr, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;{</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>     = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordtype">int</span> buf_size = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> *q = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *databuf;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">if</span> (buf_size &lt; avctx-&gt;block_align) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;               <span class="stringliteral">&quot;Frame too small (%d bytes). Truncated file?\n&quot;</span>, buf_size);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">/* get output buffer */</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples = <a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">/* Check if we need to descramble and what buffer to pass on. */</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a930a7a63b34073ae7f52233d04665b0a">scrambled_stream</a>) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="atrac3_8c.html#a8465e7ece542dcdc7c8f44dab1a72c6f">decode_bytes</a>(buf, q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        databuf = q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        databuf = buf;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="atrac3_8c.html#aba472aa74b8d65298d19658bfadd94b0">decode_frame</a>(avctx, databuf, (<span class="keywordtype">float</span> **)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Frame decoding error!\n&quot;</span>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    *got_frame_ptr = 1;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">return</span> avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;}</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a1d18f5ac7212ef0d3d7e84f22764f994">  832</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a1d18f5ac7212ef0d3d7e84f22764f994">atrac3al_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>,</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                                 <span class="keywordtype">int</span> *got_frame_ptr, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;{</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples = <a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="atrac3_8c.html#a2a508ac5a2f06ef986eef6e8822d2685">al_decode_frame</a>(avctx, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>,</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                          (<span class="keywordtype">float</span> **)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Frame decoding error!\n&quot;</span>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    *got_frame_ptr = 1;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">return</span> avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a8cc8a4cff45377c14d1af6dd85683a13">  854</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="atrac3_8c.html#a8cc8a4cff45377c14d1af6dd85683a13">atrac3_init_static_data</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;{</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="vlc_8h.html#a7e70876676d0b52ff7cf93cadf7e24fa">VLC_TYPE</a> (*<a class="code" href="prosumer_8c.html#a8f9d32e424405551734404b133418a22">table</a>)[2] = atrac3_vlc_table;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <a class="code" href="atrac3_8c.html#a06f13349468fc3ab5f9bf5aaebd25a0c">init_imdct_window</a>();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="atrac_8c.html#aabdc441e49921765a9d5e0cdba391e3d">ff_atrac_generate_tables</a>();</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">/* Initialize the VLC tables. */</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 7; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        spectral_coeff_tab[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>           = <a class="code" href="prosumer_8c.html#a8f9d32e424405551734404b133418a22">table</a>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        spectral_coeff_tab[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_v_l_c.html#aa13e8ff6ffe730398c69e9fc2d42266f">table_allocated</a> = 256;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a>(&amp;spectral_coeff_tab[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="atrac3_8c.html#a6b04d1d27783ed933051c2ff1f625b82">ATRAC3_VLC_BITS</a>, <a class="code" href="atrac3data_8h.html#a611c9c15dd956a84d281f9d138e669e9">huff_tab_sizes</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                 <a class="code" href="atrac3data_8h.html#a5a60cb74b26617a13fb6dae19beb0f83">huff_bits</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],  1, 1,</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                 <a class="code" href="atrac3data_8h.html#ab5261bc52244fae699381546441cb082">huff_codes</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], 1, 1, <a class="code" href="vlc_8h.html#a243805445ae22e8021dd3f07439d7506">INIT_VLC_USE_NEW_STATIC</a>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <a class="code" href="prosumer_8c.html#a8f9d32e424405551734404b133418a22">table</a> += 256;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a9d22e0751a6a9d08efb1d606a47a3234">  873</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="atrac3_8c.html#a9d22e0751a6a9d08efb1d606a47a3234">atrac3_decode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;{</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> static_init_done;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, js_pair, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>, delay, samples_per_frame, frame_factor;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *edata_ptr = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a> *q = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="struct_a_v_float_d_s_p_context.html">AVFloatDSPContext</a> *fdsp;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> &lt; <a class="code" href="atrac3_8c.html#aef45771f52c45f5552ea76ea637cf692">MIN_CHANNELS</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> &gt; <a class="code" href="atrac3_8c.html#ac69ee46f4a51ed14f0d68628c2dec71d">MAX_CHANNELS</a>) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Channel configuration error!\n&quot;</span>);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">if</span> (!static_init_done)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <a class="code" href="atrac3_8c.html#a8cc8a4cff45377c14d1af6dd85683a13">atrac3_init_static_data</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    static_init_done = 1;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">/* Take care of the codec-specific extradata. */</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8fab24a8737c7d60c9e1b70e706054fa">AV_CODEC_ID_ATRAC3AL</a>) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>           = 4;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        samples_per_frame = <a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a> * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        delay             = 0x88E;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a>    = <a class="code" href="atrac3_8c.html#aae597f206a8cf88b5a0593f39044b937">SINGLE</a>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> == 14) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="comment">/* Parse the extradata, WAV format */</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;[0-1] %d\n&quot;</span>,</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;               bytestream_get_le16(&amp;edata_ptr));  <span class="comment">// Unknown value always 1</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        edata_ptr += 4;                             <span class="comment">// samples per channel</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a> = bytestream_get_le16(&amp;edata_ptr);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,<span class="stringliteral">&quot;[8-9] %d\n&quot;</span>,</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;               bytestream_get_le16(&amp;edata_ptr));  <span class="comment">//Dupe of coding mode</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        frame_factor = bytestream_get_le16(&amp;edata_ptr);  <span class="comment">// Unknown always 1</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,<span class="stringliteral">&quot;[12-13] %d\n&quot;</span>,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;               bytestream_get_le16(&amp;edata_ptr));  <span class="comment">// Unknown always 0</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="comment">/* setup */</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        samples_per_frame    = <a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a> * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>              = 4;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        delay                = 0x88E;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a>       = q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a> ? <a class="code" href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">JOINT_STEREO</a> : <a class="code" href="atrac3_8c.html#aae597f206a8cf88b5a0593f39044b937">SINGLE</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a930a7a63b34073ae7f52233d04665b0a">scrambled_stream</a>  = 0;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> !=  96 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> * frame_factor &amp;&amp;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> != 152 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> * frame_factor &amp;&amp;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> != 192 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> * frame_factor) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown frame/channel/frame_factor &quot;</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                   <span class="stringliteral">&quot;configuration %d/%d/%d\n&quot;</span>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a>,</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                   avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>, frame_factor);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> == 12 || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> == 10) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="comment">/* Parse the extradata, RM format. */</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>                = bytestream_get_be32(&amp;edata_ptr);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        samples_per_frame      = bytestream_get_be16(&amp;edata_ptr);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        delay                  = bytestream_get_be16(&amp;edata_ptr);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a>         = bytestream_get_be16(&amp;edata_ptr);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a930a7a63b34073ae7f52233d04665b0a">scrambled_stream</a>    = 1;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown extradata size %d.\n&quot;</span>,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;               avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">/* Check the extradata */</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> != 4) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Version %d != 4.\n&quot;</span>, <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (samples_per_frame != <a class="code" href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a> * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown amount of samples per frame %d.\n&quot;</span>,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;               samples_per_frame);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (delay != 0x88E) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown amount of delay %x != 0x88E.\n&quot;</span>,</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;               delay);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a> == <a class="code" href="atrac3_8c.html#aae597f206a8cf88b5a0593f39044b937">SINGLE</a>)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Single channels detected.\n&quot;</span>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a> == <a class="code" href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">JOINT_STEREO</a>) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> % 2 == 1) { <span class="comment">/* Joint stereo channels must be even */</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid joint stereo channel configuration.\n&quot;</span>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Joint stereo detected.\n&quot;</span>);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown channel coding mode %x!\n&quot;</span>,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;               q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">coding_mode</a>);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> &gt; 1024 || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> &lt;= 0)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a>, 4) +</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                                         <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">decoded_bytes_buffer</a>)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a> = <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">/* initialize the MDCT transform */</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="fft_8h.html#a58a526e6fc1130d7dabfec1e90680e3c">ff_mdct_init</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a37f06df9f0263f6854e4422178f4e53d">mdct_ctx</a>, 9, 1, 1.0 / 32768)) &lt; 0) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Error initializing MDCT\n&quot;</span>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">/* init the joint-stereo decoding data */</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">for</span> (js_pair = 0; js_pair &lt; <a class="code" href="atrac3_8c.html#a6ce3145708c0c8eec0f4aa03b516d4ff">MAX_JS_PAIRS</a>; js_pair++) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][0] = 0;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][1] = 7;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][2] = 0;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][3] = 7;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][4] = 0;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">weighting_delay</a>[js_pair][5] = 7;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#ae351c2a19f5ee3223e6e143e2e8cebf8">matrix_coeff_index_prev</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 3;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a9213e5ce3f7fe22fee77035d4a68d0f4">matrix_coeff_index_now</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]  = 3;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a10ceaaffbed40bef5db97dcd86455917">matrix_coeff_index_next</a>[js_pair][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 3;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <a class="code" href="atrac_8c.html#a792790a5c19548f515586e15d2ee3592">ff_atrac_init_gain_compensation</a>(&amp;q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#aafca7f4cd35db0d0d9062332df9c1c7f">gainc_ctx</a>, 4, 3);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    fdsp = <a class="code" href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">if</span> (!fdsp)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#a6c217e38bf2b863d522be33a2b7f0da6">vector_fmul</a> = fdsp-&gt;<a class="code" href="struct_a_v_float_d_s_p_context.html#a7cfd05c24dfae926f50473a12f1f1332">vector_fmul</a>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(fdsp);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a> = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>, <span class="keyword">sizeof</span>(*q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>));</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">units</a>)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;}</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a8ef5f1b7c6fe10cfcf93cfff18386db2"> 1017</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="atrac3_8c.html#a8ef5f1b7c6fe10cfcf93cfff18386db2">ff_atrac3_decoder</a> = {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>             = <span class="stringliteral">&quot;atrac3&quot;</span>,</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    .long_name        = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;ATRAC3 (Adaptive TRansform Acoustic Coding 3)&quot;</span>),</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    .type             = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    .id               = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaac96d7eb6ee2d7a2effe3a0d59154c08">AV_CODEC_ID_ATRAC3</a>,</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    .priv_data_size   = <span class="keyword">sizeof</span>(<a class="code" href="atrac3_8c.html#a75905cd18400be25776586e8ae6c4a9e">ATRAC3Context</a>),</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>             = <a class="code" href="atrac3_8c.html#a9d22e0751a6a9d08efb1d606a47a3234">atrac3_decode_init</a>,</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    .close            = <a class="code" href="atrac3_8c.html#a574c6fd12a8797a9afd4194d10732dbe">atrac3_decode_close</a>,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>           = <a class="code" href="atrac3_8c.html#aba86d10b9a0c43c6395e05c377f65670">atrac3_decode_frame</a>,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    .capabilities     = <a class="code" href="group__lavc__core.html#ga6503701220892f061eca2355cadee3c8">AV_CODEC_CAP_SUBFRAMES</a> | <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    .<a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>      = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a>[]) { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>,</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                                                        <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a> },</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    .caps_internal    = <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;};</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="atrac3_8c.html#a232c7f62c0c9b92131c7807ddf4b79a5"> 1032</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="atrac3_8c.html#a232c7f62c0c9b92131c7807ddf4b79a5">ff_atrac3al_decoder</a> = {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>             = <span class="stringliteral">&quot;atrac3al&quot;</span>,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    .long_name        = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;ATRAC3 AL (Adaptive TRansform Acoustic Coding 3 Advanced Lossless)&quot;</span>),</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    .type             = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    .id               = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8fab24a8737c7d60c9e1b70e706054fa">AV_CODEC_ID_ATRAC3AL</a>,</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    .priv_data_size   = <span class="keyword">sizeof</span>(<a class="code" href="atrac3_8c.html#a75905cd18400be25776586e8ae6c4a9e">ATRAC3Context</a>),</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>             = <a class="code" href="atrac3_8c.html#a9d22e0751a6a9d08efb1d606a47a3234">atrac3_decode_init</a>,</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    .close            = <a class="code" href="atrac3_8c.html#a574c6fd12a8797a9afd4194d10732dbe">atrac3_decode_close</a>,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>           = <a class="code" href="atrac3_8c.html#a1d18f5ac7212ef0d3d7e84f22764f994">atrac3al_decode_frame</a>,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    .capabilities     = <a class="code" href="group__lavc__core.html#ga6503701220892f061eca2355cadee3c8">AV_CODEC_CAP_SUBFRAMES</a> | <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    .<a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>      = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a>[]) { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>,</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                                        <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a> },</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    .caps_internal    = <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aatrac3data_8h_html_a3ae6b0a488ee107adc15a4e79fc755e3"><div class="ttname"><a href="atrac3data_8h.html#a3ae6b0a488ee107adc15a4e79fc755e3">mantissa_vlc_tab</a></div><div class="ttdeci">static const int8_t mantissa_vlc_tab[18]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00112">atrac3data.h:112</a></div></div>
<div class="ttc" id="astruct_tonal_component_html_a663f08462ff263c94443e04f844d9d4f"><div class="ttname"><a href="struct_tonal_component.html#a663f08462ff263c94443e04f844d9d4f">TonalComponent::num_coefs</a></div><div class="ttdeci">int num_coefs</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00069">atrac3.c:69</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_FLTP</div><div class="ttdoc">float, planar</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00069">samplefmt.h:69</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a44d39cea027a76211f31e3bf2e3e68a4"><div class="ttname"><a href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a></div><div class="ttdeci">static int get_bits_left(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00849">get_bits.h:849</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aatrac3_8c_html_a4c32ca8c2da4a9ce88b8a4f8f3dddafb"><div class="ttname"><a href="atrac3_8c.html#a4c32ca8c2da4a9ce88b8a4f8f3dddafb">JOINT_STEREO</a></div><div class="ttdeci">#define JOINT_STEREO</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00055">atrac3.c:55</a></div></div>
<div class="ttc" id="alibm_8h_html"><div class="ttname"><a href="libm_8h.html">libm.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_adc5f65d6099fd8339c1580c091777223"><div class="ttname"><a href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">AVCodecContext::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:536</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1277960b5f2b37137fe9b0b5a1ea0beb"><div class="ttname"><a href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00054">movenc.c:54</a></div></div>
<div class="ttc" id="acommon_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a0b94bda9858853d90b77d15331ca0ae1"><div class="ttname"><a href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a></div><div class="ttdeci">static enum AVSampleFormat sample_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00566">adpcmenc.c:925</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_ac16634705431278a229880c4182cd7e6"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#ac16634705431278a229880c4182cd7e6">ATRAC3Context::gb</a></div><div class="ttdeci">GetBitContext gb</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00090">atrac3.c:90</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_aafca7f4cd35db0d0d9062332df9c1c7f"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#aafca7f4cd35db0d0d9062332df9c1c7f">ATRAC3Context::gainc_ctx</a></div><div class="ttdeci">AtracGCContext gainc_ctx</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00114">atrac3.c:114</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_aa4e1c6357e04ee6960702c705448a76a"><div class="ttname"><a href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a></div><div class="ttdeci">filter_frame For filters that do not use the this method is called when a frame is pushed to the filter s input It can be called at any time except in a reentrant way If the input frame is enough to produce output</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00225">filter_design.txt:225</a></div></div>
<div class="ttc" id="astruct_channel_unit_html_a95c9d009c9d2306f94494ea485626625"><div class="ttname"><a href="struct_channel_unit.html#a95c9d009c9d2306f94494ea485626625">ChannelUnit::prev_frame</a></div><div class="ttdeci">float prev_frame[SAMPLES_PER_FRAME]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00076">atrac3.c:76</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a8746ae57f53e99e184ab1e64e71d24c5"><div class="ttname"><a href="atrac3_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a></div><div class="ttdeci">#define SAMPLES_PER_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00058">atrac3.c:58</a></div></div>
<div class="ttc" id="allviddspenc_8c_html_aba9ed0487b0aa23eba534648df8384c0"><div class="ttname"><a href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a></div><div class="ttdeci">uint8_t w</div><div class="ttdef"><b>Definition:</b> <a href="llviddspenc_8c_source.html#l00038">llviddspenc.c:38</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html">ATRAC3Context</a></div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00089">atrac3.c:89</a></div></div>
<div class="ttc" id="astruct_f_f_t_context_html_a78e7b9bd645d0b070739416760525834"><div class="ttname"><a href="struct_f_f_t_context.html#a78e7b9bd645d0b070739416760525834">FFTContext::imdct_calc</a></div><div class="ttdeci">void(* imdct_calc)(struct FFTContext *s, FFTSample *output, const FFTSample *input)</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00107">fft.h:107</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a232c7f62c0c9b92131c7807ddf4b79a5"><div class="ttname"><a href="atrac3_8c.html#a232c7f62c0c9b92131c7807ddf4b79a5">ff_atrac3al_decoder</a></div><div class="ttdeci">AVCodec ff_atrac3al_decoder</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l01032">atrac3.c:1032</a></div></div>
<div class="ttc" id="avlc_8h_html_a181984da1fe3452ad6a16348d10f8236"><div class="ttname"><a href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a></div><div class="ttdeci">#define init_vlc(vlc, nb_bits, nb_codes, bits, bits_wrap, bits_size, codes, codes_wrap, codes_size, flags)</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00038">vlc.h:38</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a8b5215a0e87f7cc126ee1af6885c1738"><div class="ttname"><a href="atrac3_8c.html#a8b5215a0e87f7cc126ee1af6885c1738">channel_weighting</a></div><div class="ttdeci">static void channel_weighting(float *su1, float *su2, int *p3)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00547">atrac3.c:547</a></div></div>
<div class="ttc" id="aprosumer_8c_html_a8f9d32e424405551734404b133418a22"><div class="ttname"><a href="prosumer_8c.html#a8f9d32e424405551734404b133418a22">table</a></div><div class="ttdeci">static const uint16_t table[]</div><div class="ttdef"><b>Definition:</b> <a href="prosumer_8c_source.html#l00206">prosumer.c:206</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="astruct_channel_unit_html"><div class="ttname"><a href="struct_channel_unit.html">ChannelUnit</a></div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00073">atrac3.c:73</a></div></div>
<div class="ttc" id="afft_8h_html_a58a526e6fc1130d7dabfec1e90680e3c"><div class="ttname"><a href="fft_8h.html#a58a526e6fc1130d7dabfec1e90680e3c">ff_mdct_init</a></div><div class="ttdeci">#define ff_mdct_init</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00169">fft.h:169</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3ba3e032e40fae0f98ba46a0f5201195"><div class="ttname"><a href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a></div><div class="ttdeci">static av_always_inline int get_vlc2(GetBitContext *s, VLC_TYPE(*table)[2], int bits, int max_depth)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00797">get_bits.h:797</a></div></div>
<div class="ttc" id="astruct_tonal_component_html"><div class="ttname"><a href="struct_tonal_component.html">TonalComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00067">atrac3.c:67</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_aa13e8ff6ffe730398c69e9fc2d42266f"><div class="ttname"><a href="struct_v_l_c.html#aa13e8ff6ffe730398c69e9fc2d42266f">VLC::table_allocated</a></div><div class="ttdeci">int table_allocated</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00029">vlc.h:29</a></div></div>
<div class="ttc" id="amurmur3_8c_html_a4d68f4a1f764d8b45413b33127c24ca8"><div class="ttname"><a href="murmur3_8c.html#a4d68f4a1f764d8b45413b33127c24ca8">c1</a></div><div class="ttdeci">static const uint64_t c1</div><div class="ttdef"><b>Definition:</b> <a href="murmur3_8c_source.html#l00051">murmur3.c:51</a></div></div>
<div class="ttc" id="astruct_gain_block_html"><div class="ttname"><a href="struct_gain_block.html">GainBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00063">atrac3.c:63</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_a9a92bc3f30546ac373dbfde515ca4d97"><div class="ttname"><a href="atrac3data_8h.html#a9a92bc3f30546ac373dbfde515ca4d97">clc_length_tab</a></div><div class="ttdeci">static const uint8_t clc_length_tab[8]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00108">atrac3data.h:108</a></div></div>
<div class="ttc" id="aget__bits_8h_html_af65c008755f74e99d139eae8b46534b5"><div class="ttname"><a href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a></div><div class="ttdeci">static int init_get_bits(GetBitContext *s, const uint8_t *buffer, int bit_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00659">get_bits.h:659</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="astruct_atrac_gain_info_html_ad9529816be0e72482f32fe26f3c4ad27"><div class="ttname"><a href="struct_atrac_gain_info.html#ad9529816be0e72482f32fe26f3c4ad27">AtracGainInfo::loc_code</a></div><div class="ttdeci">int loc_code[7]</div><div class="ttdoc">location of gain control points</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8h_source.html#l00038">atrac.h:38</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00467">get_bits.h:467</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00628">avcodec.h:628</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a495246142249cef061e8bf58dbe53580"><div class="ttname"><a href="atrac3_8c.html#a495246142249cef061e8bf58dbe53580">MDCT_SIZE</a></div><div class="ttdeci">#define MDCT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00059">atrac3.c:59</a></div></div>
<div class="ttc" id="ax86_2fft_8h_html"><div class="ttname"><a href="x86_2fft_8h.html">fft.h</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="astruct_tonal_component_html_abffd5147212dd7e8eef1146f073548a8"><div class="ttname"><a href="struct_tonal_component.html#abffd5147212dd7e8eef1146f073548a8">TonalComponent::pos</a></div><div class="ttdeci">int pos</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00068">atrac3.c:68</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_ad220a43658336b328998d60c75510118"><div class="ttname"><a href="atrac3data_8h.html#ad220a43658336b328998d60c75510118">inv_max_quant</a></div><div class="ttdeci">static const float inv_max_quant[8]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00119">atrac3data.h:119</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_a10ceaaffbed40bef5db97dcd86455917"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#a10ceaaffbed40bef5db97dcd86455917">ATRAC3Context::matrix_coeff_index_next</a></div><div class="ttdeci">int matrix_coeff_index_next[MAX_JS_PAIRS][4]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00101">atrac3.c:101</a></div></div>
<div class="ttc" id="avlc_8h_html_a7e70876676d0b52ff7cf93cadf7e24fa"><div class="ttname"><a href="vlc_8h.html#a7e70876676d0b52ff7cf93cadf7e24fa">VLC_TYPE</a></div><div class="ttdeci">#define VLC_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00024">vlc.h:24</a></div></div>
<div class="ttc" id="aatrac3_8c_html_abbbd86d0914276aedfef0ae5e2a655d8"><div class="ttname"><a href="atrac3_8c.html#abbbd86d0914276aedfef0ae5e2a655d8">ChannelUnit</a></div><div class="ttdeci">struct ChannelUnit ChannelUnit</div></div>
<div class="ttc" id="aatrac_8c_html_a792790a5c19548f515586e15d2ee3592"><div class="ttname"><a href="atrac_8c.html#a792790a5c19548f515586e15d2ee3592">ff_atrac_init_gain_compensation</a></div><div class="ttdeci">av_cold void ff_atrac_init_gain_compensation(AtracGCContext *gctx, int id2exp_offset, int loc_scale)</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8c_source.html#l00066">atrac.c:66</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaac96d7eb6ee2d7a2effe3a0d59154c08"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaac96d7eb6ee2d7a2effe3a0d59154c08">AV_CODEC_ID_ATRAC3</a></div><div class="ttdeci">@ AV_CODEC_ID_ATRAC3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00449">codec_id.h:449</a></div></div>
<div class="ttc" id="arate__distortion_8txt_html_a526861bf57e81f603c2201f788ae709c"><div class="ttname"><a href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a></div><div class="ttdeci">trying all byte sequences megabyte in length and selecting the best looking sequence will yield cases to try But first</div><div class="ttdef"><b>Definition:</b> <a href="rate__distortion_8txt_source.html#l00012">rate_distortion.txt:12</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_ab07e1c5a04ba6848b84543656050a859"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#ab07e1c5a04ba6848b84543656050a859">ATRAC3Context::decoded_bytes_buffer</a></div><div class="ttdeci">uint8_t * decoded_bytes_buffer</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00106">atrac3.c:106</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a9e54e9e2ccf671c1f79867e19ce432e9"><div class="ttname"><a href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a></div><div class="ttdeci">static int init_get_bits8(GetBitContext *s, const uint8_t *buffer, int byte_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00677">get_bits.h:677</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_af1f898a7dbae1470ed38a39a95949ac4"><div class="ttname"><a href="atrac3data_8h.html#af1f898a7dbae1470ed38a39a95949ac4">mantissa_clc_tab</a></div><div class="ttdeci">static const int8_t mantissa_clc_tab[4]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00110">atrac3data.h:110</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a795c772c413e5394db3c7b37e17c6ee5"><div class="ttname"><a href="atrac3_8c.html#a795c772c413e5394db3c7b37e17c6ee5">decode_tonal_components</a></div><div class="ttdeci">static int decode_tonal_components(GetBitContext *gb, TonalComponent *components, int num_bands)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00331">atrac3.c:331</a></div></div>
<div class="ttc" id="adecode__audio_8c_html_a1704ae53d7f426e1b67341785b5b2b58"><div class="ttname"><a href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a></div><div class="ttdeci">static void decode(AVCodecContext *dec_ctx, AVPacket *pkt, AVFrame *frame, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="decode__audio_8c_source.html#l00071">decode_audio.c:71</a></div></div>
<div class="ttc" id="aatrac_8h_html"><div class="ttname"><a href="atrac_8h.html">atrac.h</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_acaf94f3386396a95d3e7042c444a41f7"><div class="ttname"><a href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">VLC::table</a></div><div class="ttdeci">VLC_TYPE(* table)[2]</div><div class="ttdoc">code, bits</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00028">vlc.h:28</a></div></div>
<div class="ttc" id="aregdef_8h_html_a09dff3d9a89874939fa7cc9d056b114c"><div class="ttname"><a href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a></div><div class="ttdeci">#define s1</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00038">regdef.h:38</a></div></div>
<div class="ttc" id="astruct_tonal_component_html_a8ea3af30403e49b56efa80b006673329"><div class="ttname"><a href="struct_tonal_component.html#a8ea3af30403e49b56efa80b006673329">TonalComponent::coef</a></div><div class="ttdeci">float coef[8]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00070">atrac3.c:70</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_a3fb1ff195d63abd596636dfbdd2305cb"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#a3fb1ff195d63abd596636dfbdd2305cb">ATRAC3Context::temp_buf</a></div><div class="ttdeci">float temp_buf[1070]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00107">atrac3.c:107</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3930676484bc9311beeca491395b4376"><div class="ttname"><a href="get__bits_8h.html#a3930676484bc9311beeca491395b4376">get_sbits</a></div><div class="ttdeci">static int get_sbits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00359">get_bits.h:359</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="aaptx_8h_html_ac9da8d7a4bd192b8a7dccbc024542709"><div class="ttname"><a href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a></div><div class="ttdeci">channels</div><div class="ttdef"><b>Definition:</b> <a href="aptx_8h_source.html#l00033">aptx.h:33</a></div></div>
<div class="ttc" id="aget__bits_8h_html"><div class="ttname"><a href="get__bits_8h.html">get_bits.h</a></div></div>
<div class="ttc" id="aatrac3data_8h_html"><div class="ttname"><a href="atrac3data_8h.html">atrac3data.h</a></div></div>
<div class="ttc" id="aatrac3_8c_html_aef45771f52c45f5552ea76ea637cf692"><div class="ttname"><a href="atrac3_8c.html#aef45771f52c45f5552ea76ea637cf692">MIN_CHANNELS</a></div><div class="ttdeci">#define MIN_CHANNELS</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00051">atrac3.c:51</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a8465e7ece542dcdc7c8f44dab1a72c6f"><div class="ttname"><a href="atrac3_8c.html#a8465e7ece542dcdc7c8f44dab1a72c6f">decode_bytes</a></div><div class="ttdeci">static int decode_bytes(const uint8_t *input, uint8_t *out, int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00156">atrac3.c:156</a></div></div>
<div class="ttc" id="amotion__est_8c_html_aa8dbd96e837401561874816377fb71a1"><div class="ttname"><a href="motion__est_8c.html#aa8dbd96e837401561874816377fb71a1">cmp</a></div><div class="ttdeci">static av_always_inline int cmp(MpegEncContext *s, const int x, const int y, const int subx, const int suby, const int size, const int h, int ref_index, int src_index, me_cmp_func cmp_func, me_cmp_func chroma_cmp_func, const int flags)</div><div class="ttdoc">compares a block (either a full macroblock or a partition thereof) against a proposed motion-compensa...</div><div class="ttdef"><b>Definition:</b> <a href="motion__est_8c_source.html#l00260">motion_est.c:260</a></div></div>
<div class="ttc" id="astruct_channel_unit_html_afc89fb14b38c6d89be073f2652b91c25"><div class="ttname"><a href="struct_channel_unit.html#afc89fb14b38c6d89be073f2652b91c25">ChannelUnit::gain_block</a></div><div class="ttdeci">GainBlock gain_block[2]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00079">atrac3.c:79</a></div></div>
<div class="ttc" id="abswap_8h_html_ac1015f36993fc9b1659fe883d3ff3a17"><div class="ttname"><a href="bswap_8h.html#ac1015f36993fc9b1659fe883d3ff3a17">av_be2ne32</a></div><div class="ttdeci">#define av_be2ne32(x)</div><div class="ttdef"><b>Definition:</b> <a href="bswap_8h_source.html#l00093">bswap.h:93</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a0033981a0fc39f6d0f0aaea87d8fe89f"><div class="ttname"><a href="atrac3_8c.html#a0033981a0fc39f6d0f0aaea87d8fe89f">add_tonal_components</a></div><div class="ttdeci">static int add_tonal_components(float *spectrum, int num_components, TonalComponent *components)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00451">atrac3.c:451</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_v_l_c_html"><div class="ttname"><a href="struct_v_l_c.html">VLC</a></div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00026">vlc.h:26</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae56433cc80666ff63af59db4de5b5e45"><div class="ttname"><a href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">AVCodecContext::block_align</a></div><div class="ttdeci">int block_align</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01223">avcodec.h:1223</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="astruct_channel_unit_html_a9161b1a9636d4604c07f03300037383d"><div class="ttname"><a href="struct_channel_unit.html#a9161b1a9636d4604c07f03300037383d">ChannelUnit::bands_coded</a></div><div class="ttdeci">int bands_coded</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00074">atrac3.c:74</a></div></div>
<div class="ttc" id="avlc_8h_html_a243805445ae22e8021dd3f07439d7506"><div class="ttname"><a href="vlc_8h.html#a243805445ae22e8021dd3f07439d7506">INIT_VLC_USE_NEW_STATIC</a></div><div class="ttdeci">#define INIT_VLC_USE_NEW_STATIC</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00060">vlc.h:60</a></div></div>
<div class="ttc" id="astruct_atrac_gain_info_html_a0734c5e8c66342680f70f9c801f94971"><div class="ttname"><a href="struct_atrac_gain_info.html#a0734c5e8c66342680f70f9c801f94971">AtracGainInfo::num_points</a></div><div class="ttdeci">int num_points</div><div class="ttdoc">number of gain control points</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8h_source.html#l00036">atrac.h:36</a></div></div>
<div class="ttc" id="aatrac_8c_html_aa979aef7b15fe98b938293706ee1c50d"><div class="ttname"><a href="atrac_8c.html#aa979aef7b15fe98b938293706ee1c50d">ff_atrac_sf_table</a></div><div class="ttdeci">float ff_atrac_sf_table[64]</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8c_source.html#l00036">atrac.c:36</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_ae351c2a19f5ee3223e6e143e2e8cebf8"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#ae351c2a19f5ee3223e6e143e2e8cebf8">ATRAC3Context::matrix_coeff_index_prev</a></div><div class="ttdeci">int matrix_coeff_index_prev[MAX_JS_PAIRS][4]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00099">atrac3.c:99</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a75905cd18400be25776586e8ae6c4a9e"><div class="ttname"><a href="atrac3_8c.html#a75905cd18400be25776586e8ae6c4a9e">ATRAC3Context</a></div><div class="ttdeci">struct ATRAC3Context ATRAC3Context</div></div>
<div class="ttc" id="aatrac3_8c_html_a5bb70e8f91b787735f7b8f26ef996ba8"><div class="ttname"><a href="atrac3_8c.html#a5bb70e8f91b787735f7b8f26ef996ba8">TonalComponent</a></div><div class="ttdeci">struct TonalComponent TonalComponent</div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a29fbbea106cc92a7c927f8614b99a687"><div class="ttname"><a href="atrac3_8c.html#a29fbbea106cc92a7c927f8614b99a687">read_quant_spectral_coeffs</a></div><div class="ttdeci">static void read_quant_spectral_coeffs(GetBitContext *gb, int selector, int coding_flag, int *mantissas, int num_codes)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00214">atrac3.c:214</a></div></div>
<div class="ttc" id="afloat__dsp_8h_html"><div class="ttname"><a href="float__dsp_8h.html">float_dsp.h</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8fab24a8737c7d60c9e1b70e706054fa"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8fab24a8737c7d60c9e1b70e706054fa">AV_CODEC_ID_ATRAC3AL</a></div><div class="ttdeci">@ AV_CODEC_ID_ATRAC3AL</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00501">codec_id.h:501</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_ab5261bc52244fae699381546441cb082"><div class="ttname"><a href="atrac3data_8h.html#ab5261bc52244fae699381546441cb082">huff_codes</a></div><div class="ttdeci">static const uint8_t *const huff_codes[7]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00098">atrac3data.h:98</a></div></div>
<div class="ttc" id="aregdef_8h_html_a3ec77fc652b1787d9ace19f0f8fb6072"><div class="ttname"><a href="regdef_8h.html#a3ec77fc652b1787d9ace19f0f8fb6072">s2</a></div><div class="ttdeci">#define s2</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00039">regdef.h:39</a></div></div>
<div class="ttc" id="astruct_f_f_t_context_html"><div class="ttname"><a href="struct_f_f_t_context.html">FFTContext</a></div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00088">fft.h:88</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_ac0373cf0c03fc8fca7e2850f5cd6c685"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#ac0373cf0c03fc8fca7e2850f5cd6c685">ATRAC3Context::coding_mode</a></div><div class="ttdeci">int coding_mode</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00093">atrac3.c:93</a></div></div>
<div class="ttc" id="adecode_8c_html_a0d5adb2b84051826883605b3ab4d1bab"><div class="ttname"><a href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a></div><div class="ttdeci">int ff_get_buffer(AVCodecContext *avctx, AVFrame *frame, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l01879">decode.c:1879</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00050">codec.h:50</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astruct_a_v_float_d_s_p_context_html_a7cfd05c24dfae926f50473a12f1f1332"><div class="ttname"><a href="struct_a_v_float_d_s_p_context.html#a7cfd05c24dfae926f50473a12f1f1332">AVFloatDSPContext::vector_fmul</a></div><div class="ttdeci">void(* vector_fmul)(float *dst, const float *src0, const float *src1, int len)</div><div class="ttdef"><b>Definition:</b> <a href="float__dsp_8h_source.html#l00038">float_dsp.h:38</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00059">samplefmt.h:59</a></div></div>
<div class="ttc" id="afft_8h_html_afee52a8ecff75737ecbdca0f9ae0a377"><div class="ttname"><a href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a></div><div class="ttdeci">#define ff_mdct_end</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00170">fft.h:170</a></div></div>
<div class="ttc" id="aatrac3_8c_html_aba86d10b9a0c43c6395e05c377f65670"><div class="ttname"><a href="atrac3_8c.html#aba86d10b9a0c43c6395e05c377f65670">atrac3_decode_frame</a></div><div class="ttdeci">static int atrac3_decode_frame(AVCodecContext *avctx, void *data, int *got_frame_ptr, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00792">atrac3.c:792</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a8ef5f1b7c6fe10cfcf93cfff18386db2"><div class="ttname"><a href="atrac3_8c.html#a8ef5f1b7c6fe10cfcf93cfff18386db2">ff_atrac3_decoder</a></div><div class="ttdeci">AVCodec ff_atrac3_decoder</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l01017">atrac3.c:1017</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00606">avcodec.h:606</a></div></div>
<div class="ttc" id="astruct_a_v_float_d_s_p_context_html"><div class="ttname"><a href="struct_a_v_float_d_s_p_context.html">AVFloatDSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="float__dsp_8h_source.html#l00024">float_dsp.h:24</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a06f13349468fc3ab5f9bf5aaebd25a0c"><div class="ttname"><a href="atrac3_8c.html#a06f13349468fc3ab5f9bf5aaebd25a0c">init_imdct_window</a></div><div class="ttdeci">static av_cold void init_imdct_window(void)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00179">atrac3.c:179</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a27953ee899b1711e0fc0e1dc48f1fb95"><div class="ttname"><a href="atrac3_8c.html#a27953ee899b1711e0fc0e1dc48f1fb95">decode_spectrum</a></div><div class="ttdeci">static int decode_spectrum(GetBitContext *gb, float *output)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00273">atrac3.c:273</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a66dfcf889cf352f2db40339cce8852c0"><div class="ttname"><a href="atrac3_8c.html#a66dfcf889cf352f2db40339cce8852c0">get_channel_weights</a></div><div class="ttdeci">static void get_channel_weights(int index, int flag, float ch[2])</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00534">atrac3.c:534</a></div></div>
<div class="ttc" id="aatrac_8c_html_aabdc441e49921765a9d5e0cdba391e3d"><div class="ttname"><a href="atrac_8c.html#aabdc441e49921765a9d5e0cdba391e3d">ff_atrac_generate_tables</a></div><div class="ttdeci">av_cold void ff_atrac_generate_tables(void)</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8c_source.html#l00048">atrac.c:48</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a5ece445677f2f825f4ea081464fb8252"><div class="ttname"><a href="atrac3_8c.html#a5ece445677f2f825f4ea081464fb8252">GainBlock</a></div><div class="ttdeci">struct GainBlock GainBlock</div></div>
<div class="ttc" id="aattributes_8h_html"><div class="ttname"><a href="attributes_8h.html">attributes.h</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_a37f06df9f0263f6854e4422178f4e53d"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#a37f06df9f0263f6854e4422178f4e53d">ATRAC3Context::mdct_ctx</a></div><div class="ttdeci">FFTContext mdct_ctx</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00115">atrac3.c:115</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_a4c7a521b8f1a0769c09bfa4a1fca7dab"><div class="ttname"><a href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00317">libkvazaar.c:317</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">sample format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1194</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a6ce3145708c0c8eec0f4aa03b516d4ff"><div class="ttname"><a href="atrac3_8c.html#a6ce3145708c0c8eec0f4aa03b516d4ff">MAX_JS_PAIRS</a></div><div class="ttdeci">#define MAX_JS_PAIRS</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00053">atrac3.c:53</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a877535c3b6ffdf230bce90c82c597d17"><div class="ttname"><a href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some input</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00172">filter_design.txt:172</a></div></div>
<div class="ttc" id="amathematics_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00052">mathematics.h:52</a></div></div>
<div class="ttc" id="atests_2checkasm_2h264pred_8c_html_ac4457b06e88002c046568fa09e601dd5"><div class="ttname"><a href="tests_2checkasm_2h264pred_8c.html#ac4457b06e88002c046568fa09e601dd5">src0</a></div><div class="ttdeci">#define src0</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2h264pred_8c_source.html#l00138">h264pred.c:138</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a6b04d1d27783ed933051c2ff1f625b82"><div class="ttname"><a href="atrac3_8c.html#a6b04d1d27783ed933051c2ff1f625b82">ATRAC3_VLC_BITS</a></div><div class="ttdeci">#define ATRAC3_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00061">atrac3.c:61</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a14a6ce0781ddb10c78a10f7373f9ff3d"><div class="ttname"><a href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a></div><div class="ttdeci">#define flag(name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00552">cbs_av1.c:552</a></div></div>
<div class="ttc" id="astruct_atrac_gain_info_html"><div class="ttname"><a href="struct_atrac_gain_info.html">AtracGainInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="atrac_8h_source.html#l00035">atrac.h:35</a></div></div>
<div class="ttc" id="atests_2checkasm_2h264pred_8c_html_a631c6befc8ec221896734437f964a631"><div class="ttname"><a href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a></div><div class="ttdeci">#define src1</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2h264pred_8c_source.html#l00139">h264pred.c:139</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a30adc75414e0a59ca94aad7a56e17e42"><div class="ttname"><a href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some it can consider them to be part of the FIFO and delay acknowledging a status change accordingly Example code</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00176">filter_design.txt:178</a></div></div>
<div class="ttc" id="aget__bits_8h_html_ae49242b74f82c369619336d05d1b2484"><div class="ttname"><a href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a></div><div class="ttdeci">static unsigned int show_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00446">get_bits.h:446</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_gaf9a51ca15301871723577c730b5865c5"><div class="ttname"><a href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></div><div class="ttdeci">AVSampleFormat</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00058">samplefmt.h:58</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_a5a60cb74b26617a13fb6dae19beb0f83"><div class="ttname"><a href="atrac3data_8h.html#a5a60cb74b26617a13fb6dae19beb0f83">huff_bits</a></div><div class="ttdeci">static const uint8_t *const huff_bits[7]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00102">atrac3data.h:102</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="astruct_channel_unit_html_a84e3ea997e2fbb77f3677fc1dc619dcb"><div class="ttname"><a href="struct_channel_unit.html#a84e3ea997e2fbb77f3677fc1dc619dcb">ChannelUnit::components</a></div><div class="ttdeci">TonalComponent components[64]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00078">atrac3.c:78</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a574c6fd12a8797a9afd4194d10732dbe"><div class="ttname"><a href="atrac3_8c.html#a574c6fd12a8797a9afd4194d10732dbe">atrac3_decode_close</a></div><div class="ttdeci">static av_cold int atrac3_decode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00194">atrac3.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="aatrac3_8c_html_aff7c87c23e138e2b3d54c82626bb15e5"><div class="ttname"><a href="atrac3_8c.html#aff7c87c23e138e2b3d54c82626bb15e5">decode_channel_sound_unit</a></div><div class="ttdeci">static int decode_channel_sound_unit(ATRAC3Context *q, GetBitContext *gb, ChannelUnit *snd, float *output, int channel_num, int coding_mode)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00578">atrac3.c:578</a></div></div>
<div class="ttc" id="astruct_gain_block_html_a76506f500dbc40548c17a7e295066d6a"><div class="ttname"><a href="struct_gain_block.html#a76506f500dbc40548c17a7e295066d6a">GainBlock::g_block</a></div><div class="ttdeci">AtracGainInfo g_block[4]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00064">atrac3.c:64</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_a611c9c15dd956a84d281f9d138e669e9"><div class="ttname"><a href="atrac3data_8h.html#a611c9c15dd956a84d281f9d138e669e9">huff_tab_sizes</a></div><div class="ttdeci">static const uint8_t huff_tab_sizes[7]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00094">atrac3data.h:94</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="aatrac3_8c_html_aba472aa74b8d65298d19658bfadd94b0"><div class="ttname"><a href="atrac3_8c.html#aba472aa74b8d65298d19658bfadd94b0">decode_frame</a></div><div class="ttdeci">static int decode_frame(AVCodecContext *avctx, const uint8_t *databuf, float **out_samples)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00645">atrac3.c:645</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a9d22e0751a6a9d08efb1d606a47a3234"><div class="ttname"><a href="atrac3_8c.html#a9d22e0751a6a9d08efb1d606a47a3234">atrac3_decode_init</a></div><div class="ttdeci">static av_cold int atrac3_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00873">atrac3.c:873</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00627">avcodec.h:627</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a1d18f5ac7212ef0d3d7e84f22764f994"><div class="ttname"><a href="atrac3_8c.html#a1d18f5ac7212ef0d3d7e84f22764f994">atrac3al_decode_frame</a></div><div class="ttdeci">static int atrac3al_decode_frame(AVCodecContext *avctx, void *data, int *got_frame_ptr, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00832">atrac3.c:832</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="astruct_atrac_gain_info_html_add65c9d06dac4bdf2a71ebc539dc2507"><div class="ttname"><a href="struct_atrac_gain_info.html#add65c9d06dac4bdf2a71ebc539dc2507">AtracGainInfo::lev_code</a></div><div class="ttdeci">int lev_code[7]</div><div class="ttdoc">level at corresponding control point</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8h_source.html#l00037">atrac.h:37</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_a930a7a63b34073ae7f52233d04665b0a"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#a930a7a63b34073ae7f52233d04665b0a">ATRAC3Context::scrambled_stream</a></div><div class="ttdeci">int scrambled_stream</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00111">atrac3.c:111</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_a9213e5ce3f7fe22fee77035d4a68d0f4"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#a9213e5ce3f7fe22fee77035d4a68d0f4">ATRAC3Context::matrix_coeff_index_now</a></div><div class="ttdeci">int matrix_coeff_index_now[MAX_JS_PAIRS][4]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00100">atrac3.c:100</a></div></div>
<div class="ttc" id="arematrix__template_8c_html_a4dfdfbb7b69470f1152e022432ee2d45"><div class="ttname"><a href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a></div><div class="ttdeci">typedef void(RENAME(mix_any_func_type))</div><div class="ttdef"><b>Definition:</b> <a href="rematrix__template_8c_source.html#l00052">rematrix_template.c:52</a></div></div>
<div class="ttc" id="amurmur3_8c_html_a3b64fdbd8e90e5f4782ca75d197e9e5c"><div class="ttname"><a href="murmur3_8c.html#a3b64fdbd8e90e5f4782ca75d197e9e5c">c2</a></div><div class="ttdeci">static const uint64_t c2</div><div class="ttdef"><b>Definition:</b> <a href="murmur3_8c_source.html#l00052">murmur3.c:52</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_a3e45ad260280dca8c9aafee9e11ff96a"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#a3e45ad260280dca8c9aafee9e11ff96a">ATRAC3Context::weighting_delay</a></div><div class="ttdeci">int weighting_delay[MAX_JS_PAIRS][6]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00102">atrac3.c:102</a></div></div>
<div class="ttc" id="aatrac_8c_html_a370e2faff33af28beee0f214ab8cca9f"><div class="ttname"><a href="atrac_8c.html#a370e2faff33af28beee0f214ab8cca9f">ff_atrac_gain_compensation</a></div><div class="ttdeci">void ff_atrac_gain_compensation(AtracGCContext *gctx, float *in, float *prev, AtracGainInfo *gc_now, AtracGainInfo *gc_next, int num_samples, float *out)</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8c_source.html#l00084">atrac.c:84</a></div></div>
<div class="ttc" id="astruct_channel_unit_html_a9d24aa9f914f341a47b9b56a6065dc30"><div class="ttname"><a href="struct_channel_unit.html#a9d24aa9f914f341a47b9b56a6065dc30">ChannelUnit::gc_blk_switch</a></div><div class="ttdeci">int gc_blk_switch</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00077">atrac3.c:77</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_a5e7e442b82bdc0bf21f2bdd592998ac6"><div class="ttname"><a href="atrac3data_8h.html#a5e7e442b82bdc0bf21f2bdd592998ac6">subband_tab</a></div><div class="ttdeci">static const uint16_t subband_tab[33]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00124">atrac3data.h:124</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a2a508ac5a2f06ef986eef6e8822d2685"><div class="ttname"><a href="atrac3_8c.html#a2a508ac5a2f06ef986eef6e8822d2685">al_decode_frame</a></div><div class="ttdeci">static int al_decode_frame(AVCodecContext *avctx, const uint8_t *databuf, int size, float **out_samples)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00758">atrac3.c:758</a></div></div>
<div class="ttc" id="astruct_channel_unit_html_a8deac0bb027b633e36fe715295759655"><div class="ttname"><a href="struct_channel_unit.html#a8deac0bb027b633e36fe715295759655">ChannelUnit::num_components</a></div><div class="ttdeci">int num_components</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00075">atrac3.c:75</a></div></div>
<div class="ttc" id="aatrac3_8c_html_af96df449dcabe28416e5ab40c6b54263"><div class="ttname"><a href="atrac3_8c.html#af96df449dcabe28416e5ab40c6b54263">DECLARE_ALIGNED</a></div><div class="ttdeci">static DECLARE_ALIGNED(32, float, mdct_window)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00120">atrac3.c:120</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga6503701220892f061eca2355cadee3c8"><div class="ttname"><a href="group__lavc__core.html#ga6503701220892f061eca2355cadee3c8">AV_CODEC_CAP_SUBFRAMES</a></div><div class="ttdeci">#define AV_CODEC_CAP_SUBFRAMES</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00093">codec.h:93</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga17ae68044f725fd5ba26c54162b96490"><div class="ttname"><a href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a></div><div class="ttdeci">#define AV_CODEC_FLAG_BITEXACT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00333">avcodec.h:333</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_a6c217e38bf2b863d522be33a2b7f0da6"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#a6c217e38bf2b863d522be33a2b7f0da6">ATRAC3Context::vector_fmul</a></div><div class="ttdeci">void(* vector_fmul)(float *dst, const float *src0, const float *src1, int len)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00116">atrac3.c:116</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="amacros_8h_html_acae4ba605b3a7d535b7ac058ffe96892"><div class="ttname"><a href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a></div><div class="ttdeci">#define FFALIGN(x, a)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00048">macros.h:48</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="alibavutil_2float__dsp_8c_html_abf4186be59dc9de8cda94ee7beacaf67"><div class="ttname"><a href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a></div><div class="ttdeci">av_cold AVFloatDSPContext * avpriv_float_dsp_alloc(int bit_exact)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2float__dsp_8c_source.html#l00135">float_dsp.c:135</a></div></div>
<div class="ttc" id="astruct_a_t_r_a_c3_context_html_accd7e3e3d767fa64c2e69fba86fa97e8"><div class="ttname"><a href="struct_a_t_r_a_c3_context.html#accd7e3e3d767fa64c2e69fba86fa97e8">ATRAC3Context::units</a></div><div class="ttdeci">ChannelUnit * units</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00095">atrac3.c:95</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a9192c4bc2278ba0d7c8e8ab438753080"><div class="ttname"><a href="atrac3_8c.html#a9192c4bc2278ba0d7c8e8ab438753080">INTERPOLATE</a></div><div class="ttdeci">#define INTERPOLATE(old, new, nsample)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00469">atrac3.c:469</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a3eff8c1ba8efd36c88a47df2af20d7ae"><div class="ttname"><a href="atrac3_8c.html#a3eff8c1ba8efd36c88a47df2af20d7ae">reverse_matrixing</a></div><div class="ttdeci">static void reverse_matrixing(float *su1, float *su2, int *prev_code, int *curr_code)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00472">atrac3.c:472</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a17afa58b2bc574dedcd1cc02e1fdf165"><div class="ttname"><a href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a></div><div class="ttdeci">The exact code depends on how similar the blocks are and how related they are to the block</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00207">filter_design.txt:207</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="aatrac3data_8h_html_a8053fa1323c6135ea7be67c923294066"><div class="ttname"><a href="atrac3data_8h.html#a8053fa1323c6135ea7be67c923294066">matrix_coeffs</a></div><div class="ttdeci">static const float matrix_coeffs[8]</div><div class="ttdef"><b>Definition:</b> <a href="atrac3data_8h_source.html#l00133">atrac3data.h:133</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="aatrac3_8c_html_a8cc8a4cff45377c14d1af6dd85683a13"><div class="ttname"><a href="atrac3_8c.html#a8cc8a4cff45377c14d1af6dd85683a13">atrac3_init_static_data</a></div><div class="ttdeci">static av_cold void atrac3_init_static_data(void)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00854">atrac3.c:854</a></div></div>
<div class="ttc" id="aatrac3_8c_html_aae597f206a8cf88b5a0593f39044b937"><div class="ttname"><a href="atrac3_8c.html#aae597f206a8cf88b5a0593f39044b937">SINGLE</a></div><div class="ttdeci">#define SINGLE</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00056">atrac3.c:56</a></div></div>
<div class="ttc" id="astruct_atrac_g_c_context_html"><div class="ttname"><a href="struct_atrac_g_c_context.html">AtracGCContext</a></div><div class="ttdef"><b>Definition:</b> <a href="atrac_8h_source.html#l00044">atrac.h:44</a></div></div>
<div class="ttc" id="aatrac_8c_html_ae304fd3549524ee15ad64390610661a8"><div class="ttname"><a href="atrac_8c.html#ae304fd3549524ee15ad64390610661a8">ff_atrac_iqmf</a></div><div class="ttdeci">void ff_atrac_iqmf(float *inlo, float *inhi, unsigned int nIn, float *pOut, float *delayBuf, float *temp)</div><div class="ttdef"><b>Definition:</b> <a href="atrac_8c_source.html#l00127">atrac.c:127</a></div></div>
<div class="ttc" id="aatrac3_8c_html_ab2bbbce166c4e10eb7f585312fd22edd"><div class="ttname"><a href="atrac3_8c.html#ab2bbbce166c4e10eb7f585312fd22edd">decode_gain_control</a></div><div class="ttdeci">static int decode_gain_control(GetBitContext *gb, GainBlock *block, int num_bands)</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00415">atrac3.c:415</a></div></div>
<div class="ttc" id="aatrac3_8c_html_ac69ee46f4a51ed14f0d68628c2dec71d"><div class="ttname"><a href="atrac3_8c.html#ac69ee46f4a51ed14f0d68628c2dec71d">MAX_CHANNELS</a></div><div class="ttdeci">#define MAX_CHANNELS</div><div class="ttdef"><b>Definition:</b> <a href="atrac3_8c_source.html#l00052">atrac3.c:52</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
