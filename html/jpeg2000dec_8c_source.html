<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/jpeg2000dec.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">jpeg2000dec.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="jpeg2000dec_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * JPEG 2000 image decoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2007 Kamil Nowosad</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2013 Nicolas Bertrand &lt;nicoinattendu@gmail.com&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="attributes_8h.html">libavutil/attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">libavutil/common.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="imgutils_8h.html">libavutil/imgutils.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2thread_8h.html">libavutil/thread.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2thread_8h.html">thread.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="jpeg2000_8h.html">jpeg2000.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="jpeg2000dsp_8h.html">jpeg2000dsp.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="profiles_8h.html">profiles.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a17c50c33fb1086a65e71471d19a67184">   46</a></span>&#160;<span class="preprocessor">#define JP2_SIG_TYPE    0x6A502020</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ae38441bc74c37fcc6c6ff2a9f984fb9e">   47</a></span>&#160;<span class="preprocessor">#define JP2_SIG_VALUE   0x0D0A870A</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ab76763daa7a398a65678dd60c14964d9">   48</a></span>&#160;<span class="preprocessor">#define JP2_CODESTREAM  0x6A703263</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a140f0c7cf4c8967cedf274ef7aefddc3">   49</a></span>&#160;<span class="preprocessor">#define JP2_HEADER      0x6A703268</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a6e90af99977da17e738cbbeeed5748f4">   51</a></span>&#160;<span class="preprocessor">#define HAD_COC 0x01</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#afbd6f946e2e71031110ee63525d87bea">   52</a></span>&#160;<span class="preprocessor">#define HAD_QCC 0x02</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a9aa16ad2e95768b6d195a97f7e3b9039">   54</a></span>&#160;<span class="preprocessor">#define MAX_POCS 32</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c_entry.html">   56</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_jpeg2000_p_o_c_entry.html">Jpeg2000POCEntry</a> {</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c_entry.html#aa01fac862c04469da910b5355cda2c84">   57</a></span>&#160;    uint16_t <a class="code" href="struct_jpeg2000_p_o_c_entry.html#aa01fac862c04469da910b5355cda2c84">LYEpoc</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c_entry.html#ad82062cf2737e50e91242449b64c80dc">   58</a></span>&#160;    uint16_t <a class="code" href="struct_jpeg2000_p_o_c_entry.html#ad82062cf2737e50e91242449b64c80dc">CSpoc</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">   59</a></span>&#160;    uint16_t <a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c_entry.html#a29436433d3a08e6e68119abe4a74a510">   60</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_jpeg2000_p_o_c_entry.html#a29436433d3a08e6e68119abe4a74a510">RSpoc</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">   61</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">REpoc</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c_entry.html#a59b5ed973ed91487d0ade7cc6fc87425">   62</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_jpeg2000_p_o_c_entry.html#a59b5ed973ed91487d0ade7cc6fc87425">Ppoc</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aaa534bf857607d9ca3266bfda98bbdf5">   63</a></span>&#160;} <a class="code" href="jpeg2000dec_8c.html#aaa534bf857607d9ca3266bfda98bbdf5">Jpeg2000POCEntry</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c.html">   65</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_jpeg2000_p_o_c.html">Jpeg2000POC</a> {</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">   66</a></span>&#160;    <a class="code" href="struct_jpeg2000_p_o_c_entry.html">Jpeg2000POCEntry</a> <a class="code" href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">poc</a>[<a class="code" href="jpeg2000dec_8c.html#a9aa16ad2e95768b6d195a97f7e3b9039">MAX_POCS</a>];</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">   67</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="struct_jpeg2000_p_o_c.html#a30c0507193539b93ce9dd65cc819462f">   68</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_p_o_c.html#a30c0507193539b93ce9dd65cc819462f">is_default</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a7bad74ddaa2ec60fb5cc377b1605937d">   69</a></span>&#160;} <a class="code" href="jpeg2000dec_8c.html#a7bad74ddaa2ec60fb5cc377b1605937d">Jpeg2000POC</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile_part.html">   71</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_jpeg2000_tile_part.html">Jpeg2000TilePart</a> {</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile_part.html#a5466fb79a0ee23326bc7564ef679b003">   72</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_jpeg2000_tile_part.html#a5466fb79a0ee23326bc7564ef679b003">tile_index</a>;                 <span class="comment">// Tile index who refers the tile-part</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile_part.html#a9506ffdcae9356372f99a73f9287c2de">   73</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_jpeg2000_tile_part.html#a9506ffdcae9356372f99a73f9287c2de">tp_end</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile_part.html#ac8f2c57f18cb03209d504ca1edde5eee">   74</a></span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a> <a class="code" href="struct_jpeg2000_tile_part.html#ac8f2c57f18cb03209d504ca1edde5eee">header_tpg</a>;          <span class="comment">// bit stream of header if PPM header is used</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">   75</a></span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a> <a class="code" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">tpg</a>;                 <span class="comment">// bit stream in tile-part</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a523793ceb2799ef529958b20a103b741">   76</a></span>&#160;} <a class="code" href="jpeg2000dec_8c.html#a523793ceb2799ef529958b20a103b741">Jpeg2000TilePart</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/* RMK: For JPEG2000 DCINEMA 3 tile-parts in a tile</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> * one per component, so tile_part elements have a size of 3 */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a>   *<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#afc874babd8529ec9f0e0937c2b34ea05">   82</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>             <a class="code" href="struct_jpeg2000_tile.html#afc874babd8529ec9f0e0937c2b34ea05">properties</a>[4];</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">   83</a></span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> <a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[4];</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">   84</a></span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  <a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a>[4];</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">   85</a></span>&#160;    <a class="code" href="struct_jpeg2000_p_o_c.html">Jpeg2000POC</a>         <a class="code" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">poc</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">   86</a></span>&#160;    <a class="code" href="struct_jpeg2000_tile_part.html">Jpeg2000TilePart</a>    <a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[32];</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">   87</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>             <a class="code" href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">has_ppt</a>;                <span class="comment">// whether this tile has a ppt marker</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#aca026bbe426e673a65a4dd073d02400c">   88</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>             *<a class="code" href="struct_jpeg2000_tile.html#aca026bbe426e673a65a4dd073d02400c">packed_headers</a>;        <span class="comment">// contains packed headers. Used only along with PPT marker</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#adef906892c6cee7cea0d031b69f3b9c2">   89</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_jpeg2000_tile.html#adef906892c6cee7cea0d031b69f3b9c2">packed_headers_size</a>;    <span class="comment">// size in bytes of the packed headers</span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">   90</a></span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a>      <a class="code" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">packed_headers_stream</a>;  <span class="comment">// byte context corresponding to packed headers</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#adcb355a511d4200d7f87d760c5cfc967">   91</a></span>&#160;    uint16_t <a class="code" href="struct_jpeg2000_tile.html#adcb355a511d4200d7f87d760c5cfc967">tp_idx</a>;                    <span class="comment">// Tile-part index</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">   92</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[2][2];                    <span class="comment">// border coordinates {{x0, x1}, {y0, y1}}</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a700591974e01bad17cbc53e4627fb870">   93</a></span>&#160;} <a class="code" href="jpeg2000dec_8c.html#a700591974e01bad17cbc53e4627fb870">Jpeg2000Tile</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html">   95</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> {</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#af9b231274f97f2adbb8fff98b7f40d6d">   96</a></span>&#160;    <a class="code" href="struct_a_v_class.html">AVClass</a>         *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a2914a54b3a51f1126f9b242a16b68f0d">   97</a></span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a>  *<a class="code" href="struct_jpeg2000_decoder_context.html#a2914a54b3a51f1126f9b242a16b68f0d">avctx</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#acac37c5e46fed94b476e9c6f515d1023">   98</a></span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a>  <a class="code" href="struct_jpeg2000_decoder_context.html#acac37c5e46fed94b476e9c6f515d1023">g</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a27c58d8a0418f1aad32e5f85f19b93d7">  100</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a27c58d8a0418f1aad32e5f85f19b93d7">width</a>, <a class="code" href="struct_jpeg2000_decoder_context.html#ac38eae8068e6001232f46d6d69e894bb">height</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a157aa933aeac3c73c9b8a089bf416788">  101</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a29131ff8412f93f5b28a4d8f7d3b8f44">image_offset_x</a>, <a class="code" href="struct_jpeg2000_decoder_context.html#a157aa933aeac3c73c9b8a089bf416788">image_offset_y</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#aa37695123b617ba9c2d1791716c30cdc">  102</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#aeb0845837ecc30af15218688d9ed400a">tile_offset_x</a>, <a class="code" href="struct_jpeg2000_decoder_context.html#aa37695123b617ba9c2d1791716c30cdc">tile_offset_y</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#add953e122cdc3dd12331081abce3bf26">  103</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>         <a class="code" href="struct_jpeg2000_decoder_context.html#add953e122cdc3dd12331081abce3bf26">cbps</a>[4];    <span class="comment">// bits per sample in particular components</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#ac8addb6bc365942b943288c31cf06bd9">  104</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>         <a class="code" href="struct_jpeg2000_decoder_context.html#ac8addb6bc365942b943288c31cf06bd9">sgnd</a>[4];    <span class="comment">// if a component is signed</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#ae3b820ce190a52826358ddd6ddfd55fd">  105</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>         <a class="code" href="struct_jpeg2000_decoder_context.html#ae3b820ce190a52826358ddd6ddfd55fd">properties</a>[4];</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#accc89031df461a96ba1744583800f9c6">  107</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>         <a class="code" href="struct_jpeg2000_decoder_context.html#accc89031df461a96ba1744583800f9c6">has_ppm</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a7d28ddd5e9c7ea5248de70a38e830a4c">  108</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>         *<a class="code" href="struct_jpeg2000_decoder_context.html#a7d28ddd5e9c7ea5248de70a38e830a4c">packed_headers</a>; <span class="comment">// contains packed headers. Used only along with PPM marker</span></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a7d45abd538a35d60990a7a972b2f1a5a">  109</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a7d45abd538a35d60990a7a972b2f1a5a">packed_headers_size</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a3a569c1ddf372143771aec44541c6e20">  110</a></span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a>  <a class="code" href="struct_jpeg2000_decoder_context.html#a3a569c1ddf372143771aec44541c6e20">packed_headers_stream</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a0b06cb0dfcdfb09b841dad5901b518d6">  111</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>         <a class="code" href="struct_jpeg2000_decoder_context.html#a0b06cb0dfcdfb09b841dad5901b518d6">in_tile_headers</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a5537296826c63d7c8dd5f13621f936c0">  113</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a1b2df0bd5ae1243bed170ae294ccc4d3">cdx</a>[4], <a class="code" href="struct_jpeg2000_decoder_context.html#a5537296826c63d7c8dd5f13621f936c0">cdy</a>[4];</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#adb19701d063f70e03d7efe5fb3f70b18">  114</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#adb19701d063f70e03d7efe5fb3f70b18">precision</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a844b06e6aa9e0ff1bfe8b945384e7d1a">  115</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a844b06e6aa9e0ff1bfe8b945384e7d1a">ncomponents</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a4ec431fa50b5daf7c0a2b5aa1e1a7f93">  116</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a4ec431fa50b5daf7c0a2b5aa1e1a7f93">colour_space</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a420b059169acc508ea4148714ba6bacc">  117</a></span>&#160;    uint32_t        <a class="code" href="struct_jpeg2000_decoder_context.html#a420b059169acc508ea4148714ba6bacc">palette</a>[256];</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a44d34759cf824211a7dda82dc06f0978">  118</a></span>&#160;    int8_t          <a class="code" href="struct_jpeg2000_decoder_context.html#a44d34759cf824211a7dda82dc06f0978">pal8</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#af8c6c96e2888bc71705764d5e63336af">  119</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#af8c6c96e2888bc71705764d5e63336af">cdef</a>[4];</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a55d8e8b7ea57019478385eff72bfecdc">  120</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a55d8e8b7ea57019478385eff72bfecdc">tile_width</a>, <a class="code" href="struct_jpeg2000_decoder_context.html#a2a85fb0a4877637f24c5d8be031401bd">tile_height</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a557be5763bc1100784f6538e8ba2503b">  121</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="struct_jpeg2000_decoder_context.html#a5f4f4219241d9045cd922fa1ae5ebf4d">numXtiles</a>, <a class="code" href="struct_jpeg2000_decoder_context.html#a557be5763bc1100784f6538e8ba2503b">numYtiles</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#aece52f169d97095f3419216511013329">  122</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#aece52f169d97095f3419216511013329">maxtilelen</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a5488e895d680f7ebd0bde4228c75d243">  123</a></span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a>      <a class="code" href="struct_jpeg2000_decoder_context.html#a5488e895d680f7ebd0bde4228c75d243">sar</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#aa1e98b9e2b736fc9a8d77accfa775791">  125</a></span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> <a class="code" href="struct_jpeg2000_decoder_context.html#aa1e98b9e2b736fc9a8d77accfa775791">codsty</a>[4];</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a56ba668bbae8dae0c351140b85ca8285">  126</a></span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  <a class="code" href="struct_jpeg2000_decoder_context.html#a56ba668bbae8dae0c351140b85ca8285">qntsty</a>[4];</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#acd8ca71a2e98fe89de38dcc46450ccef">  127</a></span>&#160;    <a class="code" href="struct_jpeg2000_p_o_c.html">Jpeg2000POC</a>         <a class="code" href="struct_jpeg2000_decoder_context.html#acd8ca71a2e98fe89de38dcc46450ccef">poc</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#aac93422f762286f4f0f340142a1d3986">  128</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>             <a class="code" href="struct_jpeg2000_decoder_context.html#aac93422f762286f4f0f340142a1d3986">roi_shift</a>[4];</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#ae25c5bdd77bf02b43149344b3f5fea16">  130</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#ae25c5bdd77bf02b43149344b3f5fea16">bit_index</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a6403a49fa4dd19df7facc95174caa35b">  132</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a6403a49fa4dd19df7facc95174caa35b">curtileno</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a00e7925c5d8fa55edb51240913382fd5">  134</a></span>&#160;    <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a>    *<a class="code" href="struct_jpeg2000_decoder_context.html#a00e7925c5d8fa55edb51240913382fd5">tile</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a8cedab1f78f622e6f4ffaee8e55532c0">  135</a></span>&#160;    <a class="code" href="struct_jpeg2000_d_s_p_context.html">Jpeg2000DSPContext</a> <a class="code" href="struct_jpeg2000_decoder_context.html#a8cedab1f78f622e6f4ffaee8e55532c0">dsp</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">/*options parameters*/</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="struct_jpeg2000_decoder_context.html#a1b6d20f74ed14b02737b3670361c5c4e">  138</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="struct_jpeg2000_decoder_context.html#a1b6d20f74ed14b02737b3670361c5c4e">reduction_factor</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a873cd470cac232aa257bf8c1bc9eaaa4">  139</a></span>&#160;} <a class="code" href="jpeg2000dec_8c.html#a873cd470cac232aa257bf8c1bc9eaaa4">Jpeg2000DecoderContext</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">/* get_bits functions for JPEG2000 packet bitstream</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"> * It is a get_bit function with a bit-stuffing routine. If the value of the</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"> * byte is 0xFF, the next byte includes an extra zero bit stuffed into the MSB.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> * cf. ISO-15444-1:2002 / B.10.1 Bit-stuffing routine */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">  145</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">while</span> (--n &gt;= 0) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        res &lt;&lt;= 1;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index == 0) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index = 7 + (bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) != 0xFF<a class="code" href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index--;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        res |= (bytestream2_peek_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;&gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index) &amp; 1;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a53c1f92e6360c5b8f60b89cbbd343fe3">  160</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a53c1f92e6360c5b8f60b89cbbd343fe3">jpeg2000_flush</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == 0xff)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 1);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index = 8;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">/* decode the value stored in node */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ac080aa3d2188477c9278ae13dad24768">  168</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ac080aa3d2188477c9278ae13dad24768">tag_tree_decode</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tgt_node.html">Jpeg2000TgtNode</a> *node,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                           <span class="keywordtype">int</span> threshold)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="struct_jpeg2000_tgt_node.html">Jpeg2000TgtNode</a> *stack[30];</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a> = -1, curval = 0;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (!node) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;missing node\n&quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">while</span> (node &amp;&amp; !node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a3fc2e8b6ffb1139935829d365676c01f">vis</a>) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        stack[++<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>] = node;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        node        = node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">parent</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (node)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        curval = node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        curval = stack[<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>]-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">while</span> (curval &lt; threshold &amp;&amp; sp &gt;= 0) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span> (curval &lt; stack[<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>]-&gt;<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            curval = stack[<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>]-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">while</span> (curval &lt; threshold) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1)) &gt; 0) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                stack[<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>]-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a3fc2e8b6ffb1139935829d365676c01f">vis</a>++;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                curval++;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        stack[<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>]-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> = curval;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>--;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">return</span> curval;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#af3658d5633a0ac50c6ff2c0c908c4bed">  208</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a43a0c88368b8379349924030be1737a0">pix_fmt_match</a>(<span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>, <span class="keywordtype">int</span> components,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                         <span class="keywordtype">int</span> bpc, uint32_t log2_chroma_wh, <span class="keywordtype">int</span> pal8)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordtype">int</span> match = 1;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(<a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;nb_components != components) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">switch</span> (components) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        match = match &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;comp[3].depth &gt;= bpc &amp;&amp;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                         (log2_chroma_wh &gt;&gt; 14 &amp; 3) == 0 &amp;&amp;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                         (log2_chroma_wh &gt;&gt; 12 &amp; 3) == 0;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        match = match &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;comp[2].depth &gt;= bpc &amp;&amp;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                         (log2_chroma_wh &gt;&gt; 10 &amp; 3) == <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w &amp;&amp;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                         (log2_chroma_wh &gt;&gt;  8 &amp; 3) == <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        match = match &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;comp[1].depth &gt;= bpc &amp;&amp;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                         (log2_chroma_wh &gt;&gt;  6 &amp; 3) == <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w &amp;&amp;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                         (log2_chroma_wh &gt;&gt;  4 &amp; 3) == <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        match = match &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;comp[0].depth &gt;= bpc &amp;&amp;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                         (log2_chroma_wh &gt;&gt;  2 &amp; 3) == 0 &amp;&amp;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                         (log2_chroma_wh       &amp; 3) == 0 &amp;&amp;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                         (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;flags &amp; <a class="code" href="pixdesc_8h.html#af30af160970132a3a31c4738629e4495">AV_PIX_FMT_FLAG_PAL</a>) == pal8 * <a class="code" href="pixdesc_8h.html#af30af160970132a3a31c4738629e4495">AV_PIX_FMT_FLAG_PAL</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> match;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">// pix_fmts with lower bpp have to be listed before</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">// similar pix_fmts with higher bpp.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a880b2b44dac2c43364a2b92e2409114e">  245</a></span>&#160;<span class="preprocessor">#define RGB_PIXEL_FORMATS   AV_PIX_FMT_PAL8,AV_PIX_FMT_RGB24,AV_PIX_FMT_RGBA,AV_PIX_FMT_RGB48,AV_PIX_FMT_RGBA64</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a3fef6078a5e92a16c9dd72dd77daaacb">  246</a></span>&#160;<span class="preprocessor">#define GRAY_PIXEL_FORMATS  AV_PIX_FMT_GRAY8,AV_PIX_FMT_GRAY8A,AV_PIX_FMT_GRAY16,AV_PIX_FMT_YA16</span></div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a6786225afb7c3e183b498e841678af7b">  247</a></span>&#160;<span class="preprocessor">#define YUV_PIXEL_FORMATS   AV_PIX_FMT_YUV410P,AV_PIX_FMT_YUV411P,AV_PIX_FMT_YUVA420P, \</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUV420P,AV_PIX_FMT_YUV422P,AV_PIX_FMT_YUVA422P, \</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUV440P,AV_PIX_FMT_YUV444P,AV_PIX_FMT_YUVA444P, \</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUV420P9,AV_PIX_FMT_YUV422P9,AV_PIX_FMT_YUV444P9, \</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUVA420P9,AV_PIX_FMT_YUVA422P9,AV_PIX_FMT_YUVA444P9, \</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUV420P10,AV_PIX_FMT_YUV422P10,AV_PIX_FMT_YUV444P10, \</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUVA420P10,AV_PIX_FMT_YUVA422P10,AV_PIX_FMT_YUVA444P10, \</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUV420P12,AV_PIX_FMT_YUV422P12,AV_PIX_FMT_YUV444P12, \</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUV420P14,AV_PIX_FMT_YUV422P14,AV_PIX_FMT_YUV444P14, \</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUV420P16,AV_PIX_FMT_YUV422P16,AV_PIX_FMT_YUV444P16, \</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">                            AV_PIX_FMT_YUVA420P16,AV_PIX_FMT_YUVA422P16,AV_PIX_FMT_YUVA444P16</span></div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#adfb95c655a88732148969db88c396b64">  258</a></span>&#160;<span class="preprocessor">#define XYZ_PIXEL_FORMATS   AV_PIX_FMT_XYZ12</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="jpeg2000dec_8c.html#a55fb7f727c06e19ec5dd89297cf499db">rgb_pix_fmts</a>[]  = {<a class="code" href="jpeg2000dec_8c.html#a880b2b44dac2c43364a2b92e2409114e">RGB_PIXEL_FORMATS</a>};</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="jpeg2000dec_8c.html#acdcb09b852df254cad041c23b9ff30e0">gray_pix_fmts</a>[] = {<a class="code" href="jpeg2000dec_8c.html#a3fef6078a5e92a16c9dd72dd77daaacb">GRAY_PIXEL_FORMATS</a>};</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="jpeg2000dec_8c.html#af3658d5633a0ac50c6ff2c0c908c4bed">yuv_pix_fmts</a>[]  = {<a class="code" href="jpeg2000dec_8c.html#a6786225afb7c3e183b498e841678af7b">YUV_PIXEL_FORMATS</a>};</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="jpeg2000dec_8c.html#a0c43b8c2e6e162901b26ad79d7e730ad">xyz_pix_fmts</a>[]  = {<a class="code" href="jpeg2000dec_8c.html#adfb95c655a88732148969db88c396b64">XYZ_PIXEL_FORMATS</a>,</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                                   <a class="code" href="jpeg2000dec_8c.html#a6786225afb7c3e183b498e841678af7b">YUV_PIXEL_FORMATS</a>};</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="jpeg2000dec_8c.html#a046bafb073da626933b4a41612d48628">all_pix_fmts</a>[]  = {<a class="code" href="jpeg2000dec_8c.html#a880b2b44dac2c43364a2b92e2409114e">RGB_PIXEL_FORMATS</a>,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                                   <a class="code" href="jpeg2000dec_8c.html#a3fef6078a5e92a16c9dd72dd77daaacb">GRAY_PIXEL_FORMATS</a>,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                                   <a class="code" href="jpeg2000dec_8c.html#a6786225afb7c3e183b498e841678af7b">YUV_PIXEL_FORMATS</a>,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                                   <a class="code" href="jpeg2000dec_8c.html#adfb95c655a88732148969db88c396b64">XYZ_PIXEL_FORMATS</a>};</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">/* marker segments */</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">/* get sizes and offsets of image, tiles; number of components */</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a5f2850cae25630717ed87b4397103d1a">  272</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a5f2850cae25630717ed87b4397103d1a">get_siz</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">int</span> ncomponents;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    uint32_t log2_chroma_wh = 0;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> *possible_fmts = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">int</span> possible_fmts_nb = 0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">int</span> o_dimx, o_dimy; <span class="comment">//original image dimensions.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordtype">int</span> dimx, dimy;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 36) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient space for SIZ\n&quot;</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// Rsiz</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width          = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// Width</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height         = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// Height</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_x = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// X0Siz</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_y = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// Y0Siz</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width     = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// XTSiz</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height    = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// YTSiz</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_x  = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// XT0Siz</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_y  = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// YT0Siz</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    ncomponents       = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// CSiz</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__picture.html#gac75c3c0dfc82367b2be34e99384927c2">av_image_check_size2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;max_pixels, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>, 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx)) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Large Dimensions&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (ncomponents &lt;= 0) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid number of components: %d\n&quot;</span>,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (ncomponents &gt; 4) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Support for %d components&quot;</span>,</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                              ncomponents);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_x &lt; 0 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_y &lt; 0 ||</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_x ||</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_y &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_y ||</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width  + (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_x &lt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_x ||</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height + (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_y &lt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_y</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    ) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Tile offsets are invalid\n&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents = ncomponents;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width &lt;= 0 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height &lt;= 0) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid tile dimension %dx%d.\n&quot;</span>,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 3 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient space for %d components in SIZ\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) { <span class="comment">// Ssiz_i XRsiz_i, YRsiz_i</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> x    = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]   = (x &amp; 0x7f) + 1;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sgnd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]   = !!(x &amp; 0x80);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">if</span> (   !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == 3 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 4</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            || !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == 3 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 4) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid sample separation %d/%d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        log2_chroma_wh |= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;&gt; 1 &lt;&lt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 | <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;&gt; 1 &lt;&lt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width  - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// There must be at least a SOT and SOD per tile, their minimum size is 14</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * (uint64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles &gt; INT_MAX/<span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile) ||</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles * 14LL &gt; <a class="code" href="bytestream_8h.html#a3141fb26b5eb0bd224178673d39d2ab3">bytestream2_size</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    ) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles = 0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile));</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles = 0;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents * <span class="keyword">sizeof</span>(*tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">if</span> (!tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">/* compute image size with reduction factor */</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    o_dimx = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width  - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_x,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    o_dimy = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_y,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    dimx = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(o_dimx, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[0]);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    dimy = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(o_dimy, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[0]);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        dimx = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(dimx, <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(o_dimx, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        dimy = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(dimy, <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(o_dimy, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2internal_8h.html#ac8b736a8223c5348ad85ffff597401ff">ff_set_dimensions</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, dimx, dimy);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile == <a class="code" href="avcodec_8h.html#a4b1d94788381bd9340198c6c17a55952">FF_PROFILE_JPEG2000_DCINEMA_2K</a> ||</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile == <a class="code" href="avcodec_8h.html#aec0654396126240d9d5a36e50ba0cca6">FF_PROFILE_JPEG2000_DCINEMA_4K</a>) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        possible_fmts = <a class="code" href="jpeg2000dec_8c.html#a0c43b8c2e6e162901b26ad79d7e730ad">xyz_pix_fmts</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        possible_fmts_nb = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="jpeg2000dec_8c.html#a0c43b8c2e6e162901b26ad79d7e730ad">xyz_pix_fmts</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;colour_space) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            possible_fmts = <a class="code" href="jpeg2000dec_8c.html#a55fb7f727c06e19ec5dd89297cf499db">rgb_pix_fmts</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            possible_fmts_nb = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="jpeg2000dec_8c.html#a55fb7f727c06e19ec5dd89297cf499db">rgb_pix_fmts</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">case</span> 17:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            possible_fmts = <a class="code" href="jpeg2000dec_8c.html#acdcb09b852df254cad041c23b9ff30e0">gray_pix_fmts</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            possible_fmts_nb = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="jpeg2000dec_8c.html#acdcb09b852df254cad041c23b9ff30e0">gray_pix_fmts</a>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">case</span> 18:</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            possible_fmts = <a class="code" href="jpeg2000dec_8c.html#af3658d5633a0ac50c6ff2c0c908c4bed">yuv_pix_fmts</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            possible_fmts_nb = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="jpeg2000dec_8c.html#af3658d5633a0ac50c6ff2c0c908c4bed">yuv_pix_fmts</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            possible_fmts = <a class="code" href="jpeg2000dec_8c.html#a046bafb073da626933b4a41612d48628">all_pix_fmts</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            possible_fmts_nb = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="jpeg2000dec_8c.html#a046bafb073da626933b4a41612d48628">all_pix_fmts</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt != <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        &amp;&amp; !<a class="code" href="jpeg2000dec_8c.html#a43a0c88368b8379349924030be1737a0">pix_fmt_match</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt, ncomponents, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision, log2_chroma_wh, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pal8))</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; possible_fmts_nb; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="jpeg2000dec_8c.html#a43a0c88368b8379349924030be1737a0">pix_fmt_match</a>(possible_fmts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], ncomponents, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision, log2_chroma_wh, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pal8)) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = possible_fmts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == possible_fmts_nb) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">if</span> (ncomponents == 4 &amp;&amp;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[0] == 1 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[0] == 1 &amp;&amp;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[1] == 1 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[1] == 1 &amp;&amp;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[2] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[3] &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[2] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[3]) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision == 8 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[2] == 2 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[2] == 2 &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pal8) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[0] = 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[1] = 1;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[2] = 2;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[3] = 3;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ncomponents == 3 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision == 8 &amp;&amp;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[0] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[1] &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[0] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[2] &amp;&amp;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[0] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[1] &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[0] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[2]) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ncomponents == 2 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision == 8 &amp;&amp;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[0] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[1] &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[0] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[1]) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ad80118865048313a77102b453cd2df74">AV_PIX_FMT_YA8</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ncomponents == 1 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision == 8) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == possible_fmts_nb) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;               <span class="stringliteral">&quot;Unknown pix_fmt, profile: %d, colour_space: %d, &quot;</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;               <span class="stringliteral">&quot;components: %d, precision: %d\n&quot;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;               <span class="stringliteral">&quot;cdx[0]: %d, cdy[0]: %d\n&quot;</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;               <span class="stringliteral">&quot;cdx[1]: %d, cdy[1]: %d\n&quot;</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;               <span class="stringliteral">&quot;cdx[2]: %d, cdy[2]: %d\n&quot;</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;               <span class="stringliteral">&quot;cdx[3]: %d, cdy[3]: %d\n&quot;</span>,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;colour_space, ncomponents, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[0],</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[0],</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;               ncomponents &gt; 1 ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[1] : 0,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;               ncomponents &gt; 1 ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[1] : 0,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;               ncomponents &gt; 2 ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[2] : 0,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;               ncomponents &gt; 2 ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[2] : 0,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;               ncomponents &gt; 3 ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[3] : 0,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;               ncomponents &gt; 3 ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[3] : 0);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">/* get common part for COD and COC segments */</span></div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a29aa0dddb0203797823b992724ea59f8">  483</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a29aa0dddb0203797823b992724ea59f8">get_cox</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;{</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> byte;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 5) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient space for COX\n&quot;</span>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">/*  nreslevels = number of resolution levels</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">                   = number of decomposition level +1 */</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) + 1;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels &gt;= <a class="code" href="jpeg2000_8h.html#a1336424842b4df2f798c256739e16dec">JPEG2000_MAX_RESLEVELS</a>) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;nreslevels %d is invalid\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels &lt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">/* we are forced to update reduction_factor as its requested value is</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">           not compatible with this bitstream, and as we might have used it</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">           already in setup earlier we have to fail this frame until</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">           reinitialization is implemented */</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;reduction_factor too large for this bitstream, max is %d\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels - 1);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels - 1;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">/* compute number of resolution levels to decode */</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels2decode = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_cblk_width  = (bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &amp; 15) + 2; <span class="comment">// cblk width</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_cblk_height = (bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &amp; 15) + 2; <span class="comment">// cblk height</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_cblk_width &gt; 10 || <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_cblk_height &gt; 10 ||</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_cblk_width + <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_cblk_height &gt; 12) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cblk size invalid\n&quot;</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;cblk_style = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;cblk_style != 0) { <span class="comment">// cblk style</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;extra cblk styles %X\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;cblk_style);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;cblk_style &amp; <a class="code" href="jpeg2000_8h.html#a5944276244fa80df353223ec21516b75">JPEG2000_CBLK_BYPASS</a>)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Selective arithmetic coding bypass\n&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;transform = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// DWT transformation type</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">/* set integer 9/7 DWT in case of BITEXACT flag */</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;flags &amp; <a class="code" href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a>) &amp;&amp; (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;transform == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa471e53434a345cdb2f0e2b8742d46444">FF_DWT97</a>))</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;transform = <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;transform == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a>) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;properties |= <a class="code" href="avcodec_8h.html#ac2bc74c451c6a7490c1209eded909679">FF_CODEC_PROPERTY_LOSSLESS</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;csty &amp; <a class="code" href="jpeg2000_8h.html#a57f3d99f3ad15ad5e1069481c338b8a1">JPEG2000_CSTY_PREC</a>) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nreslevels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordtype">byte</span> = bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_widths[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]  =  <span class="keywordtype">byte</span>       &amp; 0x0F;    <span class="comment">// precinct PPx</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_heights[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<span class="keywordtype">byte</span> &gt;&gt; 4) &amp; 0x0F;    <span class="comment">// precinct PPy</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_widths[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == 0 || <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_heights[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == 0) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;PPx %d PPy %d invalid\n&quot;</span>,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                           <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_widths[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_heights[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_widths[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_heights[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 1;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        memset(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_widths , 15, <span class="keyword">sizeof</span>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_widths ));</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        memset(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_heights, 15, <span class="keyword">sizeof</span>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;log2_prec_heights));</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">/* get coding parameters for a particular tile or whole image*/</span></div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ab69afcd8b24864516f004ba1baf1594b">  558</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ab69afcd8b24864516f004ba1baf1594b">get_cod</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                   <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *properties)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> tmp;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">int</span> compno, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 5) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient space for COD\n&quot;</span>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    tmp.<a class="code" href="struct_jpeg2000_coding_style.html#a27f9083de12f57de42bcac48800814f9">csty</a> = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// get progression order</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    tmp.<a class="code" href="struct_jpeg2000_coding_style.html#a3e0d56e96ddbcd40a4f6ba2bc4541560">prog_order</a> = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    tmp.<a class="code" href="struct_jpeg2000_coding_style.html#aeaecb097f1f95150d0fe4ce1be65a23c">nlayers</a>    = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    tmp.<a class="code" href="struct_jpeg2000_coding_style.html#aec14e77a3a096fb5e9805354ed368e11">mct</a>        = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// multiple component transformation</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span> (tmp.<a class="code" href="struct_jpeg2000_coding_style.html#aec14e77a3a096fb5e9805354ed368e11">mct</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents &lt; 3) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;               <span class="stringliteral">&quot;MCT %&quot;</span>PRIu8<span class="stringliteral">&quot; with too few components (%d)\n&quot;</span>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;               tmp.<a class="code" href="struct_jpeg2000_coding_style.html#aec14e77a3a096fb5e9805354ed368e11">mct</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a29aa0dddb0203797823b992724ea59f8">get_cox</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;tmp)) &lt; 0)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    tmp.<a class="code" href="struct_jpeg2000_coding_style.html#a0f6bd47bbeb795deceaef96370345ee0">init</a> = 1;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">if</span> (!(properties[compno] &amp; <a class="code" href="jpeg2000dec_8c.html#a6e90af99977da17e738cbbeeed5748f4">HAD_COC</a>))</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            memcpy(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> + compno, &amp;tmp, <span class="keyword">sizeof</span>(tmp));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">/* Get coding parameters for a component in the whole image or a</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * particular tile. */</span></div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#afe0a4f5f6683249435f53f151c6dfab9">  595</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#afe0a4f5f6683249435f53f151c6dfab9">get_coc</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                   <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *properties)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordtype">int</span> compno, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> has_eph, has_sop;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 2) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient space for COC\n&quot;</span>);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    compno = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (compno &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;               <span class="stringliteral">&quot;Invalid compno %d. There are %d components in the image.\n&quot;</span>,</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;               compno, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>      += compno;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    has_eph = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;csty &amp; <a class="code" href="jpeg2000_8h.html#a6745e75006f446818aa1e6fadd6d2327">JPEG2000_CSTY_EPH</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    has_sop = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;csty &amp; <a class="code" href="jpeg2000_8h.html#a13b45abb2dad80fcaf0f9acd84055d49">JPEG2000_CSTY_SOP</a>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;csty = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;csty |= has_eph; <span class="comment">//do not override eph present bits from COD</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;csty |= has_sop; <span class="comment">//do not override sop present bits from COD</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a29aa0dddb0203797823b992724ea59f8">get_cox</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) &lt; 0)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    properties[compno] |= <a class="code" href="jpeg2000dec_8c.html#a6e90af99977da17e738cbbeeed5748f4">HAD_COC</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;init = 1;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aea1603eae0c34d8075f8c1f1fae3e0e9">  630</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#aea1603eae0c34d8075f8c1f1fae3e0e9">get_rgn</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;{</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    uint16_t compno;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    compno = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents &lt; 257)? bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g):</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                     bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g)) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid RGN header.\n&quot;</span>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>; <span class="comment">// SRgn field value is 0</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// SPrgn field</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">// Currently compno cannot be greater than 4.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">// However, future implementation should support compno up to 65536</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (compno &lt; s-&gt;ncomponents) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordtype">int</span> v;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno == -1) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            v =  bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">if</span> (v &gt; 30)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;roi_shift[compno] = v;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno].tp_idx != 0)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>; <span class="comment">// marker occurs only in first tile part of tile</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            v = bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">if</span> (v &gt; 30)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno].comp[compno].roi_shift = v;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/* Get common part for QCD and QCC segments. */</span></div>
<div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a7c95b2cc927f35017de729d326ef5ef8">  663</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a7c95b2cc927f35017de729d326ef5ef8">get_qcx</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n, <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *q)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;{</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, x;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 1)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    x = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// Sqcd</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a> = x &gt;&gt; 5;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a>   = x &amp; 0x1f;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a> == <a class="code" href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1">JPEG2000_QSTY_NONE</a>) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        n -= 3;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; n ||</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            n &gt; <a class="code" href="jpeg2000_8h.html#afecb2b0ae9aec393b7160e32b0fd29c5">JPEG2000_MAX_DECLEVELS</a>*3)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;&gt; 3;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a> == <a class="code" href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a871a3dbce027d1584785bb02f9a6c0ff">JPEG2000_QSTY_SI</a>) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 2)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        x          = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[0] = x &gt;&gt; 11;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">mant</a>[0] = x &amp; 0x7ff;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="jpeg2000_8h.html#afecb2b0ae9aec393b7160e32b0fd29c5">JPEG2000_MAX_DECLEVELS</a> * 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="keywordtype">int</span> curexpn = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[0] - (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1) / 3);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = curexpn;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">mant</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">mant</a>[0];</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        n = (n - 3) &gt;&gt; 1;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 2 * n ||</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            n &gt; <a class="code" href="jpeg2000_8h.html#afecb2b0ae9aec393b7160e32b0fd29c5">JPEG2000_MAX_DECLEVELS</a>*3)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            x          = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = x &gt;&gt; 11;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            q-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">mant</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = x &amp; 0x7ff;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">/* Get quantization parameters for a particular tile or a whole image. */</span></div>
<div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#afe44313d1d4442ea118e60d00a76e0bd">  708</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#afe44313d1d4442ea118e60d00a76e0bd">get_qcd</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n, <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *q,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                   <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *properties)</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> tmp;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">int</span> compno, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    memset(&amp;tmp, 0, <span class="keyword">sizeof</span>(tmp));</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a7c95b2cc927f35017de729d326ef5ef8">get_qcx</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, n, &amp;tmp)) &lt; 0)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">if</span> (!(properties[compno] &amp; <a class="code" href="jpeg2000dec_8c.html#afbd6f946e2e71031110ee63525d87bea">HAD_QCC</a>))</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            memcpy(q + compno, &amp;tmp, <span class="keyword">sizeof</span>(tmp));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/* Get quantization parameters for a component in the whole image</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment"> * on in a particular tile. */</span></div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a64b1ee9b1d03bdde72052047a16c3017">  726</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a64b1ee9b1d03bdde72052047a16c3017">get_qcc</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n, <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *q,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                   <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *properties)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;{</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordtype">int</span> compno;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 1)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    compno = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (compno &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;               <span class="stringliteral">&quot;Invalid compno %d. There are %d components in the image.\n&quot;</span>,</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;               compno, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    properties[compno] |= <a class="code" href="jpeg2000dec_8c.html#afbd6f946e2e71031110ee63525d87bea">HAD_QCC</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="jpeg2000dec_8c.html#a7c95b2cc927f35017de729d326ef5ef8">get_qcx</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, n - 1, q + compno);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;}</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a722e065b55b66adf95a91798371d4234">  747</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a722e065b55b66adf95a91798371d4234">get_poc</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="struct_jpeg2000_p_o_c.html">Jpeg2000POC</a> *p)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;{</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordtype">int</span> elem_size = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents &lt;= 257 ? 7 : 9;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <a class="code" href="struct_jpeg2000_p_o_c.html">Jpeg2000POC</a> tmp = {{{0}}};</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 5 || <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 2 + elem_size) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient space for POC\n&quot;</span>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (elem_size &gt; 7) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Fat POC not supported&quot;</span>);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a> = (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 2) / elem_size;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> (tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a> &gt; <a class="code" href="jpeg2000dec_8c.html#a9aa16ad2e95768b6d195a97f7e3b9039">MAX_POCS</a>) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Too many POCs (%d)&quot;</span>, tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="struct_jpeg2000_p_o_c_entry.html">Jpeg2000POCEntry</a> *e = &amp;tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">poc</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#a29436433d3a08e6e68119abe4a74a510">RSpoc</a>  = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ad82062cf2737e50e91242449b64c80dc">CSpoc</a>  = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#aa01fac862c04469da910b5355cda2c84">LYEpoc</a> = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">REpoc</a>  = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a>  = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#a59b5ed973ed91487d0ade7cc6fc87425">Ppoc</a>   = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a>)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a> = 256;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">if</span> (e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a> &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">if</span> (   e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#a29436433d3a08e6e68119abe4a74a510">RSpoc</a> &gt;= e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">REpoc</a> || e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">REpoc</a> &gt; 33</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            || e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ad82062cf2737e50e91242449b64c80dc">CSpoc</a> &gt;= e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a> || e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a> &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            || !e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#aa01fac862c04469da910b5355cda2c84">LYEpoc</a>) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;POC Entry %d is invalid (%d, %d, %d, %d, %d, %d)\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#a29436433d3a08e6e68119abe4a74a510">RSpoc</a>, e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ad82062cf2737e50e91242449b64c80dc">CSpoc</a>, e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#aa01fac862c04469da910b5355cda2c84">LYEpoc</a>, e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">REpoc</a>, e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a>, e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#a59b5ed973ed91487d0ade7cc6fc87425">Ppoc</a></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            );</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a> || p-&gt;<a class="code" href="struct_jpeg2000_p_o_c.html#a30c0507193539b93ce9dd65cc819462f">is_default</a>) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        *p = tmp;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a> + tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a> &gt; <a class="code" href="jpeg2000dec_8c.html#a9aa16ad2e95768b6d195a97f7e3b9039">MAX_POCS</a>) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient space for POC\n&quot;</span>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        memcpy(p-&gt;<a class="code" href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">poc</a> + p-&gt;<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a>, tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">poc</a>, tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a> * <span class="keyword">sizeof</span>(tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">poc</a>[0]));</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        p-&gt;<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a> += tmp.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    p-&gt;<a class="code" href="struct_jpeg2000_p_o_c.html#a30c0507193539b93ce9dd65cc819462f">is_default</a> = 0;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">/* Get start of tile segment. */</span></div>
<div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aba6e16da60757358cfd5060de9788f6c">  809</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#aba6e16da60757358cfd5060de9788f6c">get_sot</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <a class="code" href="struct_jpeg2000_tile_part.html">Jpeg2000TilePart</a> *tp;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    uint16_t Isot;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    uint32_t Psot;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">unsigned</span> TPsot;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 8)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno = 0;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    Isot = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);        <span class="comment">// Isot</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (Isot &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno = Isot;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    Psot  = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);       <span class="comment">// Psot</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    TPsot = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);       <span class="comment">// TPsot</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">/* Read TNSot but not used */</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);               <span class="comment">// TNsot</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">if</span> (!Psot)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        Psot = <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) - 2 + n + 2;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (Psot &gt; <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) - 2 + n + 2) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Psot %&quot;</span>PRIu32<span class="stringliteral">&quot; too big\n&quot;</span>, Psot);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span> (TPsot &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[Isot].tile_part)) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Too many tile parts&quot;</span>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[Isot].tp_idx = TPsot;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    tp             = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[Isot].tile_part + TPsot;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    tp-&gt;<a class="code" href="struct_jpeg2000_tile_part.html#a5466fb79a0ee23326bc7564ef679b003">tile_index</a> = Isot;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    tp-&gt;<a class="code" href="struct_jpeg2000_tile_part.html#a9506ffdcae9356372f99a73f9287c2de">tp_end</a>     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g.buffer + Psot - n - 2;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (!TPsot) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="comment">/* copy defaults */</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        memcpy(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents * <span class="keyword">sizeof</span>(<a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a>));</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        memcpy(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents * <span class="keyword">sizeof</span>(<a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>));</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        memcpy(&amp;tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">poc</a>  , &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;poc  , <span class="keyword">sizeof</span>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">poc</a>));</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">poc</a>.<a class="code" href="struct_jpeg2000_p_o_c.html#a30c0507193539b93ce9dd65cc819462f">is_default</a> = 1;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ae05d60db02eec57f83312f027ac759b9">  862</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ae05d60db02eec57f83312f027ac759b9">read_crg</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;{</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents*4 != n - 2) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid CRG marker.\n&quot;</span>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, n - 2);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">/* Tile-part lengths: see ISO 15444-1:2002, section A.7.1</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment"> * Used to know the number of tile parts and lengths.</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment"> * There may be multiple TLMs in the header.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment"> * TODO: The function is not used for tile-parts management, nor anywhere else.</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment"> * It can be useful to allocate memory for tile parts, before managing the SOT</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment"> * markers. Parsing the TLM header is needed to increment the input header</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"> * buffer.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment"> * This marker is mandatory for DCI. */</span></div>
<div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a2813dd6f432e46143146ee230b8cab97">  879</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a2813dd6f432e46143146ee230b8cab97">get_tlm</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;{</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> Stlm, ST, <a class="code" href="camellia_8c.html#a19ec052395ac20ef094966dcffe1bc81">SP</a>, tile_tlm, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);               <span class="comment">/* Ztlm: skipped */</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    Stlm = bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// too complex ? ST = ((Stlm &gt;&gt; 4) &amp; 0x01) + ((Stlm &gt;&gt; 4) &amp; 0x02);</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    ST = (Stlm &gt;&gt; 4) &amp; 0x03;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">if</span> (ST == 0x03) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;TLM marker contains invalid ST value.\n&quot;</span>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="camellia_8c.html#a19ec052395ac20ef094966dcffe1bc81">SP</a>       = (Stlm &gt;&gt; 6) &amp; 0x01;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    tile_tlm = (n - 4) / ((<a class="code" href="camellia_8c.html#a19ec052395ac20ef094966dcffe1bc81">SP</a> + 1) * 2 + ST);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; tile_tlm; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="keywordflow">switch</span> (ST) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            bytestream2_get_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            bytestream2_get_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="camellia_8c.html#a19ec052395ac20ef094966dcffe1bc81">SP</a> == 0) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            bytestream2_get_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            bytestream2_get_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#afdc0f930b056a75cc93eda53bc0c0851">  917</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#afdc0f930b056a75cc93eda53bc0c0851">get_plt</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordtype">int</span> v;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="stringliteral">&quot;PLT marker at pos 0x%X\n&quot;</span>, <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) - 4);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> (n &lt; 4)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="comment">/*Zplt =*/</span> bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n - 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        v = bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">if</span> (v &amp; 0x80)</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ae3621d95466b02d1e5a30631b577f9b3">  939</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ae3621d95466b02d1e5a30631b577f9b3">get_ppm</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;{</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordtype">void</span> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">if</span> (n &lt; 3) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid length for PPM data.\n&quot;</span>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">//Zppm is skipped and not used</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keyword">new</span> = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers,</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                     <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_size + n - 3);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">new</span>) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers = <span class="keyword">new</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_ppm = 1;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream));</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="bytestream_8h.html#a141b7cfd338b2f8a832624350df187d6">bytestream_get_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g.buffer, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_size,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                          n - 3);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_size += n - 3;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;}</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ae00953747a61fc7f3222e76e0783ba65">  963</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ae00953747a61fc7f3222e76e0783ba65">get_ppt</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;{</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordtype">void</span> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span> (n &lt; 3) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid length for PPT data.\n&quot;</span>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno &lt; 0)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    tile = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno];</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#adcb355a511d4200d7f87d760c5cfc967">tp_idx</a> != 0) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;               <span class="stringliteral">&quot;PPT marker can occur only on first tile part of a tile.\n&quot;</span>);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">has_ppt</a> = 1;  <span class="comment">// this tile has a ppt marker</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    bytestream2_get_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g); <span class="comment">// Zppt is skipped and not used</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keyword">new</span> = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aca026bbe426e673a65a4dd073d02400c">packed_headers</a>,</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                     tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#adef906892c6cee7cea0d031b69f3b9c2">packed_headers_size</a> + n - 3);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">new</span>) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aca026bbe426e673a65a4dd073d02400c">packed_headers</a> = <span class="keyword">new</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    memset(&amp;tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">packed_headers_stream</a>, 0, <span class="keyword">sizeof</span>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">packed_headers_stream</a>));</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    memcpy(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aca026bbe426e673a65a4dd073d02400c">packed_headers</a> + tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#adef906892c6cee7cea0d031b69f3b9c2">packed_headers_size</a>,</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;           <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g.buffer, n - 3);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#adef906892c6cee7cea0d031b69f3b9c2">packed_headers_size</a> += n - 3;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, n - 3);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;}</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ab22f0a3a1be35ac8ef82aaca827ba213">  999</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ab22f0a3a1be35ac8ef82aaca827ba213">init_tile</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> tileno)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;{</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordtype">int</span> compno;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordtype">int</span> tilex = tileno % <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordtype">int</span> tiley = tileno / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + tileno;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">if</span> (!tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0] = av_clip(tilex       * (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width  + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][1] = av_clip((tilex + 1) * (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width  + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0] = av_clip(tiley       * (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][1] = av_clip((tiley + 1) * (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_offset_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image_offset_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  *qntsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a> + compno;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>; <span class="comment">// global bandno</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0] = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0];</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][1] = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][1];</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0] = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0];</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][1] = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][1];</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0] = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno]);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][1] = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno]);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0] = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno]);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][1] = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno]);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][0] = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][1] = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[1][0] = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[1][1] = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduction_factor);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;roi_shift)</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;roi_shift = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;roi_shift[compno];</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> (!codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a0f6bd47bbeb795deceaef96370345ee0">init</a>)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000_8c.html#a1b4cffe722d3a15e350c73a3263fff2f">ff_jpeg2000_init_component</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, codsty, qntsty,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                             <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[compno], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno],</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                             <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx))</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">/* Read the number of coding passes. */</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a4f45b7921fdd64a8827d79a344fb3da6"> 1048</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a4f45b7921fdd64a8827d79a344fb3da6">getnpasses</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;{</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordtype">int</span> num;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1))</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1))</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> ((num = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 2)) != 3)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">return</span> num &lt; 0 ? num : 3 + num;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> ((num = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 5)) != 31)</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">return</span> num &lt; 0 ? num : 6 + num;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    num = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 7);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">return</span> num &lt; 0 ? num : 37 + num;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a2ac685c4974239ca1350c9bace3550db"> 1063</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a2ac685c4974239ca1350c9bace3550db">getlblockinc</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordtype">int</span> res = 0, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1)) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        res++;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a49c6af2ad205919105a72a8679e78117"> 1074</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a49c6af2ad205919105a72a8679e78117">select_header</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                                 <span class="keywordtype">int</span> *tp_index)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[*tp_index].<a class="code" href="struct_jpeg2000_tile_part.html#ac8f2c57f18cb03209d504ca1edde5eee">header_tpg</a>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index == 8) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">if</span> (*tp_index &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>) - 1) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[++(*tp_index)].<a class="code" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">tpg</a>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        }</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;}</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46"> 1085</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46">select_stream</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile,</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                                 <span class="keywordtype">int</span> *tp_index, <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;{</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[*tp_index].<a class="code" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">tpg</a>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index == 8) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">if</span> (*tp_index &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>) - 1) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[++(*tp_index)].<a class="code" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">tpg</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a27f9083de12f57de42bcac48800814f9">csty</a> &amp; <a class="code" href="jpeg2000_8h.html#a13b45abb2dad80fcaf0f9acd84055d49">JPEG2000_CSTY_SOP</a>) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="keywordflow">if</span> (bytestream2_peek_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == <a class="code" href="jpeg2000_8h.html#a7a7e348d43e55343bf0401e967618f2e">JPEG2000_SOP_FIXED_BYTES</a>)</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, <a class="code" href="jpeg2000_8h.html#a72429e7a0c01dadce83548e92e81976d">JPEG2000_SOP_BYTE_LENGTH</a>);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;SOP marker not found. instead %X\n&quot;</span>, bytestream2_peek_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g));</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd"> 1102</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd">jpeg2000_decode_packet</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile, <span class="keywordtype">int</span> *tp_index,</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                                  <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                                  <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel, <span class="keywordtype">int</span> precno,</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                  <span class="keywordtype">int</span> layno, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *expn, <span class="keywordtype">int</span> numgbits)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;{</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordtype">int</span> bandno, cblkno, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, nb_code_blocks;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordtype">int</span> cwsno;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (layno &lt; rlevel-&gt;band[0].prec[precno].decoded_layers)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a>[0].<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a>[precno].<a class="code" href="struct_jpeg2000_prec.html#a16335a9f5edac24fb0fdaf4921cd9f50">decoded_layers</a> = layno + 1;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment">// Select stream to read from</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_ppm)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#a49c6af2ad205919105a72a8679e78117">select_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">has_ppt</a>)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">packed_headers_stream</a>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46">select_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index, codsty);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1))) {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#a53c1f92e6360c5b8f60b89cbbd343fe3">jpeg2000_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">goto</span> skip_data;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">for</span> (bandno = 0; bandno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">if</span> (band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1] ||</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1])</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        nb_code_blocks =  prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a> *</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                          prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="keywordflow">for</span> (cblkno = 0; cblkno &lt; nb_code_blocks; cblkno++) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + cblkno;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <span class="keywordtype">int</span> incl, newpasses, llen;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="keywordtype">void</span> *tmp;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                incl = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                incl = <a class="code" href="jpeg2000dec_8c.html#ac080aa3d2188477c9278ae13dad24768">tag_tree_decode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">cblkincl</a> + cblkno, layno + 1) == layno;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            <span class="keywordflow">if</span> (!incl)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (incl &lt; 0)</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                <span class="keywordflow">return</span> incl;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            <span class="keywordflow">if</span> (!cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                <span class="keywordtype">int</span> v = expn[bandno] + numgbits - 1 -</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                        <a class="code" href="jpeg2000dec_8c.html#ac080aa3d2188477c9278ae13dad24768">tag_tree_decode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a3ca853a4a814e27b10e05761f8c65e23">zerobits</a> + cblkno, 100);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                <span class="keywordflow">if</span> (v &lt; 0 || v &gt; 30) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                           <span class="stringliteral">&quot;nonzerobits %d invalid or unsupported\n&quot;</span>, v);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">nonzerobits</a> = v;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <span class="keywordflow">if</span> ((newpasses = <a class="code" href="jpeg2000dec_8c.html#a4f45b7921fdd64a8827d79a344fb3da6">getnpasses</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                <span class="keywordflow">return</span> newpasses;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(newpasses &gt; 0);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a> + newpasses &gt;= <a class="code" href="jpeg2000_8h.html#a850eb7d25e718a87f62825225003bfb5">JPEG2000_MAX_PASSES</a>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Too many passes&quot;</span>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <span class="keywordflow">if</span> ((llen = <a class="code" href="jpeg2000dec_8c.html#a2ac685c4974239ca1350c9bace3550db">getlblockinc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                <span class="keywordflow">return</span> llen;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a> + llen + <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(newpasses) &gt; 16) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx,</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                      <span class="stringliteral">&quot;Block with length beyond 16 bits&quot;</span>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a> += llen;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a84136acce213e6b87569a4f3ca5cf7f1">nb_lengthinc</a> = 0;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2155ab65fa44322ced6e59e6bf42961d">nb_terminationsinc</a> = 0;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>  = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(newpasses    , <span class="keyword">sizeof</span>(*cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>));</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <span class="keywordflow">if</span> (!cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>)</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            tmp = <a class="code" href="mem_8c.html#aadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">data_start</a>, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a04c1a7215bd695553cf8cbaa3c62885c">nb_terminations</a> + newpasses + 1, <span class="keyword">sizeof</span>(*cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">data_start</a>));</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            <span class="keywordflow">if</span> (!tmp)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">data_start</a> = tmp;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="keywordtype">int</span> newpasses1 = 0;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                <span class="keywordflow">while</span> (newpasses1 &lt; newpasses) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    newpasses1 ++;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="jpeg2000_8h.html#aa2553cd5170e274912c9a2500871588b">needs_termination</a>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a590f71743fdd522d33a8de9f6477e778">cblk_style</a>, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a> + newpasses1 - 1)) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2155ab65fa44322ced6e59e6bf42961d">nb_terminationsinc</a> ++;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(newpasses1) + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a>)) &lt; 0)</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a>) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                    <span class="keywordtype">size_t</span> new_size = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(2*cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                    <span class="keywordtype">void</span> *<span class="keyword">new</span> = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>, new_size);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                    <span class="keywordflow">if</span> (<span class="keyword">new</span>) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> = <span class="keyword">new</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a> = new_size;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a>) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx,</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                                        <span class="stringliteral">&quot;Block with lengthinc greater than %&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a84136acce213e6b87569a4f3ca5cf7f1">nb_lengthinc</a>++] = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>  += newpasses1;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                newpasses -= newpasses1;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            } <span class="keywordflow">while</span>(newpasses);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="jpeg2000dec_8c.html#a53c1f92e6360c5b8f60b89cbbd343fe3">jpeg2000_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a27f9083de12f57de42bcac48800814f9">csty</a> &amp; <a class="code" href="jpeg2000_8h.html#a6745e75006f446818aa1e6fadd6d2327">JPEG2000_CSTY_EPH</a>) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">if</span> (bytestream2_peek_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39">JPEG2000_EPH</a>)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 2);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;EPH marker not found. instead %X\n&quot;</span>, bytestream2_peek_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g));</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// Save state of stream</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_ppm) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[*tp_index].<a class="code" href="struct_jpeg2000_tile_part.html#ac8f2c57f18cb03209d504ca1edde5eee">header_tpg</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46">select_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index, codsty);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">has_ppt</a>) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">packed_headers_stream</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46">select_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index, codsty);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">for</span> (bandno = 0; bandno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        nb_code_blocks = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a> * prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keywordflow">for</span> (cblkno = 0; cblkno &lt; nb_code_blocks; cblkno++) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + cblkno;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">if</span> (!cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2155ab65fa44322ced6e59e6bf42961d">nb_terminationsinc</a> &amp;&amp; !cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>)</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;            <span class="keywordflow">for</span> (cwsno = 0; cwsno &lt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a84136acce213e6b87569a4f3ca5cf7f1">nb_lengthinc</a>; cwsno ++) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a> &lt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno] + 4) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                    <span class="keywordtype">size_t</span> new_size = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(2*cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a>, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno] + 4);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                    <span class="keywordtype">void</span> *<span class="keyword">new</span> = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>, new_size);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                    <span class="keywordflow">if</span> (<span class="keyword">new</span>) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> = <span class="keyword">new</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a> = new_size;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                    }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                <span class="keywordflow">if</span> (   <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno]</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                    || cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">data_allocated</a> &lt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno] + 4</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                ) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                        <span class="stringliteral">&quot;Block length %&quot;</span>PRIu16<span class="stringliteral">&quot; or lengthinc %d is too large, left %d\n&quot;</span>,</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno], <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g));</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <a class="code" href="bytestream_8h.html#a7a0eaeb3e0d4d786ed0807884fa4d7d9">bytestream2_get_bufferu</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno]);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>   += cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno];</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>[cwsno] = 0;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2155ab65fa44322ced6e59e6bf42961d">nb_terminationsinc</a>) {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2155ab65fa44322ced6e59e6bf42961d">nb_terminationsinc</a>--;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a04c1a7215bd695553cf8cbaa3c62885c">nb_terminations</a>++;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>++] = 0xFF;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>++] = 0xFF;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">data_start</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a04c1a7215bd695553cf8cbaa3c62885c">nb_terminations</a>] = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">lengthinc</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// Save state of stream</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[*tp_index].<a class="code" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">tpg</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;skip_data:</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a27f9083de12f57de42bcac48800814f9">csty</a> &amp; <a class="code" href="jpeg2000_8h.html#a6745e75006f446818aa1e6fadd6d2327">JPEG2000_CSTY_EPH</a>) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keywordflow">if</span> (bytestream2_peek_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39">JPEG2000_EPH</a>)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 2);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;EPH marker not found. instead %X\n&quot;</span>, bytestream2_peek_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g));</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_ppm) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[*tp_index].<a class="code" href="struct_jpeg2000_tile_part.html#ac8f2c57f18cb03209d504ca1edde5eee">header_tpg</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46">select_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index, codsty);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">has_ppt</a>) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">packed_headers_stream</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46">select_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index, codsty);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a>[*tp_index].<a class="code" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">tpg</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;}</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aaab7496df5bb17d31dac20720b215bea"> 1300</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#aaab7496df5bb17d31dac20720b215bea">jpeg2000_decode_packets_po_iteration</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                                             <span class="keywordtype">int</span> RSpoc, <span class="keywordtype">int</span> CSpoc,</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                                             <span class="keywordtype">int</span> LYEpoc, <span class="keywordtype">int</span> REpoc, <span class="keywordtype">int</span> CEpoc,</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                                             <span class="keywordtype">int</span> Ppoc, <span class="keywordtype">int</span> *tp_index)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;{</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordtype">int</span> layno, reslevelno, compno, precno, ok_reslevel;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordtype">int</span> step_x, step_y;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">switch</span> (Ppoc) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a8fe705002a2ac76b4951b4808a453f92">JPEG2000_PGOD_RLCP</a>:</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Progression order RLCP\n&quot;</span>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        ok_reslevel = 1;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <span class="keywordflow">for</span> (reslevelno = RSpoc; ok_reslevel &amp;&amp; reslevelno &lt; REpoc; reslevelno++) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            ok_reslevel = 0;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="keywordflow">for</span> (layno = 0; layno &lt; LYEpoc; layno++) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                <span class="keywordflow">for</span> (compno = CSpoc; compno &lt; CEpoc; compno++) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *qntsty  = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a> + compno;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                    <span class="keywordflow">if</span> (reslevelno &lt; codsty-&gt;nreslevels) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                        <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[compno].<a class="code" href="struct_jpeg2000_component.html#a9e0b1041f057dc6ebd934ca6e35cc388">reslevel</a> +</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                                                reslevelno;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                        ok_reslevel = 1;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                        <span class="keywordflow">for</span> (precno = 0; precno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++)</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd">jpeg2000_decode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index,</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                                              codsty, rlevel,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                                              precno, layno,</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3 * (reslevelno - 1) + 1 : 0),</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>)) &lt; 0)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                    }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        }</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#aefcdbbefdfb861ffaf49320d2603ae6a">JPEG2000_PGOD_LRCP</a>:</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Progression order LRCP\n&quot;</span>);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">for</span> (layno = 0; layno &lt; LYEpoc; layno++) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            ok_reslevel = 1;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="keywordflow">for</span> (reslevelno = RSpoc; ok_reslevel &amp;&amp; reslevelno &lt; REpoc; reslevelno++) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                ok_reslevel = 0;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                <span class="keywordflow">for</span> (compno = CSpoc; compno &lt; CEpoc; compno++) {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *qntsty  = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a> + compno;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                    <span class="keywordflow">if</span> (reslevelno &lt; codsty-&gt;nreslevels) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                        <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[compno].<a class="code" href="struct_jpeg2000_component.html#a9e0b1041f057dc6ebd934ca6e35cc388">reslevel</a> +</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                                                reslevelno;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                        ok_reslevel = 1;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                        <span class="keywordflow">for</span> (precno = 0; precno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd">jpeg2000_decode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                                                              codsty, rlevel,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                                                              precno, layno,</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3 * (reslevelno - 1) + 1 : 0),</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>)) &lt; 0)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                    }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a6b4db52eeb243d870055fb29444f38f4">JPEG2000_PGOD_CPRL</a>:</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Progression order CPRL\n&quot;</span>);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordflow">for</span> (compno = CSpoc; compno &lt; CEpoc; compno++) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *qntsty  = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a> + compno;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            step_x = 32;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            step_y = 32;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="keywordflow">if</span> (RSpoc &gt;= <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>, REpoc))</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <span class="keywordflow">for</span> (reslevelno = RSpoc; reslevelno &lt; <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>, REpoc); reslevelno++) {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                step_x = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_x, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>  + reducedresno);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                step_y = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_y, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="keywordflow">if</span> (step_x &gt;= 31 || step_y &gt;= 31){</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;CPRL with large step&quot;</span>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            step_x = 1&lt;&lt;step_x;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            step_y = 1&lt;&lt;step_y;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <span class="keywordflow">for</span> (y = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0]; y &lt; tile-&gt;coord[1][1]; y = (y/step_y + 1)*step_y) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <span class="keywordflow">for</span> (x = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0]; x &lt; tile-&gt;coord[0][1]; x = (x/step_x + 1)*step_x) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                    <span class="keywordflow">for</span> (reslevelno = RSpoc; reslevelno &lt; <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>, REpoc); reslevelno++) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                        <span class="keywordtype">unsigned</span> prcx, prcy;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                        <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                        <span class="keywordtype">int</span> xc = x / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno];</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                        <span class="keywordtype">int</span> yc = y / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno];</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                        <span class="keywordflow">if</span> (yc % (1LL &lt;&lt; (rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno)) &amp;&amp; y != tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0]) <span class="comment">//FIXME this is a subset of the check</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                        <span class="keywordflow">if</span> (xc % (1LL &lt;&lt; (rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a> + reducedresno)) &amp;&amp; x != tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0]) <span class="comment">//FIXME this is a subset of the check</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                        <span class="comment">// check if a precinct exists</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                        prcx   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(xc, reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                        prcy   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(yc, reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                        prcx  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                        prcy  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                        precno = prcx + rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * prcy;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                        <span class="keywordflow">if</span> (prcx &gt;= rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> || prcy &gt;= rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;prc %d %d outside limits %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                                   prcx, prcy, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a>, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                        }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                        <span class="keywordflow">for</span> (layno = 0; layno &lt; LYEpoc; layno++) {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd">jpeg2000_decode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index, codsty, rlevel,</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                                                              precno, layno,</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3 * (reslevelno - 1) + 1 : 0),</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>)) &lt; 0)</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                        }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                    }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            }</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a7cedf9791d22e37fe5afd76035e9ade8">JPEG2000_PGOD_RPCL</a>:</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Progression order RPCL\n&quot;</span>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        ok_reslevel = 1;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="keywordflow">for</span> (reslevelno = RSpoc; ok_reslevel &amp;&amp; reslevelno &lt; REpoc; reslevelno++) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            ok_reslevel = 0;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            step_x = 30;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            step_y = 30;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <span class="keywordflow">for</span> (compno = CSpoc; compno &lt; CEpoc; compno++) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                <span class="keywordflow">if</span> (reslevelno &lt; codsty-&gt;nreslevels) {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                    step_x = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_x, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>  + reducedresno);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                    step_y = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_y, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            step_x = 1&lt;&lt;step_x;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            step_y = 1&lt;&lt;step_y;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <span class="keywordflow">for</span> (y = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0]; y &lt; tile-&gt;coord[1][1]; y = (y/step_y + 1)*step_y) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                <span class="keywordflow">for</span> (x = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0]; x &lt; tile-&gt;coord[0][1]; x = (x/step_x + 1)*step_x) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                    <span class="keywordflow">for</span> (compno = CSpoc; compno &lt; CEpoc; compno++) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                        <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                        <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                        <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *qntsty  = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a> + compno;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                        <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                        <span class="keywordtype">unsigned</span> prcx, prcy;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                        <span class="keywordtype">int</span> trx0, try0;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] || !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno])</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                        <span class="keywordflow">if</span> (reslevelno &gt;= codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                        trx0 = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0], (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] &lt;&lt; reducedresno);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                        try0 = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0], (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno] &lt;&lt; reducedresno);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                        <span class="keywordflow">if</span> (!(y % ((uint64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno] &lt;&lt; (rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno)) == 0 ||</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                             (y == tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0] &amp;&amp; ((int64_t)try0 &lt;&lt; reducedresno) % (1ULL &lt;&lt; (reducedresno + rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>)))))</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                        <span class="keywordflow">if</span> (!(x % ((uint64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] &lt;&lt; (rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a> + reducedresno)) == 0 ||</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                             (x == tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0] &amp;&amp; ((int64_t)trx0 &lt;&lt; reducedresno) % (1ULL &lt;&lt; (reducedresno + rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>)))))</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                        <span class="comment">// check if a precinct exists</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                        prcx   = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(x, (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] &lt;&lt; reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                        prcy   = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(y, (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno] &lt;&lt; reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                        prcx  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                        prcy  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                        precno = prcx + rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * prcy;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                        ok_reslevel = 1;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                        <span class="keywordflow">if</span> (prcx &gt;= rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> || prcy &gt;= rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;prc %d %d outside limits %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                                   prcx, prcy, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a>, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                        }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                        <span class="keywordflow">for</span> (layno = 0; layno &lt; LYEpoc; layno++) {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd">jpeg2000_decode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index,</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                                                              codsty, rlevel,</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                                                              precno, layno,</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3 * (reslevelno - 1) + 1 : 0),</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>)) &lt; 0)</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                        }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                    }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                }</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a1dce046afae281d40aac41b31b54d8e0">JPEG2000_PGOD_PCRL</a>:</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Progression order PCRL\n&quot;</span>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        step_x = 32;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        step_y = 32;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">for</span> (compno = CSpoc; compno &lt; CEpoc; compno++) {</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            <span class="keywordflow">for</span> (reslevelno = RSpoc; reslevelno &lt; <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>, REpoc); reslevelno++) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                step_x = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_x, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>  + reducedresno);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                step_y = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_y, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <span class="keywordflow">if</span> (step_x &gt;= 31 || step_y &gt;= 31){</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;PCRL with large step&quot;</span>);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        step_x = 1&lt;&lt;step_x;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        step_y = 1&lt;&lt;step_y;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="keywordflow">for</span> (y = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0]; y &lt; tile-&gt;coord[1][1]; y = (y/step_y + 1)*step_y) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="keywordflow">for</span> (x = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0]; x &lt; tile-&gt;coord[0][1]; x = (x/step_x + 1)*step_x) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                <span class="keywordflow">for</span> (compno = CSpoc; compno &lt; CEpoc; compno++) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                    <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *qntsty  = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">qntsty</a> + compno;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] || !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno])</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                    <span class="keywordflow">for</span> (reslevelno = RSpoc; reslevelno &lt; <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>, REpoc); reslevelno++) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                        <span class="keywordtype">unsigned</span> prcx, prcy;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                        <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                        <span class="keywordtype">int</span> trx0, try0;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                        trx0 = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0], (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] &lt;&lt; reducedresno);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                        try0 = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0], (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno] &lt;&lt; reducedresno);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                        <span class="keywordflow">if</span> (!(y % ((uint64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno] &lt;&lt; (rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno)) == 0 ||</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                             (y == tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[1][0] &amp;&amp; ((int64_t)try0 &lt;&lt; reducedresno) % (1ULL &lt;&lt; (reducedresno + rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>)))))</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                             <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                        <span class="keywordflow">if</span> (!(x % ((uint64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] &lt;&lt; (rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a> + reducedresno)) == 0 ||</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                             (x == tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">coord</a>[0][0] &amp;&amp; ((int64_t)trx0 &lt;&lt; reducedresno) % (1ULL &lt;&lt; (reducedresno + rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>)))))</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                             <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                        <span class="comment">// check if a precinct exists</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                        prcx   = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(x, (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdx[compno] &lt;&lt; reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                        prcy   = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(y, (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdy[compno] &lt;&lt; reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                        prcx  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                        prcy  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], reducedresno) &gt;&gt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                        precno = prcx + rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * prcy;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                        <span class="keywordflow">if</span> (prcx &gt;= rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> || prcy &gt;= rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;prc %d %d outside limits %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                                   prcx, prcy, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a>, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                        }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                        <span class="keywordflow">for</span> (layno = 0; layno &lt; LYEpoc; layno++) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd">jpeg2000_decode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tp_index, codsty, rlevel,</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                                                              precno, layno,</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3 * (reslevelno - 1) + 1 : 0),</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                                              qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>)) &lt; 0)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                        }</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                    }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;}</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#adf8e4fe492588b2c45475da844d2dbce"> 1591</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#adf8e4fe492588b2c45475da844d2dbce">jpeg2000_decode_packets</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile)</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;{</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa102cde7ec5acbc099c3bcbb58556a18">AVERROR_BUG</a>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordtype">int</span> tp_index = 0;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index = 8;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">poc</a>.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a>) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">poc</a>.<a class="code" href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">nb_poc</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <a class="code" href="struct_jpeg2000_p_o_c_entry.html">Jpeg2000POCEntry</a> *e = &amp;tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">poc</a>.<a class="code" href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">poc</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aaab7496df5bb17d31dac20720b215bea">jpeg2000_decode_packets_po_iteration</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile,</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#a29436433d3a08e6e68119abe4a74a510">RSpoc</a>, e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ad82062cf2737e50e91242449b64c80dc">CSpoc</a>,</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#aa01fac862c04469da910b5355cda2c84">LYEpoc</a>, tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[0].<a class="code" href="struct_jpeg2000_coding_style.html#aeaecb097f1f95150d0fe4ce1be65a23c">nlayers</a>),</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">REpoc</a>,</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">CEpoc</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents),</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                e-&gt;<a class="code" href="struct_jpeg2000_p_o_c_entry.html#a59b5ed973ed91487d0ade7cc6fc87425">Ppoc</a>, &amp;tp_index</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                );</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aaab7496df5bb17d31dac20720b215bea">jpeg2000_decode_packets_po_iteration</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile,</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            0, 0,</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[0].<a class="code" href="struct_jpeg2000_coding_style.html#aeaecb097f1f95150d0fe4ce1be65a23c">nlayers</a>,</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            33,</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents,</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[0].<a class="code" href="struct_jpeg2000_coding_style.html#a3e0d56e96ddbcd40a4f6ba2bc4541560">prog_order</a>,</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            &amp;tp_index</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        );</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="comment">/* EOC marker reached */</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 2);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment">/* TIER-1 routines */</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a6203f68e1886ce38e24eddccb700966e"> 1628</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a6203f68e1886ce38e24eddccb700966e">decode_sigpass</a>(<a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>,</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                           <span class="keywordtype">int</span> bpno, <span class="keywordtype">int</span> bandno,</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                           <span class="keywordtype">int</span> vert_causal_ctx_csty_symbol)</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;{</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> = 3 &lt;&lt; (bpno - 1), y0, x, y;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">for</span> (y0 = 0; y0 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y0 += 4)</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="keywordflow">for</span> (y = y0; y &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &amp;&amp; y &lt; y0 + 4; y++) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                <span class="keywordtype">int</span> flags_mask = -1;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                <span class="keywordflow">if</span> (vert_causal_ctx_csty_symbol &amp;&amp; y == y0 + 3)</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                    flags_mask &amp;= ~(<a class="code" href="jpeg2000_8h.html#a9ac1d2b479938a68882b41b88ae2f547">JPEG2000_T1_SIG_S</a> | <a class="code" href="jpeg2000_8h.html#a7acf79bb761765314ec2ef754924f3c4">JPEG2000_T1_SIG_SW</a> | <a class="code" href="jpeg2000_8h.html#a8cfe5e4bd621ed1d2ce9e4ddce4428fd">JPEG2000_T1_SIG_SE</a> | <a class="code" href="jpeg2000_8h.html#a25aba8f9b5b2d6f57b2a76ab14953692">JPEG2000_T1_SGN_S</a>);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; <a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> &amp; flags_mask)</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                &amp;&amp; !(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>))) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="jpeg2000_8h.html#ac30b3b8230ca63d8efea4dee7a8b98f9">ff_jpeg2000_getsigctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; flags_mask, bandno))) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                        <span class="keywordtype">int</span> xorbit, ctxno = <a class="code" href="jpeg2000_8h.html#a9d26daacfa6ecbcc305478a587b2ef23">ff_jpeg2000_getsgnctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; flags_mask, &amp;xorbit);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.raw)</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                             <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] = <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno) ? -<a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> : <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                             <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] = (<a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno) ^ xorbit) ?</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                                               -<a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> : <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                        <a class="code" href="jpeg2000_8c.html#af1eb1f26885175f16aec8a23f02f5a86">ff_jpeg2000_set_significance</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, x, y,</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                                                     <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &lt; 0);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                    }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y + 1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] |= <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;}</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a36530a932b1d568a771f1e8760f4d62e"> 1658</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a36530a932b1d568a771f1e8760f4d62e">decode_refpass</a>(<a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>,</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                           <span class="keywordtype">int</span> bpno, <span class="keywordtype">int</span> vert_causal_ctx_csty_symbol)</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;{</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordtype">int</span> phalf, nhalf;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keywordtype">int</span> y0, x, y;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160; </div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    phalf = 1 &lt;&lt; (bpno - 1);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    nhalf = -phalf;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">for</span> (y0 = 0; y0 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y0 += 4)</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++)</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            <span class="keywordflow">for</span> (y = y0; y &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &amp;&amp; y &lt; y0 + 4; y++)</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y + 1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp; (<a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>)) == <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                    <span class="keywordtype">int</span> flags_mask = (vert_causal_ctx_csty_symbol &amp;&amp; y == y0 + 3) ?</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                        ~(<a class="code" href="jpeg2000_8h.html#a9ac1d2b479938a68882b41b88ae2f547">JPEG2000_T1_SIG_S</a> | <a class="code" href="jpeg2000_8h.html#a7acf79bb761765314ec2ef754924f3c4">JPEG2000_T1_SIG_SW</a> | <a class="code" href="jpeg2000_8h.html#a8cfe5e4bd621ed1d2ce9e4ddce4428fd">JPEG2000_T1_SIG_SE</a> | <a class="code" href="jpeg2000_8h.html#a25aba8f9b5b2d6f57b2a76ab14953692">JPEG2000_T1_SGN_S</a>) : -1;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                    <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#aac7718573ec1cc705b7d1ce03939cdf4">ff_jpeg2000_getrefctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y + 1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp; flags_mask);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>     = <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc,</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                              <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno)</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                                ? phalf : nhalf;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x]          += <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &lt; 0 ? -<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> : <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y + 1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] |= <a class="code" href="jpeg2000_8h.html#a2232a15101f27004fa44ae8d34ea0832">JPEG2000_T1_REF</a>;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a8760643118b0839c8e691b3b3595bfd6"> 1682</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a8760643118b0839c8e691b3b3595bfd6">decode_clnpass</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>,</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                           <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <span class="keywordtype">int</span> bpno, <span class="keywordtype">int</span> bandno,</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                           <span class="keywordtype">int</span> seg_symbols, <span class="keywordtype">int</span> vert_causal_ctx_csty_symbol)</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;{</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> = 3 &lt;&lt; (bpno - 1), y0, x, y, runlen, dec;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">for</span> (y0 = 0; y0 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y0 += 4) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <span class="keywordtype">int</span> flags_mask = -1;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <span class="keywordflow">if</span> (vert_causal_ctx_csty_symbol)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                flags_mask &amp;= ~(<a class="code" href="jpeg2000_8h.html#a9ac1d2b479938a68882b41b88ae2f547">JPEG2000_T1_SIG_S</a> | <a class="code" href="jpeg2000_8h.html#a7acf79bb761765314ec2ef754924f3c4">JPEG2000_T1_SIG_SW</a> | <a class="code" href="jpeg2000_8h.html#a8cfe5e4bd621ed1d2ce9e4ddce4428fd">JPEG2000_T1_SIG_SE</a> | <a class="code" href="jpeg2000_8h.html#a25aba8f9b5b2d6f57b2a76ab14953692">JPEG2000_T1_SGN_S</a>);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            <span class="keywordflow">if</span> (y0 + 3 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &amp;&amp;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                !((<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0 + 1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>)) ||</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                  (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0 + 2) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>)) ||</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                  (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0 + 3) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>)) ||</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                  (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0 + 4) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>) &amp; flags_mask))) {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#acdf6f409531af930e6fd1c7ccc4d20fb">MQC_CX_RL</a>))</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                runlen = <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc,</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                                       <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                runlen = (runlen &lt;&lt; 1) | <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc,</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                                                       <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states +</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                                                       <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                dec = 1;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                runlen = 0;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;                dec    = 0;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            }</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            <span class="keywordflow">for</span> (y = y0 + runlen; y &lt; y0 + 4 &amp;&amp; y &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y++) {</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                <span class="keywordtype">int</span> flags_mask = -1;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                <span class="keywordflow">if</span> (vert_causal_ctx_csty_symbol &amp;&amp; y == y0 + 3)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                    flags_mask &amp;= ~(<a class="code" href="jpeg2000_8h.html#a9ac1d2b479938a68882b41b88ae2f547">JPEG2000_T1_SIG_S</a> | <a class="code" href="jpeg2000_8h.html#a7acf79bb761765314ec2ef754924f3c4">JPEG2000_T1_SIG_SW</a> | <a class="code" href="jpeg2000_8h.html#a8cfe5e4bd621ed1d2ce9e4ddce4428fd">JPEG2000_T1_SIG_SE</a> | <a class="code" href="jpeg2000_8h.html#a25aba8f9b5b2d6f57b2a76ab14953692">JPEG2000_T1_SGN_S</a>);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                <span class="keywordflow">if</span> (!dec) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                    <span class="keywordflow">if</span> (!(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>))) {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                        dec = <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="jpeg2000_8h.html#ac30b3b8230ca63d8efea4dee7a8b98f9">ff_jpeg2000_getsigctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; flags_mask,</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                                                                                             bandno));</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                    }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                <span class="keywordflow">if</span> (dec) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                    <span class="keywordtype">int</span> xorbit;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                    <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#a9d26daacfa6ecbcc305478a587b2ef23">ff_jpeg2000_getsgnctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y + 1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp; flags_mask,</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                                                        &amp;xorbit);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] = (<a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc,</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                                                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno) ^</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                                      xorbit)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                                     ? -<a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> : <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                    <a class="code" href="jpeg2000_8c.html#af1eb1f26885175f16aec8a23f02f5a86">ff_jpeg2000_set_significance</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, x, y, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &lt; 0);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                dec = 0;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y + 1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x + 1] &amp;= ~<a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">if</span> (seg_symbols) {</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &lt;&lt; 1) + <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &lt;&lt; 1) + <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &lt;&lt; 1) + <a class="code" href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> != 0xa)</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                   <span class="stringliteral">&quot;Segmentation symbol value incorrect\n&quot;</span>);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ac2cd58ad2b8ba0af65eaa4015724ec6f"> 1748</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ac2cd58ad2b8ba0af65eaa4015724ec6f">decode_cblk</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty,</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                       <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk,</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                       <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <span class="keywordtype">int</span> bandpos, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> roi_shift)</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;{</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordtype">int</span> passno = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>, pass_t = 2, bpno = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">nonzerobits</a> - 1 + roi_shift;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordtype">int</span> pass_cnt = 0;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordtype">int</span> vert_causal_ctx_csty_symbol = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a590f71743fdd522d33a8de9f6477e778">cblk_style</a> &amp; <a class="code" href="jpeg2000_8h.html#a05035e42c652b7efd7f47d4a4c7577b0">JPEG2000_CBLK_VSC</a>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordtype">int</span> term_cnt = 0;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordtype">int</span> coder_type;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> &lt;= 1024<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &amp;&amp; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &lt;= 1024<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>*<a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &lt;= 4096);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    memset(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data, 0, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride * <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> * <span class="keyword">sizeof</span>(*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data));</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="comment">/* If code-block contains no compressed data: nothing to do. */</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">if</span> (!cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>)</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    memset(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags, 0, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride * (<a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> + 2) * <span class="keyword">sizeof</span>(*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags));</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>] = 0xff;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a>+1] = 0xff;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <a class="code" href="mqc_8h.html#ae87e81ffd6d093a5dfd53f23f61638e4">ff_mqc_initdec</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>, 0, 1);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">while</span> (passno--) {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">if</span> (bpno &lt; 0 || bpno &gt; 29) {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;bpno became invalid\n&quot;</span>);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordflow">switch</span>(pass_t) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            <a class="code" href="jpeg2000dec_8c.html#a6203f68e1886ce38e24eddccb700966e">decode_sigpass</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, bpno + 1, bandpos,</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                           vert_causal_ctx_csty_symbol);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <a class="code" href="jpeg2000dec_8c.html#a36530a932b1d568a771f1e8760f4d62e">decode_refpass</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, bpno + 1, vert_causal_ctx_csty_symbol);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(!<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.raw);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <a class="code" href="jpeg2000dec_8c.html#a8760643118b0839c8e691b3b3595bfd6">decode_clnpass</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, bpno + 1, bandpos,</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                           codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a590f71743fdd522d33a8de9f6477e778">cblk_style</a> &amp; <a class="code" href="jpeg2000_8h.html#a7ef082bc477145c920c983e96d42bd40">JPEG2000_CBLK_SEGSYM</a>,</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                           vert_causal_ctx_csty_symbol);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a590f71743fdd522d33a8de9f6477e778">cblk_style</a> &amp; <a class="code" href="jpeg2000_8h.html#a3e96b8191de0f7105b2663ce48c4073c">JPEG2000_CBLK_RESET</a>) <span class="comment">// XXX no testcase for just this</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            <a class="code" href="mqc_8c.html#a3f15735b7c931d560947cb91b9d55f55">ff_mqc_init_contexts</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <span class="keywordflow">if</span> (passno &amp;&amp; (coder_type = <a class="code" href="jpeg2000_8h.html#aa2553cd5170e274912c9a2500871588b">needs_termination</a>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a590f71743fdd522d33a8de9f6477e778">cblk_style</a>, pass_cnt))) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="keywordflow">if</span> (term_cnt &gt;= cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a04c1a7215bd695553cf8cbaa3c62885c">nb_terminations</a>) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Missing needed termination \n&quot;</span>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">data_start</a>[term_cnt + 1] - 2 - <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.bp) &gt; 0) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Mid mismatch %&quot;</span><a class="code" href="libavutil_2internal_8h.html#a5a241f1b73b42f74b4122da23004dc6c">PTRDIFF_SPECIFIER</a><span class="stringliteral">&quot; in pass %d of %d\n&quot;</span>,</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">data_start</a>[term_cnt + 1] - 2 - <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.bp,</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                    pass_cnt, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            }</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            <a class="code" href="mqc_8h.html#ae87e81ffd6d093a5dfd53f23f61638e4">ff_mqc_initdec</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">data_start</a>[++term_cnt], coder_type == 2, 0);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        pass_t++;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <span class="keywordflow">if</span> (pass_t == 3) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            bpno--;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            pass_t = 0;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        pass_cnt ++;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a> - 2 &gt; <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.bp) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;End mismatch %&quot;</span><a class="code" href="libavutil_2internal_8h.html#a5a241f1b73b42f74b4122da23004dc6c">PTRDIFF_SPECIFIER</a><span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;               cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a> - 2 - <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.bp);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">length</a> &lt; <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.bp) {</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Synthetic End of Stream Marker Read.\n&quot;</span>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    }</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;}</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ab4fd2996e7661082e1cd3a40afb948b7"> 1830</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ab4fd2996e7661082e1cd3a40afb948b7">roi_shift_param</a>(<a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>,</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                                   <span class="keywordtype">int</span> quan_parameter)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;{</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> roi_shift;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    roi_shift = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;roi_shift;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = (quan_parameter &lt; 0)?-quan_parameter:quan_parameter;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &gt; (1 &lt;&lt; roi_shift))</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">return</span> (quan_parameter &lt; 0)?-(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &gt;&gt; roi_shift):(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &gt;&gt; roi_shift);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keywordflow">return</span> quan_parameter;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;}</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment">/* TODO: Verify dequantization for lossless case</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment"> * comp-&gt;data can be float or int</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="comment"> * band-&gt;stepsize can be float or int</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="comment"> * depending on the type of DWT transformation.</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="comment"> * see ISO/IEC 15444-1:2002 A.6.1 */</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="comment">/* Float dequantization of a codeblock.*/</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a4396c261b34acf32f8a014a794295a58"> 1850</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a4396c261b34acf32f8a014a794295a58">dequantization_float</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk,</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                 <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>,</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                                 <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;{</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][0];</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][0]); ++j) {</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        <span class="keywordtype">float</span> *datap = &amp;<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;f_data[(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][1] - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][0]) * (y + j) + x];</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="keywordtype">int</span> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data + j*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;            datap[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * band-&gt;<a class="code" href="struct_jpeg2000_band.html#ab89823d7892c4f1a7bc5827fe1443378">f_stepsize</a>;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;}</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160; </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">/* Integer dequantization of a codeblock.*/</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a990b1b832c77cb0cafdd40592709131c"> 1865</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a990b1b832c77cb0cafdd40592709131c">dequantization_int</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk,</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                               <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>,</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                               <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band)</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;{</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][0];</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][0]); ++j) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *datap = &amp;<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;i_data[(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][1] - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][0]) * (y + j) + x];</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        <span class="keywordtype">int</span> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data + j*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <span class="keywordflow">if</span> (band-&gt;<a class="code" href="struct_jpeg2000_band.html#aefd9656c5a626fbb4d00dd2a8240851d">i_stepsize</a> == 32768) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                datap[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] / 2;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            <span class="comment">// This should be VERY uncommon</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                datap[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * (int64_t)band-&gt;<a class="code" href="struct_jpeg2000_band.html#aefd9656c5a626fbb4d00dd2a8240851d">i_stepsize</a>) / 65536;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        }</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;}</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aa4f3192d6f5500befce1489f09b79b64"> 1885</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#aa4f3192d6f5500befce1489f09b79b64">dequantization_int_97</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk,</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                               <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>,</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                               <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band)</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;{</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][0];</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][0]); ++j) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *datap = &amp;<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;i_data[(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][1] - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][0]) * (y + j) + x];</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keywordtype">int</span> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data + j*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            datap[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * (int64_t)band-&gt;<a class="code" href="struct_jpeg2000_band.html#aefd9656c5a626fbb4d00dd2a8240851d">i_stepsize</a> + (1&lt;&lt;15)) &gt;&gt; 16;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;}</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a04cf6d4cdf7170370c87faa86708cfc0"> 1899</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a04cf6d4cdf7170370c87faa86708cfc0">mct_decode</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile)</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;{</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, csize = 1;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[3];</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160; </div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[0].<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> != tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a>) {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Transforms mismatch, MCT not supported\n&quot;</span>);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        }</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">if</span> (memcmp(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[0].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>, tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>, <span class="keyword">sizeof</span>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[0].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>))) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Coords mismatch, MCT not supported\n&quot;</span>);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    }</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[0].<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa471e53434a345cdb2f0e2b8742d46444">FF_DWT97</a>)</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_jpeg2000_component.html#a28028d058e011ae7d175ad6d877d0a6b">f_data</a>;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_jpeg2000_component.html#a01ecf3433d553fc0553dde9be008ffb0">i_data</a>;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        csize *= tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[0].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] - tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[0].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dsp.mct_decode[tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[0].<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a>](<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[0], <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[1], <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[2], csize);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;}</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a06d56cd79a54080bfb2bb52bd73240ed"> 1927</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a06d56cd79a54080bfb2bb52bd73240ed">roi_scale_cblk</a>(<a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk,</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                                  <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>,</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                                  <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;{</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][0];</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][0]); ++j) {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <span class="keywordtype">int</span> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data + j*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="jpeg2000dec_8c.html#ab4fd2996e7661082e1cd3a40afb948b7">roi_shift_param</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    }</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;}</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a988930618c9c6216d9c1b2403231a847"> 1940</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a988930618c9c6216d9c1b2403231a847">tile_codeblocks</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile)</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;{</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordtype">int</span> compno, reslevelno, bandno;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">/* Loop on tile components */</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a> + compno;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordtype">int</span> coded = 0;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160; </div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>.stride = (1&lt;&lt;codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a0be5aec9b3e298e82adcb981a389f86b">log2_cblk_width</a>) + 2;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="comment">/* Loop on resolution levels */</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a33496254624080ac51490a0b9e9b7409">nreslevels2decode</a>; reslevelno++) {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;            <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            <span class="comment">/* Loop on bands */</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;            <span class="keywordflow">for</span> (bandno = 0; bandno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                <span class="keywordtype">int</span> nb_precincts, precno;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                <span class="keywordtype">int</span> cblkno = 0, bandpos;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                bandpos = bandno + (reslevelno &gt; 0);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                <span class="keywordflow">if</span> (band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1] ||</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                    band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1])</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                nb_precincts = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                <span class="comment">/* Loop on precincts */</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                <span class="keywordflow">for</span> (precno = 0; precno &lt; nb_precincts; precno++) {</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                    <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160; </div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                    <span class="comment">/* Loop on codeblocks */</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                    <span class="keywordflow">for</span> (cblkno = 0;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                         cblkno &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a> * prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                         cblkno++) {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                        <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                        <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + cblkno;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#ac2cd58ad2b8ba0af65eaa4015724ec6f">decode_cblk</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, codsty, &amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, cblk,</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][0],</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][1] - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][0],</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                                    bandpos, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;roi_shift);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                            coded = 1;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                        x = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[0][0] - band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0];</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                        y = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">coord</a>[1][0] - band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0];</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;roi_shift)</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                            <a class="code" href="jpeg2000dec_8c.html#a06d56cd79a54080bfb2bb52bd73240ed">roi_scale_cblk</a>(cblk, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, &amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                        <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa471e53434a345cdb2f0e2b8742d46444">FF_DWT97</a>)</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                            <a class="code" href="jpeg2000dec_8c.html#a4396c261b34acf32f8a014a794295a58">dequantization_float</a>(x, y, cblk, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, &amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, band);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a>)</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                            <a class="code" href="jpeg2000dec_8c.html#aa4f3192d6f5500befce1489f09b79b64">dequantization_int_97</a>(x, y, cblk, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, &amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, band);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                            <a class="code" href="jpeg2000dec_8c.html#a990b1b832c77cb0cafdd40592709131c">dequantization_int</a>(x, y, cblk, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, &amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, band);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                   } <span class="comment">/* end cblk */</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                } <span class="comment">/*end prec */</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            } <span class="comment">/* end band */</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        } <span class="comment">/* end reslevel */</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160; </div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        <span class="comment">/* inverse DWT */</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> (coded)</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            <a class="code" href="jpeg2000dwt_8c.html#aba268bcc75ab90b53fd47d817bb4ccc0">ff_dwt_decode</a>(&amp;<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;dwt, codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa471e53434a345cdb2f0e2b8742d46444">FF_DWT97</a> ? (<span class="keywordtype">void</span>*)<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;f_data : (<span class="keywordtype">void</span>*)<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;i_data);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    } <span class="comment">/*end comp */</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;}</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a0b61c05181a92d2d2e4327044624460b"> 2011</a></span>&#160;<span class="preprocessor">#define WRITE_FRAME(D, PIXEL)                                                                     \</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="preprocessor">    static inline void write_frame_ ## D(Jpeg2000DecoderContext * s, Jpeg2000Tile * tile,         \</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="preprocessor">                                         AVFrame * picture, int precision)                        \</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="preprocessor">    {                                                                                             \</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="preprocessor">        const AVPixFmtDescriptor *pixdesc = av_pix_fmt_desc_get(s-&gt;avctx-&gt;pix_fmt);               \</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="preprocessor">        int planar    = !!(pixdesc-&gt;flags &amp; AV_PIX_FMT_FLAG_PLANAR);                              \</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="preprocessor">        int pixelsize = planar ? 1 : pixdesc-&gt;nb_components;                                      \</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="preprocessor">                                                                                                  \</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="preprocessor">        int compno;                                                                               \</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="preprocessor">        int x, y;                                                                                 \</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="preprocessor">                                                                                                  \</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="preprocessor">        for (compno = 0; compno &lt; s-&gt;ncomponents; compno++) {                                     \</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="preprocessor">            Jpeg2000Component *comp     = tile-&gt;comp + compno;                                    \</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="preprocessor">            Jpeg2000CodingStyle *codsty = tile-&gt;codsty + compno;                                  \</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="preprocessor">            PIXEL *line;                                                                          \</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="preprocessor">            float *datap     = comp-&gt;f_data;                                                      \</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="preprocessor">            int32_t *i_datap = comp-&gt;i_data;                                                      \</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="preprocessor">            int cbps         = s-&gt;cbps[compno];                                                   \</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;<span class="preprocessor">            int w            = tile-&gt;comp[compno].coord[0][1] -                                   \</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="preprocessor">                               ff_jpeg2000_ceildiv(s-&gt;image_offset_x, s-&gt;cdx[compno]);            \</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="preprocessor">            int h            = tile-&gt;comp[compno].coord[1][1] -                                   \</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="preprocessor">                               ff_jpeg2000_ceildiv(s-&gt;image_offset_y, s-&gt;cdy[compno]);            \</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="preprocessor">            int plane        = 0;                                                                 \</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="preprocessor">                                                                                                  \</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="preprocessor">            if (planar)                                                                           \</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="preprocessor">                plane = s-&gt;cdef[compno] ? s-&gt;cdef[compno]-1 : (s-&gt;ncomponents-1);                 \</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="preprocessor">                                                                                                  \</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="preprocessor">            y    = tile-&gt;comp[compno].coord[1][0] -                                               \</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="preprocessor">                   ff_jpeg2000_ceildiv(s-&gt;image_offset_y, s-&gt;cdy[compno]);                        \</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="preprocessor">            line = (PIXEL *)picture-&gt;data[plane] + y * (picture-&gt;linesize[plane] / sizeof(PIXEL));\</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="preprocessor">            for (; y &lt; h; y++) {                                                                  \</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="preprocessor">                PIXEL *dst;                                                                       \</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="preprocessor">                                                                                                  \</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="preprocessor">                x   = tile-&gt;comp[compno].coord[0][0] -                                            \</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="preprocessor">                      ff_jpeg2000_ceildiv(s-&gt;image_offset_x, s-&gt;cdx[compno]);                     \</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="preprocessor">                dst = line + x * pixelsize + compno*!planar;                                      \</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="preprocessor">                                                                                                  \</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="preprocessor">                if (codsty-&gt;transform == FF_DWT97) {                                              \</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="preprocessor">                    for (; x &lt; w; x++) {                                                          \</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="preprocessor">                        int val = lrintf(*datap) + (1 &lt;&lt; (cbps - 1));                             \</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="preprocessor">                        </span><span class="comment">/* DC level shift and clip see ISO 15444-1:2002 G.1.2 */</span><span class="preprocessor">                  \</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="preprocessor">                        val  = av_clip(val, 0, (1 &lt;&lt; cbps) - 1);                                  \</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="preprocessor">                        *dst = val &lt;&lt; (precision - cbps);                                         \</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="preprocessor">                        datap++;                                                                  \</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="preprocessor">                        dst += pixelsize;                                                         \</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="preprocessor">                    }                                                                             \</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="preprocessor">                } else {                                                                          \</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="preprocessor">                    for (; x &lt; w; x++) {                                                          \</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="preprocessor">                        int val = *i_datap + (1 &lt;&lt; (cbps - 1));                                   \</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="preprocessor">                        </span><span class="comment">/* DC level shift and clip see ISO 15444-1:2002 G.1.2 */</span><span class="preprocessor">                  \</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="preprocessor">                        val  = av_clip(val, 0, (1 &lt;&lt; cbps) - 1);                                  \</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="preprocessor">                        *dst = val &lt;&lt; (precision - cbps);                                         \</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="preprocessor">                        i_datap++;                                                                \</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="preprocessor">                        dst += pixelsize;                                                         \</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="preprocessor">                    }                                                                             \</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="preprocessor">                }                                                                                 \</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="preprocessor">                line += picture-&gt;linesize[plane] / sizeof(PIXEL);                                 \</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="preprocessor">            }                                                                                     \</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="preprocessor">        }                                                                                         \</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;<span class="preprocessor">                                                                                                  \</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160; </div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<a class="code" href="jpeg2000dec_8c.html#a0b61c05181a92d2d2e4327044624460b">WRITE_FRAME</a>(8, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>)</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;<a class="code" href="jpeg2000dec_8c.html#a0b61c05181a92d2d2e4327044624460b">WRITE_FRAME</a>(16, uint16_t)</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;<span class="preprocessor">#undef WRITE_FRAME</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a874909d55799e979bd8fa190b8fd7a6e"> 2078</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a874909d55799e979bd8fa190b8fd7a6e">jpeg2000_decode_tile</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>,</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                                <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;{</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *picture = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + jobnr;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordtype">int</span> x;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <a class="code" href="jpeg2000dec_8c.html#a988930618c9c6216d9c1b2403231a847">tile_codeblocks</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="comment">/* inverse MCT transformation */</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">codsty</a>[0].<a class="code" href="struct_jpeg2000_coding_style.html#aec14e77a3a096fb5e9805354ed368e11">mct</a>)</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#a04cf6d4cdf7170370c87faa86708cfc0">mct_decode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; x++) {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[x] &lt; 0) {</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; x++) {</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[x] = x + 1;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            }</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents &amp; 1) == 0)</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents-1] = 0;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        }</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    }</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision &lt;= 8) {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        write_frame_8(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, picture, 8);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <span class="keywordtype">int</span> precision = picture-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a> == <a class="code" href="pixfmt_8h.html#a57d4742788f6c0860dc4d1f20b528558">AV_PIX_FMT_XYZ12</a> ||</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                        picture-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a> == <a class="code" href="pixfmt_8h.html#a8aa3ddf224cba014fb9eac404498046a">AV_PIX_FMT_RGB48</a> ||</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                        picture-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a> == <a class="code" href="pixfmt_8h.html#a79f0cce2e796a9e51f75fea1695c9160">AV_PIX_FMT_RGBA64</a> ||</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                        picture-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a> == <a class="code" href="pixfmt_8h.html#ace4d36d981b86af5f0dc2d6429701684">AV_PIX_FMT_GRAY16</a> ? 16 : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;precision;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160; </div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        write_frame_16(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, picture, precision);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    }</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a6a830b30c63d53432d0856dd09483671"> 2117</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a6a830b30c63d53432d0856dd09483671">jpeg2000_dec_cleanup</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keywordtype">int</span> tileno, compno;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keywordflow">for</span> (tileno = 0; tileno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; tileno++) {</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp) {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp   + compno;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].codsty + compno;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                <a class="code" href="jpeg2000_8c.html#ae3b0dbac1ef3c2fa0c945b6e3fcdb2d1">ff_jpeg2000_cleanup</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, codsty);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;            }</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp);</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].packed_headers);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].packed_headers_size = 0;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_size = 0;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream));</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty));</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty));</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;properties, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;properties));</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;poc  , 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;poc));</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles = 0;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents = 0;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;}</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ad1571dab998416e94cf254e482f3c1a7"> 2145</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#ad1571dab998416e94cf254e482f3c1a7">jpeg2000_read_main_headers</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;{</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a> *qntsty  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="struct_jpeg2000_p_o_c.html">Jpeg2000POC</a>         *poc    = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;poc;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *properties         = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;properties;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        uint16_t marker;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        <span class="keywordtype">int</span> oldpos;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160; </div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 2) {</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Missing EOC\n&quot;</span>);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160; </div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        marker = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        oldpos = <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        <span class="keywordflow">if</span> (marker &gt;= 0xFF30 &amp;&amp; marker &lt;= 0xFF3F)</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="keywordflow">if</span> (marker == <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ab72f9ad08ebf35eca0c1d472e660cc3f">JPEG2000_SOD</a>) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            <a class="code" href="struct_jpeg2000_tile_part.html">Jpeg2000TilePart</a> *tp;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160; </div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile) {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Missing SIZ\n&quot;</span>);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno &lt; 0) {</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Missing SOT\n&quot;</span>);</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            }</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;            tp = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">tile_part</a> + tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#adcb355a511d4200d7f87d760c5cfc967">tp_idx</a>;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            <span class="keywordflow">if</span> (tp-&gt;<a class="code" href="struct_jpeg2000_tile_part.html#a9506ffdcae9356372f99a73f9287c2de">tp_end</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g.buffer) {</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid tpend\n&quot;</span>);</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            }</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_ppm) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                uint32_t tp_header_size = bytestream2_get_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream) &lt; tp_header_size)</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;tp-&gt;<a class="code" href="struct_jpeg2000_tile_part.html#ac8f2c57f18cb03209d504ca1edde5eee">header_tpg</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream.buffer, tp_header_size);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream, tp_header_size);</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            }</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;            <span class="keywordflow">if</span> (tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">has_ppt</a> &amp;&amp; tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#adcb355a511d4200d7f87d760c5cfc967">tp_idx</a> == 0) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">packed_headers_stream</a>, tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aca026bbe426e673a65a4dd073d02400c">packed_headers</a>, tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#adef906892c6cee7cea0d031b69f3b9c2">packed_headers_size</a>);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;tp-&gt;<a class="code" href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">tpg</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g.buffer, tp-&gt;<a class="code" href="struct_jpeg2000_tile_part.html#a9506ffdcae9356372f99a73f9287c2de">tp_end</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g.buffer);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, tp-&gt;<a class="code" href="struct_jpeg2000_tile_part.html#a9506ffdcae9356372f99a73f9287c2de">tp_end</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g.buffer);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160; </div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <span class="keywordflow">if</span> (marker == <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aec9cc218f9afb932715ec438f6d3ae41">JPEG2000_EOC</a>)</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160; </div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = bytestream2_get_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 2 || <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> - 2) {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;strict_std_compliance &gt;= <a class="code" href="avcodec_8h.html#a5c1eb24858b3a73d6bbe9585d30e971a">FF_COMPLIANCE_STRICT</a>) {</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid len %d left=%d\n&quot;</span>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g));</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;            }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Missing EOC Marker.\n&quot;</span>);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160; </div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        <span class="keywordflow">switch</span> (marker) {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae0e9d52969be1a9148de11a2ee7845b0">JPEG2000_SIZ</a>:</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents) {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Duplicate SIZ\n&quot;</span>);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;            }</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a5f2850cae25630717ed87b4397103d1a">get_siz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile)</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles = 0;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac235b35d5881008b14f987a57caae7ff">JPEG2000_COC</a>:</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#afe0a4f5f6683249435f53f151c6dfab9">get_coc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, codsty, properties);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483acea94019407aa3c5250d3c80c140b9f1">JPEG2000_COD</a>:</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#ab69afcd8b24864516f004ba1baf1594b">get_cod</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, codsty, properties);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ad93c49da264bd6143847c8062960f4a7">JPEG2000_RGN</a>:</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aea1603eae0c34d8075f8c1f1fae3e0e9">get_rgn</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aae45ee2e9d21be0134ea0d7fe22c3651">JPEG2000_QCC</a>:</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a64b1ee9b1d03bdde72052047a16c3017">get_qcc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, qntsty, properties);</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a57e51bf7717a35f5ce71a25e6e261afb">JPEG2000_QCD</a>:</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#afe44313d1d4442ea118e60d00a76e0bd">get_qcd</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, qntsty, properties);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae309ad811908a35a14b27fc8db6c96f6">JPEG2000_POC</a>:</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a722e065b55b66adf95a91798371d4234">get_poc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, poc);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a174e0d76ffc93da48434afbb118e9dae">JPEG2000_SOT</a>:</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;in_tile_headers) {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;in_tile_headers = 1;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_ppm) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                    <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_stream, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;packed_headers_size);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                }</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            <span class="keywordflow">if</span> (!(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#aba6e16da60757358cfd5060de9788f6c">get_sot</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>))) {</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno &gt;= 0);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                codsty = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno].codsty;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                qntsty = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno].qntsty;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                poc    = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno].poc;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                properties = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno].properties;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            }</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a7d30523649a9720fca68a30d4aae6843">JPEG2000_PLM</a>:</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;            <span class="comment">// the PLM marker is ignored</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a21d3ea98095bfe788a20166ec6aeb49f">JPEG2000_COM</a>:</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;            <span class="comment">// the comment is ignored</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> - 2);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aad4330841def8ad14a3b75370634edaa">JPEG2000_CRG</a>:</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#ae05d60db02eec57f83312f027ac759b9">read_crg</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ad062fcf69dc475c95e0b6f09aeb18eb1">JPEG2000_TLM</a>:</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;            <span class="comment">// Tile-part lengths</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#a2813dd6f432e46143146ee230b8cab97">get_tlm</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae59594b3861394f30f951d7866f4ed85">JPEG2000_PLT</a>:</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            <span class="comment">// Packet length, tile-part header</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#afdc0f930b056a75cc93eda53bc0c0851">get_plt</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a45ad75cc2b13e9c9061bf6e26186a95b">JPEG2000_PPM</a>:</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;            <span class="comment">// Packed headers, main header</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;in_tile_headers) {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;PPM Marker can only be in Main header\n&quot;</span>);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;            }</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#ae3621d95466b02d1e5a30631b577f9b3">get_ppm</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a5e2846aa43ab1e36dd33b6c09d46908a">JPEG2000_PPT</a>:</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;            <span class="comment">// Packed headers, tile-part header</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_ppm) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                       <span class="stringliteral">&quot;Cannot have both PPT and PPM marker.\n&quot;</span>);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            }</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160; </div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#ae00953747a61fc7f3222e76e0783ba65">get_ppt</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                   <span class="stringliteral">&quot;unsupported marker 0x%.4&quot;</span>PRIX16<span class="stringliteral">&quot; at pos 0x%X\n&quot;</span>,</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                   marker, <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) - 4);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> - 2);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        }</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) - oldpos != <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> || <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;                   <span class="stringliteral">&quot;error during processing marker segment %.4&quot;</span>PRIx16<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;                   marker);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> ? <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> : -1;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        }</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    }</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;}</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160; </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="comment">/* Read bit stream packets --&gt; T2 operation. */</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#af00d6ce82ea8af29ab93da39a444aadd"> 2311</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#af00d6ce82ea8af29ab93da39a444aadd">jpeg2000_read_bitstream_packets</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;{</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordtype">int</span> tileno;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160; </div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">for</span> (tileno = 0; tileno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; tileno++) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + tileno;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160; </div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#ab22f0a3a1be35ac8ef82aaca827ba213">init_tile</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tileno)) &lt; 0)</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160; </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#adf8e4fe492588b2c45475da844d2dbce">jpeg2000_decode_packets</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile)) &lt; 0)</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    }</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;}</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160; </div>
<div class="line"><a name="l02329"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#acd41c1fa610e10aec8d438d95ea4a481"> 2329</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#acd41c1fa610e10aec8d438d95ea4a481">jp2_find_codestream</a>(<a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;{</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    uint32_t atom_size, atom, atom_end;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <span class="keywordtype">int</span> search_range = 10;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160; </div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <span class="keywordflow">while</span> (search_range</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;           &amp;&amp;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;           <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;= 8) {</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        atom_size = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;        atom      = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="keywordflow">if</span> (atom_size == 1) {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;            <span class="keywordflow">if</span> (bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g)) {</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Huge atom&quot;</span>);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;            }</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            atom_size = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            atom_end  = <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) + atom_size - 16;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            atom_end  = <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) + atom_size -  8;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;        }</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160; </div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        <span class="keywordflow">if</span> (atom == <a class="code" href="jpeg2000dec_8c.html#ab76763daa7a398a65678dd60c14964d9">JP2_CODESTREAM</a>)</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160; </div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; atom_size || atom_end &lt; atom_size)</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        <span class="keywordflow">if</span> (atom == <a class="code" href="jpeg2000dec_8c.html#a140f0c7cf4c8967cedf274ef7aefddc3">JP2_HEADER</a> &amp;&amp;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                   atom_size &gt;= 16) {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;            uint32_t atom2_size, atom2, atom2_end;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                atom2_size = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                atom2      = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                atom2_end  = <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) + atom2_size - 8;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                <span class="keywordflow">if</span> (atom2_size &lt; 8 || atom2_end &gt; atom_end || atom2_end &lt; atom2_size)</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                atom2_size -= 8;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                <span class="keywordflow">if</span> (atom2 == <a class="code" href="jpeg2000dec_8c.html#ab76763daa7a398a65678dd60c14964d9">JP2_CODESTREAM</a>) {</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (atom2 == <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;c&#39;</span>,<span class="charliteral">&#39;o&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;r&#39;</span>) &amp;&amp; atom2_size &gt;= 7) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                    <span class="keywordtype">int</span> method = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                    <a class="code" href="bytestream_8h.html#a65029fd43c7eaa8ce33141e9446471b5">bytestream2_skipu</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 2);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                    <span class="keywordflow">if</span> (method == 1) {</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;colour_space = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                    }</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (atom2 == <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;p&#39;</span>,<span class="charliteral">&#39;c&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;r&#39;</span>) &amp;&amp; atom2_size &gt;= 6) {</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, colour_count, colour_channels, colour_depth[3];</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                    colour_count = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;                    colour_channels = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;                    <span class="comment">// FIXME: Do not ignore channel_sign</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                    colour_depth[0] = (bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &amp; 0x7f) + 1;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;                    colour_depth[1] = (bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &amp; 0x7f) + 1;</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;                    colour_depth[2] = (bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &amp; 0x7f) + 1;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;                    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = (colour_depth[0] + 7 &gt;&gt; 3) * colour_count +</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;                           (colour_depth[1] + 7 &gt;&gt; 3) * colour_count +</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;                           (colour_depth[2] + 7 &gt;&gt; 3) * colour_count;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;                    <span class="keywordflow">if</span> (colour_count &gt; <a class="code" href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a> ||</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;                        colour_channels != 3 ||</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;                        colour_depth[0] &gt; 16 ||</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;                        colour_depth[1] &gt; 16 ||</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                        colour_depth[2] &gt; 16 ||</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                        atom2_size &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Unknown palette&quot;</span>);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                        <a class="code" href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, atom2_end, SEEK_SET);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;                    }</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pal8 = 1;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; colour_count; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                        uint32_t <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>, <a class="code" href="vf__curves_8c.html#a1b5e77b92dea40e646b2e7e196e0b322">g</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;                        <span class="keywordflow">if</span> (colour_depth[0] &lt;= 8) {</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;                            <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt;&lt; 8 - colour_depth[0];</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;                            <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> |= <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> &gt;&gt; colour_depth[0];</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                            <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;&gt; colour_depth[0] - 8;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                        }</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;                        <span class="keywordflow">if</span> (colour_depth[1] &lt;= 8) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;                            <a class="code" href="vf__curves_8c.html#a1b5e77b92dea40e646b2e7e196e0b322">g</a> = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt;&lt; 8 - colour_depth[1];</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                            <a class="code" href="vf__curves_8c.html#a1b5e77b92dea40e646b2e7e196e0b322">g</a> |= <a class="code" href="vf__curves_8c.html#a1b5e77b92dea40e646b2e7e196e0b322">g</a> &gt;&gt; colour_depth[1];</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;                            <a class="code" href="vf__curves_8c.html#a1b5e77b92dea40e646b2e7e196e0b322">g</a> = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;&gt; colour_depth[1] - 8;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;                        }</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;                        <span class="keywordflow">if</span> (colour_depth[2] &lt;= 8) {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt;&lt; 8 - colour_depth[2];</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> |= <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &gt;&gt; colour_depth[2];</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;&gt; colour_depth[2] - 8;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                        }</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;palette[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0xff<a class="code" href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a> &lt;&lt; 24 | <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> &lt;&lt; 16 | <a class="code" href="vf__curves_8c.html#a1b5e77b92dea40e646b2e7e196e0b322">g</a> &lt;&lt; 8 | <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                    }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (atom2 == <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;c&#39;</span>,<span class="charliteral">&#39;d&#39;</span>,<span class="charliteral">&#39;e&#39;</span>,<span class="charliteral">&#39;f&#39;</span>) &amp;&amp; atom2_size &gt;= 2) {</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                    <span class="keywordtype">int</span> n = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;                    <span class="keywordflow">for</span> (; n&gt;0; n--) {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                        <span class="keywordtype">int</span> cn   = bytestream2_get_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a> typ  = bytestream2_get_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                        <span class="keywordtype">int</span> asoc = bytestream2_get_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;                        <span class="keywordflow">if</span> (cn &lt; 4 &amp;&amp; asoc &lt; 4)</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef[cn] = asoc;</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                    }</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (atom2 == <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;r&#39;</span>,<span class="charliteral">&#39;e&#39;</span>,<span class="charliteral">&#39;s&#39;</span>,<span class="charliteral">&#39; &#39;</span>) &amp;&amp; atom2_size &gt;= 18) {</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                    int64_t vnum, vden, hnum, hden, vexp, hexp;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;                    uint32_t resx;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                    <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 4);</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;                    resx = bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                    <span class="keywordflow">if</span> (resx != <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;r&#39;</span>,<span class="charliteral">&#39;e&#39;</span>,<span class="charliteral">&#39;s&#39;</span>,<span class="charliteral">&#39;c&#39;</span>) &amp;&amp; resx != <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;r&#39;</span>,<span class="charliteral">&#39;e&#39;</span>,<span class="charliteral">&#39;s&#39;</span>,<span class="charliteral">&#39;d&#39;</span>)) {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                        <a class="code" href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, atom2_end, SEEK_SET);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                    }</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                    vnum = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                    vden = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                    hnum = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                    hden = bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;                    vexp = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                    hexp = bytestream2_get_byteu(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                    <span class="keywordflow">if</span> (!vnum || !vden || !hnum || !hden) {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                        <a class="code" href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, atom2_end, SEEK_SET);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;RES box invalid\n&quot;</span>);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;                    }</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                    <span class="keywordflow">if</span> (vexp &gt; hexp) {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                        vexp -= hexp;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                        hexp = 0;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                        hexp -= vexp;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                        vexp = 0;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                    }</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                    <span class="keywordflow">if</span> (   INT64_MAX / (hnum * vden) &gt; pow(10, hexp)</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                        &amp;&amp; INT64_MAX / (vnum * hden) &gt; pow(10, vexp))</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                        <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sar.den, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sar.num,</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                                  hnum * vden * pow(10, hexp),</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                                  vnum * hden * pow(10, vexp),</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                                  INT32_MAX);</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                }</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                <a class="code" href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, atom2_end, SEEK_SET);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;            } <span class="keywordflow">while</span> (atom_end - atom2_end &gt;= 8);</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            search_range--;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        }</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        <a class="code" href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, atom_end, SEEK_SET);</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    }</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160; </div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;}</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160; </div>
<div class="line"><a name="l02472"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a6cae63678bd13356f2840b1d6972badc"> 2472</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="jpeg2000dec_8c.html#a6cae63678bd13356f2840b1d6972badc">jpeg2000_init_static_data</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;{</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <a class="code" href="jpeg2000_8c.html#a7ab89f239c6115fbf3eec72b5dbcc827">ff_jpeg2000_init_tier1_luts</a>();</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <a class="code" href="mqc_8c.html#a1eb65714543ab60140e7f7f2ec9a6dff">ff_mqc_init_context_tables</a>();</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;}</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160; </div>
<div class="line"><a name="l02478"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aa130d2e2dc73a74965cf6538f9a8552c"> 2478</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#aa130d2e2dc73a74965cf6538f9a8552c">jpeg2000_decode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;{</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keyword">static</span> <a class="code" href="libavutil_2thread_8h.html#a1d348e4becc9580dfa760add5c9d1139">AVOnce</a> init_static_once = <a class="code" href="libavutil_2thread_8h.html#acfec46d8ab71dae8e901ee384378df32">AV_ONCE_INIT</a>;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <a class="code" href="libavutil_2thread_8h.html#a4501e029388ab4d5750dc9875a5a2fd5">ff_thread_once</a>(&amp;init_static_once, <a class="code" href="jpeg2000dec_8c.html#a6cae63678bd13356f2840b1d6972badc">jpeg2000_init_static_data</a>);</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <a class="code" href="libavcodec_2jpeg2000dsp_8c.html#a60d8821f25a7b61e44ccd019ae2f9169">ff_jpeg2000dsp_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dsp);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160; </div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;}</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160; </div>
<div class="line"><a name="l02489"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a74d0c52ab34e790d526328c7bd1a2c97"> 2489</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="jpeg2000dec_8c.html#a74d0c52ab34e790d526328c7bd1a2c97">jpeg2000_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>,</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                                 <span class="keywordtype">int</span> *got_frame, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;{</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <a class="code" href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <a class="code" href="struct_thread_frame.html">ThreadFrame</a> <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> = { .f = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> };</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *picture = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx     = avctx;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curtileno = -1;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef, -1, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cdef));</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160; </div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &lt; 2) {</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    }</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160; </div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">// check if the image is in jp2 format</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;= 12 &amp;&amp;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;       (bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == 12) &amp;&amp;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;       (bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == <a class="code" href="jpeg2000dec_8c.html#a17c50c33fb1086a65e71471d19a67184">JP2_SIG_TYPE</a>) &amp;&amp;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;       (bytestream2_get_be32u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) == <a class="code" href="jpeg2000dec_8c.html#ae38441bc74c37fcc6c6ff2a9f984fb9e">JP2_SIG_VALUE</a>)) {</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="jpeg2000dec_8c.html#acd41c1fa610e10aec8d438d95ea4a481">jp2_find_codestream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) {</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                   <span class="stringliteral">&quot;Could not find Jpeg2000 codestream atom.\n&quot;</span>);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;        }</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        <a class="code" href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 0, SEEK_SET);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    }</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) &gt;= 3 &amp;&amp; bytestream2_peek_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) != <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483af5335776e1fe0016aea0ce5de4b6c4ce">JPEG2000_SOC</a>)</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;        <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g, 1);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160; </div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordflow">if</span> (bytestream2_get_be16u(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g) != <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483af5335776e1fe0016aea0ce5de4b6c4ce">JPEG2000_SOC</a>) {</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;SOC marker not present\n&quot;</span>);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    }</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#ad1571dab998416e94cf254e482f3c1a7">jpeg2000_read_main_headers</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160; </div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="comment">/* get picture buffer */</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="multithreading_8txt.html#ad20d53520fe26af28cbae5338a670db5">ff_thread_get_buffer</a>(avctx, &amp;<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    picture-&gt;<a class="code" href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    picture-&gt;<a class="code" href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">key_frame</a> = 1;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160; </div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dec_8c.html#af00d6ce82ea8af29ab93da39a444aadd">jpeg2000_read_bitstream_packets</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">execute2</a>(avctx, <a class="code" href="jpeg2000dec_8c.html#a874909d55799e979bd8fa190b8fd7a6e">jpeg2000_decode_tile</a>, picture, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160; </div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <a class="code" href="jpeg2000dec_8c.html#a6a830b30c63d53432d0856dd09483671">jpeg2000_dec_cleanup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160; </div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    *got_frame = 1;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160; </div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>)</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        memcpy(picture-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;palette, 256 * <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sar.num &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sar.den)</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sar;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sar.num = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sar.den = 0;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160; </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160; </div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <a class="code" href="jpeg2000dec_8c.html#a6a830b30c63d53432d0856dd09483671">jpeg2000_dec_cleanup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;}</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160; </div>
<div class="line"><a name="l02561"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 2561</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(Jpeg2000DecoderContext, x)</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aa786055ad8b70c06fcd3fb7c848bc390"> 2562</a></span>&#160;<span class="preprocessor">#define VD AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_DECODING_PARAM</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160; </div>
<div class="line"><a name="l02564"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#a384ff94b5139f441c282c9b4c7b985e6"> 2564</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="jpeg2000dec_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    { <span class="stringliteral">&quot;lowres&quot;</span>,  <span class="stringliteral">&quot;Lower the decoding resolution by a power of two&quot;</span>,</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        <a class="code" href="jpeg2000dec_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reduction_factor), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 0 }, 0, <a class="code" href="jpeg2000_8h.html#a1336424842b4df2f798c256739e16dec">JPEG2000_MAX_RESLEVELS</a> - 1, <a class="code" href="jpeg2000dec_8c.html#aa786055ad8b70c06fcd3fb7c848bc390">VD</a> },</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;};</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160; </div>
<div class="line"><a name="l02570"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#aa0fe2c518e1da3ff176b3be3952270cf"> 2570</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="jpeg2000dec_8c.html#aa0fe2c518e1da3ff176b3be3952270cf">jpeg2000_class</a> = {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;jpeg2000&quot;</span>,</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    .option     = <a class="code" href="jpeg2000dec_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;};</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160; </div>
<div class="line"><a name="l02577"></a><span class="lineno"><a class="line" href="jpeg2000dec_8c.html#af244be461a53094efcd9ee2cd011d985"> 2577</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="jpeg2000dec_8c.html#af244be461a53094efcd9ee2cd011d985">ff_jpeg2000_decoder</a> = {</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>             = <span class="stringliteral">&quot;jpeg2000&quot;</span>,</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    .long_name        = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;JPEG 2000&quot;</span>),</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    .type             = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    .id               = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0">AV_CODEC_ID_JPEG2000</a>,</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    .capabilities     = <a class="code" href="group__lavc__core.html#ga7c4f386d1d6df0214eb35f2be1c82779">AV_CODEC_CAP_SLICE_THREADS</a> | <a class="code" href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a> | <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    .priv_data_size   = <span class="keyword">sizeof</span>(<a class="code" href="jpeg2000dec_8c.html#a873cd470cac232aa257bf8c1bc9eaaa4">Jpeg2000DecoderContext</a>),</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>             = <a class="code" href="jpeg2000dec_8c.html#aa130d2e2dc73a74965cf6538f9a8552c">jpeg2000_decode_init</a>,</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>           = <a class="code" href="jpeg2000dec_8c.html#a74d0c52ab34e790d526328c7bd1a2c97">jpeg2000_decode_frame</a>,</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    .priv_class       = &amp;<a class="code" href="jpeg2000dec_8c.html#aa0fe2c518e1da3ff176b3be3952270cf">jpeg2000_class</a>,</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    .max_lowres       = 5,</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    .<a class="code" href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a>         = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#a38d320b526d55c12d4e3b96f44aff039">ff_jpeg2000_profiles</a>)</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_jpeg2000_tile_html_a5d61136a60a945030a4893ffd2a28774"><div class="ttname"><a href="struct_jpeg2000_tile.html#a5d61136a60a945030a4893ffd2a28774">Jpeg2000Tile::poc</a></div><div class="ttdeci">Jpeg2000POC poc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00085">jpeg2000dec.c:85</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_af9920fc3fbfa347b8943ae461b50d18b"><div class="ttname"><a href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">AVFrame::pict_type</a></div><div class="ttdeci">enum AVPictureType pict_type</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:391</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html">Jpeg2000TgtNode</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00128">jpeg2000.h:128</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_ae65ec0eca0bdf1827f8d4fd70660edb0"><div class="ttname"><a href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">Jpeg2000Tile::comp</a></div><div class="ttdeci">Jpeg2000Component * comp</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00104">j2kenc.c:104</a></div></div>
<div class="ttc" id="aregdef_8h_html_ab2c359e6c325062d33a4152752d8a820"><div class="ttname"><a href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a></div><div class="ttdeci">#define td</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00070">regdef.h:70</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="jpeg2000dec_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02564">jpeg2000dec.c:2564</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_a62c5148290cd2cb8a9537fe6e1bae950"><div class="ttname"><a href="struct_jpeg2000_tile.html#a62c5148290cd2cb8a9537fe6e1bae950">Jpeg2000Tile::qntsty</a></div><div class="ttdeci">Jpeg2000QuantStyle qntsty[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00084">jpeg2000dec.c:84</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a7c40bf7bb5da846e0897abb5f79807ec"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">Jpeg2000ResLevel::band</a></div><div class="ttdeci">Jpeg2000Band * band</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00215">jpeg2000.h:215</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_entry_html_a59b5ed973ed91487d0ade7cc6fc87425"><div class="ttname"><a href="struct_jpeg2000_p_o_c_entry.html#a59b5ed973ed91487d0ade7cc6fc87425">Jpeg2000POCEntry::Ppoc</a></div><div class="ttdeci">uint8_t Ppoc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00062">jpeg2000dec.c:62</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a44d0d9d5a83beae5fa01253a2fe063c7"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">Jpeg2000ResLevel::nbands</a></div><div class="ttdeci">uint8_t nbands</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00211">jpeg2000.h:211</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_part_html_a9506ffdcae9356372f99a73f9287c2de"><div class="ttname"><a href="struct_jpeg2000_tile_part.html#a9506ffdcae9356372f99a73f9287c2de">Jpeg2000TilePart::tp_end</a></div><div class="ttdeci">const uint8_t * tp_end</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00073">jpeg2000dec.c:73</a></div></div>
<div class="ttc" id="ajpeg2000dwt_8c_html_aba268bcc75ab90b53fd47d817bb4ccc0"><div class="ttname"><a href="jpeg2000dwt_8c.html#aba268bcc75ab90b53fd47d817bb4ccc0">ff_dwt_decode</a></div><div class="ttdeci">int ff_dwt_decode(DWTContext *s, void *t)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dwt_8c_source.html#l00599">jpeg2000dwt.c:599</a></div></div>
<div class="ttc" id="avf__curves_8c_html_a33ac7b8ce37a3a60855883424fcf8b62"><div class="ttname"><a href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a></div><div class="ttdeci">const char * r</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00114">vf_curves.c:114</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ae309ad811908a35a14b27fc8db6c96f6"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae309ad811908a35a14b27fc8db6c96f6">JPEG2000_POC</a></div><div class="ttdeci">@ JPEG2000_POC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00049">jpeg2000.h:49</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a6e90af99977da17e738cbbeeed5748f4"><div class="ttname"><a href="jpeg2000dec_8c.html#a6e90af99977da17e738cbbeeed5748f4">HAD_COC</a></div><div class="ttdeci">#define HAD_COC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00051">jpeg2000dec.c:51</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5ad80118865048313a77102b453cd2df74"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ad80118865048313a77102b453cd2df74">AV_PIX_FMT_YA8</a></div><div class="ttdeci">@ AV_PIX_FMT_YA8</div><div class="ttdoc">8 bits gray, 8 bits alpha</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00143">pixfmt.h:143</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_aefd9656c5a626fbb4d00dd2a8240851d"><div class="ttname"><a href="struct_jpeg2000_band.html#aefd9656c5a626fbb4d00dd2a8240851d">Jpeg2000Band::i_stepsize</a></div><div class="ttdeci">int i_stepsize</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00205">jpeg2000.h:205</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a140f0c7cf4c8967cedf274ef7aefddc3"><div class="ttname"><a href="jpeg2000dec_8c.html#a140f0c7cf4c8967cedf274ef7aefddc3">JP2_HEADER</a></div><div class="ttdeci">#define JP2_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00049">jpeg2000dec.c:49</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html"><div class="ttname"><a href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00135">jpeg2000.h:135</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483aec9cc218f9afb932715ec438f6d3ae41"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aec9cc218f9afb932715ec438f6d3ae41">JPEG2000_EOC</a></div><div class="ttdeci">@ JPEG2000_EOC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00058">jpeg2000.h:58</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_entry_html_aa01fac862c04469da910b5355cda2c84"><div class="ttname"><a href="struct_jpeg2000_p_o_c_entry.html#aa01fac862c04469da910b5355cda2c84">Jpeg2000POCEntry::LYEpoc</a></div><div class="ttdeci">uint16_t LYEpoc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00057">jpeg2000dec.c:57</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_part_html_a5466fb79a0ee23326bc7564ef679b003"><div class="ttname"><a href="struct_jpeg2000_tile_part.html#a5466fb79a0ee23326bc7564ef679b003">Jpeg2000TilePart::tile_index</a></div><div class="ttdeci">uint8_t tile_index</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00072">jpeg2000dec.c:72</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_aae7ea999f34710cd5fb876ca27dc2775"><div class="ttname"><a href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">Jpeg2000Band::coord</a></div><div class="ttdeci">int coord[2][2]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00203">jpeg2000.h:203</a></div></div>
<div class="ttc" id="aeamad_8c_html_a1bd38494185c28133622c86bcc95d650"><div class="ttname"><a href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a></div><div class="ttdeci">static void comp(unsigned char *dst, ptrdiff_t dst_stride, unsigned char *src, ptrdiff_t src_stride, int add)</div><div class="ttdef"><b>Definition:</b> <a href="eamad_8c_source.html#l00083">eamad.c:83</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a1336424842b4df2f798c256739e16dec"><div class="ttname"><a href="jpeg2000_8h.html#a1336424842b4df2f798c256739e16dec">JPEG2000_MAX_RESLEVELS</a></div><div class="ttdeci">#define JPEG2000_MAX_RESLEVELS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00071">jpeg2000.h:71</a></div></div>
<div class="ttc" id="acbs__h2645_8c_html_a134a0c87e88a327dcbeee6de7b0d6282"><div class="ttname"><a href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a></div><div class="ttdeci">#define u(width, name, range_min, range_max)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h2645_8c_source.html#l00262">cbs_h2645.c:262</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_a1b4cffe722d3a15e350c73a3263fff2f"><div class="ttname"><a href="jpeg2000_8c.html#a1b4cffe722d3a15e350c73a3263fff2f">ff_jpeg2000_init_component</a></div><div class="ttdeci">int ff_jpeg2000_init_component(Jpeg2000Component *comp, Jpeg2000CodingStyle *codsty, Jpeg2000QuantStyle *qntsty, int cbps, int dx, int dy, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00459">jpeg2000.c:459</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html"><div class="ttname"><a href="libavutil_2thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1"><div class="ttname"><a href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1">JPEG2000_QSTY_NONE</a></div><div class="ttdeci">@ JPEG2000_QSTY_NONE</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00065">jpeg2000.h:65</a></div></div>
<div class="ttc" id="apixdesc_8c_html_afe0c3e8aef5173de28bbdaea4298f5f0"><div class="ttname"><a href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a></div><div class="ttdeci">const AVPixFmtDescriptor * av_pix_fmt_desc_get(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02573">pixdesc.c:2573</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_ab89823d7892c4f1a7bc5827fe1443378"><div class="ttname"><a href="struct_jpeg2000_band.html#ab89823d7892c4f1a7bc5827fe1443378">Jpeg2000Band::f_stepsize</a></div><div class="ttdeci">float f_stepsize</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00206">jpeg2000.h:206</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_ac8addb6bc365942b943288c31cf06bd9"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#ac8addb6bc365942b943288c31cf06bd9">Jpeg2000DecoderContext::sgnd</a></div><div class="ttdeci">uint8_t sgnd[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00104">jpeg2000dec.c:104</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a57e51bf7717a35f5ce71a25e6e261afb"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a57e51bf7717a35f5ce71a25e6e261afb">JPEG2000_QCD</a></div><div class="ttdeci">@ JPEG2000_QCD</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00046">jpeg2000.h:46</a></div></div>
<div class="ttc" id="abytestream_8h_html_a65029fd43c7eaa8ce33141e9446471b5"><div class="ttname"><a href="bytestream_8h.html#a65029fd43c7eaa8ce33141e9446471b5">bytestream2_skipu</a></div><div class="ttdeci">static av_always_inline void bytestream2_skipu(GetByteContext *g, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00174">bytestream.h:174</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_aaf83e352f4362d7ef10a1e5c6625517f"><div class="ttname"><a href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">Jpeg2000ResLevel::num_precincts_x</a></div><div class="ttdeci">int num_precincts_x</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00213">jpeg2000.h:213</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html_ae76bdcb47970e009707fdedd1a15c47d"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">Jpeg2000TgtNode::parent</a></div><div class="ttdeci">struct Jpeg2000TgtNode * parent</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00132">jpeg2000.h:132</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a5488e895d680f7ebd0bde4228c75d243"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a5488e895d680f7ebd0bde4228c75d243">Jpeg2000DecoderContext::sar</a></div><div class="ttdeci">AVRational sar</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00123">jpeg2000dec.c:123</a></div></div>
<div class="ttc" id="aattributes_8h_html_a7ca8a3900269f92fcc7b68235dea7787"><div class="ttname"><a href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a></div><div class="ttdeci">#define av_unused</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00133">attributes.h:133</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html"><div class="ttname"><a href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00151">jpeg2000.h:151</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_aa2553cd5170e274912c9a2500871588b"><div class="ttname"><a href="jpeg2000_8h.html#aa2553cd5170e274912c9a2500871588b">needs_termination</a></div><div class="ttdeci">static int needs_termination(int style, int passno)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00287">jpeg2000.h:287</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a36530a932b1d568a771f1e8760f4d62e"><div class="ttname"><a href="jpeg2000dec_8c.html#a36530a932b1d568a771f1e8760f4d62e">decode_refpass</a></div><div class="ttdeci">static void decode_refpass(Jpeg2000T1Context *t1, int width, int height, int bpno, int vert_causal_ctx_csty_symbol)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01658">jpeg2000dec.c:1658</a></div></div>
<div class="ttc" id="amem_8c_html_aadc230ece36ef112710b262a6601a16b"><div class="ttname"><a href="mem_8c.html#aadc230ece36ef112710b262a6601a16b">av_realloc_array</a></div><div class="ttdeci">void * av_realloc_array(void *ptr, size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00198">mem.c:198</a></div></div>
<div class="ttc" id="abytestream_8h_html_ab7542b66fa34487bf0032dec86b8f80c"><div class="ttname"><a href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a></div><div class="ttdeci">static av_always_inline int bytestream2_seek(GetByteContext *g, int offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00212">bytestream.h:212</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a6786225afb7c3e183b498e841678af7b"><div class="ttname"><a href="jpeg2000dec_8c.html#a6786225afb7c3e183b498e841678af7b">YUV_PIXEL_FORMATS</a></div><div class="ttdeci">#define YUV_PIXEL_FORMATS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00247">jpeg2000dec.c:247</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a700591974e01bad17cbc53e4627fb870"><div class="ttname"><a href="jpeg2000dec_8c.html#a700591974e01bad17cbc53e4627fb870">Jpeg2000Tile</a></div><div class="ttdeci">struct Jpeg2000Tile Jpeg2000Tile</div></div>
<div class="ttc" id="apixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="astruct_jpeg2000_component_html"><div class="ttname"><a href="struct_jpeg2000_component.html">Jpeg2000Component</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00218">jpeg2000.h:218</a></div></div>
<div class="ttc" id="allviddspenc_8c_html_aba9ed0487b0aa23eba534648df8384c0"><div class="ttname"><a href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a></div><div class="ttdeci">uint8_t w</div><div class="ttdef"><b>Definition:</b> <a href="llviddspenc_8c_source.html#l00038">llviddspenc.c:38</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a523793ceb2799ef529958b20a103b741"><div class="ttname"><a href="jpeg2000dec_8c.html#a523793ceb2799ef529958b20a103b741">Jpeg2000TilePart</a></div><div class="ttdeci">struct Jpeg2000TilePart Jpeg2000TilePart</div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a8cdcabc313b2f731c56d59773a83834e"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">Jpeg2000CodingStyle::nreslevels</a></div><div class="ttdeci">int nreslevels</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00136">jpeg2000.h:136</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_a86f751f9fdd7d4919783a27c7f017e29"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">Jpeg2000QuantStyle::expn</a></div><div class="ttdeci">uint8_t expn[JPEG2000_MAX_DECLEVELS *3]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00152">jpeg2000.h:152</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ab72f9ad08ebf35eca0c1d472e660cc3f"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ab72f9ad08ebf35eca0c1d472e660cc3f">JPEG2000_SOD</a></div><div class="ttdeci">@ JPEG2000_SOD</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00057">jpeg2000.h:57</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483af5335776e1fe0016aea0ce5de4b6c4ce"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483af5335776e1fe0016aea0ce5de4b6c4ce">JPEG2000_SOC</a></div><div class="ttdeci">@ JPEG2000_SOC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00039">jpeg2000.h:39</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a57f3d99f3ad15ad5e1069481c338b8a1"><div class="ttname"><a href="jpeg2000_8h.html#a57f3d99f3ad15ad5e1069481c338b8a1">JPEG2000_CSTY_PREC</a></div><div class="ttdeci">#define JPEG2000_CSTY_PREC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00110">jpeg2000.h:110</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a2ac685c4974239ca1350c9bace3550db"><div class="ttname"><a href="jpeg2000dec_8c.html#a2ac685c4974239ca1350c9bace3550db">getlblockinc</a></div><div class="ttdeci">static int getlblockinc(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01063">jpeg2000dec.c:1063</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a45ad75cc2b13e9c9061bf6e26186a95b"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a45ad75cc2b13e9c9061bf6e26186a95b">JPEG2000_PPM</a></div><div class="ttdeci">@ JPEG2000_PPM</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00050">jpeg2000.h:50</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a53685831b20d0855b79fa868d179144d"><div class="ttname"><a href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a></div><div class="ttdeci">static int ff_jpeg2000_ceildiv(int a, int64_t b)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00234">jpeg2000.h:234</a></div></div>
<div class="ttc" id="aprofiles_8c_html_a38d320b526d55c12d4e3b96f44aff039"><div class="ttname"><a href="profiles_8c.html#a38d320b526d55c12d4e3b96f44aff039">ff_jpeg2000_profiles</a></div><div class="ttdeci">const AVProfile ff_jpeg2000_profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="profiles_8c_source.html#l00085">profiles.c:85</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a174e0d76ffc93da48434afbb118e9dae"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a174e0d76ffc93da48434afbb118e9dae">JPEG2000_SOT</a></div><div class="ttdeci">@ JPEG2000_SOT</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00054">jpeg2000.h:54</a></div></div>
<div class="ttc" id="aregdef_8h_html_a65f7891fccbfcf7d08964555630773b3"><div class="ttname"><a href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a></div><div class="ttdeci">#define t1</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00029">regdef.h:29</a></div></div>
<div class="ttc" id="ajpeg2000dwt_8h_html_aa3f12355dd40791fccaf85923c6fa4afa471e53434a345cdb2f0e2b8742d46444"><div class="ttname"><a href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa471e53434a345cdb2f0e2b8742d46444">FF_DWT97</a></div><div class="ttdeci">@ FF_DWT97</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dwt_8h_source.html#l00037">jpeg2000dwt.h:37</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a49ec8d7e30f72d704c97d8a6d18e0fcd"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">Jpeg2000Cblk::nonzerobits</a></div><div class="ttdeci">uint8_t nonzerobits</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00176">jpeg2000.h:176</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a874909d55799e979bd8fa190b8fd7a6e"><div class="ttname"><a href="jpeg2000dec_8c.html#a874909d55799e979bd8fa190b8fd7a6e">jpeg2000_decode_tile</a></div><div class="ttdeci">static int jpeg2000_decode_tile(AVCodecContext *avctx, void *td, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02078">jpeg2000dec.c:2078</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_entry_html_ad82062cf2737e50e91242449b64c80dc"><div class="ttname"><a href="struct_jpeg2000_p_o_c_entry.html#ad82062cf2737e50e91242449b64c80dc">Jpeg2000POCEntry::CSpoc</a></div><div class="ttdeci">uint16_t CSpoc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00058">jpeg2000dec.c:58</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a13b45abb2dad80fcaf0f9acd84055d49"><div class="ttname"><a href="jpeg2000_8h.html#a13b45abb2dad80fcaf0f9acd84055d49">JPEG2000_CSTY_SOP</a></div><div class="ttdeci">#define JPEG2000_CSTY_SOP</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00111">jpeg2000.h:111</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_a8f9dbe4ef633abe98b6423c40d3a7e60"><div class="ttname"><a href="struct_jpeg2000_tile.html#a8f9dbe4ef633abe98b6423c40d3a7e60">Jpeg2000Tile::codsty</a></div><div class="ttdeci">Jpeg2000CodingStyle codsty[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00083">jpeg2000dec.c:83</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_aac7718573ec1cc705b7d1ce03939cdf4"><div class="ttname"><a href="jpeg2000_8h.html#aac7718573ec1cc705b7d1ce03939cdf4">ff_jpeg2000_getrefctxno</a></div><div class="ttdeci">static int ff_jpeg2000_getrefctxno(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00262">jpeg2000.h:262</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a16335a9f5edac24fb0fdaf4921cd9f50"><div class="ttname"><a href="struct_jpeg2000_prec.html#a16335a9f5edac24fb0fdaf4921cd9f50">Jpeg2000Prec::decoded_layers</a></div><div class="ttdeci">int decoded_layers</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00198">jpeg2000.h:198</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_adb19701d063f70e03d7efe5fb3f70b18"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#adb19701d063f70e03d7efe5fb3f70b18">Jpeg2000DecoderContext::precision</a></div><div class="ttdeci">int precision</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00114">jpeg2000dec.c:114</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a4f45b7921fdd64a8827d79a344fb3da6"><div class="ttname"><a href="jpeg2000dec_8c.html#a4f45b7921fdd64a8827d79a344fb3da6">getnpasses</a></div><div class="ttdeci">static int getnpasses(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01048">jpeg2000dec.c:1048</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a44d34759cf824211a7dda82dc06f0978"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a44d34759cf824211a7dda82dc06f0978">Jpeg2000DecoderContext::pal8</a></div><div class="ttdeci">int8_t pal8</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00118">jpeg2000dec.c:118</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a49c6af2ad205919105a72a8679e78117"><div class="ttname"><a href="jpeg2000dec_8c.html#a49c6af2ad205919105a72a8679e78117">select_header</a></div><div class="ttdeci">static void select_header(Jpeg2000DecoderContext *s, Jpeg2000Tile *tile, int *tp_index)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01074">jpeg2000dec.c:1074</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a3649a81e8414a193d685a6eee06ce902"><div class="ttname"><a href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">AVFrame::key_frame</a></div><div class="ttdeci">int key_frame</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:386</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a844b06e6aa9e0ff1bfe8b945384e7d1a"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a844b06e6aa9e0ff1bfe8b945384e7d1a">Jpeg2000DecoderContext::ncomponents</a></div><div class="ttdeci">int ncomponents</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00115">jpeg2000dec.c:115</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ad1571dab998416e94cf254e482f3c1a7"><div class="ttname"><a href="jpeg2000dec_8c.html#ad1571dab998416e94cf254e482f3c1a7">jpeg2000_read_main_headers</a></div><div class="ttdeci">static int jpeg2000_read_main_headers(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02145">jpeg2000dec.c:2145</a></div></div>
<div class="ttc" id="abytestream_8h_html_ab3713f6615c089f746b36925f5857c07"><div class="ttname"><a href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a></div><div class="ttdeci">static av_always_inline void bytestream2_skip(GetByteContext *g, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00168">bytestream.h:168</a></div></div>
<div class="ttc" id="astruct_jpeg2000_d_s_p_context_html"><div class="ttname"><a href="struct_jpeg2000_d_s_p_context.html">Jpeg2000DSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dsp_8h_source.html#l00029">jpeg2000dsp.h:29</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a988930618c9c6216d9c1b2403231a847"><div class="ttname"><a href="jpeg2000dec_8c.html#a988930618c9c6216d9c1b2403231a847">tile_codeblocks</a></div><div class="ttdeci">static void tile_codeblocks(Jpeg2000DecoderContext *s, Jpeg2000Tile *tile)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01940">jpeg2000dec.c:1940</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a2914a54b3a51f1126f9b242a16b68f0d"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a2914a54b3a51f1126f9b242a16b68f0d">Jpeg2000DecoderContext::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00097">jpeg2000dec.c:97</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a6e0b4a1f088124b5e879f96abf730899"><div class="ttname"><a href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">Jpeg2000Prec::nb_codeblocks_height</a></div><div class="ttdeci">int nb_codeblocks_height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00194">jpeg2000.h:194</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html"><div class="ttname"><a href="struct_jpeg2000_tile.html">Jpeg2000Tile</a></div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00103">j2kenc.c:103</a></div></div>
<div class="ttc" id="amqc_8h_html_ae87e81ffd6d093a5dfd53f23f61638e4"><div class="ttname"><a href="mqc_8h.html#ae87e81ffd6d093a5dfd53f23f61638e4">ff_mqc_initdec</a></div><div class="ttdeci">void ff_mqc_initdec(MqcState *mqc, uint8_t *bp, int raw, int reset)</div><div class="ttdef"><b>Definition:</b> <a href="mqcdec_8c_source.html#l00071">mqcdec.c:71</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_ad20d53520fe26af28cbae5338a670db5"><div class="ttname"><a href="multithreading_8txt.html#ad20d53520fe26af28cbae5338a670db5">ff_thread_get_buffer</a></div><div class="ttdeci">the pkt_dts and pkt_pts fields in AVFrame will work as usual Restrictions on codec whose streams don t reset across will not work because their bitstreams cannot be decoded in parallel *The contents of buffers must not be read before as well as code calling up to before the decode process starts Call have so the codec calls ff_thread_report set FF_CODEC_CAP_ALLOCATE_PROGRESS in AVCodec caps_internal and use ff_thread_get_buffer() to allocate frames. The frames must then be freed with ff_thread_release_buffer(). Otherwise decode directly into the user-supplied frames. Call ff_thread_report_progress() after some part of the current picture has decoded. A good place to put this is where draw_horiz_band() is called - add this if it isn 't called anywhere</div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a722e065b55b66adf95a91798371d4234"><div class="ttname"><a href="jpeg2000dec_8c.html#a722e065b55b66adf95a91798371d4234">get_poc</a></div><div class="ttdeci">static int get_poc(Jpeg2000DecoderContext *s, int size, Jpeg2000POC *p)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00747">jpeg2000dec.c:747</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ac2cd58ad2b8ba0af65eaa4015724ec6f"><div class="ttname"><a href="jpeg2000dec_8c.html#ac2cd58ad2b8ba0af65eaa4015724ec6f">decode_cblk</a></div><div class="ttdeci">static int decode_cblk(Jpeg2000DecoderContext *s, Jpeg2000CodingStyle *codsty, Jpeg2000T1Context *t1, Jpeg2000Cblk *cblk, int width, int height, int bandpos, uint8_t roi_shift)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01748">jpeg2000dec.c:1748</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_a304fb8b19dea1965f4f01b9100f358c8"><div class="ttname"><a href="struct_jpeg2000_tile.html#a304fb8b19dea1965f4f01b9100f358c8">Jpeg2000Tile::tile_part</a></div><div class="ttdeci">Jpeg2000TilePart tile_part[32]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00086">jpeg2000dec.c:86</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_html"><div class="ttname"><a href="struct_jpeg2000_p_o_c.html">Jpeg2000POC</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00065">jpeg2000dec.c:65</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a3a569c1ddf372143771aec44541c6e20"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a3a569c1ddf372143771aec44541c6e20">Jpeg2000DecoderContext::packed_headers_stream</a></div><div class="ttdeci">GetByteContext packed_headers_stream</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00110">jpeg2000dec.c:110</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a33496254624080ac51490a0b9e9b7409"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a33496254624080ac51490a0b9e9b7409">Jpeg2000CodingStyle::nreslevels2decode</a></div><div class="ttdeci">int nreslevels2decode</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00137">jpeg2000.h:137</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a1b6d20f74ed14b02737b3670361c5c4e"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a1b6d20f74ed14b02737b3670361c5c4e">Jpeg2000DecoderContext::reduction_factor</a></div><div class="ttdeci">int reduction_factor</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00138">jpeg2000dec.c:138</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a6203f68e1886ce38e24eddccb700966e"><div class="ttname"><a href="jpeg2000dec_8c.html#a6203f68e1886ce38e24eddccb700966e">decode_sigpass</a></div><div class="ttdeci">static void decode_sigpass(Jpeg2000T1Context *t1, int width, int height, int bpno, int bandno, int vert_causal_ctx_csty_symbol)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01628">jpeg2000dec.c:1628</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aaab7496df5bb17d31dac20720b215bea"><div class="ttname"><a href="jpeg2000dec_8c.html#aaab7496df5bb17d31dac20720b215bea">jpeg2000_decode_packets_po_iteration</a></div><div class="ttdeci">static int jpeg2000_decode_packets_po_iteration(Jpeg2000DecoderContext *s, Jpeg2000Tile *tile, int RSpoc, int CSpoc, int LYEpoc, int REpoc, int CEpoc, int Ppoc, int *tp_index)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01300">jpeg2000dec.c:1300</a></div></div>
<div class="ttc" id="amqc_8h_html_a85f1950d4e56b8cdbd1a5cef4fad44a0"><div class="ttname"><a href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a></div><div class="ttdeci">#define MQC_CX_UNI</div><div class="ttdef"><b>Definition:</b> <a href="mqc_8h_source.html#l00033">mqc.h:33</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ace4d36d981b86af5f0dc2d6429701684"><div class="ttname"><a href="pixfmt_8h.html#ace4d36d981b86af5f0dc2d6429701684">AV_PIX_FMT_GRAY16</a></div><div class="ttdeci">#define AV_PIX_FMT_GRAY16</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00383">pixfmt.h:383</a></div></div>
<div class="ttc" id="astruct_jpeg2000_component_html_a9e0b1041f057dc6ebd934ca6e35cc388"><div class="ttname"><a href="struct_jpeg2000_component.html#a9e0b1041f057dc6ebd934ca6e35cc388">Jpeg2000Component::reslevel</a></div><div class="ttdeci">Jpeg2000ResLevel * reslevel</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00219">jpeg2000.h:219</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga4fd9c0b8e663cf3d55e89fbc6ce71602"><div class="ttname"><a href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a></div><div class="ttdeci">int av_reduce(int *dst_num, int *dst_den, int64_t num, int64_t den, int64_t max)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00035">rational.c:35</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_af00d6ce82ea8af29ab93da39a444aadd"><div class="ttname"><a href="jpeg2000dec_8c.html#af00d6ce82ea8af29ab93da39a444aadd">jpeg2000_read_bitstream_packets</a></div><div class="ttdeci">static int jpeg2000_read_bitstream_packets(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02311">jpeg2000dec.c:2311</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_gac75c3c0dfc82367b2be34e99384927c2"><div class="ttname"><a href="group__lavu__picture.html#gac75c3c0dfc82367b2be34e99384927c2">av_image_check_size2</a></div><div class="ttdeci">int av_image_check_size2(unsigned int w, unsigned int h, int64_t max_pixels, enum AVPixelFormat pix_fmt, int log_offset, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="imgutils_8c_source.html#l00288">imgutils.c:288</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aa0fe2c518e1da3ff176b3be3952270cf"><div class="ttname"><a href="jpeg2000dec_8c.html#aa0fe2c518e1da3ff176b3be3952270cf">jpeg2000_class</a></div><div class="ttdeci">static const AVClass jpeg2000_class</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02570">jpeg2000dec.c:2570</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ae05d60db02eec57f83312f027ac759b9"><div class="ttname"><a href="jpeg2000dec_8c.html#ae05d60db02eec57f83312f027ac759b9">read_crg</a></div><div class="ttdeci">static int read_crg(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00862">jpeg2000dec.c:862</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a></div><div class="ttdeci">void * av_realloc(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00134">mem.c:134</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html_a4501e029388ab4d5750dc9875a5a2fd5"><div class="ttname"><a href="libavutil_2thread_8h.html#a4501e029388ab4d5750dc9875a5a2fd5">ff_thread_once</a></div><div class="ttdeci">static int ff_thread_once(char *control, void(*routine)(void))</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2thread_8h_source.html#l00175">thread.h:175</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html_afef0f4b501e3c15861ea9281cad8ae84"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">Jpeg2000TgtNode::val</a></div><div class="ttdeci">uint8_t val</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00129">jpeg2000.h:129</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_ae5bc82a6df641d47fcf3d8e84b219733"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">Jpeg2000QuantStyle::quantsty</a></div><div class="ttdeci">uint8_t quantsty</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00154">jpeg2000.h:154</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ac2bc74c451c6a7490c1209eded909679"><div class="ttname"><a href="avcodec_8h.html#ac2bc74c451c6a7490c1209eded909679">FF_CODEC_PROPERTY_LOSSLESS</a></div><div class="ttdeci">#define FF_CODEC_PROPERTY_LOSSLESS</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02192">avcodec.h:2192</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a14a36e964ac5c2abf67d1a624d683e72"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a14a36e964ac5c2abf67d1a624d683e72">Jpeg2000Cblk::lengthinc</a></div><div class="ttdeci">uint16_t * lengthinc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00179">jpeg2000.h:179</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a5f2850cae25630717ed87b4397103d1a"><div class="ttname"><a href="jpeg2000dec_8c.html#a5f2850cae25630717ed87b4397103d1a">get_siz</a></div><div class="ttdeci">static int get_siz(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00272">jpeg2000dec.c:272</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a6a830b30c63d53432d0856dd09483671"><div class="ttname"><a href="jpeg2000dec_8c.html#a6a830b30c63d53432d0856dd09483671">jpeg2000_dec_cleanup</a></div><div class="ttdeci">static void jpeg2000_dec_cleanup(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02117">jpeg2000dec.c:2117</a></div></div>
<div class="ttc" id="alzw_8c_html_a450ea4ae52aeb4ca6e2fabf02c695153"><div class="ttname"><a href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a></div><div class="ttdeci">static const uint16_t mask[17]</div><div class="ttdef"><b>Definition:</b> <a href="lzw_8c_source.html#l00038">lzw.c:38</a></div></div>
<div class="ttc" id="adecode__audio_8c_html_a1704ae53d7f426e1b67341785b5b2b58"><div class="ttname"><a href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a></div><div class="ttdeci">static void decode(AVCodecContext *dec_ctx, AVPacket *pkt, AVFrame *frame, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="decode__audio_8c_source.html#l00071">decode_audio.c:71</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_ae25c5bdd77bf02b43149344b3f5fea16"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#ae25c5bdd77bf02b43149344b3f5fea16">Jpeg2000DecoderContext::bit_index</a></div><div class="ttdeci">int bit_index</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00130">jpeg2000dec.c:130</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_a49d7482f928265b3e18c83fa6cd22722"><div class="ttname"><a href="struct_jpeg2000_tile.html#a49d7482f928265b3e18c83fa6cd22722">Jpeg2000Tile::coord</a></div><div class="ttdeci">int coord[2][2]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00092">jpeg2000dec.c:92</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUVA420P</div><div class="ttdoc">planar YUV 4:2:0, 20bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00101">pixfmt.h:101</a></div></div>
<div class="ttc" id="avf__curves_8c_html_a1b5e77b92dea40e646b2e7e196e0b322"><div class="ttname"><a href="vf__curves_8c.html#a1b5e77b92dea40e646b2e7e196e0b322">g</a></div><div class="ttdeci">const char * g</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00115">vf_curves.c:115</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a29aa0dddb0203797823b992724ea59f8"><div class="ttname"><a href="jpeg2000dec_8c.html#a29aa0dddb0203797823b992724ea59f8">get_cox</a></div><div class="ttdeci">static int get_cox(Jpeg2000DecoderContext *s, Jpeg2000CodingStyle *c)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00483">jpeg2000dec.c:483</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_part_html"><div class="ttname"><a href="struct_jpeg2000_tile_part.html">Jpeg2000TilePart</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00071">jpeg2000dec.c:71</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_entry_html"><div class="ttname"><a href="struct_jpeg2000_p_o_c_entry.html">Jpeg2000POCEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00056">jpeg2000dec.c:56</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html"><div class="ttname"><a href="jpeg2000_8h.html">jpeg2000.h</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ab4fd2996e7661082e1cd3a40afb948b7"><div class="ttname"><a href="jpeg2000dec_8c.html#ab4fd2996e7661082e1cd3a40afb948b7">roi_shift_param</a></div><div class="ttdeci">static int roi_shift_param(Jpeg2000Component *comp, int quan_parameter)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01830">jpeg2000dec.c:1830</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a7cedf9791d22e37fe5afd76035e9ade8"><div class="ttname"><a href="jpeg2000_8h.html#a7cedf9791d22e37fe5afd76035e9ade8">JPEG2000_PGOD_RPCL</a></div><div class="ttdeci">#define JPEG2000_PGOD_RPCL</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00117">jpeg2000.h:117</a></div></div>
<div class="ttc" id="alibavcodec_2jpeg2000dsp_8c_html_a60d8821f25a7b61e44ccd019ae2f9169"><div class="ttname"><a href="libavcodec_2jpeg2000dsp_8c.html#a60d8821f25a7b61e44ccd019ae2f9169">ff_jpeg2000dsp_init</a></div><div class="ttdeci">av_cold void ff_jpeg2000dsp_init(Jpeg2000DSPContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2jpeg2000dsp_8c_source.html#l00093">jpeg2000dsp.c:93</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5252d34fbce300228d4dbda19a8c3293"><div class="ttname"><a href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">AVCodecContext::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00905">avcodec.h:905</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_af244be461a53094efcd9ee2cd011d985"><div class="ttname"><a href="jpeg2000dec_8c.html#af244be461a53094efcd9ee2cd011d985">ff_jpeg2000_decoder</a></div><div class="ttdeci">AVCodec ff_jpeg2000_decoder</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02577">jpeg2000dec.c:2577</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_acacf593700a5cf7d121196e53bd94ad2"><div class="ttname"><a href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">AVCodecContext::execute2</a></div><div class="ttdeci">int(* execute2)(struct AVCodecContext *c, int(*func)(struct AVCodecContext *c2, void *arg, int jobnr, int threadnr), void *arg2, int *ret, int count)</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01845">avcodec.h:1845</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a7331e302ea7bb48e0b605a069576e135"><div class="ttname"><a href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00039">demuxing_decoding.c:40</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a04cf6d4cdf7170370c87faa86708cfc0"><div class="ttname"><a href="jpeg2000dec_8c.html#a04cf6d4cdf7170370c87faa86708cfc0">mct_decode</a></div><div class="ttdeci">static void mct_decode(Jpeg2000DecoderContext *s, Jpeg2000Tile *tile)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01899">jpeg2000dec.c:1899</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ab76763daa7a398a65678dd60c14964d9"><div class="ttname"><a href="jpeg2000dec_8c.html#ab76763daa7a398a65678dd60c14964d9">JP2_CODESTREAM</a></div><div class="ttdeci">#define JP2_CODESTREAM</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00048">jpeg2000dec.c:48</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a590f71743fdd522d33a8de9f6477e778"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a590f71743fdd522d33a8de9f6477e778">Jpeg2000CodingStyle::cblk_style</a></div><div class="ttdeci">uint8_t cblk_style</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00144">jpeg2000.h:144</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a21d3ea98095bfe788a20166ec6aeb49f"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a21d3ea98095bfe788a20166ec6aeb49f">JPEG2000_COM</a></div><div class="ttdeci">@ JPEG2000_COM</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00053">jpeg2000.h:53</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a6b4db52eeb243d870055fb29444f38f4"><div class="ttname"><a href="jpeg2000_8h.html#a6b4db52eeb243d870055fb29444f38f4">JPEG2000_PGOD_CPRL</a></div><div class="ttdeci">#define JPEG2000_PGOD_CPRL</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00119">jpeg2000.h:119</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a237a472c02d288c822fe78c79c2def43a871a3dbce027d1584785bb02f9a6c0ff"><div class="ttname"><a href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a871a3dbce027d1584785bb02f9a6c0ff">JPEG2000_QSTY_SI</a></div><div class="ttdeci">@ JPEG2000_QSTY_SI</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00066">jpeg2000.h:66</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483aad4330841def8ad14a3b75370634edaa"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aad4330841def8ad14a3b75370634edaa">JPEG2000_CRG</a></div><div class="ttdeci">@ JPEG2000_CRG</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00052">jpeg2000.h:52</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a27c58d8a0418f1aad32e5f85f19b93d7"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a27c58d8a0418f1aad32e5f85f19b93d7">Jpeg2000DecoderContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00100">jpeg2000dec.c:100</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_acdcb09b852df254cad041c23b9ff30e0"><div class="ttname"><a href="jpeg2000dec_8c.html#acdcb09b852df254cad041c23b9ff30e0">gray_pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat gray_pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00208">jpeg2000dec.c:261</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a0b06cb0dfcdfb09b841dad5901b518d6"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a0b06cb0dfcdfb09b841dad5901b518d6">Jpeg2000DecoderContext::in_tile_headers</a></div><div class="ttdeci">uint8_t in_tile_headers</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00111">jpeg2000dec.c:111</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a5944276244fa80df353223ec21516b75"><div class="ttname"><a href="jpeg2000_8h.html#a5944276244fa80df353223ec21516b75">JPEG2000_CBLK_BYPASS</a></div><div class="ttdeci">#define JPEG2000_CBLK_BYPASS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00102">jpeg2000.h:102</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a50c402f85ec4656ee141278cd74ba282"><div class="ttname"><a href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">Jpeg2000Prec::cblkincl</a></div><div class="ttdeci">Jpeg2000TgtNode * cblkincl</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00196">jpeg2000.h:196</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a00e7925c5d8fa55edb51240913382fd5"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a00e7925c5d8fa55edb51240913382fd5">Jpeg2000DecoderContext::tile</a></div><div class="ttdeci">Jpeg2000Tile * tile</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00134">jpeg2000dec.c:134</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a371a6422c71b3471405c7509a1b46b0d"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">Jpeg2000Cblk::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00182">jpeg2000.h:182</a></div></div>
<div class="ttc" id="acommon_8h_html_ad6d88940cfc29c13a3e51ded211fc242"><div class="ttname"><a href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a></div><div class="ttdeci">#define FFABS(a)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00072">common.h:72</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ab22f0a3a1be35ac8ef82aaca827ba213"><div class="ttname"><a href="jpeg2000dec_8c.html#ab22f0a3a1be35ac8ef82aaca827ba213">init_tile</a></div><div class="ttdeci">static int init_tile(Jpeg2000DecoderContext *s, int tileno)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00999">jpeg2000dec.c:999</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a04c1a7215bd695553cf8cbaa3c62885c"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a04c1a7215bd695553cf8cbaa3c62885c">Jpeg2000Cblk::nb_terminations</a></div><div class="ttdeci">int nb_terminations</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00184">jpeg2000.h:184</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_afe44313d1d4442ea118e60d00a76e0bd"><div class="ttname"><a href="jpeg2000dec_8c.html#afe44313d1d4442ea118e60d00a76e0bd">get_qcd</a></div><div class="ttdeci">static int get_qcd(Jpeg2000DecoderContext *s, int n, Jpeg2000QuantStyle *q, uint8_t *properties)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00708">jpeg2000dec.c:708</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae21e6310b40920cd61f54e9c320d8e6c"><div class="ttname"><a href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_FRAME_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00106">codec.h:106</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a9ac1d2b479938a68882b41b88ae2f547"><div class="ttname"><a href="jpeg2000_8h.html#a9ac1d2b479938a68882b41b88ae2f547">JPEG2000_T1_SIG_S</a></div><div class="ttdeci">#define JPEG2000_T1_SIG_S</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00080">jpeg2000.h:80</a></div></div>
<div class="ttc" id="amqc_8c_html_a1eb65714543ab60140e7f7f2ec9a6dff"><div class="ttname"><a href="mqc_8c.html#a1eb65714543ab60140e7f7f2ec9a6dff">ff_mqc_init_context_tables</a></div><div class="ttdeci">void av_cold ff_mqc_init_context_tables(void)</div><div class="ttdef"><b>Definition:</b> <a href="mqc_8c_source.html#l00097">mqc.c:97</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a5537296826c63d7c8dd5f13621f936c0"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a5537296826c63d7c8dd5f13621f936c0">Jpeg2000DecoderContext::cdy</a></div><div class="ttdeci">int cdy[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00113">jpeg2000dec.c:113</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a79f0cce2e796a9e51f75fea1695c9160"><div class="ttname"><a href="pixfmt_8h.html#a79f0cce2e796a9e51f75fea1695c9160">AV_PIX_FMT_RGBA64</a></div><div class="ttdeci">#define AV_PIX_FMT_RGBA64</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00389">pixfmt.h:389</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html_acfec46d8ab71dae8e901ee384378df32"><div class="ttname"><a href="libavutil_2thread_8h.html#acfec46d8ab71dae8e901ee384378df32">AV_ONCE_INIT</a></div><div class="ttdeci">#define AV_ONCE_INIT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2thread_8h_source.html#l00173">thread.h:173</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aa130d2e2dc73a74965cf6538f9a8552c"><div class="ttname"><a href="jpeg2000dec_8c.html#aa130d2e2dc73a74965cf6538f9a8552c">jpeg2000_decode_init</a></div><div class="ttdeci">static av_cold int jpeg2000_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02478">jpeg2000dec.c:2478</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5a241f1b73b42f74b4122da23004dc6c"><div class="ttname"><a href="libavutil_2internal_8h.html#a5a241f1b73b42f74b4122da23004dc6c">PTRDIFF_SPECIFIER</a></div><div class="ttdeci">#define PTRDIFF_SPECIFIER</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00228">internal.h:228</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_aa3449ff969bfab601b6b949b0a32f40d"><div class="ttname"><a href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">Jpeg2000Cblk::npasses</a></div><div class="ttdeci">uint8_t npasses</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00174">jpeg2000.h:174</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_acac37c5e46fed94b476e9c6f515d1023"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#acac37c5e46fed94b476e9c6f515d1023">Jpeg2000DecoderContext::g</a></div><div class="ttdeci">GetByteContext g</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00098">jpeg2000dec.c:98</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html">Jpeg2000DecoderContext</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00095">jpeg2000dec.c:95</a></div></div>
<div class="ttc" id="astruct_jpeg2000_t1_context_html"><div class="ttname"><a href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00121">jpeg2000.h:121</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ae3621d95466b02d1e5a30631b577f9b3"><div class="ttname"><a href="jpeg2000dec_8c.html#ae3621d95466b02d1e5a30631b577f9b3">get_ppm</a></div><div class="ttdeci">static int get_ppm(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00939">jpeg2000dec.c:939</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a873cd470cac232aa257bf8c1bc9eaaa4"><div class="ttname"><a href="jpeg2000dec_8c.html#a873cd470cac232aa257bf8c1bc9eaaa4">Jpeg2000DecoderContext</a></div><div class="ttdeci">struct Jpeg2000DecoderContext Jpeg2000DecoderContext</div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a17c50c33fb1086a65e71471d19a67184"><div class="ttname"><a href="jpeg2000dec_8c.html#a17c50c33fb1086a65e71471d19a67184">JP2_SIG_TYPE</a></div><div class="ttdeci">#define JP2_SIG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00046">jpeg2000dec.c:46</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a7d30523649a9720fca68a30d4aae6843"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a7d30523649a9720fca68a30d4aae6843">JPEG2000_PLM</a></div><div class="ttdeci">@ JPEG2000_PLM</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00044">jpeg2000.h:44</a></div></div>
<div class="ttc" id="aprofiles_8h_html"><div class="ttname"><a href="profiles_8h.html">profiles.h</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_aece52f169d97095f3419216511013329"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#aece52f169d97095f3419216511013329">Jpeg2000DecoderContext::maxtilelen</a></div><div class="ttdeci">int maxtilelen</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00122">jpeg2000dec.c:122</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a4f288f055689289b7efeff17cd0e687d"><div class="ttname"><a href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a></div><div class="ttdeci">#define JPEG2000_T1_VIS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00095">jpeg2000.h:95</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ae00953747a61fc7f3222e76e0783ba65"><div class="ttname"><a href="jpeg2000dec_8c.html#ae00953747a61fc7f3222e76e0783ba65">get_ppt</a></div><div class="ttdeci">static int get_ppt(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00963">jpeg2000dec.c:963</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39">JPEG2000_EPH</a></div><div class="ttdeci">@ JPEG2000_EPH</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00056">jpeg2000.h:56</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a5e2846aa43ab1e36dd33b6c09d46908a"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a5e2846aa43ab1e36dd33b6c09d46908a">JPEG2000_PPT</a></div><div class="ttdeci">@ JPEG2000_PPT</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00051">jpeg2000.h:51</a></div></div>
<div class="ttc" id="astruct_a_v_pix_fmt_descriptor_html"><div class="ttname"><a href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00081">pixdesc.h:81</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a></div><div class="ttdeci">@ AV_PIX_FMT_GRAY8</div><div class="ttdoc">Y , 8bpp.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00074">pixfmt.h:74</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a74d0c52ab34e790d526328c7bd1a2c97"><div class="ttname"><a href="jpeg2000dec_8c.html#a74d0c52ab34e790d526328c7bd1a2c97">jpeg2000_decode_frame</a></div><div class="ttdeci">static int jpeg2000_decode_frame(AVCodecContext *avctx, void *data, int *got_frame, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02489">jpeg2000dec.c:2489</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a3e96b8191de0f7105b2663ce48c4073c"><div class="ttname"><a href="jpeg2000_8h.html#a3e96b8191de0f7105b2663ce48c4073c">JPEG2000_CBLK_RESET</a></div><div class="ttdeci">#define JPEG2000_CBLK_RESET</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00103">jpeg2000.h:103</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html_a1d348e4becc9580dfa760add5c9d1139"><div class="ttname"><a href="libavutil_2thread_8h.html#a1d348e4becc9580dfa760add5c9d1139">AVOnce</a></div><div class="ttdeci">#define AVOnce</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2thread_8h_source.html#l00172">thread.h:172</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ab7b72d3cfc0a98ab6ac284c3f31710df"><div class="ttname"><a href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a></div><div class="ttdeci">#define AVPALETTE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00033">pixfmt.h:33</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_af8c6c96e2888bc71705764d5e63336af"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#af8c6c96e2888bc71705764d5e63336af">Jpeg2000DecoderContext::cdef</a></div><div class="ttdeci">int cdef[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00119">jpeg2000dec.c:119</a></div></div>
<div class="ttc" id="abytestream_8h_html_a9c1ffe44fa596e26bc617174edec93b1"><div class="ttname"><a href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a></div><div class="ttdeci">static av_always_inline int bytestream2_get_bytes_left(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00158">bytestream.h:158</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html"><div class="ttname"><a href="struct_jpeg2000_band.html">Jpeg2000Band</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00202">jpeg2000.h:202</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a03f04a85f532444aeb39319b18abf383"><div class="ttname"><a href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a></div><div class="ttdeci">#define JPEG2000_T1_SIG_NB</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00085">jpeg2000.h:85</a></div></div>
<div class="ttc" id="abytestream_8h_html_ad206301696bbb0cb6a2a7309ba90d4bc"><div class="ttname"><a href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a></div><div class="ttdeci">static av_always_inline int bytestream2_tell(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00192">bytestream.h:192</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a82bb8e5872233f0fafa5ba99f646758f"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">Jpeg2000CodingStyle::transform</a></div><div class="ttdeci">uint8_t transform</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00140">jpeg2000.h:140</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ac080aa3d2188477c9278ae13dad24768"><div class="ttname"><a href="jpeg2000dec_8c.html#ac080aa3d2188477c9278ae13dad24768">tag_tree_decode</a></div><div class="ttdeci">static int tag_tree_decode(Jpeg2000DecoderContext *s, Jpeg2000TgtNode *node, int threshold)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00168">jpeg2000dec.c:168</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a56ba668bbae8dae0c351140b85ca8285"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a56ba668bbae8dae0c351140b85ca8285">Jpeg2000DecoderContext::qntsty</a></div><div class="ttdeci">Jpeg2000QuantStyle qntsty[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00126">jpeg2000dec.c:126</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a8cfe5e4bd621ed1d2ce9e4ddce4428fd"><div class="ttname"><a href="jpeg2000_8h.html#a8cfe5e4bd621ed1d2ce9e4ddce4428fd">JPEG2000_T1_SIG_SE</a></div><div class="ttdeci">#define JPEG2000_T1_SIG_SE</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00083">jpeg2000.h:83</a></div></div>
<div class="ttc" id="astruct_jpeg2000_component_html_a28028d058e011ae7d175ad6d877d0a6b"><div class="ttname"><a href="struct_jpeg2000_component.html#a28028d058e011ae7d175ad6d877d0a6b">Jpeg2000Component::f_data</a></div><div class="ttdeci">float * f_data</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00221">jpeg2000.h:221</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_ae3b0dbac1ef3c2fa0c945b6e3fcdb2d1"><div class="ttname"><a href="jpeg2000_8c.html#ae3b0dbac1ef3c2fa0c945b6e3fcdb2d1">ff_jpeg2000_cleanup</a></div><div class="ttdeci">void ff_jpeg2000_cleanup(Jpeg2000Component *comp, Jpeg2000CodingStyle *codsty)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00590">jpeg2000.c:590</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html_a3fc2e8b6ffb1139935829d365676c01f"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html#a3fc2e8b6ffb1139935829d365676c01f">Jpeg2000TgtNode::vis</a></div><div class="ttdeci">uint8_t vis</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00131">jpeg2000.h:131</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_entry_html_ac74416b392ad2b3c66fd9c3cb79a01b6"><div class="ttname"><a href="struct_jpeg2000_p_o_c_entry.html#ac74416b392ad2b3c66fd9c3cb79a01b6">Jpeg2000POCEntry::CEpoc</a></div><div class="ttdeci">uint16_t CEpoc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00059">jpeg2000dec.c:59</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a7acf79bb761765314ec2ef754924f3c4"><div class="ttname"><a href="jpeg2000_8h.html#a7acf79bb761765314ec2ef754924f3c4">JPEG2000_T1_SIG_SW</a></div><div class="ttdeci">#define JPEG2000_T1_SIG_SW</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00084">jpeg2000.h:84</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a></div><div class="ttdeci">@ AV_PIX_FMT_RGB24</div><div class="ttdoc">packed RGB 8:8:8, 24bpp, RGBRGB...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00068">pixfmt.h:68</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00050">codec.h:50</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="jpeg2000dec_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02561">jpeg2000dec.c:2561</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a2061b4866df173cbbfd71b330e266215"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">Jpeg2000ResLevel::log2_prec_width</a></div><div class="ttdeci">uint8_t log2_prec_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00214">jpeg2000.h:214</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a29131ff8412f93f5b28a4d8f7d3b8f44"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a29131ff8412f93f5b28a4d8f7d3b8f44">Jpeg2000DecoderContext::image_offset_x</a></div><div class="ttdeci">int image_offset_x</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00101">jpeg2000dec.c:101</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a3e0d56e96ddbcd40a4f6ba2bc4541560"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a3e0d56e96ddbcd40a4f6ba2bc4541560">Jpeg2000CodingStyle::prog_order</a></div><div class="ttdeci">uint8_t prog_order</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00145">jpeg2000.h:145</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a64b1ee9b1d03bdde72052047a16c3017"><div class="ttname"><a href="jpeg2000dec_8c.html#a64b1ee9b1d03bdde72052047a16c3017">get_qcc</a></div><div class="ttdeci">static int get_qcc(Jpeg2000DecoderContext *s, int n, Jpeg2000QuantStyle *q, uint8_t *properties)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00726">jpeg2000dec.c:726</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_af33c0895628d0dfb3a914309567ddb2d"><div class="ttname"><a href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">Jpeg2000Cblk::lblock</a></div><div class="ttdeci">uint8_t lblock</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00181">jpeg2000.h:181</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_abe836933e9407ed8f09ea71163b64581"><div class="ttname"><a href="struct_jpeg2000_tile.html#abe836933e9407ed8f09ea71163b64581">Jpeg2000Tile::has_ppt</a></div><div class="ttdeci">uint8_t has_ppt</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00087">jpeg2000dec.c:87</a></div></div>
<div class="ttc" id="abytestream_8h_html_a3141fb26b5eb0bd224178673d39d2ab3"><div class="ttname"><a href="bytestream_8h.html#a3141fb26b5eb0bd224178673d39d2ab3">bytestream2_size</a></div><div class="ttdeci">static av_always_inline int bytestream2_size(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00202">bytestream.h:202</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a5f4f4219241d9045cd922fa1ae5ebf4d"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a5f4f4219241d9045cd922fa1ae5ebf4d">Jpeg2000DecoderContext::numXtiles</a></div><div class="ttdeci">unsigned numXtiles</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00121">jpeg2000dec.c:121</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a5c1eb24858b3a73d6bbe9585d30e971a"><div class="ttname"><a href="avcodec_8h.html#a5c1eb24858b3a73d6bbe9585d30e971a">FF_COMPLIANCE_STRICT</a></div><div class="ttdeci">#define FF_COMPLIANCE_STRICT</div><div class="ttdoc">Strictly conform to all the things in the spec no matter what consequences.</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01591">avcodec.h:1591</a></div></div>
<div class="ttc" id="aregdef_8h_html_a8d40798874dab99986478ef00ff3e297"><div class="ttname"><a href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a></div><div class="ttdeci">#define sp</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00063">regdef.h:63</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a2a85fb0a4877637f24c5d8be031401bd"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a2a85fb0a4877637f24c5d8be031401bd">Jpeg2000DecoderContext::tile_height</a></div><div class="ttdeci">int tile_height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00120">jpeg2000dec.c:120</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a06d56cd79a54080bfb2bb52bd73240ed"><div class="ttname"><a href="jpeg2000dec_8c.html#a06d56cd79a54080bfb2bb52bd73240ed">roi_scale_cblk</a></div><div class="ttdeci">static void roi_scale_cblk(Jpeg2000Cblk *cblk, Jpeg2000Component *comp, Jpeg2000T1Context *t1)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01927">jpeg2000dec.c:1927</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a8aa3ddf224cba014fb9eac404498046a"><div class="ttname"><a href="pixfmt_8h.html#a8aa3ddf224cba014fb9eac404498046a">AV_PIX_FMT_RGB48</a></div><div class="ttdeci">#define AV_PIX_FMT_RGB48</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00385">pixfmt.h:385</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a7d45abd538a35d60990a7a972b2f1a5a"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a7d45abd538a35d60990a7a972b2f1a5a">Jpeg2000DecoderContext::packed_headers_size</a></div><div class="ttdeci">int packed_headers_size</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00109">jpeg2000dec.c:109</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a8cedab1f78f622e6f4ffaee8e55532c0"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a8cedab1f78f622e6f4ffaee8e55532c0">Jpeg2000DecoderContext::dsp</a></div><div class="ttdeci">Jpeg2000DSPContext dsp</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00135">jpeg2000dec.c:135</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a0f6bd47bbeb795deceaef96370345ee0"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a0f6bd47bbeb795deceaef96370345ee0">Jpeg2000CodingStyle::init</a></div><div class="ttdeci">uint8_t init</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00148">jpeg2000.h:148</a></div></div>
<div class="ttc" id="acommon_8h_html_a1e233db224cd0a3079fd4572d1a3d717"><div class="ttname"><a href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a></div><div class="ttdeci">#define MKBETAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00406">common.h:406</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_a0e307e542e75f9f5ed4927de5d4469d4"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">Jpeg2000QuantStyle::mant</a></div><div class="ttdeci">uint16_t mant[JPEG2000_MAX_DECLEVELS *3]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00153">jpeg2000.h:153</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a420b059169acc508ea4148714ba6bacc"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a420b059169acc508ea4148714ba6bacc">Jpeg2000DecoderContext::palette</a></div><div class="ttdeci">uint32_t palette[256]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00117">jpeg2000dec.c:117</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_aca026bbe426e673a65a4dd073d02400c"><div class="ttname"><a href="struct_jpeg2000_tile.html#aca026bbe426e673a65a4dd073d02400c">Jpeg2000Tile::packed_headers</a></div><div class="ttdeci">uint8_t * packed_headers</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00088">jpeg2000dec.c:88</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_adef906892c6cee7cea0d031b69f3b9c2"><div class="ttname"><a href="struct_jpeg2000_tile.html#adef906892c6cee7cea0d031b69f3b9c2">Jpeg2000Tile::packed_headers_size</a></div><div class="ttdeci">int packed_headers_size</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00089">jpeg2000dec.c:89</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a0c43b8c2e6e162901b26ad79d7e730ad"><div class="ttname"><a href="jpeg2000dec_8c.html#a0c43b8c2e6e162901b26ad79d7e730ad">xyz_pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat xyz_pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00208">jpeg2000dec.c:263</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a7d28ddd5e9c7ea5248de70a38e830a4c"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a7d28ddd5e9c7ea5248de70a38e830a4c">Jpeg2000DecoderContext::packed_headers</a></div><div class="ttdeci">uint8_t * packed_headers</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00108">jpeg2000dec.c:108</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_afc874babd8529ec9f0e0937c2b34ea05"><div class="ttname"><a href="struct_jpeg2000_tile.html#afc874babd8529ec9f0e0937c2b34ea05">Jpeg2000Tile::properties</a></div><div class="ttdeci">uint8_t properties[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00082">jpeg2000dec.c:82</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_adcb355a511d4200d7f87d760c5cfc967"><div class="ttname"><a href="struct_jpeg2000_tile.html#adcb355a511d4200d7f87d760c5cfc967">Jpeg2000Tile::tp_idx</a></div><div class="ttdeci">uint16_t tp_idx</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00091">jpeg2000dec.c:91</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a84136acce213e6b87569a4f3ca5cf7f1"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a84136acce213e6b87569a4f3ca5cf7f1">Jpeg2000Cblk::nb_lengthinc</a></div><div class="ttdeci">uint8_t nb_lengthinc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00180">jpeg2000.h:180</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a64f9f90ece96c7bab4aee3deacf170e0"><div class="ttname"><a href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a></div><div class="ttdeci">#define height</div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aea1603eae0c34d8075f8c1f1fae3e0e9"><div class="ttname"><a href="jpeg2000dec_8c.html#aea1603eae0c34d8075f8c1f1fae3e0e9">get_rgn</a></div><div class="ttdeci">static int get_rgn(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00630">jpeg2000dec.c:630</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_ab6055cba5aa8923fa849a0d0e1e12b99"><div class="ttname"><a href="struct_jpeg2000_cblk.html#ab6055cba5aa8923fa849a0d0e1e12b99">Jpeg2000Cblk::data_start</a></div><div class="ttdeci">int * data_start</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00186">jpeg2000.h:186</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a0751a33c931bfaa36e94efce77534efd"><div class="ttname"><a href="jpeg2000dec_8c.html#a0751a33c931bfaa36e94efce77534efd">jpeg2000_decode_packet</a></div><div class="ttdeci">static int jpeg2000_decode_packet(Jpeg2000DecoderContext *s, Jpeg2000Tile *tile, int *tp_index, Jpeg2000CodingStyle *codsty, Jpeg2000ResLevel *rlevel, int precno, int layno, uint8_t *expn, int numgbits)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01102">jpeg2000dec.c:1102</a></div></div>
<div class="ttc" id="astruct_jpeg2000_component_html_a290be88bb39f534469fcaef435f77db6"><div class="ttname"><a href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">Jpeg2000Component::coord</a></div><div class="ttdeci">int coord[2][2]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00223">jpeg2000.h:223</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga7c4f386d1d6df0214eb35f2be1c82779"><div class="ttname"><a href="group__lavc__core.html#ga7c4f386d1d6df0214eb35f2be1c82779">AV_CODEC_CAP_SLICE_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_SLICE_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00110">codec.h:110</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ab69afcd8b24864516f004ba1baf1594b"><div class="ttname"><a href="jpeg2000dec_8c.html#ab69afcd8b24864516f004ba1baf1594b">get_cod</a></div><div class="ttdeci">static int get_cod(Jpeg2000DecoderContext *s, Jpeg2000CodingStyle *c, uint8_t *properties)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00558">jpeg2000dec.c:558</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483acea94019407aa3c5250d3c80c140b9f1"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483acea94019407aa3c5250d3c80c140b9f1">JPEG2000_COD</a></div><div class="ttdeci">@ JPEG2000_COD</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00041">jpeg2000.h:41</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a9d26daacfa6ecbcc305478a587b2ef23"><div class="ttname"><a href="jpeg2000_8h.html#a9d26daacfa6ecbcc305478a587b2ef23">ff_jpeg2000_getsgnctxno</a></div><div class="ttdeci">static int ff_jpeg2000_getsgnctxno(int flag, int *xorbit)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00271">jpeg2000.h:271</a></div></div>
<div class="ttc" id="aattributes_8h_html"><div class="ttname"><a href="attributes_8h.html">attributes.h</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a046bafb073da626933b4a41612d48628"><div class="ttname"><a href="jpeg2000dec_8c.html#a046bafb073da626933b4a41612d48628">all_pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat all_pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00208">jpeg2000dec.c:265</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_aeaecb097f1f95150d0fe4ce1be65a23c"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#aeaecb097f1f95150d0fe4ce1be65a23c">Jpeg2000CodingStyle::nlayers</a></div><div class="ttdeci">uint8_t nlayers</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00142">jpeg2000.h:142</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_aefcdbbefdfb861ffaf49320d2603ae6a"><div class="ttname"><a href="jpeg2000_8h.html#aefcdbbefdfb861ffaf49320d2603ae6a">JPEG2000_PGOD_LRCP</a></div><div class="ttdeci">#define JPEG2000_PGOD_LRCP</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00115">jpeg2000.h:115</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_afbd6f946e2e71031110ee63525d87bea"><div class="ttname"><a href="jpeg2000dec_8c.html#afbd6f946e2e71031110ee63525d87bea">HAD_QCC</a></div><div class="ttdeci">#define HAD_QCC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00052">jpeg2000dec.c:52</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a96fc8b5771cb5999aed38c519c8d620a"><div class="ttname"><a href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">Jpeg2000Prec::nb_codeblocks_width</a></div><div class="ttdeci">int nb_codeblocks_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00193">jpeg2000.h:193</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a2b1b370357cfcb85c0af26d190818b52"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a2b1b370357cfcb85c0af26d190818b52">Jpeg2000Cblk::coord</a></div><div class="ttdeci">int coord[2][2]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00189">jpeg2000.h:189</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_aac7ae83dfd405a670338156992eb0412"><div class="ttname"><a href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">Jpeg2000ResLevel::log2_prec_height</a></div><div class="ttdeci">uint8_t log2_prec_height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00214">jpeg2000.h:214</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_a884a8e7f5fae5b9b7d0e05fd6864438b"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">Jpeg2000QuantStyle::nguardbits</a></div><div class="ttdeci">uint8_t nguardbits</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00155">jpeg2000.h:155</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html"><div class="ttname"><a href="struct_jpeg2000_prec.html">Jpeg2000Prec</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00192">jpeg2000.h:192</a></div></div>
<div class="ttc" id="astruct_get_byte_context_html"><div class="ttname"><a href="struct_get_byte_context.html">GetByteContext</a></div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00033">bytestream.h:33</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_aa1e98b9e2b736fc9a8d77accfa775791"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#aa1e98b9e2b736fc9a8d77accfa775791">Jpeg2000DecoderContext::codsty</a></div><div class="ttdeci">Jpeg2000CodingStyle codsty[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00125">jpeg2000dec.c:125</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a27f9083de12f57de42bcac48800814f9"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a27f9083de12f57de42bcac48800814f9">Jpeg2000CodingStyle::csty</a></div><div class="ttdeci">uint8_t csty</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00141">jpeg2000.h:141</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a57d4742788f6c0860dc4d1f20b528558"><div class="ttname"><a href="pixfmt_8h.html#a57d4742788f6c0860dc4d1f20b528558">AV_PIX_FMT_XYZ12</a></div><div class="ttdeci">#define AV_PIX_FMT_XYZ12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00445">pixfmt.h:445</a></div></div>
<div class="ttc" id="aavassert_8h_html_a2764bf422e4df5bf3aac652f21fe780a"><div class="ttname"><a href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a></div><div class="ttdeci">#define av_assert2(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00064">avassert.h:64</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a43a0c88368b8379349924030be1737a0"><div class="ttname"><a href="jpeg2000dec_8c.html#a43a0c88368b8379349924030be1737a0">pix_fmt_match</a></div><div class="ttdeci">static int pix_fmt_match(enum AVPixelFormat pix_fmt, int components, int bpc, uint32_t log2_chroma_wh, int pal8)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00208">jpeg2000dec.c:208</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a8fe705002a2ac76b4951b4808a453f92"><div class="ttname"><a href="jpeg2000_8h.html#a8fe705002a2ac76b4951b4808a453f92">JPEG2000_PGOD_RLCP</a></div><div class="ttdeci">#define JPEG2000_PGOD_RLCP</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00116">jpeg2000.h:116</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a6403a49fa4dd19df7facc95174caa35b"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a6403a49fa4dd19df7facc95174caa35b">Jpeg2000DecoderContext::curtileno</a></div><div class="ttdeci">int curtileno</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00132">jpeg2000dec.c:132</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_afdc0f930b056a75cc93eda53bc0c0851"><div class="ttname"><a href="jpeg2000dec_8c.html#afdc0f930b056a75cc93eda53bc0c0851">get_plt</a></div><div class="ttdeci">static int get_plt(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00917">jpeg2000dec.c:917</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a157aa933aeac3c73c9b8a089bf416788"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a157aa933aeac3c73c9b8a089bf416788">Jpeg2000DecoderContext::image_offset_y</a></div><div class="ttdeci">int image_offset_y</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00101">jpeg2000dec.c:101</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ad93c49da264bd6143847c8062960f4a7"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ad93c49da264bd6143847c8062960f4a7">JPEG2000_RGN</a></div><div class="ttdeci">@ JPEG2000_RGN</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00048">jpeg2000.h:48</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_acd41c1fa610e10aec8d438d95ea4a481"><div class="ttname"><a href="jpeg2000dec_8c.html#acd41c1fa610e10aec8d438d95ea4a481">jp2_find_codestream</a></div><div class="ttdeci">static int jp2_find_codestream(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02329">jpeg2000dec.c:2329</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a2232a15101f27004fa44ae8d34ea0832"><div class="ttname"><a href="jpeg2000_8h.html#a2232a15101f27004fa44ae8d34ea0832">JPEG2000_T1_REF</a></div><div class="ttdeci">#define JPEG2000_T1_REF</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00097">jpeg2000.h:97</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a6cae63678bd13356f2840b1d6972badc"><div class="ttname"><a href="jpeg2000dec_8c.html#a6cae63678bd13356f2840b1d6972badc">jpeg2000_init_static_data</a></div><div class="ttdeci">static av_cold void jpeg2000_init_static_data(void)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02472">jpeg2000dec.c:2472</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_afe0a4f5f6683249435f53f151c6dfab9"><div class="ttname"><a href="jpeg2000dec_8c.html#afe0a4f5f6683249435f53f151c6dfab9">get_coc</a></div><div class="ttdeci">static int get_coc(Jpeg2000DecoderContext *s, Jpeg2000CodingStyle *c, uint8_t *properties)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00595">jpeg2000dec.c:595</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_aa29f2401e5618d344eab4bb0880e5c3f"><div class="ttname"><a href="struct_jpeg2000_tile.html#aa29f2401e5618d344eab4bb0880e5c3f">Jpeg2000Tile::packed_headers_stream</a></div><div class="ttdeci">GetByteContext packed_headers_stream</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00090">jpeg2000dec.c:90</a></div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ae38441bc74c37fcc6c6ff2a9f984fb9e"><div class="ttname"><a href="jpeg2000dec_8c.html#ae38441bc74c37fcc6c6ff2a9f984fb9e">JP2_SIG_VALUE</a></div><div class="ttdeci">#define JP2_SIG_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00047">jpeg2000dec.c:47</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a7a7e348d43e55343bf0401e967618f2e"><div class="ttname"><a href="jpeg2000_8h.html#a7a7e348d43e55343bf0401e967618f2e">JPEG2000_SOP_FIXED_BYTES</a></div><div class="ttdeci">#define JPEG2000_SOP_FIXED_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00061">jpeg2000.h:61</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aec0654396126240d9d5a36e50ba0cca6"><div class="ttname"><a href="avcodec_8h.html#aec0654396126240d9d5a36e50ba0cca6">FF_PROFILE_JPEG2000_DCINEMA_4K</a></div><div class="ttdeci">#define FF_PROFILE_JPEG2000_DCINEMA_4K</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01940">avcodec.h:1940</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_ab2f80ca3298c02764718a5b4e3cfbe46"><div class="ttname"><a href="jpeg2000dec_8c.html#ab2f80ca3298c02764718a5b4e3cfbe46">select_stream</a></div><div class="ttdeci">static void select_stream(Jpeg2000DecoderContext *s, Jpeg2000Tile *tile, int *tp_index, Jpeg2000CodingStyle *codsty)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01085">jpeg2000dec.c:1085</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_a19f99dc6a3364426164d4584e644d363"><div class="ttname"><a href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">Jpeg2000Band::prec</a></div><div class="ttdeci">Jpeg2000Prec * prec</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00207">jpeg2000.h:207</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_part_html_ac8f2c57f18cb03209d504ca1edde5eee"><div class="ttname"><a href="struct_jpeg2000_tile_part.html#ac8f2c57f18cb03209d504ca1edde5eee">Jpeg2000TilePart::header_tpg</a></div><div class="ttdeci">GetByteContext header_tpg</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00074">jpeg2000dec.c:74</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ae0e9d52969be1a9148de11a2ee7845b0"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae0e9d52969be1a9148de11a2ee7845b0">JPEG2000_SIZ</a></div><div class="ttdeci">@ JPEG2000_SIZ</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00040">jpeg2000.h:40</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a0b61c05181a92d2d2e4327044624460b"><div class="ttname"><a href="jpeg2000dec_8c.html#a0b61c05181a92d2d2e4327044624460b">WRITE_FRAME</a></div><div class="ttdeci">#define WRITE_FRAME(D, PIXEL)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02011">jpeg2000dec.c:2011</a></div></div>
<div class="ttc" id="astruct_thread_frame_html"><div class="ttname"><a href="struct_thread_frame.html">ThreadFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2thread_8h_source.html#l00034">thread.h:34</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ac30b3b8230ca63d8efea4dee7a8b98f9"><div class="ttname"><a href="jpeg2000_8h.html#ac30b3b8230ca63d8efea4dee7a8b98f9">ff_jpeg2000_getsigctxno</a></div><div class="ttdeci">static int ff_jpeg2000_getsigctxno(int flag, int bandno)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00253">jpeg2000.h:253</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aa786055ad8b70c06fcd3fb7c848bc390"><div class="ttname"><a href="jpeg2000dec_8c.html#aa786055ad8b70c06fcd3fb7c848bc390">VD</a></div><div class="ttdeci">#define VD</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l02562">jpeg2000dec.c:2562</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0">AV_CODEC_ID_JPEG2000</a></div><div class="ttdeci">@ AV_CODEC_ID_JPEG2000</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00137">codec_id.h:137</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aaa534bf857607d9ca3266bfda98bbdf5"><div class="ttname"><a href="jpeg2000dec_8c.html#aaa534bf857607d9ca3266bfda98bbdf5">Jpeg2000POCEntry</a></div><div class="ttdeci">struct Jpeg2000POCEntry Jpeg2000POCEntry</div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a990b1b832c77cb0cafdd40592709131c"><div class="ttname"><a href="jpeg2000dec_8c.html#a990b1b832c77cb0cafdd40592709131c">dequantization_int</a></div><div class="ttdeci">static void dequantization_int(int x, int y, Jpeg2000Cblk *cblk, Jpeg2000Component *comp, Jpeg2000T1Context *t1, Jpeg2000Band *band)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01865">jpeg2000dec.c:1865</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a1b2df0bd5ae1243bed170ae294ccc4d3"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a1b2df0bd5ae1243bed170ae294ccc4d3">Jpeg2000DecoderContext::cdx</a></div><div class="ttdeci">int cdx[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00113">jpeg2000dec.c:113</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a850eb7d25e718a87f62825225003bfb5"><div class="ttname"><a href="jpeg2000_8h.html#a850eb7d25e718a87f62825225003bfb5">JPEG2000_MAX_PASSES</a></div><div class="ttdeci">#define JPEG2000_MAX_PASSES</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00073">jpeg2000.h:73</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a3fef6078a5e92a16c9dd72dd77daaacb"><div class="ttname"><a href="jpeg2000dec_8c.html#a3fef6078a5e92a16c9dd72dd77daaacb">GRAY_PIXEL_FORMATS</a></div><div class="ttdeci">#define GRAY_PIXEL_FORMATS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00246">jpeg2000dec.c:246</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_html_a30c0507193539b93ce9dd65cc819462f"><div class="ttname"><a href="struct_jpeg2000_p_o_c.html#a30c0507193539b93ce9dd65cc819462f">Jpeg2000POC::is_default</a></div><div class="ttdeci">int is_default</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00068">jpeg2000dec.c:68</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="abytestream_8h_html_a141b7cfd338b2f8a832624350df187d6"><div class="ttname"><a href="bytestream_8h.html#a141b7cfd338b2f8a832624350df187d6">bytestream_get_buffer</a></div><div class="ttdeci">static av_always_inline unsigned int bytestream_get_buffer(const uint8_t **b, uint8_t *dst, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00363">bytestream.h:363</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_aeb0845837ecc30af15218688d9ed400a"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#aeb0845837ecc30af15218688d9ed400a">Jpeg2000DecoderContext::tile_offset_x</a></div><div class="ttdeci">int tile_offset_x</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00102">jpeg2000dec.c:102</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ad637675a3d768c20723751076e19019e"><div class="ttname"><a href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a></div><div class="ttdeci">#define JPEG2000_T1_SIG</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00096">jpeg2000.h:96</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a></div><div class="ttdeci">@ AV_PIX_FMT_PAL8</div><div class="ttdoc">8 bits with AV_PIX_FMT_RGB32 palette</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00077">pixfmt.h:77</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a2155ab65fa44322ced6e59e6bf42961d"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a2155ab65fa44322ced6e59e6bf42961d">Jpeg2000Cblk::nb_terminationsinc</a></div><div class="ttdeci">int nb_terminationsinc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00185">jpeg2000.h:185</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ae59594b3861394f30f951d7866f4ed85"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae59594b3861394f30f951d7866f4ed85">JPEG2000_PLT</a></div><div class="ttdeci">@ JPEG2000_PLT</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00045">jpeg2000.h:45</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_jpeg2000_component_html_a01ecf3433d553fc0553dde9be008ffb0"><div class="ttname"><a href="struct_jpeg2000_component.html#a01ecf3433d553fc0553dde9be008ffb0">Jpeg2000Component::i_data</a></div><div class="ttdeci">int * i_data</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00222">jpeg2000.h:222</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_ac38eae8068e6001232f46d6d69e894bb"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#ac38eae8068e6001232f46d6d69e894bb">Jpeg2000DecoderContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00100">jpeg2000dec.c:100</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_entry_html_a29436433d3a08e6e68119abe4a74a510"><div class="ttname"><a href="struct_jpeg2000_p_o_c_entry.html#a29436433d3a08e6e68119abe4a74a510">Jpeg2000POCEntry::RSpoc</a></div><div class="ttdeci">uint8_t RSpoc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00060">jpeg2000dec.c:60</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_html_ae26a0af22d8ec5d46ab851cc90e19956"><div class="ttname"><a href="struct_jpeg2000_p_o_c.html#ae26a0af22d8ec5d46ab851cc90e19956">Jpeg2000POC::poc</a></div><div class="ttdeci">Jpeg2000POCEntry poc[MAX_POCS]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00066">jpeg2000dec.c:66</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="amqc_8h_html_acdf6f409531af930e6fd1c7ccc4d20fb"><div class="ttname"><a href="mqc_8h.html#acdf6f409531af930e6fd1c7ccc4d20fb">MQC_CX_RL</a></div><div class="ttdeci">#define MQC_CX_RL</div><div class="ttdef"><b>Definition:</b> <a href="mqc_8h_source.html#l00034">mqc.h:34</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a0e48151aa81e2949bf69aaf5e3fc2cc9"><div class="ttname"><a href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a></div><div class="ttdeci">#define SIZE_SPECIFIER</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00229">internal.h:229</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00322">frame.h:322</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a205aa9172a6fc48c41dcd4bf375f7fe7"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a205aa9172a6fc48c41dcd4bf375f7fe7">Jpeg2000Cblk::length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00178">jpeg2000.h:178</a></div></div>
<div class="ttc" id="ajpeg2000dwt_8h_html_aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1"><div class="ttname"><a href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a></div><div class="ttdeci">@ FF_DWT53</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dwt_8h_source.html#l00038">jpeg2000dwt.h:38</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_part_html_afedb2f4a3976cfd4f81c0c56a896a10d"><div class="ttname"><a href="struct_jpeg2000_tile_part.html#afedb2f4a3976cfd4f81c0c56a896a10d">Jpeg2000TilePart::tpg</a></div><div class="ttdeci">GetByteContext tpg</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00075">jpeg2000dec.c:75</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a4ec431fa50b5daf7c0a2b5aa1e1a7f93"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a4ec431fa50b5daf7c0a2b5aa1e1a7f93">Jpeg2000DecoderContext::colour_space</a></div><div class="ttdeci">int colour_space</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00116">jpeg2000dec.c:116</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a05035e42c652b7efd7f47d4a4c7577b0"><div class="ttname"><a href="jpeg2000_8h.html#a05035e42c652b7efd7f47d4a4c7577b0">JPEG2000_CBLK_VSC</a></div><div class="ttdeci">#define JPEG2000_CBLK_VSC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00105">jpeg2000.h:105</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a1741e6ad9c1bc9dd7af6644ae1712c16"><div class="ttname"><a href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a></div><div class="ttdeci">static int ff_jpeg2000_ceildivpow2(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00229">jpeg2000.h:229</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_acd8ca71a2e98fe89de38dcc46450ccef"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#acd8ca71a2e98fe89de38dcc46450ccef">Jpeg2000DecoderContext::poc</a></div><div class="ttdeci">Jpeg2000POC poc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00127">jpeg2000dec.c:127</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_aed14fa772ce46881020fd1545c86432c"><div class="ttname"><a href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">AVFrame::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00381">frame.h:381</a></div></div>
<div class="ttc" id="ajpeg2000dsp_8h_html"><div class="ttname"><a href="jpeg2000dsp_8h.html">jpeg2000dsp.h</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a53c1f92e6360c5b8f60b89cbbd343fe3"><div class="ttname"><a href="jpeg2000dec_8c.html#a53c1f92e6360c5b8f60b89cbbd343fe3">jpeg2000_flush</a></div><div class="ttdeci">static void jpeg2000_flush(Jpeg2000DecoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00160">jpeg2000dec.c:160</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_aec14e77a3a096fb5e9805354ed368e11"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#aec14e77a3a096fb5e9805354ed368e11">Jpeg2000CodingStyle::mct</a></div><div class="ttdeci">uint8_t mct</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00143">jpeg2000.h:143</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a880b2b44dac2c43364a2b92e2409114e"><div class="ttname"><a href="jpeg2000dec_8c.html#a880b2b44dac2c43364a2b92e2409114e">RGB_PIXEL_FORMATS</a></div><div class="ttdeci">#define RGB_PIXEL_FORMATS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00245">jpeg2000dec.c:245</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_a7ab89f239c6115fbf3eec72b5dbcc827"><div class="ttname"><a href="jpeg2000_8c.html#a7ab89f239c6115fbf3eec72b5dbcc827">ff_jpeg2000_init_tier1_luts</a></div><div class="ttdeci">void av_cold ff_jpeg2000_init_tier1_luts(void)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00160">jpeg2000.c:160</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a187d352987998985ddba727025a0075f"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">Jpeg2000ResLevel::num_precincts_y</a></div><div class="ttdeci">int num_precincts_y</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00213">jpeg2000.h:213</a></div></div>
<div class="ttc" id="alibfdk-aacenc_8c_html_a3e3649a3e3978bfb8c6e13c4e91c5e6b"><div class="ttname"><a href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a></div><div class="ttdeci">static const AVProfile profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="libfdk-aacenc_8c_source.html#l00428">libfdk-aacenc.c:428</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a25aba8f9b5b2d6f57b2a76ab14953692"><div class="ttname"><a href="jpeg2000_8h.html#a25aba8f9b5b2d6f57b2a76ab14953692">JPEG2000_T1_SGN_S</a></div><div class="ttdeci">#define JPEG2000_T1_SGN_S</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00091">jpeg2000.h:91</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a6745e75006f446818aa1e6fadd6d2327"><div class="ttname"><a href="jpeg2000_8h.html#a6745e75006f446818aa1e6fadd6d2327">JPEG2000_CSTY_EPH</a></div><div class="ttdeci">#define JPEG2000_CSTY_EPH</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00112">jpeg2000.h:112</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_adfb95c655a88732148969db88c396b64"><div class="ttname"><a href="jpeg2000dec_8c.html#adfb95c655a88732148969db88c396b64">XYZ_PIXEL_FORMATS</a></div><div class="ttdeci">#define XYZ_PIXEL_FORMATS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00258">jpeg2000dec.c:258</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a557be5763bc1100784f6538e8ba2503b"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a557be5763bc1100784f6538e8ba2503b">Jpeg2000DecoderContext::numYtiles</a></div><div class="ttdeci">unsigned numYtiles</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00121">jpeg2000dec.c:121</a></div></div>
<div class="ttc" id="alibsvtav1_8c_html_a710bce51374aba96ab04912897666c35"><div class="ttname"><a href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> <a href="libsvtav1_8c_source.html#l00079">libsvtav1.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_add953e122cdc3dd12331081abce3bf26"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#add953e122cdc3dd12331081abce3bf26">Jpeg2000DecoderContext::cbps</a></div><div class="ttdeci">uint8_t cbps[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00103">jpeg2000dec.c:103</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_af829ce2d6083b7014e18d2bb1b72ca64"><div class="ttname"><a href="struct_jpeg2000_cblk.html#af829ce2d6083b7014e18d2bb1b72ca64">Jpeg2000Cblk::data_allocated</a></div><div class="ttdeci">size_t data_allocated</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00183">jpeg2000.h:183</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ac8b736a8223c5348ad85ffff597401ff"><div class="ttname"><a href="libavcodec_2internal_8h.html#ac8b736a8223c5348ad85ffff597401ff">ff_set_dimensions</a></div><div class="ttdeci">int ff_set_dimensions(AVCodecContext *s, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00106">utils.c:106</a></div></div>
<div class="ttc" id="abytestream_8h_html_a7a0eaeb3e0d4d786ed0807884fa4d7d9"><div class="ttname"><a href="bytestream_8h.html#a7a0eaeb3e0d4d786ed0807884fa4d7d9">bytestream2_get_bufferu</a></div><div class="ttdeci">static av_always_inline unsigned int bytestream2_get_bufferu(GetByteContext *g, uint8_t *dst, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00277">bytestream.h:277</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ac235b35d5881008b14f987a57caae7ff"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac235b35d5881008b14f987a57caae7ff">JPEG2000_COC</a></div><div class="ttdeci">@ JPEG2000_COC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00042">jpeg2000.h:42</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a1dce046afae281d40aac41b31b54d8e0"><div class="ttname"><a href="jpeg2000_8h.html#a1dce046afae281d40aac41b31b54d8e0">JPEG2000_PGOD_PCRL</a></div><div class="ttdeci">#define JPEG2000_PGOD_PCRL</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00118">jpeg2000.h:118</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga17ae68044f725fd5ba26c54162b96490"><div class="ttname"><a href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a></div><div class="ttdeci">#define AV_CODEC_FLAG_BITEXACT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00333">avcodec.h:333</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_afecb2b0ae9aec393b7160e32b0fd29c5"><div class="ttname"><a href="jpeg2000_8h.html#afecb2b0ae9aec393b7160e32b0fd29c5">JPEG2000_MAX_DECLEVELS</a></div><div class="ttdeci">#define JPEG2000_MAX_DECLEVELS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00070">jpeg2000.h:70</a></div></div>
<div class="ttc" id="amqc_8h_html_a1cfe32155e6373dbab0b361029b80746"><div class="ttname"><a href="mqc_8h.html#a1cfe32155e6373dbab0b361029b80746">ff_mqc_decode</a></div><div class="ttdeci">int ff_mqc_decode(MqcState *mqc, uint8_t *cxstate)</div><div class="ttdef"><b>Definition:</b> <a href="mqcdec_8c_source.html#l00093">mqcdec.c:93</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_entry_html_ace7202f11bcec090ae9df705d290fe67"><div class="ttname"><a href="struct_jpeg2000_p_o_c_entry.html#ace7202f11bcec090ae9df705d290fe67">Jpeg2000POCEntry::REpoc</a></div><div class="ttdeci">uint8_t REpoc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00061">jpeg2000dec.c:61</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_adf8e4fe492588b2c45475da844d2dbce"><div class="ttname"><a href="jpeg2000dec_8c.html#adf8e4fe492588b2c45475da844d2dbce">jpeg2000_decode_packets</a></div><div class="ttdeci">static int jpeg2000_decode_packets(Jpeg2000DecoderContext *s, Jpeg2000Tile *tile)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01591">jpeg2000dec.c:1591</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aba6e16da60757358cfd5060de9788f6c"><div class="ttname"><a href="jpeg2000dec_8c.html#aba6e16da60757358cfd5060de9788f6c">get_sot</a></div><div class="ttdeci">static int get_sot(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00809">jpeg2000dec.c:809</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html"><div class="ttname"><a href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00173">jpeg2000.h:173</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_af3658d5633a0ac50c6ff2c0c908c4bed"><div class="ttname"><a href="jpeg2000dec_8c.html#af3658d5633a0ac50c6ff2c0c908c4bed">yuv_pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat yuv_pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00208">jpeg2000dec.c:262</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483aae45ee2e9d21be0134ea0d7fe22c3651"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aae45ee2e9d21be0134ea0d7fe22c3651">JPEG2000_QCC</a></div><div class="ttdeci">@ JPEG2000_QCC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00047">jpeg2000.h:47</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a8760643118b0839c8e691b3b3595bfd6"><div class="ttname"><a href="jpeg2000dec_8c.html#a8760643118b0839c8e691b3b3595bfd6">decode_clnpass</a></div><div class="ttdeci">static void decode_clnpass(Jpeg2000DecoderContext *s, Jpeg2000T1Context *t1, int width, int height, int bpno, int bandno, int seg_symbols, int vert_causal_ctx_csty_symbol)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01682">jpeg2000dec.c:1682</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_af1eb1f26885175f16aec8a23f02f5a86"><div class="ttname"><a href="jpeg2000_8c.html#af1eb1f26885175f16aec8a23f02f5a86">ff_jpeg2000_set_significance</a></div><div class="ttdeci">void ff_jpeg2000_set_significance(Jpeg2000T1Context *t1, int x, int y, int negative)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00172">jpeg2000.c:172</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a7bad74ddaa2ec60fb5cc377b1605937d"><div class="ttname"><a href="jpeg2000dec_8c.html#a7bad74ddaa2ec60fb5cc377b1605937d">Jpeg2000POC</a></div><div class="ttdeci">struct Jpeg2000POC Jpeg2000POC</div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_accc89031df461a96ba1744583800f9c6"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#accc89031df461a96ba1744583800f9c6">Jpeg2000DecoderContext::has_ppm</a></div><div class="ttdeci">uint8_t has_ppm</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00107">jpeg2000dec.c:107</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="aimgutils_8h_html"><div class="ttname"><a href="imgutils_8h.html">imgutils.h</a></div></div>
<div class="ttc" id="abytestream_8h_html_aade8884858d9239b8561013a21898dc0"><div class="ttname"><a href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a></div><div class="ttdeci">static av_always_inline void bytestream2_init(GetByteContext *g, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00137">bytestream.h:137</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa102cde7ec5acbc099c3bcbb58556a18"><div class="ttname"><a href="group__lavu__error.html#gaa102cde7ec5acbc099c3bcbb58556a18">AVERROR_BUG</a></div><div class="ttdeci">#define AVERROR_BUG</div><div class="ttdoc">Internal bug, also see AVERROR_BUG2.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00050">error.h:50</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a219f776f9c259250ddd06afcca583008"><div class="ttname"><a href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">Jpeg2000Prec::cblk</a></div><div class="ttdeci">Jpeg2000Cblk * cblk</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00197">jpeg2000.h:197</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_aa37695123b617ba9c2d1791716c30cdc"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#aa37695123b617ba9c2d1791716c30cdc">Jpeg2000DecoderContext::tile_offset_y</a></div><div class="ttdeci">int tile_offset_y</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00102">jpeg2000dec.c:102</a></div></div>
<div class="ttc" id="acamellia_8c_html_a19ec052395ac20ef094966dcffe1bc81"><div class="ttname"><a href="camellia_8c.html#a19ec052395ac20ef094966dcffe1bc81">SP</a></div><div class="ttdeci">static uint64_t SP[8][256]</div><div class="ttdef"><b>Definition:</b> <a href="camellia_8c_source.html#l00040">camellia.c:40</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a72429e7a0c01dadce83548e92e81976d"><div class="ttname"><a href="jpeg2000_8h.html#a72429e7a0c01dadce83548e92e81976d">JPEG2000_SOP_BYTE_LENGTH</a></div><div class="ttdeci">#define JPEG2000_SOP_BYTE_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00062">jpeg2000.h:62</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a55fb7f727c06e19ec5dd89297cf499db"><div class="ttname"><a href="jpeg2000dec_8c.html#a55fb7f727c06e19ec5dd89297cf499db">rgb_pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat rgb_pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00208">jpeg2000dec.c:260</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a0be5aec9b3e298e82adcb981a389f86b"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a0be5aec9b3e298e82adcb981a389f86b">Jpeg2000CodingStyle::log2_cblk_width</a></div><div class="ttdeci">uint8_t log2_cblk_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00138">jpeg2000.h:138</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a4b1d94788381bd9340198c6c17a55952"><div class="ttname"><a href="avcodec_8h.html#a4b1d94788381bd9340198c6c17a55952">FF_PROFILE_JPEG2000_DCINEMA_2K</a></div><div class="ttdeci">#define FF_PROFILE_JPEG2000_DCINEMA_2K</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01939">avcodec.h:1939</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a7c95b2cc927f35017de729d326ef5ef8"><div class="ttname"><a href="jpeg2000dec_8c.html#a7c95b2cc927f35017de729d326ef5ef8">get_qcx</a></div><div class="ttdeci">static int get_qcx(Jpeg2000DecoderContext *s, int n, Jpeg2000QuantStyle *q)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00663">jpeg2000dec.c:663</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_ae3b820ce190a52826358ddd6ddfd55fd"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#ae3b820ce190a52826358ddd6ddfd55fd">Jpeg2000DecoderContext::properties</a></div><div class="ttdeci">uint8_t properties[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00105">jpeg2000dec.c:105</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_aac93422f762286f4f0f340142a1d3986"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#aac93422f762286f4f0f340142a1d3986">Jpeg2000DecoderContext::roi_shift</a></div><div class="ttdeci">uint8_t roi_shift[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00128">jpeg2000dec.c:128</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html"><div class="ttname"><a href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00210">jpeg2000.h:210</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a3ca853a4a814e27b10e05761f8c65e23"><div class="ttname"><a href="struct_jpeg2000_prec.html#a3ca853a4a814e27b10e05761f8c65e23">Jpeg2000Prec::zerobits</a></div><div class="ttdeci">Jpeg2000TgtNode * zerobits</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00195">jpeg2000.h:195</a></div></div>
<div class="ttc" id="apixdesc_8h_html_af30af160970132a3a31c4738629e4495"><div class="ttname"><a href="pixdesc_8h.html#af30af160970132a3a31c4738629e4495">AV_PIX_FMT_FLAG_PAL</a></div><div class="ttdeci">#define AV_PIX_FMT_FLAG_PAL</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00132">pixdesc.h:132</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a2813dd6f432e46143146ee230b8cab97"><div class="ttname"><a href="jpeg2000dec_8c.html#a2813dd6f432e46143146ee230b8cab97">get_tlm</a></div><div class="ttdeci">static int get_tlm(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00879">jpeg2000dec.c:879</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a4396c261b34acf32f8a014a794295a58"><div class="ttname"><a href="jpeg2000dec_8c.html#a4396c261b34acf32f8a014a794295a58">dequantization_float</a></div><div class="ttdeci">static void dequantization_float(int x, int y, Jpeg2000Cblk *cblk, Jpeg2000Component *comp, Jpeg2000T1Context *t1, Jpeg2000Band *band)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01850">jpeg2000dec.c:1850</a></div></div>
<div class="ttc" id="astruct_jpeg2000_p_o_c_html_a60bffec7ee9d27e6e5959239a32de800"><div class="ttname"><a href="struct_jpeg2000_p_o_c.html#a60bffec7ee9d27e6e5959239a32de800">Jpeg2000POC::nb_poc</a></div><div class="ttdeci">int nb_poc</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00067">jpeg2000dec.c:67</a></div></div>
<div class="ttc" id="amqc_8c_html_a3f15735b7c931d560947cb91b9d55f55"><div class="ttname"><a href="mqc_8c.html#a3f15735b7c931d560947cb91b9d55f55">ff_mqc_init_contexts</a></div><div class="ttdeci">void ff_mqc_init_contexts(MqcState *mqc)</div><div class="ttdef"><b>Definition:</b> <a href="mqc_8c_source.html#l00111">mqc.c:111</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aeb21fdd4fc76349f1ec36656cb3c3352"><div class="ttname"><a href="jpeg2000dec_8c.html#aeb21fdd4fc76349f1ec36656cb3c3352">get_bits</a></div><div class="ttdeci">static int get_bits(Jpeg2000DecoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00145">jpeg2000dec.c:145</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a9aa16ad2e95768b6d195a97f7e3b9039"><div class="ttname"><a href="jpeg2000dec_8c.html#a9aa16ad2e95768b6d195a97f7e3b9039">MAX_POCS</a></div><div class="ttdeci">#define MAX_POCS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00054">jpeg2000dec.c:54</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a7ef082bc477145c920c983e96d42bd40"><div class="ttname"><a href="jpeg2000_8h.html#a7ef082bc477145c920c983e96d42bd40">JPEG2000_CBLK_SEGSYM</a></div><div class="ttdeci">#define JPEG2000_CBLK_SEGSYM</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00107">jpeg2000.h:107</a></div></div>
<div class="ttc" id="ajpeg2000dwt_8h_html_aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9"><div class="ttname"><a href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a></div><div class="ttdeci">@ FF_DWT97_INT</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dwt_8h_source.html#l00039">jpeg2000dwt.h:39</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_aa4f3192d6f5500befce1489f09b79b64"><div class="ttname"><a href="jpeg2000dec_8c.html#aa4f3192d6f5500befce1489f09b79b64">dequantization_int_97</a></div><div class="ttdeci">static void dequantization_int_97(int x, int y, Jpeg2000Cblk *cblk, Jpeg2000Component *comp, Jpeg2000T1Context *t1, Jpeg2000Band *band)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l01885">jpeg2000dec.c:1885</a></div></div>
<div class="ttc" id="astruct_jpeg2000_decoder_context_html_a55d8e8b7ea57019478385eff72bfecdc"><div class="ttname"><a href="struct_jpeg2000_decoder_context.html#a55d8e8b7ea57019478385eff72bfecdc">Jpeg2000DecoderContext::tile_width</a></div><div class="ttdeci">int tile_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dec_8c_source.html#l00120">jpeg2000dec.c:120</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ad062fcf69dc475c95e0b6f09aeb18eb1"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ad062fcf69dc475c95e0b6f09aeb18eb1">JPEG2000_TLM</a></div><div class="ttdeci">@ JPEG2000_TLM</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00043">jpeg2000.h:43</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
