<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/vaapi_hevc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">vaapi_hevc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="vaapi__hevc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * HEVC HW decode acceleration through VA API</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2015 Timo Rothenpieler &lt;timo@rothenpieler.org&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;va/va.h&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;va/va_dec_hevc.h&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hevcdec_8h.html">hevcdec.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hwconfig_8h.html">hwconfig.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vaapi__decode_8h.html">vaapi_decode.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vaapi__hevc_8h.html">vaapi_hevc.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="h265__profile__level_8h.html">h265_profile_level.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html">   33</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html">VAAPIDecodePictureHEVC</a> {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#if VA_CHECK_VERSION(1, 2, 0)</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    VAPictureParameterBufferHEVCExtension <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    VASliceParameterBufferHEVCExtension <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">   38</a></span>&#160;    VAPictureParameterBufferHEVC <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">   39</a></span>&#160;    VASliceParameterBufferHEVC <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a66c8e6b181b0ac5eb0b82073cd055841">   41</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a66c8e6b181b0ac5eb0b82073cd055841">last_buffer</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a851f065a572434cac623c252c7ba9bf2">   42</a></span>&#160;    <span class="keywordtype">size_t</span>         <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a851f065a572434cac623c252c7ba9bf2">last_size</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">   44</a></span>&#160;    <a class="code" href="struct_v_a_a_p_i_decode_picture.html">VAAPIDecodePicture</a> <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a2126424a161cc24fcec7f0ed83d29bd4">   45</a></span>&#160;} <a class="code" href="vaapi__hevc_8c.html#a2126424a161cc24fcec7f0ed83d29bd4">VAAPIDecodePictureHEVC</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#aed3c6396ea46307b88d9aae750ec1d2d">   47</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vaapi__hevc_8c.html#aed3c6396ea46307b88d9aae750ec1d2d">init_vaapi_pic</a>(VAPictureHEVC *va_pic)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    va_pic-&gt;picture_id    = VA_INVALID_ID;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    va_pic-&gt;flags         = VA_PICTURE_HEVC_INVALID;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    va_pic-&gt;pic_order_cnt = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a7dce23850a29299d0885f14c48f078ee">   54</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vaapi__hevc_8c.html#a7dce23850a29299d0885f14c48f078ee">fill_vaapi_pic</a>(VAPictureHEVC *va_pic, <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_frame.html">HEVCFrame</a> *pic, <span class="keywordtype">int</span> rps_type)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    va_pic-&gt;picture_id    = <a class="code" href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a>(pic-&gt;<a class="code" href="struct_h_e_v_c_frame.html#aee81eb97e40d352ffb8fd32f5dec2f96">frame</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    va_pic-&gt;pic_order_cnt = pic-&gt;<a class="code" href="struct_h_e_v_c_frame.html#a82014c241a8327c25aa13d5aca2d779f">poc</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    va_pic-&gt;flags         = rps_type;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_h_e_v_c_frame.html#a6beccee5e7efdae51301c54070d2ce1f">flags</a> &amp; <a class="code" href="hevcdec_8h.html#ab135eab56b90265f3406ff7f62de56b0">HEVC_FRAME_FLAG_LONG_REF</a>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        va_pic-&gt;flags |= VA_PICTURE_HEVC_LONG_TERM_REFERENCE;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_h_e_v_c_frame.html#aee81eb97e40d352ffb8fd32f5dec2f96">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a7f761518da738c704676c6a5f08eeb8e">interlaced_frame</a>) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        va_pic-&gt;flags |= VA_PICTURE_HEVC_FIELD_PIC;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> (!pic-&gt;<a class="code" href="struct_h_e_v_c_frame.html#aee81eb97e40d352ffb8fd32f5dec2f96">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a6f3ee0596312c90a2ef2ad160c991188">top_field_first</a>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            va_pic-&gt;flags |= VA_PICTURE_HEVC_BOTTOM_FIELD;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a0134150153b686e3f589383f54baa4d7">   71</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__hevc_8c.html#a0134150153b686e3f589383f54baa4d7">find_frame_rps_type</a>(<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_frame.html">HEVCFrame</a> *pic)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    VASurfaceID pic_surf = <a class="code" href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a>(pic-&gt;<a class="code" href="struct_h_e_v_c_frame.html#aee81eb97e40d352ffb8fd32f5dec2f96">frame</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;rps[<a class="code" href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142a9ba86f3c4a6af0fe50e9a3a1e727ab71">ST_CURR_BEF</a>].nb_refs; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">if</span> (pic_surf == <a class="code" href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;rps[<a class="code" href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142a9ba86f3c4a6af0fe50e9a3a1e727ab71">ST_CURR_BEF</a>].ref[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;frame))</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">return</span> VA_PICTURE_HEVC_RPS_ST_CURR_BEFORE;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;rps[<a class="code" href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142a146e8c8630b60a545134b5d7fb25920d">ST_CURR_AFT</a>].nb_refs; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">if</span> (pic_surf == <a class="code" href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;rps[<a class="code" href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142a146e8c8630b60a545134b5d7fb25920d">ST_CURR_AFT</a>].ref[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;frame))</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">return</span> VA_PICTURE_HEVC_RPS_ST_CURR_AFTER;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;rps[<a class="code" href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142ac0ee505491868592e73225ff9feaf978">LT_CURR</a>].nb_refs; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">if</span> (pic_surf == <a class="code" href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;rps[<a class="code" href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142ac0ee505491868592e73225ff9feaf978">LT_CURR</a>].ref[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;frame))</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">return</span> VA_PICTURE_HEVC_RPS_LT_CURR;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a28ff0c2f9a37aec388507c8b24a3afa6">   94</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vaapi__hevc_8c.html#a28ff0c2f9a37aec388507c8b24a3afa6">fill_vaapi_reference_frames</a>(<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, VAPictureParameterBufferHEVC *pp)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_frame.html">HEVCFrame</a> *current_picture = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, rps_type;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, j = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(pp-&gt;ReferenceFrames); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_frame.html">HEVCFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">while</span> (!<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> &amp;&amp; j &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;DPB)) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span> (&amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;DPB[j] != current_picture &amp;&amp; (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;DPB[j].flags &amp; (<a class="code" href="hevcdec_8h.html#ab135eab56b90265f3406ff7f62de56b0">HEVC_FRAME_FLAG_LONG_REF</a> | <a class="code" href="hevcdec_8h.html#a0ed95e59b085adc0005f0f6a3df4672a">HEVC_FRAME_FLAG_SHORT_REF</a>)))</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> = &amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;DPB[j];</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            j++;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="vaapi__hevc_8c.html#aed3c6396ea46307b88d9aae750ec1d2d">init_vaapi_pic</a>(&amp;pp-&gt;ReferenceFrames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            rps_type = <a class="code" href="vaapi__hevc_8c.html#a0134150153b686e3f589383f54baa4d7">find_frame_rps_type</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <a class="code" href="vaapi__hevc_8c.html#a7dce23850a29299d0885f14c48f078ee">fill_vaapi_pic</a>(&amp;pp-&gt;ReferenceFrames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, rps_type);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a277ba012828813c39a5723d98c00e7d0">  117</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__hevc_8c.html#a277ba012828813c39a5723d98c00e7d0">vaapi_hevc_start_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a>          *avctx,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                  <a class="code" href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                  <a class="code" href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a> uint32_t       <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a>        *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html">VAAPIDecodePictureHEVC</a> *pic = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref-&gt;hwaccel_picture_private;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a>          *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ps.sps;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a>          *<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ps.pps;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_scaling_list.html">ScalingList</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">int</span> pic_param_size, err, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    VAPictureParameterBufferHEVC *pic_param = (VAPictureParameterBufferHEVC *)&amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>.<a class="code" href="struct_v_a_a_p_i_decode_picture.html#abd5d2c5a39e185cc8b2ebfe595f267a6">output_surface</a> = <a class="code" href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref-&gt;frame);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    *pic_param = (VAPictureParameterBufferHEVC) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        .pic_width_in_luma_samples                    = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        .pic_height_in_luma_samples                   = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        .log2_min_luma_coding_block_size_minus3       = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size - 3,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        .sps_max_dec_pic_buffering_minus1             = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers - 1].max_dec_pic_buffering - 1,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        .log2_diff_max_min_luma_coding_block_size     = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_coding_block_size,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        .log2_min_transform_block_size_minus2         = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size - 2,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        .log2_diff_max_min_transform_block_size       = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_trafo_size  - <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        .max_transform_hierarchy_depth_inter          = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_inter,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        .max_transform_hierarchy_depth_intra          = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_intra,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        .num_short_term_ref_pic_sets                  = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        .num_long_term_ref_pic_sps                    = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;num_long_term_ref_pics_sps,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        .num_ref_idx_l0_default_active_minus1         = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l0_default_active - 1,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        .num_ref_idx_l1_default_active_minus1         = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l1_default_active - 1,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        .init_qp_minus26                              = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pic_init_qp_minus26,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        .pps_cb_qp_offset                             = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        .pps_cr_qp_offset                             = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        .pcm_sample_bit_depth_luma_minus1             = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth - 1,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        .pcm_sample_bit_depth_chroma_minus1           = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth_chroma - 1,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        .log2_min_pcm_luma_coding_block_size_minus3   = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.log2_min_pcm_cb_size - 3,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        .log2_diff_max_min_pcm_luma_coding_block_size = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.log2_max_pcm_cb_size - <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.log2_min_pcm_cb_size,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        .diff_cu_qp_delta_depth                       = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        .pps_beta_offset_div2                         = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;beta_offset / 2,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        .pps_tc_offset_div2                           = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tc_offset / 2,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        .log2_parallel_merge_level_minus2             = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_parallel_merge_level - 2,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        .bit_depth_luma_minus8                        = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth - 8,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        .bit_depth_chroma_minus8                      = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth - 8,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        .log2_max_pic_order_cnt_lsb_minus4            = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_poc_lsb - 4,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        .num_extra_slice_header_bits                  = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_extra_slice_header_bits,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        .pic_fields.bits = {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            .chroma_format_idc                          = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            .tiles_enabled_flag                         = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tiles_enabled_flag,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            .separate_colour_plane_flag                 = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;separate_colour_plane_flag,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            .pcm_enabled_flag                           = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_enabled_flag,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            .scaling_list_enabled_flag                  = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list_enable_flag,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            .transform_skip_enabled_flag                = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;transform_skip_enabled_flag,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            .amp_enabled_flag                           = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;amp_enabled_flag,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            .strong_intra_smoothing_enabled_flag        = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_strong_intra_smoothing_enable_flag,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            .sign_data_hiding_enabled_flag              = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sign_data_hiding_flag,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            .constrained_intra_pred_flag                = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;constrained_intra_pred_flag,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            .cu_qp_delta_enabled_flag                   = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cu_qp_delta_enabled_flag,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            .weighted_pred_flag                         = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;weighted_pred_flag,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            .weighted_bipred_flag                       = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;weighted_bipred_flag,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            .transquant_bypass_enabled_flag             = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;transquant_bypass_enable_flag,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            .entropy_coding_sync_enabled_flag           = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;entropy_coding_sync_enabled_flag,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            .pps_loop_filter_across_slices_enabled_flag = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;seq_loop_filter_across_slices_enabled_flag,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            .loop_filter_across_tiles_enabled_flag      = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;loop_filter_across_tiles_enabled_flag,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            .pcm_loop_filter_disabled_flag              = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.loop_filter_disable_flag,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        },</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        .slice_parsing_fields.bits = {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            .lists_modification_present_flag             = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;lists_modification_present_flag,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            .long_term_ref_pics_present_flag             = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;long_term_ref_pics_present_flag,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            .sps_temporal_mvp_enabled_flag               = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_temporal_mvp_enabled_flag,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            .cabac_init_present_flag                     = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cabac_init_present_flag,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            .output_flag_present_flag                    = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;output_flag_present_flag,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            .dependent_slice_segments_enabled_flag       = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;dependent_slice_segments_enabled_flag,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            .pps_slice_chroma_qp_offsets_present_flag    = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pic_slice_level_chroma_qp_offsets_present_flag,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            .sample_adaptive_offset_enabled_flag         = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sao_enabled,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            .deblocking_filter_override_enabled_flag     = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;deblocking_filter_override_enabled_flag,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            .pps_disable_deblocking_filter_flag          = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;disable_dbf,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            .slice_segment_header_extension_present_flag = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;slice_header_extension_present_flag,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            .RapPicFlag                                  = <a class="code" href="hevcdec_8h.html#aef033ac1a8e8b14e8bceb15e9c4f2df3">IS_IRAP</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>),</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            .IdrPicFlag                                  = <a class="code" href="hevcdec_8h.html#a0f174b8d90a40772929031f0ba8d239d">IS_IDR</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>),</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            .IntraPicFlag                                = <a class="code" href="hevcdec_8h.html#aef033ac1a8e8b14e8bceb15e9c4f2df3">IS_IRAP</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>),</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        },</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    };</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a7dce23850a29299d0885f14c48f078ee">fill_vaapi_pic</a>(&amp;pic_param-&gt;CurrPic, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref, 0);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a28ff0c2f9a37aec388507c8b24a3afa6">fill_vaapi_reference_frames</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, pic_param);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tiles_enabled_flag) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        pic_param-&gt;num_tile_columns_minus1 = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns - 1;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        pic_param-&gt;num_tile_rows_minus1    = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows - 1;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            pic_param-&gt;column_width_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            pic_param-&gt;row_height_minus1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;sh.short_term_ref_pic_set_sps_flag == 0 &amp;&amp; <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;sh.short_term_rps) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        pic_param-&gt;st_rps_bits = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;sh.short_term_ref_pic_set_size;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        pic_param-&gt;st_rps_bits = 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="preprocessor">#if VA_CHECK_VERSION(1, 2, 0)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> == <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>.rext = (VAPictureParameterBufferHEVCRext) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            .range_extension_pic_fields.bits  = {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                .transform_skip_rotation_enabled_flag       = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;transform_skip_rotation_enabled_flag,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                .transform_skip_context_enabled_flag        = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;transform_skip_context_enabled_flag,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                .implicit_rdpcm_enabled_flag                = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;implicit_rdpcm_enabled_flag,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                .explicit_rdpcm_enabled_flag                = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;explicit_rdpcm_enabled_flag,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                .extended_precision_processing_flag         = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;extended_precision_processing_flag,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                .intra_smoothing_disabled_flag              = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;intra_smoothing_disabled_flag,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                .high_precision_offsets_enabled_flag        = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;high_precision_offsets_enabled_flag,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                .persistent_rice_adaptation_enabled_flag    = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;persistent_rice_adaptation_enabled_flag,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                .cabac_bypass_alignment_enabled_flag        = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;cabac_bypass_alignment_enabled_flag,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                .cross_component_prediction_enabled_flag    = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cross_component_prediction_enabled_flag,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                .chroma_qp_offset_list_enabled_flag         = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;chroma_qp_offset_list_enabled_flag,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            },</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            .diff_cu_chroma_qp_offset_depth                 = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_chroma_qp_offset_depth,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            .chroma_qp_offset_list_len_minus1               = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;chroma_qp_offset_list_len_minus1,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            .log2_sao_offset_scale_luma                     = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_sao_offset_scale_luma,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            .log2_sao_offset_scale_chroma                   = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_sao_offset_scale_chroma,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            .log2_max_transform_skip_block_size_minus2      = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_max_transform_skip_block_size - 2,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        };</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>.rext.cb_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]        = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>.rext.cr_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]        = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    pic_param_size = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> == <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a> ?</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                            <span class="keyword">sizeof</span>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>) : <span class="keyword">sizeof</span>(VAPictureParameterBufferHEVC);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    err = <a class="code" href="vaapi__decode_8c.html#a4e688842bcedd19695d76a5b1b76ab1d">ff_vaapi_decode_make_param_buffer</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                            VAPictureParameterBufferType,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                            &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>, pic_param_size);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;scaling_list_data_present_flag)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a> = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;scaling_list;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list_enable_flag)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a> = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a>) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        VAIQMatrixBufferHEVC iq_matrix;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                iq_matrix.ScalingList4x4[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a>-&gt;sl[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j];</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (j = 0; j &lt; 64; j++) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                iq_matrix.ScalingList8x8[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j]   = <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a>-&gt;sl[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j];</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                iq_matrix.ScalingList16x16[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a>-&gt;sl[2][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j];</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    iq_matrix.ScalingList32x32[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a>-&gt;sl[3][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3][j];</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            iq_matrix.ScalingListDC16x16[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a>-&gt;sl_dc[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                iq_matrix.ScalingListDC32x32[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a>-&gt;sl_dc[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3];</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        err = <a class="code" href="vaapi__decode_8c.html#a4e688842bcedd19695d76a5b1b76ab1d">ff_vaapi_decode_make_param_buffer</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                                VAIQMatrixBufferType,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                                &amp;iq_matrix, <span class="keyword">sizeof</span>(iq_matrix));</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="vaapi__decode_8c.html#ac3c240a64c6f571243be3832bd3a8558">ff_vaapi_decode_cancel</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a092e7e4714e4a471a9b8788afb121ef8">  295</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__hevc_8c.html#a092e7e4714e4a471a9b8788afb121ef8">vaapi_hevc_end_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a>        *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html">VAAPIDecodePictureHEVC</a> *pic = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref-&gt;hwaccel_picture_private;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    VASliceParameterBufferHEVC *last_slice_param = (VASliceParameterBufferHEVC *)&amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">int</span> slice_param_size = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> == <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a> ?</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                            <span class="keyword">sizeof</span>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>) : <span class="keyword">sizeof</span>(VASliceParameterBufferHEVC);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a851f065a572434cac623c252c7ba9bf2">last_size</a>) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        last_slice_param-&gt;LongSliceFlags.fields.LastSliceOfPic = 1;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vaapi__decode_8c.html#a25724e62b073e4bb935b4136e157958c">ff_vaapi_decode_make_slice_buffer</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                                &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>, slice_param_size,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                                pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a66c8e6b181b0ac5eb0b82073cd055841">last_buffer</a>, pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a851f065a572434cac623c252c7ba9bf2">last_size</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vaapi__decode_8c.html#a9e8a0b1bab63ee238493ce6e766423c4">ff_vaapi_decode_issue</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="vaapi__decode_8c.html#ac3c240a64c6f571243be3832bd3a8558">ff_vaapi_decode_cancel</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a90bfd3adbf7e0e7d35e96777ab3cddb6">  325</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vaapi__hevc_8c.html#a90bfd3adbf7e0e7d35e96777ab3cddb6">fill_pred_weight_table</a>(<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="struct_slice_header.html">SliceHeader</a> *sh,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                   VASliceParameterBufferHEVC *slice_param)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    memset(slice_param-&gt;delta_luma_weight_l0,   0, <span class="keyword">sizeof</span>(slice_param-&gt;delta_luma_weight_l0));</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    memset(slice_param-&gt;delta_luma_weight_l1,   0, <span class="keyword">sizeof</span>(slice_param-&gt;delta_luma_weight_l1));</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    memset(slice_param-&gt;luma_offset_l0,         0, <span class="keyword">sizeof</span>(slice_param-&gt;luma_offset_l0));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    memset(slice_param-&gt;luma_offset_l1,         0, <span class="keyword">sizeof</span>(slice_param-&gt;luma_offset_l1));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    memset(slice_param-&gt;delta_chroma_weight_l0, 0, <span class="keyword">sizeof</span>(slice_param-&gt;delta_chroma_weight_l0));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    memset(slice_param-&gt;delta_chroma_weight_l1, 0, <span class="keyword">sizeof</span>(slice_param-&gt;delta_chroma_weight_l1));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    memset(slice_param-&gt;ChromaOffsetL0,         0, <span class="keyword">sizeof</span>(slice_param-&gt;ChromaOffsetL0));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    memset(slice_param-&gt;ChromaOffsetL1,         0, <span class="keyword">sizeof</span>(slice_param-&gt;ChromaOffsetL1));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    slice_param-&gt;delta_chroma_log2_weight_denom = 0;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    slice_param-&gt;luma_log2_weight_denom         = 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a">HEVC_SLICE_I</a> ||</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        (sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca120fc088451ea70f9ff083787b639d2b">HEVC_SLICE_P</a> &amp;&amp; !<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ps.pps-&gt;weighted_pred_flag) ||</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        (sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b">HEVC_SLICE_B</a> &amp;&amp; !<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ps.pps-&gt;weighted_bipred_flag))</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    slice_param-&gt;luma_log2_weight_denom = sh-&gt;<a class="code" href="struct_slice_header.html#a218306bd0d2cbc4eae94dd2878d7a023">luma_log2_weight_denom</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ps.sps-&gt;chroma_format_idc) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        slice_param-&gt;delta_chroma_log2_weight_denom = sh-&gt;<a class="code" href="struct_slice_header.html#ac3be96507907971724d5ff12b871b298">chroma_log2_weight_denom</a> - sh-&gt;<a class="code" href="struct_slice_header.html#a218306bd0d2cbc4eae94dd2878d7a023">luma_log2_weight_denom</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 15 &amp;&amp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; sh-&gt;<a class="code" href="struct_slice_header.html#aaab64ccee8694670bbe578467b83c937">nb_refs</a>[<a class="code" href="hevcdec_8h.html#ad5111479796248b13cf12b3a93721f35">L0</a>]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        slice_param-&gt;delta_luma_weight_l0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sh-&gt;<a class="code" href="struct_slice_header.html#a176ec44062cbcc8ed3e56575034bd745">luma_weight_l0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - (1 &lt;&lt; sh-&gt;<a class="code" href="struct_slice_header.html#a218306bd0d2cbc4eae94dd2878d7a023">luma_log2_weight_denom</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        slice_param-&gt;luma_offset_l0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sh-&gt;<a class="code" href="struct_slice_header.html#ae47eca834e325d854dc1838b5187d44e">luma_offset_l0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        slice_param-&gt;delta_chroma_weight_l0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = sh-&gt;<a class="code" href="struct_slice_header.html#ac7d5a34cf5b29f5972310c3080f12576">chroma_weight_l0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] - (1 &lt;&lt; sh-&gt;<a class="code" href="struct_slice_header.html#ac3be96507907971724d5ff12b871b298">chroma_log2_weight_denom</a>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        slice_param-&gt;delta_chroma_weight_l0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = sh-&gt;<a class="code" href="struct_slice_header.html#ac7d5a34cf5b29f5972310c3080f12576">chroma_weight_l0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] - (1 &lt;&lt; sh-&gt;<a class="code" href="struct_slice_header.html#ac3be96507907971724d5ff12b871b298">chroma_log2_weight_denom</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        slice_param-&gt;ChromaOffsetL0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = sh-&gt;<a class="code" href="struct_slice_header.html#a9bb65a93861bbb84adb045e3c322e9c5">chroma_offset_l0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        slice_param-&gt;ChromaOffsetL0[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = sh-&gt;<a class="code" href="struct_slice_header.html#a9bb65a93861bbb84adb045e3c322e9c5">chroma_offset_l0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1];</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b">HEVC_SLICE_B</a>) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 15 &amp;&amp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; sh-&gt;<a class="code" href="struct_slice_header.html#aaab64ccee8694670bbe578467b83c937">nb_refs</a>[<a class="code" href="snow_8txt.html#a953a9770ad6277dc3b27ebaf135b9bad">L1</a>]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            slice_param-&gt;delta_luma_weight_l1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sh-&gt;<a class="code" href="struct_slice_header.html#a48504d202c7fbf15a24c2acac09c9405">luma_weight_l1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - (1 &lt;&lt; sh-&gt;<a class="code" href="struct_slice_header.html#a218306bd0d2cbc4eae94dd2878d7a023">luma_log2_weight_denom</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            slice_param-&gt;luma_offset_l1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sh-&gt;<a class="code" href="struct_slice_header.html#a80415cba2b8d2b9a76b21c3ccf98cf47">luma_offset_l1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            slice_param-&gt;delta_chroma_weight_l1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = sh-&gt;<a class="code" href="struct_slice_header.html#a08cba3245afa79cf27b02de3cb82e339">chroma_weight_l1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] - (1 &lt;&lt; sh-&gt;<a class="code" href="struct_slice_header.html#ac3be96507907971724d5ff12b871b298">chroma_log2_weight_denom</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            slice_param-&gt;delta_chroma_weight_l1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = sh-&gt;<a class="code" href="struct_slice_header.html#a08cba3245afa79cf27b02de3cb82e339">chroma_weight_l1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] - (1 &lt;&lt; sh-&gt;<a class="code" href="struct_slice_header.html#ac3be96507907971724d5ff12b871b298">chroma_log2_weight_denom</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            slice_param-&gt;ChromaOffsetL1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = sh-&gt;<a class="code" href="struct_slice_header.html#a81dd2c3e689df79de82bdad1d46e71ee">chroma_offset_l1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            slice_param-&gt;ChromaOffsetL1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = sh-&gt;<a class="code" href="struct_slice_header.html#a81dd2c3e689df79de82bdad1d46e71ee">chroma_offset_l1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1];</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a756d496c369d8e3d6d177e3e1978a995">  375</a></span>&#160;<span class="keyword">static</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="vaapi__hevc_8c.html#a756d496c369d8e3d6d177e3e1978a995">get_ref_pic_index</a>(<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_frame.html">HEVCFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html">VAAPIDecodePictureHEVC</a> *pic = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref-&gt;hwaccel_picture_private;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    VAPictureParameterBufferHEVC *pp = (VAPictureParameterBufferHEVC *)&amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">pic_param</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (!<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">return</span> 0xff;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(pp-&gt;ReferenceFrames); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        VASurfaceID pid = pp-&gt;ReferenceFrames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].picture_id;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordtype">int</span> poc = pp-&gt;ReferenceFrames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].pic_order_cnt;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span> (pid != VA_INVALID_ID &amp;&amp; pid == <a class="code" href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;frame) &amp;&amp; poc == <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;poc)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> 0xff;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a5070252fae4aeae1937545ed03f2ac96">  394</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__hevc_8c.html#a5070252fae4aeae1937545ed03f2ac96">vaapi_hevc_decode_slice</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>  *<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                   uint32_t        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a>        *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_slice_header.html">SliceHeader</a>       *sh = &amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;sh;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html">VAAPIDecodePictureHEVC</a> *pic = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref-&gt;hwaccel_picture_private;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    VASliceParameterBufferHEVC *last_slice_param = (VASliceParameterBufferHEVC *)&amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordtype">int</span> slice_param_size = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> == <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a> ?</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                            <span class="keyword">sizeof</span>(pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>) : <span class="keyword">sizeof</span>(VASliceParameterBufferHEVC);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordtype">int</span> nb_list = (sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b">HEVC_SLICE_B</a>) ?</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                  2 : (sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a">HEVC_SLICE_I</a> ? 0 : 1);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">int</span> err, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, list_idx;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span> (!sh-&gt;<a class="code" href="struct_slice_header.html#aded77c595cfcc47662d1bf48911cee8e">first_slice_in_pic_flag</a>) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        err = <a class="code" href="vaapi__decode_8c.html#a25724e62b073e4bb935b4136e157958c">ff_vaapi_decode_make_slice_buffer</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                                &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">last_slice_param</a>, slice_param_size,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                                pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a66c8e6b181b0ac5eb0b82073cd055841">last_buffer</a>, pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a851f065a572434cac623c252c7ba9bf2">last_size</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a66c8e6b181b0ac5eb0b82073cd055841">last_buffer</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a851f065a572434cac623c252c7ba9bf2">last_size</a>   = 0;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="vaapi__decode_8c.html#ac3c240a64c6f571243be3832bd3a8558">ff_vaapi_decode_cancel</a>(avctx, &amp;pic-&gt;<a class="code" href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">pic</a>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    *last_slice_param = (VASliceParameterBufferHEVC) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        .slice_data_size               = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>,</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        .slice_data_offset             = 0,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        .slice_data_flag               = VA_SLICE_DATA_FLAG_ALL,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="comment">/* Add 1 to the bits count here to account for the byte_alignment bit, which</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">         * always is at least one bit and not accounted for otherwise. */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        .slice_data_byte_offset        = (<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;HEVClc-&gt;gb) + 1 + 7) / 8,</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        .slice_segment_address         = sh-&gt;<a class="code" href="struct_slice_header.html#aa63172cb925da781dd0f790a4dd39944">slice_segment_addr</a>,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        .slice_qp_delta                = sh-&gt;<a class="code" href="struct_slice_header.html#ab35917bf16a67869a4e5b16139ee678c">slice_qp_delta</a>,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        .slice_cb_qp_offset            = sh-&gt;<a class="code" href="struct_slice_header.html#a675f98cfd2becda18767674e319b9b13">slice_cb_qp_offset</a>,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        .slice_cr_qp_offset            = sh-&gt;<a class="code" href="struct_slice_header.html#af82ed58c5a8c660452a498ff4ee8653a">slice_cr_qp_offset</a>,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        .slice_beta_offset_div2        = sh-&gt;<a class="code" href="struct_slice_header.html#ae8914e7ccb5ba7ce1d8732fbfa909fac">beta_offset</a> / 2,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        .slice_tc_offset_div2          = sh-&gt;<a class="code" href="struct_slice_header.html#a1f882f8038c41eae7373f08aa3c136c5">tc_offset</a> / 2,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        .collocated_ref_idx            = sh-&gt;<a class="code" href="struct_slice_header.html#a1d2d8fba17c1f7e94be03c7c1797c405">slice_temporal_mvp_enabled_flag</a> ? sh-&gt;<a class="code" href="struct_slice_header.html#ae3bee3e7013e58554403a712374afb23">collocated_ref_idx</a> : 0xFF,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        .five_minus_max_num_merge_cand = sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a> == <a class="code" href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a">HEVC_SLICE_I</a> ? 0 : 5 - sh-&gt;<a class="code" href="struct_slice_header.html#a58bcf524f05008aa9d595bea0405d9c2">max_num_merge_cand</a>,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        .num_ref_idx_l0_active_minus1  = sh-&gt;<a class="code" href="struct_slice_header.html#aaab64ccee8694670bbe578467b83c937">nb_refs</a>[<a class="code" href="hevcdec_8h.html#ad5111479796248b13cf12b3a93721f35">L0</a>] ? sh-&gt;<a class="code" href="struct_slice_header.html#aaab64ccee8694670bbe578467b83c937">nb_refs</a>[<a class="code" href="hevcdec_8h.html#ad5111479796248b13cf12b3a93721f35">L0</a>] - 1 : 0,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        .num_ref_idx_l1_active_minus1  = sh-&gt;<a class="code" href="struct_slice_header.html#aaab64ccee8694670bbe578467b83c937">nb_refs</a>[<a class="code" href="snow_8txt.html#a953a9770ad6277dc3b27ebaf135b9bad">L1</a>] ? sh-&gt;<a class="code" href="struct_slice_header.html#aaab64ccee8694670bbe578467b83c937">nb_refs</a>[<a class="code" href="snow_8txt.html#a953a9770ad6277dc3b27ebaf135b9bad">L1</a>] - 1 : 0,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        .LongSliceFlags.fields = {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            .dependent_slice_segment_flag                 = sh-&gt;<a class="code" href="struct_slice_header.html#acc8ef1fb8d572d384e049b3a63364dd7">dependent_slice_segment_flag</a>,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            .slice_type                                   = sh-&gt;<a class="code" href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">slice_type</a>,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            .color_plane_id                               = sh-&gt;<a class="code" href="struct_slice_header.html#a4db48d8215b45fd6c9e9fb1f33f7edf9">colour_plane_id</a>,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            .mvd_l1_zero_flag                             = sh-&gt;<a class="code" href="struct_slice_header.html#a1aba4621e5159447658eee7c481f940d">mvd_l1_zero_flag</a>,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            .cabac_init_flag                              = sh-&gt;<a class="code" href="struct_slice_header.html#ac1da472d4ca08c3fdb7a6076455be94a">cabac_init_flag</a>,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            .slice_temporal_mvp_enabled_flag              = sh-&gt;<a class="code" href="struct_slice_header.html#a1d2d8fba17c1f7e94be03c7c1797c405">slice_temporal_mvp_enabled_flag</a>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            .slice_deblocking_filter_disabled_flag        = sh-&gt;<a class="code" href="struct_slice_header.html#a1859b9f791df8a88cece8c873d28c00f">disable_deblocking_filter_flag</a>,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            .collocated_from_l0_flag                      = sh-&gt;<a class="code" href="struct_slice_header.html#af7c200733ca05712328990582c499ee3">collocated_list</a> == <a class="code" href="hevcdec_8h.html#ad5111479796248b13cf12b3a93721f35">L0</a> ? 1 : 0,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            .slice_loop_filter_across_slices_enabled_flag = sh-&gt;<a class="code" href="struct_slice_header.html#af668101a695ff77277de477f936a1927">slice_loop_filter_across_slices_enabled_flag</a>,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            .slice_sao_luma_flag                          = sh-&gt;<a class="code" href="struct_slice_header.html#ae30835aeebf5168614196b9253f67f4e">slice_sample_adaptive_offset_flag</a>[0],</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            .slice_sao_chroma_flag                        = sh-&gt;<a class="code" href="struct_slice_header.html#ae30835aeebf5168614196b9253f67f4e">slice_sample_adaptive_offset_flag</a>[1],</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        },</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    };</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    memset(last_slice_param-&gt;RefPicList, 0xFF, <span class="keyword">sizeof</span>(last_slice_param-&gt;RefPicList));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">for</span> (list_idx = 0; list_idx &lt; nb_list; list_idx++) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="struct_ref_pic_list.html">RefPicList</a> *rpl = &amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ref-&gt;refPicList[list_idx];</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; rpl-&gt;<a class="code" href="struct_ref_pic_list.html#ae015d789b61a504f1d07daeec275249a">nb_refs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            last_slice_param-&gt;RefPicList[list_idx][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vaapi__hevc_8c.html#a756d496c369d8e3d6d177e3e1978a995">get_ref_pic_index</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, rpl-&gt;<a class="code" href="struct_ref_pic_list.html#a47468f98d6ca478b5310829e36220448">ref</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a90bfd3adbf7e0e7d35e96777ab3cddb6">fill_pred_weight_table</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, sh, last_slice_param);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#if VA_CHECK_VERSION(1, 2, 0)</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;profile == <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        pic-&gt;last_slice_param.rext = (VASliceParameterBufferHEVCRext) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            .slice_ext_flags.bits = {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                .cu_chroma_qp_offset_enabled_flag = sh-&gt;cu_chroma_qp_offset_enabled_flag,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            },</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        };</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        memcpy(pic-&gt;last_slice_param.rext.luma_offset_l0, pic-&gt;last_slice_param.base.luma_offset_l0,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                                    <span class="keyword">sizeof</span>(pic-&gt;last_slice_param.base.luma_offset_l0));</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        memcpy(pic-&gt;last_slice_param.rext.luma_offset_l1, pic-&gt;last_slice_param.base.luma_offset_l1,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                                    <span class="keyword">sizeof</span>(pic-&gt;last_slice_param.base.luma_offset_l1));</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        memcpy(pic-&gt;last_slice_param.rext.ChromaOffsetL0, pic-&gt;last_slice_param.base.ChromaOffsetL0,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                                    <span class="keyword">sizeof</span>(pic-&gt;last_slice_param.base.ChromaOffsetL0));</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        memcpy(pic-&gt;last_slice_param.rext.ChromaOffsetL1, pic-&gt;last_slice_param.base.ChromaOffsetL1,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                                    <span class="keyword">sizeof</span>(pic-&gt;last_slice_param.base.ChromaOffsetL1));</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    pic-&gt;last_buffer = <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    pic-&gt;last_size   = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#a0a54a06eba65c3512bd79e6a5843d0f6">  492</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__hevc_8c.html#a0a54a06eba65c3512bd79e6a5843d0f6">ptl_convert</a>(<span class="keyword">const</span> <a class="code" href="struct_p_t_l_common.html">PTLCommon</a> *general_ptl, <a class="code" href="struct_h265_raw_profile_tier_level.html">H265RawProfileTierLevel</a> *h265_raw_ptl)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    h265_raw_ptl-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a80c9d1a7260adec811dfa657c3cef1e4">general_profile_space</a> = general_ptl-&gt;<a class="code" href="struct_p_t_l_common.html#aa810a203eaa6f7fb2f52a59668718173">profile_space</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    h265_raw_ptl-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a472bae417bac4e4132ce6c3afe4d3d51">general_tier_flag</a>     = general_ptl-&gt;<a class="code" href="struct_p_t_l_common.html#abb09480bbda827ca3e2f5e93ad96e804">tier_flag</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    h265_raw_ptl-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#ae1859bab36dcee8ed212da1169b0e1b7">general_profile_idc</a>   = general_ptl-&gt;<a class="code" href="struct_p_t_l_common.html#a7e7d12a1604b9085581dfccd101632ee">profile_idc</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    memcpy(h265_raw_ptl-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a391708871161d00c3c81135ee40ffe7d">general_profile_compatibility_flag</a>,</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                  general_ptl-&gt;<a class="code" href="struct_p_t_l_common.html#acbc5f611e0df31a7f3a1e6ed63a565f0">profile_compatibility_flag</a>, 32 * <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>));</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">#define copy_field(name) h265_raw_ptl-&gt;general_ ## name = general_ptl-&gt;name</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(progressive_source_flag);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(interlaced_source_flag);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(non_packed_constraint_flag);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(frame_only_constraint_flag);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(max_12bit_constraint_flag);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(max_10bit_constraint_flag);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(max_8bit_constraint_flag);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(max_422chroma_constraint_flag);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(max_420chroma_constraint_flag);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(max_monochrome_constraint_flag);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(intra_constraint_flag);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(one_picture_only_constraint_flag);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(lower_bit_rate_constraint_flag);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(max_14bit_constraint_flag);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(inbld_flag);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a>(<a class="code" href="tests_2h264__levels_8c.html#ab4a08f9d64a0d901c25eed4855931c4f">level_idc</a>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#undef copy_field</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"> * Find exact va_profile for HEVC Range Extension</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="vaapi__hevc_8h.html#a3ef63e36021a138f2c3d152dcd57d7ec">  526</a></span>&#160;VAProfile <a class="code" href="vaapi__hevc_8c.html#a3ef63e36021a138f2c3d152dcd57d7ec">ff_vaapi_parse_hevc_rext_profile</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_context.html">HEVCContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;ps.sps;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_p_t_l.html">PTL</a> *<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a> = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ptl;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_p_t_l_common.html">PTLCommon</a> *general_ptl = &amp;<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;general_ptl;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_h265_profile_descriptor.html">H265ProfileDescriptor</a> *<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="struct_h265_raw_profile_tier_level.html">H265RawProfileTierLevel</a> h265_raw_ptl = {0};</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">/* convert PTLCommon to H265RawProfileTierLevel */</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="vaapi__hevc_8c.html#a0a54a06eba65c3512bd79e6a5843d0f6">ptl_convert</a>(general_ptl, &amp;h265_raw_ptl);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> = <a class="code" href="h265__profile__level_8c.html#ae833270a7cb4254927cd99054727215d">ff_h265_get_profile</a>(&amp;h265_raw_ptl);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;HEVC profile is not found.\n&quot;</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;HEVC profile %s is found.\n&quot;</span>, <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">#if VA_CHECK_VERSION(1, 2, 0)</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (!strcmp(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name, <span class="stringliteral">&quot;Main 4:2:2 10&quot;</span>) ||</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        !strcmp(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name, <span class="stringliteral">&quot;Main 4:2:2 10 Intra&quot;</span>))</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">return</span> VAProfileHEVCMain422_10;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name, <span class="stringliteral">&quot;Main 4:4:4&quot;</span>) ||</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;             !strcmp(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name, <span class="stringliteral">&quot;Main 4:4:4 Intra&quot;</span>))</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">return</span> VAProfileHEVCMain444;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name, <span class="stringliteral">&quot;Main 4:4:4 10&quot;</span>) ||</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;             !strcmp(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name, <span class="stringliteral">&quot;Main 4:4:4 10 Intra&quot;</span>))</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">return</span> VAProfileHEVCMain444_10;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;HEVC profile %s is &quot;</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;           <span class="stringliteral">&quot;not supported with this VA version.\n&quot;</span>, <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>-&gt;name);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0a90b6a8e324a220e2be52d6e33038b8">hwaccel_flags</a> &amp; <a class="code" href="group__lavc__hwaccel.html#ga7403e00bf9dc00ed3d06579611075994">AV_HWACCEL_FLAG_ALLOW_PROFILE_MISMATCH</a>) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// Default to selecting Main profile if profile mismatch is allowed</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">return</span> VAProfileHEVCMain;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">return</span> VAProfileNone;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="vaapi__hevc_8c.html#adbabf0e36846ba79b5bae79c9576e864">  569</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_a_v_h_w_accel.html">AVHWAccel</a> <a class="code" href="vaapi__hevc_8c.html#adbabf0e36846ba79b5bae79c9576e864">ff_hevc_vaapi_hwaccel</a> = {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    .<a class="code" href="struct_a_v_h_w_accel.html#a9cc735be128cb62ff4cb594d3e3bdb92">name</a>                 = <span class="stringliteral">&quot;hevc_vaapi&quot;</span>,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    .type                 = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    .id                   = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    .pix_fmt              = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a>,</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    .start_frame          = <a class="code" href="vaapi__hevc_8c.html#a277ba012828813c39a5723d98c00e7d0">vaapi_hevc_start_frame</a>,</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    .end_frame            = <a class="code" href="vaapi__hevc_8c.html#a092e7e4714e4a471a9b8788afb121ef8">vaapi_hevc_end_frame</a>,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    .decode_slice         = <a class="code" href="vaapi__hevc_8c.html#a5070252fae4aeae1937545ed03f2ac96">vaapi_hevc_decode_slice</a>,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    .frame_priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="vaapi__hevc_8c.html#a2126424a161cc24fcec7f0ed83d29bd4">VAAPIDecodePictureHEVC</a>),</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>                 = <a class="code" href="vaapi__decode_8c.html#aa89acd3163709b8a935a39287097faa6">ff_vaapi_decode_init</a>,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    .<a class="code" href="crystalhd_8c.html#a47e28e6ea289d3f83ad1883ddde5a422">uninit</a>               = <a class="code" href="vaapi__decode_8c.html#ab506815becc38e590d62b26f84637149">ff_vaapi_decode_uninit</a>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    .frame_params         = <a class="code" href="vaapi__decode_8c.html#a772bdcd007a35bad24405e12b8739ea2">ff_vaapi_common_frame_params</a>,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    .priv_data_size       = <span class="keyword">sizeof</span>(<a class="code" href="struct_v_a_a_p_i_decode_context.html">VAAPIDecodeContext</a>),</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    .caps_internal        = <a class="code" href="hwconfig_8h.html#a6c1e3494a613e73e4b7bcd9a3b75d45d">HWACCEL_CAP_ASYNC_SAFE</a>,</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="ahwconfig_8h_html"><div class="ttname"><a href="hwconfig_8h.html">hwconfig.h</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aedc45d7b874ec5c3e4e9b6e9d948abc4"><div class="ttname"><a href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_REXT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01950">avcodec.h:1950</a></div></div>
<div class="ttc" id="asnow_8txt_html_a953a9770ad6277dc3b27ebaf135b9bad"><div class="ttname"><a href="snow_8txt.html#a953a9770ad6277dc3b27ebaf135b9bad">L1</a></div><div class="ttdeci">F H1 F F H1 F F F F H1&lt;-F-------F-------F v v v H2 H3 H2 ^ ^ ^ F-------F-------F-&gt; H1&lt;-F-------F-------F|||||||||F H1 F|||||||||F H1 Funavailable fullpel samples(outside the picture for example) shall be equalto the closest available fullpel sampleSmaller pel interpolation:--------------------------if diag_mc is set then points which lie on a line between 2 vertically, horizontally or diagonally adjacent halfpel points shall be interpolatedlinearly with rounding to nearest and halfway values rounded up.points which lie on 2 diagonals at the same time should only use the onediagonal not containing the fullpel point F--&gt; O q O&lt;--h1-&gt; O q O&lt;--F v \/v \/v O O O O O O O|/|\|q q q q q|/|\|O O O O O O O ^/\ ^/\ ^ h2--&gt; O q O&lt;--h3-&gt; O q O&lt;--h2 v \/v \/v O O O O O O O|\|/|q q q q q|\|/|O O O O O O O ^/\ ^/\ ^ F--&gt; O q O&lt;--h1-&gt; O q O&lt;--Fthe remaining points shall be bilinearly interpolated from theup to 4 surrounding halfpel and fullpel points, again rounding should be tonearest and halfway values rounded upcompliant Snow decoders MUST support 1-1/8 pel luma and 1/2-1/16 pel chromainterpolation at leastOverlapped block motion compensation:-------------------------------------FIXMELL band prediction:===================Each sample in the LL0 subband is predicted by the median of the left, top andleft+top-topleft samples, samples outside the subband shall be considered tobe 0. To reverse this prediction in the decoder apply the following.for(y=0;y&lt; height;y++){ for(x=0;x&lt; width;x++){ sample[y][x]+=median(sample[y-1][x], sample[y][x-1], sample[y-1][x]+sample[y][x-1]-sample[y-1][x-1]);}}sample[-1][ *]=sample[ *][-1]=0;width, height here are the width and height of the LL0 subband not of the finalvideoDequantization:===============FIXMEWavelet Transform:==================Snow supports 2 wavelet transforms, the symmetric biorthogonal 5/3 integertransform and an integer approximation of the symmetric biorthogonal 9/7daubechies wavelet.2D IDWT(inverse discrete wavelet transform) --------------------------------------------The 2D IDWT applies a 2D filter recursively, each time combining the4 lowest frequency subbands into a single subband until only 1 subbandremains.The 2D filter is done by first applying a 1D filter in the vertical directionand then applying it in the horizontal one. --------------- --------------- --------------- ---------------|LL0|HL0|||||||||||||---+---|HL1||L0|H0|HL1||LL1|HL1|||||LH0|HH0|||||||||||||-------+-------|-&gt; L1 H1 LH1 HH1 LH1 HH1 LH1 HH1 L1</div><div class="ttdef"><b>Definition:</b> <a href="snow_8txt_source.html#l00554">snow.txt:554</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_html_abd5d2c5a39e185cc8b2ebfe595f267a6"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture.html#abd5d2c5a39e185cc8b2ebfe595f267a6">VAAPIDecodePicture::output_surface</a></div><div class="ttdeci">VASurfaceID output_surface</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8h_source.html#l00045">vaapi_decode.h:45</a></div></div>
<div class="ttc" id="avaapi__decode_8h_html_a51faa69fa5d47c394fe7d7077e4f7c0d"><div class="ttname"><a href="vaapi__decode_8h.html#a51faa69fa5d47c394fe7d7077e4f7c0d">ff_vaapi_get_surface_id</a></div><div class="ttdeci">static VASurfaceID ff_vaapi_get_surface_id(AVFrame *pic)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8h_source.html#l00035">vaapi_decode.h:35</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a092e7e4714e4a471a9b8788afb121ef8"><div class="ttname"><a href="vaapi__hevc_8c.html#a092e7e4714e4a471a9b8788afb121ef8">vaapi_hevc_end_frame</a></div><div class="ttdeci">static int vaapi_hevc_end_frame(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00295">vaapi_hevc.c:295</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_h_e_v_c_html_a851f065a572434cac623c252c7ba9bf2"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a851f065a572434cac623c252c7ba9bf2">VAAPIDecodePictureHEVC::last_size</a></div><div class="ttdeci">size_t last_size</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00042">vaapi_hevc.c:42</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_h_e_v_c_html_aaa722234f15d52b4e97f60c20f0eccc2"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#aaa722234f15d52b4e97f60c20f0eccc2">VAAPIDecodePictureHEVC::last_slice_param</a></div><div class="ttdeci">VASliceParameterBufferHEVC last_slice_param</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00039">vaapi_hevc.c:39</a></div></div>
<div class="ttc" id="avaapi__decode_8h_html"><div class="ttname"><a href="vaapi__decode_8h.html">vaapi_decode.h</a></div></div>
<div class="ttc" id="ah265__profile__level_8c_html_ae833270a7cb4254927cd99054727215d"><div class="ttname"><a href="h265__profile__level_8c.html#ae833270a7cb4254927cd99054727215d">ff_h265_get_profile</a></div><div class="ttdeci">const H265ProfileDescriptor * ff_h265_get_profile(const H265RawProfileTierLevel *ptl)</div><div class="ttdef"><b>Definition:</b> <a href="h265__profile__level_8c_source.html#l00135">h265_profile_level.c:135</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_h_e_v_c_html_af234da609aef3073fbc4a3cface5fb5a"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#af234da609aef3073fbc4a3cface5fb5a">VAAPIDecodePictureHEVC::pic_param</a></div><div class="ttdeci">VAPictureParameterBufferHEVC pic_param</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00038">vaapi_hevc.c:38</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aac3f793480c01f793f2acc9eba031ff5"><div class="ttname"><a href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a></div><div class="ttdeci">static int get_bits_count(const GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00219">get_bits.h:219</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_adbabf0e36846ba79b5bae79c9576e864"><div class="ttname"><a href="vaapi__hevc_8c.html#adbabf0e36846ba79b5bae79c9576e864">ff_hevc_vaapi_hwaccel</a></div><div class="ttdeci">const AVHWAccel ff_hevc_vaapi_hwaccel</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00569">vaapi_hevc.c:569</a></div></div>
<div class="ttc" id="aattributes_8h_html_a7ca8a3900269f92fcc7b68235dea7787"><div class="ttname"><a href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a></div><div class="ttdeci">#define av_unused</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00133">attributes.h:133</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a25724e62b073e4bb935b4136e157958c"><div class="ttname"><a href="vaapi__decode_8c.html#a25724e62b073e4bb935b4136e157958c">ff_vaapi_decode_make_slice_buffer</a></div><div class="ttdeci">int ff_vaapi_decode_make_slice_buffer(AVCodecContext *avctx, VAAPIDecodePicture *pic, const void *params_data, size_t params_size, const void *slice_data, size_t slice_size)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00059">vaapi_decode.c:59</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ac3be96507907971724d5ff12b871b298"><div class="ttname"><a href="struct_slice_header.html#ac3be96507907971724d5ff12b871b298">SliceHeader::chroma_log2_weight_denom</a></div><div class="ttdeci">int16_t chroma_log2_weight_denom</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00310">hevcdec.h:310</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a48504d202c7fbf15a24c2acac09c9405"><div class="ttname"><a href="struct_slice_header.html#a48504d202c7fbf15a24c2acac09c9405">SliceHeader::luma_weight_l1</a></div><div class="ttdeci">int16_t luma_weight_l1[16]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00315">hevcdec.h:315</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a882fd8eba844e29ace328b8f7ed28155"><div class="ttname"><a href="struct_slice_header.html#a882fd8eba844e29ace328b8f7ed28155">SliceHeader::slice_type</a></div><div class="ttdeci">enum HEVCSliceType slice_type</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00255">hevcdec.h:257</a></div></div>
<div class="ttc" id="atests_2h264__levels_8c_html_ab4a08f9d64a0d901c25eed4855931c4f"><div class="ttname"><a href="tests_2h264__levels_8c.html#ab4a08f9d64a0d901c25eed4855931c4f">level_idc</a></div><div class="ttdeci">int level_idc</div><div class="ttdef"><b>Definition:</b> <a href="tests_2h264__levels_8c_source.html#l00025">h264_levels.c:25</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a08cba3245afa79cf27b02de3cb82e339"><div class="ttname"><a href="struct_slice_header.html#a08cba3245afa79cf27b02de3cb82e339">SliceHeader::chroma_weight_l1</a></div><div class="ttdeci">int16_t chroma_weight_l1[16][2]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00314">hevcdec.h:314</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_accel_html"><div class="ttname"><a href="struct_a_v_h_w_accel.html">AVHWAccel</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02410">avcodec.h:2410</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a90bfd3adbf7e0e7d35e96777ab3cddb6"><div class="ttname"><a href="vaapi__hevc_8c.html#a90bfd3adbf7e0e7d35e96777ab3cddb6">fill_pred_weight_table</a></div><div class="ttdeci">static void fill_pred_weight_table(const HEVCContext *h, const SliceHeader *sh, VASliceParameterBufferHEVC *slice_param)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00325">vaapi_hevc.c:325</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_ae1859bab36dcee8ed212da1169b0e1b7"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#ae1859bab36dcee8ed212da1169b0e1b7">H265RawProfileTierLevel::general_profile_idc</a></div><div class="ttdeci">uint8_t general_profile_idc</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00046">cbs_h265.h:46</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a0a54a06eba65c3512bd79e6a5843d0f6"><div class="ttname"><a href="vaapi__hevc_8c.html#a0a54a06eba65c3512bd79e6a5843d0f6">ptl_convert</a></div><div class="ttdeci">static int ptl_convert(const PTLCommon *general_ptl, H265RawProfileTierLevel *h265_raw_ptl)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00492">vaapi_hevc.c:492</a></div></div>
<div class="ttc" id="astruct_ref_pic_list_html_a47468f98d6ca478b5310829e36220448"><div class="ttname"><a href="struct_ref_pic_list.html#a47468f98d6ca478b5310829e36220448">RefPicList::ref</a></div><div class="ttdeci">struct HEVCFrame * ref[HEVC_MAX_REFS]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00239">hevcdec.h:239</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a4e688842bcedd19695d76a5b1b76ab1d"><div class="ttname"><a href="vaapi__decode_8c.html#a4e688842bcedd19695d76a5b1b76ab1d">ff_vaapi_decode_make_param_buffer</a></div><div class="ttdeci">int ff_vaapi_decode_make_param_buffer(AVCodecContext *avctx, VAAPIDecodePicture *pic, int type, const void *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00030">vaapi_decode.c:30</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_ab135eab56b90265f3406ff7f62de56b0"><div class="ttname"><a href="hevcdec_8h.html#ab135eab56b90265f3406ff7f62de56b0">HEVC_FRAME_FLAG_LONG_REF</a></div><div class="ttdeci">#define HEVC_FRAME_FLAG_LONG_REF</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00392">hevcdec.h:392</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_s_p_s_html"><div class="ttname"><a href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00153">hevc_ps.h:153</a></div></div>
<div class="ttc" id="astruct_h265_profile_descriptor_html"><div class="ttname"><a href="struct_h265_profile_descriptor.html">H265ProfileDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="h265__profile__level_8h_source.html#l00047">h265_profile_level.h:47</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a7dce23850a29299d0885f14c48f078ee"><div class="ttname"><a href="vaapi__hevc_8c.html#a7dce23850a29299d0885f14c48f078ee">fill_vaapi_pic</a></div><div class="ttdeci">static void fill_vaapi_pic(VAPictureHEVC *va_pic, const HEVCFrame *pic, int rps_type)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00054">vaapi_hevc.c:54</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_context_html"><div class="ttname"><a href="struct_h_e_v_c_context.html">HEVCContext</a></div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00467">hevcdec.h:467</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a7f761518da738c704676c6a5f08eeb8e"><div class="ttname"><a href="struct_a_v_frame.html#a7f761518da738c704676c6a5f08eeb8e">AVFrame::interlaced_frame</a></div><div class="ttdeci">int interlaced_frame</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00455">frame.h:455</a></div></div>
<div class="ttc" id="astruct_slice_header_html"><div class="ttname"><a href="struct_slice_header.html">SliceHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00249">hevcdec.h:249</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_accel_html_a9cc735be128cb62ff4cb594d3e3bdb92"><div class="ttname"><a href="struct_a_v_h_w_accel.html#a9cc735be128cb62ff4cb594d3e3bdb92">AVHWAccel::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02416">avcodec.h:2416</a></div></div>
<div class="ttc" id="astruct_p_t_l_common_html_a7e7d12a1604b9085581dfccd101632ee"><div class="ttname"><a href="struct_p_t_l_common.html#a7e7d12a1604b9085581dfccd101632ee">PTLCommon::profile_idc</a></div><div class="ttdeci">uint8_t profile_idc</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00095">hevc_ps.h:95</a></div></div>
<div class="ttc" id="ah265__levels_8c_html_a36871c498b69e919ade4c667e3ee94cd"><div class="ttname"><a href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a></div><div class="ttdeci">const H265RawProfileTierLevel * ptl</div><div class="ttdef"><b>Definition:</b> <a href="h265__levels_8c_source.html#l00170">h265_levels.c:170</a></div></div>
<div class="ttc" id="astruct_slice_header_html_aded77c595cfcc47662d1bf48911cee8e"><div class="ttname"><a href="struct_slice_header.html#aded77c595cfcc47662d1bf48911cee8e">SliceHeader::first_slice_in_pic_flag</a></div><div class="ttdeci">uint8_t first_slice_in_pic_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00261">hevcdec.h:261</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a9bb65a93861bbb84adb045e3c322e9c5"><div class="ttname"><a href="struct_slice_header.html#a9bb65a93861bbb84adb045e3c322e9c5">SliceHeader::chroma_offset_l0</a></div><div class="ttdeci">int16_t chroma_offset_l0[16][2]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00318">hevcdec.h:318</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_aa89acd3163709b8a935a39287097faa6"><div class="ttname"><a href="vaapi__decode_8c.html#aa89acd3163709b8a935a39287097faa6">ff_vaapi_decode_init</a></div><div class="ttdeci">int ff_vaapi_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00634">vaapi_decode.c:634</a></div></div>
<div class="ttc" id="astruct_p_t_l_common_html_abb09480bbda827ca3e2f5e93ad96e804"><div class="ttname"><a href="struct_p_t_l_common.html#abb09480bbda827ca3e2f5e93ad96e804">PTLCommon::tier_flag</a></div><div class="ttdeci">uint8_t tier_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00094">hevc_ps.h:94</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a58bcf524f05008aa9d595bea0405d9c2"><div class="ttname"><a href="struct_slice_header.html#a58bcf524f05008aa9d595bea0405d9c2">SliceHeader::max_num_merge_cand</a></div><div class="ttdeci">unsigned int max_num_merge_cand</div><div class="ttdoc">5 - 5_minus_max_num_merge_cand</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00300">hevcdec.h:300</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_html"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture.html">VAAPIDecodePicture</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8h_source.html#l00044">vaapi_decode.h:44</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a675f98cfd2becda18767674e319b9b13"><div class="ttname"><a href="struct_slice_header.html#a675f98cfd2becda18767674e319b9b13">SliceHeader::slice_cb_qp_offset</a></div><div class="ttdeci">int slice_cb_qp_offset</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00292">hevcdec.h:292</a></div></div>
<div class="ttc" id="astruct_p_t_l_common_html_acbc5f611e0df31a7f3a1e6ed63a565f0"><div class="ttname"><a href="struct_p_t_l_common.html#acbc5f611e0df31a7f3a1e6ed63a565f0">PTLCommon::profile_compatibility_flag</a></div><div class="ttdeci">uint8_t profile_compatibility_flag[32]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00096">hevc_ps.h:96</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a772bdcd007a35bad24405e12b8739ea2"><div class="ttname"><a href="vaapi__decode_8c.html#a772bdcd007a35bad24405e12b8739ea2">ff_vaapi_common_frame_params</a></div><div class="ttdeci">int ff_vaapi_common_frame_params(AVCodecContext *avctx, AVBufferRef *hw_frames_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00610">vaapi_decode.c:610</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a5070252fae4aeae1937545ed03f2ac96"><div class="ttname"><a href="vaapi__hevc_8c.html#a5070252fae4aeae1937545ed03f2ac96">vaapi_hevc_decode_slice</a></div><div class="ttdeci">static int vaapi_hevc_decode_slice(AVCodecContext *avctx, const uint8_t *buffer, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00394">vaapi_hevc.c:394</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_h_e_v_c_html_a67fd89d84f41574a3c1af024aea7b28d"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a67fd89d84f41574a3c1af024aea7b28d">VAAPIDecodePictureHEVC::pic</a></div><div class="ttdeci">VAAPIDecodePicture pic</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00044">vaapi_hevc.c:44</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a28ff0c2f9a37aec388507c8b24a3afa6"><div class="ttname"><a href="vaapi__hevc_8c.html#a28ff0c2f9a37aec388507c8b24a3afa6">fill_vaapi_reference_frames</a></div><div class="ttdeci">static void fill_vaapi_reference_frames(const HEVCContext *h, VAPictureParameterBufferHEVC *pp)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00094">vaapi_hevc.c:94</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a0134150153b686e3f589383f54baa4d7"><div class="ttname"><a href="vaapi__hevc_8c.html#a0134150153b686e3f589383f54baa4d7">find_frame_rps_type</a></div><div class="ttdeci">static int find_frame_rps_type(const HEVCContext *h, const HEVCFrame *pic)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00071">vaapi_hevc.c:71</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a218306bd0d2cbc4eae94dd2878d7a023"><div class="ttname"><a href="struct_slice_header.html#a218306bd0d2cbc4eae94dd2878d7a023">SliceHeader::luma_log2_weight_denom</a></div><div class="ttdeci">uint8_t luma_log2_weight_denom</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00309">hevcdec.h:309</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a472bae417bac4e4132ce6c3afe4d3d51"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a472bae417bac4e4132ce6c3afe4d3d51">H265RawProfileTierLevel::general_tier_flag</a></div><div class="ttdeci">uint8_t general_tier_flag</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00045">cbs_h265.h:45</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_a0f174b8d90a40772929031f0ba8d239d"><div class="ttname"><a href="hevcdec_8h.html#a0f174b8d90a40772929031f0ba8d239d">IS_IDR</a></div><div class="ttdeci">#define IS_IDR(s)</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00077">hevcdec.h:77</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_a0ed95e59b085adc0005f0f6a3df4672a"><div class="ttname"><a href="hevcdec_8h.html#a0ed95e59b085adc0005f0f6a3df4672a">HEVC_FRAME_FLAG_SHORT_REF</a></div><div class="ttdeci">#define HEVC_FRAME_FLAG_SHORT_REF</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00391">hevcdec.h:391</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a1f882f8038c41eae7373f08aa3c136c5"><div class="ttname"><a href="struct_slice_header.html#a1f882f8038c41eae7373f08aa3c136c5">SliceHeader::tc_offset</a></div><div class="ttdeci">int tc_offset</div><div class="ttdoc">tc_offset_div2 * 2</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00298">hevcdec.h:298</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a277ba012828813c39a5723d98c00e7d0"><div class="ttname"><a href="vaapi__hevc_8c.html#a277ba012828813c39a5723d98c00e7d0">vaapi_hevc_start_frame</a></div><div class="ttdeci">static int vaapi_hevc_start_frame(AVCodecContext *avctx, av_unused const uint8_t *buffer, av_unused uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00117">vaapi_hevc.c:117</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_ab506815becc38e590d62b26f84637149"><div class="ttname"><a href="vaapi__decode_8c.html#ab506815becc38e590d62b26f84637149">ff_vaapi_decode_uninit</a></div><div class="ttdeci">int ff_vaapi_decode_uninit(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00723">vaapi_decode.c:723</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca252e42477efa1bdc59bc685371d2238a">HEVC_SLICE_I</a></div><div class="ttdeci">@ HEVC_SLICE_I</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00098">hevc.h:98</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html">H265RawProfileTierLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00043">cbs_h265.h:43</a></div></div>
<div class="ttc" id="astruct_slice_header_html_acc8ef1fb8d572d384e049b3a63364dd7"><div class="ttname"><a href="struct_slice_header.html#acc8ef1fb8d572d384e049b3a63364dd7">SliceHeader::dependent_slice_segment_flag</a></div><div class="ttdeci">uint8_t dependent_slice_segment_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00262">hevcdec.h:262</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a9e8a0b1bab63ee238493ce6e766423c4"><div class="ttname"><a href="vaapi__decode_8c.html#a9e8a0b1bab63ee238493ce6e766423c4">ff_vaapi_decode_issue</a></div><div class="ttdeci">int ff_vaapi_decode_issue(AVCodecContext *avctx, VAAPIDecodePicture *pic)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00151">vaapi_decode.c:151</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dcad0ade9e71746ef91dd97ab7d90959a2b">HEVC_SLICE_B</a></div><div class="ttdeci">@ HEVC_SLICE_B</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00096">hevc.h:96</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a176ec44062cbcc8ed3e56575034bd745"><div class="ttname"><a href="struct_slice_header.html#a176ec44062cbcc8ed3e56575034bd745">SliceHeader::luma_weight_l0</a></div><div class="ttdeci">int16_t luma_weight_l0[16]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00312">hevcdec.h:312</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a756d496c369d8e3d6d177e3e1978a995"><div class="ttname"><a href="vaapi__hevc_8c.html#a756d496c369d8e3d6d177e3e1978a995">get_ref_pic_index</a></div><div class="ttdeci">static uint8_t get_ref_pic_index(const HEVCContext *h, const HEVCFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00375">vaapi_hevc.c:375</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a1aba4621e5159447658eee7c481f940d"><div class="ttname"><a href="struct_slice_header.html#a1aba4621e5159447658eee7c481f940d">SliceHeader::mvd_l1_zero_flag</a></div><div class="ttdeci">uint8_t mvd_l1_zero_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00282">hevcdec.h:282</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a6f3ee0596312c90a2ef2ad160c991188"><div class="ttname"><a href="struct_a_v_frame.html#a6f3ee0596312c90a2ef2ad160c991188">AVFrame::top_field_first</a></div><div class="ttdeci">int top_field_first</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00460">frame.h:460</a></div></div>
<div class="ttc" id="agroup__lavc__hwaccel_html_ga7403e00bf9dc00ed3d06579611075994"><div class="ttname"><a href="group__lavc__hwaccel.html#ga7403e00bf9dc00ed3d06579611075994">AV_HWACCEL_FLAG_ALLOW_PROFILE_MISMATCH</a></div><div class="ttdeci">#define AV_HWACCEL_FLAG_ALLOW_PROFILE_MISMATCH</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02606">avcodec.h:2606</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_ad5111479796248b13cf12b3a93721f35"><div class="ttname"><a href="hevcdec_8h.html#ad5111479796248b13cf12b3a93721f35">L0</a></div><div class="ttdeci">#define L0</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00059">hevcdec.h:59</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ae30835aeebf5168614196b9253f67f4e"><div class="ttname"><a href="struct_slice_header.html#ae30835aeebf5168614196b9253f67f4e">SliceHeader::slice_sample_adaptive_offset_flag</a></div><div class="ttdeci">uint8_t slice_sample_adaptive_offset_flag[3]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00281">hevcdec.h:281</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a2126424a161cc24fcec7f0ed83d29bd4"><div class="ttname"><a href="vaapi__hevc_8c.html#a2126424a161cc24fcec7f0ed83d29bd4">VAAPIDecodePictureHEVC</a></div><div class="ttdeci">struct VAAPIDecodePictureHEVC VAAPIDecodePictureHEVC</div></div>
<div class="ttc" id="astruct_slice_header_html_af82ed58c5a8c660452a498ff4ee8653a"><div class="ttname"><a href="struct_slice_header.html#af82ed58c5a8c660452a498ff4ee8653a">SliceHeader::slice_cr_qp_offset</a></div><div class="ttdeci">int slice_cr_qp_offset</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00293">hevcdec.h:293</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_p_p_s_html"><div class="ttname"><a href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00249">hevc_ps.h:249</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_aed3c6396ea46307b88d9aae750ec1d2d"><div class="ttname"><a href="vaapi__hevc_8c.html#aed3c6396ea46307b88d9aae750ec1d2d">init_vaapi_pic</a></div><div class="ttdeci">static void init_vaapi_pic(VAPictureHEVC *va_pic)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00047">vaapi_hevc.c:47</a></div></div>
<div class="ttc" id="astruct_ref_pic_list_html"><div class="ttname"><a href="struct_ref_pic_list.html">RefPicList</a></div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00238">hevcdec.h:238</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_frame_html_a6beccee5e7efdae51301c54070d2ce1f"><div class="ttname"><a href="struct_h_e_v_c_frame.html#a6beccee5e7efdae51301c54070d2ce1f">HEVCFrame::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00421">hevcdec.h:421</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0a90b6a8e324a220e2be52d6e33038b8"><div class="ttname"><a href="struct_a_v_codec_context.html#a0a90b6a8e324a220e2be52d6e33038b8">AVCodecContext::hwaccel_flags</a></div><div class="ttdeci">int hwaccel_flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02287">avcodec.h:2287</a></div></div>
<div class="ttc" id="astruct_slice_header_html_aa63172cb925da781dd0f790a4dd39944"><div class="ttname"><a href="struct_slice_header.html#aa63172cb925da781dd0f790a4dd39944">SliceHeader::slice_segment_addr</a></div><div class="ttdeci">unsigned int slice_segment_addr</div><div class="ttdoc">address (in raster order) of the first block in the current slice</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00253">hevcdec.h:253</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a1d2d8fba17c1f7e94be03c7c1797c405"><div class="ttname"><a href="struct_slice_header.html#a1d2d8fba17c1f7e94be03c7c1797c405">SliceHeader::slice_temporal_mvp_enabled_flag</a></div><div class="ttdeci">uint8_t slice_temporal_mvp_enabled_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00277">hevcdec.h:277</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ac1da472d4ca08c3fdb7a6076455be94a"><div class="ttname"><a href="struct_slice_header.html#ac1da472d4ca08c3fdb7a6076455be94a">SliceHeader::cabac_init_flag</a></div><div class="ttdeci">uint8_t cabac_init_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00284">hevcdec.h:284</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_aef033ac1a8e8b14e8bceb15e9c4f2df3"><div class="ttname"><a href="hevcdec_8h.html#aef033ac1a8e8b14e8bceb15e9c4f2df3">IS_IRAP</a></div><div class="ttdeci">#define IS_IRAP(s)</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00080">hevcdec.h:80</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01859">avcodec.h:1859</a></div></div>
<div class="ttc" id="astruct_slice_header_html_aaab64ccee8694670bbe578467b83c937"><div class="ttname"><a href="struct_slice_header.html#aaab64ccee8694670bbe578467b83c937">SliceHeader::nb_refs</a></div><div class="ttdeci">unsigned int nb_refs[2]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00279">hevcdec.h:279</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a1e6d2c6dff68c6128ac0dcc8d2d9b77f"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a></div><div class="ttdeci">static int FUNC() pps(CodedBitstreamContext *ctx, RWContext *rw, H264RawPPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00404">cbs_h264_syntax_template.c:404</a></div></div>
<div class="ttc" id="ahevcdec_8h_html"><div class="ttname"><a href="hevcdec_8h.html">hevcdec.h</a></div></div>
<div class="ttc" id="astruct_slice_header_html_af7c200733ca05712328990582c499ee3"><div class="ttname"><a href="struct_slice_header.html#af7c200733ca05712328990582c499ee3">SliceHeader::collocated_list</a></div><div class="ttdeci">uint8_t collocated_list</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00287">hevcdec.h:287</a></div></div>
<div class="ttc" id="ah265__profile__level_8h_html"><div class="ttname"><a href="h265__profile__level_8h.html">h265_profile_level.h</a></div></div>
<div class="ttc" id="avaapi__hevc_8h_html"><div class="ttname"><a href="vaapi__hevc_8h.html">vaapi_hevc.h</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ab35917bf16a67869a4e5b16139ee678c"><div class="ttname"><a href="struct_slice_header.html#ab35917bf16a67869a4e5b16139ee678c">SliceHeader::slice_qp_delta</a></div><div class="ttdeci">int slice_qp_delta</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00291">hevcdec.h:291</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_ac3c240a64c6f571243be3832bd3a8558"><div class="ttname"><a href="vaapi__decode_8c.html#ac3c240a64c6f571243be3832bd3a8558">ff_vaapi_decode_cancel</a></div><div class="ttdeci">int ff_vaapi_decode_cancel(AVCodecContext *avctx, VAAPIDecodePicture *pic)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00225">vaapi_decode.c:225</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a81dd2c3e689df79de82bdad1d46e71ee"><div class="ttname"><a href="struct_slice_header.html#a81dd2c3e689df79de82bdad1d46e71ee">SliceHeader::chroma_offset_l1</a></div><div class="ttdeci">int16_t chroma_offset_l1[16][2]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00321">hevcdec.h:321</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a></div><div class="ttdeci">@ AV_PIX_FMT_VAAPI</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00122">pixfmt.h:122</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ae3bee3e7013e58554403a712374afb23"><div class="ttname"><a href="struct_slice_header.html#ae3bee3e7013e58554403a712374afb23">SliceHeader::collocated_ref_idx</a></div><div class="ttdeci">unsigned int collocated_ref_idx</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00289">hevcdec.h:289</a></div></div>
<div class="ttc" id="astruct_slice_header_html_af668101a695ff77277de477f936a1927"><div class="ttname"><a href="struct_slice_header.html#af668101a695ff77277de477f936a1927">SliceHeader::slice_loop_filter_across_slices_enabled_flag</a></div><div class="ttdeci">uint8_t slice_loop_filter_across_slices_enabled_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00286">hevcdec.h:286</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_p_t_l_common_html_aa810a203eaa6f7fb2f52a59668718173"><div class="ttname"><a href="struct_p_t_l_common.html#aa810a203eaa6f7fb2f52a59668718173">PTLCommon::profile_space</a></div><div class="ttdeci">uint8_t profile_space</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00093">hevc_ps.h:93</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_h_e_v_c_html"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html">VAAPIDecodePictureHEVC</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00033">vaapi_hevc.c:33</a></div></div>
<div class="ttc" id="astruct_p_t_l_html"><div class="ttname"><a href="struct_p_t_l.html">PTL</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00115">hevc_ps.h:115</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a></div><div class="ttdeci">@ AV_CODEC_ID_HEVC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00223">codec_id.h:223</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a189f25b576129ffa059ca38db0bc13dca120fc088451ea70f9ff083787b639d2b"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a189f25b576129ffa059ca38db0bc13dca120fc088451ea70f9ff083787b639d2b">HEVC_SLICE_P</a></div><div class="ttdeci">@ HEVC_SLICE_P</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00097">hevc.h:97</a></div></div>
<div class="ttc" id="ahwconfig_8h_html_a6c1e3494a613e73e4b7bcd9a3b75d45d"><div class="ttname"><a href="hwconfig_8h.html#a6c1e3494a613e73e4b7bcd9a3b75d45d">HWACCEL_CAP_ASYNC_SAFE</a></div><div class="ttdeci">#define HWACCEL_CAP_ASYNC_SAFE</div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00026">hwconfig.h:26</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a80415cba2b8d2b9a76b21c3ccf98cf47"><div class="ttname"><a href="struct_slice_header.html#a80415cba2b8d2b9a76b21c3ccf98cf47">SliceHeader::luma_offset_l1</a></div><div class="ttdeci">int16_t luma_offset_l1[16]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00320">hevcdec.h:320</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ae47eca834e325d854dc1838b5187d44e"><div class="ttname"><a href="struct_slice_header.html#ae47eca834e325d854dc1838b5187d44e">SliceHeader::luma_offset_l0</a></div><div class="ttdeci">int16_t luma_offset_l0[16]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00317">hevcdec.h:317</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a38e5ea245c1a7ecbff212e88b8401040"><div class="ttname"><a href="vaapi__hevc_8c.html#a38e5ea245c1a7ecbff212e88b8401040">copy_field</a></div><div class="ttdeci">#define copy_field(name)</div></div>
<div class="ttc" id="astruct_slice_header_html_a1859b9f791df8a88cece8c873d28c00f"><div class="ttname"><a href="struct_slice_header.html#a1859b9f791df8a88cece8c873d28c00f">SliceHeader::disable_deblocking_filter_flag</a></div><div class="ttdeci">uint8_t disable_deblocking_filter_flag</div><div class="ttdoc">slice_header_disable_deblocking_filter_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00285">hevcdec.h:285</a></div></div>
<div class="ttc" id="astruct_ref_pic_list_html_ae015d789b61a504f1d07daeec275249a"><div class="ttname"><a href="struct_ref_pic_list.html#ae015d789b61a504f1d07daeec275249a">RefPicList::nb_refs</a></div><div class="ttdeci">int nb_refs</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00242">hevcdec.h:242</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a80c9d1a7260adec811dfa657c3cef1e4"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a80c9d1a7260adec811dfa657c3cef1e4">H265RawProfileTierLevel::general_profile_space</a></div><div class="ttdeci">uint8_t general_profile_space</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00044">cbs_h265.h:44</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_af3fc2f88e422297a4fae701389967142a9ba86f3c4a6af0fe50e9a3a1e727ab71"><div class="ttname"><a href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142a9ba86f3c4a6af0fe50e9a3a1e727ab71">ST_CURR_BEF</a></div><div class="ttdeci">@ ST_CURR_BEF</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00083">hevcdec.h:83</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a242a701bcfbec850a5843e7fad901352"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a></div><div class="ttdeci">static int FUNC() sps(CodedBitstreamContext *ctx, RWContext *rw, H264RawSPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00260">cbs_h264_syntax_template.c:260</a></div></div>
<div class="ttc" id="astruct_p_t_l_common_html"><div class="ttname"><a href="struct_p_t_l_common.html">PTLCommon</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00092">hevc_ps.h:92</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_picture_h_e_v_c_html_a66c8e6b181b0ac5eb0b82073cd055841"><div class="ttname"><a href="struct_v_a_a_p_i_decode_picture_h_e_v_c.html#a66c8e6b181b0ac5eb0b82073cd055841">VAAPIDecodePictureHEVC::last_buffer</a></div><div class="ttdeci">const uint8_t * last_buffer</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00041">vaapi_hevc.c:41</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_af3fc2f88e422297a4fae701389967142ac0ee505491868592e73225ff9feaf978"><div class="ttname"><a href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142ac0ee505491868592e73225ff9feaf978">LT_CURR</a></div><div class="ttdeci">@ LT_CURR</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00086">hevcdec.h:86</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ac7d5a34cf5b29f5972310c3080f12576"><div class="ttname"><a href="struct_slice_header.html#ac7d5a34cf5b29f5972310c3080f12576">SliceHeader::chroma_weight_l0</a></div><div class="ttdeci">int16_t chroma_weight_l0[16][2]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00313">hevcdec.h:313</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ab5bf43ceeffd5c440d539ae2ed025827"><div class="ttname"><a href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a></div><div class="ttdeci">the frame and frame reference mechanism is intended to as much as expensive copies of that data while still allowing the filters to produce correct results The data is stored in buffers represented by AVFrame structures Several references can point to the same frame buffer</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00049">filter_design.txt:49</a></div></div>
<div class="ttc" id="astruct_scaling_list_html"><div class="ttname"><a href="struct_scaling_list.html">ScalingList</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00146">hevc_ps.h:146</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_frame_html_a82014c241a8327c25aa13d5aca2d779f"><div class="ttname"><a href="struct_h_e_v_c_frame.html#a82014c241a8327c25aa13d5aca2d779f">HEVCFrame::poc</a></div><div class="ttdeci">int poc</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00402">hevcdec.h:402</a></div></div>
<div class="ttc" id="avaapi__hevc_8c_html_a3ef63e36021a138f2c3d152dcd57d7ec"><div class="ttname"><a href="vaapi__hevc_8c.html#a3ef63e36021a138f2c3d152dcd57d7ec">ff_vaapi_parse_hevc_rext_profile</a></div><div class="ttdeci">VAProfile ff_vaapi_parse_hevc_rext_profile(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__hevc_8c_source.html#l00526">vaapi_hevc.c:526</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_ae4b2feeed4f0d40a4cc11832d10938f7"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#ae4b2feeed4f0d40a4cc11832d10938f7">scaling_list</a></div><div class="ttdeci">static int FUNC() scaling_list(CodedBitstreamContext *ctx, RWContext *rw, H264RawScalingList *current, int size_of_scaling_list)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00071">cbs_h264_syntax_template.c:71</a></div></div>
<div class="ttc" id="astruct_slice_header_html_a4db48d8215b45fd6c9e9fb1f33f7edf9"><div class="ttname"><a href="struct_slice_header.html#a4db48d8215b45fd6c9e9fb1f33f7edf9">SliceHeader::colour_plane_id</a></div><div class="ttdeci">uint8_t colour_plane_id</div><div class="ttdoc">RPS coded in the slice header itself is stored here.</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00264">hevcdec.h:264</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_frame_html"><div class="ttname"><a href="struct_h_e_v_c_frame.html">HEVCFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00395">hevcdec.h:395</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="ahevcdec_8h_html_af3fc2f88e422297a4fae701389967142a146e8c8630b60a545134b5d7fb25920d"><div class="ttname"><a href="hevcdec_8h.html#af3fc2f88e422297a4fae701389967142a146e8c8630b60a545134b5d7fb25920d">ST_CURR_AFT</a></div><div class="ttdeci">@ ST_CURR_AFT</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00084">hevcdec.h:84</a></div></div>
<div class="ttc" id="astruct_v_a_a_p_i_decode_context_html"><div class="ttname"><a href="struct_v_a_a_p_i_decode_context.html">VAAPIDecodeContext</a></div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8h_source.html#l00055">vaapi_decode.h:55</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_frame_html_aee81eb97e40d352ffb8fd32f5dec2f96"><div class="ttname"><a href="struct_h_e_v_c_frame.html#aee81eb97e40d352ffb8fd32f5dec2f96">HEVCFrame::frame</a></div><div class="ttdeci">AVFrame * frame</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00396">hevcdec.h:396</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="acrystalhd_8c_html_a47e28e6ea289d3f83ad1883ddde5a422"><div class="ttname"><a href="crystalhd_8c.html#a47e28e6ea289d3f83ad1883ddde5a422">uninit</a></div><div class="ttdeci">static av_cold int uninit(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="crystalhd_8c_source.html#l00279">crystalhd.c:279</a></div></div>
<div class="ttc" id="avp9dsp__template_8c_html_a5e36941b3d856737e81516acd45edc50"><div class="ttname"><a href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div><div class="ttdeci">h</div><div class="ttdef"><b>Definition:</b> <a href="vp9dsp__template_8c_source.html#l02038">vp9dsp_template.c:2038</a></div></div>
<div class="ttc" id="astruct_slice_header_html_ae8914e7ccb5ba7ce1d8732fbfa909fac"><div class="ttname"><a href="struct_slice_header.html#ae8914e7ccb5ba7ce1d8732fbfa909fac">SliceHeader::beta_offset</a></div><div class="ttdeci">int beta_offset</div><div class="ttdoc">beta_offset_div2 * 2</div><div class="ttdef"><b>Definition:</b> <a href="hevcdec_8h_source.html#l00297">hevcdec.h:297</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a391708871161d00c3c81135ee40ffe7d"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a391708871161d00c3c81135ee40ffe7d">H265RawProfileTierLevel::general_profile_compatibility_flag</a></div><div class="ttdeci">uint8_t general_profile_compatibility_flag[32]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00048">cbs_h265.h:48</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
