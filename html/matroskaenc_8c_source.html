<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/matroskaenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">matroskaenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="matroskaenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Matroska muxer</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2007 David Conrad</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavformat_2av1_8h.html">av1.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avc_8h.html">avc.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavformat_2hevc_8h.html">hevc.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avio__internal_8h.html">avio_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avlanguage_8h.html">avlanguage.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flacenc_8h.html">flacenc.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="isom_8h.html">isom.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="matroska_8h.html">matroska.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="riff_8h.html">riff.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vorbiscomment_8h.html">vorbiscomment.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wv_8h.html">wv.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="channel__layout_8h.html">libavutil/channel_layout.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="crc_8h.html">libavutil/crc.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">libavutil/dict.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intfloat_8h.html">libavutil/intfloat.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lfg_8h.html">libavutil/lfg.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mastering__display__metadata_8h.html">libavutil/mastering_display_metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parseutils_8h.html">libavutil/parseutils.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="random__seed_8h.html">libavutil/random_seed.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rational_8h.html">libavutil/rational.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="samplefmt_8h.html">libavutil/samplefmt.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2stereo3d_8h.html">libavutil/stereo3d.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="xiph_8h.html">libavcodec/xiph.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpeg4audio_8h.html">libavcodec/mpeg4audio.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/* Level 1 elements we create a SeekHead entry for:</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> * Info, Tracks, Chapters, Attachments, Tags (potentially twice) and Cues */</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a621bb23cec96007349c3d7b90472d8ad">   59</a></span>&#160;<span class="preprocessor">#define MAX_SEEKHEAD_ENTRIES 7</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">   61</a></span>&#160;<span class="preprocessor">#define IS_SEEKABLE(pb, mkv) (((pb)-&gt;seekable &amp; AVIO_SEEKABLE_NORMAL) &amp;&amp; \</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">                              !(mkv)-&gt;is_live)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5be651c23e27f7d27c139cbe6729f1d5">   65</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5be651c23e27f7d27c139cbe6729f1d5">DEFAULT_MODE_INFER</a>,</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba7c21c95c1e0e8f74a432c740f0238609">   66</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba7c21c95c1e0e8f74a432c740f0238609">DEFAULT_MODE_INFER_NO_SUBS</a>,</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288">   67</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288">DEFAULT_MODE_PASSTHROUGH</a>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;};</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structebml__master.html">   70</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structebml__master.html">ebml_master</a> {</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structebml__master.html#a0a13520fe3141ef75cb78111a0b840f0">   71</a></span>&#160;    int64_t         <a class="code" href="structebml__master.html#a0a13520fe3141ef75cb78111a0b840f0">pos</a>;                </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structebml__master.html#a6293d81333529357dd52391b7d7f4f1f">   72</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="structebml__master.html#a6293d81333529357dd52391b7d7f4f1f">sizebytes</a>;          </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a4100d4846f8f37a394190984e507ec0c">   73</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#a4100d4846f8f37a394190984e507ec0c">ebml_master</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structebml__stored__master.html">   75</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structebml__stored__master.html">ebml_stored_master</a> {</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">   76</a></span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a>    *<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">   77</a></span>&#160;    int64_t         <a class="code" href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">pos</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ac113b1c19842b1670f2693342bdcf006">   78</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#ac113b1c19842b1670f2693342bdcf006">ebml_stored_master</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structmkv__seekhead__entry.html">   80</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmkv__seekhead__entry.html">mkv_seekhead_entry</a> {</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structmkv__seekhead__entry.html#a4706e27087f33247ffbc451ede9efc07">   81</a></span>&#160;    uint32_t        <a class="code" href="structmkv__seekhead__entry.html#a4706e27087f33247ffbc451ede9efc07">elementid</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structmkv__seekhead__entry.html#a1601d4120da2440652db51e6dccbd9df">   82</a></span>&#160;    uint64_t        <a class="code" href="structmkv__seekhead__entry.html#a1601d4120da2440652db51e6dccbd9df">segmentpos</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a96140d68a157d9901352956ff6e315ec">   83</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#a96140d68a157d9901352956ff6e315ec">mkv_seekhead_entry</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structmkv__seekhead.html">   85</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmkv__seekhead.html">mkv_seekhead</a> {</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structmkv__seekhead.html#a3d7d74ebb3ccc8211567ccb7237fa9fa">   86</a></span>&#160;    int64_t                 <a class="code" href="structmkv__seekhead.html#a3d7d74ebb3ccc8211567ccb7237fa9fa">filepos</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structmkv__seekhead.html#ad1a19d396cb3d8121641229d3f330b18">   87</a></span>&#160;    <a class="code" href="structmkv__seekhead__entry.html">mkv_seekhead_entry</a>      <a class="code" href="structmkv__seekhead.html#ad1a19d396cb3d8121641229d3f330b18">entries</a>[<a class="code" href="matroskaenc_8c.html#a621bb23cec96007349c3d7b90472d8ad">MAX_SEEKHEAD_ENTRIES</a>];</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structmkv__seekhead.html#a555caaec9ac16d341f3be80dbca17b9b">   88</a></span>&#160;    <span class="keywordtype">int</span>                     <a class="code" href="structmkv__seekhead.html#a555caaec9ac16d341f3be80dbca17b9b">num_entries</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structmkv__seekhead.html#ad4d67611da008d2f64e295ba87fbc219">   89</a></span>&#160;    <span class="keywordtype">int</span>                     <a class="code" href="structmkv__seekhead.html#ad4d67611da008d2f64e295ba87fbc219">reserved_size</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#af9cd05dd7ad61a234cdf2a41b1937e0f">   90</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#af9cd05dd7ad61a234cdf2a41b1937e0f">mkv_seekhead</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structmkv__cuepoint.html">   92</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmkv__cuepoint.html">mkv_cuepoint</a> {</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structmkv__cuepoint.html#a86a08f5eb1d3920d08fdacde01ad665b">   93</a></span>&#160;    uint64_t        <a class="code" href="structmkv__cuepoint.html#a86a08f5eb1d3920d08fdacde01ad665b">pts</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structmkv__cuepoint.html#ab76d3aaaa1be10d7dd8b3831cd068152">   94</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="structmkv__cuepoint.html#ab76d3aaaa1be10d7dd8b3831cd068152">stream_idx</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structmkv__cuepoint.html#a20be82b1897a27fba735b31362557363">   95</a></span>&#160;    int64_t         <a class="code" href="structmkv__cuepoint.html#a20be82b1897a27fba735b31362557363">cluster_pos</a>;        </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structmkv__cuepoint.html#aaea04414a4ca212d05fce6c005e7f6ea">   96</a></span>&#160;    int64_t         <a class="code" href="structmkv__cuepoint.html#aaea04414a4ca212d05fce6c005e7f6ea">relative_pos</a>;       </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structmkv__cuepoint.html#a898ade2fada35e3ab4419c8ec9d67d24">   97</a></span>&#160;    int64_t         <a class="code" href="structmkv__cuepoint.html#a898ade2fada35e3ab4419c8ec9d67d24">duration</a>;           </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a4d3546cdfd41818727cd6bd11acea507">   98</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#a4d3546cdfd41818727cd6bd11acea507">mkv_cuepoint</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structmkv__cues.html">  100</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmkv__cues.html">mkv_cues</a> {</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">  101</a></span>&#160;    <a class="code" href="structmkv__cuepoint.html">mkv_cuepoint</a>   *<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">  102</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a55d329599be68c371ca0090db93bf0fe">  103</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#a55d329599be68c371ca0090db93bf0fe">mkv_cues</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structmkv__track.html">  105</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmkv__track.html">mkv_track</a> {</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">  106</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">write_dts</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structmkv__track.html#a78045cd3001e62eddc9529f52c656766">  107</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="structmkv__track.html#a78045cd3001e62eddc9529f52c656766">has_cue</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">  108</a></span>&#160;    uint64_t        <a class="code" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">uid</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">  109</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">track_num</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">  110</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structmkv__track.html#a738a83f1247c7a0a4db847221fab989d">  111</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="structmkv__track.html#a738a83f1247c7a0a4db847221fab989d">sample_rate</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structmkv__track.html#a9001a2f0ae533e347879f6ce17838d4a">  112</a></span>&#160;    int64_t         <a class="code" href="structmkv__track.html#a9001a2f0ae533e347879f6ce17838d4a">sample_rate_offset</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structmkv__track.html#a2476448832fd1d1e225cf9b420f0f814">  113</a></span>&#160;    int64_t         <a class="code" href="structmkv__track.html#a2476448832fd1d1e225cf9b420f0f814">last_timestamp</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structmkv__track.html#a8d5f286059b19873cdbfc95450df4e9e">  114</a></span>&#160;    int64_t         <a class="code" href="structmkv__track.html#a8d5f286059b19873cdbfc95450df4e9e">duration</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structmkv__track.html#af63f6e4e26b8c3d00d4c47cde468dcec">  115</a></span>&#160;    int64_t         <a class="code" href="structmkv__track.html#af63f6e4e26b8c3d00d4c47cde468dcec">duration_offset</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">  116</a></span>&#160;    int64_t         <a class="code" href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">codecpriv_offset</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structmkv__track.html#a52ef3581c395804cafb33dbcae6d50cc">  117</a></span>&#160;    int64_t         <a class="code" href="structmkv__track.html#a52ef3581c395804cafb33dbcae6d50cc">ts_offset</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a80cfa6a315a70a3a9df58e55309cd705">  118</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#a80cfa6a315a70a3a9df58e55309cd705">mkv_track</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a344e49ae7b4a855658d9c1446c42b6cf">  120</a></span>&#160;<span class="preprocessor">#define MODE_MATROSKAv2 0x01</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">  121</a></span>&#160;<span class="preprocessor">#define MODE_WEBM       0x02</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html">  123</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> {</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a8167f4b467d0295a0c5d9d2cf43f6cae">  124</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a>      *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">  125</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">  126</a></span>&#160;    <a class="code" href="structebml__stored__master.html">ebml_stored_master</a>  <a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">  127</a></span>&#160;    <a class="code" href="structebml__stored__master.html">ebml_stored_master</a>  <a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">  128</a></span>&#160;    <a class="code" href="structebml__stored__master.html">ebml_stored_master</a>  <a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">  129</a></span>&#160;    int64_t             <a class="code" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">segment_offset</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">  130</a></span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a>        *<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">  131</a></span>&#160;    int64_t             <a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a>;    </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">  132</a></span>&#160;    int64_t             <a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a587ddb7ba92cc6f36965959fff973a70">  133</a></span>&#160;    int64_t             <a class="code" href="struct_matroska_mux_context.html#a587ddb7ba92cc6f36965959fff973a70">duration_offset</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">  134</a></span>&#160;    int64_t             <a class="code" href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">duration</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">  135</a></span>&#160;    <a class="code" href="structmkv__track.html">mkv_track</a>          *<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">  136</a></span>&#160;    <a class="code" href="structmkv__seekhead.html">mkv_seekhead</a>        <a class="code" href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">seekhead</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ab60c13d51b880f63df964fb44612d76f">  137</a></span>&#160;    <a class="code" href="structmkv__cues.html">mkv_cues</a>            <a class="code" href="struct_matroska_mux_context.html#ab60c13d51b880f63df964fb44612d76f">cues</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ad2499d3f5ddce9271d646402671e48c0">  138</a></span>&#160;    int64_t             <a class="code" href="struct_matroska_mux_context.html#ad2499d3f5ddce9271d646402671e48c0">cues_pos</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">  140</a></span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a>            <a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ac9603334356675f512a95e4917f77709">  142</a></span>&#160;    <span class="keywordtype">unsigned</span>            <a class="code" href="struct_matroska_mux_context.html#ac9603334356675f512a95e4917f77709">nb_attachments</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a9a74ccb172e57e984f226de5e481a424">  143</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a9a74ccb172e57e984f226de5e481a424">have_video</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#af89ed82d443a4311ab9531a377356b57">  145</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#af89ed82d443a4311ab9531a377356b57">wrote_chapters</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#aa6f15754962535715e72927d9778cc2e">  146</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#aa6f15754962535715e72927d9778cc2e">wrote_tags</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">  148</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">  149</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">cluster_size_limit</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">  150</a></span>&#160;    int64_t             <a class="code" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">cluster_time_limit</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a09218e6804fa8a6f404c773c2a03529a">  151</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a09218e6804fa8a6f404c773c2a03529a">write_crc</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#abc58e5e95502777096a326c76b817c61">  152</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#abc58e5e95502777096a326c76b817c61">is_live</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">  154</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">is_dash</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a7ece633d0161e1bcbb1338dadc9b8472">  155</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a7ece633d0161e1bcbb1338dadc9b8472">dash_track_number</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a142765090222da1f7296c379b37c9b78">  156</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a142765090222da1f7296c379b37c9b78">allow_raw_vfw</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a7e108711c8f3afd513871754953fdbd5">  157</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a7e108711c8f3afd513871754953fdbd5">flipped_raw_rgb</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#a9f5a38e5e14c26c948c90ce2ebb14038">  158</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="struct_matroska_mux_context.html#a9f5a38e5e14c26c948c90ce2ebb14038">default_mode</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="struct_matroska_mux_context.html#ab9f035307ebdc7f5e8aee1a8e8452706">  160</a></span>&#160;    uint32_t            <a class="code" href="struct_matroska_mux_context.html#ab9f035307ebdc7f5e8aee1a8e8452706">segment_uid</a>[4];</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a35b782b756d5a6a7523c48524e5b45b1">  161</a></span>&#160;} <a class="code" href="matroskaenc_8c.html#a35b782b756d5a6a7523c48524e5b45b1">MatroskaMuxContext</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a5034bc21db6c59fc34f90252a28b9f82">  165</a></span>&#160;<span class="preprocessor">#define MAX_EBML_HEADER_SIZE 35</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aab32034f1bf20bafa42b272754e27de9">  169</a></span>&#160;<span class="preprocessor">#define MAX_SEEKENTRY_SIZE 21</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ac1050888091ee6f43b12eb285d640c48">  172</a></span>&#160;<span class="preprocessor">#define MAX_CUETRACKPOS_SIZE 40</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a24eb692c424e64f8058e019bb776a959">  175</a></span>&#160;<span class="preprocessor">#define OPUS_SEEK_PREROLL 80000000</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a5b06ef81d9d638787641cccf213d2b9d">  177</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a5b06ef81d9d638787641cccf213d2b9d">ebml_id_size</a>(uint32_t <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<span class="keywordtype">id</span>) + 7<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>) / 8;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">  182</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="matroskaenc_8c.html#a5b06ef81d9d638787641cccf213d2b9d">ebml_id_size</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>)(<span class="keywordtype">id</span> &gt;&gt; (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8)));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#af8d53582576b0ae3d2649a9a2ca09645">  194</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#af8d53582576b0ae3d2649a9a2ca09645">put_ebml_size_unknown</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keywordtype">int</span> bytes)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(bytes &lt;= 8);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 0x1ff &gt;&gt; bytes);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="avio__internal_8h.html#a4e3d561f0280d04d67cc0e9f33a04e36">ffio_fill</a>(pb, 0xff, bytes - 1);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a0998bb9623eca306bdd2d88ec187f000">  205</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a0998bb9623eca306bdd2d88ec187f000">ebml_num_size</a>(uint64_t num)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">int</span> bytes = 0;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        bytes++;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    } <span class="keywordflow">while</span> (num &gt;&gt;= 7);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> bytes;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#add73f53ea7abcc785b28b2a25bed9979">  218</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#add73f53ea7abcc785b28b2a25bed9979">ebml_length_size</a>(uint64_t length)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#a0998bb9623eca306bdd2d88ec187f000">ebml_num_size</a>(length + 1);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ae2ff72f3a0c2c52e8a881a5c6cf4b47a">  227</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#ae2ff72f3a0c2c52e8a881a5c6cf4b47a">put_ebml_num</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint64_t num, <span class="keywordtype">int</span> bytes)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    num |= 1ULL &lt;&lt; bytes * 7;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = bytes - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>)(num &gt;&gt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">  240</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint64_t length, <span class="keywordtype">int</span> bytes)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">int</span> needed_bytes = <a class="code" href="matroskaenc_8c.html#add73f53ea7abcc785b28b2a25bed9979">ebml_length_size</a>(length);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// sizes larger than this are currently undefined in EBML</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(length &lt; (1ULL &lt;&lt; 56) - 1);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (bytes == 0)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        bytes = needed_bytes;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// The bytes needed to write the given size must not exceed</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// the bytes that we ought to use.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(bytes &gt;= needed_bytes);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="matroskaenc_8c.html#ae2ff72f3a0c2c52e8a881a5c6cf4b47a">put_ebml_num</a>(pb, length, bytes);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a68eae606bc0505b49a1eeb71c9f033a1">  258</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#a68eae606bc0505b49a1eeb71c9f033a1">put_ebml_uid</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t elementid, uint64_t <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, elementid);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, 8, 0);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="avio_8h.html#a9a88d79a1fc983c04a4e009b85361d54">avio_wb64</a>(pb, <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">  265</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t elementid, uint64_t <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, bytes = 1;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    uint64_t tmp = <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">while</span> (tmp &gt;&gt;= 8)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        bytes++;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, elementid);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, bytes, 0);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = bytes - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>)(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &gt;&gt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a35a1e95e495883ddec240c3b2346a374">  278</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#a35a1e95e495883ddec240c3b2346a374">put_ebml_sint</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t elementid, int64_t <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, bytes = 1;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    uint64_t tmp = 2*(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &lt; 0 ? <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>^-1 : <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">while</span> (tmp &gt;&gt;= 8)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        bytes++;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, elementid);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, bytes, 0);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = bytes - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>)(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &gt;&gt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">  292</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t elementid, <span class="keywordtype">double</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, elementid);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, 8, 0);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="avio_8h.html#a9a88d79a1fc983c04a4e009b85361d54">avio_wb64</a>(pb, <a class="code" href="intfloat_8h.html#ae3b5f3db537273543dfcce45816ba02a">av_double2int</a>(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">  299</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t elementid,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">void</span> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, elementid);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">  307</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t elementid,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, elementid, <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, strlen(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>));</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">  319</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt;= 2);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, <a class="code" href="matroska_8h.html#aad5cfe78bbf08a81866da469e88a0e95">EBML_ID_VOID</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// we need to subtract the length needed to store the size from the</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// size we need to reserve so 2 cases, we use 8 bytes to store the</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// size if possible, 1 byte otherwise</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 10) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= 2;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= 9;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 8);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="avio__internal_8h.html#a4e3d561f0280d04d67cc0e9f33a04e36">ffio_fill</a>(pb, 0, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">  337</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structebml__master.html">ebml_master</a> <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, uint32_t elementid,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                     uint64_t expectedsize)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">int</span> bytes = expectedsize ? <a class="code" href="matroskaenc_8c.html#add73f53ea7abcc785b28b2a25bed9979">ebml_length_size</a>(expectedsize) : 8;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, elementid);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="matroskaenc_8c.html#af8d53582576b0ae3d2649a9a2ca09645">put_ebml_size_unknown</a>(pb, bytes);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="structebml__master.html">ebml_master</a>) { <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb), bytes };</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">  347</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <a class="code" href="structebml__master.html">ebml_master</a> <a class="code" href="vf__curves_8c.html#a2a1bf31ff09137e014c839bbaf9453d6">master</a>)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="vf__curves_8c.html#a2a1bf31ff09137e014c839bbaf9453d6">master</a>.pos - <a class="code" href="vf__curves_8c.html#a2a1bf31ff09137e014c839bbaf9453d6">master</a>.sizebytes, SEEK_SET) &lt; 0)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> - <a class="code" href="vf__curves_8c.html#a2a1bf31ff09137e014c839bbaf9453d6">master</a>.pos, <a class="code" href="vf__curves_8c.html#a2a1bf31ff09137e014c839bbaf9453d6">master</a>.sizebytes);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ac507b27801b8779b7d6846b2d1382508">  357</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#ac507b27801b8779b7d6846b2d1382508">mkv_add_seekhead_entry</a>(<a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv, uint32_t elementid,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                   uint64_t filepos)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="structmkv__seekhead.html">mkv_seekhead</a> *seekhead = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">seekhead</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(seekhead-&gt;<a class="code" href="structmkv__seekhead.html#a555caaec9ac16d341f3be80dbca17b9b">num_entries</a> &lt; <a class="code" href="matroskaenc_8c.html#a621bb23cec96007349c3d7b90472d8ad">MAX_SEEKHEAD_ENTRIES</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    seekhead-&gt;<a class="code" href="structmkv__seekhead.html#ad1a19d396cb3d8121641229d3f330b18">entries</a>[seekhead-&gt;<a class="code" href="structmkv__seekhead.html#a555caaec9ac16d341f3be80dbca17b9b">num_entries</a>].<a class="code" href="structmkv__seekhead__entry.html#a4706e27087f33247ffbc451ede9efc07">elementid</a>    = elementid;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    seekhead-&gt;<a class="code" href="structmkv__seekhead.html#ad1a19d396cb3d8121641229d3f330b18">entries</a>[seekhead-&gt;<a class="code" href="structmkv__seekhead.html#a555caaec9ac16d341f3be80dbca17b9b">num_entries</a>++].<a class="code" href="structmkv__seekhead__entry.html#a1601d4120da2440652db51e6dccbd9df">segmentpos</a> = filepos - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">segment_offset</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">  368</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **dyn_cp, <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (!*dyn_cp &amp;&amp; (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a>(dyn_cp)) &lt; 0)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a09218e6804fa8a6f404c773c2a03529a">write_crc</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(*dyn_cp, 6); <span class="comment">/* Reserve space for CRC32 so position/size calculations using avio_tell() take it into account */</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">  381</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **dyn_cp,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                 <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv, uint32_t <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                 <span class="keywordtype">int</span> length_size, <span class="keywordtype">int</span> keep_buffer,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                 <span class="keywordtype">int</span> add_seekentry)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, crc[4];</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, skip = 0;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a>(*dyn_cp, &amp;buf);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = (*dyn_cp)-&gt;error) &lt; 0)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (add_seekentry)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="matroskaenc_8c.html#ac507b27801b8779b7d6846b2d1382508">mkv_add_seekhead_entry</a>(mkv, <span class="keywordtype">id</span>, <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb));</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, length_size);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a09218e6804fa8a6f404c773c2a03529a">write_crc</a>) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        skip = 6; <span class="comment">/* Skip reserved 6-byte long void element from the dynamic buffer. */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(crc, <a class="code" href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a>(<a class="code" href="group__lavu__crc32.html#gabb35ea72fdeee2645e4e57cae225ac2b">av_crc_get_table</a>(<a class="code" href="group__lavu__crc32.html#ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752">AV_CRC_32_IEEE_LE</a>), UINT32_MAX, buf + skip, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - skip) ^ UINT32_MAX);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#acc9233d896eae92cad2ec9222dbfa06b">EBML_ID_CRC32</a>, crc, <span class="keyword">sizeof</span>(crc));</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, buf + skip, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - skip);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (keep_buffer) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="avio__internal_8h.html#a4384ad60cea40be0f3d20cec4801eaa0">ffio_reset_dyn_buf</a>(*dyn_cp);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(dyn_cp);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a338b543c7595d55ed9461c4d7f2a1e64">  418</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a338b543c7595d55ed9461c4d7f2a1e64">end_ebml_master_crc32_tentatively</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                             <a class="code" href="structebml__stored__master.html">ebml_stored_master</a> *elem,</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                             <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv, uint32_t <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(pb, mkv)) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a>(elem-&gt;<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, &amp;buf);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">error</a> &lt; 0)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">return</span> elem-&gt;<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">error</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        elem-&gt;<a class="code" href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="matroskaenc_8c.html#ac507b27801b8779b7d6846b2d1382508">mkv_add_seekhead_entry</a>(mkv, <span class="keywordtype">id</span>, elem-&gt;<a class="code" href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">pos</a>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;elem-&gt;<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, mkv, <span class="keywordtype">id</span>, 0, 0, 1);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ace22579687f65e81ba4f8dce90288a34">  441</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#ace22579687f65e81ba4f8dce90288a34">put_xiph_size</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="avio__internal_8h.html#a4e3d561f0280d04d67cc0e9f33a04e36">ffio_fill</a>(pb, 255, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> / 255);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> % 255);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ac8293c3af1793e062f39b503a79f8dd1">  450</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#ac8293c3af1793e062f39b503a79f8dd1">mkv_deinit</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab60c13d51b880f63df964fb44612d76f">cues</a>.<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ab0af45e479f8c1e4286a3ded29acaeba">  470</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#ab0af45e479f8c1e4286a3ded29acaeba">mkv_start_seekhead</a>(<a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">seekhead</a>.<a class="code" href="structmkv__seekhead.html#a3d7d74ebb3ccc8211567ccb7237fa9fa">filepos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// 21 bytes max for a Seek entry, 6 bytes max for the SeekHead ID</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// and size, 6 bytes for a CRC32 element, and 2 bytes to guarantee</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// that an EBML void element will fit afterwards</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">seekhead</a>.<a class="code" href="structmkv__seekhead.html#ad4d67611da008d2f64e295ba87fbc219">reserved_size</a> = <a class="code" href="matroskaenc_8c.html#a621bb23cec96007349c3d7b90472d8ad">MAX_SEEKHEAD_ENTRIES</a> * <a class="code" href="matroskaenc_8c.html#aab32034f1bf20bafa42b272754e27de9">MAX_SEEKENTRY_SIZE</a> + 14;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">seekhead</a>.<a class="code" href="structmkv__seekhead.html#ad4d67611da008d2f64e295ba87fbc219">reserved_size</a>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a132c7253c2dd13b0c5ac08b308bf47af">  490</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a132c7253c2dd13b0c5ac08b308bf47af">mkv_write_seekhead</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                              <span class="keywordtype">int</span> error_on_seek_failure, int64_t destpos)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *dyn_cp = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="structmkv__seekhead.html">mkv_seekhead</a> *seekhead = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">seekhead</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    int64_t remaining, ret64;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> ((ret64 = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, seekhead-&gt;<a class="code" href="structmkv__seekhead.html#a3d7d74ebb3ccc8211567ccb7237fa9fa">filepos</a>, SEEK_SET)) &lt; 0)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">return</span> error_on_seek_failure ? ret64 : 0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(&amp;dyn_cp, mkv);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; seekhead-&gt;<a class="code" href="structmkv__seekhead.html#a555caaec9ac16d341f3be80dbca17b9b">num_entries</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="structmkv__seekhead__entry.html">mkv_seekhead_entry</a> *entry = &amp;seekhead-&gt;<a class="code" href="structmkv__seekhead.html#ad1a19d396cb3d8121641229d3f330b18">entries</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="structebml__master.html">ebml_master</a> seekentry = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(dyn_cp, <a class="code" href="matroska_8h.html#aafc19b795685b37527d694a0573ab380">MATROSKA_ID_SEEKENTRY</a>,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                                  <a class="code" href="matroskaenc_8c.html#aab32034f1bf20bafa42b272754e27de9">MAX_SEEKENTRY_SIZE</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(dyn_cp, <a class="code" href="matroska_8h.html#a351ec0bd7766f607de4ab79c73487b71">MATROSKA_ID_SEEKID</a>);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(dyn_cp, <a class="code" href="matroskaenc_8c.html#a5b06ef81d9d638787641cccf213d2b9d">ebml_id_size</a>(entry-&gt;<a class="code" href="structmkv__seekhead__entry.html#a4706e27087f33247ffbc451ede9efc07">elementid</a>), 0);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(dyn_cp, entry-&gt;<a class="code" href="structmkv__seekhead__entry.html#a4706e27087f33247ffbc451ede9efc07">elementid</a>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#ab525a079f7927882e285a5a2322e4276">MATROSKA_ID_SEEKPOSITION</a>, entry-&gt;<a class="code" href="structmkv__seekhead__entry.html#a1601d4120da2440652db51e6dccbd9df">segmentpos</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(dyn_cp, seekentry);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;dyn_cp, mkv,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                <a class="code" href="matroska_8h.html#a46d396682868af2b4e331b52f4d2d4d8">MATROSKA_ID_SEEKHEAD</a>, 0, 0, 0);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    remaining = seekhead-&gt;<a class="code" href="structmkv__seekhead.html#a3d7d74ebb3ccc8211567ccb7237fa9fa">filepos</a> + seekhead-&gt;<a class="code" href="structmkv__seekhead.html#ad4d67611da008d2f64e295ba87fbc219">reserved_size</a> - <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, remaining);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> ((ret64 = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, destpos, SEEK_SET)) &lt; 0)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">return</span> ret64;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ac11d3a7eb844a80dc9752cc94e1b4186">  531</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#ac11d3a7eb844a80dc9752cc94e1b4186">mkv_add_cuepoint</a>(<a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv, <span class="keywordtype">int</span> stream, int64_t ts,</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                            int64_t cluster_pos, int64_t relative_pos, int64_t <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;{</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="structmkv__cues.html">mkv_cues</a> *cues = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab60c13d51b880f63df964fb44612d76f">cues</a>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="structmkv__cuepoint.html">mkv_cuepoint</a> *entries = cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (ts &lt; 0)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    entries = <a class="code" href="mem_8c.html#aadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(entries, cues-&gt;<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a> + 1, <span class="keyword">sizeof</span>(<a class="code" href="structmkv__cuepoint.html">mkv_cuepoint</a>));</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (!entries)</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a> = entries;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>[cues-&gt;<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a>].<a class="code" href="structmkv__cuepoint.html#a86a08f5eb1d3920d08fdacde01ad665b">pts</a>           = ts;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>[cues-&gt;<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a>].<a class="code" href="structmkv__cuepoint.html#ab76d3aaaa1be10d7dd8b3831cd068152">stream_idx</a>    = stream;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>[cues-&gt;<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a>].<a class="code" href="structmkv__cuepoint.html#a20be82b1897a27fba735b31362557363">cluster_pos</a>   = cluster_pos - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">segment_offset</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>[cues-&gt;<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a>].<a class="code" href="structmkv__cuepoint.html#aaea04414a4ca212d05fce6c005e7f6ea">relative_pos</a>  = relative_pos;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>[cues-&gt;<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a>++].<a class="code" href="structmkv__cuepoint.html#a898ade2fada35e3ab4419c8ec9d67d24">duration</a>    = <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a18508a03cde7721dc982deae8a1205fe">  554</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a18508a03cde7721dc982deae8a1205fe">mkv_assemble_cues</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> **streams, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *dyn_cp,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                             <a class="code" href="structmkv__cues.html">mkv_cues</a> *cues, <a class="code" href="structmkv__track.html">mkv_track</a> *tracks, <span class="keywordtype">int</span> num_tracks)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *cuepoint;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a>(&amp;cuepoint);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structmkv__cuepoint.html">mkv_cuepoint</a> *entry = cues-&gt;<a class="code" href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">entries</a>, *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = entry + cues-&gt;<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;         entry &lt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        uint64_t <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a> = entry-&gt;pts;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(cuepoint, <a class="code" href="matroska_8h.html#a48e9bf9f0e44af7900306e7a7fb7af6b">MATROSKA_ID_CUETIME</a>, <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="comment">// put all the entries from different tracks that have the exact same</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="comment">// timestamp into the same CuePoint</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; num_tracks; j++)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            tracks[j].has_cue = 0;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="structebml__master.html">ebml_master</a> track_positions;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordtype">int</span> idx = entry-&gt;stream_idx;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(idx &gt;= 0 &amp;&amp; idx &lt; num_tracks);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">if</span> (tracks[idx].has_cue &amp;&amp; streams[idx]-&gt;codecpar-&gt;codec_type != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            tracks[idx].<a class="code" href="structmkv__track.html#a78045cd3001e62eddc9529f52c656766">has_cue</a> = 1;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            track_positions = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(cuepoint, <a class="code" href="matroska_8h.html#ad9fd5c0ce49b9b900efb0f350d409eef">MATROSKA_ID_CUETRACKPOSITION</a>, <a class="code" href="matroskaenc_8c.html#ac1050888091ee6f43b12eb285d640c48">MAX_CUETRACKPOS_SIZE</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(cuepoint, <a class="code" href="matroska_8h.html#a6f8b9b4d3e735e0b206946463e2afef5">MATROSKA_ID_CUETRACK</a>           , tracks[idx].track_num);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(cuepoint, <a class="code" href="matroska_8h.html#ad125455c09f945d87b11712287eec493">MATROSKA_ID_CUECLUSTERPOSITION</a> , entry-&gt;cluster_pos);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(cuepoint, <a class="code" href="matroska_8h.html#a11a3a12dfac32a3fed0d68b681ba224c">MATROSKA_ID_CUERELATIVEPOSITION</a>, entry-&gt;relative_pos);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">if</span> (entry-&gt;duration != -1)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(cuepoint, <a class="code" href="matroska_8h.html#aadcf18c68f7cccfd0e48c420ba8b1ea7">MATROSKA_ID_CUEDURATION</a>    , entry-&gt;duration);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(cuepoint, track_positions);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        } <span class="keywordflow">while</span> (++entry &lt; end &amp;&amp; entry-&gt;<a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a> == <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a>(cuepoint, &amp;buf);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = cuepoint-&gt;<a class="code" href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">error</a>) &lt; 0)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(dyn_cp, <a class="code" href="matroska_8h.html#a721a35e1539f7d70cb12a56b0704f345">MATROSKA_ID_POINTENTRY</a>, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="avio__internal_8h.html#a4384ad60cea40be0f3d20cec4801eaa0">ffio_reset_dyn_buf</a>(cuepoint);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;cuepoint);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a6abb955200b2c67d9fdafd382979d359">  603</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a6abb955200b2c67d9fdafd382979d359">put_xiph_codecpriv</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                              <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *header_start[3];</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordtype">int</span> header_len[3];</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordtype">int</span> first_header_size;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordtype">int</span> err, j;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a>)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        first_header_size = 30;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        first_header_size = 42;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    err = <a class="code" href="xiph_8c.html#a3c4ba1310b067a4d8a0326e393a99cd4">avpriv_split_xiph_headers</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>,</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                    first_header_size, header_start, header_len);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Extradata corrupt.\n&quot;</span>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 2);                    <span class="comment">// number packets - 1</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; 2; j++) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="matroskaenc_8c.html#ace22579687f65e81ba4f8dce90288a34">put_xiph_size</a>(pb, header_len[j]);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; 3; j++)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, header_start[j], header_len[j]);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#af773cbd0899efb0e10cbd0ecec69d510">  633</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#af773cbd0899efb0e10cbd0ecec69d510">put_wv_codecpriv</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> == 2)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, 2);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, 0x410); <span class="comment">// fallback to the most recent version</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a1ddc46b549269f2122805d7b5dad0567">  642</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a1ddc46b549269f2122805d7b5dad0567">put_flac_codecpriv</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                              <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;{</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordtype">int</span> write_comment = (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a18e0af4b263443a6c4d2d5304dbd537e">channel_layout</a> &amp;&amp;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                         !(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a18e0af4b263443a6c4d2d5304dbd537e">channel_layout</a> &amp; ~0x3ffffULL) &amp;&amp;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                         !<a class="code" href="flacenc_8h.html#ac32c2fb56e188f46dc38ce92798f344e">ff_flac_is_native_layout</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a18e0af4b263443a6c4d2d5304dbd537e">channel_layout</a>));</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="flacenc_8h.html#ab407330b4141de55f77b3005ec9c2874">ff_flac_write_header</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                   !write_comment);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">if</span> (write_comment) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *vendor = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a2fa1d95841e62af509ba733a11c1b25b">AVFMT_FLAG_BITEXACT</a>) ?</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                             <span class="stringliteral">&quot;Lavf&quot;</span> : <a class="code" href="libavformat_2version_8h.html#a052e19399c636f5fe37639a6625f03ae">LIBAVFORMAT_IDENT</a>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *dict = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[32];</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        int64_t <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;0x%&quot;</span>PRIx64, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a18e0af4b263443a6c4d2d5304dbd537e">channel_layout</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;dict, <span class="stringliteral">&quot;WAVEFORMATEXTENSIBLE_CHANNEL_MASK&quot;</span>, buf, 0);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="vorbiscomment_8c.html#adcb7623c3890bad5edb0f5748d5efc2c">ff_vorbiscomment_length</a>(dict, vendor, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; (1 &lt;&lt; 24) - 4);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 0x84);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <a class="code" href="avio_8h.html#a81a5cfb941abfe2b83a30be4f86ad06d">avio_wb24</a>(pb, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="vorbiscomment_8c.html#a2f59b8f2711338c3ff4e87e3c8112e41">ff_vorbiscomment_write</a>(pb, dict, vendor, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;dict);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a2356239ed04dd37ed6638b0087801cce">  678</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a2356239ed04dd37ed6638b0087801cce">get_aac_sample_rates</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv,</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                                <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *extradata, <span class="keywordtype">int</span> extradata_size,</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                                <span class="keywordtype">int</span> *<a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>, <span class="keywordtype">int</span> *output_sample_rate)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;{</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="struct_m_p_e_g4_audio_config.html">MPEG4AudioConfig</a> mp4ac;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mpeg4audio_8c.html#acab762fcd8d26269137fe9fc6415acfe">avpriv_mpeg4audio_get_config2</a>(&amp;mp4ac, extradata, extradata_size, 1, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">/* Don&#39;t abort if the failure is because of missing extradata. Assume in that</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">     * case a bitstream filter will provide the muxer with the extradata in the</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">     * first packet.</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">     * Abort however if s-&gt;pb is not seekable, as we would not be able to seek back</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">     * to write the sample rate elements once the extradata shows up, anyway. */</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0 &amp;&amp; (extradata_size || !<a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, mkv))) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;               <span class="stringliteral">&quot;Error parsing AAC extradata, unable to determine samplerate.\n&quot;</span>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="comment">/* This will only happen when this function is called while writing the</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">         * header and no extradata is available. The space for this element has</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">         * to be reserved for when this function is called again after the</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">         * extradata shows up in the first packet, as there&#39;s no way to know if</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">         * output_sample_rate will be different than sample_rate or not. */</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        *output_sample_rate = *<a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        *<a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>        = mp4ac.<a class="code" href="struct_m_p_e_g4_audio_config.html#adff46b06743dea221e8852572b925c07">sample_rate</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        *output_sample_rate = mp4ac.<a class="code" href="struct_m_p_e_g4_audio_config.html#a1bfd3ab0720ccba2cc485e285cc7492e">ext_sample_rate</a>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a739ab5ffb5b044a787cb210b3aaf4c95">  711</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a739ab5ffb5b044a787cb210b3aaf4c95">mkv_write_native_codecprivate</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                         <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *dyn_cp)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">switch</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a>:</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c3ef0a1eec3cf22756a1323989ff4d8">AV_CODEC_ID_THEORA</a>:</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#a6abb955200b2c67d9fdafd382979d359">put_xiph_codecpriv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dyn_cp, par);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a>:</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#a1ddc46b549269f2122805d7b5dad0567">put_flac_codecpriv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dyn_cp, par);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae6f1c1bbb4e389366f56cfb8cc77d240">AV_CODEC_ID_WAVPACK</a>:</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#af773cbd0899efb0e10cbd0ecec69d510">put_wv_codecpriv</a>(dyn_cp, par);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a>:</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="avc_8c.html#a3c387fceac914c5eeffe9e1d58572f22">ff_isom_write_avcc</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                  par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>:</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="hevc_8c.html#a81c4ea74f4e7c8c3ed1a9a8ad7336d91">ff_isom_write_hvcc</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>,</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                                  par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>, 0);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6dbe55d3a303780cfdb3627384e4141d">AV_CODEC_ID_AV1</a>:</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="av1_8c.html#a60d184198b8abbf71766e3d5fcf0d6d2">ff_isom_write_av1c</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                      par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, 4 + 3);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea81f7bb2a5a480533df028153b1f664c6">AV_CODEC_ID_ALAC</a>:</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &lt; 36) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                   <span class="stringliteral">&quot;Invalid extradata found, ALAC expects a 36-byte &quot;</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                   <span class="stringliteral">&quot;QuickTime atom.&quot;</span>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> + 12,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                       par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> - 12);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a>:</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, <a class="code" href="mpeg4audio_8h.html#a4cb13441e2c38d662ad4f5625dbbe1d1">MAX_PCE_SIZE</a> + 2 + 4);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab140360bd655d8add22265dbe45b581c">AV_CODEC_ID_PRORES</a> &amp;&amp;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(<a class="code" href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>) == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab140360bd655d8add22265dbe45b581c">AV_CODEC_ID_PRORES</a>) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea94bc512e0c73486d18f23b8e27915409">AV_CODEC_ID_TTA</a>)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a868557510e83a336f135e8bb0da44327">  763</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a868557510e83a336f135e8bb0da44327">mkv_write_codecprivate</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                  <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                  <span class="keywordtype">int</span> native_id, <span class="keywordtype">int</span> qt_id)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *dyn_cp;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *codecpriv;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, codecpriv_size;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a>(&amp;dyn_cp);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (native_id) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a739ab5ffb5b044a787cb210b3aaf4c95">mkv_write_native_codecprivate</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, par, dyn_cp);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">if</span> (qt_id) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> = <a class="code" href="libavformat_2internal_8h.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a>(<a class="code" href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a>,</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                                                    par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keywordflow">if</span> (   <a class="code" href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(<a class="code" href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>) == par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                &amp;&amp; (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> || <a class="code" href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(<a class="code" href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a>, <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> + 4)) != par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            ) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <a class="code" href="avio_8h.html#a1f2b9ee1bde6c6982072edbe929b47ea">avio_wb32</a>(dyn_cp, 0x5a + par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                <span class="keywordflow">for</span>(<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 0x5a - 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(dyn_cp, 0);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(dyn_cp, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2internal_8h.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a>(<a class="code" href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>))</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;codec %s is not supported by this format\n&quot;</span>,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                       <a class="code" href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>));</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> = <a class="code" href="libavformat_2internal_8h.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a>(<a class="code" href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a>,</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                                                  par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a>) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;No bmp codec tag found for codec %s\n&quot;</span>,</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                       <a class="code" href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>));</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <a class="code" href="riff_8h.html#a62b093de5e772b0a600fe92e83b4b284">ff_put_bmp_header</a>(dyn_cp, par, 0, 0, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7e108711c8f3afd513871754953fdbd5">flipped_raw_rgb</a>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="libavformat_2internal_8h.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a>(<a class="code" href="riff_8c.html#aeb42da0d9adf5affab3b0f64c2ead98a">ff_codec_wav_tags</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;No wav codec tag found for codec %s\n&quot;</span>,</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                   <a class="code" href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>));</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> = <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="riff_8h.html#ac60e12afe94d726dbdf5141501a8e893">ff_put_wav_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dyn_cp, par, <a class="code" href="riff_8h.html#a0d2db30ed7d1cdb2680054cc4572ae49">FF_PUT_WAV_HEADER_FORCE_WAVEFORMATEX</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        codecpriv_size = <a class="code" href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a>(dyn_cp, &amp;codecpriv);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = dyn_cp-&gt;<a class="code" href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">error</a>) &gt;= 0 &amp;&amp; codecpriv_size)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#ab658a7a9a11f450e86c611d0ae085b03">MATROSKA_ID_CODECPRIVATE</a>, codecpriv,</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                            codecpriv_size);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;dyn_cp);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aa2d67ac325474122b93ad1a22d5bb4e1">  833</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#aa2d67ac325474122b93ad1a22d5bb4e1">mkv_write_video_color</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">/* 18 Elements with two bytes ID, one byte length field, 8 bytes payload</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">     * a master element with two bytes ID and one byte length field</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">     * plus another byte to stay clear of the end. */</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> colour[(2 + 1 + 8) * 18 + (2 + 1) + 1];</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> buf, *dyn_cp = &amp;buf;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordtype">int</span> colorinfo_size;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *side_data;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="avio__internal_8h.html#ad5a5bf73572e5fdb109e0bcd1aa99c7e">ffio_init_context</a>(dyn_cp, colour, <span class="keyword">sizeof</span>(colour), 1, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ac25ed8394e1efdbbcf28932ff0020893">color_trc</a> != <a class="code" href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab">AVCOL_TRC_UNSPECIFIED</a> &amp;&amp;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ac25ed8394e1efdbbcf28932ff0020893">color_trc</a> &lt; <a class="code" href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6afd90c992604891bb6ee498b1bae6bb56">AVCOL_TRC_NB</a>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#a5dc2482ee1fbce9c898e9f9404aea272">MATROSKA_ID_VIDEOCOLORTRANSFERCHARACTERISTICS</a>,</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                      par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ac25ed8394e1efdbbcf28932ff0020893">color_trc</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a020398a4963e932853cefc169d90456d">color_space</a> != <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a> &amp;&amp;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a020398a4963e932853cefc169d90456d">color_space</a> &lt; <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a6bc76afe32d243e2af17af6c56cc6d50">AVCOL_SPC_NB</a>) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#ae2f1dbd53f6fb15a266da08915be697a">MATROSKA_ID_VIDEOCOLORMATRIXCOEFF</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a020398a4963e932853cefc169d90456d">color_space</a>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#aa884cae3fd16b30c61201a686664f96b">color_primaries</a> != <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942">AVCOL_PRI_UNSPECIFIED</a> &amp;&amp;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#aa884cae3fd16b30c61201a686664f96b">color_primaries</a> &lt; <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a21614813a78ac5fe8d3e1187474d042f">AVCOL_PRI_NB</a>) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#ab104830568007bd594ada40776f5b84f">MATROSKA_ID_VIDEOCOLORPRIMARIES</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#aa884cae3fd16b30c61201a686664f96b">color_primaries</a>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#afa6744d9b8766db47a5ff7bddf0f2404">color_range</a> != <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a> &amp;&amp;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#afa6744d9b8766db47a5ff7bddf0f2404">color_range</a> &lt; <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aab720c777af1784c9197b3d844de36485">AVCOL_RANGE_NB</a>) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#aa4fbf9a75ad7a05e65759ac1eb2ec184">MATROSKA_ID_VIDEOCOLORRANGE</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#afa6744d9b8766db47a5ff7bddf0f2404">color_range</a>);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ae4c7ac718a75adb31b5f2076a02fdedf">chroma_location</a> != <a class="code" href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffafd1c2fae7783c113d76a017c6e7b638f">AVCHROMA_LOC_UNSPECIFIED</a> &amp;&amp;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ae4c7ac718a75adb31b5f2076a02fdedf">chroma_location</a> &lt;= <a class="code" href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffa2da13ea26652f612ecaeb850a3d014e7">AVCHROMA_LOC_TOP</a>) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordtype">int</span> xpos, ypos;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <a class="code" href="group__lavc__decoding.html#ga29744651709d05d125982e6ca20fcd95">avcodec_enum_to_chroma_pos</a>(&amp;xpos, &amp;ypos, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ae4c7ac718a75adb31b5f2076a02fdedf">chroma_location</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#a616f9b32b2d0d21ec84d347f3d4c717c">MATROSKA_ID_VIDEOCOLORCHROMASITINGHORZ</a>, (xpos &gt;&gt; 7) + 1);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#a745f5f078fa9e2016a410876741ef968">MATROSKA_ID_VIDEOCOLORCHROMASITINGVERT</a>, (ypos &gt;&gt; 7) + 1);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    side_data = <a class="code" href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65">av_stream_get_side_data</a>(st, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97aea49ec141cf7f4b1c56da65d9c2df239">AV_PKT_DATA_CONTENT_LIGHT_LEVEL</a>,</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                        <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (side_data) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_content_light_metadata.html">AVContentLightMetadata</a> *metadata = side_data;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#ab07a5a9a03ad153f4e396b7923292da6">MATROSKA_ID_VIDEOCOLORMAXCLL</a>,  metadata-&gt;<a class="code" href="struct_a_v_content_light_metadata.html#a9d2d7743a599c9b2f2a07a9504625b92">MaxCLL</a>);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#a38d4c40726bbaae3ce955c3885bee60d">MATROSKA_ID_VIDEOCOLORMAXFALL</a>, metadata-&gt;<a class="code" href="struct_a_v_content_light_metadata.html#a4e9bfc44c6b87bbf096141fae12e1692">MaxFALL</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    side_data = <a class="code" href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65">av_stream_get_side_data</a>(st, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a5fe6406e07337dcb0125bd03fba7ea2c">AV_PKT_DATA_MASTERING_DISPLAY_METADATA</a>,</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                        <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (side_data) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <a class="code" href="structebml__master.html">ebml_master</a> meta_element = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            dyn_cp, <a class="code" href="matroska_8h.html#a77077149eb55d087c0d919665ccec599">MATROSKA_ID_VIDEOCOLORMASTERINGMETA</a>, 10 * (2 + 1 + 8));</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_mastering_display_metadata.html">AVMasteringDisplayMetadata</a> *metadata = side_data;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">if</span> (metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a0e30962e66d883ddba77fac5af55d3af">has_primaries</a>) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#aa6b9a485eeb486ec8b1af25f58a0e552">MATROSKA_ID_VIDEOCOLOR_RX</a>,</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[0][0]));</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#a50ef49d5df83fea9789ae683163a0860">MATROSKA_ID_VIDEOCOLOR_RY</a>,</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[0][1]));</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#afb3359ed5ecc693a0999e8c960c8a57c">MATROSKA_ID_VIDEOCOLOR_GX</a>,</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[1][0]));</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#a3af13b9d269f650d8b8c9cc7d7ae9542">MATROSKA_ID_VIDEOCOLOR_GY</a>,</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[1][1]));</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#a5f943b54da25f3af751f09a971d7772a">MATROSKA_ID_VIDEOCOLOR_BX</a>,</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[2][0]));</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#a4d00b9ffbedcaec0dc434fafa3cd4bf9">MATROSKA_ID_VIDEOCOLOR_BY</a>,</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">display_primaries</a>[2][1]));</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#ab3310424226c2ed29faa776603030b35">MATROSKA_ID_VIDEOCOLOR_WHITEX</a>,</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a968384052f48e91fc57b3c61b9f68224">white_point</a>[0]));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#ab03269e1d452bbdf54597d0a4781efa7">MATROSKA_ID_VIDEOCOLOR_WHITEY</a>,</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a968384052f48e91fc57b3c61b9f68224">white_point</a>[1]));</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">if</span> (metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#addf45817ef0970905e650aff3907ce4d">has_luminance</a>) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#a7894b26ac51b2d67f387efb0cd3c2d53">MATROSKA_ID_VIDEOCOLOR_LUMINANCEMAX</a>,</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a45890b654337321044a5b13c5e5961c5">max_luminance</a>));</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(dyn_cp, <a class="code" href="matroska_8h.html#a1aa2cdcbd5809428833a85e6ebfff3f1">MATROSKA_ID_VIDEOCOLOR_LUMINANCEMIN</a>,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(metadata-&gt;<a class="code" href="struct_a_v_mastering_display_metadata.html#a4ad2e7f456d7763060c25e92be573341">min_luminance</a>));</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(dyn_cp, meta_element);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    colorinfo_size = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(dyn_cp);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">if</span> (colorinfo_size)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#ae0972d03d226ec5e9d499a437528182d">MATROSKA_ID_VIDEOCOLOR</a>, colour, colorinfo_size);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a975e4d7c98be7263ddb375951b7ce5e7">  918</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#a975e4d7c98be7263ddb375951b7ce5e7">mkv_write_video_projection</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;{</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> projection;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <span class="keyword">private</span>[20];</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_spherical_mapping.html">AVSphericalMapping</a> *spherical =</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        (<span class="keyword">const</span> <a class="code" href="struct_a_v_spherical_mapping.html">AVSphericalMapping</a> *)<a class="code" href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65">av_stream_get_side_data</a>(st, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a73b56e906c97a1c095e8e615d072637b">AV_PKT_DATA_SPHERICAL</a>,</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                                            <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">if</span> (!spherical)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a5576008bdc224db049b1795b3c95fe16">projection</a> != <a class="code" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08a55efbae149ee7a6e327a66be7061d146">AV_SPHERICAL_EQUIRECTANGULAR</a>      &amp;&amp;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a5576008bdc224db049b1795b3c95fe16">projection</a> != <a class="code" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08a768257247d4090b959ee1678f67bc9d3">AV_SPHERICAL_EQUIRECTANGULAR_TILE</a> &amp;&amp;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a5576008bdc224db049b1795b3c95fe16">projection</a> != <a class="code" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08aa0a8bc866354ecb619493db502c4d103">AV_SPHERICAL_CUBEMAP</a>) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown projection type\n&quot;</span>);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// Maximally 4 8-byte elements with id-length 2 + 1 byte length field</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// and the private data of the AV_SPHERICAL_EQUIRECTANGULAR_TILE case</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    projection = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#ae5f7050ea5318e0e1386478fbab0d03e">MATROSKA_ID_VIDEOPROJECTION</a>,</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                                   4 * (2 + 1 + 8) + (2 + 1 + 20));</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">switch</span> (spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a5576008bdc224db049b1795b3c95fe16">projection</a>) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08a55efbae149ee7a6e327a66be7061d146">AV_SPHERICAL_EQUIRECTANGULAR</a>:</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a41683d8bc615ae61da536c9b237b807b">MATROSKA_ID_VIDEOPROJECTIONTYPE</a>,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                      <a class="code" href="matroska_8h.html#a987f3c12f166c9da84b0f3c78ef26d9eadbdf64f14e44058c5627fc32a0d8067b">MATROSKA_VIDEO_PROJECTION_TYPE_EQUIRECTANGULAR</a>);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08a768257247d4090b959ee1678f67bc9d3">AV_SPHERICAL_EQUIRECTANGULAR_TILE</a>:</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a41683d8bc615ae61da536c9b237b807b">MATROSKA_ID_VIDEOPROJECTIONTYPE</a>,</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                      <a class="code" href="matroska_8h.html#a987f3c12f166c9da84b0f3c78ef26d9eadbdf64f14e44058c5627fc32a0d8067b">MATROSKA_VIDEO_PROJECTION_TYPE_EQUIRECTANGULAR</a>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span>,      0); <span class="comment">// version + flags</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span> +  4, spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a5f82d37755e0d54559c254b7bdefffbe">bound_top</a>);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span> +  8, spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a670ae033266fb97133204baa6609955f">bound_bottom</a>);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span> + 12, spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a5168f1a737916aae56f0cf41d71937f7">bound_left</a>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span> + 16, spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a6cbcda5b8d0118e50e4a1b574919af50">bound_right</a>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#a73145ae6e565a216d9b920d20915aab5">MATROSKA_ID_VIDEOPROJECTIONPRIVATE</a>,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                        <span class="keyword">private</span>, 20);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08aa0a8bc866354ecb619493db502c4d103">AV_SPHERICAL_CUBEMAP</a>:</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a41683d8bc615ae61da536c9b237b807b">MATROSKA_ID_VIDEOPROJECTIONTYPE</a>,</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                      <a class="code" href="matroska_8h.html#a987f3c12f166c9da84b0f3c78ef26d9ea243fc50b57b24dee958a7f9120b98a7e">MATROSKA_VIDEO_PROJECTION_TYPE_CUBEMAP</a>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span>,     0); <span class="comment">// version + flags</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span> + 4, 0); <span class="comment">// layout</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<span class="keyword">private</span> + 8, spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#adeea248f32ff9ec9cd8de310f3d00108">padding</a>);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#a73145ae6e565a216d9b920d20915aab5">MATROSKA_ID_VIDEOPROJECTIONPRIVATE</a>,</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                        <span class="keyword">private</span>, 12);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(0);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">if</span> (spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#ad7d7c61a2550cc4284076cc846873702">yaw</a>)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(pb, <a class="code" href="matroska_8h.html#ad549d6e4b352606fd8da776dd39e2bfc">MATROSKA_ID_VIDEOPROJECTIONPOSEYAW</a>,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                       (<span class="keywordtype">double</span>) spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#ad7d7c61a2550cc4284076cc846873702">yaw</a>   / (1 &lt;&lt; 16));</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a84dfa298ac2ddf98665781507182a979">pitch</a>)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(pb, <a class="code" href="matroska_8h.html#adcb5b936fc398980720036c8885ad20c">MATROSKA_ID_VIDEOPROJECTIONPOSEPITCH</a>,</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                       (<span class="keywordtype">double</span>) spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#a84dfa298ac2ddf98665781507182a979">pitch</a> / (1 &lt;&lt; 16));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">if</span> (spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#aaad422230e2b0f0ebfb981275e22ffb0">roll</a>)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(pb, <a class="code" href="matroska_8h.html#a01a486f9f19916ad984f6010854bfe1e">MATROSKA_ID_VIDEOPROJECTIONPOSEROLL</a>,</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                       (<span class="keywordtype">double</span>) spherical-&gt;<a class="code" href="struct_a_v_spherical_mapping.html#aaad422230e2b0f0ebfb981275e22ffb0">roll</a>  / (1 &lt;&lt; 16));</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, projection);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a6573b0a67d72d3a5daf5991433642366">  985</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="matroskaenc_8c.html#a6573b0a67d72d3a5daf5991433642366">mkv_write_field_order</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                  <span class="keyword">enum</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02c">AVFieldOrder</a> field_order)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;{</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">switch</span> (field_order) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca886b3191488ef874bf3e94b3d9cec713">AV_FIELD_UNKNOWN</a>:</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2">AV_FIELD_PROGRESSIVE</a>:</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a9ba38e4a39821f61b34e0e7e4340934e">MATROSKA_ID_VIDEOFLAGINTERLACED</a>,</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                      <a class="code" href="matroska_8h.html#a6fb466afd9fecb7c6dd18fcc6c4deb9ba2c3c304574458a57112bd72c29c44021">MATROSKA_VIDEO_INTERLACE_FLAG_PROGRESSIVE</a>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23">AV_FIELD_TT</a>:</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4">AV_FIELD_BB</a>:</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667">AV_FIELD_TB</a>:</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb">AV_FIELD_BT</a>:</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a9ba38e4a39821f61b34e0e7e4340934e">MATROSKA_ID_VIDEOFLAGINTERLACED</a>,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                      <a class="code" href="matroska_8h.html#a6fb466afd9fecb7c6dd18fcc6c4deb9ba00310fd420f5b3912bd5f1cd32137bc0">MATROSKA_VIDEO_INTERLACE_FLAG_INTERLACED</a>);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="keywordflow">switch</span> (field_order) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23">AV_FIELD_TT</a>:</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a3f3f088455a03ab8e4804af1b2f18e24">MATROSKA_ID_VIDEOFIELDORDER</a>,</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                              <a class="code" href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0dad58a310bca7ff7f70c330c14075ec023">MATROSKA_VIDEO_FIELDORDER_TT</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4">AV_FIELD_BB</a>:</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a3f3f088455a03ab8e4804af1b2f18e24">MATROSKA_ID_VIDEOFIELDORDER</a>,</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                              <a class="code" href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0daa26e02c03ca046bcab5905ec6c02a1a2">MATROSKA_VIDEO_FIELDORDER_BB</a>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667">AV_FIELD_TB</a>:</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a3f3f088455a03ab8e4804af1b2f18e24">MATROSKA_ID_VIDEOFIELDORDER</a>,</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                              <a class="code" href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0da568939fe7698b582b1d386f00bbc6ef6">MATROSKA_VIDEO_FIELDORDER_TB</a>);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb">AV_FIELD_BT</a>:</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a3f3f088455a03ab8e4804af1b2f18e24">MATROSKA_ID_VIDEOFIELDORDER</a>,</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                              <a class="code" href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0da72196df102148fcdd0bbcc0464e3189e">MATROSKA_VIDEO_FIELDORDER_BT</a>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;}</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a57707d6b550cf61b69b5a7c559f0ea15"> 1024</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a57707d6b550cf61b69b5a7c559f0ea15">mkv_write_stereo_mode</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                                 <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, <span class="keywordtype">int</span> *h_width, <span class="keywordtype">int</span> *h_height)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;{</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690c">MatroskaVideoStereoModeType</a> <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab59f0621f958509895637361f35d3d2e">MATROSKA_VIDEO_STEREOMODE_TYPE_NB</a>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_stereo3_d.html">AVStereo3D</a> *stereo;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    *h_width = 1;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    *h_height = 1;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">// convert metadata into proper side data and add it to the stream</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;stereo_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) ||</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>( <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;stereo_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordtype">int</span> stereo_mode = atoi(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab59f0621f958509895637361f35d3d2e">MATROSKA_VIDEO_STEREOMODE_TYPE_NB</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="keywordflow">if</span> (!strcmp(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value, <a class="code" href="matroska_8c.html#a740e71d65579c8ab14b88fe1f0de036a">ff_matroska_video_stereo_mode</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])){</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                stereo_mode = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordflow">if</span> (stereo_mode &lt; <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab59f0621f958509895637361f35d3d2e">MATROSKA_VIDEO_STEREOMODE_TYPE_NB</a> &amp;&amp;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            stereo_mode != 10 &amp;&amp; stereo_mode != 12) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroska_8c.html#a4f43791331fdc3e0f7b77cada78e6e8e">ff_mkv_stereo3d_conv</a>(st, stereo_mode);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    stereo = (<span class="keyword">const</span> <a class="code" href="struct_a_v_stereo3_d.html">AVStereo3D</a>*)<a class="code" href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65">av_stream_get_side_data</a>(st, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad87020fae601b684bfb27ee64a457303">AV_PKT_DATA_STEREO3D</a>,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                                        <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span> (stereo) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">switch</span> (stereo-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a052514d0376a94e58e3eb9db3db2a7ce">type</a>) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a276701c16077443c9526dd28da8001a7">AV_STEREO3D_2D</a>:</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cada9a226d1180d12c060cd6f0f5b79305">MATROSKA_VIDEO_STEREOMODE_TYPE_MONO</a>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6aaa1ee993fc27f99269c536c51b0b5f3c">AV_STEREO3D_SIDEBYSIDE</a>:</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = (stereo-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">flags</a> &amp; <a class="code" href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a>)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                     ? <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690ca6dc00e269ce354a0c6a5406dfdf85cf3">MATROSKA_VIDEO_STEREOMODE_TYPE_RIGHT_LEFT</a></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                     : <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690ca0c0deec738375021a5fd31c6245862e4">MATROSKA_VIDEO_STEREOMODE_TYPE_LEFT_RIGHT</a>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            *h_width = 2;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a4cf21029b6e5aa28bf53fbd9740443c9">AV_STEREO3D_TOPBOTTOM</a>:</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cabe076984eccae924bf454154347e84b3">MATROSKA_VIDEO_STEREOMODE_TYPE_TOP_BOTTOM</a>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <span class="keywordflow">if</span> (stereo-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">flags</a> &amp; <a class="code" href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a>)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>--;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            *h_height = 2;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a29a4a89f56c46999741e394e2019b221">AV_STEREO3D_CHECKERBOARD</a>:</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cace38be42d6d34a74b430dd9d07e4acdf">MATROSKA_VIDEO_STEREOMODE_TYPE_CHECKERBOARD_LR</a>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">if</span> (stereo-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">flags</a> &amp; <a class="code" href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a>)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>--;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a23d62b9a67d4a99d745eb9bebcfd2b3e">AV_STEREO3D_LINES</a>:</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690caefbd93fc4655e032ff6ef6c3519d217a">MATROSKA_VIDEO_STEREOMODE_TYPE_ROW_INTERLEAVED_LR</a>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">if</span> (stereo-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">flags</a> &amp; <a class="code" href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a>)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>--;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            *h_height = 2;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a1ea7966fe2696b13348a3cf0544e3caa">AV_STEREO3D_COLUMNS</a>:</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690caaa3bab0b73455ae5175c2bdf25c7c6df">MATROSKA_VIDEO_STEREOMODE_TYPE_COL_INTERLEAVED_LR</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="keywordflow">if</span> (stereo-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">flags</a> &amp; <a class="code" href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a>)</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>--;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            *h_width = 2;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6aa23e3e6b40107100e62fa16ea536aa07">AV_STEREO3D_FRAMESEQUENCE</a>:</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> = <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab7dc2153fb882f034ec6daf936b7c491">MATROSKA_VIDEO_STEREOMODE_TYPE_BOTH_EYES_BLOCK_LR</a>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <span class="keywordflow">if</span> (stereo-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">flags</a> &amp; <a class="code" href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a>)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>++;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> == <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab59f0621f958509895637361f35d3d2e">MATROSKA_VIDEO_STEREOMODE_TYPE_NB</a>)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// if webm, do not write unsupported modes</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> == <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a> &amp;&amp;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> &gt; <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cabe076984eccae924bf454154347e84b3">MATROSKA_VIDEO_STEREOMODE_TYPE_TOP_BOTTOM</a> &amp;&amp;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> != <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690ca6dc00e269ce354a0c6a5406dfdf85cf3">MATROSKA_VIDEO_STEREOMODE_TYPE_RIGHT_LEFT</a>)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        || <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a> &gt;= <a class="code" href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab59f0621f958509895637361f35d3d2e">MATROSKA_VIDEO_STEREOMODE_TYPE_NB</a>) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;               <span class="stringliteral">&quot;The specified stereo mode is not valid.\n&quot;</span>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// write StereoMode if format is valid</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a1d7d978957f386818589a310bd983ab2">MATROSKA_ID_VIDEOSTEREOMODE</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ab06f50caf54c3cb24596c718a3f226fd"> 1115</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#ab06f50caf54c3cb24596c718a3f226fd">mkv_write_track</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv,</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                           <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <a class="code" href="structmkv__track.html">mkv_track</a> *track, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                           <span class="keywordtype">int</span> is_default)</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;{</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> subinfo, track_master;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordtype">int</span> native_id = 0;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordtype">int</span> qt_id = 0;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a> = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordtype">int</span> output_sample_rate = 0;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordtype">int</span> display_width_div = 1;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordtype">int</span> display_height_div = 1;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordtype">int</span> j, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a>)</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a>) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a2356239ed04dd37ed6638b0087801cce">get_aac_sample_rates</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mkv, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>,</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                                   &amp;<a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>, &amp;output_sample_rate);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    track_master = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a8e3d2aa75319dc1e9b0e6f8e192ffa98">MATROSKA_ID_TRACKENTRY</a>, 0);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a709d954987abbb2d2f33d95a9990be50">MATROSKA_ID_TRACKNUMBER</a>, track-&gt;<a class="code" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">track_num</a>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <a class="code" href="matroskaenc_8c.html#a68eae606bc0505b49a1eeb71c9f033a1">put_ebml_uid</a> (pb, <a class="code" href="matroska_8h.html#a102d27a6cc46e6c58b968447b3173f24">MATROSKA_ID_TRACKUID</a>,    track-&gt;<a class="code" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">uid</a>);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a0a2b6e3a6aae7cadd8e6b4cf5d83aef6">MATROSKA_ID_TRACKFLAGLACING</a>, 0);    <span class="comment">// no lacing (yet)</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)))</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a44d2baf3cdb7103d84afc65a1b426429">MATROSKA_ID_TRACKNAME</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;language&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a34de9207b538dbef9e57eabe0af03308">MATROSKA_ID_TRACKLANGUAGE</a>,</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> &amp;&amp; <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value ? <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value : <span class="stringliteral">&quot;und&quot;</span>);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="comment">// The default value for TRACKFLAGDEFAULT is 1, so add element</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="comment">// if we need to clear it.</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (!is_default)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#aae288c05d9252ac13a98d128f10a54a0">MATROSKA_ID_TRACKFLAGDEFAULT</a>, 0);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#aa72fcb393482cb6bb302d4995990bf3b">AV_DISPOSITION_FORCED</a>)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a9ee0523818461e76396cac44e457f07e">MATROSKA_ID_TRACKFLAGFORCED</a>, 1);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> == <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="keywordflow">for</span> (j = 0; <a class="code" href="matroska_8c.html#a38aac419662585e8c82cb923d5423ad9">ff_webm_codec_tags</a>[j].<a class="code" href="struct_codec_tags.html#aeecb77aca7a22ee2352a858925044a70">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>; j++) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="matroska_8c.html#a38aac419662585e8c82cb923d5423ad9">ff_webm_codec_tags</a>[j].<span class="keywordtype">id</span> == par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                    <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> = <a class="code" href="matroska_8c.html#a38aac419662585e8c82cb923d5423ad9">ff_webm_codec_tags</a>[j].<a class="code" href="struct_codec_tags.html#aa9d38ce60f44ff983177372ab18ca951">str</a>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                    native_id = 1;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea82b722838aa5158de9313be99930618a">AV_CODEC_ID_WEBVTT</a>) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#a51efe44185491ba0a214fe2bc92ac2a1">AV_DISPOSITION_CAPTIONS</a>) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> = <span class="stringliteral">&quot;D_WEBVTT/CAPTIONS&quot;</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                native_id = <a class="code" href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9aa122d938f968232ea3940186cb34e7a9">MATROSKA_TRACK_TYPE_SUBTITLE</a>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ae578ee8b851860926955855d1234f93f">AV_DISPOSITION_DESCRIPTIONS</a>) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> = <span class="stringliteral">&quot;D_WEBVTT/DESCRIPTIONS&quot;</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                native_id = <a class="code" href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9a799f508efb345b20c47a7571577ea21d">MATROSKA_TRACK_TYPE_METADATA</a>;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#a5ff7b03b405295a7a9743cfa67369759">AV_DISPOSITION_METADATA</a>) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> = <span class="stringliteral">&quot;D_WEBVTT/METADATA&quot;</span>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                native_id = <a class="code" href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9a799f508efb345b20c47a7571577ea21d">MATROSKA_TRACK_TYPE_METADATA</a>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> = <span class="stringliteral">&quot;D_WEBVTT/SUBTITLES&quot;</span>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                native_id = <a class="code" href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9aa122d938f968232ea3940186cb34e7a9">MATROSKA_TRACK_TYPE_SUBTITLE</a>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">if</span> (!native_id) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                   <span class="stringliteral">&quot;Only VP8 or VP9 or AV1 video and Vorbis or Opus audio and WebVTT subtitles are supported for WebM.\n&quot;</span>);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#ac0e4bdeb8272d8166418e81df3fe9fb0">MATROSKA_ID_CODECID</a>, <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="comment">// look for a codec ID string specific to mkv to use,</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="comment">// if none are found, use AVI codes</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a> || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <span class="keywordflow">for</span> (j = 0; <a class="code" href="matroska_8c.html#a7594e2d1eebc7a09a99465051dbdf557">ff_mkv_codec_tags</a>[j].<a class="code" href="struct_codec_tags.html#aeecb77aca7a22ee2352a858925044a70">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>; j++) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="matroska_8c.html#a7594e2d1eebc7a09a99465051dbdf557">ff_mkv_codec_tags</a>[j].<span class="keywordtype">id</span> == par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea610509eb997372e2ea71cb6b4dfb553f">AV_CODEC_ID_FFV1</a>) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#ac0e4bdeb8272d8166418e81df3fe9fb0">MATROSKA_ID_CODECID</a>, <a class="code" href="matroska_8c.html#a7594e2d1eebc7a09a99465051dbdf557">ff_mkv_codec_tags</a>[j].<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                    native_id = 1;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;            <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a142765090222da1f7296c379b37c9b78">allow_raw_vfw</a>) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                native_id = 0;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Raw RGB is not supported Natively in Matroska, you can use AVI or NUT or\n&quot;</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                                        <span class="stringliteral">&quot;If you would like to store it anyway using VFW mode, enable allow_raw_vfw (-allow_raw_vfw 1)\n&quot;</span>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">switch</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a9a74ccb172e57e984f226de5e481a424">have_video</a> = 1;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a8b87594b1d170a19d06cc823391f62cb">MATROSKA_ID_TRACKTYPE</a>, <a class="code" href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9a4da316c5643bff72fa9e22b67c06a3c8">MATROSKA_TRACK_TYPE_VIDEO</a>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">if</span>(   st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;           &amp;&amp; <a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(<a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>), st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) &gt; 0)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a939de194b8d10f9358b2c7505d5c23cb">MATROSKA_ID_TRACKDEFAULTDURATION</a>, 1000000000LL * st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> / st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(   st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                &amp;&amp; <a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(<a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>), st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) &gt; 0)</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a939de194b8d10f9358b2c7505d5c23cb">MATROSKA_ID_TRACKDEFAULTDURATION</a>, 1000000000LL * st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> / st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">if</span> (!native_id &amp;&amp;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a>(<a class="code" href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) &amp;&amp;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            ((!<a class="code" href="libavformat_2internal_8h.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a>(<a class="code" href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a>,   par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a>) ||</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;             par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead6962d77136d74ee2ff0b8c9015b3cca">AV_CODEC_ID_SVQ1</a> ||</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;             par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea35e8d1b643beef5a57fffbd2b3f44050">AV_CODEC_ID_SVQ3</a> ||</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;             par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5872ef870db6ecee94f18da1a0f18979">AV_CODEC_ID_CINEPAK</a>))</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            qt_id = 1;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordflow">if</span> (qt_id)</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#ac0e4bdeb8272d8166418e81df3fe9fb0">MATROSKA_ID_CODECID</a>, <span class="stringliteral">&quot;V_QUICKTIME&quot;</span>);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!native_id) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            <span class="comment">// if there is no mkv-specific codec ID, use VFW mode</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#ac0e4bdeb8272d8166418e81df3fe9fb0">MATROSKA_ID_CODECID</a>, <span class="stringliteral">&quot;V_MS/VFW/FOURCC&quot;</span>);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            track-&gt;<a class="code" href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">write_dts</a> = 1;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;avoid_negative_ts_use_pts = 0;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        subinfo = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#aa036be34b879ff8a43a37ad75f08c5d6">MATROSKA_ID_TRACKVIDEO</a>, 0);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a> (pb, <a class="code" href="matroska_8h.html#a2b7bc31011d1c6fe9a741627b5005b1d">MATROSKA_ID_VIDEOPIXELWIDTH</a> , par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a> (pb, <a class="code" href="matroska_8h.html#a68a7f1329dd628b0ba927ef710c643aa">MATROSKA_ID_VIDEOPIXELHEIGHT</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <a class="code" href="matroskaenc_8c.html#a6573b0a67d72d3a5daf5991433642366">mkv_write_field_order</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a>);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="comment">// check both side data and metadata for stereo information,</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="comment">// write the result to the bitstream if any is found</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a57707d6b550cf61b69b5a7c559f0ea15">mkv_write_stereo_mode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, st, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a>,</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                                    &amp;display_width_div,</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                                    &amp;display_height_div);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;alpha_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) &amp;&amp; atoi(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value)) ||</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            ((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>( <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;alpha_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) &amp;&amp; atoi(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value)) ||</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a>)) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a43a41086822e4b12c76399cc7edd411a">MATROSKA_ID_VIDEOALPHAMODE</a>, 1);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="comment">// write DisplayWidth and DisplayHeight, they contain the size of</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="comment">// a single source view and/or the display aspect ratio</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>) {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            int64_t d_width = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <span class="keywordflow">if</span> (d_width &gt; INT_MAX) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Overflow in display width\n&quot;</span>);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            }</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <span class="keywordflow">if</span> (d_width != par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> || display_width_div != 1 || display_height_div != 1) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> == <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a> || display_width_div != 1 || display_height_div != 1) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#ae145109d0144565dd04425ea46aca273">MATROSKA_ID_VIDEODISPLAYWIDTH</a> , d_width / display_width_div);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a8ab5978dc7041e3fabbd3d5edba62076">MATROSKA_ID_VIDEODISPLAYHEIGHT</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> / display_height_div);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                    <a class="code" href="struct_a_v_rational.html">AVRational</a> display_aspect_ratio;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                    <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;display_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;display_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                              par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>  * (int64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                              par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> * (int64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                              1024 * 1024);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#ae145109d0144565dd04425ea46aca273">MATROSKA_ID_VIDEODISPLAYWIDTH</a>,  display_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a8ab5978dc7041e3fabbd3d5edba62076">MATROSKA_ID_VIDEODISPLAYHEIGHT</a>, display_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a60392de4eac7dd4690c293b7ba102db6">MATROSKA_ID_VIDEODISPLAYUNIT</a>, <a class="code" href="matroska_8h.html#aef3aac1f30a9abab80729c6b079789b3a0e0d6d429d35f86df830554c843caa5b">MATROSKA_VIDEO_DISPLAYUNIT_DAR</a>);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (display_width_div != 1 || display_height_div != 1) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#ae145109d0144565dd04425ea46aca273">MATROSKA_ID_VIDEODISPLAYWIDTH</a> , par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> / display_width_div);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a8ab5978dc7041e3fabbd3d5edba62076">MATROSKA_ID_VIDEODISPLAYHEIGHT</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> / display_height_div);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>)</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a60392de4eac7dd4690c293b7ba102db6">MATROSKA_ID_VIDEODISPLAYUNIT</a>, <a class="code" href="matroska_8h.html#aef3aac1f30a9abab80729c6b079789b3a306d0870b182e54bf8d07287e0e11897">MATROSKA_VIDEO_DISPLAYUNIT_UNKNOWN</a>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a>) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            uint32_t color_space = <a class="code" href="bswap_8h.html#a610c453f4731b545a1528ffdddccd349">av_le2ne32</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#a4c8206370cd80ddd67033042723198dd">MATROSKA_ID_VIDEOCOLORSPACE</a>, &amp;color_space, <span class="keyword">sizeof</span>(color_space));</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa2d67ac325474122b93ad1a22d5bb4e1">mkv_write_video_color</a>(pb, st, par);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <a class="code" href="matroskaenc_8c.html#a975e4d7c98be7263ddb375951b7ce5e7">mkv_write_video_projection</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, st);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, subinfo);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ad2363a9a16b5674b5232c288a3e031cf">initial_padding</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a>) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            int64_t codecdelay = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#ad2363a9a16b5674b5232c288a3e031cf">initial_padding</a>,</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                                              (<a class="code" href="struct_a_v_rational.html">AVRational</a>){ 1, 48000 },</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                                              (<a class="code" href="struct_a_v_rational.html">AVRational</a>){ 1, 1000000000 });</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="keywordflow">if</span> (codecdelay &lt; 0) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Initial padding is invalid\n&quot;</span>);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment">//            track-&gt;ts_offset = av_rescale_q(par-&gt;initial_padding,</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">//                                            (AVRational){ 1, par-&gt;sample_rate },</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment">//                                            st-&gt;time_base);</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a42aa924e3ae524f4fd5a028ba92579eb">MATROSKA_ID_CODECDELAY</a>, codecdelay);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a>)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a5b55e3f4bb2cdc67fe52dfd22a46dd5b">MATROSKA_ID_SEEKPREROLL</a>, <a class="code" href="matroskaenc_8c.html#a24eb692c424e64f8058e019bb776a959">OPUS_SEEK_PREROLL</a>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a8b87594b1d170a19d06cc823391f62cb">MATROSKA_ID_TRACKTYPE</a>, <a class="code" href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9af49ddb707bfa0eaf61ff004edd2b839e">MATROSKA_TRACK_TYPE_AUDIO</a>);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordflow">if</span> (!native_id)</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="comment">// no mkv-specific ID, use ACM mode</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#ac0e4bdeb8272d8166418e81df3fe9fb0">MATROSKA_ID_CODECID</a>, <span class="stringliteral">&quot;A_MS/ACM&quot;</span>);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        subinfo = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a101cdbf814866abe76aa69ec838b95fc">MATROSKA_ID_TRACKAUDIO</a>, 6 + 4 * 9);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#a5ec18436d7f9e36ae902e114510362fd">MATROSKA_ID_AUDIOCHANNELS</a>    , par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">channels</a>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        track-&gt;<a class="code" href="structmkv__track.html#a9001a2f0ae533e347879f6ce17838d4a">sample_rate_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a> (pb, <a class="code" href="matroska_8h.html#ae914a2c95f62116ce22baf5c0ffcc940">MATROSKA_ID_AUDIOSAMPLINGFREQ</a>, <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">if</span> (output_sample_rate)</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(pb, <a class="code" href="matroska_8h.html#a4209f2d135ea4a4f784128ea8912065d">MATROSKA_ID_AUDIOOUTSAMPLINGFREQ</a>, output_sample_rate);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> = <a class="code" href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaaa43507bca8296df2333437245fb41b7">AV_CODEC_ID_ADPCM_G726</a>) {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a796f5860107695d36c3a7fb30453da79">bits_per_raw_sample</a>)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a796f5860107695d36c3a7fb30453da79">bits_per_raw_sample</a>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> = <a class="code" href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a>) &lt;&lt; 3;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a>)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a>)</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a64d55e1fe5ad03452ce55680a33319d5">MATROSKA_ID_AUDIOBITDEPTH</a>, <a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a>);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, subinfo);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">if</span> (!native_id) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Subtitle codec %d is not supported.\n&quot;</span>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a> || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea82b722838aa5158de9313be99930618a">AV_CODEC_ID_WEBVTT</a>)</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            native_id = <a class="code" href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9aa122d938f968232ea3940186cb34e7a9">MATROSKA_TRACK_TYPE_SUBTITLE</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a8b87594b1d170a19d06cc823391f62cb">MATROSKA_ID_TRACKTYPE</a>, native_id);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Only audio, video, and subtitles are supported for Matroska.\n&quot;</span>);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a> || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea82b722838aa5158de9313be99930618a">AV_CODEC_ID_WEBVTT</a>) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        track-&gt;<a class="code" href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">codecpriv_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a868557510e83a336f135e8bb0da44327">mkv_write_codecprivate</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, par, native_id, qt_id);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, track_master);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#af32b0cf2f1991297b6a493d5a9d2b5c4"> 1378</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#af32b0cf2f1991297b6a493d5a9d2b5c4">mkv_write_tracks</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, video_default_idx, audio_default_idx, subtitle_default_idx;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac9603334356675f512a95e4917f77709">nb_attachments</a> == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams)</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, mkv);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a9f5a38e5e14c26c948c90ce2ebb14038">default_mode</a> != <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288">DEFAULT_MODE_PASSTHROUGH</a>) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keywordtype">int</span> video_idx, audio_idx, subtitle_idx;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        video_idx    = video_default_idx    =</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        audio_idx    = audio_default_idx    =</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        subtitle_idx = subtitle_default_idx = -1;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            <span class="keywordflow">switch</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="preprocessor">#define CASE(type, variable)                                  \</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="preprocessor">            case AVMEDIA_TYPE_ ## type:                       \</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="preprocessor">                variable ## _idx = i;                         \</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="preprocessor">                if (st-&gt;disposition &amp; AV_DISPOSITION_DEFAULT) \</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="preprocessor">                    variable ## _default_idx = i;             \</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="preprocessor">                break;</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <a class="code" href="matroskaenc_8c.html#aceeff47ef764a1d92a3239480093f0f1">CASE</a>(VIDEO,    <a class="code" href="rate__distortion_8txt.html#a5bbe6c8a71ca24f0cb584693392c94d7">video</a>)</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <a class="code" href="matroskaenc_8c.html#aceeff47ef764a1d92a3239480093f0f1">CASE</a>(AUDIO,    audio)</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <a class="code" href="matroskaenc_8c.html#aceeff47ef764a1d92a3239480093f0f1">CASE</a>(SUBTITLE, subtitle)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="preprocessor">#undef CASE</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        video_default_idx = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(video_default_idx, video_idx);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        audio_default_idx = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(audio_default_idx, audio_idx);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a9f5a38e5e14c26c948c90ce2ebb14038">default_mode</a> != <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba7c21c95c1e0e8f74a432c740f0238609">DEFAULT_MODE_INFER_NO_SUBS</a>)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            subtitle_default_idx = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(subtitle_default_idx, subtitle_idx);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordtype">int</span> is_default = mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a9f5a38e5e14c26c948c90ce2ebb14038">default_mode</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288">DEFAULT_MODE_PASSTHROUGH</a> ?</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                             st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#af09f200b4cd9bf0baa05671436eef2fb">AV_DISPOSITION_DEFAULT</a>  :</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                             <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == video_default_idx || <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == audio_default_idx ||</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                             <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == subtitle_default_idx;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ab06f50caf54c3cb24596c718a3f226fd">mkv_write_track</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mkv, st, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                              mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, is_default);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#a338b543c7595d55ed9461c4d7f2a1e64">end_ebml_master_crc32_tentatively</a>(pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>, mkv,</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                                             <a class="code" href="matroska_8h.html#a990b4598e2c7a624682404c7a066f54f">MATROSKA_ID_TRACKS</a>);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a1779b2477e4946c9b5ea380254ae1b48"> 1436</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a1779b2477e4946c9b5ea380254ae1b48">mkv_write_simpletag</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *t)</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;{</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p   = <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *lang = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>)</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">if</span> ((p = strrchr(p, <span class="charliteral">&#39;-&#39;</span>)) &amp;&amp;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        (lang = <a class="code" href="avlanguage_8c.html#a94965ab4ec43db7b338650398a1a2906">ff_convert_lang_to</a>(p + 1, <a class="code" href="avlanguage_8h.html#aa3a0db8cf8ff05263c287a7f6e34e3b9a43a2abd3fddd790d461b46563cd047f9">AV_LANG_ISO639_2_BIBL</a>)))</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        *p = 0;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    p = <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">while</span> (*p) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            *p = <span class="charliteral">&#39;_&#39;</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*p &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; *p &lt;= <span class="charliteral">&#39;z&#39;</span>)</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            *p -= <span class="charliteral">&#39;a&#39;</span> - <span class="charliteral">&#39;A&#39;</span>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        p++;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a2448cd4177fa828fdad5c6621394ef9a">MATROSKA_ID_SIMPLETAG</a>, 0);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#ab76b7ccf05d18668861d10f7c7baaf59">MATROSKA_ID_TAGNAME</a>, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">if</span> (lang)</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a799ea0e6819dad2819cc1050b2095ea1">MATROSKA_ID_TAGLANG</a>, lang);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a83dbd8e3ca298b8a87ae1339b3a2b056">MATROSKA_ID_TAGSTRING</a>, t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aece3467b887aae1b516c56343b6faec1"> 1470</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#aece3467b887aae1b516c56343b6faec1">mkv_write_tag_targets</a>(<a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **pb,</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                                 <a class="code" href="structebml__master.html">ebml_master</a> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, uint32_t elementid, uint64_t <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> <a class="code" href="build__system_8txt.html#ad91f0a8cb92523cf37ea5123b01b7994">targets</a>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">if</span> (!*pb) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(pb, mkv);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>    = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(*pb, <a class="code" href="matroska_8h.html#ae3f48ca6239d464bd93c390c3637b962">MATROSKA_ID_TAG</a>,        0);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="build__system_8txt.html#ad91f0a8cb92523cf37ea5123b01b7994">targets</a> = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(*pb, <a class="code" href="matroska_8h.html#a0b1b6b2c4c2f27aca407fc39ee0a6542">MATROSKA_ID_TAGTARGETS</a>, 4 + 1 + 8);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">if</span> (elementid)</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="matroskaenc_8c.html#a68eae606bc0505b49a1eeb71c9f033a1">put_ebml_uid</a>(*pb, elementid, <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(*pb, <a class="code" href="build__system_8txt.html#ad91f0a8cb92523cf37ea5123b01b7994">targets</a>);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ac68c8c9bd5f143a7e09866c7da23bd03"> 1490</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#ac68c8c9bd5f143a7e09866c7da23bd03">mkv_check_tag_name</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, uint32_t elementid)</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;{</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;title&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;           <a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;stereo_mode&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;           <a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;creation_time&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;           <a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;encoding_tool&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;           <a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;duration&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;           (elementid != <a class="code" href="matroska_8h.html#aabaa50ab6df84e00f4242e8aabbce419">MATROSKA_ID_TAGTARGETS_TRACKUID</a> ||</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            <a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;language&quot;</span>)) &amp;&amp;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;           (elementid != <a class="code" href="matroska_8h.html#af269e445231c891044abfe2855c7f2fd">MATROSKA_ID_TAGTARGETS_ATTACHUID</a> ||</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            (<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;filename&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;             <a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="stringliteral">&quot;mimetype&quot;</span>)));</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#adb569f1241be316428b6792d1212ad14"> 1504</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#adb569f1241be316428b6792d1212ad14">mkv_write_tag</a>(<a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv, <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *m,</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                         <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **pb, <a class="code" href="structebml__master.html">ebml_master</a> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>,</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                         uint32_t elementid, uint64_t <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>)</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;{</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *t = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> tag2;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#aece3467b887aae1b516c56343b6faec1">mkv_write_tag_targets</a>(mkv, pb, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> ? <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> : &amp;tag2, elementid, <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">while</span> ((t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(m, <span class="stringliteral">&quot;&quot;</span>, t, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>))) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="matroskaenc_8c.html#ac68c8c9bd5f143a7e09866c7da23bd03">mkv_check_tag_name</a>(t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, elementid)) {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a1779b2477e4946c9b5ea380254ae1b48">mkv_write_simpletag</a>(*pb, t);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(*pb, tag2);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;}</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ae57b59ffde1c6a97ea952577c74f1934"> 1530</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#ae57b59ffde1c6a97ea952577c74f1934">mkv_check_tag</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *m, uint32_t elementid)</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;{</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *t = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">while</span> ((t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(m, <span class="stringliteral">&quot;&quot;</span>, t, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>)))</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="matroskaenc_8c.html#ac68c8c9bd5f143a7e09866c7da23bd03">mkv_check_tag_name</a>(t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, elementid))</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;}</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a3c28b64ef5b611ae31d4c09c8b69953a"> 1541</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a3c28b64ef5b611ae31d4c09c8b69953a">mkv_write_tags</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;{</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, *tagp = <a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, mkv) ? &amp;<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> : <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aa6f15754962535715e72927d9778cc2e">wrote_tags</a> = 1;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <a class="code" href="libavformat_2metadata_8c.html#ad18704a0525f999bb3b57f75e97c86bf">ff_metadata_conv_ctx</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="matroska_8c.html#a7e17f27ca6d530e4cf501d0377d724cb">ff_mkv_metadata_conv</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="matroskaenc_8c.html#ae57b59ffde1c6a97ea952577c74f1934">mkv_check_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, 0)) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#adb569f1241be316428b6792d1212ad14">mkv_write_tag</a>(mkv, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <a class="code" href="structmkv__track.html">mkv_track</a> *track = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a>)</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <span class="keywordflow">if</span> (!tagp &amp;&amp; !<a class="code" href="matroskaenc_8c.html#ae57b59ffde1c6a97ea952577c74f1934">mkv_check_tag</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <a class="code" href="matroska_8h.html#aabaa50ab6df84e00f4242e8aabbce419">MATROSKA_ID_TAGTARGETS_TRACKUID</a>))</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#adb569f1241be316428b6792d1212ad14">mkv_write_tag</a>(mkv, st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, tagp,</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                            <a class="code" href="matroska_8h.html#aabaa50ab6df84e00f4242e8aabbce419">MATROSKA_ID_TAGTARGETS_TRACKUID</a>, track-&gt;<a class="code" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">uid</a>);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">if</span> (tagp) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            <a class="code" href="structebml__master.html">ebml_master</a> simpletag;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            simpletag = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a2448cd4177fa828fdad5c6621394ef9a">MATROSKA_ID_SIMPLETAG</a>,</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                                          2 + 1 + 8 + 23);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#ab76b7ccf05d18668861d10f7c7baaf59">MATROSKA_ID_TAGNAME</a>, <span class="stringliteral">&quot;DURATION&quot;</span>);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            track-&gt;<a class="code" href="structmkv__track.html#af63f6e4e26b8c3d00d4c47cde468dcec">duration_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <span class="comment">// Reserve space to write duration as a 20-byte string.</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="comment">// 2 (ebml id) + 1 (data size) + 20 (data)</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, 23);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, simpletag);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac9603334356675f512a95e4917f77709">nb_attachments</a> &amp;&amp; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>) {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmkv__track.html">mkv_track</a> *track = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a>     *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a>)</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="matroskaenc_8c.html#ae57b59ffde1c6a97ea952577c74f1934">mkv_check_tag</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <a class="code" href="matroska_8h.html#af269e445231c891044abfe2855c7f2fd">MATROSKA_ID_TAGTARGETS_ATTACHUID</a>))</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#adb569f1241be316428b6792d1212ad14">mkv_write_tag</a>(mkv, st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                                <a class="code" href="matroska_8h.html#af269e445231c891044abfe2855c7f2fd">MATROSKA_ID_TAGTARGETS_ATTACHUID</a>, track-&gt;<a class="code" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">uid</a>);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    }</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#a338b543c7595d55ed9461c4d7f2a1e64">end_ebml_master_crc32_tentatively</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>, mkv,</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                                                 <a class="code" href="matroska_8h.html#a744de5ec8c34802439d37e8582c908fe">MATROSKA_ID_TAGS</a>);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a414be596d1513e76c68f75f1933aa7a0"> 1614</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a414be596d1513e76c68f75f1933aa7a0">mkv_write_chapters</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;{</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *dyn_cp = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *dyn_tags = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, **tags, *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> editionentry;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    uint64_t chapter_id_offset = 0;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> scale = {1, 1E9};</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160; </div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters || mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#af89ed82d443a4311ab9531a377356b57">wrote_chapters</a>)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;id) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            chapter_id_offset = 1;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(&amp;dyn_cp, mkv);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    editionentry = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(dyn_cp, <a class="code" href="matroska_8h.html#adce316933afe99238b9156cc94971fc5">MATROSKA_ID_EDITIONENTRY</a>, 0);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#a5667ad6feaae67f75fa97034c0fd976d">MATROSKA_ID_EDITIONFLAGDEFAULT</a>, 1);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="comment">/* If mkv_write_tags() has already been called, then any tags</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">         * corresponding to chapters will be put into a new Tags element. */</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        tags = mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aa6f15754962535715e72927d9778cc2e">wrote_tags</a> ? &amp;dyn_tags : &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        tags = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <a class="code" href="structebml__master.html">ebml_master</a> chapteratom, chapterdisplay;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_chapter.html">AVChapter</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        int64_t chapterstart = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;start, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;time_base, scale);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        int64_t chapterend   = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;end,   <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;time_base, scale);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *t;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="keywordflow">if</span> (chapterstart &lt; 0 || chapterstart &gt; chapterend || chapterend &lt; 0) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                   <span class="stringliteral">&quot;Invalid chapter start (%&quot;</span>PRId64<span class="stringliteral">&quot;) or end (%&quot;</span>PRId64<span class="stringliteral">&quot;).\n&quot;</span>,</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                   chapterstart, chapterend);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        chapteratom = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(dyn_cp, <a class="code" href="matroska_8h.html#a3b21fd19a68bbe3c40e8f1bd502f645b">MATROSKA_ID_CHAPTERATOM</a>, 0);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#abf7cac814a6fe5ec33d2526e23784f4f">MATROSKA_ID_CHAPTERUID</a>,</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                      (uint32_t)<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;id + chapter_id_offset);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#a4565832bcba4171475236ff4997a63ef">MATROSKA_ID_CHAPTERTIMESTART</a>, chapterstart);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(dyn_cp, <a class="code" href="matroska_8h.html#a88aa7e962ce182d4b5b04ab281965330">MATROSKA_ID_CHAPTERTIMEEND</a>, chapterend);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">if</span> ((t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;metadata, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            chapterdisplay = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(dyn_cp, <a class="code" href="matroska_8h.html#ae1edb2291a22f052b018d971edd75f3b">MATROSKA_ID_CHAPTERDISPLAY</a>, 0);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(dyn_cp, <a class="code" href="matroska_8h.html#a148dee1af3a2b8a704aae5ffcdaa988a">MATROSKA_ID_CHAPSTRING</a>, t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(dyn_cp, <a class="code" href="matroska_8h.html#ae5801740febf91a4342af20e1585b200">MATROSKA_ID_CHAPLANG</a>  , <span class="stringliteral">&quot;und&quot;</span>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(dyn_cp, chapterdisplay);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(dyn_cp, chapteratom);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <span class="keywordflow">if</span> (tags &amp;&amp; <a class="code" href="matroskaenc_8c.html#ae57b59ffde1c6a97ea952577c74f1934">mkv_check_tag</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;metadata, <a class="code" href="matroska_8h.html#aa2fe10321b9c3aff9da330d590be6b73">MATROSKA_ID_TAGTARGETS_CHAPTERUID</a>)) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#adb569f1241be316428b6792d1212ad14">mkv_write_tag</a>(mkv, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;metadata, tags, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                                <a class="code" href="matroska_8h.html#aa2fe10321b9c3aff9da330d590be6b73">MATROSKA_ID_TAGTARGETS_CHAPTERUID</a>,</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                (uint32_t)<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;id + chapter_id_offset);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(dyn_cp, editionentry);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#af89ed82d443a4311ab9531a377356b57">wrote_chapters</a> = 1;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;dyn_cp, mkv, <a class="code" href="matroska_8h.html#a2299835dc7fb5223e2bccd6fc0409ab7">MATROSKA_ID_CHAPTERS</a>, 0, 0, 1);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">if</span> (dyn_tags)</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;dyn_tags, mkv,</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                                     <a class="code" href="matroska_8h.html#a744de5ec8c34802439d37e8582c908fe">MATROSKA_ID_TAGS</a>, 0, 0, 1);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">if</span> (tags) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="comment">/* tags == &amp;mkv-&gt;tags.bc can only happen if mkv-&gt;tags.bc was</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="comment">         * initially NULL, so we never free older tags. */</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(tags);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;dyn_cp);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;}</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a38eab35e618853333dd44f9bab7472ff"> 1701</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="matroskaenc_8c.html#a38eab35e618853333dd44f9bab7472ff">get_mimetype</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;{</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *t;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="keywordflow">if</span> (t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;mimetype&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <span class="keywordflow">return</span> t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_descriptor.html">AVCodecDescriptor</a> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="group__lavc__core.html#gac09f8ddc2d4b36c5a85c6befba0d0888">avcodec_descriptor_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> &amp;&amp; <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;mime_types) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;mime_types[0];</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3b738e90e2e06c46df79d6b82f2f096b">AV_CODEC_ID_TEXT</a>)</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;text/plain&quot;</span>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;}</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#adaa4c84c216d56390a3bdec321bd8fac"> 1718</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#adaa4c84c216d56390a3bdec321bd8fac">mkv_write_attachments</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;{</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *dyn_cp = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">if</span> (!mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac9603334356675f512a95e4917f77709">nb_attachments</a>)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(&amp;dyn_cp, mkv);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="structmkv__track.html">mkv_track</a> *track = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <a class="code" href="structebml__master.html">ebml_master</a> attached_file;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *t;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *mimetype;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a>)</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160; </div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        attached_file = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(dyn_cp, <a class="code" href="matroska_8h.html#a8ae45cf11bc77df76563b07d352ea186">MATROSKA_ID_ATTACHEDFILE</a>, 0);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordflow">if</span> (t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(dyn_cp, <a class="code" href="matroska_8h.html#a60370909a744305a077f564f6d4781a3">MATROSKA_ID_FILEDESC</a>, t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordflow">if</span> (!(t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;filename&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))) {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Attachment stream %d has no filename tag.\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        }</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(dyn_cp, <a class="code" href="matroska_8h.html#a9e6c97b955566bd51172d0934d48032c">MATROSKA_ID_FILENAME</a>, t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        mimetype = <a class="code" href="matroskaenc_8c.html#a38eab35e618853333dd44f9bab7472ff">get_mimetype</a>(st);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(mimetype);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(dyn_cp, <a class="code" href="matroska_8h.html#a0269d66675eb657a42686c12b486a434">MATROSKA_ID_FILEMIMETYPE</a>, mimetype);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(dyn_cp, <a class="code" href="matroska_8h.html#aa5acac504289d57514671fc3909f9167">MATROSKA_ID_FILEDATA</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="matroskaenc_8c.html#a68eae606bc0505b49a1eeb71c9f033a1">put_ebml_uid</a>(dyn_cp, <a class="code" href="matroska_8h.html#a4a13903ba46ba1fa7b2ec686615ee774">MATROSKA_ID_FILEUID</a>, track-&gt;<a class="code" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">uid</a>);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(dyn_cp, attached_file);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;dyn_cp, mkv,</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                                 <a class="code" href="matroska_8h.html#a307d9dc9a2b2bd6e374f05dbf4130d14">MATROSKA_ID_ATTACHMENTS</a>, 0, 0, 1);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;}</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a9aa89b584c487de4df6a92bd2df48660"> 1762</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="matroskaenc_8c.html#a9aa89b584c487de4df6a92bd2df48660">get_metadata_duration</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;{</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;DURATION&quot;</span>,</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                                                    <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    int64_t <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = 0;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    int64_t <a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &amp;&amp; (<a class="code" href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a>(&amp;<a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>-&gt;value, 1) == 0) &amp;&amp; <a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a> &gt; 0) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;get_metadata_duration found duration in context metadata: %&quot;</span> PRId64 <span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a>);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        int64_t <a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a>;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;DURATION&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &amp;&amp; (<a class="code" href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a>(&amp;<a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>-&gt;value, 1) == 0))</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, <a class="code" href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a>);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;get_metadata_duration returned: %&quot;</span> PRId64 <span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;}</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a70b56ea90c6353b9789e2fdbf46a1db2"> 1786</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a70b56ea90c6353b9789e2fdbf46a1db2">mkv_write_header</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;{</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> <a class="code" href="matroskadec_8c.html#ab35f1b370f92df792875b4cf3e3ac6e0">ebml_header</a>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = 2;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    int64_t creation_time;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a> ||</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;stereo_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0) ||</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;alpha_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = 4;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a> ||</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;stereo_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0) ||</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;alpha_mode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = 4;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    }</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <a class="code" href="matroskadec_8c.html#ab35f1b370f92df792875b4cf3e3ac6e0">ebml_header</a> = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a33375dd96ababeb14be37b52cdd8e1c3">EBML_ID_HEADER</a>, <a class="code" href="matroskaenc_8c.html#a5034bc21db6c59fc34f90252a28b9f82">MAX_EBML_HEADER_SIZE</a>);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#a299d6c7c9445d0711eace9481b5b11fc">EBML_ID_EBMLVERSION</a>       ,           1);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#aecf62040a8a95674f0dbb10aaa29b088">EBML_ID_EBMLREADVERSION</a>   ,           1);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#aadf2ceebdb5e4ee3f28bce6b06958f91">EBML_ID_EBMLMAXIDLENGTH</a>   ,           4);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#ab39878541c55a2ed4099bfc64934d298">EBML_ID_EBMLMAXSIZELENGTH</a> ,           8);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a0e3745cbc83bb70a852869db75623bd9">EBML_ID_DOCTYPE</a>           , <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat-&gt;name);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#a2f2a377eac78224eda21767a3fc5584e">EBML_ID_DOCTYPEVERSION</a>    ,     <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#a9309f1ab253ad198d67b589b7f514a29">EBML_ID_DOCTYPEREADVERSION</a>,           2);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, <a class="code" href="matroskadec_8c.html#ab35f1b370f92df792875b4cf3e3ac6e0">ebml_header</a>);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, <a class="code" href="matroska_8h.html#af3bfbf19d13bfde894156bc7339e6368">MATROSKA_ID_SEGMENT</a>);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <a class="code" href="matroskaenc_8c.html#af8d53582576b0ae3d2649a9a2ca09645">put_ebml_size_unknown</a>(pb, 8);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">segment_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160; </div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <span class="comment">// We write a SeekHead at the beginning to point to all other level</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="comment">// one elements (except Clusters).</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <a class="code" href="matroskaenc_8c.html#ab0af45e479f8c1e4286a3ded29acaeba">mkv_start_seekhead</a>(mkv, pb);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, mkv);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    pb = mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a2691229250aecb7fc62c6424ace9d5e3">MATROSKA_ID_TIMECODESCALE</a>, 1000000);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)))</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a349fbbf386af5df175a01aeeca3cced2">MATROSKA_ID_TITLE</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a2fa1d95841e62af509ba733a11c1b25b">AVFMT_FLAG_BITEXACT</a>)) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a45871aa4f1370c928b35a8004b3d0d7a">MATROSKA_ID_MUXINGAPP</a>, <a class="code" href="libavformat_2version_8h.html#a052e19399c636f5fe37639a6625f03ae">LIBAVFORMAT_IDENT</a>);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;encoding_tool&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)))</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#af1a80b1da412ea0cea810ab15a95eeec">MATROSKA_ID_WRITINGAPP</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#af1a80b1da412ea0cea810ab15a95eeec">MATROSKA_ID_WRITINGAPP</a>, <a class="code" href="libavformat_2version_8h.html#a052e19399c636f5fe37639a6625f03ae">LIBAVFORMAT_IDENT</a>);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160; </div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>)</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#a8e6441a9bf2360c12c93480c39850a7a">MATROSKA_ID_SEGMENTUID</a>, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab9f035307ebdc7f5e8aee1a8e8452706">segment_uid</a>, 16);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *ident = <span class="stringliteral">&quot;Lavf&quot;</span>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#a45871aa4f1370c928b35a8004b3d0d7a">MATROSKA_ID_MUXINGAPP</a> , ident);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <a class="code" href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a>(pb, <a class="code" href="matroska_8h.html#af1a80b1da412ea0cea810ab15a95eeec">MATROSKA_ID_WRITINGAPP</a>, ident);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160; </div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libavformat_2internal_8h.html#ab0ada0e011ce230ec7c6fc9f600bf89c">ff_parse_creation_time_metadata</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;creation_time, 0) &gt; 0) {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <span class="comment">// Adjust time so it&#39;s relative to 2001-01-01 and convert to nanoseconds.</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        int64_t date_utc = (creation_time - 978307200000000LL) * 1000;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> date_utc_buf[8];</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <a class="code" href="intreadwrite_8h.html#afd2d38dbc4338142d73bbd42c59ac186">AV_WB64</a>(date_utc_buf, date_utc);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#a6bf56d707dda6ee275225daf3f21e307">MATROSKA_ID_DATEUTC</a>, date_utc_buf, 8);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="comment">// reserve space for the duration</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">duration</a> = 0;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a587ddb7ba92cc6f36965959fff973a70">duration_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordflow">if</span> (!mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#abc58e5e95502777096a326c76b817c61">is_live</a>) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        int64_t metadata_duration = <a class="code" href="matroskaenc_8c.html#a9aa89b584c487de4df6a92bd2df48660">get_metadata_duration</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration &gt; 0) {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;            int64_t scaledDuration = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration, 1000, <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(pb, <a class="code" href="matroska_8h.html#abf37405516119c58b228d1dd9684672d">MATROSKA_ID_DURATION</a>, scaledDuration);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Write early duration from recording time = %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, scaledDuration);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (metadata_duration &gt; 0) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            int64_t scaledDuration = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(metadata_duration, 1000, <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(pb, <a class="code" href="matroska_8h.html#abf37405516119c58b228d1dd9684672d">MATROSKA_ID_DURATION</a>, scaledDuration);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Write early duration from metadata = %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, scaledDuration);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;seekable &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, 11);              <span class="comment">// assumes double-precision float to be written</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a338b543c7595d55ed9461c4d7f2a1e64">end_ebml_master_crc32_tentatively</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>,</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                                            mkv, <a class="code" href="matroska_8h.html#a7068ad8dfc80937a393d9b3dfea8011d">MATROSKA_ID_INFO</a>);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#af32b0cf2f1991297b6a493d5a9d2b5c4">mkv_write_tracks</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a414be596d1513e76c68f75f1933aa7a0">mkv_write_chapters</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> != <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#adaa4c84c216d56390a3bdec321bd8fac">mkv_write_attachments</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    }</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="comment">/* Must come after mkv_write_chapters() to write chapter tags</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="comment">     * into the same Tags element as the other tags. */</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a3c28b64ef5b611ae31d4c09c8b69953a">mkv_write_tags</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160; </div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(pb, mkv)) {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a132c7253c2dd13b0c5ac08b308bf47af">mkv_write_seekhead</a>(pb, mkv, 0, <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb));</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    }</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata_header_padding &gt; 0) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata_header_padding == 1)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata_header_padding++;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata_header_padding);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160; </div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a>) {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(pb, mkv)) {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad2499d3f5ddce9271d646402671e48c0">cues_pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a> == 1)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a>++;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a>);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a> = -1;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160; </div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = 0;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> = -1;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="comment">// start a new cluster every 5 MB or 5 sec, or 32k / 1 sec for streaming or</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <span class="comment">// after 4k and on a keyframe</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(pb, mkv)) {</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">cluster_time_limit</a> &lt; 0)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">cluster_time_limit</a> = 5000;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">cluster_size_limit</a> &lt; 0)</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">cluster_size_limit</a> = 5 * 1024 * 1024;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">cluster_time_limit</a> &lt; 0)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">cluster_time_limit</a> = 1000;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">cluster_size_limit</a> &lt; 0)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">cluster_size_limit</a> = 32 * 1024;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;}</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#af35b0a259e990d34f2324d26a1b0b197"> 1943</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#af35b0a259e990d34f2324d26a1b0b197">mkv_blockgroup_size</a>(<span class="keywordtype">int</span> pkt_size, <span class="keywordtype">int</span> track_num_size)</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;{</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = pkt_size + track_num_size + 3;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += <a class="code" href="matroskaenc_8c.html#add73f53ea7abcc785b28b2a25bed9979">ebml_length_size</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += 2;              <span class="comment">// EBML ID for block and block duration</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += 9;              <span class="comment">// max size of block duration incl. length field</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;}</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160; </div>
<div class="line"><a name="l01952"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a66633064606416ce80b823e7ef7fa81a"> 1952</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a66633064606416ce80b823e7ef7fa81a">mkv_strip_wavpack</a>(<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **pdst, <span class="keywordtype">int</span> *<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;{</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordtype">int</span> srclen = *<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 0;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    dst = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(srclen);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordflow">if</span> (!dst)</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">while</span> (srclen &gt;= <a class="code" href="wavpack_8h.html#ab98e8cf39ee6c2c66caec659466d899b">WV_HEADER_SIZE</a>) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <a class="code" href="struct_wv_header.html">WvHeader</a> <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="wv_8c.html#a091953f0d9d56b7c2e824e1ecf47f9fa">ff_wv_parse_header</a>(&amp;<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>);</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>    += <a class="code" href="wavpack_8h.html#ab98e8cf39ee6c2c66caec659466d899b">WV_HEADER_SIZE</a>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        srclen -= <a class="code" href="wavpack_8h.html#ab98e8cf39ee6c2c66caec659466d899b">WV_HEADER_SIZE</a>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        <span class="keywordflow">if</span> (srclen &lt; <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.blocksize) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        }</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160; </div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.initial) {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(dst + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.samples);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += 4;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(dst + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>,     <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.flags);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(dst + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> + 4, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.crc);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += 8;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.initial &amp;&amp; <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.final)) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(dst + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.blocksize);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += 4;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160; </div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        memcpy(dst + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.blocksize);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>    += <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.blocksize;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        srclen -= <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.blocksize;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.blocksize;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160; </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    *pdst = dst;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    *<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;dst);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;}</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a568f42009ae0980df91964bac29ccafc"> 2005</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a568f42009ae0980df91964bac29ccafc">mkv_write_block</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                           uint32_t blockid, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <span class="keywordtype">int</span> keyframe)</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;{</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;codecpar;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <a class="code" href="structmkv__track.html">mkv_track</a> *track = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *side_data = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordtype">int</span> err = 0, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 0, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, side_data_size;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    int64_t ts = track-&gt;<a class="code" href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">write_dts</a> ? <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> : <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    uint64_t additional_id;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    int64_t discard_padding = 0;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordtype">unsigned</span> track_number = track-&gt;<a class="code" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">track_num</a>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> block_group, block_additions, block_more;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    ts += track-&gt;<a class="code" href="structmkv__track.html#a52ef3581c395804cafb33dbcae6d50cc">ts_offset</a>;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160; </div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">/* The following string is identical to the one in mkv_write_vtt_blocks</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">     * so that only one copy needs to exist in binaries. */</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;           <span class="stringliteral">&quot;Writing block of size %d with pts %&quot;</span> PRId64 <span class="stringliteral">&quot;, dts %&quot;</span> PRId64 <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;           <span class="stringliteral">&quot;duration %&quot;</span> PRId64 <span class="stringliteral">&quot; at relative offset %&quot;</span> PRId64 <span class="stringliteral">&quot; in cluster &quot;</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;           <span class="stringliteral">&quot;at offset %&quot;</span> PRId64 <span class="stringliteral">&quot;. TrackNumber %u, keyframe %d\n&quot;</span>,</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;           <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb),</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;           mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a>, track_number, keyframe != 0);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        (<a class="code" href="avr32_2intreadwrite_8h.html#a18dbad310cbaa8d1f619428edfde1295">AV_RB24</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>) == 1 || <a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>) == 1)) {</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        err = <a class="code" href="avc_8c.html#ad36a0e82601738b2b00ad2bc4831f21e">ff_avc_parse_nal_units_buf</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, &amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, &amp;<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &gt; 6 &amp;&amp;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;               (<a class="code" href="avr32_2intreadwrite_8h.html#a18dbad310cbaa8d1f619428edfde1295">AV_RB24</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>) == 1 || <a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>) == 1)) {</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <span class="comment">/* extradata is Annex B, assume the bitstream is too and convert it */</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        err = <a class="code" href="hevc_8c.html#a325aca121ea26fbcbf1c7d9c8d56f82e">ff_hevc_annexb2mp4_buf</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, &amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, &amp;<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6dbe55d3a303780cfdb3627384e4141d">AV_CODEC_ID_AV1</a>) {</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        err = <a class="code" href="av1_8c.html#a49e380b1c80dd2998301d3da717ab890">ff_av1_filter_obus_buf</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, &amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, &amp;<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, &amp;<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae6f1c1bbb4e389366f56cfb8cc77d240">AV_CODEC_ID_WAVPACK</a>) {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        err = <a class="code" href="matroskaenc_8c.html#a66633064606416ce80b823e7ef7fa81a">mkv_strip_wavpack</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, &amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, &amp;<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160; </div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Error when reformatting data of &quot;</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;               <span class="stringliteral">&quot;a packet from stream %d.\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab140360bd655d8add22265dbe45b581c">AV_CODEC_ID_PRORES</a> &amp;&amp; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt;= 8) {</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        <span class="comment">/* Matroska specification requires to remove the first QuickTime atom</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>  -= 8;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 8;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    }</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160; </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    side_data = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                                        <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a2093332d8086d25a04942ede61007f6a">AV_PKT_DATA_SKIP_SAMPLES</a>,</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                                        &amp;side_data_size);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordflow">if</span> (side_data &amp;&amp; side_data_size &gt;= 10) {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        discard_padding = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(side_data + 4),</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;                                       (<a class="code" href="struct_a_v_rational.html">AVRational</a>){1, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>},</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;                                       (<a class="code" href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a>){1, 1000000000});</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160; </div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    side_data = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                                        <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a72e6d25102c0504549754fcd9ac871b7">AV_PKT_DATA_MATROSKA_BLOCKADDITIONAL</a>,</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                                        &amp;side_data_size);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="keywordflow">if</span> (side_data) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <span class="comment">// Only the Codec-specific BlockMore (id == 1) is currently supported.</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="keywordflow">if</span> (side_data_size &lt; 8 || (additional_id = <a class="code" href="avr32_2intreadwrite_8h.html#ad3c990d78933aafd8096a21f01c19051">AV_RB64</a>(side_data)) != 1) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            side_data_size = 0;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            side_data      += 8;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            side_data_size -= 8;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        }</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordflow">if</span> (side_data_size || discard_padding) {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        block_group = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a61dbefc891b578a7899675508753f9d3">MATROSKA_ID_BLOCKGROUP</a>, 0);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        blockid = <a class="code" href="matroska_8h.html#a795486eda970d13072477e5834ce6664">MATROSKA_ID_BLOCK</a>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160; </div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, blockid);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + track-&gt;<a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a> + 3, 0);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <a class="code" href="matroskaenc_8c.html#ae2ff72f3a0c2c52e8a881a5c6cf4b47a">put_ebml_num</a>(pb, track_number, track-&gt;<a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a>);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <a class="code" href="avio_8h.html#a21c2d7b7ddd7f31d24d278f8b3281ec3">avio_wb16</a>(pb, ts - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a>);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, (blockid == <a class="code" href="matroska_8h.html#a60a8f87d75f9026895f16c17892fc2f3">MATROSKA_ID_SIMPLEBLOCK</a> &amp;&amp; keyframe) ? (1 &lt;&lt; 7) : 0);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> != <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>)</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>);</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">if</span> (blockid == <a class="code" href="matroska_8h.html#a795486eda970d13072477e5834ce6664">MATROSKA_ID_BLOCK</a> &amp;&amp; !keyframe)</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        <a class="code" href="matroskaenc_8c.html#a35a1e95e495883ddec240c3b2346a374">put_ebml_sint</a>(pb, <a class="code" href="matroska_8h.html#a88652ad24fe24176e624cdae91e20b29">MATROSKA_ID_BLOCKREFERENCE</a>, track-&gt;<a class="code" href="structmkv__track.html#a2476448832fd1d1e225cf9b420f0f814">last_timestamp</a> - ts);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    track-&gt;<a class="code" href="structmkv__track.html#a2476448832fd1d1e225cf9b420f0f814">last_timestamp</a> = ts;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keywordflow">if</span> (discard_padding)</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <a class="code" href="matroskaenc_8c.html#a35a1e95e495883ddec240c3b2346a374">put_ebml_sint</a>(pb, <a class="code" href="matroska_8h.html#a044c47bdd9c269ea1d14e8f8608943d0">MATROSKA_ID_DISCARDPADDING</a>, discard_padding);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160; </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordflow">if</span> (side_data_size) {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        block_additions = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#aefb3c1d7350a93c55fc04507187b504a">MATROSKA_ID_BLOCKADDITIONS</a>, 0);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        block_more = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#ac281186c61c9fc682992eca180f2a448">MATROSKA_ID_BLOCKMORE</a>, 0);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        <span class="comment">/* Until dbc50f8a our demuxer used a wrong default value</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment">         * of BlockAddID, so we write it unconditionally. */</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>  (pb, <a class="code" href="matroska_8h.html#ab2b2fae7ddafa37df5a1c46248e6c96f">MATROSKA_ID_BLOCKADDID</a>, additional_id);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(pb, <a class="code" href="matroska_8h.html#aa79d7dafc9dcf6a33c420629e21e8ea2">MATROSKA_ID_BLOCKADDITIONAL</a>,</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                        side_data, side_data_size);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, block_more);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, block_additions);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">if</span> (side_data_size || discard_padding)</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, block_group);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ae8dd1c25c4947fd541d2d28749ffcc09"> 2117</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#ae8dd1c25c4947fd541d2d28749ffcc09">mkv_write_vtt_blocks</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <a class="code" href="structmkv__track.html">mkv_track</a> *track = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <a class="code" href="structebml__master.html">ebml_master</a> blockgroup;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordtype">int</span> id_size, settings_size, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>, *settings;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    int64_t ts = track-&gt;<a class="code" href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">write_dts</a> ? <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> : <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = 0;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordtype">id</span> = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad95c0f65ae13f5c2f03bf32accc5ecb2">AV_PKT_DATA_WEBVTT_IDENTIFIER</a>,</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                                 &amp;id_size);</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordtype">id</span> = <span class="keywordtype">id</span> ? <a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a> : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    settings = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a8dfefd91c6ee7f37af363a93a8211119">AV_PKT_DATA_WEBVTT_SETTINGS</a>,</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                                       &amp;settings_size);</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    settings = settings ? settings : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = id_size + 1 + settings_size + 1 + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="comment">/* The following string is identical to the one in mkv_write_block so that</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="comment">     * only one copy needs to exist in binaries. */</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;           <span class="stringliteral">&quot;Writing block of size %d with pts %&quot;</span> PRId64 <span class="stringliteral">&quot;, dts %&quot;</span> PRId64 <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;           <span class="stringliteral">&quot;duration %&quot;</span> PRId64 <span class="stringliteral">&quot; at relative offset %&quot;</span> PRId64 <span class="stringliteral">&quot; in cluster &quot;</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;           <span class="stringliteral">&quot;at offset %&quot;</span> PRId64 <span class="stringliteral">&quot;. TrackNumber %u, keyframe %d\n&quot;</span>,</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;           <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb),</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;           mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a>, track-&gt;<a class="code" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">track_num</a>, 1);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    blockgroup = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a61dbefc891b578a7899675508753f9d3">MATROSKA_ID_BLOCKGROUP</a>,</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                                   <a class="code" href="matroskaenc_8c.html#af35b0a259e990d34f2324d26a1b0b197">mkv_blockgroup_size</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, track-&gt;<a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a>));</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a>(pb, <a class="code" href="matroska_8h.html#a795486eda970d13072477e5834ce6664">MATROSKA_ID_BLOCK</a>);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + track-&gt;<a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a> + 3, 0);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <a class="code" href="matroskaenc_8c.html#ae2ff72f3a0c2c52e8a881a5c6cf4b47a">put_ebml_num</a>(pb, track-&gt;<a class="code" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">track_num</a>, track-&gt;<a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a>);</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <a class="code" href="avio_8h.html#a21c2d7b7ddd7f31d24d278f8b3281ec3">avio_wb16</a>(pb, ts - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a>);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(pb, <span class="stringliteral">&quot;%.*s\n%.*s\n%.*s&quot;</span>, id_size, <span class="keywordtype">id</span>, settings_size, settings, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160; </div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a32c4e986808a0316333175493fc85a1c">MATROSKA_ID_BLOCKDURATION</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, blockgroup);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;}</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160; </div>
<div class="line"><a name="l02162"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#abaf1dde8628f10a0503d01a19615e935"> 2162</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#abaf1dde8628f10a0503d01a19615e935">mkv_end_cluster</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;{</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160; </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (!mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a9a74ccb172e57e984f226de5e481a424">have_video</a>) {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structmkv__track.html#a78045cd3001e62eddc9529f52c656766">has_cue</a> = 0;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> = -1;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>, mkv,</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                                <a class="code" href="matroska_8h.html#a84b146452a0382c1db1a60a7d006a9a7">MATROSKA_ID_CLUSTER</a>, 0, 1, 0);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160; </div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <a class="code" href="avio_8h.html#a03e0cde48d492b5433e136152e47cb4c">avio_write_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>, <a class="code" href="avio_8h.html#a4dbe7c0b3d5c86e46b9991ee805c5e21a870634b3c75cf4bcff8306fac01b04be">AVIO_DATA_MARKER_FLUSH_POINT</a>);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;}</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160; </div>
<div class="line"><a name="l02181"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aff49a097ee8f14c0bf689468260e22ab"> 2181</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#aff49a097ee8f14c0bf689468260e22ab">mkv_check_new_extra_data</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;{</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <a class="code" href="structmkv__track.html">mkv_track</a> *track        = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;codecpar;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *side_data;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="keywordtype">int</span> side_data_size, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    side_data = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a>,</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                                        &amp;side_data_size);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">switch</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) {</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a>:</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        <span class="keywordflow">if</span> (side_data_size &amp;&amp; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="interplayacm_8c.html#ab5e0de96a4425181a23393983beba953">filler</a>, output_sample_rate = 0;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a2356239ed04dd37ed6638b0087801cce">get_aac_sample_rates</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mkv, side_data, side_data_size,</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                                       &amp;track-&gt;<a class="code" href="structmkv__track.html#a738a83f1247c7a0a4db847221fab989d">sample_rate</a>, &amp;output_sample_rate);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            <span class="keywordflow">if</span> (!output_sample_rate)</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                output_sample_rate = track-&gt;<a class="code" href="structmkv__track.html#a738a83f1247c7a0a4db847221fab989d">sample_rate</a>; <span class="comment">// Space is already reserved, so it&#39;s this or a void element.</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a>(par, side_data_size);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;            memcpy(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, side_data, side_data_size);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, track-&gt;<a class="code" href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">codecpriv_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            <a class="code" href="matroskaenc_8c.html#a868557510e83a336f135e8bb0da44327">mkv_write_codecprivate</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, par, 1, 0);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            <a class="code" href="interplayacm_8c.html#ab5e0de96a4425181a23393983beba953">filler</a> = <a class="code" href="mpeg4audio_8h.html#a4cb13441e2c38d662ad4f5625dbbe1d1">MAX_PCE_SIZE</a> + 2 + 4 - (<a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>) - track-&gt;<a class="code" href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">codecpriv_offset</a>);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="interplayacm_8c.html#ab5e0de96a4425181a23393983beba953">filler</a>)</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="interplayacm_8c.html#ab5e0de96a4425181a23393983beba953">filler</a>);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, track-&gt;<a class="code" href="structmkv__track.html#a9001a2f0ae533e347879f6ce17838d4a">sample_rate_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="matroska_8h.html#ae914a2c95f62116ce22baf5c0ffcc940">MATROSKA_ID_AUDIOSAMPLINGFREQ</a>, track-&gt;<a class="code" href="structmkv__track.html#a738a83f1247c7a0a4db847221fab989d">sample_rate</a>);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;            <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="matroska_8h.html#a4209f2d135ea4a4f784128ea8912065d">MATROSKA_ID_AUDIOOUTSAMPLINGFREQ</a>, output_sample_rate);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &amp;&amp; !track-&gt;<a class="code" href="structmkv__track.html#a738a83f1247c7a0a4db847221fab989d">sample_rate</a>) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;            <span class="comment">// No extradata (codecpar or packet side data).</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Error parsing AAC extradata, unable to determine samplerate.\n&quot;</span>);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a>:</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        <span class="keywordflow">if</span> (side_data_size &amp;&amp; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>) {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *old_extradata = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;            <span class="keywordflow">if</span> (side_data_size != par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid FLAC STREAMINFO metadata for output stream %d\n&quot;</span>,</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                       <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;            }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;            par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> = side_data;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, track-&gt;<a class="code" href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">codecpriv_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            <a class="code" href="matroskaenc_8c.html#a868557510e83a336f135e8bb0da44327">mkv_write_codecprivate</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, par, 1, 0);</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> = old_extradata;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        }</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="comment">// FIXME: Remove the following once libaom starts propagating extradata during init()</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="comment">//        See https://bugs.chromium.org/p/aomedia/issues/detail?id=2012</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6dbe55d3a303780cfdb3627384e4141d">AV_CODEC_ID_AV1</a>:</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <span class="keywordflow">if</span> (side_data_size &amp;&amp; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a> &amp;&amp; !par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>) {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;            <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *dyn_cp;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *codecpriv;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;            <span class="keywordtype">int</span> codecpriv_size;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a>(&amp;dyn_cp);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            <a class="code" href="av1_8c.html#a60d184198b8abbf71766e3d5fcf0d6d2">ff_isom_write_av1c</a>(dyn_cp, side_data, side_data_size);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;            codecpriv_size = <a class="code" href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a>(dyn_cp, &amp;codecpriv);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = dyn_cp-&gt;<a class="code" href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">error</a>) &lt; 0 ||</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                !codecpriv_size &amp;&amp; (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>)) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;dyn_cp);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            }</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, track-&gt;<a class="code" href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">codecpriv_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;            <span class="comment">// Do not write the OBUs as we don&#39;t have space saved for them</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="matroska_8h.html#ab658a7a9a11f450e86c611d0ae085b03">MATROSKA_ID_CODECPRIVATE</a>, codecpriv, 4);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;dyn_cp);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a>(par, side_data_size);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;            memcpy(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, side_data, side_data_size);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>)</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="keywordflow">if</span> (side_data_size)</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Ignoring new extradata in a packet for stream %d.\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;}</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160; </div>
<div class="line"><a name="l02271"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a1d4bdfddade5208f9c2e8b181476ce92"> 2271</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a1d4bdfddade5208f9c2e8b181476ce92">mkv_write_packet_internal</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;{</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;codecpar;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <a class="code" href="structmkv__track.html">mkv_track</a> *track        = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keywordtype">int</span> keyframe            = !!(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>            = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    int64_t ts = track-&gt;<a class="code" href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">write_dts</a> ? <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> : <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    int64_t relative_packet_pos;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="keywordflow">if</span> (ts == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Can&#39;t write packet with unknown timestamp\n&quot;</span>);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    }</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    ts += track-&gt;<a class="code" href="structmkv__track.html#a52ef3581c395804cafb33dbcae6d50cc">ts_offset</a>;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160; </div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> != -1) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        int64_t cluster_time = ts - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        <span class="keywordflow">if</span> ((int16_t)cluster_time != cluster_time) {</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#abaf1dde8628f10a0503d01a19615e935">mkv_end_cluster</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Starting new cluster due to timestamp\n&quot;</span>);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    }</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160; </div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> == -1) {</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>, mkv);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>, <a class="code" href="matroska_8h.html#adfa7b42c249f36689e96fc197db48e94">MATROSKA_ID_CLUSTERTIMECODE</a>, <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, ts));</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, ts);</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;               <span class="stringliteral">&quot;Starting new cluster with timestamp &quot;</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;               <span class="stringliteral">&quot;%&quot;</span> PRId64 <span class="stringliteral">&quot; at offset %&quot;</span> PRId64 <span class="stringliteral">&quot; bytes\n&quot;</span>,</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;               mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a>, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a>);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    pb = mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160; </div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    relative_packet_pos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a568f42009ae0980df91964bac29ccafc">mkv_write_block</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, <a class="code" href="matroska_8h.html#a60a8f87d75f9026895f16c17892fc2f3">MATROSKA_ID_SIMPLEBLOCK</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, keyframe);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        <span class="keywordflow">if</span> (keyframe &amp;&amp; <a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, mkv) &amp;&amp;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;            (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> || !mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a9a74ccb172e57e984f226de5e481a424">have_video</a> &amp;&amp; !track-&gt;<a class="code" href="structmkv__track.html#a78045cd3001e62eddc9529f52c656766">has_cue</a>)) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ac11d3a7eb844a80dc9752cc94e1b4186">mkv_add_cuepoint</a>(mkv, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, ts,</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                                   mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a>, relative_packet_pos, -1);</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;            track-&gt;<a class="code" href="structmkv__track.html#a78045cd3001e62eddc9529f52c656766">has_cue</a> = 1;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;        }</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea82b722838aa5158de9313be99930618a">AV_CODEC_ID_WEBVTT</a>) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="matroskaenc_8c.html#ae8dd1c25c4947fd541d2d28749ffcc09">mkv_write_vtt_blocks</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;            <a class="code" href="structebml__master.html">ebml_master</a> blockgroup = <a class="code" href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a>(pb, <a class="code" href="matroska_8h.html#a61dbefc891b578a7899675508753f9d3">MATROSKA_ID_BLOCKGROUP</a>,</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                                                       <a class="code" href="matroskaenc_8c.html#af35b0a259e990d34f2324d26a1b0b197">mkv_blockgroup_size</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>,</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                                                                           track-&gt;<a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a>));</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="preprocessor">#if FF_API_CONVERGENCE_DURATION</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;            <span class="comment">/* For backward compatibility, prefer convergence_duration. */</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;convergence_duration &gt; 0) {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;convergence_duration;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;            }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;            <span class="comment">/* All subtitle blocks are considered to be keyframes. */</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            <a class="code" href="matroskaenc_8c.html#a568f42009ae0980df91964bac29ccafc">mkv_write_block</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, <a class="code" href="matroska_8h.html#a795486eda970d13072477e5834ce6664">MATROSKA_ID_BLOCK</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, 1);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            <a class="code" href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a>(pb, <a class="code" href="matroska_8h.html#a32c4e986808a0316333175493fc85a1c">MATROSKA_ID_BLOCKDURATION</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            <a class="code" href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a>(pb, blockgroup);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        }</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160; </div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, mkv)) {</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ac11d3a7eb844a80dc9752cc94e1b4186">mkv_add_cuepoint</a>(mkv, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, ts,</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                                   mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a>, relative_packet_pos, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    }</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160; </div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">duration</a>   = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">duration</a>,   ts + <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    track-&gt;<a class="code" href="structmkv__track.html#a8d5f286059b19873cdbfc95450df4e9e">duration</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(track-&gt;<a class="code" href="structmkv__track.html#a8d5f286059b19873cdbfc95450df4e9e">duration</a>, ts + <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160; </div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;}</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160; </div>
<div class="line"><a name="l02363"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a35d558fb1b9bc22298d397a61f8a9b02"> 2363</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a35d558fb1b9bc22298d397a61f8a9b02">mkv_write_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;{</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a>          = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;codecpar-&gt;codec_type;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordtype">int</span> keyframe            = !!(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordtype">int</span> cluster_size;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    int64_t cluster_time;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordtype">int</span> start_new_cluster;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160; </div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#aff49a097ee8f14c0bf689468260e22ab">mkv_check_new_extra_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160; </div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> != -1) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>].<a class="code" href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">write_dts</a>)</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            cluster_time = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a>;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;            cluster_time = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">cluster_pts</a>;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        cluster_time += mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>].<a class="code" href="structmkv__track.html#a52ef3581c395804cafb33dbcae6d50cc">ts_offset</a>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        cluster_size  = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160; </div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">is_dash</a> &amp;&amp; <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;            <span class="comment">// WebM DASH specification states that the first block of</span></div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;            <span class="comment">// every Cluster has to be a key frame. So for DASH video,</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;            <span class="comment">// we only create a Cluster on seeing key frames.</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;            start_new_cluster = keyframe;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">is_dash</a> &amp;&amp; <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> &amp;&amp;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                   cluster_time &gt; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">cluster_time_limit</a>) {</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;            <span class="comment">// For DASH audio, we create a Cluster based on cluster_time_limit.</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;            start_new_cluster = 1;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">is_dash</a> &amp;&amp;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;                   (cluster_size &gt; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">cluster_size_limit</a> ||</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                    cluster_time &gt; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">cluster_time_limit</a> ||</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;                    (<a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; keyframe &amp;&amp;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;                     cluster_size &gt; 4 * 1024))) {</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;            start_new_cluster = 1;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;            start_new_cluster = 0;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160; </div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        <span class="keywordflow">if</span> (start_new_cluster) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#abaf1dde8628f10a0503d01a19615e935">mkv_end_cluster</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        }</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    }</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160; </div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">if</span> (!mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a>)</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        <a class="code" href="avio_8h.html#a03e0cde48d492b5433e136152e47cb4c">avio_write_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb,</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                          <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;time_base, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>),</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                          keyframe &amp;&amp; (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a9a74ccb172e57e984f226de5e481a424">have_video</a> ? <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> : 1) ? <a class="code" href="avio_8h.html#a4dbe7c0b3d5c86e46b9991ee805c5e21a8adfdc2dc16ca97ae4ae16f7b72415ae">AVIO_DATA_MARKER_SYNC_POINT</a> : <a class="code" href="avio_8h.html#a4dbe7c0b3d5c86e46b9991ee805c5e21a20aa5be54fc866e03cfe7f10367b5795">AVIO_DATA_MARKER_BOUNDARY_POINT</a>);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="comment">// check if we have an audio packet cached</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &gt; 0) {</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a1d4bdfddade5208f9c2e8b181476ce92">mkv_write_packet_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>);</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                   <span class="stringliteral">&quot;Could not write cached audio packet ret:%d\n&quot;</span>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="comment">// buffer an audio packet to ensure the packet containing the video</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="comment">// keyframe&#39;s timecode is contained in the same cluster for WebM</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &gt; 0)</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__packet.html#gadb05d71fa2ea7b7fd3e8cfc6d9065a47">av_packet_ref</a>(&amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a1d4bdfddade5208f9c2e8b181476ce92">mkv_write_packet_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;}</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a54a7c7df3291d237c91f0dba9df2f38f"> 2437</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a54a7c7df3291d237c91f0dba9df2f38f">mkv_write_flush_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;{</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160; </div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>) {</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> != -1) {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#abaf1dde8628f10a0503d01a19615e935">mkv_end_cluster</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                   <span class="stringliteral">&quot;Flushing cluster at offset %&quot;</span> PRIu64 <span class="stringliteral">&quot; bytes\n&quot;</span>,</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                   <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb));</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        }</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    }</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matroskaenc_8c.html#a35d558fb1b9bc22298d397a61f8a9b02">mkv_write_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a2ae44dd6db4df863c2cd4093b33e4b8a"> 2455</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a2ae44dd6db4df863c2cd4093b33e4b8a">mkv_write_trailer</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;{</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    int64_t endpos, ret64;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, ret2 = 0;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160; </div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="comment">// check if we have an audio packet cached</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &gt; 0) {</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a1d4bdfddade5208f9c2e8b181476ce92">mkv_write_packet_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">cur_audio_pkt</a>);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                   <span class="stringliteral">&quot;Could not write cached audio packet ret:%d\n&quot;</span>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160; </div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">cluster_pos</a> != -1) {</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">cluster_bc</a>, mkv,</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;                                    <a class="code" href="matroska_8h.html#a84b146452a0382c1db1a60a7d006a9a7">MATROSKA_ID_CLUSTER</a>, 0, 0, 0);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    }</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160; </div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a414be596d1513e76c68f75f1933aa7a0">mkv_write_chapters</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a>(pb, mkv))</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160; </div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    endpos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160; </div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab60c13d51b880f63df964fb44612d76f">cues</a>.<a class="code" href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">num_entries</a> &amp;&amp; mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a> &gt;= 0) {</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;        <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *cues = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        uint64_t <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <span class="keywordtype">int</span> length_size = 0;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160; </div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a>(&amp;cues, mkv);</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a18508a03cde7721dc982deae8a1205fe">mkv_assemble_cues</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams, cues, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab60c13d51b880f63df964fb44612d76f">cues</a>,</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                                mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;            <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;cues);</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        }</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160; </div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a>) {</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>  = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(cues);</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;            length_size = <a class="code" href="matroskaenc_8c.html#add73f53ea7abcc785b28b2a25bed9979">ebml_length_size</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += 4 + length_size;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;            <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;                       <span class="stringliteral">&quot;Insufficient space reserved for Cues: &quot;</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                       <span class="stringliteral">&quot;%d &lt; %&quot;</span>PRIu64<span class="stringliteral">&quot;. No Cues will be output.\n&quot;</span>,</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                       mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                ret2 = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                <span class="keywordflow">goto</span> after_cues;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                <span class="keywordflow">if</span> ((ret64 = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad2499d3f5ddce9271d646402671e48c0">cues_pos</a>, SEEK_SET)) &lt; 0) {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                    <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;cues);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                    <span class="keywordflow">return</span> ret64;</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                }</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a> == <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + 1) {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                    <span class="comment">/* There is no way to reserve a single byte because</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="comment">                     * the minimal size of an EBML Void element is 2</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;<span class="comment">                     * (1 byte ID, 1 byte length field). This problem</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;<span class="comment">                     * is solved by writing the Cues&#39; length field on</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="comment">                     * one byte more than necessary. */</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                    length_size++;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>++;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                }</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;            }</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        }</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;cues, mkv, <a class="code" href="matroska_8h.html#ad2ccad4c2dd4da24862efd592464fe45">MATROSKA_ID_CUES</a>,</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;                                    length_size, 0, 1);</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a>) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            <span class="keywordflow">if</span> (size &lt; mkv-&gt;reserve_cues_space)</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                <a class="code" href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">reserve_cues_space</a> - <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;            endpos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    }</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;after_cues:</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="comment">/* Lengths greater than (1ULL &lt;&lt; 56) - 1 can&#39;t be represented</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="comment">     * via an EBML number, so leave the unknown length field. */</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">if</span> (endpos - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">segment_offset</a> &lt; (1ULL &lt;&lt; 56) - 1) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        <span class="keywordflow">if</span> ((ret64 = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">segment_offset</a> - 8, SEEK_SET)) &lt; 0)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;            <span class="keywordflow">return</span> ret64;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <a class="code" href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a>(pb, endpos - mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">segment_offset</a>, 8);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    }</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160; </div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#a132c7253c2dd13b0c5ac08b308bf47af">mkv_write_seekhead</a>(pb, mkv, 1, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">pos</a>);</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160; </div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>) {</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="comment">// update the duration</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;end duration = %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">duration</a>);</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a587ddb7ba92cc6f36965959fff973a70">duration_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        <a class="code" href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="matroska_8h.html#abf37405516119c58b228d1dd9684672d">MATROSKA_ID_DURATION</a>, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">duration</a>);</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">info</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, mkv,</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                                    <a class="code" href="matroska_8h.html#a7068ad8dfc80937a393d9b3dfea8011d">MATROSKA_ID_INFO</a>, 0, 0, 0);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    }</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160; </div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>) {</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;        <span class="comment">// write Tracks master</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;        <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">pos</a>, SEEK_SET);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">track</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, mkv,</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                                    <a class="code" href="matroska_8h.html#a990b4598e2c7a624682404c7a066f54f">MATROSKA_ID_TRACKS</a>, 0, 0, 0);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    }</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160; </div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="comment">// update stream durations</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>) {</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;            <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a>     *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmkv__track.html">mkv_track</a> *track = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160; </div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;            <span class="keywordflow">if</span> (track-&gt;<a class="code" href="structmkv__track.html#af63f6e4e26b8c3d00d4c47cde468dcec">duration_offset</a> &gt; 0) {</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                <span class="keywordtype">double</span> duration_sec = track-&gt;<a class="code" href="structmkv__track.html#a8d5f286059b19873cdbfc95450df4e9e">duration</a> * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                <span class="keywordtype">char</span> duration_string[20] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160; </div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;stream %d end duration = %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;                       track-&gt;<a class="code" href="structmkv__track.html#a8d5f286059b19873cdbfc95450df4e9e">duration</a>);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160; </div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, track-&gt;<a class="code" href="structmkv__track.html#af63f6e4e26b8c3d00d4c47cde468dcec">duration_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160; </div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(duration_string, 20, <span class="stringliteral">&quot;%02d:%02d:%012.9f&quot;</span>,</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                         (<span class="keywordtype">int</span>) duration_sec / 3600, ((<span class="keywordtype">int</span>) duration_sec / 60) % 60,</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;                         fmod(duration_sec, 60));</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;                <a class="code" href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, <a class="code" href="matroska_8h.html#a83dbd8e3ca298b8a87ae1339b3a2b056">MATROSKA_ID_TAGSTRING</a>, duration_string, 20);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            }</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        }</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160; </div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">pos</a>, SEEK_SET);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a>(pb, &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">tags</a>.<a class="code" href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">bc</a>, mkv,</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                                    <a class="code" href="matroska_8h.html#a744de5ec8c34802439d37e8582c908fe">MATROSKA_ID_TAGS</a>, 0, 0, 0);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    }</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160; </div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, endpos, SEEK_SET);</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160; </div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordflow">return</span> ret2;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;}</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160; </div>
<div class="line"><a name="l02611"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aa270b99960f94170acf7e9c8abcefbab"> 2611</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#aa270b99960f94170acf7e9c8abcefbab">mkv_query_codec</a>(<span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>, <span class="keywordtype">int</span> std_compliance)</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;{</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="matroska_8c.html#a7594e2d1eebc7a09a99465051dbdf557">ff_mkv_codec_tags</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_codec_tags.html#aeecb77aca7a22ee2352a858925044a70">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="matroska_8c.html#a7594e2d1eebc7a09a99465051dbdf557">ff_mkv_codec_tags</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">id</span> == <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>)</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160; </div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="keywordflow">if</span> (std_compliance &lt; <a class="code" href="avcodec_8h.html#a661eaec472e284a3b2920647349471dd">FF_COMPLIANCE_NORMAL</a>) {</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="group__lavc__core.html#ga9680ab906f1206deafc521ed54927375">avcodec_get_type</a>(<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>);</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <span class="comment">// mkv theoretically supports any video/audio through VFW/ACM</span></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> || <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    }</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160; </div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;}</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a5e769414b3948e72f43aa8eafe5aa55d"> 2628</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a5e769414b3948e72f43aa8eafe5aa55d">webm_query_codec</a>(<span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>, <span class="keywordtype">int</span> std_compliance)</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;{</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="matroska_8c.html#a38aac419662585e8c82cb923d5423ad9">ff_webm_codec_tags</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_codec_tags.html#aeecb77aca7a22ee2352a858925044a70">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="matroska_8c.html#a38aac419662585e8c82cb923d5423ad9">ff_webm_codec_tags</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">id</span> == <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>)</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160; </div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;}</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160; </div>
<div class="line"><a name="l02638"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a8e8dd4a3b4237c7be5a93f5fafe587d2"> 2638</a></span>&#160;<span class="keyword">static</span> uint64_t <a class="code" href="matroskaenc_8c.html#a8e8dd4a3b4237c7be5a93f5fafe587d2">mkv_get_uid</a>(<span class="keyword">const</span> <a class="code" href="structmkv__track.html">mkv_track</a> *tracks, <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="struct_a_v_l_f_g.html">AVLFG</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;{</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        uint64_t <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        <span class="keywordtype">int</span> k;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>  = (uint64_t)<a class="code" href="lfg_8h.html#a58feb242e560adee0b7a16e11cce43e9">av_lfg_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) &lt;&lt; 32;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;        <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a> |= <a class="code" href="lfg_8h.html#a58feb242e560adee0b7a16e11cce43e9">av_lfg_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>)</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>; k++) {</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;            <span class="keywordflow">if</span> (tracks[k].<a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a> == <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>)</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;        }</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        <span class="keywordflow">if</span> (k == <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a>;</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    }</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;}</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160; </div>
<div class="line"><a name="l02656"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a7fb263a6f8a4a3280815c942fe250aa6"> 2656</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#a7fb263a6f8a4a3280815c942fe250aa6">mkv_init</a>(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;{</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="struct_matroska_mux_context.html">MatroskaMuxContext</a> *mkv = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <a class="code" href="struct_a_v_l_f_g.html">AVLFG</a> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="keywordtype">unsigned</span> nb_tracks = 0;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160; </div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaac96d7eb6ee2d7a2effe3a0d59154c08">AV_CODEC_ID_ATRAC3</a> ||</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa4652899df5ea4061a1cb7f94fa1d758">AV_CODEC_ID_COOK</a> ||</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea64b4d0a85fa2d177c6d72a04b2ab07c3">AV_CODEC_ID_RA_288</a> ||</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea39c05013b9bbca74c12ecc637de96120">AV_CODEC_ID_SIPR</a> ||</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8565d2953c28245356f94c3fde6480ea">AV_CODEC_ID_RV10</a> ||</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab0bbb03eef201676cd723df390cdc795">AV_CODEC_ID_RV20</a>) {</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                   <span class="stringliteral">&quot;The Matroska muxer does not yet support muxing %s\n&quot;</span>,</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                   <a class="code" href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id));</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        }</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    }</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160; </div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avoid_negative_ts &lt; 0) {</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avoid_negative_ts = 1;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;avoid_negative_ts_use_pts = 1;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    }</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160; </div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="keywordflow">if</span> (!strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat-&gt;name, <span class="stringliteral">&quot;webm&quot;</span>)) {</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;        mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a>      = <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a09218e6804fa8a6f404c773c2a03529a">write_crc</a> = 0;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;        mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> = <a class="code" href="matroskaenc_8c.html#a344e49ae7b4a855658d9c1446c42b6cf">MODE_MATROSKAv2</a>;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160; </div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a> = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams, <span class="keyword">sizeof</span>(*mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>));</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <span class="keywordflow">if</span> (!mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>)</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160; </div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a2fa1d95841e62af509ba733a11c1b25b">AVFMT_FLAG_BITEXACT</a>)) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        <a class="code" href="lfg_8c.html#aa8cc657d3dca15bc50a94730a4346d58">av_lfg_init</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="group__lavu__crypto.html#ga4fe662789c7e05a6b63e0c675dbbd7ed">av_get_random_seed</a>());</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160; </div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        <span class="comment">// Calculate the SegmentUID now in order not to waste our random seed.</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ab9f035307ebdc7f5e8aee1a8e8452706">segment_uid</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lfg_8h.html#a58feb242e560adee0b7a16e11cce43e9">av_lfg_get</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    }</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <a class="code" href="structmkv__track.html">mkv_track</a> *track = &amp;mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160; </div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a2fa1d95841e62af509ba733a11c1b25b">AVFMT_FLAG_BITEXACT</a>) {</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;            track-&gt;<a class="code" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">uid</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;            track-&gt;<a class="code" href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">uid</a> = <a class="code" href="matroskaenc_8c.html#a8e8dd4a3b4237c7be5a93f5fafe587d2">mkv_get_uid</a>(mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">tracks</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        }</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160; </div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        <span class="comment">// ms precision is the de-facto standard timescale for mkv files</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 64, 1, 1000);</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a>) {</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;            <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">mode</a> == <a class="code" href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a>) {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Stream %d will be ignored &quot;</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;                       <span class="stringliteral">&quot;as WebM doesn&#39;t support attachments.\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="matroskaenc_8c.html#a38eab35e618853333dd44f9bab7472ff">get_mimetype</a>(st)) {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Attachment stream %d has no mimetype &quot;</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                       <span class="stringliteral">&quot;tag and it cannot be deduced from the codec id.\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;            }</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;            mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ac9603334356675f512a95e4917f77709">nb_attachments</a>++;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;        }</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160; </div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;        nb_tracks++;</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        track-&gt;<a class="code" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">track_num</a> = mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">is_dash</a> ? mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#a7ece633d0161e1bcbb1338dadc9b8472">dash_track_number</a> : nb_tracks;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        track-&gt;<a class="code" href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">track_num_size</a> = <a class="code" href="matroskaenc_8c.html#a0998bb9623eca306bdd2d88ec187f000">ebml_num_size</a>(track-&gt;<a class="code" href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">track_num</a>);</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    }</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160; </div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <span class="keywordflow">if</span> (mkv-&gt;<a class="code" href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">is_dash</a> &amp;&amp; nb_tracks != 1)</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160; </div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;}</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#aec8167d48a068fef2a678bb74135fa19"> 2737</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="matroskaenc_8c.html#aec8167d48a068fef2a678bb74135fa19">mkv_check_bitstream</a>(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;{</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 1;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160; </div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a>) {</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &gt; 2 &amp;&amp; (<a class="code" href="avr32_2intreadwrite_8h.html#a6a4c12ef75a81c72f96410e9d1d8c8e9">AV_RB16</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>) &amp; 0xfff0) == 0xfff0)</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#ac72e380330c591f7e0988dc547b1dd56">ff_stream_add_bitstream_filter</a>(st, <span class="stringliteral">&quot;aac_adtstoasc&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#ac72e380330c591f7e0988dc547b1dd56">ff_stream_add_bitstream_filter</a>(st, <span class="stringliteral">&quot;vp9_superframe&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    }</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160; </div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;}</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160; </div>
<div class="line"><a name="l02752"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a9f03eadc22e174686943c92f3ed3dfb7"> 2752</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> <a class="code" href="matroskaenc_8c.html#a9f03eadc22e174686943c92f3ed3dfb7">additional_audio_tags</a>[] = {</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea81f7bb2a5a480533df028153b1f664c6">AV_CODEC_ID_ALAC</a>,      0XFFFFFFFF },</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead7c47629784f27b6747d581fada0392e">AV_CODEC_ID_MLP</a>,       0xFFFFFFFF },</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c">AV_CODEC_ID_PCM_S16BE</a>, 0xFFFFFFFF },</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8">AV_CODEC_ID_PCM_S24BE</a>, 0xFFFFFFFF },</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1">AV_CODEC_ID_PCM_S32BE</a>, 0xFFFFFFFF },</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf1fd3864a6fd0e82163fd85a0cadbbb0">AV_CODEC_ID_QDMC</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead2cbe7fc8799aad9f808e81723e4452f">AV_CODEC_ID_QDM2</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead80651a95ce787bfdfc7a259702e9e7b">AV_CODEC_ID_RA_144</a>,    0xFFFFFFFF },</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea64b4d0a85fa2d177c6d72a04b2ab07c3">AV_CODEC_ID_RA_288</a>,    0xFFFFFFFF },</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa4652899df5ea4061a1cb7f94fa1d758">AV_CODEC_ID_COOK</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab89325573cab37c7fe7f6003d0134f7e">AV_CODEC_ID_TRUEHD</a>,    0xFFFFFFFF },</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>,      0xFFFFFFFF }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;};</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160; </div>
<div class="line"><a name="l02768"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a2e7108de9aaed01d368b1f3ecbd9efc1"> 2768</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> <a class="code" href="matroskaenc_8c.html#a2e7108de9aaed01d368b1f3ecbd9efc1">additional_video_tags</a>[] = {</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8565d2953c28245356f94c3fde6480ea">AV_CODEC_ID_RV10</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab0bbb03eef201676cd723df390cdc795">AV_CODEC_ID_RV20</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa4566a412c746c9267e2461262d396fd">AV_CODEC_ID_RV30</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>,      0xFFFFFFFF }</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;};</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160; </div>
<div class="line"><a name="l02775"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a496e3c5d459c66add833d749e813bdb7"> 2775</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> <a class="code" href="matroskaenc_8c.html#a496e3c5d459c66add833d749e813bdb7">additional_subtitle_tags</a>[] = {</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1a3f67e556cc61335c6f001ae3c7069f">AV_CODEC_ID_DVB_SUBTITLE</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea2d41739284f633efadccd4b43e906937">AV_CODEC_ID_DVD_SUBTITLE</a>,      0xFFFFFFFF },</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea146a68962f8721fc709e19f5671844d7">AV_CODEC_ID_HDMV_PGS_SUBTITLE</a>, 0xFFFFFFFF },</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>,              0xFFFFFFFF }</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;};</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160; </div>
<div class="line"><a name="l02782"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 2782</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(MatroskaMuxContext, x)</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d"> 2783</a></span>&#160;<span class="preprocessor">#define FLAGS AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"><a class="line" href="matroskaenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6"> 2784</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="matroskaenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    { <span class="stringliteral">&quot;reserve_index_space&quot;</span>, <span class="stringliteral">&quot;Reserve a given amount of space (in bytes) at the beginning of the file for the index (cues).&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reserve_cues_space), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = 0 },   0, INT_MAX,   <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    { <span class="stringliteral">&quot;cluster_size_limit&quot;</span>,  <span class="stringliteral">&quot;Store at most the provided amount of bytes in a cluster. &quot;</span>,                                     <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(cluster_size_limit), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>  , { .i64 = -1 }, -1, INT_MAX,   <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    { <span class="stringliteral">&quot;cluster_time_limit&quot;</span>,  <span class="stringliteral">&quot;Store at most the provided number of milliseconds in a cluster.&quot;</span>,                               <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(cluster_time_limit), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a>, { .i64 = -1 }, -1, INT64_MAX, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    { <span class="stringliteral">&quot;dash&quot;</span>, <span class="stringliteral">&quot;Create a WebM file conforming to WebM DASH specification&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(is_dash), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    { <span class="stringliteral">&quot;dash_track_number&quot;</span>, <span class="stringliteral">&quot;Track number for the DASH stream&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(dash_track_number), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 1 }, 1, INT_MAX, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    { <span class="stringliteral">&quot;live&quot;</span>, <span class="stringliteral">&quot;Write files assuming it is a live stream.&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(is_live), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    { <span class="stringliteral">&quot;allow_raw_vfw&quot;</span>, <span class="stringliteral">&quot;allow RAW VFW mode&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(allow_raw_vfw), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    { <span class="stringliteral">&quot;flipped_raw_rgb&quot;</span>, <span class="stringliteral">&quot;Raw RGB bitmaps in VFW mode are stored bottom-up&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(flipped_raw_rgb), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    { <span class="stringliteral">&quot;write_crc32&quot;</span>, <span class="stringliteral">&quot;write a CRC32 element inside every Level 1 element&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(write_crc), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 1 }, 0, 1, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    { <span class="stringliteral">&quot;default_mode&quot;</span>, <span class="stringliteral">&quot;Controls how a track&#39;s FlagDefault is inferred&quot;</span>, <a class="code" href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(default_mode), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5be651c23e27f7d27c139cbe6729f1d5">DEFAULT_MODE_INFER</a> }, <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5be651c23e27f7d27c139cbe6729f1d5">DEFAULT_MODE_INFER</a>, <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288">DEFAULT_MODE_PASSTHROUGH</a>, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;default_mode&quot;</span> },</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    { <span class="stringliteral">&quot;infer&quot;</span>, <span class="stringliteral">&quot;For each track type, mark the first track of disposition default as default; if none exists, mark the first track as default.&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5be651c23e27f7d27c139cbe6729f1d5">DEFAULT_MODE_INFER</a> }, 0, 0, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;default_mode&quot;</span> },</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    { <span class="stringliteral">&quot;infer_no_subs&quot;</span>, <span class="stringliteral">&quot;For each track type, mark the first track of disposition default as default; for audio and video: if none exists, mark the first track as default.&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba7c21c95c1e0e8f74a432c740f0238609">DEFAULT_MODE_INFER_NO_SUBS</a> }, 0, 0, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;default_mode&quot;</span> },</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    { <span class="stringliteral">&quot;passthrough&quot;</span>, <span class="stringliteral">&quot;Use the disposition flag as-is&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288">DEFAULT_MODE_PASSTHROUGH</a> }, 0, 0, <a class="code" href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a>, <span class="stringliteral">&quot;default_mode&quot;</span> },</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;};</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160; </div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="preprocessor">#if CONFIG_MATROSKA_MUXER</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> matroska_class = {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;matroska muxer&quot;</span>,</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    .option     = <a class="code" href="matroskaenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;};</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> <a class="code" href="allformats_8c.html#ac08b580118fb56c8d50cae561fe4d41d">ff_matroska_muxer</a> = {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    .<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>              = <span class="stringliteral">&quot;matroska&quot;</span>,</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    .long_name         = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Matroska&quot;</span>),</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    .mime_type         = <span class="stringliteral">&quot;video/x-matroska&quot;</span>,</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    .extensions        = <span class="stringliteral">&quot;mkv&quot;</span>,</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    .priv_data_size    = <span class="keyword">sizeof</span>(<a class="code" href="matroskaenc_8c.html#a35b782b756d5a6a7523c48524e5b45b1">MatroskaMuxContext</a>),</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    .audio_codec       = CONFIG_LIBVORBIS_ENCODER ?</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                         <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0">AV_CODEC_ID_AC3</a>,</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    .video_codec       = CONFIG_LIBX264_ENCODER ?</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                         <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a>,</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>              = <a class="code" href="matroskaenc_8c.html#a7fb263a6f8a4a3280815c942fe250aa6">mkv_init</a>,</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    .deinit            = <a class="code" href="matroskaenc_8c.html#ac8293c3af1793e062f39b503a79f8dd1">mkv_deinit</a>,</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    .<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>      = <a class="code" href="matroskaenc_8c.html#a70b56ea90c6353b9789e2fdbf46a1db2">mkv_write_header</a>,</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a>      = <a class="code" href="matroskaenc_8c.html#a54a7c7df3291d237c91f0dba9df2f38f">mkv_write_flush_packet</a>,</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    .<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>     = <a class="code" href="matroskaenc_8c.html#a2ae44dd6db4df863c2cd4093b33e4b8a">mkv_write_trailer</a>,</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>             = <a class="code" href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a> | <a class="code" href="avformat_8h.html#a4d9f21e76a3bf919c74ea40957ef21a7">AVFMT_VARIABLE_FPS</a> |</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                         <a class="code" href="avformat_8h.html#a918dc7abf0d4f7abd36a2ea2a594feaf">AVFMT_TS_NONSTRICT</a> | <a class="code" href="avformat_8h.html#a3b9a2012b993edb9e2ba3db6d55db1ae">AVFMT_ALLOW_FLUSH</a>,</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    .codec_tag         = (<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a>* <span class="keyword">const</span> []){</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;         <a class="code" href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a>, <a class="code" href="riff_8c.html#aeb42da0d9adf5affab3b0f64c2ead98a">ff_codec_wav_tags</a>,</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;         <a class="code" href="matroskaenc_8c.html#a9f03eadc22e174686943c92f3ed3dfb7">additional_audio_tags</a>, <a class="code" href="matroskaenc_8c.html#a2e7108de9aaed01d368b1f3ecbd9efc1">additional_video_tags</a>, <a class="code" href="matroskaenc_8c.html#a496e3c5d459c66add833d749e813bdb7">additional_subtitle_tags</a>, 0</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    },</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    .subtitle_codec    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea98e0491591ea805a932711598edb38cb">AV_CODEC_ID_ASS</a>,</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    .query_codec       = <a class="code" href="matroskaenc_8c.html#aa270b99960f94170acf7e9c8abcefbab">mkv_query_codec</a>,</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    .check_bitstream   = <a class="code" href="matroskaenc_8c.html#aec8167d48a068fef2a678bb74135fa19">mkv_check_bitstream</a>,</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    .priv_class        = &amp;matroska_class,</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;};</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160; </div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;<span class="preprocessor">#if CONFIG_WEBM_MUXER</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> webm_class = {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;webm muxer&quot;</span>,</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    .option     = <a class="code" href="matroskaenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;};</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160; </div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;<a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> <a class="code" href="allformats_8c.html#ad69a69c64d0e031d96762fd3a6d8066f">ff_webm_muxer</a> = {</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    .<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>              = <span class="stringliteral">&quot;webm&quot;</span>,</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    .long_name         = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;WebM&quot;</span>),</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    .mime_type         = <span class="stringliteral">&quot;video/webm&quot;</span>,</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    .extensions        = <span class="stringliteral">&quot;webm&quot;</span>,</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    .priv_data_size    = <span class="keyword">sizeof</span>(<a class="code" href="matroskaenc_8c.html#a35b782b756d5a6a7523c48524e5b45b1">MatroskaMuxContext</a>),</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    .audio_codec       = CONFIG_LIBOPUS_ENCODER ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a>,</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    .video_codec       = CONFIG_LIBVPX_VP9_ENCODER? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>,</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    .subtitle_codec    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea82b722838aa5158de9313be99930618a">AV_CODEC_ID_WEBVTT</a>,</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>              = <a class="code" href="matroskaenc_8c.html#a7fb263a6f8a4a3280815c942fe250aa6">mkv_init</a>,</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    .deinit            = <a class="code" href="matroskaenc_8c.html#ac8293c3af1793e062f39b503a79f8dd1">mkv_deinit</a>,</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    .<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>      = <a class="code" href="matroskaenc_8c.html#a70b56ea90c6353b9789e2fdbf46a1db2">mkv_write_header</a>,</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a>      = <a class="code" href="matroskaenc_8c.html#a54a7c7df3291d237c91f0dba9df2f38f">mkv_write_flush_packet</a>,</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    .<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>     = <a class="code" href="matroskaenc_8c.html#a2ae44dd6db4df863c2cd4093b33e4b8a">mkv_write_trailer</a>,</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    .<a class="code" href="img2enc_8c.html#a699c7f8cecca559365c79219b6d8ecd0">query_codec</a>       = <a class="code" href="matroskaenc_8c.html#a5e769414b3948e72f43aa8eafe5aa55d">webm_query_codec</a>,</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    .<a class="code" href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a>   = <a class="code" href="matroskaenc_8c.html#aec8167d48a068fef2a678bb74135fa19">mkv_check_bitstream</a>,</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>             = <a class="code" href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a> | <a class="code" href="avformat_8h.html#a4d9f21e76a3bf919c74ea40957ef21a7">AVFMT_VARIABLE_FPS</a> |</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                         <a class="code" href="avformat_8h.html#a918dc7abf0d4f7abd36a2ea2a594feaf">AVFMT_TS_NONSTRICT</a> | <a class="code" href="avformat_8h.html#a3b9a2012b993edb9e2ba3db6d55db1ae">AVFMT_ALLOW_FLUSH</a>,</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    .priv_class        = &amp;webm_class,</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;};</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160; </div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="preprocessor">#if CONFIG_MATROSKA_AUDIO_MUXER</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> mka_class = {</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;matroska audio muxer&quot;</span>,</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    .option     = <a class="code" href="matroskaenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;};</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> <a class="code" href="allformats_8c.html#ab07da3004cea7663a266667909c27a52">ff_matroska_audio_muxer</a> = {</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    .<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>              = <span class="stringliteral">&quot;matroska&quot;</span>,</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    .long_name         = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Matroska Audio&quot;</span>),</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    .mime_type         = <span class="stringliteral">&quot;audio/x-matroska&quot;</span>,</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    .extensions        = <span class="stringliteral">&quot;mka&quot;</span>,</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    .priv_data_size    = <span class="keyword">sizeof</span>(<a class="code" href="matroskaenc_8c.html#a35b782b756d5a6a7523c48524e5b45b1">MatroskaMuxContext</a>),</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    .audio_codec       = CONFIG_LIBVORBIS_ENCODER ?</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;                         <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0">AV_CODEC_ID_AC3</a>,</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    .video_codec       = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>,</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>              = <a class="code" href="matroskaenc_8c.html#a7fb263a6f8a4a3280815c942fe250aa6">mkv_init</a>,</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    .deinit            = <a class="code" href="matroskaenc_8c.html#ac8293c3af1793e062f39b503a79f8dd1">mkv_deinit</a>,</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    .<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>      = <a class="code" href="matroskaenc_8c.html#a70b56ea90c6353b9789e2fdbf46a1db2">mkv_write_header</a>,</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a>      = <a class="code" href="matroskaenc_8c.html#a54a7c7df3291d237c91f0dba9df2f38f">mkv_write_flush_packet</a>,</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    .<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>     = <a class="code" href="matroskaenc_8c.html#a2ae44dd6db4df863c2cd4093b33e4b8a">mkv_write_trailer</a>,</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    .<a class="code" href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a>   = <a class="code" href="matroskaenc_8c.html#aec8167d48a068fef2a678bb74135fa19">mkv_check_bitstream</a>,</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>             = <a class="code" href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a> | <a class="code" href="avformat_8h.html#a918dc7abf0d4f7abd36a2ea2a594feaf">AVFMT_TS_NONSTRICT</a> |</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;                         <a class="code" href="avformat_8h.html#a3b9a2012b993edb9e2ba3db6d55db1ae">AVFMT_ALLOW_FLUSH</a>,</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    .codec_tag         = (<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a>* <span class="keyword">const</span> []){</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        <a class="code" href="riff_8c.html#aeb42da0d9adf5affab3b0f64c2ead98a">ff_codec_wav_tags</a>, <a class="code" href="matroskaenc_8c.html#a9f03eadc22e174686943c92f3ed3dfb7">additional_audio_tags</a>, 0</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    },</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    .priv_class        = &amp;mka_class,</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;};</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_a_v_codec_parameters_html_abee943e65d98f9763fa6602a356e774f"><div class="ttname"><a href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">AVCodecParameters::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00084">codec_par.h:84</a></div></div>
<div class="ttc" id="amatroska_8h_html_af269e445231c891044abfe2855c7f2fd"><div class="ttname"><a href="matroska_8h.html#af269e445231c891044abfe2855c7f2fd">MATROSKA_ID_TAGTARGETS_ATTACHUID</a></div><div class="ttdeci">#define MATROSKA_ID_TAGTARGETS_ATTACHUID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00214">matroska.h:214</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga63d5a489b419bd5d45cfd09091cbcbc2"><div class="ttname"><a href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a></div><div class="ttdeci">void av_packet_unref(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00606">avpacket.c:606</a></div></div>
<div class="ttc" id="amatroska_8h_html_a60392de4eac7dd4690c293b7ba102db6"><div class="ttname"><a href="matroska_8h.html#a60392de4eac7dd4690c293b7ba102db6">MATROSKA_ID_VIDEODISPLAYUNIT</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEODISPLAYUNIT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00120">matroska.h:120</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab658a7a9a11f450e86c611d0ae085b03"><div class="ttname"><a href="matroska_8h.html#ab658a7a9a11f450e86c611d0ae085b03">MATROSKA_ID_CODECPRIVATE</a></div><div class="ttdeci">#define MATROSKA_ID_CODECPRIVATE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00089">matroska.h:89</a></div></div>
<div class="ttc" id="amatroska_8h_html_a709d954987abbb2d2f33d95a9990be50"><div class="ttname"><a href="matroska_8h.html#a709d954987abbb2d2f33d95a9990be50">MATROSKA_ID_TRACKNUMBER</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKNUMBER</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00078">matroska.h:78</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div><div class="ttdeci">@ AVMEDIA_TYPE_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00204">avutil.h:204</a></div></div>
<div class="ttc" id="aaf__astats_8c_html_a3fb64d8b9f96155a5d4138e186198917"><div class="ttname"><a href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a></div><div class="ttdeci">static void bit_depth(AudioStatsContext *s, uint64_t mask, uint64_t imask, AVRational *depth)</div><div class="ttdef"><b>Definition:</b> <a href="af__astats_8c_source.html#l00254">af_astats.c:254</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="amatroska_8h_html_a148dee1af3a2b8a704aae5ffcdaa988a"><div class="ttname"><a href="matroska_8h.html#a148dee1af3a2b8a704aae5ffcdaa988a">MATROSKA_ID_CHAPSTRING</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPSTRING</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00255">matroska.h:255</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a7b6319ff7426a0d2fc637a23e30e0d1e"><div class="ttname"><a href="struct_matroska_mux_context.html#a7b6319ff7426a0d2fc637a23e30e0d1e">MatroskaMuxContext::tags</a></div><div class="ttdeci">ebml_stored_master tags</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00128">matroskaenc.c:128</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a8b95f88e8e829308de58389915207e22"><div class="ttname"><a href="matroskaenc_8c.html#a8b95f88e8e829308de58389915207e22">IS_SEEKABLE</a></div><div class="ttdeci">#define IS_SEEKABLE(pb, mkv)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00061">matroskaenc.c:61</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a7fb263a6f8a4a3280815c942fe250aa6"><div class="ttname"><a href="matroskaenc_8c.html#a7fb263a6f8a4a3280815c942fe250aa6">mkv_init</a></div><div class="ttdeci">static int mkv_init(struct AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02656">matroskaenc.c:2656</a></div></div>
<div class="ttc" id="amatroska_8h_html_a0b1b6b2c4c2f27aca407fc39ee0a6542"><div class="ttname"><a href="matroska_8h.html#a0b1b6b2c4c2f27aca407fc39ee0a6542">MATROSKA_ID_TAGTARGETS</a></div><div class="ttdeci">#define MATROSKA_ID_TAGTARGETS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00209">matroska.h:209</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_adb27990ed3d4ad300fd1dde281903508"><div class="ttname"><a href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option name</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00088">writing_filters.txt:88</a></div></div>
<div class="ttc" id="amatroska_8h_html_adfa7b42c249f36689e96fc197db48e94"><div class="ttname"><a href="matroska_8h.html#adfa7b42c249f36689e96fc197db48e94">MATROSKA_ID_CLUSTERTIMECODE</a></div><div class="ttdeci">#define MATROSKA_ID_CLUSTERTIMECODE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00224">matroska.h:224</a></div></div>
<div class="ttc" id="alibavformat_2version_8h_html_a052e19399c636f5fe37639a6625f03ae"><div class="ttname"><a href="libavformat_2version_8h.html#a052e19399c636f5fe37639a6625f03ae">LIBAVFORMAT_IDENT</a></div><div class="ttdeci">#define LIBAVFORMAT_IDENT</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2version_8h_source.html#l00046">version.h:46</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a5576008bdc224db049b1795b3c95fe16"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a5576008bdc224db049b1795b3c95fe16">AVSphericalMapping::projection</a></div><div class="ttdeci">enum AVSphericalProjection projection</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00226">spherical.h:86</a></div></div>
<div class="ttc" id="astruct_m_p_e_g4_audio_config_html"><div class="ttname"><a href="struct_m_p_e_g4_audio_config.html">MPEG4AudioConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="mpeg4audio_8h_source.html#l00033">mpeg4audio.h:33</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a0998bb9623eca306bdd2d88ec187f000"><div class="ttname"><a href="matroskaenc_8c.html#a0998bb9623eca306bdd2d88ec187f000">ebml_num_size</a></div><div class="ttdeci">static int ebml_num_size(uint64_t num)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00205">matroskaenc.c:205</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0">AV_CODEC_ID_AC3</a></div><div class="ttdeci">@ AV_CODEC_ID_AC3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00421">codec_id.h:421</a></div></div>
<div class="ttc" id="aavio_8h_html_a4dbe7c0b3d5c86e46b9991ee805c5e21a20aa5be54fc866e03cfe7f10367b5795"><div class="ttname"><a href="avio_8h.html#a4dbe7c0b3d5c86e46b9991ee805c5e21a20aa5be54fc866e03cfe7f10367b5795">AVIO_DATA_MARKER_BOUNDARY_POINT</a></div><div class="ttdeci">@ AVIO_DATA_MARKER_BOUNDARY_POINT</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00128">avio.h:128</a></div></div>
<div class="ttc" id="amatroskadec_8c_html_ab35f1b370f92df792875b4cf3e3ac6e0"><div class="ttname"><a href="matroskadec_8c.html#ab35f1b370f92df792875b4cf3e3ac6e0">ebml_header</a></div><div class="ttdeci">static EbmlSyntax ebml_header[]</div><div class="ttdef"><b>Definition:</b> <a href="matroskadec_8c_source.html#l00401">matroskadec.c:401</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a35d558fb1b9bc22298d397a61f8a9b02"><div class="ttname"><a href="matroskaenc_8c.html#a35d558fb1b9bc22298d397a61f8a9b02">mkv_write_packet</a></div><div class="ttdeci">static int mkv_write_packet(AVFormatContext *s, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02363">matroskaenc.c:2363</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="amatroska_8h_html_a349fbbf386af5df175a01aeeca3cced2"><div class="ttname"><a href="matroska_8h.html#a349fbbf386af5df175a01aeeca3cced2">MATROSKA_ID_TITLE</a></div><div class="ttdeci">#define MATROSKA_ID_TITLE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00068">matroska.h:68</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="amxfenc_8c_html_a99613136a67953261099533d962f9ac4"><div class="ttname"><a href="mxfenc_8c.html#a99613136a67953261099533d962f9ac4">uid</a></div><div class="ttdeci">UID uid</div><div class="ttdef"><b>Definition:</b> <a href="mxfenc_8c_source.html#l02165">mxfenc.c:2165</a></div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a5b415e84bdb0ac9cbeea36707ace940a"><div class="ttname"><a href="struct_matroska_mux_context.html#a5b415e84bdb0ac9cbeea36707ace940a">MatroskaMuxContext::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00125">matroskaenc.c:125</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_af8d53582576b0ae3d2649a9a2ca09645"><div class="ttname"><a href="matroskaenc_8c.html#af8d53582576b0ae3d2649a9a2ca09645">put_ebml_size_unknown</a></div><div class="ttdeci">static void put_ebml_size_unknown(AVIOContext *pb, int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00194">matroskaenc.c:194</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a1d4bdfddade5208f9c2e8b181476ce92"><div class="ttname"><a href="matroskaenc_8c.html#a1d4bdfddade5208f9c2e8b181476ce92">mkv_write_packet_internal</a></div><div class="ttdeci">static int mkv_write_packet_internal(AVFormatContext *s, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02271">matroskaenc.c:2271</a></div></div>
<div class="ttc" id="alibavformat_2hevc_8h_html"><div class="ttname"><a href="libavformat_2hevc_8h.html">hevc.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a77077149eb55d087c0d919665ccec599"><div class="ttname"><a href="matroska_8h.html#a77077149eb55d087c0d919665ccec599">MATROSKA_ID_VIDEOCOLORMASTERINGMETA</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORMASTERINGMETA</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00144">matroska.h:144</a></div></div>
<div class="ttc" id="astruct_a_v_content_light_metadata_html_a9d2d7743a599c9b2f2a07a9504625b92"><div class="ttname"><a href="struct_a_v_content_light_metadata.html#a9d2d7743a599c9b2f2a07a9504625b92">AVContentLightMetadata::MaxCLL</a></div><div class="ttdeci">unsigned MaxCLL</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00102">mastering_display_metadata.h:102</a></div></div>
<div class="ttc" id="alfg_8c_html_aa8cc657d3dca15bc50a94730a4346d58"><div class="ttname"><a href="lfg_8c.html#aa8cc657d3dca15bc50a94730a4346d58">av_lfg_init</a></div><div class="ttdeci">av_cold void av_lfg_init(AVLFG *c, unsigned int seed)</div><div class="ttdef"><b>Definition:</b> <a href="lfg_8c_source.html#l00032">lfg.c:32</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab39878541c55a2ed4099bfc64934d298"><div class="ttname"><a href="matroska_8h.html#ab39878541c55a2ed4099bfc64934d298">EBML_ID_EBMLMAXSIZELENGTH</a></div><div class="ttdeci">#define EBML_ID_EBMLMAXSIZELENGTH</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00039">matroska.h:39</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a7ece633d0161e1bcbb1338dadc9b8472"><div class="ttname"><a href="struct_matroska_mux_context.html#a7ece633d0161e1bcbb1338dadc9b8472">MatroskaMuxContext::dash_track_number</a></div><div class="ttdeci">int dash_track_number</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00155">matroskaenc.c:155</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ad47caa977014fb3a5bd5f97d2f8ae198"><div class="ttname"><a href="matroskaenc_8c.html#ad47caa977014fb3a5bd5f97d2f8ae198">end_ebml_master_crc32</a></div><div class="ttdeci">static int end_ebml_master_crc32(AVIOContext *pb, AVIOContext **dyn_cp, MatroskaMuxContext *mkv, uint32_t id, int length_size, int keep_buffer, int add_seekentry)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00381">matroskaenc.c:381</a></div></div>
<div class="ttc" id="aavformat_8h_html_a4d9f21e76a3bf919c74ea40957ef21a7"><div class="ttname"><a href="avformat_8h.html#a4d9f21e76a3bf919c74ea40957ef21a7">AVFMT_VARIABLE_FPS</a></div><div class="ttdeci">#define AVFMT_VARIABLE_FPS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00465">avformat.h:465</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga9680ab906f1206deafc521ed54927375"><div class="ttname"><a href="group__lavc__core.html#ga9680ab906f1206deafc521ed54927375">avcodec_get_type</a></div><div class="ttdeci">enum AVMediaType avcodec_get_type(enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8c_source.html#l03472">codec_desc.c:3482</a></div></div>
<div class="ttc" id="amatroska_8h_html_a2b7bc31011d1c6fe9a741627b5005b1d"><div class="ttname"><a href="matroska_8h.html#a2b7bc31011d1c6fe9a741627b5005b1d">MATROSKA_ID_VIDEOPIXELWIDTH</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPIXELWIDTH</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00114">matroska.h:114</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690cace38be42d6d34a74b430dd9d07e4acdf"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cace38be42d6d34a74b430dd9d07e4acdf">MATROSKA_VIDEO_STEREOMODE_TYPE_CHECKERBOARD_LR</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_CHECKERBOARD_LR</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00307">matroska.h:307</a></div></div>
<div class="ttc" id="astructmkv__track_html_a8d5f286059b19873cdbfc95450df4e9e"><div class="ttname"><a href="structmkv__track.html#a8d5f286059b19873cdbfc95450df4e9e">mkv_track::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00114">matroskaenc.c:114</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae914a2c95f62116ce22baf5c0ffcc940"><div class="ttname"><a href="matroska_8h.html#ae914a2c95f62116ce22baf5c0ffcc940">MATROSKA_ID_AUDIOSAMPLINGFREQ</a></div><div class="ttdeci">#define MATROSKA_ID_AUDIOSAMPLINGFREQ</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00164">matroska.h:164</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a24eb692c424e64f8058e019bb776a959"><div class="ttname"><a href="matroskaenc_8c.html#a24eb692c424e64f8058e019bb776a959">OPUS_SEEK_PREROLL</a></div><div class="ttdeci">#define OPUS_SEEK_PREROLL</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00175">matroskaenc.c:175</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a344e49ae7b4a855658d9c1446c42b6cf"><div class="ttname"><a href="matroskaenc_8c.html#a344e49ae7b4a855658d9c1446c42b6cf">MODE_MATROSKAv2</a></div><div class="ttdeci">#define MODE_MATROSKAv2</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00120">matroskaenc.c:120</a></div></div>
<div class="ttc" id="ariff_8h_html_a62b093de5e772b0a600fe92e83b4b284"><div class="ttname"><a href="riff_8h.html#a62b093de5e772b0a600fe92e83b4b284">ff_put_bmp_header</a></div><div class="ttdeci">void ff_put_bmp_header(AVIOContext *pb, AVCodecParameters *par, int for_asf, int ignore_extradata, int rgb_frame_is_flipped)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00215">riffenc.c:215</a></div></div>
<div class="ttc" id="arational_8h_html"><div class="ttname"><a href="rational_8h.html">rational.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a044c47bdd9c269ea1d14e8f8608943d0"><div class="ttname"><a href="matroska_8h.html#a044c47bdd9c269ea1d14e8f8608943d0">MATROSKA_ID_DISCARDPADDING</a></div><div class="ttdeci">#define MATROSKA_ID_DISCARDPADDING</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00239">matroska.h:239</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gafd07a13a4ddaa6015275cad6022d9ee3"><div class="ttname"><a href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a></div><div class="ttdeci">#define AV_TIME_BASE_Q</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00260">avutil.h:260</a></div></div>
<div class="ttc" id="amatroska_8h_html_a788611401fb49eb68bbc90c69f5a5f0daa26e02c03ca046bcab5905ec6c02a1a2"><div class="ttname"><a href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0daa26e02c03ca046bcab5905ec6c02a1a2">MATROSKA_VIDEO_FIELDORDER_BB</a></div><div class="ttdeci">@ MATROSKA_VIDEO_FIELDORDER_BB</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00296">matroska.h:296</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a80cfa6a315a70a3a9df58e55309cd705"><div class="ttname"><a href="matroskaenc_8c.html#a80cfa6a315a70a3a9df58e55309cd705">mkv_track</a></div><div class="ttdeci">struct mkv_track mkv_track</div></div>
<div class="ttc" id="amatroska_8h_html_abf37405516119c58b228d1dd9684672d"><div class="ttname"><a href="matroska_8h.html#abf37405516119c58b228d1dd9684672d">MATROSKA_ID_DURATION</a></div><div class="ttdeci">#define MATROSKA_ID_DURATION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00067">matroska.h:67</a></div></div>
<div class="ttc" id="amatroska_8h_html_a745f5f078fa9e2016a410876741ef968"><div class="ttname"><a href="matroska_8h.html#a745f5f078fa9e2016a410876741ef968">MATROSKA_ID_VIDEOCOLORCHROMASITINGVERT</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORCHROMASITINGVERT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00136">matroska.h:136</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html"><div class="ttname"><a href="struct_a_v_i_o_context.html">AVIOContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00161">avio.h:161</a></div></div>
<div class="ttc" id="aavlanguage_8h_html"><div class="ttname"><a href="avlanguage_8h.html">avlanguage.h</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga4c60b7d4ce023a6466bc033e31c5349c"><div class="ttname"><a href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a></div><div class="ttdeci">int av_strcasecmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00215">avstring.c:215</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab104830568007bd594ada40776f5b84f"><div class="ttname"><a href="matroska_8h.html#ab104830568007bd594ada40776f5b84f">MATROSKA_ID_VIDEOCOLORPRIMARIES</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORPRIMARIES</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00140">matroska.h:140</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a></div><div class="ttdeci">@ AV_CODEC_ID_RAWVIDEO</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00062">codec_id.h:62</a></div></div>
<div class="ttc" id="amatroska_8h_html_af3bfbf19d13bfde894156bc7339e6368"><div class="ttname"><a href="matroska_8h.html#af3bfbf19d13bfde894156bc7339e6368">MATROSKA_ID_SEGMENT</a></div><div class="ttdeci">#define MATROSKA_ID_SEGMENT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00053">matroska.h:53</a></div></div>
<div class="ttc" id="aavformat_8h_html_af09f200b4cd9bf0baa05671436eef2fb"><div class="ttname"><a href="avformat_8h.html#af09f200b4cd9bf0baa05671436eef2fb">AV_DISPOSITION_DEFAULT</a></div><div class="ttdeci">#define AV_DISPOSITION_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00814">avformat.h:814</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG4</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00061">codec_id.h:61</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead80651a95ce787bfdfc7a259702e9e7b"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead80651a95ce787bfdfc7a259702e9e7b">AV_CODEC_ID_RA_144</a></div><div class="ttdeci">@ AV_CODEC_ID_RA_144</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00404">codec_id.h:404</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_aca8ea44b037c44ab3887433f4d3f88bd"><div class="ttname"><a href="struct_matroska_mux_context.html#aca8ea44b037c44ab3887433f4d3f88bd">MatroskaMuxContext::cluster_bc</a></div><div class="ttdeci">AVIOContext * cluster_bc</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00130">matroskaenc.c:130</a></div></div>
<div class="ttc" id="amatroska_8h_html_a2299835dc7fb5223e2bccd6fc0409ab7"><div class="ttname"><a href="matroska_8h.html#a2299835dc7fb5223e2bccd6fc0409ab7">MATROSKA_ID_CHAPTERS</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPTERS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00063">matroska.h:63</a></div></div>
<div class="ttc" id="amem_8c_html_aadc230ece36ef112710b262a6601a16b"><div class="ttname"><a href="mem_8c.html#aadc230ece36ef112710b262a6601a16b">av_realloc_array</a></div><div class="ttdeci">void * av_realloc_array(void *ptr, size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00198">mem.c:198</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad4791ea14975f098b649db7fcd731ce6afd90c992604891bb6ee498b1bae6bb56"><div class="ttname"><a href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6afd90c992604891bb6ee498b1bae6bb56">AVCOL_TRC_NB</a></div><div class="ttdeci">@ AVCOL_TRC_NB</div><div class="ttdoc">Not part of ABI.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00506">pixfmt.h:505</a></div></div>
<div class="ttc" id="amatroska_8h_html_a4d00b9ffbedcaec0dc434fafa3cd4bf9"><div class="ttname"><a href="matroska_8h.html#a4d00b9ffbedcaec0dc434fafa3cd4bf9">MATROSKA_ID_VIDEOCOLOR_BY</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_BY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00150">matroska.h:150</a></div></div>
<div class="ttc" id="amatroska_8h_html_a32c4e986808a0316333175493fc85a1c"><div class="ttname"><a href="matroska_8h.html#a32c4e986808a0316333175493fc85a1c">MATROSKA_ID_BLOCKDURATION</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCKDURATION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00236">matroska.h:236</a></div></div>
<div class="ttc" id="amatroska_8h_html_aa4fbf9a75ad7a05e65759ac1eb2ec184"><div class="ttname"><a href="matroska_8h.html#aa4fbf9a75ad7a05e65759ac1eb2ec184">MATROSKA_ID_VIDEOCOLORRANGE</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORRANGE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00137">matroska.h:137</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a51639f88aef9f4f283f538a0c033fbb8"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">AVCodecParameters::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00126">codec_par.h:126</a></div></div>
<div class="ttc" id="amatroska_8h_html_a795486eda970d13072477e5834ce6664"><div class="ttname"><a href="matroska_8h.html#a795486eda970d13072477e5834ce6664">MATROSKA_ID_BLOCK</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00235">matroska.h:235</a></div></div>
<div class="ttc" id="amatroska_8h_html_a939de194b8d10f9358b2c7505d5c23cb"><div class="ttname"><a href="matroska_8h.html#a939de194b8d10f9358b2c7505d5c23cb">MATROSKA_ID_TRACKDEFAULTDURATION</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKDEFAULTDURATION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00104">matroska.h:104</a></div></div>
<div class="ttc" id="avorbiscomment_8h_html"><div class="ttname"><a href="vorbiscomment_8h.html">vorbiscomment.h</a></div></div>
<div class="ttc" id="abuild__system_8txt_html_ad91f0a8cb92523cf37ea5123b01b7994"><div class="ttname"><a href="build__system_8txt.html#ad91f0a8cb92523cf37ea5123b01b7994">targets</a></div><div class="ttdeci">FFmpeg currently uses a custom build this text attempts to document some of its obscure features and options Makefile the full command issued by make and its output will be shown on the screen DBG Preprocess x86 external assembler files to a dbg asm file in the object which then gets compiled Helps in developing those assembler files DESTDIR Destination directory for the install targets</div><div class="ttdef"><b>Definition:</b> <a href="build__system_8txt_source.html#l00016">build_system.txt:16</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ace22579687f65e81ba4f8dce90288a34"><div class="ttname"><a href="matroskaenc_8c.html#ace22579687f65e81ba4f8dce90288a34">put_xiph_size</a></div><div class="ttdeci">static void put_xiph_size(AVIOContext *pb, int size)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00441">matroskaenc.c:441</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a6bc76afe32d243e2af17af6c56cc6d50"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a6bc76afe32d243e2af17af6c56cc6d50">AVCOL_SPC_NB</a></div><div class="ttdeci">@ AVCOL_SPC_NB</div><div class="ttdoc">Not part of ABI.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00530">pixfmt.h:529</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab"><div class="ttname"><a href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab">AVCOL_TRC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_TRC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00486">pixfmt.h:486</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_afd2d38dbc4338142d73bbd42c59ac186"><div class="ttname"><a href="intreadwrite_8h.html#afd2d38dbc4338142d73bbd42c59ac186">AV_WB64</a></div><div class="ttdeci">#define AV_WB64(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00311">intreadwrite.h:311</a></div></div>
<div class="ttc" id="astructmkv__track_html_af63f6e4e26b8c3d00d4c47cde468dcec"><div class="ttname"><a href="structmkv__track.html#af63f6e4e26b8c3d00d4c47cde468dcec">mkv_track::duration_offset</a></div><div class="ttdeci">int64_t duration_offset</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00115">matroskaenc.c:115</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a4100d4846f8f37a394190984e507ec0c"><div class="ttname"><a href="matroskaenc_8c.html#a4100d4846f8f37a394190984e507ec0c">ebml_master</a></div><div class="ttdeci">struct ebml_master ebml_master</div></div>
<div class="ttc" id="amatroskaenc_8c_html_a96140d68a157d9901352956ff6e315ec"><div class="ttname"><a href="matroskaenc_8c.html#a96140d68a157d9901352956ff6e315ec">mkv_seekhead_entry</a></div><div class="ttdeci">struct mkv_seekhead_entry mkv_seekhead_entry</div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="amatroska_8h_html_a6fb466afd9fecb7c6dd18fcc6c4deb9ba00310fd420f5b3912bd5f1cd32137bc0"><div class="ttname"><a href="matroska_8h.html#a6fb466afd9fecb7c6dd18fcc6c4deb9ba00310fd420f5b3912bd5f1cd32137bc0">MATROSKA_VIDEO_INTERLACE_FLAG_INTERLACED</a></div><div class="ttdeci">@ MATROSKA_VIDEO_INTERLACE_FLAG_INTERLACED</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00288">matroska.h:288</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_adaa4c84c216d56390a3bdec321bd8fac"><div class="ttname"><a href="matroskaenc_8c.html#adaa4c84c216d56390a3bdec321bd8fac">mkv_write_attachments</a></div><div class="ttdeci">static int mkv_write_attachments(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01718">matroskaenc.c:1718</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a6a4c12ef75a81c72f96410e9d1d8c8e9"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a6a4c12ef75a81c72f96410e9d1d8c8e9">AV_RB16</a></div><div class="ttdeci">#define AV_RB16</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00053">intreadwrite.h:53</a></div></div>
<div class="ttc" id="astruct_codec_tags_html_aeecb77aca7a22ee2352a858925044a70"><div class="ttname"><a href="struct_codec_tags.html#aeecb77aca7a22ee2352a858925044a70">CodecTags::id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00354">matroska.h:355</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea81f7bb2a5a480533df028153b1f664c6"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea81f7bb2a5a480533df028153b1f664c6">AV_CODEC_ID_ALAC</a></div><div class="ttdeci">@ AV_CODEC_ID_ALAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00434">codec_id.h:434</a></div></div>
<div class="ttc" id="amatroska_8h_html_a6bf56d707dda6ee275225daf3f21e307"><div class="ttname"><a href="matroska_8h.html#a6bf56d707dda6ee275225daf3f21e307">MATROSKA_ID_DATEUTC</a></div><div class="ttdeci">#define MATROSKA_ID_DATEUTC</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00071">matroska.h:71</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a5b06ef81d9d638787641cccf213d2b9d"><div class="ttname"><a href="matroskaenc_8c.html#a5b06ef81d9d638787641cccf213d2b9d">ebml_id_size</a></div><div class="ttdeci">static int ebml_id_size(uint32_t id)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00177">matroskaenc.c:177</a></div></div>
<div class="ttc" id="aflacenc_8h_html"><div class="ttname"><a href="flacenc_8h.html">flacenc.h</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_ab0ada0e011ce230ec7c6fc9f600bf89c"><div class="ttname"><a href="libavformat_2internal_8h.html#ab0ada0e011ce230ec7c6fc9f600bf89c">ff_parse_creation_time_metadata</a></div><div class="ttdeci">int ff_parse_creation_time_metadata(AVFormatContext *s, int64_t *timestamp, int return_seconds)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05630">utils.c:5630</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga341bbd1ea599dfb0510f419e5272fecc"><div class="ttname"><a href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a></div><div class="ttdeci">#define AV_DICT_IGNORE_SUFFIX</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00071">dict.h:70</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690cab7dc2153fb882f034ec6daf936b7c491"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab7dc2153fb882f034ec6daf936b7c491">MATROSKA_VIDEO_STEREOMODE_TYPE_BOTH_EYES_BLOCK_LR</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_BOTH_EYES_BLOCK_LR</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00315">matroska.h:315</a></div></div>
<div class="ttc" id="amatroska_8h_html"><div class="ttname"><a href="matroska_8h.html">matroska.h</a></div></div>
<div class="ttc" id="ariff_8c_html_aeb42da0d9adf5affab3b0f64c2ead98a"><div class="ttname"><a href="riff_8c.html#aeb42da0d9adf5affab3b0f64c2ead98a">ff_codec_wav_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_wav_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="riff_8c_source.html#l00507">riff.c:507</a></div></div>
<div class="ttc" id="astructmkv__track_html_a52ef3581c395804cafb33dbcae6d50cc"><div class="ttname"><a href="structmkv__track.html#a52ef3581c395804cafb33dbcae6d50cc">mkv_track::ts_offset</a></div><div class="ttdeci">int64_t ts_offset</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00117">matroskaenc.c:117</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_aea05abdb8e45405048d7923a68c23ef5"><div class="ttname"><a href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">AVStream::disposition</a></div><div class="ttdeci">int disposition</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00922">avformat.h:922</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aa1e53c9af2c98ed514f8474cb5215c32"><div class="ttname"><a href="matroskaenc_8c.html#aa1e53c9af2c98ed514f8474cb5215c32">put_ebml_binary</a></div><div class="ttdeci">static void put_ebml_binary(AVIOContext *pb, uint32_t elementid, const void *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00299">matroskaenc.c:299</a></div></div>
<div class="ttc" id="aav1_8c_html_a60d184198b8abbf71766e3d5fcf0d6d2"><div class="ttname"><a href="av1_8c.html#a60d184198b8abbf71766e3d5fcf0d6d2">ff_isom_write_av1c</a></div><div class="ttdeci">int ff_isom_write_av1c(AVIOContext *pb, const uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="av1_8c_source.html#l00364">av1.c:364</a></div></div>
<div class="ttc" id="agroup__lavu__video__spherical_html_gga689eeb8cf9b453f3619f3cf626e03a08a768257247d4090b959ee1678f67bc9d3"><div class="ttname"><a href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08a768257247d4090b959ee1678f67bc9d3">AV_SPHERICAL_EQUIRECTANGULAR_TILE</a></div><div class="ttdeci">@ AV_SPHERICAL_EQUIRECTANGULAR_TILE</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00072">spherical.h:72</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00033">cuda_runtime.h:33</a></div></div>
<div class="ttc" id="amathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_ad2ccad4c2dd4da24862efd592464fe45"><div class="ttname"><a href="matroska_8h.html#ad2ccad4c2dd4da24862efd592464fe45">MATROSKA_ID_CUES</a></div><div class="ttdeci">#define MATROSKA_ID_CUES</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00058">matroska.h:58</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a></div><div class="ttdeci">@ AV_CODEC_ID_FLAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00430">codec_id.h:430</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a7e8a89ee1e117a876c1a797049222e98"><div class="ttname"><a href="struct_matroska_mux_context.html#a7e8a89ee1e117a876c1a797049222e98">MatroskaMuxContext::seekhead</a></div><div class="ttdeci">mkv_seekhead seekhead</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00136">matroskaenc.c:136</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_ad2363a9a16b5674b5232c288a3e031cf"><div class="ttname"><a href="struct_a_v_codec_parameters.html#ad2363a9a16b5674b5232c288a3e031cf">AVCodecParameters::initial_padding</a></div><div class="ttdeci">int initial_padding</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00189">codec_par.h:189</a></div></div>
<div class="ttc" id="amatroska_8h_html_a48e9bf9f0e44af7900306e7a7fb7af6b"><div class="ttname"><a href="matroska_8h.html#a48e9bf9f0e44af7900306e7a7fb7af6b">MATROSKA_ID_CUETIME</a></div><div class="ttdeci">#define MATROSKA_ID_CUETIME</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00191">matroska.h:191</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a73b56e906c97a1c095e8e615d072637b"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a73b56e906c97a1c095e8e615d072637b">AV_PKT_DATA_SPHERICAL</a></div><div class="ttdeci">@ AV_PKT_DATA_SPHERICAL</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00228">packet.h:228</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html">AVMasteringDisplayMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00038">mastering_display_metadata.h:38</a></div></div>
<div class="ttc" id="amatroska_8h_html_a11a3a12dfac32a3fed0d68b681ba224c"><div class="ttname"><a href="matroska_8h.html#a11a3a12dfac32a3fed0d68b681ba224c">MATROSKA_ID_CUERELATIVEPOSITION</a></div><div class="ttdeci">#define MATROSKA_ID_CUERELATIVEPOSITION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00197">matroska.h:197</a></div></div>
<div class="ttc" id="ampeg4audio_8h_html_a4cb13441e2c38d662ad4f5625dbbe1d1"><div class="ttname"><a href="mpeg4audio_8h.html#a4cb13441e2c38d662ad4f5625dbbe1d1">MAX_PCE_SIZE</a></div><div class="ttdeci">#define MAX_PCE_SIZE</div><div class="ttdoc">marker and the comment</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4audio_8h_source.html#l00135">mpeg4audio.h:134</a></div></div>
<div class="ttc" id="aflacenc_8h_html_ac32c2fb56e188f46dc38ce92798f344e"><div class="ttname"><a href="flacenc_8h.html#ac32c2fb56e188f46dc38ce92798f344e">ff_flac_is_native_layout</a></div><div class="ttdeci">int ff_flac_is_native_layout(uint64_t channel_layout)</div><div class="ttdef"><b>Definition:</b> <a href="flacenc__header_8c_source.html#l00050">flacenc_header.c:50</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea146a68962f8721fc709e19f5671844d7"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea146a68962f8721fc709e19f5671844d7">AV_CODEC_ID_HDMV_PGS_SUBTITLE</a></div><div class="ttdeci">@ AV_CODEC_ID_HDMV_PGS_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00523">codec_id.h:523</a></div></div>
<div class="ttc" id="agroup__lavu__video__spherical_html_gga689eeb8cf9b453f3619f3cf626e03a08a55efbae149ee7a6e327a66be7061d146"><div class="ttname"><a href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08a55efbae149ee7a6e327a66be7061d146">AV_SPHERICAL_EQUIRECTANGULAR</a></div><div class="ttdeci">@ AV_SPHERICAL_EQUIRECTANGULAR</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00056">spherical.h:56</a></div></div>
<div class="ttc" id="aintfloat_8h_html"><div class="ttname"><a href="intfloat_8h.html">intfloat.h</a></div></div>
<div class="ttc" id="artp_8c_html_a550d0fd0475cc25c2e1fec3e15acaffb"><div class="ttname"><a href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="rtp_8c_source.html#l00036">rtp.c:37</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae5801740febf91a4342af20e1585b200"><div class="ttname"><a href="matroska_8h.html#ae5801740febf91a4342af20e1585b200">MATROSKA_ID_CHAPLANG</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPLANG</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00256">matroska.h:256</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceab89325573cab37c7fe7f6003d0134f7e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab89325573cab37c7fe7f6003d0134f7e">AV_CODEC_ID_TRUEHD</a></div><div class="ttdeci">@ AV_CODEC_ID_TRUEHD</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00462">codec_id.h:462</a></div></div>
<div class="ttc" id="amatroska_8h_html_aadcf18c68f7cccfd0e48c420ba8b1ea7"><div class="ttname"><a href="matroska_8h.html#aadcf18c68f7cccfd0e48c420ba8b1ea7">MATROSKA_ID_CUEDURATION</a></div><div class="ttdeci">#define MATROSKA_ID_CUEDURATION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00198">matroska.h:198</a></div></div>
<div class="ttc" id="aavio_8h_html_af2d626b0d21721fdc91ac20b5664cf5f"><div class="ttname"><a href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a></div><div class="ttdeci">int avio_get_dyn_buf(AVIOContext *s, uint8_t **pbuffer)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01395">aviobuf.c:1395</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a9feef5270e0e54f103868362df0cd27a"><div class="ttname"><a href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a></div><div class="ttdeci">sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ab676ab5c3207e9550efdb195c7a7beea"><div class="ttname"><a href="struct_matroska_mux_context.html#ab676ab5c3207e9550efdb195c7a7beea">MatroskaMuxContext::track</a></div><div class="ttdeci">ebml_stored_master track</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00127">matroskaenc.c:127</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690caefbd93fc4655e032ff6ef6c3519d217a"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690caefbd93fc4655e032ff6ef6c3519d217a">MATROSKA_VIDEO_STEREOMODE_TYPE_ROW_INTERLEAVED_LR</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_ROW_INTERLEAVED_LR</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00309">matroska.h:309</a></div></div>
<div class="ttc" id="astruct_m_p_e_g4_audio_config_html_a1bfd3ab0720ccba2cc485e285cc7492e"><div class="ttname"><a href="struct_m_p_e_g4_audio_config.html#a1bfd3ab0720ccba2cc485e285cc7492e">MPEG4AudioConfig::ext_sample_rate</a></div><div class="ttdeci">int ext_sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4audio_8h_source.html#l00041">mpeg4audio.h:41</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ab9f035307ebdc7f5e8aee1a8e8452706"><div class="ttname"><a href="struct_matroska_mux_context.html#ab9f035307ebdc7f5e8aee1a8e8452706">MatroskaMuxContext::segment_uid</a></div><div class="ttdeci">uint32_t segment_uid[4]</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00160">matroskaenc.c:160</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9befe0b86412646017afb0051d144d13"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">AVCodecParameters::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00074">codec_par.h:74</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="agroup__lavu__crypto_html_ga4fe662789c7e05a6b63e0c675dbbd7ed"><div class="ttname"><a href="group__lavu__crypto.html#ga4fe662789c7e05a6b63e0c675dbbd7ed">av_get_random_seed</a></div><div class="ttdeci">uint32_t av_get_random_seed(void)</div><div class="ttdef"><b>Definition:</b> <a href="random__seed_8c_source.html#l00120">random_seed.c:120</a></div></div>
<div class="ttc" id="axiph_8h_html"><div class="ttname"><a href="xiph_8h.html">xiph.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_aef3aac1f30a9abab80729c6b079789b3a306d0870b182e54bf8d07287e0e11897"><div class="ttname"><a href="matroska_8h.html#aef3aac1f30a9abab80729c6b079789b3a306d0870b182e54bf8d07287e0e11897">MATROSKA_VIDEO_DISPLAYUNIT_UNKNOWN</a></div><div class="ttdeci">@ MATROSKA_VIDEO_DISPLAYUNIT_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00325">matroska.h:325</a></div></div>
<div class="ttc" id="amatroska_8h_html_a7894b26ac51b2d67f387efb0cd3c2d53"><div class="ttname"><a href="matroska_8h.html#a7894b26ac51b2d67f387efb0cd3c2d53">MATROSKA_ID_VIDEOCOLOR_LUMINANCEMAX</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_LUMINANCEMAX</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00153">matroska.h:153</a></div></div>
<div class="ttc" id="acrc_8h_html"><div class="ttname"><a href="crc_8h.html">crc.h</a></div></div>
<div class="ttc" id="aavio_8h_html_a1ba843eb6d34706bbdd177a4256e71e2"><div class="ttname"><a href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a></div><div class="ttdeci">void avio_wl16(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00459">aviobuf.c:459</a></div></div>
<div class="ttc" id="aavio_8h_html_a03e0cde48d492b5433e136152e47cb4c"><div class="ttname"><a href="avio_8h.html#a03e0cde48d492b5433e136152e47cb4c">avio_write_marker</a></div><div class="ttdeci">void avio_write_marker(AVIOContext *s, int64_t time, enum AVIODataMarkerType type)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00483">aviobuf.c:483</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab03269e1d452bbdf54597d0a4781efa7"><div class="ttname"><a href="matroska_8h.html#ab03269e1d452bbdf54597d0a4781efa7">MATROSKA_ID_VIDEOCOLOR_WHITEY</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_WHITEY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00152">matroska.h:152</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6aaa1ee993fc27f99269c536c51b0b5f3c"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6aaa1ee993fc27f99269c536c51b0b5f3c">AV_STEREO3D_SIDEBYSIDE</a></div><div class="ttdeci">@ AV_STEREO3D_SIDEBYSIDE</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00067">stereo3d.h:67</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga29744651709d05d125982e6ca20fcd95"><div class="ttname"><a href="group__lavc__decoding.html#ga29744651709d05d125982e6ca20fcd95">avcodec_enum_to_chroma_pos</a></div><div class="ttdeci">int avcodec_enum_to_chroma_pos(int *xpos, int *ypos, enum AVChromaLocation pos)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00355">utils.c:355</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aeacdd6f8ff66eb85d9c22c3179802919"><div class="ttname"><a href="matroskaenc_8c.html#aeacdd6f8ff66eb85d9c22c3179802919">start_ebml_master</a></div><div class="ttdeci">static ebml_master start_ebml_master(AVIOContext *pb, uint32_t elementid, uint64_t expectedsize)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00337">matroskaenc.c:337</a></div></div>
<div class="ttc" id="astruct_a_v_stereo3_d_html"><div class="ttname"><a href="struct_a_v_stereo3_d.html">AVStereo3D</a></div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00176">stereo3d.h:176</a></div></div>
<div class="ttc" id="aallformats_8c_html_ab07da3004cea7663a266667909c27a52"><div class="ttname"><a href="allformats_8c.html#ab07da3004cea7663a266667909c27a52">ff_matroska_audio_muxer</a></div><div class="ttdeci">AVOutputFormat ff_matroska_audio_muxer</div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea98e0491591ea805a932711598edb38cb"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea98e0491591ea805a932711598edb38cb">AV_CODEC_ID_ASS</a></div><div class="ttdeci">@ AV_CODEC_ID_ASS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00540">codec_id.h:540</a></div></div>
<div class="ttc" id="amatroska_8h_html_a4209f2d135ea4a4f784128ea8912065d"><div class="ttname"><a href="matroska_8h.html#a4209f2d135ea4a4f784128ea8912065d">MATROSKA_ID_AUDIOOUTSAMPLINGFREQ</a></div><div class="ttdeci">#define MATROSKA_ID_AUDIOOUTSAMPLINGFREQ</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00165">matroska.h:165</a></div></div>
<div class="ttc" id="astruct_a_v_l_f_g_html"><div class="ttname"><a href="struct_a_v_l_f_g.html">AVLFG</a></div><div class="ttdef"><b>Definition:</b> <a href="lfg_8h_source.html#l00033">lfg.h:33</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23">AV_FIELD_TT</a></div><div class="ttdeci">@ AV_FIELD_TT</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00039">codec_par.h:39</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="ampeg4audio_8h_html"><div class="ttname"><a href="mpeg4audio_8h.html">mpeg4audio.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a73145ae6e565a216d9b920d20915aab5"><div class="ttname"><a href="matroska_8h.html#a73145ae6e565a216d9b920d20915aab5">MATROSKA_ID_VIDEOPROJECTIONPRIVATE</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPROJECTIONPRIVATE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00158">matroska.h:158</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_aa23be9f14f5b28928fc0e31f6427a0df"><div class="ttname"><a href="struct_matroska_mux_context.html#aa23be9f14f5b28928fc0e31f6427a0df">MatroskaMuxContext::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00134">matroskaenc.c:134</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c">AV_CODEC_ID_PCM_S16BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S16BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00309">codec_id.h:309</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="astructmkv__cues_html"><div class="ttname"><a href="structmkv__cues.html">mkv_cues</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00100">matroskaenc.c:100</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690cada9a226d1180d12c060cd6f0f5b79305"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cada9a226d1180d12c060cd6f0f5b79305">MATROSKA_VIDEO_STEREOMODE_TYPE_MONO</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_MONO</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00302">matroska.h:302</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6a276701c16077443c9526dd28da8001a7"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a276701c16077443c9526dd28da8001a7">AV_STEREO3D_2D</a></div><div class="ttdeci">@ AV_STEREO3D_2D</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00055">stereo3d.h:55</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae1edb2291a22f052b018d971edd75f3b"><div class="ttname"><a href="matroska_8h.html#ae1edb2291a22f052b018d971edd75f3b">MATROSKA_ID_CHAPTERDISPLAY</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPTERDISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00254">matroska.h:254</a></div></div>
<div class="ttc" id="amatroska_8h_html_a102d27a6cc46e6c58b968447b3173f24"><div class="ttname"><a href="matroska_8h.html#a102d27a6cc46e6c58b968447b3173f24">MATROSKA_ID_TRACKUID</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKUID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00079">matroska.h:79</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a5e769414b3948e72f43aa8eafe5aa55d"><div class="ttname"><a href="matroskaenc_8c.html#a5e769414b3948e72f43aa8eafe5aa55d">webm_query_codec</a></div><div class="ttdeci">static int webm_query_codec(enum AVCodecID codec_id, int std_compliance)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02628">matroskaenc.c:2628</a></div></div>
<div class="ttc" id="asamplefmt_8h_html"><div class="ttname"><a href="samplefmt_8h.html">samplefmt.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a2f2a377eac78224eda21767a3fc5584e"><div class="ttname"><a href="matroska_8h.html#a2f2a377eac78224eda21767a3fc5584e">EBML_ID_DOCTYPEVERSION</a></div><div class="ttdeci">#define EBML_ID_DOCTYPEVERSION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00041">matroska.h:41</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aab720c777af1784c9197b3d844de36485"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aab720c777af1784c9197b3d844de36485">AVCOL_RANGE_NB</a></div><div class="ttdeci">@ AVCOL_RANGE_NB</div><div class="ttdoc">Not part of ABI.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00588">pixfmt.h:587</a></div></div>
<div class="ttc" id="avorbiscomment_8c_html_a2f59b8f2711338c3ff4e87e3c8112e41"><div class="ttname"><a href="vorbiscomment_8c.html#a2f59b8f2711338c3ff4e87e3c8112e41">ff_vorbiscomment_write</a></div><div class="ttdeci">int ff_vorbiscomment_write(AVIOContext *pb, const AVDictionary *m, const char *vendor_string, AVChapter **chapters, unsigned int nb_chapters)</div><div class="ttdef"><b>Definition:</b> <a href="vorbiscomment_8c_source.html#l00065">vorbiscomment.c:65</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a4d3546cdfd41818727cd6bd11acea507"><div class="ttname"><a href="matroskaenc_8c.html#a4d3546cdfd41818727cd6bd11acea507">mkv_cuepoint</a></div><div class="ttdeci">struct mkv_cuepoint mkv_cuepoint</div></div>
<div class="ttc" id="amatroskaenc_8c_html_a23834e00114d347cc495bdedb9fa564d"><div class="ttname"><a href="matroskaenc_8c.html#a23834e00114d347cc495bdedb9fa564d">put_ebml_uint</a></div><div class="ttdeci">static void put_ebml_uint(AVIOContext *pb, uint32_t elementid, uint64_t val)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00265">matroskaenc.c:265</a></div></div>
<div class="ttc" id="aavio_8h_html_a63157a668f29b8f5a89f00bc24838b8e"><div class="ttname"><a href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a></div><div class="ttdeci">static av_always_inline int64_t avio_tell(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00557">avio.h:557</a></div></div>
<div class="ttc" id="amatroska_8c_html_a740e71d65579c8ab14b88fe1f0de036a"><div class="ttname"><a href="matroska_8c.html#a740e71d65579c8ab14b88fe1f0de036a">ff_matroska_video_stereo_mode</a></div><div class="ttdeci">const char *const ff_matroska_video_stereo_mode[MATROSKA_VIDEO_STEREOMODE_TYPE_NB]</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8c_source.html#l00128">matroska.c:128</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a1ddc46b549269f2122805d7b5dad0567"><div class="ttname"><a href="matroskaenc_8c.html#a1ddc46b549269f2122805d7b5dad0567">put_flac_codecpriv</a></div><div class="ttdeci">static int put_flac_codecpriv(AVFormatContext *s, AVIOContext *pb, const AVCodecParameters *par)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00642">matroskaenc.c:642</a></div></div>
<div class="ttc" id="aimg2enc_8c_html_a699c7f8cecca559365c79219b6d8ecd0"><div class="ttname"><a href="img2enc_8c.html#a699c7f8cecca559365c79219b6d8ecd0">query_codec</a></div><div class="ttdeci">static int query_codec(enum AVCodecID id, int std_compliance)</div><div class="ttdef"><b>Definition:</b> <a href="img2enc_8c_source.html#l00229">img2enc.c:229</a></div></div>
<div class="ttc" id="aavformat_8h_html_aa72fcb393482cb6bb302d4995990bf3b"><div class="ttname"><a href="avformat_8h.html#aa72fcb393482cb6bb302d4995990bf3b">AV_DISPOSITION_FORCED</a></div><div class="ttdeci">#define AV_DISPOSITION_FORCED</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00826">avformat.h:826</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="amatroska_8h_html_a43a41086822e4b12c76399cc7edd411a"><div class="ttname"><a href="matroska_8h.html#a43a41086822e4b12c76399cc7edd411a">MATROSKA_ID_VIDEOALPHAMODE</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOALPHAMODE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00124">matroska.h:124</a></div></div>
<div class="ttc" id="atranscode__aac_8c_html_a4fbb704fb96c36a78a36eee010306ce7"><div class="ttname"><a href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a></div><div class="ttdeci">static int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="transcode__aac_8c_source.html#l00647">transcode_aac.c:647</a></div></div>
<div class="ttc" id="acbs__h2645_8c_html_a4a02756a337012b1d96221b0a2f98128"><div class="ttname"><a href="cbs__h2645_8c.html#a4a02756a337012b1d96221b0a2f98128">us</a></div><div class="ttdeci">#define us(width, name, range_min, range_max, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h2645_8c_source.html#l00276">cbs_h2645.c:276</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a18dbad310cbaa8d1f619428edfde1295"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a18dbad310cbaa8d1f619428edfde1295">AV_RB24</a></div><div class="ttdeci">#define AV_RB24</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00064">intreadwrite.h:64</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_abc58e5e95502777096a326c76b817c61"><div class="ttname"><a href="struct_matroska_mux_context.html#abc58e5e95502777096a326c76b817c61">MatroskaMuxContext::is_live</a></div><div class="ttdeci">int is_live</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00152">matroskaenc.c:152</a></div></div>
<div class="ttc" id="amatroska_8h_html_a0e3745cbc83bb70a852869db75623bd9"><div class="ttname"><a href="matroska_8h.html#a0e3745cbc83bb70a852869db75623bd9">EBML_ID_DOCTYPE</a></div><div class="ttdeci">#define EBML_ID_DOCTYPE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00040">matroska.h:40</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a6cbcda5b8d0118e50e4a1b574919af50"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a6cbcda5b8d0118e50e4a1b574919af50">AVSphericalMapping::bound_right</a></div><div class="ttdeci">uint32_t bound_right</div><div class="ttdoc">Distance from the right edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00169">spherical.h:169</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667">AV_FIELD_TB</a></div><div class="ttdeci">@ AV_FIELD_TB</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00041">codec_par.h:41</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga4fd9c0b8e663cf3d55e89fbc6ce71602"><div class="ttname"><a href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a></div><div class="ttdeci">int av_reduce(int *dst_num, int *dst_den, int64_t num, int64_t den, int64_t max)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00035">rational.c:35</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aece3467b887aae1b516c56343b6faec1"><div class="ttname"><a href="matroskaenc_8c.html#aece3467b887aae1b516c56343b6faec1">mkv_write_tag_targets</a></div><div class="ttdeci">static int mkv_write_tag_targets(MatroskaMuxContext *mkv, AVIOContext **pb, ebml_master *tag, uint32_t elementid, uint64_t uid)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01470">matroskaenc.c:1470</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab3310424226c2ed29faa776603030b35"><div class="ttname"><a href="matroska_8h.html#ab3310424226c2ed29faa776603030b35">MATROSKA_ID_VIDEOCOLOR_WHITEX</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_WHITEX</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00151">matroska.h:151</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab0a142955c6bbdb28c3b8bd2fe091da9a799f508efb345b20c47a7571577ea21d"><div class="ttname"><a href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9a799f508efb345b20c47a7571577ea21d">MATROSKA_TRACK_TYPE_METADATA</a></div><div class="ttdeci">@ MATROSKA_TRACK_TYPE_METADATA</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00276">matroska.h:276</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaac96d7eb6ee2d7a2effe3a0d59154c08"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaac96d7eb6ee2d7a2effe3a0d59154c08">AV_CODEC_ID_ATRAC3</a></div><div class="ttdeci">@ AV_CODEC_ID_ATRAC3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00449">codec_id.h:449</a></div></div>
<div class="ttc" id="amatroska_8h_html_a788611401fb49eb68bbc90c69f5a5f0dad58a310bca7ff7f70c330c14075ec023"><div class="ttname"><a href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0dad58a310bca7ff7f70c330c14075ec023">MATROSKA_VIDEO_FIELDORDER_TT</a></div><div class="ttdeci">@ MATROSKA_VIDEO_FIELDORDER_TT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00294">matroska.h:294</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea1a3f67e556cc61335c6f001ae3c7069f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1a3f67e556cc61335c6f001ae3c7069f">AV_CODEC_ID_DVB_SUBTITLE</a></div><div class="ttdeci">@ AV_CODEC_ID_DVB_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00518">codec_id.h:518</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690c"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690c">MatroskaVideoStereoModeType</a></div><div class="ttdeci">MatroskaVideoStereoModeType</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00301">matroska.h:301</a></div></div>
<div class="ttc" id="astruct_a_v_content_light_metadata_html_a4e9bfc44c6b87bbf096141fae12e1692"><div class="ttname"><a href="struct_a_v_content_light_metadata.html#a4e9bfc44c6b87bbf096141fae12e1692">AVContentLightMetadata::MaxFALL</a></div><div class="ttdeci">unsigned MaxFALL</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00107">mastering_display_metadata.h:107</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea39c05013b9bbca74c12ecc637de96120"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea39c05013b9bbca74c12ecc637de96120">AV_CODEC_ID_SIPR</a></div><div class="ttdeci">@ AV_CODEC_ID_SIPR</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00459">codec_id.h:459</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00365">packet.h:365</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_af32b0cf2f1991297b6a493d5a9d2b5c4"><div class="ttname"><a href="matroskaenc_8c.html#af32b0cf2f1991297b6a493d5a9d2b5c4">mkv_write_tracks</a></div><div class="ttdeci">static int mkv_write_tracks(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01378">matroskaenc.c:1378</a></div></div>
<div class="ttc" id="astructmkv__seekhead__entry_html"><div class="ttname"><a href="structmkv__seekhead__entry.html">mkv_seekhead_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00080">matroskaenc.c:80</a></div></div>
<div class="ttc" id="amatroska_8h_html_aa79d7dafc9dcf6a33c420629e21e8ea2"><div class="ttname"><a href="matroska_8h.html#aa79d7dafc9dcf6a33c420629e21e8ea2">MATROSKA_ID_BLOCKADDITIONAL</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCKADDITIONAL</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00231">matroska.h:231</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ae8dd1c25c4947fd541d2d28749ffcc09"><div class="ttname"><a href="matroskaenc_8c.html#ae8dd1c25c4947fd541d2d28749ffcc09">mkv_write_vtt_blocks</a></div><div class="ttdeci">static int mkv_write_vtt_blocks(AVFormatContext *s, AVIOContext *pb, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02117">matroskaenc.c:2117</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6aa23e3e6b40107100e62fa16ea536aa07"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6aa23e3e6b40107100e62fa16ea536aa07">AV_STEREO3D_FRAMESEQUENCE</a></div><div class="ttdeci">@ AV_STEREO3D_FRAMESEQUENCE</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00092">stereo3d.h:92</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a8dfefd91c6ee7f37af363a93a8211119"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a8dfefd91c6ee7f37af363a93a8211119">AV_PKT_DATA_WEBVTT_SETTINGS</a></div><div class="ttdeci">@ AV_PKT_DATA_WEBVTT_SETTINGS</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00202">packet.h:202</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a36097280ddfe8ebfc825d0f98fd00621"><div class="ttname"><a href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a></div><div class="ttdeci">#define AV_WB32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00273">intreadwrite.h:273</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00898">avformat.h:898</a></div></div>
<div class="ttc" id="amatroska_8h_html_aad5cfe78bbf08a81866da469e88a0e95"><div class="ttname"><a href="matroska_8h.html#aad5cfe78bbf08a81866da469e88a0e95">EBML_ID_VOID</a></div><div class="ttdeci">#define EBML_ID_VOID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00045">matroska.h:45</a></div></div>
<div class="ttc" id="amatroska_8h_html_a3f3f088455a03ab8e4804af1b2f18e24"><div class="ttname"><a href="matroska_8h.html#a3f3f088455a03ab8e4804af1b2f18e24">MATROSKA_ID_VIDEOFIELDORDER</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOFIELDORDER</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00122">matroska.h:122</a></div></div>
<div class="ttc" id="amatroska_8h_html_a744de5ec8c34802439d37e8582c908fe"><div class="ttname"><a href="matroska_8h.html#a744de5ec8c34802439d37e8582c908fe">MATROSKA_ID_TAGS</a></div><div class="ttdeci">#define MATROSKA_ID_TAGS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00059">matroska.h:59</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea94bc512e0c73486d18f23b8e27915409"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea94bc512e0c73486d18f23b8e27915409">AV_CODEC_ID_TTA</a></div><div class="ttdeci">@ AV_CODEC_ID_TTA</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00440">codec_id.h:440</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="matroskaenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02784">matroskaenc.c:2784</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_afb903b1d9614bfb59e8cc5213de3777b"><div class="ttname"><a href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">AVIOContext::error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00245">avio.h:245</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1f342e4e3615abc9314684ce6b4819c0"><div class="ttname"><a href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00063">movenc.c:63</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a4358962a0c8d9d7ed94163ab5f1788fc"><div class="ttname"><a href="matroskaenc_8c.html#a4358962a0c8d9d7ed94163ab5f1788fc">put_ebml_id</a></div><div class="ttdeci">static void put_ebml_id(AVIOContext *pb, uint32_t id)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00182">matroskaenc.c:182</a></div></div>
<div class="ttc" id="amatroska_8h_html_aadf2ceebdb5e4ee3f28bce6b06958f91"><div class="ttname"><a href="matroska_8h.html#aadf2ceebdb5e4ee3f28bce6b06958f91">EBML_ID_EBMLMAXIDLENGTH</a></div><div class="ttdeci">#define EBML_ID_EBMLMAXIDLENGTH</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00038">matroska.h:38</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a060002ff641fb6c358517df941e9c4c5"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">AVCodecParameters::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00078">codec_par.h:78</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="aavio_8h_html_adb5259ad07633518173eaa47fe6575e2"><div class="ttname"><a href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a></div><div class="ttdeci">int avio_open_dyn_buf(AVIOContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01383">aviobuf.c:1383</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html"><div class="ttname"><a href="struct_a_v_spherical_mapping.html">AVSphericalMapping</a></div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00082">spherical.h:82</a></div></div>
<div class="ttc" id="astructmkv__cuepoint_html_aaea04414a4ca212d05fce6c005e7f6ea"><div class="ttname"><a href="structmkv__cuepoint.html#aaea04414a4ca212d05fce6c005e7f6ea">mkv_cuepoint::relative_pos</a></div><div class="ttdeci">int64_t relative_pos</div><div class="ttdoc">relative offset from the position of the cluster containing the block</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00096">matroskaenc.c:96</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ad3c990d78933aafd8096a21f01c19051"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ad3c990d78933aafd8096a21f01c19051">AV_RB64</a></div><div class="ttdeci">#define AV_RB64</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00164">intreadwrite.h:164</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ac113b1c19842b1670f2693342bdcf006"><div class="ttname"><a href="matroskaenc_8c.html#ac113b1c19842b1670f2693342bdcf006">ebml_stored_master</a></div><div class="ttdeci">struct ebml_stored_master ebml_stored_master</div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaaa43507bca8296df2333437245fb41b7"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaaa43507bca8296df2333437245fb41b7">AV_CODEC_ID_ADPCM_G726</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_G726</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00358">codec_id.h:358</a></div></div>
<div class="ttc" id="ampeg4audio_8c_html_acab762fcd8d26269137fe9fc6415acfe"><div class="ttname"><a href="mpeg4audio_8c.html#acab762fcd8d26269137fe9fc6415acfe">avpriv_mpeg4audio_get_config2</a></div><div class="ttdeci">int avpriv_mpeg4audio_get_config2(MPEG4AudioConfig *c, const uint8_t *buf, int size, int sync_extension, void *logctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4audio_8c_source.html#l00190">mpeg4audio.c:190</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6a23d62b9a67d4a99d745eb9bebcfd2b3e"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a23d62b9a67d4a99d745eb9bebcfd2b3e">AV_STEREO3D_LINES</a></div><div class="ttdeci">@ AV_STEREO3D_LINES</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00129">stereo3d.h:129</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a4d418b807283607a231d2d8cdf559f00"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">AVCodecParameters::channels</a></div><div class="ttdeci">int channels</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00166">codec_par.h:166</a></div></div>
<div class="ttc" id="alibavutil_2stereo3d_8h_html"><div class="ttname"><a href="libavutil_2stereo3d_8h.html">stereo3d.h</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_afe0fcc5c69aa6b3e1e93b26bc8721a81"><div class="ttname"><a href="matroskaenc_8c.html#afe0fcc5c69aa6b3e1e93b26bc8721a81">end_ebml_master</a></div><div class="ttdeci">static void end_ebml_master(AVIOContext *pb, ebml_master master)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00347">matroskaenc.c:347</a></div></div>
<div class="ttc" id="amatroska_8h_html_a4a13903ba46ba1fa7b2ec686615ee774"><div class="ttname"><a href="matroska_8h.html#a4a13903ba46ba1fa7b2ec686615ee774">MATROSKA_ID_FILEUID</a></div><div class="ttdeci">#define MATROSKA_ID_FILEUID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00247">matroska.h:247</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a1f86ed1b6a420faccacf77c98db6c1ffa2da13ea26652f612ecaeb850a3d014e7"><div class="ttname"><a href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffa2da13ea26652f612ecaeb850a3d014e7">AVCHROMA_LOC_TOP</a></div><div class="ttdeci">@ AVCHROMA_LOC_TOP</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00610">pixfmt.h:610</a></div></div>
<div class="ttc" id="amatroska_8h_html_a6fb466afd9fecb7c6dd18fcc6c4deb9ba2c3c304574458a57112bd72c29c44021"><div class="ttname"><a href="matroska_8h.html#a6fb466afd9fecb7c6dd18fcc6c4deb9ba2c3c304574458a57112bd72c29c44021">MATROSKA_VIDEO_INTERLACE_FLAG_PROGRESSIVE</a></div><div class="ttdeci">@ MATROSKA_VIDEO_INTERLACE_FLAG_PROGRESSIVE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00289">matroska.h:289</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad87020fae601b684bfb27ee64a457303"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad87020fae601b684bfb27ee64a457303">AV_PKT_DATA_STEREO3D</a></div><div class="ttdeci">@ AV_PKT_DATA_STEREO3D</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00114">packet.h:114</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7a21614813a78ac5fe8d3e1187474d042f"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a21614813a78ac5fe8d3e1187474d042f">AVCOL_PRI_NB</a></div><div class="ttdeci">@ AVCOL_PRI_NB</div><div class="ttdoc">Not part of ABI.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00477">pixfmt.h:476</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUVA420P</div><div class="ttdoc">planar YUV 4:2:0, 20bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00101">pixfmt.h:101</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a796f5860107695d36c3a7fb30453da79"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a796f5860107695d36c3a7fb30453da79">AVCodecParameters::bits_per_raw_sample</a></div><div class="ttdeci">int bits_per_raw_sample</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00115">codec_par.h:115</a></div></div>
<div class="ttc" id="astructmkv__track_html_aaba887a9edd81d84384f19210b9be77f"><div class="ttname"><a href="structmkv__track.html#aaba887a9edd81d84384f19210b9be77f">mkv_track::write_dts</a></div><div class="ttdeci">int write_dts</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00106">matroskaenc.c:106</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="alfg_8h_html_a58feb242e560adee0b7a16e11cce43e9"><div class="ttname"><a href="lfg_8h.html#a58feb242e560adee0b7a16e11cce43e9">av_lfg_get</a></div><div class="ttdeci">static unsigned int av_lfg_get(AVLFG *c)</div><div class="ttdef"><b>Definition:</b> <a href="lfg_8h_source.html#l00053">lfg.h:53</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae145109d0144565dd04425ea46aca273"><div class="ttname"><a href="matroska_8h.html#ae145109d0144565dd04425ea46aca273">MATROSKA_ID_VIDEODISPLAYWIDTH</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEODISPLAYWIDTH</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00112">matroska.h:112</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a5fe6406e07337dcb0125bd03fba7ea2c"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a5fe6406e07337dcb0125bd03fba7ea2c">AV_PKT_DATA_MASTERING_DISPLAY_METADATA</a></div><div class="ttdeci">@ AV_PKT_DATA_MASTERING_DISPLAY_METADATA</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00222">packet.h:222</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a7d537039ea0e18164d9edb0b5ca984dd"><div class="ttname"><a href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample format(the sample packing is implied by the sample format) and sample rate. The lists are not just lists</div></div>
<div class="ttc" id="amatroskaenc_8c_html_a54a7c7df3291d237c91f0dba9df2f38f"><div class="ttname"><a href="matroskaenc_8c.html#a54a7c7df3291d237c91f0dba9df2f38f">mkv_write_flush_packet</a></div><div class="ttdeci">static int mkv_write_flush_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02437">matroskaenc.c:2437</a></div></div>
<div class="ttc" id="amatroska_8h_html_a788611401fb49eb68bbc90c69f5a5f0da72196df102148fcdd0bbcc0464e3189e"><div class="ttname"><a href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0da72196df102148fcdd0bbcc0464e3189e">MATROSKA_VIDEO_FIELDORDER_BT</a></div><div class="ttdeci">@ MATROSKA_VIDEO_FIELDORDER_BT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00298">matroska.h:298</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab76b7ccf05d18668861d10f7c7baaf59"><div class="ttname"><a href="matroska_8h.html#ab76b7ccf05d18668861d10f7c7baaf59">MATROSKA_ID_TAGNAME</a></div><div class="ttdeci">#define MATROSKA_ID_TAGNAME</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00204">matroska.h:204</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a></div><div class="ttdeci">@ AV_CODEC_ID_VP9</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00217">codec_id.h:217</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="aav1_8c_html_a49e380b1c80dd2998301d3da717ab890"><div class="ttname"><a href="av1_8c.html#a49e380b1c80dd2998301d3da717ab890">ff_av1_filter_obus_buf</a></div><div class="ttdeci">int ff_av1_filter_obus_buf(const uint8_t *in, uint8_t **out, int *size, int *offset)</div><div class="ttdef"><b>Definition:</b> <a href="av1_8c_source.html#l00086">av1.c:86</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae3f48ca6239d464bd93c390c3637b962"><div class="ttname"><a href="matroska_8h.html#ae3f48ca6239d464bd93c390c3637b962">MATROSKA_ID_TAG</a></div><div class="ttdeci">#define MATROSKA_ID_TAG</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00202">matroska.h:202</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga935dbbf6bde8dfe5fa7ddb1da582eb07"><div class="ttname"><a href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a></div><div class="ttdeci">static double av_q2d(AVRational a)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00104">rational.h:104</a></div></div>
<div class="ttc" id="amatroska_8h_html_a2691229250aecb7fc62c6424ace9d5e3"><div class="ttname"><a href="matroska_8h.html#a2691229250aecb7fc62c6424ace9d5e3">MATROSKA_ID_TIMECODESCALE</a></div><div class="ttdeci">#define MATROSKA_ID_TIMECODESCALE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00066">matroska.h:66</a></div></div>
<div class="ttc" id="alfg_8h_html"><div class="ttname"><a href="lfg_8h.html">lfg.h</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a38eab35e618853333dd44f9bab7472ff"><div class="ttname"><a href="matroskaenc_8c.html#a38eab35e618853333dd44f9bab7472ff">get_mimetype</a></div><div class="ttdeci">static const char * get_mimetype(const AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01701">matroskaenc.c:1701</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ad18107e9ad94c1990f5860b962d95f9d"><div class="ttname"><a href="struct_matroska_mux_context.html#ad18107e9ad94c1990f5860b962d95f9d">MatroskaMuxContext::is_dash</a></div><div class="ttdeci">int is_dash</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00154">matroskaenc.c:154</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html"><div class="ttname"><a href="struct_matroska_mux_context.html">MatroskaMuxContext</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00123">matroskaenc.c:123</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT64</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00226">opt.h:226</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="amatroska_8h_html_ad9fd5c0ce49b9b900efb0f350d409eef"><div class="ttname"><a href="matroska_8h.html#ad9fd5c0ce49b9b900efb0f350d409eef">MATROSKA_ID_CUETRACKPOSITION</a></div><div class="ttdeci">#define MATROSKA_ID_CUETRACKPOSITION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00192">matroska.h:192</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a9f03eadc22e174686943c92f3ed3dfb7"><div class="ttname"><a href="matroskaenc_8c.html#a9f03eadc22e174686943c92f3ed3dfb7">additional_audio_tags</a></div><div class="ttdeci">static const AVCodecTag additional_audio_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02752">matroskaenc.c:2752</a></div></div>
<div class="ttc" id="amatroska_8h_html_aafc19b795685b37527d694a0573ab380"><div class="ttname"><a href="matroska_8h.html#aafc19b795685b37527d694a0573ab380">MATROSKA_ID_SEEKENTRY</a></div><div class="ttdeci">#define MATROSKA_ID_SEEKENTRY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00217">matroska.h:217</a></div></div>
<div class="ttc" id="astructmkv__track_html_af76bf99abaa22496fea96afb174622a7"><div class="ttname"><a href="structmkv__track.html#af76bf99abaa22496fea96afb174622a7">mkv_track::track_num</a></div><div class="ttdeci">unsigned track_num</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00109">matroskaenc.c:109</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca886b3191488ef874bf3e94b3d9cec713"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca886b3191488ef874bf3e94b3d9cec713">AV_FIELD_UNKNOWN</a></div><div class="ttdeci">@ AV_FIELD_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00037">codec_par.h:37</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="amatroska_8h_html_a8b87594b1d170a19d06cc823391f62cb"><div class="ttname"><a href="matroska_8h.html#a8b87594b1d170a19d06cc823391f62cb">MATROSKA_ID_TRACKTYPE</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKTYPE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00080">matroska.h:80</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a2e7108de9aaed01d368b1f3ecbd9efc1"><div class="ttname"><a href="matroskaenc_8c.html#a2e7108de9aaed01d368b1f3ecbd9efc1">additional_video_tags</a></div><div class="ttdeci">static const AVCodecTag additional_video_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02768">matroskaenc.c:2768</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690caaa3bab0b73455ae5175c2bdf25c7c6df"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690caaa3bab0b73455ae5175c2bdf25c7c6df">MATROSKA_VIDEO_STEREOMODE_TYPE_COL_INTERLEAVED_LR</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_COL_INTERLEAVED_LR</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00311">matroska.h:311</a></div></div>
<div class="ttc" id="amatroska_8h_html_a8e6441a9bf2360c12c93480c39850a7a"><div class="ttname"><a href="matroska_8h.html#a8e6441a9bf2360c12c93480c39850a7a">MATROSKA_ID_SEGMENTUID</a></div><div class="ttdeci">#define MATROSKA_ID_SEGMENTUID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00072">matroska.h:72</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_af773cbd0899efb0e10cbd0ecec69d510"><div class="ttname"><a href="matroskaenc_8c.html#af773cbd0899efb0e10cbd0ecec69d510">put_wv_codecpriv</a></div><div class="ttdeci">static int put_wv_codecpriv(AVIOContext *pb, const AVCodecParameters *par)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00633">matroskaenc.c:633</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gaf02994a8bbeaa91d4757df179cbe567f"><div class="ttname"><a href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a></div><div class="ttdeci">int64_t av_rescale_q(int64_t a, AVRational bq, AVRational cq)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00142">mathematics.c:142</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00356">packet.h:356</a></div></div>
<div class="ttc" id="amatroska_8h_html_a7068ad8dfc80937a393d9b3dfea8011d"><div class="ttname"><a href="matroska_8h.html#a7068ad8dfc80937a393d9b3dfea8011d">MATROSKA_ID_INFO</a></div><div class="ttdeci">#define MATROSKA_ID_INFO</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00056">matroska.h:56</a></div></div>
<div class="ttc" id="amatroska_8h_html_a5ec18436d7f9e36ae902e114510362fd"><div class="ttname"><a href="matroska_8h.html#a5ec18436d7f9e36ae902e114510362fd">MATROSKA_ID_AUDIOCHANNELS</a></div><div class="ttdeci">#define MATROSKA_ID_AUDIOCHANNELS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00168">matroska.h:168</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a0fd12851a78b80080e277db30411728d"><div class="ttname"><a href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00239">vaapi_decode.c:369</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea35e8d1b643beef5a57fffbd2b3f44050"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea35e8d1b643beef5a57fffbd2b3f44050">AV_CODEC_ID_SVQ3</a></div><div class="ttdeci">@ AV_CODEC_ID_SVQ3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00072">codec_id.h:72</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_ae4c7ac718a75adb31b5f2076a02fdedf"><div class="ttname"><a href="struct_a_v_codec_parameters.html#ae4c7ac718a75adb31b5f2076a02fdedf">AVCodecParameters::chroma_location</a></div><div class="ttdeci">enum AVChromaLocation chroma_location</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:150</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aec8167d48a068fef2a678bb74135fa19"><div class="ttname"><a href="matroskaenc_8c.html#aec8167d48a068fef2a678bb74135fa19">mkv_check_bitstream</a></div><div class="ttdeci">static int mkv_check_bitstream(struct AVFormatContext *s, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02737">matroskaenc.c:2737</a></div></div>
<div class="ttc" id="ahwcontext__opencl_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__opencl_8c_source.html#l00168">hwcontext_opencl.c:168</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bade057902ae98d6f1eaaba77c29a23288">DEFAULT_MODE_PASSTHROUGH</a></div><div class="ttdeci">@ DEFAULT_MODE_PASSTHROUGH</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00067">matroskaenc.c:67</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aa2d67ac325474122b93ad1a22d5bb4e1"><div class="ttname"><a href="matroskaenc_8c.html#aa2d67ac325474122b93ad1a22d5bb4e1">mkv_write_video_color</a></div><div class="ttdeci">static void mkv_write_video_color(AVIOContext *pb, const AVStream *st, const AVCodecParameters *par)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00833">matroskaenc.c:833</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942">AVCOL_PRI_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_PRI_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00461">pixfmt.h:461</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a968384052f48e91fc57b3c61b9f68224"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a968384052f48e91fc57b3c61b9f68224">AVMasteringDisplayMetadata::white_point</a></div><div class="ttdeci">AVRational white_point[2]</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00047">mastering_display_metadata.h:47</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb">AV_FIELD_BT</a></div><div class="ttdeci">@ AV_FIELD_BT</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00042">codec_par.h:42</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a></div><div class="ttdeci">@ AV_CODEC_ID_H264</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00076">codec_id.h:76</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d7d978957f386818589a310bd983ab2"><div class="ttname"><a href="matroska_8h.html#a1d7d978957f386818589a310bd983ab2">MATROSKA_ID_VIDEOSTEREOMODE</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOSTEREOMODE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00123">matroska.h:123</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ab0af45e479f8c1e4286a3ded29acaeba"><div class="ttname"><a href="matroskaenc_8c.html#ab0af45e479f8c1e4286a3ded29acaeba">mkv_start_seekhead</a></div><div class="ttdeci">static void mkv_start_seekhead(MatroskaMuxContext *mkv, AVIOContext *pb)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00470">matroskaenc.c:470</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="amatroska_8c_html_a38aac419662585e8c82cb923d5423ad9"><div class="ttname"><a href="matroska_8c.html#a38aac419662585e8c82cb923d5423ad9">ff_webm_codec_tags</a></div><div class="ttdeci">const CodecTags ff_webm_codec_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8c_source.html#l00106">matroska.c:106</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_adeea248f32ff9ec9cd8de310f3d00108"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#adeea248f32ff9ec9cd8de310f3d00108">AVSphericalMapping::padding</a></div><div class="ttdeci">uint32_t padding</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00182">spherical.h:182</a></div></div>
<div class="ttc" id="astructmkv__track_html_afa132d3a8f6923f6430597ceabde268a"><div class="ttname"><a href="structmkv__track.html#afa132d3a8f6923f6430597ceabde268a">mkv_track::uid</a></div><div class="ttdeci">uint64_t uid</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00108">matroskaenc.c:108</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a748ecbd94ec0ab1974841159370f4910"><div class="ttname"><a href="struct_matroska_mux_context.html#a748ecbd94ec0ab1974841159370f4910">MatroskaMuxContext::segment_offset</a></div><div class="ttdeci">int64_t segment_offset</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00129">matroskaenc.c:129</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga77a800026abd6dc2f4ac1e0ad7e3e999"><div class="ttname"><a href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a></div><div class="ttdeci">uint8_t * av_packet_get_side_data(const AVPacket *pkt, enum AVPacketSideDataType type, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00353">avpacket.c:353</a></div></div>
<div class="ttc" id="amatroska_8h_html_a4c8206370cd80ddd67033042723198dd"><div class="ttname"><a href="matroska_8h.html#a4c8206370cd80ddd67033042723198dd">MATROSKA_ID_VIDEOCOLORSPACE</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORSPACE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00126">matroska.h:126</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_afa6744d9b8766db47a5ff7bddf0f2404"><div class="ttname"><a href="struct_a_v_codec_parameters.html#afa6744d9b8766db47a5ff7bddf0f2404">AVCodecParameters::color_range</a></div><div class="ttdeci">enum AVColorRange color_range</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:146</a></div></div>
<div class="ttc" id="amatroska_8h_html_a44d2baf3cdb7103d84afc65a1b426429"><div class="ttname"><a href="matroska_8h.html#a44d2baf3cdb7103d84afc65a1b426429">MATROSKA_ID_TRACKNAME</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKNAME</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00096">matroska.h:96</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea82b722838aa5158de9313be99930618a"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea82b722838aa5158de9313be99930618a">AV_CODEC_ID_WEBVTT</a></div><div class="ttdeci">@ AV_CODEC_ID_WEBVTT</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00536">codec_id.h:536</a></div></div>
<div class="ttc" id="amatroska_8h_html_a9309f1ab253ad198d67b589b7f514a29"><div class="ttname"><a href="matroska_8h.html#a9309f1ab253ad198d67b589b7f514a29">EBML_ID_DOCTYPEREADVERSION</a></div><div class="ttdeci">#define EBML_ID_DOCTYPEREADVERSION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00042">matroska.h:42</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga6eff035c271caa5a533987a1e00ad43e"><div class="ttname"><a href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a></div><div class="ttdeci">struct AVRational AVRational</div></div>
<div class="ttc" id="astructmkv__cues_html_a30fc93f9e09b60d72026466c8e37baf4"><div class="ttname"><a href="structmkv__cues.html#a30fc93f9e09b60d72026466c8e37baf4">mkv_cues::entries</a></div><div class="ttdeci">mkv_cuepoint * entries</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00101">matroskaenc.c:101</a></div></div>
<div class="ttc" id="astruct_wv_header_html"><div class="ttname"><a href="struct_wv_header.html">WvHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="wv_8h_source.html#l00034">wv.h:34</a></div></div>
<div class="ttc" id="alibavformat_2metadata_8c_html_ad18704a0525f999bb3b57f75e97c86bf"><div class="ttname"><a href="libavformat_2metadata_8c.html#ad18704a0525f999bb3b57f75e97c86bf">ff_metadata_conv_ctx</a></div><div class="ttdeci">void ff_metadata_conv_ctx(AVFormatContext *ctx, const AVMetadataConv *d_conv, const AVMetadataConv *s_conv)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2metadata_8c_source.html#l00059">metadata.c:59</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a975e4d7c98be7263ddb375951b7ce5e7"><div class="ttname"><a href="matroskaenc_8c.html#a975e4d7c98be7263ddb375951b7ce5e7">mkv_write_video_projection</a></div><div class="ttdeci">static void mkv_write_video_projection(AVFormatContext *s, AVIOContext *pb, const AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00918">matroskaenc.c:918</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690cabe076984eccae924bf454154347e84b3"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cabe076984eccae924bf454154347e84b3">MATROSKA_VIDEO_STEREOMODE_TYPE_TOP_BOTTOM</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_TOP_BOTTOM</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00305">matroska.h:305</a></div></div>
<div class="ttc" id="aavlanguage_8h_html_aa3a0db8cf8ff05263c287a7f6e34e3b9a43a2abd3fddd790d461b46563cd047f9"><div class="ttname"><a href="avlanguage_8h.html#aa3a0db8cf8ff05263c287a7f6e34e3b9a43a2abd3fddd790d461b46563cd047f9">AV_LANG_ISO639_2_BIBL</a></div><div class="ttdeci">@ AV_LANG_ISO639_2_BIBL</div><div class="ttdef"><b>Definition:</b> <a href="avlanguage_8h_source.html#l00031">avlanguage.h:31</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a868557510e83a336f135e8bb0da44327"><div class="ttname"><a href="matroskaenc_8c.html#a868557510e83a336f135e8bb0da44327">mkv_write_codecprivate</a></div><div class="ttdeci">static int mkv_write_codecprivate(AVFormatContext *s, AVIOContext *pb, AVCodecParameters *par, int native_id, int qt_id)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00763">matroskaenc.c:763</a></div></div>
<div class="ttc" id="amatroska_8h_html_a61dbefc891b578a7899675508753f9d3"><div class="ttname"><a href="matroska_8h.html#a61dbefc891b578a7899675508753f9d3">MATROSKA_ID_BLOCKGROUP</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCKGROUP</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00227">matroska.h:227</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1aa2cdcbd5809428833a85e6ebfff3f1"><div class="ttname"><a href="matroska_8h.html#a1aa2cdcbd5809428833a85e6ebfff3f1">MATROSKA_ID_VIDEOCOLOR_LUMINANCEMIN</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_LUMINANCEMIN</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00154">matroska.h:154</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a55d329599be68c371ca0090db93bf0fe"><div class="ttname"><a href="matroskaenc_8c.html#a55d329599be68c371ca0090db93bf0fe">mkv_cues</a></div><div class="ttdeci">struct mkv_cues mkv_cues</div></div>
<div class="ttc" id="astruct_codec_tags_html_aa9d38ce60f44ff983177372ab18ca951"><div class="ttname"><a href="struct_codec_tags.html#aa9d38ce60f44ff983177372ab18ca951">CodecTags::str</a></div><div class="ttdeci">char str[22]</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00354">matroska.h:354</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="amatroska_8h_html_a307d9dc9a2b2bd6e374f05dbf4130d14"><div class="ttname"><a href="matroska_8h.html#a307d9dc9a2b2bd6e374f05dbf4130d14">MATROSKA_ID_ATTACHMENTS</a></div><div class="ttdeci">#define MATROSKA_ID_ATTACHMENTS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00061">matroska.h:61</a></div></div>
<div class="ttc" id="ariff_8h_html_ac60e12afe94d726dbdf5141501a8e893"><div class="ttname"><a href="riff_8h.html#ac60e12afe94d726dbdf5141501a8e893">ff_put_wav_header</a></div><div class="ttdeci">int ff_put_wav_header(AVFormatContext *s, AVIOContext *pb, AVCodecParameters *par, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00054">riffenc.c:54</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="amatroska_8h_html_a3b21fd19a68bbe3c40e8f1bd502f645b"><div class="ttname"><a href="matroska_8h.html#a3b21fd19a68bbe3c40e8f1bd502f645b">MATROSKA_ID_CHAPTERATOM</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPTERATOM</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00251">matroska.h:251</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea6dbe55d3a303780cfdb3627384e4141d"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6dbe55d3a303780cfdb3627384e4141d">AV_CODEC_ID_AV1</a></div><div class="ttdeci">@ AV_CODEC_ID_AV1</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00276">codec_id.h:276</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab0a142955c6bbdb28c3b8bd2fe091da9af49ddb707bfa0eaf61ff004edd2b839e"><div class="ttname"><a href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9af49ddb707bfa0eaf61ff004edd2b839e">MATROSKA_TRACK_TYPE_AUDIO</a></div><div class="ttdeci">@ MATROSKA_TRACK_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00270">matroska.h:270</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_add73f53ea7abcc785b28b2a25bed9979"><div class="ttname"><a href="matroskaenc_8c.html#add73f53ea7abcc785b28b2a25bed9979">ebml_length_size</a></div><div class="ttdeci">static int ebml_length_size(uint64_t length)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00218">matroskaenc.c:218</a></div></div>
<div class="ttc" id="aisom_8h_html"><div class="ttname"><a href="isom_8h.html">isom.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_aef3aac1f30a9abab80729c6b079789b3a0e0d6d429d35f86df830554c843caa5b"><div class="ttname"><a href="matroska_8h.html#aef3aac1f30a9abab80729c6b079789b3a0e0d6d429d35f86df830554c843caa5b">MATROSKA_VIDEO_DISPLAYUNIT_DAR</a></div><div class="ttdeci">@ MATROSKA_VIDEO_DISPLAYUNIT_DAR</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00324">matroska.h:324</a></div></div>
<div class="ttc" id="av4l2enc_8c_html_a4f80c0767194e6e297d2952ed1e75ccc"><div class="ttname"><a href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a></div><div class="ttdeci">static int write_trailer(AVFormatContext *s1)</div><div class="ttdef"><b>Definition:</b> <a href="v4l2enc_8c_source.html#l00098">v4l2enc.c:98</a></div></div>
<div class="ttc" id="amatroska_8h_html_af1a80b1da412ea0cea810ab15a95eeec"><div class="ttname"><a href="matroska_8h.html#af1a80b1da412ea0cea810ab15a95eeec">MATROSKA_ID_WRITINGAPP</a></div><div class="ttdeci">#define MATROSKA_ID_WRITINGAPP</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00069">matroska.h:69</a></div></div>
<div class="ttc" id="ahevc_8c_html_a325aca121ea26fbcbf1c7d9c8d56f82e"><div class="ttname"><a href="hevc_8c.html#a325aca121ea26fbcbf1c7d9c8d56f82e">ff_hevc_annexb2mp4_buf</a></div><div class="ttdeci">int ff_hevc_annexb2mp4_buf(const uint8_t *buf_in, uint8_t **buf_out, int *size, int filter_ps, int *ps_count)</div><div class="ttdef"><b>Definition:</b> <a href="hevc_8c_source.html#l01047">hevc.c:1047</a></div></div>
<div class="ttc" id="awavpack_8h_html_ab98e8cf39ee6c2c66caec659466d899b"><div class="ttname"><a href="wavpack_8h.html#ab98e8cf39ee6c2c66caec659466d899b">WV_HEADER_SIZE</a></div><div class="ttdeci">#define WV_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="wavpack_8h_source.html#l00030">wavpack.h:30</a></div></div>
<div class="ttc" id="amatroska_8h_html_a3af13b9d269f650d8b8c9cc7d7ae9542"><div class="ttname"><a href="matroska_8h.html#a3af13b9d269f650d8b8c9cc7d7ae9542">MATROSKA_ID_VIDEOCOLOR_GY</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_GY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00148">matroska.h:148</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea5872ef870db6ecee94f18da1a0f18979"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5872ef870db6ecee94f18da1a0f18979">AV_CODEC_ID_CINEPAK</a></div><div class="ttdeci">@ AV_CODEC_ID_CINEPAK</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00092">codec_id.h:92</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a3f19c60ac6da237cd10e4d97150c118e"><div class="ttname"><a href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">AVStream::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00931">avformat.h:931</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea2d41739284f633efadccd4b43e906937"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea2d41739284f633efadccd4b43e906937">AV_CODEC_ID_DVD_SUBTITLE</a></div><div class="ttdeci">@ AV_CODEC_ID_DVD_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00517">codec_id.h:517</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_ac72e380330c591f7e0988dc547b1dd56"><div class="ttname"><a href="libavformat_2internal_8h.html#ac72e380330c591f7e0988dc547b1dd56">ff_stream_add_bitstream_filter</a></div><div class="ttdeci">int ff_stream_add_bitstream_filter(AVStream *st, const char *name, const char *args)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05502">utils.c:5502</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_a38fc80176f8f839282bb61c03392e194"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">AVDictionaryEntry::key</a></div><div class="ttdeci">char * key</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00082">dict.h:82</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_aa6f15754962535715e72927d9778cc2e"><div class="ttname"><a href="struct_matroska_mux_context.html#aa6f15754962535715e72927d9778cc2e">MatroskaMuxContext::wrote_tags</a></div><div class="ttdeci">int wrote_tags</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00146">matroskaenc.c:146</a></div></div>
<div class="ttc" id="aavc_8h_html"><div class="ttname"><a href="avc_8h.html">avc.h</a></div></div>
<div class="ttc" id="aparseutils_8h_html"><div class="ttname"><a href="parseutils_8h.html">parseutils.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a2448cd4177fa828fdad5c6621394ef9a"><div class="ttname"><a href="matroska_8h.html#a2448cd4177fa828fdad5c6621394ef9a">MATROSKA_ID_SIMPLETAG</a></div><div class="ttdeci">#define MATROSKA_ID_SIMPLETAG</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00203">matroska.h:203</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae5f7050ea5318e0e1386478fbab0d03e"><div class="ttname"><a href="matroska_8h.html#ae5f7050ea5318e0e1386478fbab0d03e">MATROSKA_ID_VIDEOPROJECTION</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPROJECTION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00156">matroska.h:156</a></div></div>
<div class="ttc" id="amatroska_8h_html_a351ec0bd7766f607de4ab79c73487b71"><div class="ttname"><a href="matroska_8h.html#a351ec0bd7766f607de4ab79c73487b71">MATROSKA_ID_SEEKID</a></div><div class="ttdeci">#define MATROSKA_ID_SEEKID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00220">matroska.h:220</a></div></div>
<div class="ttc" id="aavc_8c_html_ad36a0e82601738b2b00ad2bc4831f21e"><div class="ttname"><a href="avc_8c.html#ad36a0e82601738b2b00ad2bc4831f21e">ff_avc_parse_nal_units_buf</a></div><div class="ttdeci">int ff_avc_parse_nal_units_buf(const uint8_t *buf_in, uint8_t **buf, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="avc_8c_source.html#l00095">avc.c:95</a></div></div>
<div class="ttc" id="astruct_m_p_e_g4_audio_config_html_adff46b06743dea221e8852572b925c07"><div class="ttname"><a href="struct_m_p_e_g4_audio_config.html#adff46b06743dea221e8852572b925c07">MPEG4AudioConfig::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4audio_8h_source.html#l00036">mpeg4audio.h:36</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ae2ff72f3a0c2c52e8a881a5c6cf4b47a"><div class="ttname"><a href="matroskaenc_8c.html#ae2ff72f3a0c2c52e8a881a5c6cf4b47a">put_ebml_num</a></div><div class="ttdeci">static void put_ebml_num(AVIOContext *pb, uint64_t num, int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00227">matroskaenc.c:227</a></div></div>
<div class="ttc" id="aavformat_8h_html_a5ff7b03b405295a7a9743cfa67369759"><div class="ttname"><a href="avformat_8h.html#a5ff7b03b405295a7a9743cfa67369759">AV_DISPOSITION_METADATA</a></div><div class="ttdeci">#define AV_DISPOSITION_METADATA</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00851">avformat.h:851</a></div></div>
<div class="ttc" id="aparseutils_8c_html_a98590feafe82e074f61f38c8faaa4cef"><div class="ttname"><a href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a></div><div class="ttdeci">int av_parse_time(int64_t *timeval, const char *timestr, int duration)</div><div class="ttdef"><b>Definition:</b> <a href="parseutils_8c_source.html#l00587">parseutils.c:587</a></div></div>
<div class="ttc" id="aavio_8h_html_a1dddee2b73f4dd6512ac9821cf5adc18"><div class="ttname"><a href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a></div><div class="ttdeci">void avio_w8(AVIOContext *s, int b)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00203">aviobuf.c:203</a></div></div>
<div class="ttc" id="amatroska_8h_html_a4565832bcba4171475236ff4997a63ef"><div class="ttname"><a href="matroska_8h.html#a4565832bcba4171475236ff4997a63ef">MATROSKA_ID_CHAPTERTIMESTART</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPTERTIMESTART</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00252">matroska.h:252</a></div></div>
<div class="ttc" id="astructmkv__track_html_a77dccf5c5637a01a524e175fbf135d3e"><div class="ttname"><a href="structmkv__track.html#a77dccf5c5637a01a524e175fbf135d3e">mkv_track::codecpriv_offset</a></div><div class="ttdeci">int64_t codecpriv_offset</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00116">matroskaenc.c:116</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ac507b27801b8779b7d6846b2d1382508"><div class="ttname"><a href="matroskaenc_8c.html#ac507b27801b8779b7d6846b2d1382508">mkv_add_seekhead_entry</a></div><div class="ttdeci">static void mkv_add_seekhead_entry(MatroskaMuxContext *mkv, uint32_t elementid, uint64_t filepos)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00357">matroskaenc.c:357</a></div></div>
<div class="ttc" id="astructmkv__track_html_a9001a2f0ae533e347879f6ce17838d4a"><div class="ttname"><a href="structmkv__track.html#a9001a2f0ae533e347879f6ce17838d4a">mkv_track::sample_rate_offset</a></div><div class="ttdeci">int64_t sample_rate_offset</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00112">matroskaenc.c:112</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead2cbe7fc8799aad9f808e81723e4452f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead2cbe7fc8799aad9f808e81723e4452f">AV_CODEC_ID_QDM2</a></div><div class="ttdeci">@ AV_CODEC_ID_QDM2</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00437">codec_id.h:437</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a8e8dd4a3b4237c7be5a93f5fafe587d2"><div class="ttname"><a href="matroskaenc_8c.html#a8e8dd4a3b4237c7be5a93f5fafe587d2">mkv_get_uid</a></div><div class="ttdeci">static uint64_t mkv_get_uid(const mkv_track *tracks, int i, AVLFG *c)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02638">matroskaenc.c:2638</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab0a142955c6bbdb28c3b8bd2fe091da9a4da316c5643bff72fa9e22b67c06a3c8"><div class="ttname"><a href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9a4da316c5643bff72fa9e22b67c06a3c8">MATROSKA_TRACK_TYPE_VIDEO</a></div><div class="ttdeci">@ MATROSKA_TRACK_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00269">matroska.h:269</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gadb05d71fa2ea7b7fd3e8cfc6d9065a47"><div class="ttname"><a href="group__lavc__packet.html#gadb05d71fa2ea7b7fd3e8cfc6d9065a47">av_packet_ref</a></div><div class="ttdeci">int av_packet_ref(AVPacket *dst, const AVPacket *src)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00615">avpacket.c:615</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a9aa89b584c487de4df6a92bd2df48660"><div class="ttname"><a href="matroskaenc_8c.html#a9aa89b584c487de4df6a92bd2df48660">get_metadata_duration</a></div><div class="ttdeci">static int64_t get_metadata_duration(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01762">matroskaenc.c:1762</a></div></div>
<div class="ttc" id="astructmkv__track_html_a78045cd3001e62eddc9529f52c656766"><div class="ttname"><a href="structmkv__track.html#a78045cd3001e62eddc9529f52c656766">mkv_track::has_cue</a></div><div class="ttdeci">int has_cue</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00107">matroskaenc.c:107</a></div></div>
<div class="ttc" id="amatroska_8h_html_a0269d66675eb657a42686c12b486a434"><div class="ttname"><a href="matroska_8h.html#a0269d66675eb657a42686c12b486a434">MATROSKA_ID_FILEMIMETYPE</a></div><div class="ttdeci">#define MATROSKA_ID_FILEMIMETYPE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00245">matroska.h:245</a></div></div>
<div class="ttc" id="amatroska_8h_html_a8ab5978dc7041e3fabbd3d5edba62076"><div class="ttname"><a href="matroska_8h.html#a8ab5978dc7041e3fabbd3d5edba62076">MATROSKA_ID_VIDEODISPLAYHEIGHT</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEODISPLAYHEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00113">matroska.h:113</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a236265133da1ecd6375e5e7c405020a0"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a></div><div class="ttdeci">#define AV_RB32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00130">intreadwrite.h:130</a></div></div>
<div class="ttc" id="amatroska_8h_html_a101cdbf814866abe76aa69ec838b95fc"><div class="ttname"><a href="matroska_8h.html#a101cdbf814866abe76aa69ec838b95fc">MATROSKA_ID_TRACKAUDIO</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKAUDIO</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00082">matroska.h:82</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_RANGE_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00552">pixfmt.h:552</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_aa884cae3fd16b30c61201a686664f96b"><div class="ttname"><a href="struct_a_v_codec_parameters.html#aa884cae3fd16b30c61201a686664f96b">AVCodecParameters::color_primaries</a></div><div class="ttdeci">enum AVColorPrimaries color_primaries</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:147</a></div></div>
<div class="ttc" id="avorbiscomment_8c_html_adcb7623c3890bad5edb0f5748d5efc2c"><div class="ttname"><a href="vorbiscomment_8c.html#adcb7623c3890bad5edb0f5748d5efc2c">ff_vorbiscomment_length</a></div><div class="ttdeci">int64_t ff_vorbiscomment_length(const AVDictionary *m, const char *vendor_string, AVChapter **chapters, unsigned int nb_chapters)</div><div class="ttdef"><b>Definition:</b> <a href="vorbiscomment_8c_source.html#l00041">vorbiscomment.c:41</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_af34799f214e075f6742600ae21affc48"><div class="ttname"><a href="matroskaenc_8c.html#af34799f214e075f6742600ae21affc48">put_ebml_float</a></div><div class="ttdeci">static void put_ebml_float(AVIOContext *pb, uint32_t elementid, double val)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00292">matroskaenc.c:292</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a670ae033266fb97133204baa6609955f"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a670ae033266fb97133204baa6609955f">AVSphericalMapping::bound_bottom</a></div><div class="ttdeci">uint32_t bound_bottom</div><div class="ttdoc">Distance from the bottom edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00170">spherical.h:170</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a946e1e9b89eeeae4cab8a833b482c1ad"><div class="ttname"><a href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">AVStream::avg_frame_rate</a></div><div class="ttdeci">AVRational avg_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00942">avformat.h:942</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaadca229ad2c20e060a14fec08a5cc7ce"><div class="ttname"><a href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a></div><div class="ttdeci">AVCodecID</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00046">codec_id.h:46</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9b6f7d220d100ba73defab295623356b"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">AVCodecParameters::codec_tag</a></div><div class="ttdeci">uint32_t codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00064">codec_par.h:64</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab07a5a9a03ad153f4e396b7923292da6"><div class="ttname"><a href="matroska_8h.html#ab07a5a9a03ad153f4e396b7923292da6">MATROSKA_ID_VIDEOCOLORMAXCLL</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORMAXCLL</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00141">matroska.h:141</a></div></div>
<div class="ttc" id="amatroska_8h_html_a8e3d2aa75319dc1e9b0e6f8e192ffa98"><div class="ttname"><a href="matroska_8h.html#a8e3d2aa75319dc1e9b0e6f8e192ffa98">MATROSKA_ID_TRACKENTRY</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKENTRY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00075">matroska.h:75</a></div></div>
<div class="ttc" id="astructebml__stored__master_html"><div class="ttname"><a href="structebml__stored__master.html">ebml_stored_master</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00075">matroskaenc.c:75</a></div></div>
<div class="ttc" id="awv_8c_html_a091953f0d9d56b7c2e824e1ecf47f9fa"><div class="ttname"><a href="wv_8c.html#a091953f0d9d56b7c2e824e1ecf47f9fa">ff_wv_parse_header</a></div><div class="ttdeci">int ff_wv_parse_header(WvHeader *wv, const uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="wv_8c_source.html#l00029">wv.c:29</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a></div><div class="ttdeci">@ AV_CODEC_ID_AAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00420">codec_id.h:420</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a70b56ea90c6353b9789e2fdbf46a1db2"><div class="ttname"><a href="matroskaenc_8c.html#a70b56ea90c6353b9789e2fdbf46a1db2">mkv_write_header</a></div><div class="ttdeci">static int mkv_write_header(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01786">matroskaenc.c:1786</a></div></div>
<div class="ttc" id="astructmkv__cuepoint_html_a898ade2fada35e3ab4419c8ec9d67d24"><div class="ttname"><a href="structmkv__cuepoint.html#a898ade2fada35e3ab4419c8ec9d67d24">mkv_cuepoint::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdoc">duration of the block according to time base</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00097">matroskaenc.c:97</a></div></div>
<div class="ttc" id="aisom_8c_html_a49f1e7625dcea066fdb0273f29980f1d"><div class="ttname"><a href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_movvideo_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="isom_8c_source.html#l00075">isom.c:75</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga0717e7440fdb123f708082f66cd9b41d"><div class="ttname"><a href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a></div><div class="ttdeci">int av_get_bits_per_sample(enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01578">utils.c:1578</a></div></div>
<div class="ttc" id="aavformat_8h_html_a51efe44185491ba0a214fe2bc92ac2a1"><div class="ttname"><a href="avformat_8h.html#a51efe44185491ba0a214fe2bc92ac2a1">AV_DISPOSITION_CAPTIONS</a></div><div class="ttdeci">#define AV_DISPOSITION_CAPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00849">avformat.h:849</a></div></div>
<div class="ttc" id="amatroska_8h_html_a64d55e1fe5ad03452ce55680a33319d5"><div class="ttname"><a href="matroska_8h.html#a64d55e1fe5ad03452ce55680a33319d5">MATROSKA_ID_AUDIOBITDEPTH</a></div><div class="ttdeci">#define MATROSKA_ID_AUDIOBITDEPTH</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00167">matroska.h:167</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea610509eb997372e2ea71cb6b4dfb553f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea610509eb997372e2ea71cb6b4dfb553f">AV_CODEC_ID_FFV1</a></div><div class="ttdeci">@ AV_CODEC_ID_FFV1</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00082">codec_id.h:82</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a1ec57ee84f19cf65d00eaa4d2a2253ce"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">AVCodecParameters::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00127">codec_par.h:127</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690ca0c0deec738375021a5fd31c6245862e4"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690ca0c0deec738375021a5fd31c6245862e4">MATROSKA_VIDEO_STEREOMODE_TYPE_LEFT_RIGHT</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_LEFT_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00303">matroska.h:303</a></div></div>
<div class="ttc" id="amatroska_8h_html_aae288c05d9252ac13a98d128f10a54a0"><div class="ttname"><a href="matroska_8h.html#aae288c05d9252ac13a98d128f10a54a0">MATROSKA_ID_TRACKFLAGDEFAULT</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKFLAGDEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00099">matroska.h:99</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_ad5a5bf73572e5fdb109e0bcd1aa99c7e"><div class="ttname"><a href="avio__internal_8h.html#ad5a5bf73572e5fdb109e0bcd1aa99c7e">ffio_init_context</a></div><div class="ttdeci">int ffio_init_context(AVIOContext *s, unsigned char *buffer, int buffer_size, int write_flag, void *opaque, int(*read_packet)(void *opaque, uint8_t *buf, int buf_size), int(*write_packet)(void *opaque, uint8_t *buf, int buf_size), int64_t(*seek)(void *opaque, int64_t offset, int whence))</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00088">aviobuf.c:88</a></div></div>
<div class="ttc" id="agroup__lavu__video__spherical_html_gga689eeb8cf9b453f3619f3cf626e03a08aa0a8bc866354ecb619493db502c4d103"><div class="ttname"><a href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08aa0a8bc866354ecb619493db502c4d103">AV_SPHERICAL_CUBEMAP</a></div><div class="ttdeci">@ AV_SPHERICAL_CUBEMAP</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00065">spherical.h:65</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a6abb955200b2c67d9fdafd382979d359"><div class="ttname"><a href="matroskaenc_8c.html#a6abb955200b2c67d9fdafd382979d359">put_xiph_codecpriv</a></div><div class="ttdeci">static int put_xiph_codecpriv(AVFormatContext *s, AVIOContext *pb, const AVCodecParameters *par)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00603">matroskaenc.c:603</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_a4384ad60cea40be0f3d20cec4801eaa0"><div class="ttname"><a href="avio__internal_8h.html#a4384ad60cea40be0f3d20cec4801eaa0">ffio_reset_dyn_buf</a></div><div class="ttdeci">void ffio_reset_dyn_buf(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01417">aviobuf.c:1417</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6a29a4a89f56c46999741e394e2019b221"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a29a4a89f56c46999741e394e2019b221">AV_STEREO3D_CHECKERBOARD</a></div><div class="ttdeci">@ AV_STEREO3D_CHECKERBOARD</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00104">stereo3d.h:104</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="amatroska_8h_html_a0a2b6e3a6aae7cadd8e6b4cf5d83aef6"><div class="ttname"><a href="matroska_8h.html#a0a2b6e3a6aae7cadd8e6b4cf5d83aef6">MATROSKA_ID_TRACKFLAGLACING</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKFLAGLACING</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00101">matroska.h:101</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="aextract__extradata__bsf_8c_html_a92ba2b3ed65ae251e69195d3ebe639b6"><div class="ttname"><a href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="extract__extradata__bsf_8c_source.html#l00049">extract_extradata_bsf.c:325</a></div></div>
<div class="ttc" id="amatroska_8h_html_afb3359ed5ecc693a0999e8c960c8a57c"><div class="ttname"><a href="matroska_8h.html#afb3359ed5ecc693a0999e8c960c8a57c">MATROSKA_ID_VIDEOCOLOR_GX</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_GX</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00147">matroska.h:147</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_af9e8f2bbcbb1bcf5b4cd5fcc4293375a"><div class="ttname"><a href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a></div><div class="ttdeci">enum AVCodecID ff_codec_get_id(const AVCodecTag *tags, unsigned int tag)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03087">utils.c:3097</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_af35b0a259e990d34f2324d26a1b0b197"><div class="ttname"><a href="matroskaenc_8c.html#af35b0a259e990d34f2324d26a1b0b197">mkv_blockgroup_size</a></div><div class="ttdeci">static int mkv_blockgroup_size(int pkt_size, int track_num_size)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01943">matroskaenc.c:1943</a></div></div>
<div class="ttc" id="avf__curves_8c_html_a2a1bf31ff09137e014c839bbaf9453d6"><div class="ttname"><a href="vf__curves_8c.html#a2a1bf31ff09137e014c839bbaf9453d6">master</a></div><div class="ttdeci">const char * master</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00117">vf_curves.c:117</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ad0fe028cca3bd1c1a55cf83a35906154"><div class="ttname"><a href="struct_matroska_mux_context.html#ad0fe028cca3bd1c1a55cf83a35906154">MatroskaMuxContext::cur_audio_pkt</a></div><div class="ttdeci">AVPacket cur_audio_pkt</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00140">matroskaenc.c:140</a></div></div>
<div class="ttc" id="aavc_8c_html_a3c387fceac914c5eeffe9e1d58572f22"><div class="ttname"><a href="avc_8c.html#a3c387fceac914c5eeffe9e1d58572f22">ff_isom_write_avcc</a></div><div class="ttdeci">int ff_isom_write_avcc(AVIOContext *pb, const uint8_t *data, int len)</div><div class="ttdef"><b>Definition:</b> <a href="avc_8c_source.html#l00108">avc.c:108</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_ga2c3404067d7e9bc7b8443e3f58cf8e65"><div class="ttname"><a href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65">av_stream_get_side_data</a></div><div class="ttdeci">uint8_t * av_stream_get_side_data(const AVStream *stream, enum AVPacketSideDataType type, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05431">utils.c:5431</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a473e7ba7a229dadb30df0aaf6e2b14a1"><div class="ttname"><a href="struct_matroska_mux_context.html#a473e7ba7a229dadb30df0aaf6e2b14a1">MatroskaMuxContext::info</a></div><div class="ttdeci">ebml_stored_master info</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00126">matroskaenc.c:126</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a6573b0a67d72d3a5daf5991433642366"><div class="ttname"><a href="matroskaenc_8c.html#a6573b0a67d72d3a5daf5991433642366">mkv_write_field_order</a></div><div class="ttdeci">static void mkv_write_field_order(AVIOContext *pb, int mode, enum AVFieldOrder field_order)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00985">matroskaenc.c:985</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a739ab5ffb5b044a787cb210b3aaf4c95"><div class="ttname"><a href="matroskaenc_8c.html#a739ab5ffb5b044a787cb210b3aaf4c95">mkv_write_native_codecprivate</a></div><div class="ttdeci">static int mkv_write_native_codecprivate(AVFormatContext *s, AVIOContext *pb, const AVCodecParameters *par, AVIOContext *dyn_cp)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00711">matroskaenc.c:711</a></div></div>
<div class="ttc" id="aavlanguage_8c_html_a94965ab4ec43db7b338650398a1a2906"><div class="ttname"><a href="avlanguage_8c.html#a94965ab4ec43db7b338650398a1a2906">ff_convert_lang_to</a></div><div class="ttdeci">const char * ff_convert_lang_to(const char *lang, enum AVLangCodespace target_codespace)</div><div class="ttdef"><b>Definition:</b> <a href="avlanguage_8c_source.html#l00736">avlanguage.c:736</a></div></div>
<div class="ttc" id="amatroska_8h_html_aa5acac504289d57514671fc3909f9167"><div class="ttname"><a href="matroska_8h.html#aa5acac504289d57514671fc3909f9167">MATROSKA_ID_FILEDATA</a></div><div class="ttdeci">#define MATROSKA_ID_FILEDATA</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00246">matroska.h:246</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a66633064606416ce80b823e7ef7fa81a"><div class="ttname"><a href="matroskaenc_8c.html#a66633064606416ce80b823e7ef7fa81a">mkv_strip_wavpack</a></div><div class="ttdeci">static int mkv_strip_wavpack(const uint8_t *src, uint8_t **pdst, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01952">matroskaenc.c:1952</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="astructebml__master_html_a6293d81333529357dd52391b7d7f4f1f"><div class="ttname"><a href="structebml__master.html#a6293d81333529357dd52391b7d7f4f1f">ebml_master::sizebytes</a></div><div class="ttdeci">int sizebytes</div><div class="ttdoc">how many bytes were reserved for the size</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00072">matroskaenc.c:72</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aab5542950d6beb910dc9237aac99989e"><div class="ttname"><a href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a></div><div class="ttdeci">void avpriv_set_pts_info(AVStream *s, int pts_wrap_bits, unsigned int pts_num, unsigned int pts_den)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04871">utils.c:4871</a></div></div>
<div class="ttc" id="amatroska_8h_html_adcb5b936fc398980720036c8885ad20c"><div class="ttname"><a href="matroska_8h.html#adcb5b936fc398980720036c8885ad20c">MATROSKA_ID_VIDEOPROJECTIONPOSEPITCH</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPROJECTIONPOSEPITCH</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00160">matroska.h:160</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a50ac6816da94a3f75197df9ec0e01ce7"><div class="ttname"><a href="struct_matroska_mux_context.html#a50ac6816da94a3f75197df9ec0e01ce7">MatroskaMuxContext::cluster_pts</a></div><div class="ttdeci">int64_t cluster_pts</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00132">matroskaenc.c:132</a></div></div>
<div class="ttc" id="amatroska_8h_html_ac281186c61c9fc682992eca180f2a448"><div class="ttname"><a href="matroska_8h.html#ac281186c61c9fc682992eca180f2a448">MATROSKA_ID_BLOCKMORE</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCKMORE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00229">matroska.h:229</a></div></div>
<div class="ttc" id="astruct_a_v_stereo3_d_html_a9e74d14d6b5dddcd6126da075558f102"><div class="ttname"><a href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">AVStereo3D::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00185">stereo3d.h:185</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a621bb23cec96007349c3d7b90472d8ad"><div class="ttname"><a href="matroskaenc_8c.html#a621bb23cec96007349c3d7b90472d8ad">MAX_SEEKHEAD_ENTRIES</a></div><div class="ttdeci">#define MAX_SEEKHEAD_ENTRIES</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00059">matroskaenc.c:59</a></div></div>
<div class="ttc" id="astructmkv__cuepoint_html_a86a08f5eb1d3920d08fdacde01ad665b"><div class="ttname"><a href="structmkv__cuepoint.html#a86a08f5eb1d3920d08fdacde01ad665b">mkv_cuepoint::pts</a></div><div class="ttdeci">uint64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00093">matroskaenc.c:93</a></div></div>
<div class="ttc" id="astructebml__stored__master_html_abe63244bd84f38c7ec4efd1c578ffdc3"><div class="ttname"><a href="structebml__stored__master.html#abe63244bd84f38c7ec4efd1c578ffdc3">ebml_stored_master::bc</a></div><div class="ttdeci">AVIOContext * bc</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00076">matroskaenc.c:76</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_ga2eaefe702f95f619ea6f2d08afa01be1"><div class="ttname"><a href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div><div class="ttdeci">#define AV_NOPTS_VALUE</div><div class="ttdoc">Undefined timestamp value.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00248">avutil.h:248</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf1fd3864a6fd0e82163fd85a0cadbbb0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf1fd3864a6fd0e82163fd85a0cadbbb0">AV_CODEC_ID_QDMC</a></div><div class="ttdeci">@ AV_CODEC_ID_QDMC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00468">codec_id.h:468</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ac42166aec6d3aabcf7a0b8d430cc2f16"><div class="ttname"><a href="matroskaenc_8c.html#ac42166aec6d3aabcf7a0b8d430cc2f16">put_ebml_void</a></div><div class="ttdeci">static void put_ebml_void(AVIOContext *pb, int size)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00319">matroskaenc.c:319</a></div></div>
<div class="ttc" id="amatroska_8h_html_a38d4c40726bbaae3ce955c3885bee60d"><div class="ttname"><a href="matroska_8h.html#a38d4c40726bbaae3ce955c3885bee60d">MATROSKA_ID_VIDEOCOLORMAXFALL</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORMAXFALL</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00142">matroska.h:142</a></div></div>
<div class="ttc" id="ariff_8h_html_a0d2db30ed7d1cdb2680054cc4572ae49"><div class="ttname"><a href="riff_8h.html#a0d2db30ed7d1cdb2680054cc4572ae49">FF_PUT_WAV_HEADER_FORCE_WAVEFORMATEX</a></div><div class="ttdeci">#define FF_PUT_WAV_HEADER_FORCE_WAVEFORMATEX</div><div class="ttdef"><b>Definition:</b> <a href="riff_8h_source.html#l00054">riff.h:54</a></div></div>
<div class="ttc" id="aavformat_8h_html_a3b9a2012b993edb9e2ba3db6d55db1ae"><div class="ttname"><a href="avformat_8h.html#a3b9a2012b993edb9e2ba3db6d55db1ae">AVFMT_ALLOW_FLUSH</a></div><div class="ttdeci">#define AVFMT_ALLOW_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00471">avformat.h:471</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a09218e6804fa8a6f404c773c2a03529a"><div class="ttname"><a href="struct_matroska_mux_context.html#a09218e6804fa8a6f404c773c2a03529a">MatroskaMuxContext::write_crc</a></div><div class="ttdeci">int write_crc</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00151">matroskaenc.c:151</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a></div><div class="ttdeci">@ AV_CODEC_ID_OPUS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00478">codec_id.h:478</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a1f86ed1b6a420faccacf77c98db6c1ffafd1c2fae7783c113d76a017c6e7b638f"><div class="ttname"><a href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffafd1c2fae7783c113d76a017c6e7b638f">AVCHROMA_LOC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCHROMA_LOC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00606">pixfmt.h:606</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a9f5a38e5e14c26c948c90ce2ebb14038"><div class="ttname"><a href="struct_matroska_mux_context.html#a9f5a38e5e14c26c948c90ce2ebb14038">MatroskaMuxContext::default_mode</a></div><div class="ttdeci">int default_mode</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00158">matroskaenc.c:158</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a020398a4963e932853cefc169d90456d"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a020398a4963e932853cefc169d90456d">AVCodecParameters::color_space</a></div><div class="ttdeci">enum AVColorSpace color_space</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:149</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="aavio_8h_html_a4dbe7c0b3d5c86e46b9991ee805c5e21a8adfdc2dc16ca97ae4ae16f7b72415ae"><div class="ttname"><a href="avio_8h.html#a4dbe7c0b3d5c86e46b9991ee805c5e21a8adfdc2dc16ca97ae4ae16f7b72415ae">AVIO_DATA_MARKER_SYNC_POINT</a></div><div class="ttdeci">@ AVIO_DATA_MARKER_SYNC_POINT</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00122">avio.h:122</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a9edd6329d2de9f511287156bab5760c8"><div class="ttname"><a href="matroskaenc_8c.html#a9edd6329d2de9f511287156bab5760c8">start_ebml_master_crc32</a></div><div class="ttdeci">static int start_ebml_master_crc32(AVIOContext **dyn_cp, MatroskaMuxContext *mkv)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00368">matroskaenc.c:368</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a4ad2e7f456d7763060c25e92be573341"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a4ad2e7f456d7763060c25e92be573341">AVMasteringDisplayMetadata::min_luminance</a></div><div class="ttdeci">AVRational min_luminance</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00052">mastering_display_metadata.h:52</a></div></div>
<div class="ttc" id="amatroska_8h_html_a721a35e1539f7d70cb12a56b0704f345"><div class="ttname"><a href="matroska_8h.html#a721a35e1539f7d70cb12a56b0704f345">MATROSKA_ID_POINTENTRY</a></div><div class="ttdeci">#define MATROSKA_ID_POINTENTRY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00188">matroska.h:188</a></div></div>
<div class="ttc" id="asdr2_8c_html_abd18f6ed7dc5da8824a97bc504e4280e"><div class="ttname"><a href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a></div><div class="ttdeci">static const uint8_t header[24]</div><div class="ttdef"><b>Definition:</b> <a href="sdr2_8c_source.html#l00067">sdr2.c:67</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aceeff47ef764a1d92a3239480093f0f1"><div class="ttname"><a href="matroskaenc_8c.html#aceeff47ef764a1d92a3239480093f0f1">CASE</a></div><div class="ttdeci">#define CASE(type, variable)</div></div>
<div class="ttc" id="aavio_8h_html_acc3626afc6aa3964b75d02811457164e"><div class="ttname"><a href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a></div><div class="ttdeci">void avio_write(AVIOContext *s, const unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00225">aviobuf.c:225</a></div></div>
<div class="ttc" id="aavio_8h_html_a1f2b9ee1bde6c6982072edbe929b47ea"><div class="ttname"><a href="avio_8h.html#a1f2b9ee1bde6c6982072edbe929b47ea">avio_wb32</a></div><div class="ttdeci">void avio_wb32(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00387">aviobuf.c:387</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a496e3c5d459c66add833d749e813bdb7"><div class="ttname"><a href="matroskaenc_8c.html#a496e3c5d459c66add833d749e813bdb7">additional_subtitle_tags</a></div><div class="ttdeci">static const AVCodecTag additional_subtitle_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02775">matroskaenc.c:2775</a></div></div>
<div class="ttc" id="aavio_8h_html_a16f2ba75f978a70f16dc55e2393f3439"><div class="ttname"><a href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a></div><div class="ttdeci">void avio_wl32(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00379">aviobuf.c:379</a></div></div>
<div class="ttc" id="agroup__lavu__crc32_html_gabb35ea72fdeee2645e4e57cae225ac2b"><div class="ttname"><a href="group__lavu__crc32.html#gabb35ea72fdeee2645e4e57cae225ac2b">av_crc_get_table</a></div><div class="ttdeci">const AVCRC * av_crc_get_table(AVCRCId crc_id)</div><div class="ttdef"><b>Definition:</b> <a href="crc_8c_source.html#l00374">crc.c:374</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa4566a412c746c9267e2461262d396fd"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa4566a412c746c9267e2461262d396fd">AV_CODEC_ID_RV30</a></div><div class="ttdeci">@ AV_CODEC_ID_RV30</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00117">codec_id.h:117</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a30b183741c76963532bb49afb3b9ec9d"><div class="ttname"><a href="struct_matroska_mux_context.html#a30b183741c76963532bb49afb3b9ec9d">MatroskaMuxContext::cluster_size_limit</a></div><div class="ttdeci">int cluster_size_limit</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00149">matroskaenc.c:149</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_ac25ed8394e1efdbbcf28932ff0020893"><div class="ttname"><a href="struct_a_v_codec_parameters.html#ac25ed8394e1efdbbcf28932ff0020893">AVCodecParameters::color_trc</a></div><div class="ttdeci">enum AVColorTransferCharacteristic color_trc</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:148</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97aea49ec141cf7f4b1c56da65d9c2df239"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97aea49ec141cf7f4b1c56da65d9c2df239">AV_PKT_DATA_CONTENT_LIGHT_LEVEL</a></div><div class="ttdeci">@ AV_PKT_DATA_CONTENT_LIGHT_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00235">packet.h:235</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a633e0a725537b96ec81834da7e843219"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a633e0a725537b96ec81834da7e843219">AVMasteringDisplayMetadata::display_primaries</a></div><div class="ttdeci">AVRational display_primaries[3][2]</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00042">mastering_display_metadata.h:42</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga1bafd682b1fbb90e48a4cc3814b820f7"><div class="ttname"><a href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a></div><div class="ttdeci">void av_dict_free(AVDictionary **pm)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00203">dict.c:203</a></div></div>
<div class="ttc" id="aallformats_8c_html_ac08b580118fb56c8d50cae561fe4d41d"><div class="ttname"><a href="allformats_8c.html#ac08b580118fb56c8d50cae561fe4d41d">ff_matroska_muxer</a></div><div class="ttdeci">AVOutputFormat ff_matroska_muxer</div></div>
<div class="ttc" id="alibkvazaar_8c_html_a4c7a521b8f1a0769c09bfa4a1fca7dab"><div class="ttname"><a href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00317">libkvazaar.c:317</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a2ae44dd6db4df863c2cd4093b33e4b8a"><div class="ttname"><a href="matroskaenc_8c.html#a2ae44dd6db4df863c2cd4093b33e4b8a">mkv_write_trailer</a></div><div class="ttdeci">static int mkv_write_trailer(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02455">matroskaenc.c:2455</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_ga5cca86880e9be72c89bca1c7a41eec99"><div class="ttname"><a href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a></div><div class="ttdeci">#define AV_STEREO3D_FLAG_INVERT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00167">stereo3d.h:167</a></div></div>
<div class="ttc" id="amatroska_8h_html_a68a7f1329dd628b0ba927ef710c643aa"><div class="ttname"><a href="matroska_8h.html#a68a7f1329dd628b0ba927ef710c643aa">MATROSKA_ID_VIDEOPIXELHEIGHT</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPIXELHEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00115">matroska.h:115</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a661eaec472e284a3b2920647349471dd"><div class="ttname"><a href="avcodec_8h.html#a661eaec472e284a3b2920647349471dd">FF_COMPLIANCE_NORMAL</a></div><div class="ttdeci">#define FF_COMPLIANCE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01592">avcodec.h:1592</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a5168f1a737916aae56f0cf41d71937f7"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a5168f1a737916aae56f0cf41d71937f7">AVSphericalMapping::bound_left</a></div><div class="ttdeci">uint32_t bound_left</div><div class="ttdoc">Distance from the left edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00167">spherical.h:167</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a3c28b64ef5b611ae31d4c09c8b69953a"><div class="ttname"><a href="matroskaenc_8c.html#a3c28b64ef5b611ae31d4c09c8b69953a">mkv_write_tags</a></div><div class="ttdeci">static int mkv_write_tags(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01541">matroskaenc.c:1541</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead6962d77136d74ee2ff0b8c9015b3cca"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead6962d77136d74ee2ff0b8c9015b3cca">AV_CODEC_ID_SVQ1</a></div><div class="ttdeci">@ AV_CODEC_ID_SVQ1</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00071">codec_id.h:71</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="astructmkv__cuepoint_html_ab76d3aaaa1be10d7dd8b3831cd068152"><div class="ttname"><a href="structmkv__cuepoint.html#ab76d3aaaa1be10d7dd8b3831cd068152">mkv_cuepoint::stream_idx</a></div><div class="ttdeci">int stream_idx</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00094">matroskaenc.c:94</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a3866500f51fabfa90faeae894c6e955c"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">AVCodecParameters::bits_per_coded_sample</a></div><div class="ttdeci">int bits_per_coded_sample</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00102">codec_par.h:102</a></div></div>
<div class="ttc" id="amatroska_8h_html_a45871aa4f1370c928b35a8004b3d0d7a"><div class="ttname"><a href="matroska_8h.html#a45871aa4f1370c928b35a8004b3d0d7a">MATROSKA_ID_MUXINGAPP</a></div><div class="ttdeci">#define MATROSKA_ID_MUXINGAPP</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00070">matroska.h:70</a></div></div>
<div class="ttc" id="amatroska_8h_html_a5667ad6feaae67f75fa97034c0fd976d"><div class="ttname"><a href="matroska_8h.html#a5667ad6feaae67f75fa97034c0fd976d">MATROSKA_ID_EDITIONFLAGDEFAULT</a></div><div class="ttdeci">#define MATROSKA_ID_EDITIONFLAGDEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00260">matroska.h:260</a></div></div>
<div class="ttc" id="affmpeg_8c_html_a8507683cee9accbbda79588659abcea8"><div class="ttname"><a href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a></div><div class="ttdeci">static void write_packet(OutputFile *of, AVPacket *pkt, OutputStream *ost, int unqueue)</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8c_source.html#l00703">ffmpeg.c:703</a></div></div>
<div class="ttc" id="astruct_a_v_content_light_metadata_html"><div class="ttname"><a href="struct_a_v_content_light_metadata.html">AVContentLightMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00098">mastering_display_metadata.h:98</a></div></div>
<div class="ttc" id="amatroska_8h_html_a60370909a744305a077f564f6d4781a3"><div class="ttname"><a href="matroska_8h.html#a60370909a744305a077f564f6d4781a3">MATROSKA_ID_FILEDESC</a></div><div class="ttdeci">#define MATROSKA_ID_FILEDESC</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00243">matroska.h:243</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga2016a52e94f867ebe5113bdf448e182d"><div class="ttname"><a href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a></div><div class="ttdeci">const char * avcodec_get_name(enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01204">utils.c:1204</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4">AV_FIELD_BB</a></div><div class="ttdeci">@ AV_FIELD_BB</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00040">codec_par.h:40</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aab32034f1bf20bafa42b272754e27de9"><div class="ttname"><a href="matroskaenc_8c.html#aab32034f1bf20bafa42b272754e27de9">MAX_SEEKENTRY_SIZE</a></div><div class="ttdeci">#define MAX_SEEKENTRY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00169">matroskaenc.c:169</a></div></div>
<div class="ttc" id="amatroska_8h_html_a41683d8bc615ae61da536c9b237b807b"><div class="ttname"><a href="matroska_8h.html#a41683d8bc615ae61da536c9b237b807b">MATROSKA_ID_VIDEOPROJECTIONTYPE</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPROJECTIONTYPE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00157">matroska.h:157</a></div></div>
<div class="ttc" id="ahevc_8c_html_a81c4ea74f4e7c8c3ed1a9a8ad7336d91"><div class="ttname"><a href="hevc_8c.html#a81c4ea74f4e7c8c3ed1a9a8ad7336d91">ff_isom_write_hvcc</a></div><div class="ttdeci">int ff_isom_write_hvcc(AVIOContext *pb, const uint8_t *data, int size, int ps_array_completeness)</div><div class="ttdef"><b>Definition:</b> <a href="hevc_8c_source.html#l01068">hevc.c:1068</a></div></div>
<div class="ttc" id="aintfloat_8h_html_ae3b5f3db537273543dfcce45816ba02a"><div class="ttname"><a href="intfloat_8h.html#ae3b5f3db537273543dfcce45816ba02a">av_double2int</a></div><div class="ttdeci">static av_always_inline uint64_t av_double2int(double f)</div><div class="ttdef"><b>Definition:</b> <a href="intfloat_8h_source.html#l00070">intfloat.h:70</a></div></div>
<div class="ttc" id="astructebml__master_html"><div class="ttname"><a href="structebml__master.html">ebml_master</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00070">matroskaenc.c:70</a></div></div>
<div class="ttc" id="amatroska_8h_html_a9e6c97b955566bd51172d0934d48032c"><div class="ttname"><a href="matroska_8h.html#a9e6c97b955566bd51172d0934d48032c">MATROSKA_ID_FILENAME</a></div><div class="ttdeci">#define MATROSKA_ID_FILENAME</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00244">matroska.h:244</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea64b4d0a85fa2d177c6d72a04b2ab07c3"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea64b4d0a85fa2d177c6d72a04b2ab07c3">AV_CODEC_ID_RA_288</a></div><div class="ttdeci">@ AV_CODEC_ID_RA_288</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00405">codec_id.h:405</a></div></div>
<div class="ttc" id="astructebml__stored__master_html_a2a7365ea068fe21ed054cf31237e1b98"><div class="ttname"><a href="structebml__stored__master.html#a2a7365ea068fe21ed054cf31237e1b98">ebml_stored_master::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00077">matroskaenc.c:77</a></div></div>
<div class="ttc" id="amatroska_8h_html_ac0e4bdeb8272d8166418e81df3fe9fb0"><div class="ttname"><a href="matroska_8h.html#ac0e4bdeb8272d8166418e81df3fe9fb0">MATROSKA_ID_CODECID</a></div><div class="ttdeci">#define MATROSKA_ID_CODECID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00088">matroska.h:88</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8565d2953c28245356f94c3fde6480ea"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8565d2953c28245356f94c3fde6480ea">AV_CODEC_ID_RV10</a></div><div class="ttdeci">@ AV_CODEC_ID_RV10</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00054">codec_id.h:54</a></div></div>
<div class="ttc" id="aavformat_8h_html_ab203c7b734e9c31b7c37d34f6e2c6aef"><div class="ttname"><a href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a></div><div class="ttdeci">#define AVFMT_GLOBALHEADER</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00461">avformat.h:461</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a></div><div class="ttdeci">@ AV_CODEC_ID_NONE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00047">codec_id.h:47</a></div></div>
<div class="ttc" id="aavio__internal_8h_html"><div class="ttname"><a href="avio__internal_8h.html">avio_internal.h</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a9aad44bed0c244bb2f4d3e7296b2946a"><div class="ttname"><a href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a></div><div class="ttdeci">#define AV_WL32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00290">intreadwrite.h:290</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga0c3c218e1dd570ad4917c69a35a6c77d"><div class="ttname"><a href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a></div><div class="ttdeci">int av_get_bytes_per_sample(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00106">samplefmt.c:106</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a3e57b788daab836f616fad8f9a387306"><div class="ttname"><a href="matroskaenc_8c.html#a3e57b788daab836f616fad8f9a387306">put_ebml_length</a></div><div class="ttdeci">static void put_ebml_length(AVIOContext *pb, uint64_t length, int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00240">matroskaenc.c:240</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8c3ef0a1eec3cf22756a1323989ff4d8"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c3ef0a1eec3cf22756a1323989ff4d8">AV_CODEC_ID_THEORA</a></div><div class="ttdeci">@ AV_CODEC_ID_THEORA</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00079">codec_id.h:79</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gaa11ed202b70e1f52bac809811a910e2a"><div class="ttname"><a href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a></div><div class="ttdeci">#define AV_TIME_BASE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00254">avutil.h:254</a></div></div>
<div class="ttc" id="amatroska_8h_html_ad125455c09f945d87b11712287eec493"><div class="ttname"><a href="matroska_8h.html#ad125455c09f945d87b11712287eec493">MATROSKA_ID_CUECLUSTERPOSITION</a></div><div class="ttdeci">#define MATROSKA_ID_CUECLUSTERPOSITION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00196">matroska.h:196</a></div></div>
<div class="ttc" id="astructmkv__cuepoint_html_a20be82b1897a27fba735b31362557363"><div class="ttname"><a href="structmkv__cuepoint.html#a20be82b1897a27fba735b31362557363">mkv_cuepoint::cluster_pos</a></div><div class="ttdeci">int64_t cluster_pos</div><div class="ttdoc">offset of the cluster containing the block relative to the segment</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00095">matroskaenc.c:95</a></div></div>
<div class="ttc" id="astructmkv__seekhead_html"><div class="ttname"><a href="structmkv__seekhead.html">mkv_seekhead</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00085">matroskaenc.c:85</a></div></div>
<div class="ttc" id="amatroska_8h_html_a6f8b9b4d3e735e0b206946463e2afef5"><div class="ttname"><a href="matroska_8h.html#a6f8b9b4d3e735e0b206946463e2afef5">MATROSKA_ID_CUETRACK</a></div><div class="ttdeci">#define MATROSKA_ID_CUETRACK</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00195">matroska.h:195</a></div></div>
<div class="ttc" id="astructmkv__seekhead_html_ad1a19d396cb3d8121641229d3f330b18"><div class="ttname"><a href="structmkv__seekhead.html#ad1a19d396cb3d8121641229d3f330b18">mkv_seekhead::entries</a></div><div class="ttdeci">mkv_seekhead_entry entries[MAX_SEEKHEAD_ENTRIES]</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00087">matroskaenc.c:87</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab525a079f7927882e285a5a2322e4276"><div class="ttname"><a href="matroska_8h.html#ab525a079f7927882e285a5a2322e4276">MATROSKA_ID_SEEKPOSITION</a></div><div class="ttdeci">#define MATROSKA_ID_SEEKPOSITION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00221">matroska.h:221</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ac38b5b3d2bf3df1827a1a595211a8c23"><div class="ttname"><a href="struct_matroska_mux_context.html#ac38b5b3d2bf3df1827a1a595211a8c23">MatroskaMuxContext::tracks</a></div><div class="ttdeci">mkv_track * tracks</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00135">matroskaenc.c:135</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6a4cf21029b6e5aa28bf53fbd9740443c9"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a4cf21029b6e5aa28bf53fbd9740443c9">AV_STEREO3D_TOPBOTTOM</a></div><div class="ttdeci">@ AV_STEREO3D_TOPBOTTOM</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00079">stereo3d.h:79</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="amatroska_8h_html_a84b146452a0382c1db1a60a7d006a9a7"><div class="ttname"><a href="matroska_8h.html#a84b146452a0382c1db1a60a7d006a9a7">MATROSKA_ID_CLUSTER</a></div><div class="ttdeci">#define MATROSKA_ID_CLUSTER</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00062">matroska.h:62</a></div></div>
<div class="ttc" id="abswap_8h_html_a610c453f4731b545a1528ffdddccd349"><div class="ttname"><a href="bswap_8h.html#a610c453f4731b545a1528ffdddccd349">av_le2ne32</a></div><div class="ttdeci">#define av_le2ne32(x)</div><div class="ttdef"><b>Definition:</b> <a href="bswap_8h_source.html#l00096">bswap.h:96</a></div></div>
<div class="ttc" id="amatroska_8h_html_a34de9207b538dbef9e57eabe0af03308"><div class="ttname"><a href="matroska_8h.html#a34de9207b538dbef9e57eabe0af03308">MATROSKA_ID_TRACKLANGUAGE</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKLANGUAGE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00097">matroska.h:97</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceab0bbb03eef201676cd723df390cdc795"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab0bbb03eef201676cd723df390cdc795">AV_CODEC_ID_RV20</a></div><div class="ttdeci">@ AV_CODEC_ID_RV20</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00055">codec_id.h:55</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a></div><div class="ttdeci">@ AV_CODEC_ID_HEVC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00223">codec_id.h:223</a></div></div>
<div class="ttc" id="astructebml__master_html_a0a13520fe3141ef75cb78111a0b840f0"><div class="ttname"><a href="structebml__master.html#a0a13520fe3141ef75cb78111a0b840f0">ebml_master::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdoc">absolute offset in the containing AVIOContext where the master's elements start</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00071">matroskaenc.c:71</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a></div><div class="ttdeci">@ AVMEDIA_TYPE_ATTACHMENT</div><div class="ttdoc">Opaque data information usually sparse.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00205">avutil.h:205</a></div></div>
<div class="ttc" id="amatroska_8h_html_a9ba38e4a39821f61b34e0e7e4340934e"><div class="ttname"><a href="matroska_8h.html#a9ba38e4a39821f61b34e0e7e4340934e">MATROSKA_ID_VIDEOFLAGINTERLACED</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOFLAGINTERLACED</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00121">matroska.h:121</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1">AV_CODEC_ID_PCM_S32BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S32BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00317">codec_id.h:317</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="amatroska_8h_html_acc9233d896eae92cad2ec9222dbfa06b"><div class="ttname"><a href="matroska_8h.html#acc9233d896eae92cad2ec9222dbfa06b">EBML_ID_CRC32</a></div><div class="ttdeci">#define EBML_ID_CRC32</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00046">matroska.h:46</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a5f82d37755e0d54559c254b7bdefffbe"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a5f82d37755e0d54559c254b7bdefffbe">AVSphericalMapping::bound_top</a></div><div class="ttdeci">uint32_t bound_top</div><div class="ttdoc">Distance from the top edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00168">spherical.h:168</a></div></div>
<div class="ttc" id="astruct_a_v_codec_descriptor_html"><div class="ttname"><a href="struct_a_v_codec_descriptor.html">AVCodecDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8h_source.html#l00038">codec_desc.h:38</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a0e30962e66d883ddba77fac5af55d3af"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a0e30962e66d883ddba77fac5af55d3af">AVMasteringDisplayMetadata::has_primaries</a></div><div class="ttdeci">int has_primaries</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00062">mastering_display_metadata.h:62</a></div></div>
<div class="ttc" id="amatroska_8c_html_a7e17f27ca6d530e4cf501d0377d724cb"><div class="ttname"><a href="matroska_8c.html#a7e17f27ca6d530e4cf501d0377d724cb">ff_mkv_metadata_conv</a></div><div class="ttdeci">const AVMetadataConv ff_mkv_metadata_conv[]</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8c_source.html#l00122">matroska.c:122</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gab646f0a7cc30af543ba4a91b37f9de6e"><div class="ttname"><a href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a></div><div class="ttdeci">static av_always_inline AVRational av_inv_q(AVRational q)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00159">rational.h:159</a></div></div>
<div class="ttc" id="aallformats_8c_html_ad69a69c64d0e031d96762fd3a6d8066f"><div class="ttname"><a href="allformats_8c.html#ad69a69c64d0e031d96762fd3a6d8066f">ff_webm_muxer</a></div><div class="ttdeci">AVOutputFormat ff_webm_muxer</div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a2093332d8086d25a04942ede61007f6a"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a2093332d8086d25a04942ede61007f6a">AV_PKT_DATA_SKIP_SAMPLES</a></div><div class="ttdeci">@ AV_PKT_DATA_SKIP_SAMPLES</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00156">packet.h:156</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba7c21c95c1e0e8f74a432c740f0238609"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba7c21c95c1e0e8f74a432c740f0238609">DEFAULT_MODE_INFER_NO_SUBS</a></div><div class="ttdeci">@ DEFAULT_MODE_INFER_NO_SUBS</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00066">matroskaenc.c:66</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_abfc9b0aa975206f7e77a125e6b78536e"><div class="ttname"><a href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">AVCodecParameters::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00170">codec_par.h:170</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_SPC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00515">pixfmt.h:515</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga3daf97178dd1b08b5e916be381cd33e4"><div class="ttname"><a href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a></div><div class="ttdeci">int64_t av_rescale(int64_t a, int64_t b, int64_t c)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00129">mathematics.c:129</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ac68c8c9bd5f143a7e09866c7da23bd03"><div class="ttname"><a href="matroskaenc_8c.html#ac68c8c9bd5f143a7e09866c7da23bd03">mkv_check_tag_name</a></div><div class="ttdeci">static int mkv_check_tag_name(const char *name, uint32_t elementid)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01490">matroskaenc.c:1490</a></div></div>
<div class="ttc" id="amatroska_8h_html_abf7cac814a6fe5ec33d2526e23784f4f"><div class="ttname"><a href="matroska_8h.html#abf7cac814a6fe5ec33d2526e23784f4f">MATROSKA_ID_CHAPTERUID</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPTERUID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00262">matroska.h:262</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a2356239ed04dd37ed6638b0087801cce"><div class="ttname"><a href="matroskaenc_8c.html#a2356239ed04dd37ed6638b0087801cce">get_aac_sample_rates</a></div><div class="ttdeci">static int get_aac_sample_rates(AVFormatContext *s, MatroskaMuxContext *mkv, const uint8_t *extradata, int extradata_size, int *sample_rate, int *output_sample_rate)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00678">matroskaenc.c:678</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html"><div class="ttname"><a href="struct_a_v_codec_parameters.html">AVCodecParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00052">codec_par.h:52</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_af89ed82d443a4311ab9531a377356b57"><div class="ttname"><a href="struct_matroska_mux_context.html#af89ed82d443a4311ab9531a377356b57">MatroskaMuxContext::wrote_chapters</a></div><div class="ttdeci">int wrote_chapters</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00145">matroskaenc.c:145</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a7e108711c8f3afd513871754953fdbd5"><div class="ttname"><a href="struct_matroska_mux_context.html#a7e108711c8f3afd513871754953fdbd5">MatroskaMuxContext::flipped_raw_rgb</a></div><div class="ttdeci">int flipped_raw_rgb</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00157">matroskaenc.c:157</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_addf45817ef0970905e650aff3907ce4d"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#addf45817ef0970905e650aff3907ce4d">AVMasteringDisplayMetadata::has_luminance</a></div><div class="ttdeci">int has_luminance</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00067">mastering_display_metadata.h:67</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690ca6dc00e269ce354a0c6a5406dfdf85cf3"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690ca6dc00e269ce354a0c6a5406dfdf85cf3">MATROSKA_VIDEO_STEREOMODE_TYPE_RIGHT_LEFT</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_RIGHT_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00313">matroska.h:313</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a5034bc21db6c59fc34f90252a28b9f82"><div class="ttname"><a href="matroskaenc_8c.html#a5034bc21db6c59fc34f90252a28b9f82">MAX_EBML_HEADER_SIZE</a></div><div class="ttdeci">#define MAX_EBML_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00165">matroskaenc.c:165</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_abaf1dde8628f10a0503d01a19615e935"><div class="ttname"><a href="matroskaenc_8c.html#abaf1dde8628f10a0503d01a19615e935">mkv_end_cluster</a></div><div class="ttdeci">static int mkv_end_cluster(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02162">matroskaenc.c:2162</a></div></div>
<div class="ttc" id="amatroska_8h_html_ad549d6e4b352606fd8da776dd39e2bfc"><div class="ttname"><a href="matroska_8h.html#ad549d6e4b352606fd8da776dd39e2bfc">MATROSKA_ID_VIDEOPROJECTIONPOSEYAW</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPROJECTIONPOSEYAW</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00159">matroska.h:159</a></div></div>
<div class="ttc" id="aavformat_8h_html_a918dc7abf0d4f7abd36a2ea2a594feaf"><div class="ttname"><a href="avformat_8h.html#a918dc7abf0d4f7abd36a2ea2a594feaf">AVFMT_TS_NONSTRICT</a></div><div class="ttdeci">#define AVFMT_TS_NONSTRICT</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00474">avformat.h:472</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gaa440bf42ede128219a571ae4ce0f90b8"><div class="ttname"><a href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a></div><div class="ttdeci">static int av_cmp_q(AVRational a, AVRational b)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00089">rational.h:89</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="matroskaenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02782">matroskaenc.c:2782</a></div></div>
<div class="ttc" id="amovenc_8c_html_a1c50fcd1195659821729f52af8f3bb7d"><div class="ttname"><a href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a></div><div class="ttdeci">uint32_t tag</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01597">movenc.c:1597</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_a0e53694570a3310ab083ee4eb157b114"><div class="ttname"><a href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a></div><div class="ttdeci">void ffio_free_dyn_buf(AVIOContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01458">aviobuf.c:1458</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a50d250a128a3da9ce3d135e84213fb82"><div class="ttname"><a href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">AVStream::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00933">avformat.h:933</a></div></div>
<div class="ttc" id="aavformat_8h_html_a2fa1d95841e62af509ba733a11c1b25b"><div class="ttname"><a href="avformat_8h.html#a2fa1d95841e62af509ba733a11c1b25b">AVFMT_FLAG_BITEXACT</a></div><div class="ttdeci">#define AVFMT_FLAG_BITEXACT</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01371">avformat.h:1371</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="astructmkv__track_html_a738a83f1247c7a0a4db847221fab989d"><div class="ttname"><a href="structmkv__track.html#a738a83f1247c7a0a4db847221fab989d">mkv_track::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00111">matroskaenc.c:111</a></div></div>
<div class="ttc" id="aavio_8h_html_a03e23bf0144030961c34e803c71f614f"><div class="ttname"><a href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a></div><div class="ttdeci">int64_t avio_seek(AVIOContext *s, int64_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00253">aviobuf.c:253</a></div></div>
<div class="ttc" id="astructmkv__seekhead__entry_html_a4706e27087f33247ffbc451ede9efc07"><div class="ttname"><a href="structmkv__seekhead__entry.html#a4706e27087f33247ffbc451ede9efc07">mkv_seekhead_entry::elementid</a></div><div class="ttdeci">uint32_t elementid</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00081">matroskaenc.c:81</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6a1ea7966fe2696b13348a3cf0544e3caa"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a1ea7966fe2696b13348a3cf0544e3caa">AV_STEREO3D_COLUMNS</a></div><div class="ttdeci">@ AV_STEREO3D_COLUMNS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00141">stereo3d.h:141</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="astructmkv__track_html_a2476448832fd1d1e225cf9b420f0f814"><div class="ttname"><a href="structmkv__track.html#a2476448832fd1d1e225cf9b420f0f814">mkv_track::last_timestamp</a></div><div class="ttdeci">int64_t last_timestamp</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00113">matroskaenc.c:113</a></div></div>
<div class="ttc" id="amatroska_8h_html_a5f943b54da25f3af751f09a971d7772a"><div class="ttname"><a href="matroska_8h.html#a5f943b54da25f3af751f09a971d7772a">MATROSKA_ID_VIDEOCOLOR_BX</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_BX</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00149">matroska.h:149</a></div></div>
<div class="ttc" id="astruct_a_v_stereo3_d_html_a052514d0376a94e58e3eb9db3db2a7ce"><div class="ttname"><a href="struct_a_v_stereo3_d.html#a052514d0376a94e58e3eb9db3db2a7ce">AVStereo3D::type</a></div><div class="ttdeci">enum AVStereo3DType type</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00226">stereo3d.h:180</a></div></div>
<div class="ttc" id="amatroska_8h_html_a83dbd8e3ca298b8a87ae1339b3a2b056"><div class="ttname"><a href="matroska_8h.html#a83dbd8e3ca298b8a87ae1339b3a2b056">MATROSKA_ID_TAGSTRING</a></div><div class="ttdeci">#define MATROSKA_ID_TAGSTRING</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00205">matroska.h:205</a></div></div>
<div class="ttc" id="astructmkv__seekhead__entry_html_a1601d4120da2440652db51e6dccbd9df"><div class="ttname"><a href="structmkv__seekhead__entry.html#a1601d4120da2440652db51e6dccbd9df">mkv_seekhead_entry::segmentpos</a></div><div class="ttdeci">uint64_t segmentpos</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00082">matroskaenc.c:82</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ad29d501ce459285893c960bb9dae8e79"><div class="ttname"><a href="matroskaenc_8c.html#ad29d501ce459285893c960bb9dae8e79">put_ebml_string</a></div><div class="ttdeci">static void put_ebml_string(AVIOContext *pb, uint32_t elementid, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00307">matroskaenc.c:307</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae2f1dbd53f6fb15a266da08915be697a"><div class="ttname"><a href="matroska_8h.html#ae2f1dbd53f6fb15a266da08915be697a">MATROSKA_ID_VIDEOCOLORMATRIXCOEFF</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORMATRIXCOEFF</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00129">matroska.h:129</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="adict_8h_html"><div class="ttname"><a href="dict_8h.html">dict.h</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_aaad422230e2b0f0ebfb981275e22ffb0"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#aaad422230e2b0f0ebfb981275e22ffb0">AVSphericalMapping::roll</a></div><div class="ttdeci">int32_t roll</div><div class="ttdoc">Rotation around the forward vector [-180, 180].</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00128">spherical.h:128</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea3b738e90e2e06c46df79d6b82f2f096b"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3b738e90e2e06c46df79d6b82f2f096b">AV_CODEC_ID_TEXT</a></div><div class="ttdeci">@ AV_CODEC_ID_TEXT</div><div class="ttdoc">raw UTF-8 text</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00519">codec_id.h:519</a></div></div>
<div class="ttc" id="amatroska_8h_html_a60a8f87d75f9026895f16c17892fc2f3"><div class="ttname"><a href="matroska_8h.html#a60a8f87d75f9026895f16c17892fc2f3">MATROSKA_ID_SIMPLEBLOCK</a></div><div class="ttdeci">#define MATROSKA_ID_SIMPLEBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00232">matroska.h:232</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ae57b59ffde1c6a97ea952577c74f1934"><div class="ttname"><a href="matroskaenc_8c.html#ae57b59ffde1c6a97ea952577c74f1934">mkv_check_tag</a></div><div class="ttdeci">static int mkv_check_tag(const AVDictionary *m, uint32_t elementid)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01530">matroskaenc.c:1530</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="aavformat_8h_html_ae578ee8b851860926955855d1234f93f"><div class="ttname"><a href="avformat_8h.html#ae578ee8b851860926955855d1234f93f">AV_DISPOSITION_DESCRIPTIONS</a></div><div class="ttdeci">#define AV_DISPOSITION_DESCRIPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00850">avformat.h:850</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a6ccad09b4a2a06ae178418fdccf5940d"><div class="ttname"><a href="matroskaenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a></div><div class="ttdeci">#define FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02783">matroskaenc.c:2783</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ac8293c3af1793e062f39b503a79f8dd1"><div class="ttname"><a href="matroskaenc_8c.html#ac8293c3af1793e062f39b503a79f8dd1">mkv_deinit</a></div><div class="ttdeci">static void mkv_deinit(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00450">matroskaenc.c:450</a></div></div>
<div class="ttc" id="aavio_8h_html_a79127cec97b09a308b549253119ff38f"><div class="ttname"><a href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a></div><div class="ttdeci">int avio_printf(AVIOContext *s, const char *fmt,...) av_printf_format(2</div></div>
<div class="ttc" id="amatroska_8h_html_adce316933afe99238b9156cc94971fc5"><div class="ttname"><a href="matroska_8h.html#adce316933afe99238b9156cc94971fc5">MATROSKA_ID_EDITIONENTRY</a></div><div class="ttdeci">#define MATROSKA_ID_EDITIONENTRY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00250">matroska.h:250</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aa270b99960f94170acf7e9c8abcefbab"><div class="ttname"><a href="matroskaenc_8c.html#aa270b99960f94170acf7e9c8abcefbab">mkv_query_codec</a></div><div class="ttdeci">static int mkv_query_codec(enum AVCodecID codec_id, int std_compliance)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02611">matroskaenc.c:2611</a></div></div>
<div class="ttc" id="ariff_8c_html_ab352e82619d77c87a198467142d86b25"><div class="ttname"><a href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_bmp_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="riff_8c_source.html#l00032">riff.c:32</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a568f42009ae0980df91964bac29ccafc"><div class="ttname"><a href="matroskaenc_8c.html#a568f42009ae0980df91964bac29ccafc">mkv_write_block</a></div><div class="ttdeci">static int mkv_write_block(AVFormatContext *s, AVIOContext *pb, uint32_t blockid, const AVPacket *pkt, int keyframe)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02005">matroskaenc.c:2005</a></div></div>
<div class="ttc" id="arandom__seed_8h_html"><div class="ttname"><a href="random__seed_8h.html">random_seed.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a33375dd96ababeb14be37b52cdd8e1c3"><div class="ttname"><a href="matroska_8h.html#a33375dd96ababeb14be37b52cdd8e1c3">EBML_ID_HEADER</a></div><div class="ttdeci">#define EBML_ID_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00033">matroska.h:33</a></div></div>
<div class="ttc" id="achannel__layout_8h_html"><div class="ttname"><a href="channel__layout_8h.html">channel_layout.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a299d6c7c9445d0711eace9481b5b11fc"><div class="ttname"><a href="matroska_8h.html#a299d6c7c9445d0711eace9481b5b11fc">EBML_ID_EBMLVERSION</a></div><div class="ttdeci">#define EBML_ID_EBMLVERSION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00036">matroska.h:36</a></div></div>
<div class="ttc" id="astructmkv__track_html"><div class="ttname"><a href="structmkv__track.html">mkv_track</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00105">matroskaenc.c:105</a></div></div>
<div class="ttc" id="awv_8h_html"><div class="ttname"><a href="wv_8h.html">wv.h</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ace46e41b9bd6cac88fb7109ffd657f9a"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a></div><div class="ttdeci">#define AV_RL32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00146">intreadwrite.h:146</a></div></div>
<div class="ttc" id="aavio_8h_html_a03ea0dfa113a05f4843bbfff69e0cd0a"><div class="ttname"><a href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a></div><div class="ttdeci">#define AVIO_SEEKABLE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00040">avio.h:40</a></div></div>
<div class="ttc" id="agroup__lavu__crc32_html_gae0feb73f66306494315f07de7ab57f80"><div class="ttname"><a href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a></div><div class="ttdeci">uint32_t av_crc(const AVCRC *ctx, uint32_t crc, const uint8_t *buffer, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="crc_8c_source.html#l00392">crc.c:392</a></div></div>
<div class="ttc" id="amatroska_8h_html_a799ea0e6819dad2819cc1050b2095ea1"><div class="ttname"><a href="matroska_8h.html#a799ea0e6819dad2819cc1050b2095ea1">MATROSKA_ID_TAGLANG</a></div><div class="ttdeci">#define MATROSKA_ID_TAGLANG</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00206">matroska.h:206</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a></div><div class="ttdeci">@ AV_PKT_DATA_NEW_EXTRADATA</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00055">packet.h:55</a></div></div>
<div class="ttc" id="aebur128_8h_html_a1a6b6fb557d8d37d59700faf4e4c9167"><div class="ttname"><a href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a></div><div class="ttdeci">mode</div><div class="ttdef"><b>Definition:</b> <a href="ebur128_8h_source.html#l00083">ebur128.h:83</a></div></div>
<div class="ttc" id="amatroska_8h_html_ae0972d03d226ec5e9d499a437528182d"><div class="ttname"><a href="matroska_8h.html#ae0972d03d226ec5e9d499a437528182d">MATROSKA_ID_VIDEOCOLOR</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00127">matroska.h:127</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_ad7d7c61a2550cc4284076cc846873702"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#ad7d7c61a2550cc4284076cc846873702">AVSphericalMapping::yaw</a></div><div class="ttdeci">int32_t yaw</div><div class="ttdoc">Rotation around the up vector [-180, 180].</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00126">spherical.h:126</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a4c851e6ef9ba79319e106afba3b23a62"><div class="ttname"><a href="libavformat_2internal_8h.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a></div><div class="ttdeci">unsigned int ff_codec_get_tag(const AVCodecTag *tags, enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03087">utils.c:3087</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="amatroska_8h_html_a5dc2482ee1fbce9c898e9f9404aea272"><div class="ttname"><a href="matroska_8h.html#a5dc2482ee1fbce9c898e9f9404aea272">MATROSKA_ID_VIDEOCOLORTRANSFERCHARACTERISTICS</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORTRANSFERCHARACTERISTICS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00138">matroska.h:138</a></div></div>
<div class="ttc" id="arate__distortion_8txt_html_a5bbe6c8a71ca24f0cb584693392c94d7"><div class="ttname"><a href="rate__distortion_8txt.html#a5bbe6c8a71ca24f0cb584693392c94d7">video</a></div><div class="ttdeci">A Quick Description Of Rate Distortion Theory We want to encode a video</div><div class="ttdef"><b>Definition:</b> <a href="rate__distortion_8txt_source.html#l00003">rate_distortion.txt:3</a></div></div>
<div class="ttc" id="amatroska_8h_html_aa6b9a485eeb486ec8b1af25f58a0e552"><div class="ttname"><a href="matroska_8h.html#aa6b9a485eeb486ec8b1af25f58a0e552">MATROSKA_ID_VIDEOCOLOR_RX</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_RX</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00145">matroska.h:145</a></div></div>
<div class="ttc" id="ainterplayacm_8c_html_ab5e0de96a4425181a23393983beba953"><div class="ttname"><a href="interplayacm_8c.html#ab5e0de96a4425181a23393983beba953">filler</a></div><div class="ttdeci">int(* filler)(InterplayACMContext *s, unsigned ind, unsigned col)</div><div class="ttdef"><b>Definition:</b> <a href="interplayacm_8c_source.html#l00407">interplayacm.c:407</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a338b543c7595d55ed9461c4d7f2a1e64"><div class="ttname"><a href="matroskaenc_8c.html#a338b543c7595d55ed9461c4d7f2a1e64">end_ebml_master_crc32_tentatively</a></div><div class="ttdeci">static int end_ebml_master_crc32_tentatively(AVIOContext *pb, ebml_stored_master *elem, MatroskaMuxContext *mkv, uint32_t id)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00418">matroskaenc.c:418</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab0a142955c6bbdb28c3b8bd2fe091da9aa122d938f968232ea3940186cb34e7a9"><div class="ttname"><a href="matroska_8h.html#ab0a142955c6bbdb28c3b8bd2fe091da9aa122d938f968232ea3940186cb34e7a9">MATROSKA_TRACK_TYPE_SUBTITLE</a></div><div class="ttdeci">@ MATROSKA_TRACK_TYPE_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00273">matroska.h:273</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ac11d3a7eb844a80dc9752cc94e1b4186"><div class="ttname"><a href="matroskaenc_8c.html#ac11d3a7eb844a80dc9752cc94e1b4186">mkv_add_cuepoint</a></div><div class="ttdeci">static int mkv_add_cuepoint(MatroskaMuxContext *mkv, int stream, int64_t ts, int64_t cluster_pos, int64_t relative_pos, int64_t duration)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00531">matroskaenc.c:531</a></div></div>
<div class="ttc" id="aflacenc_8h_html_ab407330b4141de55f77b3005ec9c2874"><div class="ttname"><a href="flacenc_8h.html#ab407330b4141de55f77b3005ec9c2874">ff_flac_write_header</a></div><div class="ttdeci">int ff_flac_write_header(AVIOContext *pb, const uint8_t *extradata, int extradata_size, int last_block)</div><div class="ttdef"><b>Definition:</b> <a href="flacenc__header_8c_source.html#l00029">flacenc_header.c:29</a></div></div>
<div class="ttc" id="astructmkv__seekhead_html_a3d7d74ebb3ccc8211567ccb7237fa9fa"><div class="ttname"><a href="structmkv__seekhead.html#a3d7d74ebb3ccc8211567ccb7237fa9fa">mkv_seekhead::filepos</a></div><div class="ttdeci">int64_t filepos</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00086">matroskaenc.c:86</a></div></div>
<div class="ttc" id="amatroska_8h_html_a987f3c12f166c9da84b0f3c78ef26d9eadbdf64f14e44058c5627fc32a0d8067b"><div class="ttname"><a href="matroska_8h.html#a987f3c12f166c9da84b0f3c78ef26d9eadbdf64f14e44058c5627fc32a0d8067b">MATROSKA_VIDEO_PROJECTION_TYPE_EQUIRECTANGULAR</a></div><div class="ttdeci">@ MATROSKA_VIDEO_PROJECTION_TYPE_EQUIRECTANGULAR</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00344">matroska.h:344</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_aff49a097ee8f14c0bf689468260e22ab"><div class="ttname"><a href="matroskaenc_8c.html#aff49a097ee8f14c0bf689468260e22ab">mkv_check_new_extra_data</a></div><div class="ttdeci">static int mkv_check_new_extra_data(AVFormatContext *s, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l02181">matroskaenc.c:2181</a></div></div>
<div class="ttc" id="axiph_8c_html_a3c4ba1310b067a4d8a0326e393a99cd4"><div class="ttname"><a href="xiph_8c.html#a3c4ba1310b067a4d8a0326e393a99cd4">avpriv_split_xiph_headers</a></div><div class="ttdeci">int avpriv_split_xiph_headers(const uint8_t *extradata, int extradata_size, int first_header_size, const uint8_t *header_start[3], int header_len[3])</div><div class="ttdef"><b>Definition:</b> <a href="xiph_8c_source.html#l00024">xiph.c:24</a></div></div>
<div class="ttc" id="astructmkv__seekhead_html_ad4d67611da008d2f64e295ba87fbc219"><div class="ttname"><a href="structmkv__seekhead.html#ad4d67611da008d2f64e295ba87fbc219">mkv_seekhead::reserved_size</a></div><div class="ttdeci">int reserved_size</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00089">matroskaenc.c:89</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_aeffca5269d4fab5486d2b830c4d6f175"><div class="ttname"><a href="struct_matroska_mux_context.html#aeffca5269d4fab5486d2b830c4d6f175">MatroskaMuxContext::reserve_cues_space</a></div><div class="ttdeci">int reserve_cues_space</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00148">matroskaenc.c:148</a></div></div>
<div class="ttc" id="aavio_8h_html_a9a88d79a1fc983c04a4e009b85361d54"><div class="ttname"><a href="avio_8h.html#a9a88d79a1fc983c04a4e009b85361d54">avio_wb64</a></div><div class="ttdeci">void avio_wb64(AVIOContext *s, uint64_t val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00453">aviobuf.c:453</a></div></div>
<div class="ttc" id="amatroska_8h_html_a616f9b32b2d0d21ec84d347f3d4c717c"><div class="ttname"><a href="matroska_8h.html#a616f9b32b2d0d21ec84d347f3d4c717c">MATROSKA_ID_VIDEOCOLORCHROMASITINGHORZ</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLORCHROMASITINGHORZ</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00135">matroska.h:135</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ad2499d3f5ddce9271d646402671e48c0"><div class="ttname"><a href="struct_matroska_mux_context.html#ad2499d3f5ddce9271d646402671e48c0">MatroskaMuxContext::cues_pos</a></div><div class="ttdeci">int64_t cues_pos</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00138">matroskaenc.c:138</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="agroup__lavu__crc32_html_ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752"><div class="ttname"><a href="group__lavu__crc32.html#ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752">AV_CRC_32_IEEE_LE</a></div><div class="ttdeci">@ AV_CRC_32_IEEE_LE</div><div class="ttdef"><b>Definition:</b> <a href="crc_8h_source.html#l00054">crc.h:54</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ac9603334356675f512a95e4917f77709"><div class="ttname"><a href="struct_matroska_mux_context.html#ac9603334356675f512a95e4917f77709">MatroskaMuxContext::nb_attachments</a></div><div class="ttdeci">unsigned nb_attachments</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00142">matroskaenc.c:142</a></div></div>
<div class="ttc" id="astructmkv__track_html_a017319b2eaf2a2772e8f36f7667e79f3"><div class="ttname"><a href="structmkv__track.html#a017319b2eaf2a2772e8f36f7667e79f3">mkv_track::track_num_size</a></div><div class="ttdeci">int track_num_size</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00110">matroskaenc.c:110</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga7c352f4cff02184f005323691375fea9"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a></div><div class="ttdeci">char * av_strdup(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00253">mem.c:253</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba5be651c23e27f7d27c139cbe6729f1d5"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5be651c23e27f7d27c139cbe6729f1d5">DEFAULT_MODE_INFER</a></div><div class="ttdeci">@ DEFAULT_MODE_INFER</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00065">matroskaenc.c:65</a></div></div>
<div class="ttc" id="amatroska_8h_html_a88652ad24fe24176e624cdae91e20b29"><div class="ttname"><a href="matroska_8h.html#a88652ad24fe24176e624cdae91e20b29">MATROSKA_ID_BLOCKREFERENCE</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCKREFERENCE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00237">matroska.h:237</a></div></div>
<div class="ttc" id="alibsvtav1_8c_html_a710bce51374aba96ab04912897666c35"><div class="ttname"><a href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> <a href="libsvtav1_8c_source.html#l00079">libsvtav1.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ab06f50caf54c3cb24596c718a3f226fd"><div class="ttname"><a href="matroskaenc_8c.html#ab06f50caf54c3cb24596c718a3f226fd">mkv_write_track</a></div><div class="ttdeci">static int mkv_write_track(AVFormatContext *s, MatroskaMuxContext *mkv, AVStream *st, mkv_track *track, AVIOContext *pb, int is_default)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01115">matroskaenc.c:1115</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a95f0363bf66912d4d5d9f8c2dcf0323c"><div class="ttname"><a href="struct_matroska_mux_context.html#a95f0363bf66912d4d5d9f8c2dcf0323c">MatroskaMuxContext::cluster_time_limit</a></div><div class="ttdeci">int64_t cluster_time_limit</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00150">matroskaenc.c:150</a></div></div>
<div class="ttc" id="amatroska_8h_html_a50ef49d5df83fea9789ae683163a0860"><div class="ttname"><a href="matroska_8h.html#a50ef49d5df83fea9789ae683163a0860">MATROSKA_ID_VIDEOCOLOR_RY</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOCOLOR_RY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00146">matroska.h:146</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a72e6d25102c0504549754fcd9ac871b7"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a72e6d25102c0504549754fcd9ac871b7">AV_PKT_DATA_MATROSKA_BLOCKADDITIONAL</a></div><div class="ttdeci">@ AV_PKT_DATA_MATROSKA_BLOCKADDITIONAL</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00191">packet.h:191</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a35b782b756d5a6a7523c48524e5b45b1"><div class="ttname"><a href="matroskaenc_8c.html#a35b782b756d5a6a7523c48524e5b45b1">MatroskaMuxContext</a></div><div class="ttdeci">struct MatroskaMuxContext MatroskaMuxContext</div></div>
<div class="ttc" id="amatroska_8h_html_a788611401fb49eb68bbc90c69f5a5f0da568939fe7698b582b1d386f00bbc6ef6"><div class="ttname"><a href="matroska_8h.html#a788611401fb49eb68bbc90c69f5a5f0da568939fe7698b582b1d386f00bbc6ef6">MATROSKA_VIDEO_FIELDORDER_TB</a></div><div class="ttdeci">@ MATROSKA_VIDEO_FIELDORDER_TB</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00297">matroska.h:297</a></div></div>
<div class="ttc" id="amastering__display__metadata_8h_html"><div class="ttname"><a href="mastering__display__metadata_8h.html">mastering_display_metadata.h</a></div></div>
<div class="ttc" id="astructmkv__cues_html_a71ba284995684750e30808c6e17bd0ff"><div class="ttname"><a href="structmkv__cues.html#a71ba284995684750e30808c6e17bd0ff">mkv_cues::num_entries</a></div><div class="ttdeci">int num_entries</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00102">matroskaenc.c:102</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2">AV_FIELD_PROGRESSIVE</a></div><div class="ttdeci">@ AV_FIELD_PROGRESSIVE</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00038">codec_par.h:38</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac3abc5f47f3465b6b7eec89c9476351c"><div class="ttname"><a href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">AVOutputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00491">avformat.h:491</a></div></div>
<div class="ttc" id="amatroska_8c_html_a4f43791331fdc3e0f7b77cada78e6e8e"><div class="ttname"><a href="matroska_8c.html#a4f43791331fdc3e0f7b77cada78e6e8e">ff_mkv_stereo3d_conv</a></div><div class="ttdeci">int ff_mkv_stereo3d_conv(AVStream *st, MatroskaVideoStereoModeType stereo_mode)</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8c_source.html#l00152">matroska.c:152</a></div></div>
<div class="ttc" id="amatroska_8h_html_aa036be34b879ff8a43a37ad75f08c5d6"><div class="ttname"><a href="matroska_8h.html#aa036be34b879ff8a43a37ad75f08c5d6">MATROSKA_ID_TRACKVIDEO</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKVIDEO</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00081">matroska.h:81</a></div></div>
<div class="ttc" id="aavio_8h_html_a81a5cfb941abfe2b83a30be4f86ad06d"><div class="ttname"><a href="avio_8h.html#a81a5cfb941abfe2b83a30be4f86ad06d">avio_wb24</a></div><div class="ttdeci">void avio_wb24(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00477">aviobuf.c:477</a></div></div>
<div class="ttc" id="amatroska_8c_html_a7594e2d1eebc7a09a99465051dbdf557"><div class="ttname"><a href="matroska_8c.html#a7594e2d1eebc7a09a99465051dbdf557">ff_mkv_codec_tags</a></div><div class="ttdeci">const CodecTags ff_mkv_codec_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8c_source.html#l00029">matroska.c:29</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a58369c3a8a986935b572df5aa6361ce2"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">AVCodecParameters::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:56</a></div></div>
<div class="ttc" id="amatroska_8h_html_a9ee0523818461e76396cac44e457f07e"><div class="ttname"><a href="matroska_8h.html#a9ee0523818461e76396cac44e457f07e">MATROSKA_ID_TRACKFLAGFORCED</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKFLAGFORCED</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00100">matroska.h:100</a></div></div>
<div class="ttc" id="amatroska_8h_html_a1d54610f7a38ac09e142946a1f76690cab59f0621f958509895637361f35d3d2e"><div class="ttname"><a href="matroska_8h.html#a1d54610f7a38ac09e142946a1f76690cab59f0621f958509895637361f35d3d2e">MATROSKA_VIDEO_STEREOMODE_TYPE_NB</a></div><div class="ttdeci">@ MATROSKA_VIDEO_STEREOMODE_TYPE_NB</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00317">matroska.h:317</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a18e0af4b263443a6c4d2d5304dbd537e"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a18e0af4b263443a6c4d2d5304dbd537e">AVCodecParameters::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00162">codec_par.h:162</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a142765090222da1f7296c379b37c9b78"><div class="ttname"><a href="struct_matroska_mux_context.html#a142765090222da1f7296c379b37c9b78">MatroskaMuxContext::allow_raw_vfw</a></div><div class="ttdeci">int allow_raw_vfw</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00156">matroskaenc.c:156</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a153946872548cd56132907b93f05f9aa"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">AVCodecParameters::field_order</a></div><div class="ttdeci">enum AVFieldOrder field_order</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:141</a></div></div>
<div class="ttc" id="amatroska_8h_html_aecf62040a8a95674f0dbb10aaa29b088"><div class="ttname"><a href="matroska_8h.html#aecf62040a8a95674f0dbb10aaa29b088">EBML_ID_EBMLREADVERSION</a></div><div class="ttdeci">#define EBML_ID_EBMLREADVERSION</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00037">matroska.h:37</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02c"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02c">AVFieldOrder</a></div><div class="ttdeci">AVFieldOrder</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00036">codec_par.h:36</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a414be596d1513e76c68f75f1933aa7a0"><div class="ttname"><a href="matroskaenc_8c.html#a414be596d1513e76c68f75f1933aa7a0">mkv_write_chapters</a></div><div class="ttdeci">static int mkv_write_chapters(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01614">matroskaenc.c:1614</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a57707d6b550cf61b69b5a7c559f0ea15"><div class="ttname"><a href="matroskaenc_8c.html#a57707d6b550cf61b69b5a7c559f0ea15">mkv_write_stereo_mode</a></div><div class="ttdeci">static int mkv_write_stereo_mode(AVFormatContext *s, AVIOContext *pb, AVStream *st, int mode, int *h_width, int *h_height)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01024">matroskaenc.c:1024</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_af9cd05dd7ad61a234cdf2a41b1937e0f"><div class="ttname"><a href="matroskaenc_8c.html#af9cd05dd7ad61a234cdf2a41b1937e0f">mkv_seekhead</a></div><div class="ttdeci">struct mkv_seekhead mkv_seekhead</div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="ariff_8h_html"><div class="ttname"><a href="riff_8h.html">riff.h</a></div></div>
<div class="ttc" id="amatroska_8h_html_a8ae45cf11bc77df76563b07d352ea186"><div class="ttname"><a href="matroska_8h.html#a8ae45cf11bc77df76563b07d352ea186">MATROSKA_ID_ATTACHEDFILE</a></div><div class="ttdeci">#define MATROSKA_ID_ATTACHEDFILE</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00242">matroska.h:242</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html"><div class="ttname"><a href="struct_a_v_chapter.html">AVChapter</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01180">avformat.h:1180</a></div></div>
<div class="ttc" id="amatroska_8h_html_a42aa924e3ae524f4fd5a028ba92579eb"><div class="ttname"><a href="matroska_8h.html#a42aa924e3ae524f4fd5a028ba92579eb">MATROSKA_ID_CODECDELAY</a></div><div class="ttdeci">#define MATROSKA_ID_CODECDELAY</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00094">matroska.h:94</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a622e758be29fd500aed0ffdc069550f7"><div class="ttname"><a href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">AVPacket::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00381">packet.h:381</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_ae1e061c0db8a47f53e1f3de5e371872e"><div class="ttname"><a href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">convert_header.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00020">convert_header.py:20</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a132c7253c2dd13b0c5ac08b308bf47af"><div class="ttname"><a href="matroskaenc_8c.html#a132c7253c2dd13b0c5ac08b308bf47af">mkv_write_seekhead</a></div><div class="ttdeci">static int mkv_write_seekhead(AVIOContext *pb, MatroskaMuxContext *mkv, int error_on_seek_failure, int64_t destpos)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00490">matroskaenc.c:490</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_ac1050888091ee6f43b12eb285d640c48"><div class="ttname"><a href="matroskaenc_8c.html#ac1050888091ee6f43b12eb285d640c48">MAX_CUETRACKPOS_SIZE</a></div><div class="ttdeci">#define MAX_CUETRACKPOS_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00172">matroskaenc.c:172</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_a4e3d561f0280d04d67cc0e9f33a04e36"><div class="ttname"><a href="avio__internal_8h.html#a4e3d561f0280d04d67cc0e9f33a04e36">ffio_fill</a></div><div class="ttdeci">void ffio_fill(AVIOContext *s, int b, int count)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00211">aviobuf.c:211</a></div></div>
<div class="ttc" id="aavio_8h_html_a21c2d7b7ddd7f31d24d278f8b3281ec3"><div class="ttname"><a href="avio_8h.html#a21c2d7b7ddd7f31d24d278f8b3281ec3">avio_wb16</a></div><div class="ttdeci">void avio_wb16(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00465">aviobuf.c:465</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a></div><div class="ttdeci">@ AV_CODEC_ID_VP8</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00189">codec_id.h:189</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="amatroska_8h_html_aabaa50ab6df84e00f4242e8aabbce419"><div class="ttname"><a href="matroska_8h.html#aabaa50ab6df84e00f4242e8aabbce419">MATROSKA_ID_TAGTARGETS_TRACKUID</a></div><div class="ttdeci">#define MATROSKA_ID_TAGTARGETS_TRACKUID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00212">matroska.h:212</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceae6f1c1bbb4e389366f56cfb8cc77d240"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae6f1c1bbb4e389366f56cfb8cc77d240">AV_CODEC_ID_WAVPACK</a></div><div class="ttdeci">@ AV_CODEC_ID_WAVPACK</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00443">codec_id.h:443</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa4652899df5ea4061a1cb7f94fa1d758"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa4652899df5ea4061a1cb7f94fa1d758">AV_CODEC_ID_COOK</a></div><div class="ttdeci">@ AV_CODEC_ID_COOK</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00438">codec_id.h:438</a></div></div>
<div class="ttc" id="amatroska_8h_html_a88aa7e962ce182d4b5b04ab281965330"><div class="ttname"><a href="matroska_8h.html#a88aa7e962ce182d4b5b04ab281965330">MATROSKA_ID_CHAPTERTIMEEND</a></div><div class="ttdeci">#define MATROSKA_ID_CHAPTERTIMEEND</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00253">matroska.h:253</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="amatroska_8h_html_a990b4598e2c7a624682404c7a066f54f"><div class="ttname"><a href="matroska_8h.html#a990b4598e2c7a624682404c7a066f54f">MATROSKA_ID_TRACKS</a></div><div class="ttdeci">#define MATROSKA_ID_TRACKS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00057">matroska.h:57</a></div></div>
<div class="ttc" id="alibavformat_2av1_8h_html"><div class="ttname"><a href="libavformat_2av1_8h.html">av1.h</a></div></div>
<div class="ttc" id="astruct_a_v_mastering_display_metadata_html_a45890b654337321044a5b13c5e5961c5"><div class="ttname"><a href="struct_a_v_mastering_display_metadata.html#a45890b654337321044a5b13c5e5961c5">AVMasteringDisplayMetadata::max_luminance</a></div><div class="ttdeci">AVRational max_luminance</div><div class="ttdef"><b>Definition:</b> <a href="mastering__display__metadata_8h_source.html#l00057">mastering_display_metadata.h:57</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a84dfa298ac2ddf98665781507182a979"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a84dfa298ac2ddf98665781507182a979">AVSphericalMapping::pitch</a></div><div class="ttdeci">int32_t pitch</div><div class="ttdoc">Rotation around the right vector [-90, 90].</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00127">spherical.h:127</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad95c0f65ae13f5c2f03bf32accc5ecb2"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad95c0f65ae13f5c2f03bf32accc5ecb2">AV_PKT_DATA_WEBVTT_IDENTIFIER</a></div><div class="ttdeci">@ AV_PKT_DATA_WEBVTT_IDENTIFIER</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00196">packet.h:196</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gac09f8ddc2d4b36c5a85c6befba0d0888"><div class="ttname"><a href="group__lavc__core.html#gac09f8ddc2d4b36c5a85c6befba0d0888">avcodec_descriptor_get</a></div><div class="ttdeci">const AVCodecDescriptor * avcodec_descriptor_get(enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8c_source.html#l03457">codec_desc.c:3457</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a></div><div class="ttdeci">@ AV_CODEC_ID_VORBIS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00423">codec_id.h:423</a></div></div>
<div class="ttc" id="astruct_a_v_codec_tag_html"><div class="ttname"><a href="struct_a_v_codec_tag.html">AVCodecTag</a></div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00042">internal.h:42</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="affv1enc_8c_html_a5ba88be0a987de9abb6091eb8e167e09"><div class="ttname"><a href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a></div><div class="ttdeci">static void write_header(FFV1Context *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffv1enc_8c_source.html#l00346">ffv1enc.c:346</a></div></div>
<div class="ttc" id="amatroska_8h_html_a5b55e3f4bb2cdc67fe52dfd22a46dd5b"><div class="ttname"><a href="matroska_8h.html#a5b55e3f4bb2cdc67fe52dfd22a46dd5b">MATROSKA_ID_SEEKPREROLL</a></div><div class="ttdeci">#define MATROSKA_ID_SEEKPREROLL</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00095">matroska.h:95</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a35a1e95e495883ddec240c3b2346a374"><div class="ttname"><a href="matroskaenc_8c.html#a35a1e95e495883ddec240c3b2346a374">put_ebml_sint</a></div><div class="ttdeci">static void put_ebml_sint(AVIOContext *pb, uint32_t elementid, int64_t val)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00278">matroskaenc.c:278</a></div></div>
<div class="ttc" id="amux_8c_html_aca5a6c46876cf13e21d43603489665b6"><div class="ttname"><a href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a></div><div class="ttdeci">static int check_bitstream(AVFormatContext *s, AVStream *st, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01075">mux.c:1075</a></div></div>
<div class="ttc" id="amatroska_8h_html_a46d396682868af2b4e331b52f4d2d4d8"><div class="ttname"><a href="matroska_8h.html#a46d396682868af2b4e331b52f4d2d4d8">MATROSKA_ID_SEEKHEAD</a></div><div class="ttdeci">#define MATROSKA_ID_SEEKHEAD</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00060">matroska.h:60</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a1779b2477e4946c9b5ea380254ae1b48"><div class="ttname"><a href="matroskaenc_8c.html#a1779b2477e4946c9b5ea380254ae1b48">mkv_write_simpletag</a></div><div class="ttdeci">static int mkv_write_simpletag(AVIOContext *pb, const AVDictionaryEntry *t)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01436">matroskaenc.c:1436</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_ab60c13d51b880f63df964fb44612d76f"><div class="ttname"><a href="struct_matroska_mux_context.html#ab60c13d51b880f63df964fb44612d76f">MatroskaMuxContext::cues</a></div><div class="ttdeci">mkv_cues cues</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00137">matroskaenc.c:137</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a9a74ccb172e57e984f226de5e481a424"><div class="ttname"><a href="struct_matroska_mux_context.html#a9a74ccb172e57e984f226de5e481a424">MatroskaMuxContext::have_video</a></div><div class="ttdeci">int have_video</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00143">matroskaenc.c:143</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="asnprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="astructmkv__cuepoint_html"><div class="ttname"><a href="structmkv__cuepoint.html">mkv_cuepoint</a></div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00092">matroskaenc.c:92</a></div></div>
<div class="ttc" id="amatroska_8h_html_a01a486f9f19916ad984f6010854bfe1e"><div class="ttname"><a href="matroska_8h.html#a01a486f9f19916ad984f6010854bfe1e">MATROSKA_ID_VIDEOPROJECTIONPOSEROLL</a></div><div class="ttdeci">#define MATROSKA_ID_VIDEOPROJECTIONPOSEROLL</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00161">matroska.h:161</a></div></div>
<div class="ttc" id="astructmkv__seekhead_html_a555caaec9ac16d341f3be80dbca17b9b"><div class="ttname"><a href="structmkv__seekhead.html#a555caaec9ac16d341f3be80dbca17b9b">mkv_seekhead::num_entries</a></div><div class="ttdeci">int num_entries</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00088">matroskaenc.c:88</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8">AV_CODEC_ID_PCM_S24BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S24BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00321">codec_id.h:321</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_adb569f1241be316428b6792d1212ad14"><div class="ttname"><a href="matroskaenc_8c.html#adb569f1241be316428b6792d1212ad14">mkv_write_tag</a></div><div class="ttdeci">static int mkv_write_tag(MatroskaMuxContext *mkv, const AVDictionary *m, AVIOContext **pb, ebml_master *tag, uint32_t elementid, uint64_t uid)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l01504">matroskaenc.c:1504</a></div></div>
<div class="ttc" id="amatroska_8h_html_ab2b2fae7ddafa37df5a1c46248e6c96f"><div class="ttname"><a href="matroska_8h.html#ab2b2fae7ddafa37df5a1c46248e6c96f">MATROSKA_ID_BLOCKADDID</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCKADDID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00230">matroska.h:230</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a68eae606bc0505b49a1eeb71c9f033a1"><div class="ttname"><a href="matroskaenc_8c.html#a68eae606bc0505b49a1eeb71c9f033a1">put_ebml_uid</a></div><div class="ttdeci">static void put_ebml_uid(AVIOContext *pb, uint32_t elementid, uint64_t uid)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00258">matroskaenc.c:258</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html"><div class="ttname"><a href="struct_a_v_output_format.html">AVOutputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00490">avformat.h:490</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a952327950a1fdcc979bffc3ec45612c6"><div class="ttname"><a href="matroskaenc_8c.html#a952327950a1fdcc979bffc3ec45612c6">MODE_WEBM</a></div><div class="ttdeci">#define MODE_WEBM</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00121">matroskaenc.c:121</a></div></div>
<div class="ttc" id="amatroska_8h_html_aa2fe10321b9c3aff9da330d590be6b73"><div class="ttname"><a href="matroska_8h.html#aa2fe10321b9c3aff9da330d590be6b73">MATROSKA_ID_TAGTARGETS_CHAPTERUID</a></div><div class="ttdeci">#define MATROSKA_ID_TAGTARGETS_CHAPTERUID</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00213">matroska.h:213</a></div></div>
<div class="ttc" id="amatroska_8h_html_a987f3c12f166c9da84b0f3c78ef26d9ea243fc50b57b24dee958a7f9120b98a7e"><div class="ttname"><a href="matroska_8h.html#a987f3c12f166c9da84b0f3c78ef26d9ea243fc50b57b24dee958a7f9120b98a7e">MATROSKA_VIDEO_PROJECTION_TYPE_CUBEMAP</a></div><div class="ttdeci">@ MATROSKA_VIDEO_PROJECTION_TYPE_CUBEMAP</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00345">matroska.h:345</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead7c47629784f27b6747d581fada0392e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead7c47629784f27b6747d581fada0392e">AV_CODEC_ID_MLP</a></div><div class="ttdeci">@ AV_CODEC_ID_MLP</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00447">codec_id.h:447</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ad63fb11cc1415e278e09ddc676e8a1ad"><div class="ttname"><a href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">AVStream::r_frame_rate</a></div><div class="ttdeci">AVRational r_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01011">avformat.h:1011</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceab140360bd655d8add22265dbe45b581c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab140360bd655d8add22265dbe45b581c">AV_CODEC_ID_PRORES</a></div><div class="ttdeci">@ AV_CODEC_ID_PRORES</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00197">codec_id.h:197</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac9cb9756175b96e7441575803757fb73"><div class="ttname"><a href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a></div><div class="ttdeci">void av_init_packet(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00035">avpacket.c:35</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_abd46f5a4eb066239eb76f4bac1281e1d"><div class="ttname"><a href="libavformat_2internal_8h.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a></div><div class="ttdeci">int ff_alloc_extradata(AVCodecParameters *par, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03260">utils.c:3260</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a479728449c9dfed0da926c0fe7c12eef"><div class="ttname"><a href="struct_matroska_mux_context.html#a479728449c9dfed0da926c0fe7c12eef">MatroskaMuxContext::cluster_pos</a></div><div class="ttdeci">int64_t cluster_pos</div><div class="ttdoc">file offset of the current Cluster</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00131">matroskaenc.c:131</a></div></div>
<div class="ttc" id="amatroska_8h_html_aefb3c1d7350a93c55fc04507187b504a"><div class="ttname"><a href="matroska_8h.html#aefb3c1d7350a93c55fc04507187b504a">MATROSKA_ID_BLOCKADDITIONS</a></div><div class="ttdeci">#define MATROSKA_ID_BLOCKADDITIONS</div><div class="ttdef"><b>Definition:</b> <a href="matroska_8h_source.html#l00228">matroska.h:228</a></div></div>
<div class="ttc" id="astruct_matroska_mux_context_html_a587ddb7ba92cc6f36965959fff973a70"><div class="ttname"><a href="struct_matroska_mux_context.html#a587ddb7ba92cc6f36965959fff973a70">MatroskaMuxContext::duration_offset</a></div><div class="ttdeci">int64_t duration_offset</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00133">matroskaenc.c:133</a></div></div>
<div class="ttc" id="aavio_8h_html_a4dbe7c0b3d5c86e46b9991ee805c5e21a870634b3c75cf4bcff8306fac01b04be"><div class="ttname"><a href="avio_8h.html#a4dbe7c0b3d5c86e46b9991ee805c5e21a870634b3c75cf4bcff8306fac01b04be">AVIO_DATA_MARKER_FLUSH_POINT</a></div><div class="ttdeci">@ AVIO_DATA_MARKER_FLUSH_POINT</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00146">avio.h:146</a></div></div>
<div class="ttc" id="amatroskaenc_8c_html_a18508a03cde7721dc982deae8a1205fe"><div class="ttname"><a href="matroskaenc_8c.html#a18508a03cde7721dc982deae8a1205fe">mkv_assemble_cues</a></div><div class="ttdeci">static int mkv_assemble_cues(AVStream **streams, AVIOContext *dyn_cp, mkv_cues *cues, mkv_track *tracks, int num_tracks)</div><div class="ttdef"><b>Definition:</b> <a href="matroskaenc_8c_source.html#l00554">matroskaenc.c:554</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
