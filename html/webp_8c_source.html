<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/webp.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">webp.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="webp_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * WebP (.webp) image decoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2013 Aneesh Dogra &lt;aneesh@sugarlabs.org&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2013 Justin Ruggles &lt;justin.ruggles@gmail.com&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="imgutils_8h.html">libavutil/imgutils.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="webp_8c.html#ab9ef831966fb2c5f522c19e809354830">   45</a></span>&#160;<span class="preprocessor">#define BITSTREAM_READER_LE</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="exif_8h.html">exif.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="get__bits_8h.html">get_bits.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2thread_8h.html">thread.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vp8_8h.html">vp8.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="webp_8c.html#aa1483d255dbae6a9c6a10075fbea6bd8">   54</a></span>&#160;<span class="preprocessor">#define VP8X_FLAG_ANIMATION             0x02</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="webp_8c.html#ad94eef14d3a5cc9f55c8ad441920c06d">   55</a></span>&#160;<span class="preprocessor">#define VP8X_FLAG_XMP_METADATA          0x04</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="webp_8c.html#a7d86794231171fa44821f8c23ca0cb59">   56</a></span>&#160;<span class="preprocessor">#define VP8X_FLAG_EXIF_METADATA         0x08</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="webp_8c.html#a5f1afb84162b12ec2c3ec65ace5e5c57">   57</a></span>&#160;<span class="preprocessor">#define VP8X_FLAG_ALPHA                 0x10</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="webp_8c.html#a33514b5d71e5a70c179c6db1387daaae">   58</a></span>&#160;<span class="preprocessor">#define VP8X_FLAG_ICC                   0x20</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="webp_8c.html#aaf814e11977f47f35464ebb44d4c9675">   60</a></span>&#160;<span class="preprocessor">#define MAX_PALETTE_SIZE                256</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="webp_8c.html#add5ef7da5ca319c3d18d76e3c186bd35">   61</a></span>&#160;<span class="preprocessor">#define MAX_CACHE_BITS                  11</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="webp_8c.html#a22ed04d49e008cb4295a8b366c4f2f3b">   62</a></span>&#160;<span class="preprocessor">#define NUM_CODE_LENGTH_CODES           19</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">   63</a></span>&#160;<span class="preprocessor">#define HUFFMAN_CODES_PER_META_CODE     5</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">   64</a></span>&#160;<span class="preprocessor">#define NUM_LITERAL_CODES               256</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="webp_8c.html#aa803921583cd0d074e424bd5a596e456">   65</a></span>&#160;<span class="preprocessor">#define NUM_LENGTH_CODES                24</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="webp_8c.html#acff57804c17f845fde49bc2693dd9d9b">   66</a></span>&#160;<span class="preprocessor">#define NUM_DISTANCE_CODES              40</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="webp_8c.html#aeb00246adfcdf3aebb049287802ccd8c">   67</a></span>&#160;<span class="preprocessor">#define NUM_SHORT_DISTANCES             120</span></div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="webp_8c.html#a8b5d685837de02f1ce809d43e25fb069">   68</a></span>&#160;<span class="preprocessor">#define MAX_HUFFMAN_CODE_LENGTH         15</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="webp_8c.html#ad86db4e0ce81a7b8262c0403a2e31721">   70</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="webp_8c.html#ad86db4e0ce81a7b8262c0403a2e31721">alphabet_sizes</a>[<a class="code" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a>] = {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a> + <a class="code" href="webp_8c.html#aa803921583cd0d074e424bd5a596e456">NUM_LENGTH_CODES</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a>, <a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a>, <a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="webp_8c.html#acff57804c17f845fde49bc2693dd9d9b">NUM_DISTANCE_CODES</a></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;};</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="webp_8c.html#a47f91b1e23d3b1d7be27b84880ec779d">   76</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="webp_8c.html#a47f91b1e23d3b1d7be27b84880ec779d">code_length_code_order</a>[<a class="code" href="webp_8c.html#a22ed04d49e008cb4295a8b366c4f2f3b">NUM_CODE_LENGTH_CODES</a>] = {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    17, 18, 0, 1, 2, 3, 4, 5, 16, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;};</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="webp_8c.html#a5e105327e4dc1fac0b7fc43e0b45f01c">   80</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> int8_t <a class="code" href="webp_8c.html#a5e105327e4dc1fac0b7fc43e0b45f01c">lz77_distance_offsets</a>[<a class="code" href="webp_8c.html#aeb00246adfcdf3aebb049287802ccd8c">NUM_SHORT_DISTANCES</a>][2] = {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {  0, 1 }, {  1, 0 }, {  1, 1 }, { -1, 1 }, {  0, 2 }, {  2, 0 }, {  1, 2 }, { -1, 2 },</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    {  2, 1 }, { -2, 1 }, {  2, 2 }, { -2, 2 }, {  0, 3 }, {  3, 0 }, {  1, 3 }, { -1, 3 },</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    {  3, 1 }, { -3, 1 }, {  2, 3 }, { -2, 3 }, {  3, 2 }, { -3, 2 }, {  0, 4 }, {  4, 0 },</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {  1, 4 }, { -1, 4 }, {  4, 1 }, { -4, 1 }, {  3, 3 }, { -3, 3 }, {  2, 4 }, { -2, 4 },</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    {  4, 2 }, { -4, 2 }, {  0, 5 }, {  3, 4 }, { -3, 4 }, {  4, 3 }, { -4, 3 }, {  5, 0 },</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    {  1, 5 }, { -1, 5 }, {  5, 1 }, { -5, 1 }, {  2, 5 }, { -2, 5 }, {  5, 2 }, { -5, 2 },</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    {  4, 4 }, { -4, 4 }, {  3, 5 }, { -3, 5 }, {  5, 3 }, { -5, 3 }, {  0, 6 }, {  6, 0 },</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {  1, 6 }, { -1, 6 }, {  6, 1 }, { -6, 1 }, {  2, 6 }, { -2, 6 }, {  6, 2 }, { -6, 2 },</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {  4, 5 }, { -4, 5 }, {  5, 4 }, { -5, 4 }, {  3, 6 }, { -3, 6 }, {  6, 3 }, { -6, 3 },</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    {  0, 7 }, {  7, 0 }, {  1, 7 }, { -1, 7 }, {  5, 5 }, { -5, 5 }, {  7, 1 }, { -7, 1 },</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {  4, 6 }, { -4, 6 }, {  6, 4 }, { -6, 4 }, {  2, 7 }, { -2, 7 }, {  7, 2 }, { -7, 2 },</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    {  3, 7 }, { -3, 7 }, {  7, 3 }, { -7, 3 }, {  5, 6 }, { -5, 6 }, {  6, 5 }, { -6, 5 },</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {  8, 0 }, {  4, 7 }, { -4, 7 }, {  7, 4 }, { -7, 4 }, {  8, 1 }, {  8, 2 }, {  6, 6 },</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    { -6, 6 }, {  8, 3 }, {  5, 7 }, { -5, 7 }, {  7, 5 }, { -7, 5 }, {  8, 4 }, {  6, 7 },</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    { -6, 7 }, {  7, 6 }, { -7, 6 }, {  8, 5 }, {  7, 7 }, { -7, 7 }, {  8, 6 }, {  8, 7 }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;};</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05b">   98</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05b">AlphaCompression</a> {</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba2097fdb9dccb8064e69541fad4a002b9">   99</a></span>&#160;    <a class="code" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba2097fdb9dccb8064e69541fad4a002b9">ALPHA_COMPRESSION_NONE</a>,</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba82527b220293ec92200cbe54c7e971fd">  100</a></span>&#160;    <a class="code" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba82527b220293ec92200cbe54c7e971fd">ALPHA_COMPRESSION_VP8L</a>,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;};</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9">  103</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9">AlphaFilter</a> {</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a4f228286877a99cd1af44424ebcb6b1e">  104</a></span>&#160;    <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a4f228286877a99cd1af44424ebcb6b1e">ALPHA_FILTER_NONE</a>,</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9aca0aa4062963b1c54e280275b5ae198a">  105</a></span>&#160;    <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9aca0aa4062963b1c54e280275b5ae198a">ALPHA_FILTER_HORIZONTAL</a>,</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a6f270a60c2e62877b664d2cd966c44ee">  106</a></span>&#160;    <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a6f270a60c2e62877b664d2cd966c44ee">ALPHA_FILTER_VERTICAL</a>,</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a5b760221ef843318a80c5a9d28207ab6">  107</a></span>&#160;    <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a5b760221ef843318a80c5a9d28207ab6">ALPHA_FILTER_GRADIENT</a>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;};</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2">  110</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2">TransformType</a> {</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a44afbb990c1c55a1a042aaaf3c3141be">  111</a></span>&#160;    <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a44afbb990c1c55a1a042aaaf3c3141be">PREDICTOR_TRANSFORM</a>      = 0,</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a14f02b15455672b3ec8b523187cef712">  112</a></span>&#160;    <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a14f02b15455672b3ec8b523187cef712">COLOR_TRANSFORM</a>          = 1,</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a59834222eb2815ad4de50453c44f0165">  113</a></span>&#160;    <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a59834222eb2815ad4de50453c44f0165">SUBTRACT_GREEN</a>           = 2,</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a3f38ad5580fd8c33ff09cb72ec2989cc">  114</a></span>&#160;    <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a3f38ad5580fd8c33ff09cb72ec2989cc">COLOR_INDEXING_TRANSFORM</a> = 3,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;};</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7d">  117</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7d">PredictionMode</a> {</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da95069a026bc57fd9e1a7b73f254f04d0">  118</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da95069a026bc57fd9e1a7b73f254f04d0">PRED_MODE_BLACK</a>,</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7dac6baaaaf190f42867bf2100ed79d0c13">  119</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7dac6baaaaf190f42867bf2100ed79d0c13">PRED_MODE_L</a>,</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da5a2623cf0a956b63d4395727c4e39e44">  120</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da5a2623cf0a956b63d4395727c4e39e44">PRED_MODE_T</a>,</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da25685ff0ca32aaeb4d90825d7f52ccd1">  121</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da25685ff0ca32aaeb4d90825d7f52ccd1">PRED_MODE_TR</a>,</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da6840fb5892a233b2a77daa974cf4fa29">  122</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da6840fb5892a233b2a77daa974cf4fa29">PRED_MODE_TL</a>,</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7dae104a89d35a61b0629a41f99ed52946b">  123</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7dae104a89d35a61b0629a41f99ed52946b">PRED_MODE_AVG_T_AVG_L_TR</a>,</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da6d4efb8e0927e9220b9c2c8b452ae197">  124</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da6d4efb8e0927e9220b9c2c8b452ae197">PRED_MODE_AVG_L_TL</a>,</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da2790c0a2f7819df581955bd80626da5b">  125</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da2790c0a2f7819df581955bd80626da5b">PRED_MODE_AVG_L_T</a>,</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da48aa6a48ea71e512112d2fe6d1b3070a">  126</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da48aa6a48ea71e512112d2fe6d1b3070a">PRED_MODE_AVG_TL_T</a>,</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da5d9bfa0030dfa064d32df0aad768818e">  127</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da5d9bfa0030dfa064d32df0aad768818e">PRED_MODE_AVG_T_TR</a>,</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da62336dd2be98957b9870778ce67e41da">  128</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da62336dd2be98957b9870778ce67e41da">PRED_MODE_AVG_AVG_L_TL_AVG_T_TR</a>,</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da7d0963653d9cddc871780f462bc24b2a">  129</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da7d0963653d9cddc871780f462bc24b2a">PRED_MODE_SELECT</a>,</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da066364dadd5d4d1d16b02ee6b1c21c32">  130</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da066364dadd5d4d1d16b02ee6b1c21c32">PRED_MODE_ADD_SUBTRACT_FULL</a>,</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da864909dd536f7522e5ebbb5205d3b4dc">  131</a></span>&#160;    <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da864909dd536f7522e5ebbb5205d3b4dc">PRED_MODE_ADD_SUBTRACT_HALF</a>,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;};</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5">  134</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5">HuffmanIndex</a> {</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a3b0ffef67f069019bfad9f46b982febb">  135</a></span>&#160;    <a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a3b0ffef67f069019bfad9f46b982febb">HUFF_IDX_GREEN</a> = 0,</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a328fef01beb0724eb48a1ffdc511b88f">  136</a></span>&#160;    <a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a328fef01beb0724eb48a1ffdc511b88f">HUFF_IDX_RED</a>   = 1,</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a9edfb26e4f9fd705be4dd4d3f739aa95">  137</a></span>&#160;    <a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a9edfb26e4f9fd705be4dd4d3f739aa95">HUFF_IDX_BLUE</a>  = 2,</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5aa58279bd00e62bdea1c27d7299180fe2">  138</a></span>&#160;    <a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5aa58279bd00e62bdea1c27d7299180fe2">HUFF_IDX_ALPHA</a> = 3,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5ad84acf8fa3ce761ba657d3053dd390aa">HUFF_IDX_DIST</a>  = 4</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5ad84acf8fa3ce761ba657d3053dd390aa">  140</a></span>&#160;};</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/* The structure of WebP lossless is an optional series of transformation data,</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"> * followed by the primary image. The primary image also optionally contains</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> * an entropy group mapping if there are multiple entropy groups. There is a</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"> * basic image type called an &quot;entropy coded image&quot; that is used for all of</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> * these. The type of each entropy coded image is referred to by the</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> * specification as its role. */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147">  148</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147">ImageRole</a> {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">/* Primary Image: Stores the actual pixels of the image. */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">  150</a></span>&#160;    <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">/* Entropy Image: Defines which Huffman group to use for different areas of</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">     *                the primary image. */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a73bacd8811cdf11be83e830b3f9aa490">  154</a></span>&#160;    <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a73bacd8811cdf11be83e830b3f9aa490">IMAGE_ROLE_ENTROPY</a>,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">/* Predictors: Defines which predictor type to use for different areas of</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     *             the primary image. */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a488ab39c0e4d0a2df4e3e8d6183d43a4">  158</a></span>&#160;    <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a488ab39c0e4d0a2df4e3e8d6183d43a4">IMAGE_ROLE_PREDICTOR</a>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">/* Color Transform Data: Defines the color transformation for different</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">     *                       areas of the primary image. */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a4a144b2247bf9535b398c303f668c6bb">  162</a></span>&#160;    <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a4a144b2247bf9535b398c303f668c6bb">IMAGE_ROLE_COLOR_TRANSFORM</a>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">/* Color Index: Stored as an image of height == 1. */</span></div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147aa3c930490f94db2b3654ce5a64376f58">  165</a></span>&#160;    <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147aa3c930490f94db2b3654ce5a64376f58">IMAGE_ROLE_COLOR_INDEXING</a>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a861db511312b97e131e88689b5bed124">  167</a></span>&#160;    <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a861db511312b97e131e88689b5bed124">IMAGE_ROLE_NB</a>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;};</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="struct_huff_reader.html">  170</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_huff_reader.html">HuffReader</a> {</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="struct_huff_reader.html#a56d9c5825b0e06060d56b9d346eb0dbd">  171</a></span>&#160;    <a class="code" href="struct_v_l_c.html">VLC</a> <a class="code" href="struct_huff_reader.html#a56d9c5825b0e06060d56b9d346eb0dbd">vlc</a>;                            <span class="comment">/* Huffman decoder context */</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="struct_huff_reader.html#af69d02ef07231a8ffe20f227f16b7d9e">  172</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_huff_reader.html#af69d02ef07231a8ffe20f227f16b7d9e">simple</a>;                         <span class="comment">/* whether to use simple mode */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="struct_huff_reader.html#ae733691b5864b3b383c1cebe85a6bd7a">  173</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_huff_reader.html#ae733691b5864b3b383c1cebe85a6bd7a">nb_symbols</a>;                     <span class="comment">/* number of coded symbols */</span></div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="struct_huff_reader.html#a12d2f33c8194d4fc5346d9da7458a896">  174</a></span>&#160;    uint16_t <a class="code" href="struct_huff_reader.html#a12d2f33c8194d4fc5346d9da7458a896">simple_symbols</a>[2];         <span class="comment">/* symbols for simple mode */</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="webp_8c.html#acf20cdca7f5a02fc529dcacacad102d4">  175</a></span>&#160;} <a class="code" href="webp_8c.html#acf20cdca7f5a02fc529dcacacad102d4">HuffReader</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="struct_image_context.html">  177</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_image_context.html">ImageContext</a> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">enum</span> <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147">ImageRole</a> <a class="code" href="struct_image_context.html#a0b8a808da17b6b6e0257fe5a49138448">role</a>;                <span class="comment">/* role of this image */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">  179</a></span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>;                     <span class="comment">/* AVFrame for data */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="struct_image_context.html#a7713284850b6a12723f8f8a24721a565">  180</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_image_context.html#a7713284850b6a12723f8f8a24721a565">color_cache_bits</a>;               <span class="comment">/* color cache size, log2 */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="struct_image_context.html#aa088affbca3d41ad024d2f4b269cb288">  181</a></span>&#160;    uint32_t *<a class="code" href="struct_image_context.html#aa088affbca3d41ad024d2f4b269cb288">color_cache</a>;              <span class="comment">/* color cache data */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="struct_image_context.html#a64a911483ddc98c274da6b52bf4b229c">  182</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_image_context.html#a64a911483ddc98c274da6b52bf4b229c">nb_huffman_groups</a>;              <span class="comment">/* number of huffman groups */</span></div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="struct_image_context.html#a6ae66cbddaaaaacda86071b2615787dd">  183</a></span>&#160;    <a class="code" href="struct_huff_reader.html">HuffReader</a> *<a class="code" href="struct_image_context.html#a6ae66cbddaaaaacda86071b2615787dd">huffman_groups</a>;         <span class="comment">/* reader for each huffman group */</span></div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">  184</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;                 <span class="comment">/* relative size compared to primary image, log2 */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="struct_image_context.html#a001cc87ff1525a3c0346649f4e9b694e">  185</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_image_context.html#a001cc87ff1525a3c0346649f4e9b694e">is_alpha_primary</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="webp_8c.html#a3f54ad85aa8209d73fde1812b04b40eb">  186</a></span>&#160;} <a class="code" href="webp_8c.html#a3f54ad85aa8209d73fde1812b04b40eb">ImageContext</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="struct_web_p_context.html">  188</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_web_p_context.html">WebPContext</a> {</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a9ac50e576280ad993dcb40db1c7e21b9">  189</a></span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> <a class="code" href="struct_web_p_context.html#a9ac50e576280ad993dcb40db1c7e21b9">v</a>;                       <span class="comment">/* VP8 Context used for lossy decoding */</span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a412bf3eb3527b29ca65d55caa1d56645">  190</a></span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> <a class="code" href="struct_web_p_context.html#a412bf3eb3527b29ca65d55caa1d56645">gb</a>;                   <span class="comment">/* bitstream reader for main image chunk */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a4e75fa0b207e56fce90166c1c1af0238">  191</a></span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="struct_web_p_context.html#a4e75fa0b207e56fce90166c1c1af0238">alpha_frame</a>;               <span class="comment">/* AVFrame for alpha data decompressed from VP8L */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a692d559e3218f22b88c3ae6a831004d5">  192</a></span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_web_p_context.html#a692d559e3218f22b88c3ae6a831004d5">avctx</a>;              <span class="comment">/* parent AVCodecContext */</span></div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a1ae1a4fe50b318fc215db8c1f272713b">  193</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a1ae1a4fe50b318fc215db8c1f272713b">initialized</a>;                    <span class="comment">/* set once the VP8 context is initialized */</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a5af8d91e4f4dbfba4a8f4c45ed4d426f">  194</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a5af8d91e4f4dbfba4a8f4c45ed4d426f">has_alpha</a>;                      <span class="comment">/* has a separate alpha chunk */</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">enum</span> <a class="code" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05b">AlphaCompression</a> <a class="code" href="struct_web_p_context.html#a9bafb64e1c3a6b74ba0eaff14ea2ff05">alpha_compression</a>; <span class="comment">/* compression type for alpha chunk */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keyword">enum</span> <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9">AlphaFilter</a> <a class="code" href="struct_web_p_context.html#a2cec8ffdcfbd959d132e51af264ec80c">alpha_filter</a>;      <span class="comment">/* filtering method for alpha chunk */</span></div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a8dadebc83e7dfac853d1e97e0b7e81ac">  197</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_web_p_context.html#a8dadebc83e7dfac853d1e97e0b7e81ac">alpha_data</a>;                <span class="comment">/* alpha chunk data */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a97cf29ce01af9196fef133d4c5af15eb">  198</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a97cf29ce01af9196fef133d4c5af15eb">alpha_data_size</a>;                <span class="comment">/* alpha chunk data size */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a579a762bd83c5618f290028cf3a148b9">  199</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a579a762bd83c5618f290028cf3a148b9">has_exif</a>;                       <span class="comment">/* set after an EXIF chunk has been processed */</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a65cd2ae4b5120c53e133185f524a6428">  200</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a65cd2ae4b5120c53e133185f524a6428">has_iccp</a>;                       <span class="comment">/* set after an ICCP chunk has been processed */</span></div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a2ffdda53234684bc5f583e93e65b4627">  201</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a2ffdda53234684bc5f583e93e65b4627">width</a>;                          <span class="comment">/* image width */</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#af301511f45803c8f29448dc875a59fb1">  202</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#af301511f45803c8f29448dc875a59fb1">height</a>;                         <span class="comment">/* image height */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a63b921e0009db9c24517cfa2c65dd591">  203</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a63b921e0009db9c24517cfa2c65dd591">lossless</a>;                       <span class="comment">/* indicates lossless or lossy */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a2fb887a7265bcb93ef4ece75f55f09a2">  205</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a447f515818c8fe7de3b2aa757a3e68dc">nb_transforms</a>;                  <span class="comment">/* number of transforms */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">enum</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2">TransformType</a> <a class="code" href="struct_web_p_context.html#a2fb887a7265bcb93ef4ece75f55f09a2">transforms</a>[4];   <span class="comment">/* transformations used in the image, in order */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#ae2e282daac764e322f4afd02d65f2a4d">  207</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#ae2e282daac764e322f4afd02d65f2a4d">reduced_width</a>;                  <span class="comment">/* reduced width for index image, if applicable */</span></div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#a47f02466bb5375c6cc803c1327423664">  208</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_web_p_context.html#a47f02466bb5375c6cc803c1327423664">nb_huffman_groups</a>;              <span class="comment">/* number of huffman groups in the primary image */</span></div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="struct_web_p_context.html#af92c9130b124f6e74b90198815e17cc8">  209</a></span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> <a class="code" href="struct_web_p_context.html#af92c9130b124f6e74b90198815e17cc8">image</a>[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a861db511312b97e131e88689b5bed124">IMAGE_ROLE_NB</a>];  <span class="comment">/* image context for each role */</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="webp_8c.html#a2eb5bc647825c95ae2ea501d179f4207">  210</a></span>&#160;} <a class="code" href="webp_8c.html#a2eb5bc647825c95ae2ea501d179f4207">WebPContext</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">  212</a></span>&#160;<span class="preprocessor">#define GET_PIXEL(frame, x, y) \</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">    ((frame)-&gt;data[0] + (y) * frame-&gt;linesize[0] + 4 * (x))</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="webp_8c.html#acc883f33c3ad04a7d9e893b23d44c25a">  215</a></span>&#160;<span class="preprocessor">#define GET_PIXEL_COMP(frame, x, y, c) \</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">    (*((frame)-&gt;data[0] + (y) * frame-&gt;linesize[0] + 4 * (x) + c))</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="webp_8c.html#a126c5abf0fb031b45b2a77dec5c818aa">  218</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a126c5abf0fb031b45b2a77dec5c818aa">image_ctx_free</a>(<a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;role != <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a> &amp;&amp; !<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;is_alpha_primary)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;nb_huffman_groups; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a>; j++)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <a class="code" href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a> + j].vlc);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    memset(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">  235</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a>(<a class="code" href="struct_huff_reader.html">HuffReader</a> *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;simple) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;nb_symbols == 1)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;simple_symbols[0];</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;simple_symbols[<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)];</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;vlc.table, 8, 2);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="webp_8c.html#ae4411f2aeedb4f4f48540b90666928ee">  246</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#ae4411f2aeedb4f4f48540b90666928ee">huff_reader_build_canonical</a>(<a class="code" href="struct_huff_reader.html">HuffReader</a> *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *code_lengths,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                       <span class="keywordtype">int</span> alphabet_size)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 0, sym, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = 0, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">int</span> max_code_length = 0;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    uint16_t *codes;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">/* special-case 1 symbol since the vlc reader cannot handle it */</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">for</span> (sym = 0; sym &lt; alphabet_size; sym++) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span> (code_lengths[sym] &gt; 0) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>++;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = sym;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt; 1)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> == 1) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;nb_symbols = 1;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;simple_symbols[0] = <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;simple = 1;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">for</span> (sym = 0; sym &lt; alphabet_size; sym++)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        max_code_length = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(max_code_length, code_lengths[sym]);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (max_code_length == 0 || max_code_length &gt; <a class="code" href="webp_8c.html#a8b5d685837de02f1ce809d43e25fb069">MAX_HUFFMAN_CODE_LENGTH</a>)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    codes = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(alphabet_size, <span class="keyword">sizeof</span>(*codes));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (!codes)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;nb_symbols = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 1; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt;= max_code_length; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>++) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">for</span> (sym = 0; sym &lt; alphabet_size; sym++) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (code_lengths[sym] != <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            codes[sym] = <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>++;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;nb_symbols++;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &lt;&lt;= 1;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;nb_symbols) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(codes);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a>(&amp;<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;vlc, 8, alphabet_size,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                   code_lengths, <span class="keyword">sizeof</span>(*code_lengths), <span class="keyword">sizeof</span>(*code_lengths),</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                   codes, <span class="keyword">sizeof</span>(*codes), <span class="keyword">sizeof</span>(*codes), <a class="code" href="vlc_8h.html#a94aa9a78832e0eda1b68978a170376f2">INIT_VLC_OUTPUT_LE</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(codes);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>-&gt;simple = 0;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(codes);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="webp_8c.html#a8f369bca07dd226561e821ee50bcbcb8">  308</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a8f369bca07dd226561e821ee50bcbcb8">read_huffman_code_simple</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_huff_reader.html">HuffReader</a> *hc)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    hc-&gt;<a class="code" href="struct_huff_reader.html#ae733691b5864b3b383c1cebe85a6bd7a">nb_symbols</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) + 1;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        hc-&gt;<a class="code" href="struct_huff_reader.html#a12d2f33c8194d4fc5346d9da7458a896">simple_symbols</a>[0] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        hc-&gt;<a class="code" href="struct_huff_reader.html#a12d2f33c8194d4fc5346d9da7458a896">simple_symbols</a>[0] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (hc-&gt;<a class="code" href="struct_huff_reader.html#ae733691b5864b3b383c1cebe85a6bd7a">nb_symbols</a> == 2)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        hc-&gt;<a class="code" href="struct_huff_reader.html#a12d2f33c8194d4fc5346d9da7458a896">simple_symbols</a>[1] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    hc-&gt;<a class="code" href="struct_huff_reader.html#af69d02ef07231a8ffe20f227f16b7d9e">simple</a> = 1;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="webp_8c.html#a0a3d428d33827903591cb79d8a9b9bbb">  323</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a0a3d428d33827903591cb79d8a9b9bbb">read_huffman_code_normal</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_huff_reader.html">HuffReader</a> *hc,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                    <span class="keywordtype">int</span> alphabet_size)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="struct_huff_reader.html">HuffReader</a> code_len_hc = { { 0 }, 0, 0, { 0 } };</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *code_lengths;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> code_length_code_lengths[<a class="code" href="webp_8c.html#a22ed04d49e008cb4295a8b366c4f2f3b">NUM_CODE_LENGTH_CODES</a>] = { 0 };</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, symbol, max_symbol, prev_code_len, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">int</span> num_codes = 4 + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(num_codes &lt;= <a class="code" href="webp_8c.html#a22ed04d49e008cb4295a8b366c4f2f3b">NUM_CODE_LENGTH_CODES</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; num_codes; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        code_length_code_lengths[<a class="code" href="webp_8c.html#a47f91b1e23d3b1d7be27b84880ec779d">code_length_code_order</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#ae4411f2aeedb4f4f48540b90666928ee">huff_reader_build_canonical</a>(&amp;code_len_hc, code_length_code_lengths,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                      <a class="code" href="webp_8c.html#a22ed04d49e008cb4295a8b366c4f2f3b">NUM_CODE_LENGTH_CODES</a>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    code_lengths = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(alphabet_size);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (!code_lengths) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>   = 2 + 2 * <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        max_symbol = 2 + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">if</span> (max_symbol &gt; alphabet_size) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;max symbol %d &gt; alphabet size %d\n&quot;</span>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                   max_symbol, alphabet_size);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        max_symbol = alphabet_size;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    prev_code_len = 8;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    symbol        = 0;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">while</span> (symbol &lt; alphabet_size) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordtype">int</span> code_len;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (!max_symbol--)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        code_len = <a class="code" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a>(&amp;code_len_hc, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span> (code_len &lt; 16) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="comment">/* Code length code [0..15] indicates literal code lengths. */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            code_lengths[symbol++] = code_len;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">if</span> (code_len)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                prev_code_len = code_len;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordtype">int</span> repeat = 0, length = 0;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">switch</span> (code_len) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="comment">/* Code 16 repeats the previous non-zero value [3..6] times,</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">                 * i.e., 3 + ReadBits(2) times. If code 16 is used before a</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">                 * non-zero value has been emitted, a value of 8 is repeated. */</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                repeat = 3 + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                length = prev_code_len;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">case</span> 17:</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="comment">/* Code 17 emits a streak of zeros [3..10], i.e.,</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">                 * 3 + ReadBits(3) times. */</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                repeat = 3 + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">case</span> 18:</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="comment">/* Code 18 emits a streak of zeros of length [11..138], i.e.,</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">                 * 11 + ReadBits(7) times. */</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                repeat = 11 + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 7);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">if</span> (symbol + repeat &gt; alphabet_size) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                       <span class="stringliteral">&quot;invalid symbol %d + repeat %d &gt; alphabet size %d\n&quot;</span>,</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                       symbol, repeat, alphabet_size);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">while</span> (repeat-- &gt; 0)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                code_lengths[symbol++] = length;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#ae4411f2aeedb4f4f48540b90666928ee">huff_reader_build_canonical</a>(hc, code_lengths, alphabet_size);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<a class="code" href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a>:</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a>(&amp;code_len_hc.<a class="code" href="struct_huff_reader.html#a56d9c5825b0e06060d56b9d346eb0dbd">vlc</a>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(code_lengths);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">enum</span> <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147">ImageRole</a> role,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                      <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <span class="keywordtype">int</span> <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="webp_8c.html#acacf2ad87d583299da78fbdd1dc53148">  418</a></span>&#160;<span class="preprocessor">#define PARSE_BLOCK_SIZE(w, h) do {                                         \</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">    block_bits = get_bits(&amp;s-&gt;gb, 3) + 2;                                   \</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">    blocks_w   = FFALIGN((w), 1 &lt;&lt; block_bits) &gt;&gt; block_bits;               \</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor">    blocks_h   = FFALIGN((h), 1 &lt;&lt; block_bits) &gt;&gt; block_bits;               \</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="webp_8c.html#ad005a947f027c8ac64229b411022486f">  424</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#ad005a947f027c8ac64229b411022486f">decode_entropy_image</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="imm4_8c.html#a55a197a3ed20b8d9e5282e61be250c18">block_bits</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, blocks_w, blocks_h, x, y, <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduced_width &gt; 0)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduced_width;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="webp_8c.html#acacf2ad87d583299da78fbdd1dc53148">PARSE_BLOCK_SIZE</a>(<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a73bacd8811cdf11be83e830b3f9aa490">IMAGE_ROLE_ENTROPY</a>, blocks_w, blocks_h);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a73bacd8811cdf11be83e830b3f9aa490">IMAGE_ROLE_ENTROPY</a>];</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;size_reduction = <a class="code" href="imm4_8c.html#a55a197a3ed20b8d9e5282e61be250c18">block_bits</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">/* the number of huffman groups is determined by the maximum group number</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">     * coded in the entropy image */</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = 0;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height; y++) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width; x++) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordtype">int</span> p0 = <a class="code" href="webp_8c.html#acc883f33c3ad04a7d9e893b23d44c25a">GET_PIXEL_COMP</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y, 1);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordtype">int</span> p1 = <a class="code" href="webp_8c.html#acc883f33c3ad04a7d9e893b23d44c25a">GET_PIXEL_COMP</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y, 2);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordtype">int</span> p  = p0 &lt;&lt; 8 | p1;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, p);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_huffman_groups = <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> + 1;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="webp_8c.html#af585503aa924b2e03fbd810e321c78f5">  458</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#af585503aa924b2e03fbd810e321c78f5">parse_transform_predictor</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="imm4_8c.html#a55a197a3ed20b8d9e5282e61be250c18">block_bits</a>, blocks_w, blocks_h, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="webp_8c.html#acacf2ad87d583299da78fbdd1dc53148">PARSE_BLOCK_SIZE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a488ab39c0e4d0a2df4e3e8d6183d43a4">IMAGE_ROLE_PREDICTOR</a>, blocks_w,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                     blocks_h);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a488ab39c0e4d0a2df4e3e8d6183d43a4">IMAGE_ROLE_PREDICTOR</a>].size_reduction = <a class="code" href="imm4_8c.html#a55a197a3ed20b8d9e5282e61be250c18">block_bits</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="webp_8c.html#a3b3210a52deae4c158eaa1414a64d2bb">  474</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a3b3210a52deae4c158eaa1414a64d2bb">parse_transform_color</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="imm4_8c.html#a55a197a3ed20b8d9e5282e61be250c18">block_bits</a>, blocks_w, blocks_h, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="webp_8c.html#acacf2ad87d583299da78fbdd1dc53148">PARSE_BLOCK_SIZE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a4a144b2247bf9535b398c303f668c6bb">IMAGE_ROLE_COLOR_TRANSFORM</a>, blocks_w,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                     blocks_h);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a4a144b2247bf9535b398c303f668c6bb">IMAGE_ROLE_COLOR_TRANSFORM</a>].size_reduction = <a class="code" href="imm4_8c.html#a55a197a3ed20b8d9e5282e61be250c18">block_bits</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="webp_8c.html#abebaf6f316a1ef29d9c158151a40a58a">  490</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#abebaf6f316a1ef29d9c158151a40a58a">parse_transform_color_indexing</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">int</span> width_bits, index_size, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, x;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ct;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    index_size = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8) + 1;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> (index_size &lt;= 2)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        width_bits = 3;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_size &lt;= 4)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        width_bits = 2;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_size &lt;= 16)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        width_bits = 1;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        width_bits = 0;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147aa3c930490f94db2b3654ce5a64376f58">IMAGE_ROLE_COLOR_INDEXING</a>,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                     index_size, 1);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147aa3c930490f94db2b3654ce5a64376f58">IMAGE_ROLE_COLOR_INDEXING</a>];</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;size_reduction = width_bits;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">if</span> (width_bits &gt; 0)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduced_width = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width + ((1 &lt;&lt; width_bits) - 1)) &gt;&gt; width_bits;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">/* color index values are delta-coded */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    ct  = <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;data[0] + 4;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">for</span> (x = 4; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width * 4; x++, ct++)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        ct[0] += ct[-4];</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="webp_8c.html#ae57cec2c86e306c71896c17640fbc1d5">  525</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_huff_reader.html">HuffReader</a> *<a class="code" href="webp_8c.html#ae57cec2c86e306c71896c17640fbc1d5">get_huffman_group</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                                     <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *gimg = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a73bacd8811cdf11be83e830b3f9aa490">IMAGE_ROLE_ENTROPY</a>];</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordtype">int</span> group = 0;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (gimg-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a> &gt; 0) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordtype">int</span> group_x = x &gt;&gt; gimg-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordtype">int</span> group_y = y &gt;&gt; gimg-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordtype">int</span> g0      = <a class="code" href="webp_8c.html#acc883f33c3ad04a7d9e893b23d44c25a">GET_PIXEL_COMP</a>(gimg-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>, group_x, group_y, 1);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordtype">int</span> g1      = <a class="code" href="webp_8c.html#acc883f33c3ad04a7d9e893b23d44c25a">GET_PIXEL_COMP</a>(gimg-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>, group_x, group_y, 2);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        group       = g0 &lt;&lt; 8 | g1;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups[group * <a class="code" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a>];</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="webp_8c.html#a5e1923b29dcde61e81c0a1a48dcd946c">  542</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a5e1923b29dcde61e81c0a1a48dcd946c">color_cache_put</a>(<a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>, uint32_t <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    uint32_t cache_idx = (0x1E35A7BD * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) &gt;&gt; (32 - <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache[cache_idx] = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">  548</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">enum</span> <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147">ImageRole</a> role,</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                      <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <span class="keywordtype">int</span> <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="struct_huff_reader.html">HuffReader</a> *hg;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, x, y, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>       = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[role];</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;role = role;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;format = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a375034d667a39133f8012069098a45ca">AV_PIX_FMT_ARGB</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width  = <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span> (role == <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a> &amp;&amp; !<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;is_alpha_primary) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="struct_thread_frame.html">ThreadFrame</a> <a class="code" href="rtp_8c.html#aa51c0cd81327c3099d0a4d1738c6a45d">pt</a> = { .f = <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame };</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="multithreading_8txt.html#ad20d53520fe26af28cbae5338a670db5">ff_thread_get_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="rtp_8c.html#aa51c0cd81327c3099d0a4d1738c6a45d">pt</a>, 0);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__frame.html#ga6b1acbfa82c79bf7fd78d868572f0ceb">av_frame_get_buffer</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, 1);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits &lt; 1 || <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits &gt; 11) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;invalid color cache bits: %d\n&quot;</span>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                   <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(1 &lt;&lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                                            <span class="keyword">sizeof</span>(*<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache));</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits = 0;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;nb_huffman_groups = 1;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (role == <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a> &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#ad005a947f027c8ac64229b411022486f">decode_entropy_image</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;nb_huffman_groups = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_huffman_groups;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;nb_huffman_groups *</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                           <a class="code" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a>,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                           <span class="keyword">sizeof</span>(*<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups));</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;nb_huffman_groups; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        hg = &amp;<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;huffman_groups[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a>];</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a>; j++) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordtype">int</span> alphabet_size = <a class="code" href="webp_8c.html#ad86db4e0ce81a7b8262c0403a2e31721">alphabet_sizes</a>[j];</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">if</span> (!j &amp;&amp; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits &gt; 0)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                alphabet_size += 1 &lt;&lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                <a class="code" href="webp_8c.html#a8f369bca07dd226561e821ee50bcbcb8">read_huffman_code_simple</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;hg[j]);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a0a3d428d33827903591cb79d8a9b9bbb">read_huffman_code_normal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;hg[j], alphabet_size);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (role == <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduced_width &gt; 0)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduced_width;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    x = 0; y = 0;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">while</span> (y &lt; img-&gt;<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordtype">int</span> v;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        hg = <a class="code" href="webp_8c.html#ae57cec2c86e306c71896c17640fbc1d5">get_huffman_group</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>, x, y);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        v = <a class="code" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a>(&amp;hg[<a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a3b0ffef67f069019bfad9f46b982febb">HUFF_IDX_GREEN</a>], &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">if</span> (v &lt; <a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a>) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="comment">/* literal pixel values */</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            p[2] = v;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            p[1] = <a class="code" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a>(&amp;hg[<a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a328fef01beb0724eb48a1ffdc511b88f">HUFF_IDX_RED</a>],   &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            p[3] = <a class="code" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a>(&amp;hg[<a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a9edfb26e4f9fd705be4dd4d3f739aa95">HUFF_IDX_BLUE</a>],  &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            p[0] = <a class="code" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a>(&amp;hg[<a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5aa58279bd00e62bdea1c27d7299180fe2">HUFF_IDX_ALPHA</a>], &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <a class="code" href="webp_8c.html#a5e1923b29dcde61e81c0a1a48dcd946c">color_cache_put</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>, <a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(p));</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            x++;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">if</span> (x == <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                x = 0;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                y++;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &lt; <a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a> + <a class="code" href="webp_8c.html#aa803921583cd0d074e424bd5a596e456">NUM_LENGTH_CODES</a>) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="comment">/* LZ77 backwards mapping */</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keywordtype">int</span> prefix_code, length, <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a>, ref_x, ref_y;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="comment">/* parse length and distance */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            prefix_code = v - <a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordflow">if</span> (prefix_code &lt; 4) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                length = prefix_code + 1;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="intrax8_8c.html#ab7fb8460bc7af9e005bc1369f710bfbd">extra_bits</a> = (prefix_code - 2) &gt;&gt; 1;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>     = 2 + (prefix_code &amp; 1) &lt;&lt; <a class="code" href="intrax8_8c.html#ab7fb8460bc7af9e005bc1369f710bfbd">extra_bits</a>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                length = <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="intrax8_8c.html#ab7fb8460bc7af9e005bc1369f710bfbd">extra_bits</a>) + 1;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            prefix_code = <a class="code" href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a>(&amp;hg[<a class="code" href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5ad84acf8fa3ce761ba657d3053dd390aa">HUFF_IDX_DIST</a>], &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span> (prefix_code &gt; 39<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                       <span class="stringliteral">&quot;distance prefix code too large: %d\n&quot;</span>, prefix_code);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">if</span> (prefix_code &lt; 4) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> = prefix_code + 1;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="intrax8_8c.html#ab7fb8460bc7af9e005bc1369f710bfbd">extra_bits</a> = prefix_code - 2 &gt;&gt; 1;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>     = 2 + (prefix_code &amp; 1) &lt;&lt; <a class="code" href="intrax8_8c.html#ab7fb8460bc7af9e005bc1369f710bfbd">extra_bits</a>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> = <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> + <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="intrax8_8c.html#ab7fb8460bc7af9e005bc1369f710bfbd">extra_bits</a>) + 1;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="comment">/* find reference location */</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> &lt;= <a class="code" href="webp_8c.html#aeb00246adfcdf3aebb049287802ccd8c">NUM_SHORT_DISTANCES</a>) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a> = <a class="code" href="webp_8c.html#a5e105327e4dc1fac0b7fc43e0b45f01c">lz77_distance_offsets</a>[<a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> - 1][0];</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordtype">int</span> yi = <a class="code" href="webp_8c.html#a5e105327e4dc1fac0b7fc43e0b45f01c">lz77_distance_offsets</a>[<a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> - 1][1];</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(1, <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a> + yi * <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> -= <a class="code" href="webp_8c.html#aeb00246adfcdf3aebb049287802ccd8c">NUM_SHORT_DISTANCES</a>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            ref_x = x;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            ref_y = y;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> &lt;= x) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                ref_x -= <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> = 0;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                ref_x = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> -= x;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> &gt;= <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                ref_y--;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> -= <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> &gt; 0) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                ref_x = <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> - <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                ref_y--;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            ref_x = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, ref_x);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            ref_y = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, ref_y);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="comment">/* copy pixels</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">             * source and dest regions can overlap and wrap lines, so just</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">             * copy per-pixel */</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; length; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_ref = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, ref_x, ref_y);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p     = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame,     x,     y);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, p_ref);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    <a class="code" href="webp_8c.html#a5e1923b29dcde61e81c0a1a48dcd946c">color_cache_put</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>, <a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(p));</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                x++;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                ref_x++;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="keywordflow">if</span> (x == <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    x = 0;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    y++;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                <span class="keywordflow">if</span> (ref_x == <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    ref_x = 0;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    ref_y++;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">if</span> (y == <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height || ref_y == <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height)</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="comment">/* read from color cache */</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordtype">int</span> cache_idx = v - (<a class="code" href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a> + <a class="code" href="webp_8c.html#aa803921583cd0d074e424bd5a596e456">NUM_LENGTH_CODES</a>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;color cache not found\n&quot;</span>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">if</span> (cache_idx &gt;= 1 &lt;&lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache_bits) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                       <span class="stringliteral">&quot;color cache index out-of-bounds\n&quot;</span>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(p, <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;color_cache[cache_idx]);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            x++;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">if</span> (x == <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                x = 0;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                y++;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/* PRED_MODE_BLACK */</span></div>
<div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="webp_8c.html#a5f06c953491f443b63ee5f994de0248e">  750</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a5f06c953491f443b63ee5f994de0248e">inv_predict_0</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;{</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(p, 0xFF000000);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">/* PRED_MODE_L */</span></div>
<div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="webp_8c.html#ae0f0358d7a7bc56a5f00345f1535825c">  757</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#ae0f0358d7a7bc56a5f00345f1535825c">inv_predict_1</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;{</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, p_l);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">/* PRED_MODE_T */</span></div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="webp_8c.html#abc5d41ce784126515a0107eb851d61fd">  764</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#abc5d41ce784126515a0107eb851d61fd">inv_predict_2</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, p_t);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">/* PRED_MODE_TR */</span></div>
<div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="webp_8c.html#a86552a19a8c0722b76066c9ff8496cef">  771</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a86552a19a8c0722b76066c9ff8496cef">inv_predict_3</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;{</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, p_tr);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">/* PRED_MODE_TL */</span></div>
<div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="webp_8c.html#a43ea5348c6ca50fa0113595759709292">  778</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a43ea5348c6ca50fa0113595759709292">inv_predict_4</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;{</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, p_tl);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;}</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">/* PRED_MODE_AVG_T_AVG_L_TR */</span></div>
<div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="webp_8c.html#afb1daa02d93d7de92a737af16dbe90fd">  785</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#afb1daa02d93d7de92a737af16dbe90fd">inv_predict_5</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;{</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    p[0] = p_t[0] + (p_l[0] + p_tr[0] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    p[1] = p_t[1] + (p_l[1] + p_tr[1] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    p[2] = p_t[2] + (p_l[2] + p_tr[2] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    p[3] = p_t[3] + (p_l[3] + p_tr[3] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">/* PRED_MODE_AVG_L_TL */</span></div>
<div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="webp_8c.html#aa5527c6d06c1c8a25c0b88b32833f778">  795</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#aa5527c6d06c1c8a25c0b88b32833f778">inv_predict_6</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;{</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    p[0] = p_l[0] + p_tl[0] &gt;&gt; 1;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    p[1] = p_l[1] + p_tl[1] &gt;&gt; 1;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    p[2] = p_l[2] + p_tl[2] &gt;&gt; 1;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    p[3] = p_l[3] + p_tl[3] &gt;&gt; 1;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">/* PRED_MODE_AVG_L_T */</span></div>
<div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="webp_8c.html#a2620e8b2c399f2e7ae2a577facf58cbb">  805</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a2620e8b2c399f2e7ae2a577facf58cbb">inv_predict_7</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;{</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    p[0] = p_l[0] + p_t[0] &gt;&gt; 1;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    p[1] = p_l[1] + p_t[1] &gt;&gt; 1;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    p[2] = p_l[2] + p_t[2] &gt;&gt; 1;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    p[3] = p_l[3] + p_t[3] &gt;&gt; 1;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">/* PRED_MODE_AVG_TL_T */</span></div>
<div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="webp_8c.html#a22236c4f2abac50b7f14a3dac7519408">  815</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a22236c4f2abac50b7f14a3dac7519408">inv_predict_8</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;{</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    p[0] = p_tl[0] + p_t[0] &gt;&gt; 1;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    p[1] = p_tl[1] + p_t[1] &gt;&gt; 1;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    p[2] = p_tl[2] + p_t[2] &gt;&gt; 1;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    p[3] = p_tl[3] + p_t[3] &gt;&gt; 1;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">/* PRED_MODE_AVG_T_TR */</span></div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="webp_8c.html#a69b0baccb61c526776f3ea599695a106">  825</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a69b0baccb61c526776f3ea599695a106">inv_predict_9</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    p[0] = p_t[0] + p_tr[0] &gt;&gt; 1;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    p[1] = p_t[1] + p_tr[1] &gt;&gt; 1;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    p[2] = p_t[2] + p_tr[2] &gt;&gt; 1;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    p[3] = p_t[3] + p_tr[3] &gt;&gt; 1;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">/* PRED_MODE_AVG_AVG_L_TL_AVG_T_TR */</span></div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="webp_8c.html#a0bac2bce7da8f820a6cb22345cdf9626">  835</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a0bac2bce7da8f820a6cb22345cdf9626">inv_predict_10</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                           <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;{</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    p[0] = (p_l[0] + p_tl[0] &gt;&gt; 1) + (p_t[0] + p_tr[0] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    p[1] = (p_l[1] + p_tl[1] &gt;&gt; 1) + (p_t[1] + p_tr[1] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    p[2] = (p_l[2] + p_tl[2] &gt;&gt; 1) + (p_t[2] + p_tr[2] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    p[3] = (p_l[3] + p_tl[3] &gt;&gt; 1) + (p_t[3] + p_tr[3] &gt;&gt; 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">/* PRED_MODE_SELECT */</span></div>
<div class="line"><a name="l00845"></a><span class="lineno"><a class="line" href="webp_8c.html#a6154049475382fba40b19240090f398c">  845</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a6154049475382fba40b19240090f398c">inv_predict_11</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                           <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = (<a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_l[0] - p_tl[0]) - <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_t[0] - p_tl[0])) +</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;               (<a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_l[1] - p_tl[1]) - <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_t[1] - p_tl[1])) +</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;               (<a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_l[2] - p_tl[2]) - <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_t[2] - p_tl[2])) +</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;               (<a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_l[3] - p_tl[3]) - <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(p_t[3] - p_tl[3]));</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> &lt;= 0)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, p_t);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, p_l);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">/* PRED_MODE_ADD_SUBTRACT_FULL */</span></div>
<div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="webp_8c.html#af10e1e93b01ed2c3dc6f1354399a40f7">  859</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#af10e1e93b01ed2c3dc6f1354399a40f7">inv_predict_12</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                           <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    p[0] = av_clip_uint8(p_l[0] + p_t[0] - p_tl[0]);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    p[1] = av_clip_uint8(p_l[1] + p_t[1] - p_tl[1]);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    p[2] = av_clip_uint8(p_l[2] + p_t[2] - p_tl[2]);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    p[3] = av_clip_uint8(p_l[3] + p_t[3] - p_tl[3]);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="webp_8c.html#a5f272592193c907956660126c4fac710">  868</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="webp_8c.html#a5f272592193c907956660126c4fac710">clamp_add_subtract_half</a>(<span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <span class="keywordtype">int</span> <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordtype">int</span> d = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> + <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &gt;&gt; 1;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">return</span> av_clip_uint8(d + (d - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) / 2);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;}</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">/* PRED_MODE_ADD_SUBTRACT_HALF */</span></div>
<div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="webp_8c.html#acb67aff90e27b452765551ae28b17f8b">  875</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#acb67aff90e27b452765551ae28b17f8b">inv_predict_13</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl,</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                           <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;{</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    p[0] = <a class="code" href="webp_8c.html#a5f272592193c907956660126c4fac710">clamp_add_subtract_half</a>(p_l[0], p_t[0], p_tl[0]);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    p[1] = <a class="code" href="webp_8c.html#a5f272592193c907956660126c4fac710">clamp_add_subtract_half</a>(p_l[1], p_t[1], p_tl[1]);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    p[2] = <a class="code" href="webp_8c.html#a5f272592193c907956660126c4fac710">clamp_add_subtract_half</a>(p_l[2], p_t[2], p_tl[2]);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    p[3] = <a class="code" href="webp_8c.html#a5f272592193c907956660126c4fac710">clamp_add_subtract_half</a>(p_l[3], p_t[3], p_tl[3]);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="webp_8c.html#a8c78c67c6ad61665e6f7cf17df01b29f">  884</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> (*<a class="code" href="webp_8c.html#a8c78c67c6ad61665e6f7cf17df01b29f">inv_predict_func</a>)(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_l,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tl, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_t,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p_tr);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="webp_8c.html#ae6a695ae4a9a64737ce689948351e4a3">  888</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="webp_8c.html#a8c78c67c6ad61665e6f7cf17df01b29f">inv_predict_func</a> <a class="code" href="webp_8c.html#ae6a695ae4a9a64737ce689948351e4a3">inverse_predict</a>[14] = {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="webp_8c.html#a5f06c953491f443b63ee5f994de0248e">inv_predict_0</a>,  <a class="code" href="webp_8c.html#ae0f0358d7a7bc56a5f00345f1535825c">inv_predict_1</a>,  <a class="code" href="webp_8c.html#abc5d41ce784126515a0107eb851d61fd">inv_predict_2</a>,  <a class="code" href="webp_8c.html#a86552a19a8c0722b76066c9ff8496cef">inv_predict_3</a>,</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="webp_8c.html#a43ea5348c6ca50fa0113595759709292">inv_predict_4</a>,  <a class="code" href="webp_8c.html#afb1daa02d93d7de92a737af16dbe90fd">inv_predict_5</a>,  <a class="code" href="webp_8c.html#aa5527c6d06c1c8a25c0b88b32833f778">inv_predict_6</a>,  <a class="code" href="webp_8c.html#a2620e8b2c399f2e7ae2a577facf58cbb">inv_predict_7</a>,</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <a class="code" href="webp_8c.html#a22236c4f2abac50b7f14a3dac7519408">inv_predict_8</a>,  <a class="code" href="webp_8c.html#a69b0baccb61c526776f3ea599695a106">inv_predict_9</a>,  <a class="code" href="webp_8c.html#a0bac2bce7da8f820a6cb22345cdf9626">inv_predict_10</a>, <a class="code" href="webp_8c.html#a6154049475382fba40b19240090f398c">inv_predict_11</a>,</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="webp_8c.html#af10e1e93b01ed2c3dc6f1354399a40f7">inv_predict_12</a>, <a class="code" href="webp_8c.html#acb67aff90e27b452765551ae28b17f8b">inv_predict_13</a>,</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;};</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="webp_8c.html#a4f40d65516bdcaec47c14913356d6250">  895</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a4f40d65516bdcaec47c14913356d6250">inverse_prediction</a>(<a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <span class="keyword">enum</span> <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7d">PredictionMode</a> m, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;{</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dec, *p_l, *p_tl, *p_t, *p_tr;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> p[4];</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    dec  = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, x,     y);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    p_l  = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, x - 1, y);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    p_tl = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, x - 1, y - 1);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    p_t  = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, x,     y - 1);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">if</span> (x == <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width - 1)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        p_tr = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0, y);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        p_tr = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, x + 1, y - 1);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <a class="code" href="webp_8c.html#ae6a695ae4a9a64737ce689948351e4a3">inverse_predict</a>[m](p, p_l, p_tl, p_t, p_tr);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    dec[0] += p[0];</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    dec[1] += p[1];</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    dec[2] += p[2];</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    dec[3] += p[3];</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="webp_8c.html#a91bcc66a75b9764e4e1e7a6e679f088f">  917</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a91bcc66a75b9764e4e1e7a6e679f088f">apply_predictor_transform</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>  = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>];</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *pimg = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a488ab39c0e4d0a2df4e3e8d6183d43a4">IMAGE_ROLE_PREDICTOR</a>];</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height; y++) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width; x++) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordtype">int</span> tx = x &gt;&gt; pimg-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordtype">int</span> ty = y &gt;&gt; pimg-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="keyword">enum</span> <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7d">PredictionMode</a> m = <a class="code" href="webp_8c.html#acc883f33c3ad04a7d9e893b23d44c25a">GET_PIXEL_COMP</a>(pimg-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>, tx, ty, 2);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">if</span> (x == 0) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                <span class="keywordflow">if</span> (y == 0)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    m = <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da95069a026bc57fd9e1a7b73f254f04d0">PRED_MODE_BLACK</a>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    m = <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da5a2623cf0a956b63d4395727c4e39e44">PRED_MODE_T</a>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y == 0)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                m = <a class="code" href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7dac6baaaaf190f42867bf2100ed79d0c13">PRED_MODE_L</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            <span class="keywordflow">if</span> (m &gt; 13) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                       <span class="stringliteral">&quot;invalid predictor mode: %d\n&quot;</span>, m);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            <a class="code" href="webp_8c.html#a4f40d65516bdcaec47c14913356d6250">inverse_prediction</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, m, x, y);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;}</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno"><a class="line" href="webp_8c.html#a22c95786ed28ff828bb8d84d3c3ab846">  948</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="webp_8c.html#a22c95786ed28ff828bb8d84d3c3ab846">color_transform_delta</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> color_pred,</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                                                      <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="structcolor.html">color</a>)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;{</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="mathops_8h.html#a13b10f1229527e84da1e56d8064d4e77">ff_u8_to_s8</a>(color_pred) * <a class="code" href="mathops_8h.html#a13b10f1229527e84da1e56d8064d4e77">ff_u8_to_s8</a>(<a class="code" href="structcolor.html">color</a>) &gt;&gt; 5;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="webp_8c.html#a1956748b2163ad1547eb8a4bac098e39">  954</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a1956748b2163ad1547eb8a4bac098e39">apply_color_transform</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;{</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>, *cimg;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordtype">int</span> x, y, cx, cy;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, *cp;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>  = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>];</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    cimg = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a4a144b2247bf9535b398c303f668c6bb">IMAGE_ROLE_COLOR_TRANSFORM</a>];</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height; y++) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width; x++) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            cx = x &gt;&gt; cimg-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            cy = y &gt;&gt; cimg-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            cp = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(cimg-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>, cx, cy);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            p  = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame,   x,  y);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            p[1] += <a class="code" href="webp_8c.html#a22c95786ed28ff828bb8d84d3c3ab846">color_transform_delta</a>(cp[3], p[2]);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            p[3] += <a class="code" href="webp_8c.html#a22c95786ed28ff828bb8d84d3c3ab846">color_transform_delta</a>(cp[2], p[2]) +</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                    <a class="code" href="webp_8c.html#a22c95786ed28ff828bb8d84d3c3ab846">color_transform_delta</a>(cp[1], p[1]);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno"><a class="line" href="webp_8c.html#a62d1ef3c27200072a24bb7c14816fc4a">  978</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a62d1ef3c27200072a24bb7c14816fc4a">apply_subtract_green_transform</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;{</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>];</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height; y++) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width; x++) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            p[1] += p[2];</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            p[3] += p[2];</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;}</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno"><a class="line" href="webp_8c.html#aa934a528026049d2bccc516a520a27ec">  993</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#aa934a528026049d2bccc516a520a27ec">apply_color_indexing_transform</a>(<a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;{</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <a class="code" href="struct_image_context.html">ImageContext</a> *pal;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, x, y;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>];</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    pal = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147aa3c930490f94db2b3654ce5a64376f58">IMAGE_ROLE_COLOR_INDEXING</a>];</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span> (pal-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a> &gt; 0) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb_g;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="swscale_8txt.html#aa111755617738a3e99d08d488ed0d3c4">line</a>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordtype">int</span> pixel_bits = 8 &gt;&gt; pal-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <a class="code" href="structline.html">line</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;linesize[0] + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="structline.html">line</a>)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height; y++) {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            p = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, 0, y);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            memcpy(<a class="code" href="structline.html">line</a>, p, <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;linesize[0]);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb_g, <a class="code" href="structline.html">line</a>, <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;linesize[0] * 8);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;gb_g, 16);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width; x++) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                p    = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                p[2] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;gb_g, pixel_bits);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == 1 &lt;&lt; pal-&gt;<a class="code" href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">size_reduction</a>) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;gb_g, 24);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="structline.html">line</a>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">// switch to local palette if it&#39;s worth initializing it</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height * <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width &gt; 300) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> palette[256 * 4];</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = pal-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a> * 4;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt;= 1024<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        memcpy(palette, <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(pal-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>, 0, 0), <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);   <span class="comment">// copy palette</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="comment">// set extra entries to transparent black</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        memset(palette + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0, 256 * 4 - <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height; y++) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width; x++) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                p = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = p[2];</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, &amp;palette[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4]);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;height; y++) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame-&gt;width; x++) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                p = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a>-&gt;frame, x, y);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = p[2];</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= pal-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                    <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(p, 0x00000000);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pi = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(pal-&gt;<a class="code" href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">frame</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(p, pi);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        }</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;}</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="webp_8c.html#ad946777cb9f4abf6488789d77b31350f"> 1064</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#ad946777cb9f4abf6488789d77b31350f">update_canvas_size</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <span class="keywordtype">int</span> <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width != <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Width mismatch. %d != %d\n&quot;</span>,</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width = <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height != <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Height mismatch. %d != %d\n&quot;</span>,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;}</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="webp_8c.html#a67616604ea6d195388325f3fbf2d1389"> 1079</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a67616604ea6d195388325f3fbf2d1389">vp8_lossless_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *p,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                                     <span class="keywordtype">int</span> *got_frame, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *data_start,</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                                     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_size, <span class="keywordtype">int</span> is_alpha_chunk)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;{</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, used;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">if</span> (!is_alpha_chunk) {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lossless = 1;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a375034d667a39133f8012069098a45ca">AV_PIX_FMT_ARGB</a>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, data_start, data_size);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span> (!is_alpha_chunk) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8) != 0x2F) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid WebP Lossless signature\n&quot;</span>);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 14) + 1;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 14) + 1;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="webp_8c.html#ad946777cb9f4abf6488789d77b31350f">update_canvas_size</a>(avctx, <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2internal_8h.html#ac8b736a8223c5348ad85ffff597401ff">ff_set_dimensions</a>(avctx, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_alpha = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3) != 0x0) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid WebP Lossless version\n&quot;</span>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width || !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height)</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa102cde7ec5acbc099c3bcbb58556a18">AVERROR_BUG</a>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="comment">/* parse transformations */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_transforms = 0;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reduced_width = 0;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    used = 0;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keyword">enum</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2">TransformType</a> <a class="code" href="hevcdsp_8c.html#aa4607c9f8c7507415c1c10c59a2141b6">transform</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordflow">if</span> (used &amp; (1 &lt;&lt; <a class="code" href="hevcdsp_8c.html#aa4607c9f8c7507415c1c10c59a2141b6">transform</a>)) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Transform %d used more than once\n&quot;</span>,</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                   <a class="code" href="hevcdsp_8c.html#aa4607c9f8c7507415c1c10c59a2141b6">transform</a>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">goto</span> free_and_return;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        used |= (1 &lt;&lt; <a class="code" href="hevcdsp_8c.html#aa4607c9f8c7507415c1c10c59a2141b6">transform</a>);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;transforms[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_transforms++] = <a class="code" href="hevcdsp_8c.html#aa4607c9f8c7507415c1c10c59a2141b6">transform</a>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="hevcdsp_8c.html#aa4607c9f8c7507415c1c10c59a2141b6">transform</a>) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a44afbb990c1c55a1a042aaaf3c3141be">PREDICTOR_TRANSFORM</a>:</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#af585503aa924b2e03fbd810e321c78f5">parse_transform_predictor</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a14f02b15455672b3ec8b523187cef712">COLOR_TRANSFORM</a>:</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a3b3210a52deae4c158eaa1414a64d2bb">parse_transform_color</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a3f38ad5580fd8c33ff09cb72ec2989cc">COLOR_INDEXING_TRANSFORM</a>:</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#abebaf6f316a1ef29d9c158151a40a58a">parse_transform_color_indexing</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <span class="keywordflow">goto</span> free_and_return;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="comment">/* decode primary image */</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>].frame = p;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (is_alpha_chunk)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>].is_alpha_primary = 1;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a>, <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">goto</span> free_and_return;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">/* apply transformations */</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_transforms - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;transforms[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a44afbb990c1c55a1a042aaaf3c3141be">PREDICTOR_TRANSFORM</a>:</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a91bcc66a75b9764e4e1e7a6e679f088f">apply_predictor_transform</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a14f02b15455672b3ec8b523187cef712">COLOR_TRANSFORM</a>:</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a1956748b2163ad1547eb8a4bac098e39">apply_color_transform</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a59834222eb2815ad4de50453c44f0165">SUBTRACT_GREEN</a>:</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a62d1ef3c27200072a24bb7c14816fc4a">apply_subtract_green_transform</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a3f38ad5580fd8c33ff09cb72ec2989cc">COLOR_INDEXING_TRANSFORM</a>:</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#aa934a528026049d2bccc516a520a27ec">apply_color_indexing_transform</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="keywordflow">goto</span> free_and_return;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    *got_frame   = 1;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    p-&gt;<a class="code" href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    p-&gt;<a class="code" href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">key_frame</a> = 1;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>          = data_size;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;free_and_return:</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a861db511312b97e131e88689b5bed124">IMAGE_ROLE_NB</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <a class="code" href="webp_8c.html#a126c5abf0fb031b45b2a77dec5c818aa">image_ctx_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;image[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="webp_8c.html#a2e8ef0d60d3c05312ba88a3fc6e335c0"> 1192</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="webp_8c.html#a2e8ef0d60d3c05312ba88a3fc6e335c0">alpha_inverse_prediction</a>(<a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <span class="keyword">enum</span> <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9">AlphaFilter</a> m)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;{</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordtype">int</span> x, y, ls;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dec;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    ls = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[3];</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">/* filter first row using horizontal filter */</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    dec = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[3] + 1;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">for</span> (x = 1; x &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width; x++, dec++)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        *dec += *(dec - 1);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="comment">/* filter first column using vertical filter */</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    dec = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[3] + ls;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">for</span> (y = 1; y &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height; y++, dec += ls)</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        *dec += *(dec - ls);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="comment">/* filter the rest using the specified filter */</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">switch</span> (m) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9aca0aa4062963b1c54e280275b5ae198a">ALPHA_FILTER_HORIZONTAL</a>:</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordflow">for</span> (y = 1; y &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height; y++) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            dec = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[3] + y * ls + 1;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="keywordflow">for</span> (x = 1; x &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width; x++, dec++)</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                *dec += *(dec - 1);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a6f270a60c2e62877b664d2cd966c44ee">ALPHA_FILTER_VERTICAL</a>:</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="keywordflow">for</span> (y = 1; y &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height; y++) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            dec = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[3] + y * ls + 1;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            <span class="keywordflow">for</span> (x = 1; x &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width; x++, dec++)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                *dec += *(dec - ls);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a5b760221ef843318a80c5a9d28207ab6">ALPHA_FILTER_GRADIENT</a>:</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="keywordflow">for</span> (y = 1; y &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height; y++) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            dec = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[3] + y * ls + 1;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            <span class="keywordflow">for</span> (x = 1; x &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width; x++, dec++)</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                dec[0] += av_clip_uint8(*(dec - 1) + *(dec - ls) - *(dec - ls - 1));</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;}</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"><a class="line" href="webp_8c.html#ae0c7301c7b56362bb91d7e54aca91c38"> 1235</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#ae0c7301c7b56362bb91d7e54aca91c38">vp8_lossy_decode_alpha</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *p,</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                                  <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *data_start,</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_size)</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;{</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordtype">int</span> x, y, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_compression == <a class="code" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba2097fdb9dccb8064e69541fad4a002b9">ALPHA_COMPRESSION_NONE</a>) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <a class="code" href="struct_get_byte_context.html">GetByteContext</a> gb;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;gb, data_start, data_size);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height; y++)</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            <a class="code" href="bytestream_8h.html#a08230f0d738ecf7082644b0ef1b671fd">bytestream2_get_buffer</a>(&amp;gb, p-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[3] + p-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[3] * y,</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_compression == <a class="code" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba82527b220293ec92200cbe54c7e971fd">ALPHA_COMPRESSION_VP8L</a>) {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ap, *pp;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="keywordtype">int</span> alpha_got_frame = 0;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_frame = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_frame)</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a67616604ea6d195388325f3fbf2d1389">vp8_lossless_decode_frame</a>(avctx, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_frame, &amp;alpha_got_frame,</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                                        data_start, data_size, 1);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_frame);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordflow">if</span> (!alpha_got_frame) {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_frame);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="comment">/* copy green component of alpha image to alpha plane of primary image */</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height; y++) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            ap = <a class="code" href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_frame, 0, y) + 2;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            pp = p-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[3] + p-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[3] * y;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width; x++) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                *pp = *ap;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                pp++;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                ap += 4;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_frame);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">/* apply alpha filtering */</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_filter)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <a class="code" href="webp_8c.html#a2e8ef0d60d3c05312ba88a3fc6e335c0">alpha_inverse_prediction</a>(p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_filter);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;}</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="webp_8c.html#a655b5488e45220d56aa6ddb3af396c70"> 1288</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a655b5488e45220d56aa6ddb3af396c70">vp8_lossy_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *p,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                                  <span class="keywordtype">int</span> *got_frame, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *data_start,</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_size)</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;{</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;initialized) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <a class="code" href="vp8_8c.html#a356e27c7d319b79df0b556307636b4e5">ff_vp8_decode_init</a>(avctx);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;initialized = 1;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;v.actually_webp = 1;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_alpha ? <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a> : <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lossless = 0;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (data_size &gt; INT_MAX) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;unsupported chunk size\n&quot;</span>);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = data_start;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = data_size;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#aeee0e537eb758cf49beb728cdf1228cf">ff_vp8_decode_frame</a>(avctx, p, got_frame, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">if</span> (!*got_frame)</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="webp_8c.html#ad946777cb9f4abf6488789d77b31350f">update_canvas_size</a>(avctx, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_alpha) {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#ae0c7301c7b56362bb91d7e54aca91c38">vp8_lossy_decode_alpha</a>(avctx, p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_data,</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                                     <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_data_size);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;}</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"><a class="line" href="webp_8c.html#a4b17bd13954e06dec268dca89f374c23"> 1331</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a4b17bd13954e06dec268dca89f374c23">webp_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> *got_frame,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                             <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;{</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> * <span class="keyword">const</span> p = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a> gb;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    uint32_t chunk_type, chunk_size;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordtype">int</span> vp8x_flags = 0;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx     = avctx;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width     = 0;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height    = 0;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    *got_frame   = 0;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_alpha = 0;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_exif  = 0;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_iccp  = 0;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;gb, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb) &lt; 12)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (bytestream2_get_le32(&amp;gb) != <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;F&#39;</span>)) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;missing RIFF tag\n&quot;</span>);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    chunk_size = bytestream2_get_le32(&amp;gb);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb) &lt; chunk_size)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (bytestream2_get_le32(&amp;gb) != <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;W&#39;</span>, <span class="charliteral">&#39;E&#39;</span>, <span class="charliteral">&#39;B&#39;</span>, <span class="charliteral">&#39;P&#39;</span>)) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;missing WEBP tag\n&quot;</span>);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb) &gt; 8) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordtype">char</span> chunk_str[5] = { 0 };</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        chunk_type = bytestream2_get_le32(&amp;gb);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        chunk_size = bytestream2_get_le32(&amp;gb);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">if</span> (chunk_size == UINT32_MAX)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        chunk_size += chunk_size &amp; 1;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb) &lt; chunk_size) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;           <span class="comment">/* we seem to be running out of data, but it could also be that the</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">              bitstream has trailing junk leading to bogus chunk_size. */</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordflow">switch</span> (chunk_type) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39;8&#39;</span>, <span class="charliteral">&#39; &#39;</span>):</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <span class="keywordflow">if</span> (!*got_frame) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a655b5488e45220d56aa6ddb3af396c70">vp8_lossy_decode_frame</a>(avctx, p, got_frame,</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                             avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;gb),</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                             chunk_size);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, chunk_size);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39;8&#39;</span>, <span class="charliteral">&#39;L&#39;</span>):</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            <span class="keywordflow">if</span> (!*got_frame) {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="webp_8c.html#a67616604ea6d195388325f3fbf2d1389">vp8_lossless_decode_frame</a>(avctx, p, got_frame,</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                                avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;gb),</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                                chunk_size, 0);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7b1cd65e6136d656808269f1b22f49b4">properties</a> |= <a class="code" href="avcodec_8h.html#ac2bc74c451c6a7490c1209eded909679">FF_CODEC_PROPERTY_LOSSLESS</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, chunk_size);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39;8&#39;</span>, <span class="charliteral">&#39;X&#39;</span>):</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height || *got_frame) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Canvas dimensions are already set\n&quot;</span>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            vp8x_flags = bytestream2_get_byte(&amp;gb);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, 3);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width  = bytestream2_get_le24(&amp;gb) + 1;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height = bytestream2_get_le24(&amp;gb) + 1;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__picture.html#ga3a867b6180ddad1e0c382ef0c5940b8e">av_image_check_size</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height, 0, avctx);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;L&#39;</span>, <span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39;H&#39;</span>): {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <span class="keywordtype">int</span> alpha_header, filter_m, compression;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;            <span class="keywordflow">if</span> (!(vp8x_flags &amp; <a class="code" href="webp_8c.html#a5f1afb84162b12ec2c3ec65ace5e5c57">VP8X_FLAG_ALPHA</a>)) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                       <span class="stringliteral">&quot;ALPHA chunk present, but alpha bit not set in the &quot;</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                       <span class="stringliteral">&quot;VP8X header\n&quot;</span>);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            <span class="keywordflow">if</span> (chunk_size == 0) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;invalid ALPHA chunk size\n&quot;</span>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            alpha_header       = bytestream2_get_byte(&amp;gb);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_data      = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;gb);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_data_size = chunk_size - 1;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_data_size);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            filter_m    = (alpha_header &gt;&gt; 2) &amp; 0x03;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            compression =  alpha_header       &amp; 0x03;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <span class="keywordflow">if</span> (compression &gt; <a class="code" href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba82527b220293ec92200cbe54c7e971fd">ALPHA_COMPRESSION_VP8L</a>) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>,</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                       <span class="stringliteral">&quot;skipping unsupported ALPHA chunk\n&quot;</span>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_alpha         = 1;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_compression = compression;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alpha_filter      = filter_m;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;E&#39;</span>, <span class="charliteral">&#39;X&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;F&#39;</span>): {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            <span class="keywordtype">int</span> le, ifd_offset, exif_offset = <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;gb);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *exif_metadata = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <a class="code" href="struct_get_byte_context.html">GetByteContext</a> exif_gb;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_exif) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Ignoring extra EXIF chunk\n&quot;</span>);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                <span class="keywordflow">goto</span> exif_end;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <span class="keywordflow">if</span> (!(vp8x_flags &amp; <a class="code" href="webp_8c.html#a7d86794231171fa44821f8c23ca0cb59">VP8X_FLAG_EXIF_METADATA</a>))</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                       <span class="stringliteral">&quot;EXIF chunk present, but Exif bit not set in the &quot;</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                       <span class="stringliteral">&quot;VP8X header\n&quot;</span>);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_exif = 1;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;exif_gb, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + exif_offset,</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                             avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> - exif_offset);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tiff__common_8c.html#a6c878261439d8f8c08f857523719ff12">ff_tdecode_header</a>(&amp;exif_gb, &amp;le, &amp;ifd_offset) &lt; 0) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;invalid TIFF header &quot;</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                       <span class="stringliteral">&quot;in Exif data\n&quot;</span>);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                <span class="keywordflow">goto</span> exif_end;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            }</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            <a class="code" href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a>(&amp;exif_gb, ifd_offset, SEEK_SET);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="exif_8c.html#a9d893b7e413f3e911f32e885fdfa0cd9">ff_exif_decode_ifd</a>(avctx, &amp;exif_gb, le, 0, &amp;exif_metadata) &lt; 0) {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;error decoding Exif data\n&quot;</span>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                <span class="keywordflow">goto</span> exif_end;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;((<a class="code" href="struct_a_v_frame.html">AVFrame</a> *) <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)-&gt;metadata, exif_metadata, 0);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;exif_end:</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;exif_metadata);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, chunk_size);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;P&#39;</span>): {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *sd;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_iccp) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Ignoring extra ICCP chunk\n&quot;</span>);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, chunk_size);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            <span class="keywordflow">if</span> (!(vp8x_flags &amp; <a class="code" href="webp_8c.html#a33514b5d71e5a70c179c6db1387daaae">VP8X_FLAG_ICC</a>))</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                       <span class="stringliteral">&quot;ICCP chunk present, but ICC Profile bit not set in the &quot;</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                       <span class="stringliteral">&quot;VP8X header\n&quot;</span>);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;has_iccp = 1;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            sd = <a class="code" href="group__lavu__frame.html#gab4caf9361b00f9b2ab57c222dce3fec4">av_frame_new_side_data</a>(p, <a class="code" href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bca8ef8866b8c04c54c630479bc163196ae">AV_FRAME_DATA_ICC_PROFILE</a>, chunk_size);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            <span class="keywordflow">if</span> (!sd)</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            <a class="code" href="bytestream_8h.html#a08230f0d738ecf7082644b0ef1b671fd">bytestream2_get_buffer</a>(&amp;gb, sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">data</a>, chunk_size);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;M&#39;</span>):</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;M&#39;</span>, <span class="charliteral">&#39;F&#39;</span>):</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;X&#39;</span>, <span class="charliteral">&#39;M&#39;</span>, <span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39; &#39;</span>):</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(chunk_str, chunk_type);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;skipping unsupported chunk: %s\n&quot;</span>,</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                   chunk_str);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, chunk_size);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(chunk_str, chunk_type);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;skipping unknown chunk: %s\n&quot;</span>,</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                   chunk_str);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, chunk_size);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    }</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">if</span> (!*got_frame) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;image data not found\n&quot;</span>);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    }</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">return</span> avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;}</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"><a class="line" href="webp_8c.html#a26d5023e7200bc924b1284ec400563fd"> 1530</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="webp_8c.html#a26d5023e7200bc924b1284ec400563fd">webp_decode_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;{</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="struct_web_p_context.html">WebPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;initialized)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a0f7529ce47dd5375a9288b5d9a07e5f9">ff_vp8_decode_free</a>(avctx);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;}</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"><a class="line" href="webp_8c.html#aad0bffbabdec1405f3f07373a648227e"> 1540</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="webp_8c.html#aad0bffbabdec1405f3f07373a648227e">ff_webp_decoder</a> = {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;webp&quot;</span>,</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;WebP image&quot;</span>),</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac9eb9136ca924db98aa71306a1530b41">AV_CODEC_ID_WEBP</a>,</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="webp_8c.html#a2eb5bc647825c95ae2ea501d179f4207">WebPContext</a>),</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>         = <a class="code" href="webp_8c.html#a4b17bd13954e06dec268dca89f374c23">webp_decode_frame</a>,</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    .close          = <a class="code" href="webp_8c.html#a26d5023e7200bc924b1284ec400563fd">webp_decode_close</a>,</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a> | <a class="code" href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a>,</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_web_p_context_html_a63b921e0009db9c24517cfa2c65dd591"><div class="ttname"><a href="struct_web_p_context.html#a63b921e0009db9c24517cfa2c65dd591">WebPContext::lossless</a></div><div class="ttdeci">int lossless</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00203">webp.c:203</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7b1cd65e6136d656808269f1b22f49b4"><div class="ttname"><a href="struct_a_v_codec_context.html#a7b1cd65e6136d656808269f1b22f49b4">AVCodecContext::properties</a></div><div class="ttdeci">unsigned properties</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02191">avcodec.h:2191</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_af9920fc3fbfa347b8943ae461b50d18b"><div class="ttname"><a href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">AVFrame::pict_type</a></div><div class="ttdeci">enum AVPictureType pict_type</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:391</a></div></div>
<div class="ttc" id="astruct_huff_reader_html_a56d9c5825b0e06060d56b9d346eb0dbd"><div class="ttname"><a href="struct_huff_reader.html#a56d9c5825b0e06060d56b9d346eb0dbd">HuffReader::vlc</a></div><div class="ttdeci">VLC vlc</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00171">webp.c:171</a></div></div>
<div class="ttc" id="avp8_8c_html_a0f7529ce47dd5375a9288b5d9a07e5f9"><div class="ttname"><a href="vp8_8c.html#a0f7529ce47dd5375a9288b5d9a07e5f9">ff_vp8_decode_free</a></div><div class="ttdeci">av_cold int ff_vp8_decode_free(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02823">vp8.c:2823</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="awebp_8c_html_af10e1e93b01ed2c3dc6f1354399a40f7"><div class="ttname"><a href="webp_8c.html#af10e1e93b01ed2c3dc6f1354399a40f7">inv_predict_12</a></div><div class="ttdeci">static void inv_predict_12(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00859">webp.c:859</a></div></div>
<div class="ttc" id="aintrax8_8c_html_ab7fb8460bc7af9e005bc1369f710bfbd"><div class="ttname"><a href="intrax8_8c.html#ab7fb8460bc7af9e005bc1369f710bfbd">extra_bits</a></div><div class="ttdeci">#define extra_bits(eb)</div><div class="ttdef"><b>Definition:</b> <a href="intrax8_8c_source.html#l00159">intrax8.c:159</a></div></div>
<div class="ttc" id="astruct_image_context_html_a6ae66cbddaaaaacda86071b2615787dd"><div class="ttname"><a href="struct_image_context.html#a6ae66cbddaaaaacda86071b2615787dd">ImageContext::huffman_groups</a></div><div class="ttdeci">HuffReader * huffman_groups</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00183">webp.c:183</a></div></div>
<div class="ttc" id="avf__curves_8c_html_a33ac7b8ce37a3a60855883424fcf8b62"><div class="ttname"><a href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a></div><div class="ttdeci">const char * r</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00114">vf_curves.c:114</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="awebp_8c_html_aeb00246adfcdf3aebb049287802ccd8c"><div class="ttname"><a href="webp_8c.html#aeb00246adfcdf3aebb049287802ccd8c">NUM_SHORT_DISTANCES</a></div><div class="ttdeci">#define NUM_SHORT_DISTANCES</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00067">webp.c:67</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="awebp_8c_html_ae0c7301c7b56362bb91d7e54aca91c38"><div class="ttname"><a href="webp_8c.html#ae0c7301c7b56362bb91d7e54aca91c38">vp8_lossy_decode_alpha</a></div><div class="ttdeci">static int vp8_lossy_decode_alpha(AVCodecContext *avctx, AVFrame *p, uint8_t *data_start, unsigned int data_size)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01235">webp.c:1235</a></div></div>
<div class="ttc" id="awebp_8c_html_a655b5488e45220d56aa6ddb3af396c70"><div class="ttname"><a href="webp_8c.html#a655b5488e45220d56aa6ddb3af396c70">vp8_lossy_decode_frame</a></div><div class="ttdeci">static int vp8_lossy_decode_frame(AVCodecContext *avctx, AVFrame *p, int *got_frame, uint8_t *data_start, unsigned int data_size)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01288">webp.c:1288</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga6b1acbfa82c79bf7fd78d868572f0ceb"><div class="ttname"><a href="group__lavu__frame.html#ga6b1acbfa82c79bf7fd78d868572f0ceb">av_frame_get_buffer</a></div><div class="ttdeci">int av_frame_get_buffer(AVFrame *frame, int align)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00337">frame.c:337</a></div></div>
<div class="ttc" id="awebp_8c_html_a67616604ea6d195388325f3fbf2d1389"><div class="ttname"><a href="webp_8c.html#a67616604ea6d195388325f3fbf2d1389">vp8_lossless_decode_frame</a></div><div class="ttdeci">static int vp8_lossless_decode_frame(AVCodecContext *avctx, AVFrame *p, int *got_frame, uint8_t *data_start, unsigned int data_size, int is_alpha_chunk)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01079">webp.c:1079</a></div></div>
<div class="ttc" id="avlc_8h_html_a94aa9a78832e0eda1b68978a170376f2"><div class="ttname"><a href="vlc_8h.html#a94aa9a78832e0eda1b68978a170376f2">INIT_VLC_OUTPUT_LE</a></div><div class="ttdeci">#define INIT_VLC_OUTPUT_LE</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00058">vlc.h:58</a></div></div>
<div class="ttc" id="astructcolor_html"><div class="ttname"><a href="structcolor.html">color</a></div><div class="ttdef"><b>Definition:</b> <a href="vf__paletteuse_8c_source.html#l00582">vf_paletteuse.c:582</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7dae104a89d35a61b0629a41f99ed52946b"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7dae104a89d35a61b0629a41f99ed52946b">PRED_MODE_AVG_T_AVG_L_TR</a></div><div class="ttdeci">@ PRED_MODE_AVG_T_AVG_L_TR</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00123">webp.c:123</a></div></div>
<div class="ttc" id="awebp_8c_html_a75f7aeb5d90266d59fbcf5368da009f9aca0aa4062963b1c54e280275b5ae198a"><div class="ttname"><a href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9aca0aa4062963b1c54e280275b5ae198a">ALPHA_FILTER_HORIZONTAL</a></div><div class="ttdeci">@ ALPHA_FILTER_HORIZONTAL</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00105">webp.c:105</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a9bafb64e1c3a6b74ba0eaff14ea2ff05"><div class="ttname"><a href="struct_web_p_context.html#a9bafb64e1c3a6b74ba0eaff14ea2ff05">WebPContext::alpha_compression</a></div><div class="ttdeci">enum AlphaCompression alpha_compression</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00194">webp.c:195</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html"><div class="ttname"><a href="libavutil_2thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="amem_8c_html_a254f3455439c15a2c8a75b8f0235fdbd"><div class="ttname"><a href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a></div><div class="ttdeci">void * av_malloc_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00182">mem.c:182</a></div></div>
<div class="ttc" id="amathops_8h_html_a13b10f1229527e84da1e56d8064d4e77"><div class="ttname"><a href="mathops_8h.html#a13b10f1229527e84da1e56d8064d4e77">ff_u8_to_s8</a></div><div class="ttdeci">static int8_t ff_u8_to_s8(uint8_t a)</div><div class="ttdef"><b>Definition:</b> <a href="mathops_8h_source.html#l00233">mathops.h:233</a></div></div>
<div class="ttc" id="aimm4_8c_html_a55a197a3ed20b8d9e5282e61be250c18"><div class="ttname"><a href="imm4_8c.html#a55a197a3ed20b8d9e5282e61be250c18">block_bits</a></div><div class="ttdeci">static const uint8_t block_bits[]</div><div class="ttdef"><b>Definition:</b> <a href="imm4_8c_source.html#l00106">imm4.c:106</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gab4caf9361b00f9b2ab57c222dce3fec4"><div class="ttname"><a href="group__lavu__frame.html#gab4caf9361b00f9b2ab57c222dce3fec4">av_frame_new_side_data</a></div><div class="ttdeci">AVFrameSideData * av_frame_new_side_data(AVFrame *frame, enum AVFrameSideDataType type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00726">frame.c:726</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da95069a026bc57fd9e1a7b73f254f04d0"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da95069a026bc57fd9e1a7b73f254f04d0">PRED_MODE_BLACK</a></div><div class="ttdeci">@ PRED_MODE_BLACK</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00118">webp.c:118</a></div></div>
<div class="ttc" id="awebp_8c_html_a43ea5348c6ca50fa0113595759709292"><div class="ttname"><a href="webp_8c.html#a43ea5348c6ca50fa0113595759709292">inv_predict_4</a></div><div class="ttdeci">static void inv_predict_4(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00778">webp.c:778</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a65cd2ae4b5120c53e133185f524a6428"><div class="ttname"><a href="struct_web_p_context.html#a65cd2ae4b5120c53e133185f524a6428">WebPContext::has_iccp</a></div><div class="ttdeci">int has_iccp</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00200">webp.c:200</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga979d73f3228814aee56aeca0636e37cc"><div class="ttname"><a href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a></div><div class="ttdeci">void av_frame_free(AVFrame **frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00203">frame.c:203</a></div></div>
<div class="ttc" id="awebp_8c_html_abc5d41ce784126515a0107eb851d61fd"><div class="ttname"><a href="webp_8c.html#abc5d41ce784126515a0107eb851d61fd">inv_predict_2</a></div><div class="ttdeci">static void inv_predict_2(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00764">webp.c:764</a></div></div>
<div class="ttc" id="abytestream_8h_html_ab7542b66fa34487bf0032dec86b8f80c"><div class="ttname"><a href="bytestream_8h.html#ab7542b66fa34487bf0032dec86b8f80c">bytestream2_seek</a></div><div class="ttdeci">static av_always_inline int bytestream2_seek(GetByteContext *g, int offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00212">bytestream.h:212</a></div></div>
<div class="ttc" id="allviddspenc_8c_html_aba9ed0487b0aa23eba534648df8384c0"><div class="ttname"><a href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a></div><div class="ttdeci">uint8_t w</div><div class="ttdef"><b>Definition:</b> <a href="llviddspenc_8c_source.html#l00038">llviddspenc.c:38</a></div></div>
<div class="ttc" id="awebp_8c_html_acc883f33c3ad04a7d9e893b23d44c25a"><div class="ttname"><a href="webp_8c.html#acc883f33c3ad04a7d9e893b23d44c25a">GET_PIXEL_COMP</a></div><div class="ttdeci">#define GET_PIXEL_COMP(frame, x, y, c)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00215">webp.c:215</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da066364dadd5d4d1d16b02ee6b1c21c32"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da066364dadd5d4d1d16b02ee6b1c21c32">PRED_MODE_ADD_SUBTRACT_FULL</a></div><div class="ttdeci">@ PRED_MODE_ADD_SUBTRACT_FULL</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00130">webp.c:130</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a692d559e3218f22b88c3ae6a831004d5"><div class="ttname"><a href="struct_web_p_context.html#a692d559e3218f22b88c3ae6a831004d5">WebPContext::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00192">webp.c:192</a></div></div>
<div class="ttc" id="awebp_8c_html_aa65f3b21a9a92ff022e435a7304126d2a3f38ad5580fd8c33ff09cb72ec2989cc"><div class="ttname"><a href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a3f38ad5580fd8c33ff09cb72ec2989cc">COLOR_INDEXING_TRANSFORM</a></div><div class="ttdeci">@ COLOR_INDEXING_TRANSFORM</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00114">webp.c:114</a></div></div>
<div class="ttc" id="avlc_8h_html_a181984da1fe3452ad6a16348d10f8236"><div class="ttname"><a href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a></div><div class="ttdeci">#define init_vlc(vlc, nb_bits, nb_codes, bits, bits_wrap, bits_size, codes, codes_wrap, codes_size, flags)</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00038">vlc.h:38</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="awebp_8c_html_aa65f3b21a9a92ff022e435a7304126d2a59834222eb2815ad4de50453c44f0165"><div class="ttname"><a href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a59834222eb2815ad4de50453c44f0165">SUBTRACT_GREEN</a></div><div class="ttdeci">@ SUBTRACT_GREEN</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00113">webp.c:113</a></div></div>
<div class="ttc" id="awebp_8c_html_a3b3210a52deae4c158eaa1414a64d2bb"><div class="ttname"><a href="webp_8c.html#a3b3210a52deae4c158eaa1414a64d2bb">parse_transform_color</a></div><div class="ttdeci">static int parse_transform_color(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00474">webp.c:474</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da48aa6a48ea71e512112d2fe6d1b3070a"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da48aa6a48ea71e512112d2fe6d1b3070a">PRED_MODE_AVG_TL_T</a></div><div class="ttdeci">@ PRED_MODE_AVG_TL_T</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00126">webp.c:126</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3ba3e032e40fae0f98ba46a0f5201195"><div class="ttname"><a href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a></div><div class="ttdeci">static av_always_inline int get_vlc2(GetBitContext *s, VLC_TYPE(*table)[2], int bits, int max_depth)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00797">get_bits.h:797</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00033">cuda_runtime.h:33</a></div></div>
<div class="ttc" id="aget__bits_8h_html_af65c008755f74e99d139eae8b46534b5"><div class="ttname"><a href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a></div><div class="ttdeci">static int init_get_bits(GetBitContext *s, const uint8_t *buffer, int bit_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00659">get_bits.h:659</a></div></div>
<div class="ttc" id="awebp_8c_html_ae4411f2aeedb4f4f48540b90666928ee"><div class="ttname"><a href="webp_8c.html#ae4411f2aeedb4f4f48540b90666928ee">huff_reader_build_canonical</a></div><div class="ttdeci">static int huff_reader_build_canonical(HuffReader *r, const uint8_t *code_lengths, int alphabet_size)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00246">webp.c:246</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da25685ff0ca32aaeb4d90825d7f52ccd1"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da25685ff0ca32aaeb4d90825d7f52ccd1">PRED_MODE_TR</a></div><div class="ttdeci">@ PRED_MODE_TR</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00121">webp.c:121</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da2790c0a2f7819df581955bd80626da5b"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da2790c0a2f7819df581955bd80626da5b">PRED_MODE_AVG_L_T</a></div><div class="ttdeci">@ PRED_MODE_AVG_L_T</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00125">webp.c:125</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_af301511f45803c8f29448dc875a59fb1"><div class="ttname"><a href="struct_web_p_context.html#af301511f45803c8f29448dc875a59fb1">WebPContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00202">webp.c:202</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a3649a81e8414a193d685a6eee06ce902"><div class="ttname"><a href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">AVFrame::key_frame</a></div><div class="ttdeci">int key_frame</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:386</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da6840fb5892a233b2a77daa974cf4fa29"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da6840fb5892a233b2a77daa974cf4fa29">PRED_MODE_TL</a></div><div class="ttdeci">@ PRED_MODE_TL</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00122">webp.c:122</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00467">get_bits.h:467</a></div></div>
<div class="ttc" id="awebp_8c_html_a0bac2bce7da8f820a6cb22345cdf9626"><div class="ttname"><a href="webp_8c.html#a0bac2bce7da8f820a6cb22345cdf9626">inv_predict_10</a></div><div class="ttdeci">static void inv_predict_10(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00835">webp.c:835</a></div></div>
<div class="ttc" id="awebp_8c_html_a4b17bd13954e06dec268dca89f374c23"><div class="ttname"><a href="webp_8c.html#a4b17bd13954e06dec268dca89f374c23">webp_decode_frame</a></div><div class="ttdeci">static int webp_decode_frame(AVCodecContext *avctx, void *data, int *got_frame, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01331">webp.c:1331</a></div></div>
<div class="ttc" id="abytestream_8h_html_ab3713f6615c089f746b36925f5857c07"><div class="ttname"><a href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a></div><div class="ttdeci">static av_always_inline void bytestream2_skip(GetByteContext *g, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00168">bytestream.h:168</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a1ae1a4fe50b318fc215db8c1f272713b"><div class="ttname"><a href="struct_web_p_context.html#a1ae1a4fe50b318fc215db8c1f272713b">WebPContext::initialized</a></div><div class="ttdeci">int initialized</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00193">webp.c:193</a></div></div>
<div class="ttc" id="astruct_v_p8_context_html"><div class="ttname"><a href="struct_v_p8_context.html">VP8Context</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00147">vp8.h:147</a></div></div>
<div class="ttc" id="awebp_8c_html_a22236c4f2abac50b7f14a3dac7519408"><div class="ttname"><a href="webp_8c.html#a22236c4f2abac50b7f14a3dac7519408">inv_predict_8</a></div><div class="ttdeci">static void inv_predict_8(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00815">webp.c:815</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_ac36dbec917251f24fb626e4e09e1b056"><div class="ttname"><a href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a></div><div class="ttdeci">static void finish(void)</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00345">movenc.c:345</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="awebp_8c_html_a1d5deb123fafa57ea7043c40f118c05ba2097fdb9dccb8064e69541fad4a002b9"><div class="ttname"><a href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba2097fdb9dccb8064e69541fad4a002b9">ALPHA_COMPRESSION_NONE</a></div><div class="ttdeci">@ ALPHA_COMPRESSION_NONE</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00099">webp.c:99</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_ad20d53520fe26af28cbae5338a670db5"><div class="ttname"><a href="multithreading_8txt.html#ad20d53520fe26af28cbae5338a670db5">ff_thread_get_buffer</a></div><div class="ttdeci">the pkt_dts and pkt_pts fields in AVFrame will work as usual Restrictions on codec whose streams don t reset across will not work because their bitstreams cannot be decoded in parallel *The contents of buffers must not be read before as well as code calling up to before the decode process starts Call have so the codec calls ff_thread_report set FF_CODEC_CAP_ALLOCATE_PROGRESS in AVCodec caps_internal and use ff_thread_get_buffer() to allocate frames. The frames must then be freed with ff_thread_release_buffer(). Otherwise decode directly into the user-supplied frames. Call ff_thread_report_progress() after some part of the current picture has decoded. A good place to put this is where draw_horiz_band() is called - add this if it isn 't called anywhere</div></div>
<div class="ttc" id="awebp_8c_html_ad946777cb9f4abf6488789d77b31350f"><div class="ttname"><a href="webp_8c.html#ad946777cb9f4abf6488789d77b31350f">update_canvas_size</a></div><div class="ttdeci">static void update_canvas_size(AVCodecContext *avctx, int w, int h)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01064">webp.c:1064</a></div></div>
<div class="ttc" id="astruct_huff_reader_html_ae733691b5864b3b383c1cebe85a6bd7a"><div class="ttname"><a href="struct_huff_reader.html#ae733691b5864b3b383c1cebe85a6bd7a">HuffReader::nb_symbols</a></div><div class="ttdeci">int nb_symbols</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00173">webp.c:173</a></div></div>
<div class="ttc" id="astruct_huff_reader_html_a12d2f33c8194d4fc5346d9da7458a896"><div class="ttname"><a href="struct_huff_reader.html#a12d2f33c8194d4fc5346d9da7458a896">HuffReader::simple_symbols</a></div><div class="ttdeci">uint16_t simple_symbols[2]</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00174">webp.c:174</a></div></div>
<div class="ttc" id="awebp_8c_html_a8c78c67c6ad61665e6f7cf17df01b29f"><div class="ttname"><a href="webp_8c.html#a8c78c67c6ad61665e6f7cf17df01b29f">inv_predict_func</a></div><div class="ttdeci">void(* inv_predict_func)(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00884">webp.c:884</a></div></div>
<div class="ttc" id="awebp_8c_html_aa65f3b21a9a92ff022e435a7304126d2a14f02b15455672b3ec8b523187cef712"><div class="ttname"><a href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a14f02b15455672b3ec8b523187cef712">COLOR_TRANSFORM</a></div><div class="ttdeci">@ COLOR_TRANSFORM</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00112">webp.c:112</a></div></div>
<div class="ttc" id="awebp_8c_html_a7d86794231171fa44821f8c23ca0cb59"><div class="ttname"><a href="webp_8c.html#a7d86794231171fa44821f8c23ca0cb59">VP8X_FLAG_EXIF_METADATA</a></div><div class="ttdeci">#define VP8X_FLAG_EXIF_METADATA</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00056">webp.c:56</a></div></div>
<div class="ttc" id="astruct_image_context_html"><div class="ttname"><a href="struct_image_context.html">ImageContext</a></div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00177">webp.c:177</a></div></div>
<div class="ttc" id="awebp_8c_html_a86552a19a8c0722b76066c9ff8496cef"><div class="ttname"><a href="webp_8c.html#a86552a19a8c0722b76066c9ff8496cef">inv_predict_3</a></div><div class="ttdeci">static void inv_predict_3(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00771">webp.c:771</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a412bf3eb3527b29ca65d55caa1d56645"><div class="ttname"><a href="struct_web_p_context.html#a412bf3eb3527b29ca65d55caa1d56645">WebPContext::gb</a></div><div class="ttdeci">GetBitContext gb</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00190">webp.c:190</a></div></div>
<div class="ttc" id="awebp_8c_html_a22c95786ed28ff828bb8d84d3c3ab846"><div class="ttname"><a href="webp_8c.html#a22c95786ed28ff828bb8d84d3c3ab846">color_transform_delta</a></div><div class="ttdeci">static av_always_inline uint8_t color_transform_delta(uint8_t color_pred, uint8_t color)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00948">webp.c:948</a></div></div>
<div class="ttc" id="awebp_8c_html_a94b1344775623995403f5c11cbed9421"><div class="ttname"><a href="webp_8c.html#a94b1344775623995403f5c11cbed9421">decode_entropy_coded_image</a></div><div class="ttdeci">static int decode_entropy_coded_image(WebPContext *s, enum ImageRole role, int w, int h)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00548">webp.c:548</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gac700017c5270c79c1e1befdeeb008b2f"><div class="ttname"><a href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a></div><div class="ttdeci">AVFrame * av_frame_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00190">frame.c:190</a></div></div>
<div class="ttc" id="awebp_8c_html_a47f91f98def0ff3efe929af2b72b9fc5a3b0ffef67f069019bfad9f46b982febb"><div class="ttname"><a href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a3b0ffef67f069019bfad9f46b982febb">HUFF_IDX_GREEN</a></div><div class="ttdeci">@ HUFF_IDX_GREEN</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00135">webp.c:135</a></div></div>
<div class="ttc" id="awebp_8c_html_a0a3d428d33827903591cb79d8a9b9bbb"><div class="ttname"><a href="webp_8c.html#a0a3d428d33827903591cb79d8a9b9bbb">read_huffman_code_normal</a></div><div class="ttdeci">static int read_huffman_code_normal(WebPContext *s, HuffReader *hc, int alphabet_size)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00323">webp.c:323</a></div></div>
<div class="ttc" id="aexif_8c_html_a9d893b7e413f3e911f32e885fdfa0cd9"><div class="ttname"><a href="exif_8c.html#a9d893b7e413f3e911f32e885fdfa0cd9">ff_exif_decode_ifd</a></div><div class="ttdeci">int ff_exif_decode_ifd(void *logctx, GetByteContext *gbytes, int le, int depth, AVDictionary **metadata)</div><div class="ttdef"><b>Definition:</b> <a href="exif_8c_source.html#l00122">exif.c:122</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a2cec8ffdcfbd959d132e51af264ec80c"><div class="ttname"><a href="struct_web_p_context.html#a2cec8ffdcfbd959d132e51af264ec80c">WebPContext::alpha_filter</a></div><div class="ttdeci">enum AlphaFilter alpha_filter</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00194">webp.c:196</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7d"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7d">PredictionMode</a></div><div class="ttdeci">PredictionMode</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00117">webp.c:117</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a97cf29ce01af9196fef133d4c5af15eb"><div class="ttname"><a href="struct_web_p_context.html#a97cf29ce01af9196fef133d4c5af15eb">WebPContext::alpha_data_size</a></div><div class="ttdeci">int alpha_data_size</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00198">webp.c:198</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a36097280ddfe8ebfc825d0f98fd00621"><div class="ttname"><a href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a></div><div class="ttdeci">#define AV_WB32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00273">intreadwrite.h:273</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a9e54e9e2ccf671c1f79867e19ce432e9"><div class="ttname"><a href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a></div><div class="ttdeci">static int init_get_bits8(GetBitContext *s, const uint8_t *buffer, int byte_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00677">get_bits.h:677</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ac2bc74c451c6a7490c1209eded909679"><div class="ttname"><a href="avcodec_8h.html#ac2bc74c451c6a7490c1209eded909679">FF_CODEC_PROPERTY_LOSSLESS</a></div><div class="ttdeci">#define FF_CODEC_PROPERTY_LOSSLESS</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02192">avcodec.h:2192</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a2fb887a7265bcb93ef4ece75f55f09a2"><div class="ttname"><a href="struct_web_p_context.html#a2fb887a7265bcb93ef4ece75f55f09a2">WebPContext::transforms</a></div><div class="ttdeci">enum TransformType transforms[4]</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00205">webp.c:206</a></div></div>
<div class="ttc" id="adecode__audio_8c_html_a1704ae53d7f426e1b67341785b5b2b58"><div class="ttname"><a href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a></div><div class="ttdeci">static void decode(AVCodecContext *dec_ctx, AVPacket *pkt, AVFrame *frame, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="decode__audio_8c_source.html#l00071">decode_audio.c:71</a></div></div>
<div class="ttc" id="awebp_8c_html_a4f40d65516bdcaec47c14913356d6250"><div class="ttname"><a href="webp_8c.html#a4f40d65516bdcaec47c14913356d6250">inverse_prediction</a></div><div class="ttdeci">static void inverse_prediction(AVFrame *frame, enum PredictionMode m, int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00895">webp.c:895</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUVA420P</div><div class="ttdoc">planar YUV 4:2:0, 20bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00101">pixfmt.h:101</a></div></div>
<div class="ttc" id="awebp_8c_html_aa65f3b21a9a92ff022e435a7304126d2"><div class="ttname"><a href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2">TransformType</a></div><div class="ttdeci">TransformType</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00110">webp.c:110</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da5d9bfa0030dfa064d32df0aad768818e"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da5d9bfa0030dfa064d32df0aad768818e">PRED_MODE_AVG_T_TR</a></div><div class="ttdeci">@ PRED_MODE_AVG_T_TR</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00127">webp.c:127</a></div></div>
<div class="ttc" id="awebp_8c_html_ab457800fa26a0d302aa89e88b67de6c1"><div class="ttname"><a href="webp_8c.html#ab457800fa26a0d302aa89e88b67de6c1">HUFFMAN_CODES_PER_META_CODE</a></div><div class="ttdeci">#define HUFFMAN_CODES_PER_META_CODE</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00063">webp.c:63</a></div></div>
<div class="ttc" id="awebp_8c_html_a47f91b1e23d3b1d7be27b84880ec779d"><div class="ttname"><a href="webp_8c.html#a47f91b1e23d3b1d7be27b84880ec779d">code_length_code_order</a></div><div class="ttdeci">static const uint8_t code_length_code_order[NUM_CODE_LENGTH_CODES]</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00076">webp.c:76</a></div></div>
<div class="ttc" id="awebp_8c_html_a5e1923b29dcde61e81c0a1a48dcd946c"><div class="ttname"><a href="webp_8c.html#a5e1923b29dcde61e81c0a1a48dcd946c">color_cache_put</a></div><div class="ttdeci">static av_always_inline void color_cache_put(ImageContext *img, uint32_t c)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00542">webp.c:542</a></div></div>
<div class="ttc" id="avp3data_8h_html_a46a6da6b1936191571fd30b2a749f38c"><div class="ttname"><a href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a></div><div class="ttdeci">uint8_t bits</div><div class="ttdef"><b>Definition:</b> <a href="vp3data_8h_source.html#l00202">vp3data.h:202</a></div></div>
<div class="ttc" id="awebp_8c_html_acff57804c17f845fde49bc2693dd9d9b"><div class="ttname"><a href="webp_8c.html#acff57804c17f845fde49bc2693dd9d9b">NUM_DISTANCE_CODES</a></div><div class="ttdeci">#define NUM_DISTANCE_CODES</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00066">webp.c:66</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="awebp_8c_html_a6154049475382fba40b19240090f398c"><div class="ttname"><a href="webp_8c.html#a6154049475382fba40b19240090f398c">inv_predict_11</a></div><div class="ttdeci">static void inv_predict_11(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00845">webp.c:845</a></div></div>
<div class="ttc" id="awebp_8c_html_a22ed04d49e008cb4295a8b366c4f2f3b"><div class="ttname"><a href="webp_8c.html#a22ed04d49e008cb4295a8b366c4f2f3b">NUM_CODE_LENGTH_CODES</a></div><div class="ttdeci">#define NUM_CODE_LENGTH_CODES</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00062">webp.c:62</a></div></div>
<div class="ttc" id="aget__bits_8h_html"><div class="ttname"><a href="get__bits_8h.html">get_bits.h</a></div></div>
<div class="ttc" id="acbs__h2645_8c_html_ae94f88417d2394ccdfec01be4efae374"><div class="ttname"><a href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a></div><div class="ttdeci">#define xi(width, name, var, range_min, range_max, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h2645_8c_source.html#l00396">cbs_h2645.c:396</a></div></div>
<div class="ttc" id="abitstream_8c_html_a6833b44193a374e05ad39b2eb9705bba"><div class="ttname"><a href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a></div><div class="ttdeci">void ff_free_vlc(VLC *vlc)</div><div class="ttdef"><b>Definition:</b> <a href="bitstream_8c_source.html#l00365">bitstream.c:365</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV420P</div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00066">pixfmt.h:66</a></div></div>
<div class="ttc" id="awebp_8c_html_a46dcf9892faca75ba9d41dba211f8231"><div class="ttname"><a href="webp_8c.html#a46dcf9892faca75ba9d41dba211f8231">GET_PIXEL</a></div><div class="ttdeci">#define GET_PIXEL(frame, x, y)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00212">webp.c:212</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a9ac50e576280ad993dcb40db1c7e21b9"><div class="ttname"><a href="struct_web_p_context.html#a9ac50e576280ad993dcb40db1c7e21b9">WebPContext::v</a></div><div class="ttdeci">VP8Context v</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00189">webp.c:189</a></div></div>
<div class="ttc" id="awebp_8c_html_a3f54ad85aa8209d73fde1812b04b40eb"><div class="ttname"><a href="webp_8c.html#a3f54ad85aa8209d73fde1812b04b40eb">ImageContext</a></div><div class="ttdeci">struct ImageContext ImageContext</div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da6d4efb8e0927e9220b9c2c8b452ae197"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da6d4efb8e0927e9220b9c2c8b452ae197">PRED_MODE_AVG_L_TL</a></div><div class="ttdeci">@ PRED_MODE_AVG_L_TL</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00124">webp.c:124</a></div></div>
<div class="ttc" id="awebp_8c_html_a26d5023e7200bc924b1284ec400563fd"><div class="ttname"><a href="webp_8c.html#a26d5023e7200bc924b1284ec400563fd">webp_decode_close</a></div><div class="ttdeci">static av_cold int webp_decode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01530">webp.c:1530</a></div></div>
<div class="ttc" id="acommon_8h_html_ad6d88940cfc29c13a3e51ded211fc242"><div class="ttname"><a href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a></div><div class="ttdeci">#define FFABS(a)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00072">common.h:72</a></div></div>
<div class="ttc" id="awebp_8c_html_a62d1ef3c27200072a24bb7c14816fc4a"><div class="ttname"><a href="webp_8c.html#a62d1ef3c27200072a24bb7c14816fc4a">apply_subtract_green_transform</a></div><div class="ttdeci">static int apply_subtract_green_transform(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00978">webp.c:978</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae21e6310b40920cd61f54e9c320d8e6c"><div class="ttname"><a href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_FRAME_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00106">codec.h:106</a></div></div>
<div class="ttc" id="awebp_8c_html_a75f7aeb5d90266d59fbcf5368da009f9a4f228286877a99cd1af44424ebcb6b1e"><div class="ttname"><a href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a4f228286877a99cd1af44424ebcb6b1e">ALPHA_FILTER_NONE</a></div><div class="ttdeci">@ ALPHA_FILTER_NONE</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00104">webp.c:104</a></div></div>
<div class="ttc" id="awebp_8c_html_a5f272592193c907956660126c4fac710"><div class="ttname"><a href="webp_8c.html#a5f272592193c907956660126c4fac710">clamp_add_subtract_half</a></div><div class="ttdeci">static av_always_inline uint8_t clamp_add_subtract_half(int a, int b, int c)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00868">webp.c:868</a></div></div>
<div class="ttc" id="awebp_8c_html_a47f91f98def0ff3efe929af2b72b9fc5ad84acf8fa3ce761ba657d3053dd390aa"><div class="ttname"><a href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5ad84acf8fa3ce761ba657d3053dd390aa">HUFF_IDX_DIST</a></div><div class="ttdeci">@ HUFF_IDX_DIST</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00140">webp.c:139</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_image_context_html_a001cc87ff1525a3c0346649f4e9b694e"><div class="ttname"><a href="struct_image_context.html#a001cc87ff1525a3c0346649f4e9b694e">ImageContext::is_alpha_primary</a></div><div class="ttdeci">int is_alpha_primary</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00185">webp.c:185</a></div></div>
<div class="ttc" id="astruct_v_l_c_html"><div class="ttname"><a href="struct_v_l_c.html">VLC</a></div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00026">vlc.h:26</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="awebp_8c_html_ae6a695ae4a9a64737ce689948351e4a3"><div class="ttname"><a href="webp_8c.html#ae6a695ae4a9a64737ce689948351e4a3">inverse_predict</a></div><div class="ttdeci">static const inv_predict_func inverse_predict[14]</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00888">webp.c:888</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_af92c9130b124f6e74b90198815e17cc8"><div class="ttname"><a href="struct_web_p_context.html#af92c9130b124f6e74b90198815e17cc8">WebPContext::image</a></div><div class="ttdeci">ImageContext image[IMAGE_ROLE_NB]</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00209">webp.c:209</a></div></div>
<div class="ttc" id="ahevcdsp_8c_html_aa4607c9f8c7507415c1c10c59a2141b6"><div class="ttname"><a href="hevcdsp_8c.html#aa4607c9f8c7507415c1c10c59a2141b6">transform</a></div><div class="ttdeci">static const int8_t transform[32][32]</div><div class="ttdef"><b>Definition:</b> <a href="hevcdsp_8c_source.html#l00027">hevcdsp.c:27</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a47f02466bb5375c6cc803c1327423664"><div class="ttname"><a href="struct_web_p_context.html#a47f02466bb5375c6cc803c1327423664">WebPContext::nb_huffman_groups</a></div><div class="ttdeci">int nb_huffman_groups</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00208">webp.c:208</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="awebp_8c_html_abebaf6f316a1ef29d9c158151a40a58a"><div class="ttname"><a href="webp_8c.html#abebaf6f316a1ef29d9c158151a40a58a">parse_transform_color_indexing</a></div><div class="ttdeci">static int parse_transform_color_indexing(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00490">webp.c:490</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ggae01fa7e427274293aacdf2adc17076bca8ef8866b8c04c54c630479bc163196ae"><div class="ttname"><a href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bca8ef8866b8c04c54c630479bc163196ae">AV_FRAME_DATA_ICC_PROFILE</a></div><div class="ttdeci">@ AV_FRAME_DATA_ICC_PROFILE</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00143">frame.h:143</a></div></div>
<div class="ttc" id="abytestream_8h_html_a08230f0d738ecf7082644b0ef1b671fd"><div class="ttname"><a href="bytestream_8h.html#a08230f0d738ecf7082644b0ef1b671fd">bytestream2_get_buffer</a></div><div class="ttdeci">static av_always_inline unsigned int bytestream2_get_buffer(GetByteContext *g, uint8_t *dst, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00267">bytestream.h:267</a></div></div>
<div class="ttc" id="astruct_image_context_html_a33b1bc4aec96d25839661026f91f86c0"><div class="ttname"><a href="struct_image_context.html#a33b1bc4aec96d25839661026f91f86c0">ImageContext::frame</a></div><div class="ttdeci">AVFrame * frame</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00179">webp.c:179</a></div></div>
<div class="ttc" id="awebp_8c_html_ad86db4e0ce81a7b8262c0403a2e31721"><div class="ttname"><a href="webp_8c.html#ad86db4e0ce81a7b8262c0403a2e31721">alphabet_sizes</a></div><div class="ttdeci">static const uint16_t alphabet_sizes[HUFFMAN_CODES_PER_META_CODE]</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00070">webp.c:70</a></div></div>
<div class="ttc" id="awebp_8c_html_a795b513af719422687dafb558e63e4ff"><div class="ttname"><a href="webp_8c.html#a795b513af719422687dafb558e63e4ff">NUM_LITERAL_CODES</a></div><div class="ttdeci">#define NUM_LITERAL_CODES</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00064">webp.c:64</a></div></div>
<div class="ttc" id="awebp_8c_html_abf4c9395e0fff7e89a18eeb0ff8cf147a488ab39c0e4d0a2df4e3e8d6183d43a4"><div class="ttname"><a href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a488ab39c0e4d0a2df4e3e8d6183d43a4">IMAGE_ROLE_PREDICTOR</a></div><div class="ttdeci">@ IMAGE_ROLE_PREDICTOR</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00158">webp.c:158</a></div></div>
<div class="ttc" id="avp8_8c_html_aeee0e537eb758cf49beb728cdf1228cf"><div class="ttname"><a href="vp8_8c.html#aeee0e537eb758cf49beb728cdf1228cf">ff_vp8_decode_frame</a></div><div class="ttdeci">int ff_vp8_decode_frame(AVCodecContext *avctx, void *data, int *got_frame, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02809">vp8.c:2809</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a236265133da1ecd6375e5e7c405020a0"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a></div><div class="ttdeci">#define AV_RB32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00130">intreadwrite.h:130</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="avp8_8h_html"><div class="ttname"><a href="vp8_8h.html">vp8.h</a></div></div>
<div class="ttc" id="avp8_8c_html_a356e27c7d319b79df0b556307636b4e5"><div class="ttname"><a href="vp8_8c.html#a356e27c7d319b79df0b556307636b4e5">ff_vp8_decode_init</a></div><div class="ttdeci">av_cold int ff_vp8_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02893">vp8.c:2893</a></div></div>
<div class="ttc" id="awebp_8c_html_a2e8ef0d60d3c05312ba88a3fc6e335c0"><div class="ttname"><a href="webp_8c.html#a2e8ef0d60d3c05312ba88a3fc6e335c0">alpha_inverse_prediction</a></div><div class="ttdeci">static void alpha_inverse_prediction(AVFrame *frame, enum AlphaFilter m)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01192">webp.c:1192</a></div></div>
<div class="ttc" id="abytestream_8h_html_a9c1ffe44fa596e26bc617174edec93b1"><div class="ttname"><a href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a></div><div class="ttdeci">static av_always_inline int bytestream2_get_bytes_left(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00158">bytestream.h:158</a></div></div>
<div class="ttc" id="abytestream_8h_html_ad206301696bbb0cb6a2a7309ba90d4bc"><div class="ttname"><a href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a></div><div class="ttdeci">static av_always_inline int bytestream2_tell(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00192">bytestream.h:192</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="awebp_8c_html_abf4c9395e0fff7e89a18eeb0ff8cf147aa3c930490f94db2b3654ce5a64376f58"><div class="ttname"><a href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147aa3c930490f94db2b3654ce5a64376f58">IMAGE_ROLE_COLOR_INDEXING</a></div><div class="ttdeci">@ IMAGE_ROLE_COLOR_INDEXING</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00165">webp.c:165</a></div></div>
<div class="ttc" id="awebp_8c_html_a5f06c953491f443b63ee5f994de0248e"><div class="ttname"><a href="webp_8c.html#a5f06c953491f443b63ee5f994de0248e">inv_predict_0</a></div><div class="ttdeci">static void inv_predict_0(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00750">webp.c:750</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00050">codec.h:50</a></div></div>
<div class="ttc" id="awebp_8c_html_abf4c9395e0fff7e89a18eeb0ff8cf147a861db511312b97e131e88689b5bed124"><div class="ttname"><a href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a861db511312b97e131e88689b5bed124">IMAGE_ROLE_NB</a></div><div class="ttdeci">@ IMAGE_ROLE_NB</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00167">webp.c:167</a></div></div>
<div class="ttc" id="awebp_8c_html_a33514b5d71e5a70c179c6db1387daaae"><div class="ttname"><a href="webp_8c.html#a33514b5d71e5a70c179c6db1387daaae">VP8X_FLAG_ICC</a></div><div class="ttdeci">#define VP8X_FLAG_ICC</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00058">webp.c:58</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html"><div class="ttname"><a href="struct_a_v_frame_side_data.html">AVFrameSideData</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00214">frame.h:214</a></div></div>
<div class="ttc" id="awebp_8c_html_a1d5deb123fafa57ea7043c40f118c05b"><div class="ttname"><a href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05b">AlphaCompression</a></div><div class="ttdeci">AlphaCompression</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00098">webp.c:98</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="awebp_8c_html_aa65f3b21a9a92ff022e435a7304126d2a44afbb990c1c55a1a042aaaf3c3141be"><div class="ttname"><a href="webp_8c.html#aa65f3b21a9a92ff022e435a7304126d2a44afbb990c1c55a1a042aaaf3c3141be">PREDICTOR_TRANSFORM</a></div><div class="ttdeci">@ PREDICTOR_TRANSFORM</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00111">webp.c:111</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="awebp_8c_html_ad005a947f027c8ac64229b411022486f"><div class="ttname"><a href="webp_8c.html#ad005a947f027c8ac64229b411022486f">decode_entropy_image</a></div><div class="ttdeci">static int decode_entropy_image(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00424">webp.c:424</a></div></div>
<div class="ttc" id="awebp_8c_html_a1956748b2163ad1547eb8a4bac098e39"><div class="ttname"><a href="webp_8c.html#a1956748b2163ad1547eb8a4bac098e39">apply_color_transform</a></div><div class="ttdeci">static int apply_color_transform(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00954">webp.c:954</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a579a762bd83c5618f290028cf3a148b9"><div class="ttname"><a href="struct_web_p_context.html#a579a762bd83c5618f290028cf3a148b9">WebPContext::has_exif</a></div><div class="ttdeci">int has_exif</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00199">webp.c:199</a></div></div>
<div class="ttc" id="awebp_8c_html_a5f1afb84162b12ec2c3ec65ace5e5c57"><div class="ttname"><a href="webp_8c.html#a5f1afb84162b12ec2c3ec65ace5e5c57">VP8X_FLAG_ALPHA</a></div><div class="ttdeci">#define VP8X_FLAG_ALPHA</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00057">webp.c:57</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html_a76937ad48652a5a0cc4bff65fc6c886e"><div class="ttname"><a href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">AVFrameSideData::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00216">frame.h:216</a></div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="avf__colormatrix_8c_html_ad116363516b0293a59b40e02af04a018"><div class="ttname"><a href="vf__colormatrix_8c.html#ad116363516b0293a59b40e02af04a018">img</a></div><div class="ttdeci">#define img</div><div class="ttdef"><b>Definition:</b> <a href="vf__colormatrix_8c_source.html#l00116">vf_colormatrix.c:116</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_ae2e282daac764e322f4afd02d65f2a4d"><div class="ttname"><a href="struct_web_p_context.html#ae2e282daac764e322f4afd02d65f2a4d">WebPContext::reduced_width</a></div><div class="ttdeci">int reduced_width</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00207">webp.c:207</a></div></div>
<div class="ttc" id="artp_8c_html_aa51c0cd81327c3099d0a4d1738c6a45d"><div class="ttname"><a href="rtp_8c.html#aa51c0cd81327c3099d0a4d1738c6a45d">pt</a></div><div class="ttdeci">int pt</div><div class="ttdef"><b>Definition:</b> <a href="rtp_8c_source.html#l00035">rtp.c:35</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_aa52bfc6605f6a3059a0c3226cc0f6567"><div class="ttname"><a href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">AVFrame::linesize</a></div><div class="ttdeci">int linesize[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00339">frame.h:339</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="astructline_html"><div class="ttname"><a href="structline.html">line</a></div><div class="ttdef"><b>Definition:</b> <a href="graph2dot_8c_source.html#l00048">graph2dot.c:48</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga1bafd682b1fbb90e48a4cc3814b820f7"><div class="ttname"><a href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a></div><div class="ttdeci">void av_dict_free(AVDictionary **pm)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00203">dict.c:203</a></div></div>
<div class="ttc" id="awebp_8c_html_af585503aa924b2e03fbd810e321c78f5"><div class="ttname"><a href="webp_8c.html#af585503aa924b2e03fbd810e321c78f5">parse_transform_predictor</a></div><div class="ttdeci">static int parse_transform_predictor(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00458">webp.c:458</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1e71ce60cedd5f3b6811714a9f7f9e0a"><div class="ttname"><a href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">AVFrame::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00366">frame.h:366</a></div></div>
<div class="ttc" id="astruct_get_byte_context_html"><div class="ttname"><a href="struct_get_byte_context.html">GetByteContext</a></div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00033">bytestream.h:33</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da62336dd2be98957b9870778ce67e41da"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da62336dd2be98957b9870778ce67e41da">PRED_MODE_AVG_AVG_L_TL_AVG_T_TR</a></div><div class="ttdeci">@ PRED_MODE_AVG_AVG_L_TL_AVG_T_TR</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00128">webp.c:128</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a375034d667a39133f8012069098a45ca"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a375034d667a39133f8012069098a45ca">AV_PIX_FMT_ARGB</a></div><div class="ttdeci">@ AV_PIX_FMT_ARGB</div><div class="ttdoc">packed ARGB 8:8:8:8, 32bpp, ARGBARGB...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00092">pixfmt.h:92</a></div></div>
<div class="ttc" id="awebp_8c_html_a75f7aeb5d90266d59fbcf5368da009f9a5b760221ef843318a80c5a9d28207ab6"><div class="ttname"><a href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a5b760221ef843318a80c5a9d28207ab6">ALPHA_FILTER_GRADIENT</a></div><div class="ttdeci">@ ALPHA_FILTER_GRADIENT</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00107">webp.c:107</a></div></div>
<div class="ttc" id="awebp_8c_html_afb1daa02d93d7de92a737af16dbe90fd"><div class="ttname"><a href="webp_8c.html#afb1daa02d93d7de92a737af16dbe90fd">inv_predict_5</a></div><div class="ttdeci">static void inv_predict_5(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00785">webp.c:785</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="awebp_8c_html_aa803921583cd0d074e424bd5a596e456"><div class="ttname"><a href="webp_8c.html#aa803921583cd0d074e424bd5a596e456">NUM_LENGTH_CODES</a></div><div class="ttdeci">#define NUM_LENGTH_CODES</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00065">webp.c:65</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a30adc75414e0a59ca94aad7a56e17e42"><div class="ttname"><a href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some it can consider them to be part of the FIFO and delay acknowledging a status change accordingly Example code</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00176">filter_design.txt:178</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a9aad44bed0c244bb2f4d3e7296b2946a"><div class="ttname"><a href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a></div><div class="ttdeci">#define AV_WL32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00290">intreadwrite.h:290</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="awebp_8c_html_a75f7aeb5d90266d59fbcf5368da009f9"><div class="ttname"><a href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9">AlphaFilter</a></div><div class="ttdeci">AlphaFilter</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00103">webp.c:103</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da7d0963653d9cddc871780f462bc24b2a"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da7d0963653d9cddc871780f462bc24b2a">PRED_MODE_SELECT</a></div><div class="ttdeci">@ PRED_MODE_SELECT</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00129">webp.c:129</a></div></div>
<div class="ttc" id="awebp_8c_html_a5e105327e4dc1fac0b7fc43e0b45f01c"><div class="ttname"><a href="webp_8c.html#a5e105327e4dc1fac0b7fc43e0b45f01c">lz77_distance_offsets</a></div><div class="ttdeci">static const int8_t lz77_distance_offsets[NUM_SHORT_DISTANCES][2]</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00080">webp.c:80</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="awebp_8c_html_a91bcc66a75b9764e4e1e7a6e679f088f"><div class="ttname"><a href="webp_8c.html#a91bcc66a75b9764e4e1e7a6e679f088f">apply_predictor_transform</a></div><div class="ttdeci">static int apply_predictor_transform(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00917">webp.c:917</a></div></div>
<div class="ttc" id="aattributes_8h_html_a28f50f4c125959216885f01d56dbe866"><div class="ttname"><a href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div><div class="ttdeci">#define av_always_inline</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00049">attributes.h:49</a></div></div>
<div class="ttc" id="awebp_8c_html_a47f91f98def0ff3efe929af2b72b9fc5"><div class="ttname"><a href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5">HuffmanIndex</a></div><div class="ttdeci">HuffmanIndex</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00134">webp.c:134</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_af4d73eb3f0a39c7cb3a97ce7296b80bf"><div class="ttname"><a href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a></div><div class="ttdeci">#define AV_COPY32(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00601">intreadwrite.h:601</a></div></div>
<div class="ttc" id="astruct_thread_frame_html"><div class="ttname"><a href="struct_thread_frame.html">ThreadFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2thread_8h_source.html#l00034">thread.h:34</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceac9eb9136ca924db98aa71306a1530b41"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac9eb9136ca924db98aa71306a1530b41">AV_CODEC_ID_WEBP</a></div><div class="ttdeci">@ AV_CODEC_ID_WEBP</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00221">codec_id.h:221</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="aexif_8h_html"><div class="ttname"><a href="exif_8h.html">exif.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="awebp_8c_html_a2620e8b2c399f2e7ae2a577facf58cbb"><div class="ttname"><a href="webp_8c.html#a2620e8b2c399f2e7ae2a577facf58cbb">inv_predict_7</a></div><div class="ttdeci">static void inv_predict_7(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00805">webp.c:805</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a8dadebc83e7dfac853d1e97e0b7e81ac"><div class="ttname"><a href="struct_web_p_context.html#a8dadebc83e7dfac853d1e97e0b7e81ac">WebPContext::alpha_data</a></div><div class="ttdeci">uint8_t * alpha_data</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00197">webp.c:197</a></div></div>
<div class="ttc" id="awebp_8c_html_af2e822ecf130e81d621d2e54d0412f0e"><div class="ttname"><a href="webp_8c.html#af2e822ecf130e81d621d2e54d0412f0e">huff_reader_get_symbol</a></div><div class="ttdeci">static int huff_reader_get_symbol(HuffReader *r, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00235">webp.c:235</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="awebp_8c_html_acb67aff90e27b452765551ae28b17f8b"><div class="ttname"><a href="webp_8c.html#acb67aff90e27b452765551ae28b17f8b">inv_predict_13</a></div><div class="ttdeci">static void inv_predict_13(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00875">webp.c:875</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="awebp_8c_html_aa5527c6d06c1c8a25c0b88b32833f778"><div class="ttname"><a href="webp_8c.html#aa5527c6d06c1c8a25c0b88b32833f778">inv_predict_6</a></div><div class="ttdeci">static void inv_predict_6(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00795">webp.c:795</a></div></div>
<div class="ttc" id="astruct_image_context_html_aa088affbca3d41ad024d2f4b269cb288"><div class="ttname"><a href="struct_image_context.html#aa088affbca3d41ad024d2f4b269cb288">ImageContext::color_cache</a></div><div class="ttdeci">uint32_t * color_cache</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00181">webp.c:181</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00322">frame.h:322</a></div></div>
<div class="ttc" id="arematrix__template_8c_html_a4dfdfbb7b69470f1152e022432ee2d45"><div class="ttname"><a href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a></div><div class="ttdeci">typedef void(RENAME(mix_any_func_type))</div><div class="ttdef"><b>Definition:</b> <a href="rematrix__template_8c_source.html#l00052">rematrix_template.c:52</a></div></div>
<div class="ttc" id="awebp_8c_html_a47f91f98def0ff3efe929af2b72b9fc5a9edfb26e4f9fd705be4dd4d3f739aa95"><div class="ttname"><a href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a9edfb26e4f9fd705be4dd4d3f739aa95">HUFF_IDX_BLUE</a></div><div class="ttdeci">@ HUFF_IDX_BLUE</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00137">webp.c:137</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a447f515818c8fe7de3b2aa757a3e68dc"><div class="ttname"><a href="struct_web_p_context.html#a447f515818c8fe7de3b2aa757a3e68dc">WebPContext::nb_transforms</a></div><div class="ttdeci">int nb_transforms</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00205">webp.c:205</a></div></div>
<div class="ttc" id="awebp_8c_html_abf4c9395e0fff7e89a18eeb0ff8cf147a73bacd8811cdf11be83e830b3f9aa490"><div class="ttname"><a href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a73bacd8811cdf11be83e830b3f9aa490">IMAGE_ROLE_ENTROPY</a></div><div class="ttdeci">@ IMAGE_ROLE_ENTROPY</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00154">webp.c:154</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a2ffdda53234684bc5f583e93e65b4627"><div class="ttname"><a href="struct_web_p_context.html#a2ffdda53234684bc5f583e93e65b4627">WebPContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00201">webp.c:201</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="awebp_8c_html_a2eb5bc647825c95ae2ea501d179f4207"><div class="ttname"><a href="webp_8c.html#a2eb5bc647825c95ae2ea501d179f4207">WebPContext</a></div><div class="ttdeci">struct WebPContext WebPContext</div></div>
<div class="ttc" id="atiff__common_8c_html_a6c878261439d8f8c08f857523719ff12"><div class="ttname"><a href="tiff__common_8c.html#a6c878261439d8f8c08f857523719ff12">ff_tdecode_header</a></div><div class="ttdeci">int ff_tdecode_header(GetByteContext *gb, int *le, int *ifd_offset)</div><div class="ttdef"><b>Definition:</b> <a href="tiff__common_8c_source.html#l00261">tiff_common.c:261</a></div></div>
<div class="ttc" id="astruct_image_context_html_a7713284850b6a12723f8f8a24721a565"><div class="ttname"><a href="struct_image_context.html#a7713284850b6a12723f8f8a24721a565">ImageContext::color_cache_bits</a></div><div class="ttdeci">int color_cache_bits</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00180">webp.c:180</a></div></div>
<div class="ttc" id="awebp_8c_html_a126c5abf0fb031b45b2a77dec5c818aa"><div class="ttname"><a href="webp_8c.html#a126c5abf0fb031b45b2a77dec5c818aa">image_ctx_free</a></div><div class="ttdeci">static void image_ctx_free(ImageContext *img)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00218">webp.c:218</a></div></div>
<div class="ttc" id="awebp_8c_html_aad0bffbabdec1405f3f07373a648227e"><div class="ttname"><a href="webp_8c.html#aad0bffbabdec1405f3f07373a648227e">ff_webp_decoder</a></div><div class="ttdeci">AVCodec ff_webp_decoder</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l01540">webp.c:1540</a></div></div>
<div class="ttc" id="astruct_huff_reader_html"><div class="ttname"><a href="struct_huff_reader.html">HuffReader</a></div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00170">webp.c:170</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="awebp_8c_html_aa934a528026049d2bccc516a520a27ec"><div class="ttname"><a href="webp_8c.html#aa934a528026049d2bccc516a520a27ec">apply_color_indexing_transform</a></div><div class="ttdeci">static int apply_color_indexing_transform(WebPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00993">webp.c:993</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ac8b736a8223c5348ad85ffff597401ff"><div class="ttname"><a href="libavcodec_2internal_8h.html#ac8b736a8223c5348ad85ffff597401ff">ff_set_dimensions</a></div><div class="ttdeci">int ff_set_dimensions(AVCodecContext *s, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00106">utils.c:106</a></div></div>
<div class="ttc" id="astruct_huff_reader_html_af69d02ef07231a8ffe20f227f16b7d9e"><div class="ttname"><a href="struct_huff_reader.html#af69d02ef07231a8ffe20f227f16b7d9e">HuffReader::simple</a></div><div class="ttdeci">int simple</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00172">webp.c:172</a></div></div>
<div class="ttc" id="astruct_web_p_context_html"><div class="ttname"><a href="struct_web_p_context.html">WebPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00188">webp.c:188</a></div></div>
<div class="ttc" id="awebp_8c_html_a8b5d685837de02f1ce809d43e25fb069"><div class="ttname"><a href="webp_8c.html#a8b5d685837de02f1ce809d43e25fb069">MAX_HUFFMAN_CODE_LENGTH</a></div><div class="ttdeci">#define MAX_HUFFMAN_CODE_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00068">webp.c:68</a></div></div>
<div class="ttc" id="awebp_8c_html_a75f7aeb5d90266d59fbcf5368da009f9a6f270a60c2e62877b664d2cd966c44ee"><div class="ttname"><a href="webp_8c.html#a75f7aeb5d90266d59fbcf5368da009f9a6f270a60c2e62877b664d2cd966c44ee">ALPHA_FILTER_VERTICAL</a></div><div class="ttdeci">@ ALPHA_FILTER_VERTICAL</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00106">webp.c:106</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="awebp_8c_html_acacf2ad87d583299da78fbdd1dc53148"><div class="ttname"><a href="webp_8c.html#acacf2ad87d583299da78fbdd1dc53148">PARSE_BLOCK_SIZE</a></div><div class="ttdeci">#define PARSE_BLOCK_SIZE(w, h)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00418">webp.c:418</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="avf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00136">vf_palettegen.c:136</a></div></div>
<div class="ttc" id="astruct_image_context_html_a64a911483ddc98c274da6b52bf4b229c"><div class="ttname"><a href="struct_image_context.html#a64a911483ddc98c274da6b52bf4b229c">ImageContext::nb_huffman_groups</a></div><div class="ttdeci">int nb_huffman_groups</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00182">webp.c:182</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7dac6baaaaf190f42867bf2100ed79d0c13"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7dac6baaaaf190f42867bf2100ed79d0c13">PRED_MODE_L</a></div><div class="ttdeci">@ PRED_MODE_L</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00119">webp.c:119</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a5af8d91e4f4dbfba4a8f4c45ed4d426f"><div class="ttname"><a href="struct_web_p_context.html#a5af8d91e4f4dbfba4a8f4c45ed4d426f">WebPContext::has_alpha</a></div><div class="ttdeci">int has_alpha</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00194">webp.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga59a6372b124b306e3a2233723c5cdc78"><div class="ttname"><a href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a></div><div class="ttdeci">int av_dict_copy(AVDictionary **dst, const AVDictionary *src, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00217">dict.c:217</a></div></div>
<div class="ttc" id="astruct_web_p_context_html_a4e75fa0b207e56fce90166c1c1af0238"><div class="ttname"><a href="struct_web_p_context.html#a4e75fa0b207e56fce90166c1c1af0238">WebPContext::alpha_frame</a></div><div class="ttdeci">AVFrame * alpha_frame</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00191">webp.c:191</a></div></div>
<div class="ttc" id="awebp_8c_html_abf4c9395e0fff7e89a18eeb0ff8cf147"><div class="ttname"><a href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147">ImageRole</a></div><div class="ttdeci">ImageRole</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00148">webp.c:148</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="anellymoserenc_8c_html_a0a5299ac77dc4fb1f9b2682d957945d2"><div class="ttname"><a href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a></div><div class="ttdeci">static float distance(float x, float y, int band)</div><div class="ttdef"><b>Definition:</b> <a href="nellymoserenc_8c_source.html#l00234">nellymoserenc.c:234</a></div></div>
<div class="ttc" id="aimgutils_8h_html"><div class="ttname"><a href="imgutils_8h.html">imgutils.h</a></div></div>
<div class="ttc" id="abytestream_8h_html_aade8884858d9239b8561013a21898dc0"><div class="ttname"><a href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a></div><div class="ttdeci">static av_always_inline void bytestream2_init(GetByteContext *g, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00137">bytestream.h:137</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa102cde7ec5acbc099c3bcbb58556a18"><div class="ttname"><a href="group__lavu__error.html#gaa102cde7ec5acbc099c3bcbb58556a18">AVERROR_BUG</a></div><div class="ttdeci">#define AVERROR_BUG</div><div class="ttdoc">Internal bug, also see AVERROR_BUG2.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00050">error.h:50</a></div></div>
<div class="ttc" id="awebp_8c_html_a8f369bca07dd226561e821ee50bcbcb8"><div class="ttname"><a href="webp_8c.html#a8f369bca07dd226561e821ee50bcbcb8">read_huffman_code_simple</a></div><div class="ttdeci">static void read_huffman_code_simple(WebPContext *s, HuffReader *hc)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00308">webp.c:308</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="awebp_8c_html_a47f91f98def0ff3efe929af2b72b9fc5aa58279bd00e62bdea1c27d7299180fe2"><div class="ttname"><a href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5aa58279bd00e62bdea1c27d7299180fe2">HUFF_IDX_ALPHA</a></div><div class="ttdeci">@ HUFF_IDX_ALPHA</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00138">webp.c:138</a></div></div>
<div class="ttc" id="avp9dsp__template_8c_html_a5e36941b3d856737e81516acd45edc50"><div class="ttname"><a href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div><div class="ttdeci">h</div><div class="ttdef"><b>Definition:</b> <a href="vp9dsp__template_8c_source.html#l02038">vp9dsp_template.c:2038</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ga3a867b6180ddad1e0c382ef0c5940b8e"><div class="ttname"><a href="group__lavu__picture.html#ga3a867b6180ddad1e0c382ef0c5940b8e">av_image_check_size</a></div><div class="ttdeci">int av_image_check_size(unsigned int w, unsigned int h, int log_offset, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="imgutils_8c_source.html#l00317">imgutils.c:317</a></div></div>
<div class="ttc" id="awebp_8c_html_ae57cec2c86e306c71896c17640fbc1d5"><div class="ttname"><a href="webp_8c.html#ae57cec2c86e306c71896c17640fbc1d5">get_huffman_group</a></div><div class="ttdeci">static HuffReader * get_huffman_group(WebPContext *s, ImageContext *img, int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00525">webp.c:525</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="astruct_image_context_html_a0b8a808da17b6b6e0257fe5a49138448"><div class="ttname"><a href="struct_image_context.html#a0b8a808da17b6b6e0257fe5a49138448">ImageContext::role</a></div><div class="ttdeci">enum ImageRole role</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00174">webp.c:178</a></div></div>
<div class="ttc" id="awebp_8c_html_a69b0baccb61c526776f3ea599695a106"><div class="ttname"><a href="webp_8c.html#a69b0baccb61c526776f3ea599695a106">inv_predict_9</a></div><div class="ttdeci">static void inv_predict_9(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00825">webp.c:825</a></div></div>
<div class="ttc" id="awebp_8c_html_a1d5deb123fafa57ea7043c40f118c05ba82527b220293ec92200cbe54c7e971fd"><div class="ttname"><a href="webp_8c.html#a1d5deb123fafa57ea7043c40f118c05ba82527b220293ec92200cbe54c7e971fd">ALPHA_COMPRESSION_VP8L</a></div><div class="ttdeci">@ ALPHA_COMPRESSION_VP8L</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00100">webp.c:100</a></div></div>
<div class="ttc" id="awebp_8c_html_ae0f0358d7a7bc56a5f00345f1535825c"><div class="ttname"><a href="webp_8c.html#ae0f0358d7a7bc56a5f00345f1535825c">inv_predict_1</a></div><div class="ttdeci">static void inv_predict_1(uint8_t *p, const uint8_t *p_l, const uint8_t *p_tl, const uint8_t *p_t, const uint8_t *p_tr)</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00757">webp.c:757</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da5a2623cf0a956b63d4395727c4e39e44"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da5a2623cf0a956b63d4395727c4e39e44">PRED_MODE_T</a></div><div class="ttdeci">@ PRED_MODE_T</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00120">webp.c:120</a></div></div>
<div class="ttc" id="awebp_8c_html_acf20cdca7f5a02fc529dcacacad102d4"><div class="ttname"><a href="webp_8c.html#acf20cdca7f5a02fc529dcacacad102d4">HuffReader</a></div><div class="ttdeci">struct HuffReader HuffReader</div></div>
<div class="ttc" id="astruct_image_context_html_a53af64db65cbc56a90ec3b6641c40225"><div class="ttname"><a href="struct_image_context.html#a53af64db65cbc56a90ec3b6641c40225">ImageContext::size_reduction</a></div><div class="ttdeci">int size_reduction</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00184">webp.c:184</a></div></div>
<div class="ttc" id="aswscale_8txt_html_aa111755617738a3e99d08d488ed0d3c4"><div class="ttname"><a href="swscale_8txt.html#aa111755617738a3e99d08d488ed0d3c4">line</a></div><div class="ttdeci">The official guide to swscale for confused that consecutive non overlapping rectangles of slice_bottom special converter These generally are unscaled converters of common like for each output line the vertical scaler pulls lines from a ring buffer When the ring buffer does not contain the wanted line</div><div class="ttdef"><b>Definition:</b> <a href="swscale_8txt_source.html#l00040">swscale.txt:40</a></div></div>
<div class="ttc" id="awebp_8c_html_a47f91f98def0ff3efe929af2b72b9fc5a328fef01beb0724eb48a1ffdc511b88f"><div class="ttname"><a href="webp_8c.html#a47f91f98def0ff3efe929af2b72b9fc5a328fef01beb0724eb48a1ffdc511b88f">HUFF_IDX_RED</a></div><div class="ttdeci">@ HUFF_IDX_RED</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00136">webp.c:136</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac9cb9756175b96e7441575803757fb73"><div class="ttname"><a href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a></div><div class="ttdeci">void av_init_packet(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00035">avpacket.c:35</a></div></div>
<div class="ttc" id="awebp_8c_html_abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5"><div class="ttname"><a href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147ae6a47653f84c9dbb3e42ebf6ea72cef5">IMAGE_ROLE_ARGB</a></div><div class="ttdeci">@ IMAGE_ROLE_ARGB</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00150">webp.c:150</a></div></div>
<div class="ttc" id="awebp_8c_html_a2b6fc81136f2e6b856ef355878212f7da864909dd536f7522e5ebbb5205d3b4dc"><div class="ttname"><a href="webp_8c.html#a2b6fc81136f2e6b856ef355878212f7da864909dd536f7522e5ebbb5205d3b4dc">PRED_MODE_ADD_SUBTRACT_HALF</a></div><div class="ttdeci">@ PRED_MODE_ADD_SUBTRACT_HALF</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00131">webp.c:131</a></div></div>
<div class="ttc" id="awebp_8c_html_abf4c9395e0fff7e89a18eeb0ff8cf147a4a144b2247bf9535b398c303f668c6bb"><div class="ttname"><a href="webp_8c.html#abf4c9395e0fff7e89a18eeb0ff8cf147a4a144b2247bf9535b398c303f668c6bb">IMAGE_ROLE_COLOR_TRANSFORM</a></div><div class="ttdeci">@ IMAGE_ROLE_COLOR_TRANSFORM</div><div class="ttdef"><b>Definition:</b> <a href="webp_8c_source.html#l00162">webp.c:162</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
