<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/dca_xll.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dca_xll.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dca__xll_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2016 foo86</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dcadec_8h.html">dcadec.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dcadata_8h.html">dcadata.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dcamath_8h.html">dcamath.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dca__syncwords_8h.html">dca_syncwords.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="unary_8h.html">unary.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a83bc803a6f13ea3561477a8cd2036c12">   27</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a83bc803a6f13ea3561477a8cd2036c12">get_linear</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, n);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> (v &gt;&gt; 1) ^ -(v &amp; 1);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a8427f57147554324564657b58866eb64">   33</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a8427f57147554324564657b58866eb64">get_rice_un</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> k)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v = <a class="code" href="unary_8h.html#ad7ab3bdac952a16853fa24730c211f53">get_unary</a>(gb, 1, <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb));</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">return</span> (v &lt;&lt; k) | <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, k);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a1928c944efda8dd1bf85fbff804dd932">   39</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a1928c944efda8dd1bf85fbff804dd932">get_rice</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> k)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v = <a class="code" href="dca__xll_8c.html#a8427f57147554324564657b58866eb64">get_rice_un</a>(gb, k);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> (v &gt;&gt; 1) ^ -(v &amp; 1);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#ac216f016bb90b60b69dd77fae7f827d0">   45</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#ac216f016bb90b60b69dd77fae7f827d0">get_array</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, n);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a9a187306e57e3bbaac316ac552006fb0">   53</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#a9a187306e57e3bbaac316ac552006fb0">get_linear_array</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (n == 0)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        memset(<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>) * <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dca__xll_8c.html#a83bc803a6f13ea3561477a8cd2036c12">get_linear</a>(gb, n);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a1c82c64222ada043c6886e4d8df03fe4">   63</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#a1c82c64222ada043c6886e4d8df03fe4">get_rice_array</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> k)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dca__xll_8c.html#a1928c944efda8dd1bf85fbff804dd932">get_rice</a>(gb, k);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a761eebdde7e8b6d7c3cd1ffb7ead9de3">   71</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a761eebdde7e8b6d7c3cd1ffb7ead9de3">parse_dmix_coeffs</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// Size of downmix coefficient matrix</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">int</span> m = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset ? <a class="code" href="dcadata_8c.html#ad8f5a83c7eb78b82f9c27980681ec73c">ff_dca_dmix_primary_nch</a>[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_type] : <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_ofs;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, *coeff_ptr = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_coeff;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; m; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>, sign, <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>, scale, scale_inv = 0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="comment">// Downmix scale (only for non-primary channel sets)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 9);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            sign = (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &gt;&gt; 8) - 1;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 0xff) - <a class="code" href="dcadata_8h.html#ad5dfe69b77120eb8c3b4f1053e6fe08d">FF_DCA_DMIXTABLE_OFFSET</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= <a class="code" href="dcadata_8h.html#a1483f6bf9e40401e1bbde148658cc993">FF_DCA_INV_DMIXTABLE_SIZE</a>) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL downmix scale index\n&quot;</span>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            scale = <a class="code" href="dcadata_8c.html#a25acf2bd9b51f0a0ff08484b9aced4e7">ff_dca_dmixtable</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> + <a class="code" href="dcadata_8h.html#ad5dfe69b77120eb8c3b4f1053e6fe08d">FF_DCA_DMIXTABLE_OFFSET</a>];</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            scale_inv = <a class="code" href="dcadata_8c.html#adb86cf5d31f2f3c44d4c26fc242520ee">ff_dca_inv_dmixtable</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_scale[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (scale ^ sign) - sign;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_scale_inv[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (scale_inv ^ sign) - sign;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">// Downmix coefficients</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; j++) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 9);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            sign = (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &gt;&gt; 8) - 1;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 0xff;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= <a class="code" href="dcadata_8h.html#a82d6e0fade2a49e332cd969d1dce462f">FF_DCA_DMIXTABLE_SIZE</a>) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL downmix coefficient index\n&quot;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = <a class="code" href="dcadata_8c.html#a25acf2bd9b51f0a0ff08484b9aced4e7">ff_dca_dmixtable</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="comment">// Multiply by |InvDmixScale| to get |UndoDmixScale|</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = <a class="code" href="dcamath_8h.html#a2877d50795e53403f5a2626a1ea9b9bc">mul16</a>(scale_inv, <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            *coeff_ptr++ = (<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> ^ sign) - sign;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a7b57f060968e604daa921f0e236cb358">  116</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a7b57f060968e604daa921f0e236cb358">chs_parse_header</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, band, header_size, header_pos = <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *p = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset[0];</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="struct_d_c_a_xll_band.html">DCAXllBand</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Size of channel set sub-header</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    header_size = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 10) + 1;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// Check CRC</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a5d17a4d9c1874da4d7e9889481bb8267">ff_dca_check_crc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, header_pos, header_pos + header_size * 8)) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL sub-header checksum\n&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// Number of channels in the channel set</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4) + 1;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels &gt; <a class="code" href="dca__xll_8h.html#a1e5c01fa0029d771364a318c56097284">DCA_XLL_CHANNELS_MAX</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;%d XLL channels&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// Residual type</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;residual_encode = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// PCM bit resolution</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;pcm_bit_res = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5) + 1;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// Storage unit width</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5) + 1;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res != 16 &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res != 20 &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res != 24) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;%d-bit XLL storage resolution&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;pcm_bit_res &gt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid PCM bit resolution for XLL channel set (%d &gt; %d)\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;pcm_bit_res, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// Original sampling frequency</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq = <a class="code" href="dca_8c.html#a97b727d01f2953762f8b11435ca7a9c4">ff_dca_sampling_freqs</a>[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4)];</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq &gt; 192000) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;%d Hz XLL sampling frequency&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// Sampling frequency modifier</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2)) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;XLL sampling frequency modifier&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// Which replacement set this channel set is member of</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2)) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;XLL replacement set&quot;</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#ac7779c9e8a15d0a234e416be8ab8c483">one_to_one_map_ch_to_spkr</a>) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Primary channel set flag</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset != (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> == p)) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;The first (and only) XLL channel set must be primary\n&quot;</span>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="comment">// Downmix coefficients present in stream</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_coeffs_present = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="comment">// Downmix already performed by encoder</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_embedded = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_coeffs_present &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="comment">// Downmix type</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_coeffs_present &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_type &gt;= <a class="code" href="dca_8h.html#a0872a39dacbe34ba28b91cd792fc3517a0e0356e3dff6497d16f7000c214d3d4d">DCA_DMIX_TYPE_COUNT</a>) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL primary channel set downmix type\n&quot;</span>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="comment">// Whether the channel set is part of a hierarchy</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets != 1) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;XLL channel set outside of hierarchy&quot;</span>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// Downmix coefficients</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_coeffs_present &amp;&amp; (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a761eebdde7e8b6d7c3cd1ffb7ead9de3">parse_dmix_coeffs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) &lt; 0)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">// Channel mask enabled</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Disabled XLL channel mask&quot;</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">// Channel mask for set</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_mask = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask_nbits);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">if</span> (av_popcount(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_mask) != <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL channel mask\n&quot;</span>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// Build the channel to speaker map</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, j = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask_nbits; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_mask &amp; (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[j++] = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="comment">// Mapping coeffs present flag</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels != 2 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets != 1 || <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Custom XLL channel to speaker mapping&quot;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="comment">// Setup for LtRt decoding</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset = 1;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_coeffs_present = 0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_embedded = 0;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset = 0;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_mask = <a class="code" href="dca_8h.html#a2f0710119b4e2623ae8e123c6c081076">DCA_SPEAKER_LAYOUT_STEREO</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[0] = <a class="code" href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a0c488484b13dd1415f9420ce0efab9b5">DCA_SPEAKER_L</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[1] = <a class="code" href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977ad6a72785697986fc0456bc9957e19054">DCA_SPEAKER_R</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq &gt; 96000) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment">// Extra frequency bands flag</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Extra XLL frequency bands&quot;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands = 2;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands = 1;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// Set the sampling frequency to that of the first frequency band.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Frequency will be doubled again after bands assembly.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq &gt;&gt;= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands - 1;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// Verify that all channel sets have the same audio characteristics</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> != p &amp;&amp; (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands != p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a0e9350a1c3738d4e11b928b3db36ccac">nfreqbands</a> || <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq != p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a2996c23d1011a9d66bb412327c533888">freq</a></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                   || <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;pcm_bit_res != p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a7dc06398011ab42822414dee6c5dff3d">pcm_bit_res</a></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                   || <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res != p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#aa3c3726a15c116c3e28e64b217afe97a">storage_bit_res</a>)) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Different XLL audio characteristics&quot;</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// Determine number of bits to read bit allocation coding parameter</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res &gt; 16)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits = 5;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;storage_bit_res &gt; 8)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits = 4;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits = 3;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Account for embedded downmix and decimator saturation</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets &gt; 1 || <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands &gt; 1) &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits &lt; 5)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits++;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">for</span> (band = 0, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands; band &lt; c-&gt;nfreqbands; band++, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>++) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">// Pairwise channel decorrelation</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;decor_enabled = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels &gt; 1) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordtype">int</span> ch_nbits = av_ceil_log2(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="comment">// Original channel order</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;orig_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, ch_nbits);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;orig_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL original channel order\n&quot;</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="comment">// Pairwise channel coefficients</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;decor_coeff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) ? <a class="code" href="dca__xll_8c.html#a83bc803a6f13ea3561477a8cd2036c12">get_linear</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 7) : 0;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;orig_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;decor_coeff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="comment">// Adaptive predictor order</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;highest_pred_order = 0;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;highest_pred_order)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;highest_pred_order = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;highest_pred_order &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL adaptive predicition order\n&quot;</span>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="comment">// Fixed predictor order</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;fixed_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] ? 0 : <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// Adaptive predictor quantized reflection coefficients</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; j++) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                k = <a class="code" href="dca__xll_8c.html#a83bc803a6f13ea3561477a8cd2036c12">get_linear</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">if</span> (k == -128) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL reflection coefficient index\n&quot;</span>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keywordflow">if</span> (k &lt; 0)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_refl_coeff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = -(<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)<a class="code" href="dcadata_8c.html#a288ecddaf6d6b7b8290a6873caccc94c">ff_dca_xll_refl_coeff</a>[-k];</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_refl_coeff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] =  (<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)<a class="code" href="dcadata_8c.html#a288ecddaf6d6b7b8290a6873caccc94c">ff_dca_xll_refl_coeff</a>[ k];</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// Downmix performed by encoder in extension frequency band</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;dmix_embedded = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_embedded &amp;&amp; (band == 0 || <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="comment">// MSB/LSB split flag in extension frequency band</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">if</span> ((band == 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;scalable_lsbs) || (band != 0 &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="comment">// Size of LSB section in any segment</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seg_size_nbits);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size &lt; 0 || <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LSB section size\n&quot;</span>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="comment">// Account for optional CRC bytes after LSB section</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_crc_present &gt; 2 ||</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                        (band == 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_crc_present &gt; 1)))</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size += 2;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="comment">// Number of bits to represent the samples in LSB part</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; !<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;LSB section missing with non-zero LSB width\n&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size = 0;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">// Scalable resolution flag in extension frequency band</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span> ((band == 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;scalable_lsbs) || (band != 0 &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="comment">// Number of bits discarded by authoring</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;bit_width_adjust[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;bit_width_adjust[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// Reserved</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Byte align</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// CRC16 of channel set sub-header</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a7aa4895ee808a200308bb2cc1d6b340c">ff_dca_seek_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, header_pos + header_size * 8)) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Read past end of XLL sub-header\n&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a7e1c8158e00557f5ef7dcaa6532857a7">  386</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a7e1c8158e00557f5ef7dcaa6532857a7">chs_alloc_msb_band_data</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordtype">int</span> ndecisamples = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands &gt; 1 ? <a class="code" href="dca__xll_8h.html#ab22192c7e87747e019d65db2040cb432">DCA_XLL_DECI_HISTORY_MAX</a> : 0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">int</span> nchsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples + ndecisamples;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, nsamples = nchsamples * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *ptr;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// Reallocate MSB sample buffer</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga29d0252b981f157e713a68ffca52f003">av_fast_malloc</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[0], &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_size[0], nsamples * <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>));</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[0])</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    ptr = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[0] + ndecisamples;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; j++) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].msb_sample_buffer[j] = ptr;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            ptr += nchsamples;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#aee78eed4d6da8d8568ef9668e614a0c6">  409</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#aee78eed4d6da8d8568ef9668e614a0c6">chs_alloc_lsb_band_data</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, nsamples = 0;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *ptr;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// Determine number of frequency bands that have MSB/LSB split</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].lsb_section_size)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            nsamples += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (!nsamples)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// Reallocate LSB sample buffer</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga29d0252b981f157e713a68ffca52f003">av_fast_malloc</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[1], &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_size[1], nsamples * <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[1])</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    ptr = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[1];</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].lsb_section_size) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; j++) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].lsb_sample_buffer[j] = ptr;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                ptr += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; j++)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].lsb_sample_buffer[j] = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#afeac2d97547beabdd84fb3b0b78df35c">  442</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#afeac2d97547beabdd84fb3b0b78df35c">chs_parse_band_data</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keywordtype">int</span> band, <span class="keywordtype">int</span> seg, <span class="keywordtype">int</span> band_data_end)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;{</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="struct_d_c_a_xll_band.html">DCAXllBand</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band];</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// Start unpacking MSB portion of the segment</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span> (!(seg &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="comment">// Unpack segment type</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="comment">// 0 - distinct coding parameters for each channel</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="comment">// 1 - common coding parameters for all channels</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_common = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">// Determine number of coding parameters encoded in segment</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        k = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_common ? 1 : <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="comment">// Unpack Rice coding parameters</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; k; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="comment">// Unpack Rice coding flag</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="comment">// 0 - linear code, 1 - Rice code</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;rice_code_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="comment">// Unpack Hybrid Rice coding flag</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="comment">// 0 - Rice code, 1 - Hybrid Rice code</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_common &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;rice_code_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="comment">// Unpack binary code length for isolated samples</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_hybrid_linear[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits) + 1;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="comment">// 0 indicates no Hybrid Rice coding</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_hybrid_linear[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="comment">// Unpack coding parameters</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; k; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">if</span> (seg == 0) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <span class="comment">// Unpack coding parameter for part A of segment 0</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <span class="comment">// Adjust for the linear code</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;rice_code_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]++;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_common)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nsamples_part_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nsamples_part_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;highest_pred_order;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nsamples_part_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="comment">// Unpack coding parameter for part B of segment</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_b[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nabits);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="comment">// Adjust for the linear code</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;rice_code_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_b[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_b[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]++;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// Unpack entropy codes</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *part_a, *part_b;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordtype">int</span> nsamples_part_b;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="comment">// Select index of coding parameters</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        k = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_common ? 0 : <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="comment">// Slice the segment into parts A and B</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        part_a = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + seg * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        part_b = part_a + <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nsamples_part_a[k];</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        nsamples_part_b = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nsamples_part_a[k];</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 0)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;rice_code_flag[k]) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="comment">// Linear codes</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="comment">// Unpack all residuals of part A of segment 0</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <a class="code" href="dca__xll_8c.html#a9a187306e57e3bbaac316ac552006fb0">get_linear_array</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, part_a, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nsamples_part_a[k],</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                             <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_a[k]);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="comment">// Unpack all residuals of part B of segment 0 and others</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <a class="code" href="dca__xll_8c.html#a9a187306e57e3bbaac316ac552006fb0">get_linear_array</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, part_b, nsamples_part_b,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                             <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_b[k]);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="comment">// Rice codes</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="comment">// Unpack all residuals of part A of segment 0</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <a class="code" href="dca__xll_8c.html#a1c82c64222ada043c6886e4d8df03fe4">get_rice_array</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, part_a, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nsamples_part_a[k],</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                           <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_a[k]);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_hybrid_linear[k]) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <span class="comment">// Hybrid Rice codes</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="comment">// Unpack the number of isolated samples</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="keywordtype">int</span> nisosamples = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples_log2);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <span class="comment">// Set all locations to 0</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                memset(part_b, 0, <span class="keyword">sizeof</span>(*part_b) * nsamples_part_b);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <span class="comment">// Extract the locations of isolated samples and flag by -1</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; nisosamples; j++) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    <span class="keywordtype">int</span> loc = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples_log2);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    <span class="keywordflow">if</span> (loc &gt;= nsamples_part_b) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid isolated sample location\n&quot;</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                    part_b[loc] = -1;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="comment">// Unpack all residuals of part B of segment 0 and others</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; nsamples_part_b; j++) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <span class="keywordflow">if</span> (part_b[j])</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        part_b[j] = <a class="code" href="dca__xll_8c.html#a83bc803a6f13ea3561477a8cd2036c12">get_linear</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_hybrid_linear[k]);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        part_b[j] = <a class="code" href="dca__xll_8c.html#a1928c944efda8dd1bf85fbff804dd932">get_rice</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_b[k]);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="comment">// Rice codes</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="comment">// Unpack all residuals of part B of segment 0 and others</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <a class="code" href="dca__xll_8c.html#a1c82c64222ada043c6886e4d8df03fe4">get_rice_array</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, part_b, nsamples_part_b, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bitalloc_part_b[k]);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// Unpack decimator history for frequency band 1</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (seg == 0 &amp;&amp; band == 1) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordtype">int</span> nbits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5) + 1;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">for</span> (j = 1; j &lt; <a class="code" href="dca__xll_8h.html#ab22192c7e87747e019d65db2040cb432">DCA_XLL_DECI_HISTORY_MAX</a>; j++)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;deci_history[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = <a class="code" href="get__bits_8h.html#a071e2d013dcbe2a4c5a832e3800b581b">get_sbits_long</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, nbits);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// Start unpacking LSB portion of the segment</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// Skip to the start of LSB portion</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a7aa4895ee808a200308bb2cc1d6b340c">ff_dca_seek_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, band_data_end - <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size * 8)) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Read past end of XLL band data\n&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="comment">// Unpack all LSB parts of residuals of this segment</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <a class="code" href="dca__xll_8c.html#ac216f016bb90b60b69dd77fae7f827d0">get_array</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                          <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + seg * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples,</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                          <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// Skip to the end of band data</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a7aa4895ee808a200308bb2cc1d6b340c">ff_dca_seek_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, band_data_end)) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Read past end of XLL band data\n&quot;</span>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#aad06fea47f81c998d4711e8f8c0aae45">  599</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#aad06fea47f81c998d4711e8f8c0aae45">chs_clear_band_data</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keywordtype">int</span> band, <span class="keywordtype">int</span> seg)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="struct_d_c_a_xll_band.html">DCAXllBand</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band];</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, nsamples;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (seg &lt; 0) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 0;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        nsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = seg * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        nsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        memset(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, 0, nsamples * <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>));</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_section_size)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            memset(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, 0, nsamples * <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (seg &lt;= 0 &amp;&amp; band)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        memset(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;deci_history, 0, <span class="keyword">sizeof</span>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;deci_history));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">if</span> (seg &lt; 0) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        memset(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs, 0, <span class="keyword">sizeof</span>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs));</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        memset(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;bit_width_adjust, 0, <span class="keyword">sizeof</span>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;bit_width_adjust));</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a60058e30b348701dc79038006ba2f7dc">  627</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#a60058e30b348701dc79038006ba2f7dc">chs_filter_band_data</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keywordtype">int</span> band)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="struct_d_c_a_xll_band.html">DCAXllBand</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band];</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordtype">int</span> nsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// Inverse adaptive or fixed prediction</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *buf = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordtype">int</span> order = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span> (order &gt; 0) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[<a class="code" href="dca__xll_8h.html#afaa2bb1a917b50e5bce906ef6651dca9">DCA_XLL_ADAPT_PRED_ORDER_MAX</a>];</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="comment">// Conversion from reflection coefficients to direct form coefficients</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; order; j++) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                <span class="keywordtype">int</span> rc = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;adapt_refl_coeff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j];</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="keywordflow">for</span> (k = 0; k &lt; (j + 1) / 2; k++) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    <span class="keywordtype">int</span> tmp1 = <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[    k    ];</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                    <span class="keywordtype">int</span> tmp2 = <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[j - k - 1];</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[    k    ] = tmp1 + <a class="code" href="dcamath_8h.html#a2877d50795e53403f5a2626a1ea9b9bc">mul16</a>(rc, tmp2);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                    <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[j - k - 1] = tmp2 + <a class="code" href="dcamath_8h.html#a2877d50795e53403f5a2626a1ea9b9bc">mul16</a>(rc, tmp1);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[j] = rc;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="comment">// Inverse adaptive prediction</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; nsamples - order; j++) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                int64_t err = 0;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <span class="keywordflow">for</span> (k = 0; k &lt; order; k++)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    err += (int64_t)buf[j + k] * <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[order - k - 1];</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                buf[j + k] -= (<a class="code" href="dct32__template_8c.html#a225b239979aefa68a2148237d74eb419">SUINT</a>)<a class="code" href="dcamath_8h.html#ae04f8402b5672ebea874e600343bba6e">clip23</a>(<a class="code" href="dcamath_8h.html#a6cc96ebf5fd81c34589d956f06e0cb32">norm16</a>(err));</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="comment">// Inverse fixed coefficient prediction</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;fixed_pred_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; j++)</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">for</span> (k = 1; k &lt; nsamples; k++)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    buf[k] += (<span class="keywordtype">unsigned</span>)buf[k - 1];</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// Inverse pairwise channel decorrellation</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;decor_enabled) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *tmp[<a class="code" href="dca__xll_8h.html#a1e5c01fa0029d771364a318c56097284">DCA_XLL_CHANNELS_MAX</a>];</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;decor_coeff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;decor(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1],</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                 <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2    ],</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                                 <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>, nsamples);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="comment">// Reorder channel pointers to the original order</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            tmp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;orig_order[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] = tmp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">// Map output channel pointers for frequency band 0</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands == 1)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#aae93b4034fb07628fba75799bb30a59d">  692</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#aae93b4034fb07628fba75799bb30a59d">chs_get_lsb_width</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keywordtype">int</span> band, <span class="keywordtype">int</span> ch)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">int</span> adj = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band].bit_width_adjust[ch];</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band].nscalablelsbs[ch];</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fixed_lsb_width)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fixed_lsb_width;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> &amp;&amp; adj)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> += adj - 1;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> += adj;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#ade474170238a397a390db0a0ce64e32b">  707</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#ade474170238a397a390db0a0ce64e32b">chs_assemble_msbs_lsbs</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keywordtype">int</span> band)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="struct_d_c_a_xll_band.html">DCAXllBand</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band];</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordtype">int</span> n, ch, nsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = <a class="code" href="dca__xll_8c.html#aae93b4034fb07628fba75799bb30a59d">chs_get_lsb_width</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, band, ch);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *msb = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;msb_sample_buffer[ch];</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nscalablelsbs[ch]) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *lsb = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;lsb_sample_buffer[ch];</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="keywordtype">int</span> adj = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;bit_width_adjust[ch];</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <span class="keywordflow">for</span> (n = 0; n &lt; nsamples; n++)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    msb[n] = msb[n] * (<a class="code" href="dct32__template_8c.html#a225b239979aefa68a2148237d74eb419">SUINT</a>)(1 &lt;&lt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>) + (lsb[n] &lt;&lt; adj);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <span class="keywordflow">for</span> (n = 0; n &lt; nsamples; n++)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    msb[n] = msb[n] * (<a class="code" href="dct32__template_8c.html#a225b239979aefa68a2148237d74eb419">SUINT</a>)(1 &lt;&lt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a6116daa686cbeeac3ab3cb11c58c55a5">  729</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a6116daa686cbeeac3ab3cb11c58c55a5">chs_assemble_freq_bands</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;{</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordtype">int</span> ch, nsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *ptr;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands &gt; 1);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// Reallocate frequency band assembly buffer</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga29d0252b981f157e713a68ffca52f003">av_fast_malloc</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[2], &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_size[2],</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                   2 * nsamples * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels * <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>));</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[2])</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Assemble frequency bands 0 and 1</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    ptr = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[2];</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *band0 = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[0].msb_sample_buffer[ch];</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *band1 = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[1].msb_sample_buffer[ch];</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="comment">// Copy decimator history</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        memcpy(band0 - <a class="code" href="dca__xll_8h.html#ab22192c7e87747e019d65db2040cb432">DCA_XLL_DECI_HISTORY_MAX</a>,</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;               <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;deci_history[ch], <span class="keyword">sizeof</span>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;deci_history[0]));</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="comment">// Filter</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;assemble_freq_bands(ptr, band0, band1,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                                       <a class="code" href="dcadata_8c.html#abce9502fd82df1289b853782d7aeb279">ff_dca_xll_band_coeff</a>,</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                                       nsamples);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">// Remap output channel pointer to assembly buffer</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[ch]] = ptr;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        ptr += nsamples * 2;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#ad290efbd170b24e5705c929bfb8d1783">  765</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#ad290efbd170b24e5705c929bfb8d1783">parse_common_header</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordtype">int</span> stream_ver, header_size, frame_size_nbits, nframesegs_log2;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">// XLL extension sync word</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 32) != <a class="code" href="dca__syncwords_8h.html#a7b264d089d75a4b0a41f2e24742280e1">DCA_SYNCWORD_XLL</a>) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Invalid XLL sync word\n&quot;</span>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// Version number</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    stream_ver = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4) + 1;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (stream_ver &gt; 1) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;XLL stream version %d&quot;</span>, stream_ver);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="comment">// Lossless frame header length</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    header_size = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8) + 1;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// Check CRC</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a5d17a4d9c1874da4d7e9889481bb8267">ff_dca_check_crc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 32, header_size * 8)) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL common header checksum\n&quot;</span>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// Number of bits used to read frame size</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    frame_size_nbits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5) + 1;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// Number of bytes in a lossless frame</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, frame_size_nbits);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size &lt; 0 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size &gt;= <a class="code" href="dca__xll_8h.html#af3a6055ef1c9bb836e396e3413ce2e21">DCA_XLL_PBR_BUFFER_MAX</a>) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid XLL frame size (%d bytes)\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size++;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// Number of channels sets per frame</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4) + 1;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets &gt; <a class="code" href="dca__xll_8h.html#ac94aae10feb91bd2e08ff004c3b55272">DCA_XLL_CHSETS_MAX</a>) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;%d XLL channel sets&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// Number of segments per frame</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    nframesegs_log2 = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesegs = 1 &lt;&lt; nframesegs_log2;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesegs &gt; 1024) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many segments per XLL frame\n&quot;</span>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">// Samples in segment per one frequency band for the first channel set</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">// Maximum value is 256 for sampling frequencies &lt;= 48 kHz</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// Maximum value is 512 for sampling frequencies &gt; 48 kHz</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples_log2 = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples_log2) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too few samples per XLL segment\n&quot;</span>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples = 1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples_log2;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples &gt; 512) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many samples per XLL segment\n&quot;</span>);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">// Samples in frame per one frequency band for the first channel set</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples_log2 = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsegsamples_log2 + nframesegs_log2;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples = 1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples_log2;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples &gt; 65536) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many samples per XLL frame\n&quot;</span>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="comment">// Number of bits used to read segment size</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seg_size_nbits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5) + 1;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// Presence of CRC16 within each frequency band</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// 0 - No CRC16 within band</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// 1 - CRC16 placed at the end of MSB0</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// 2 - CRC16 placed at the end of MSB0 and LSB0</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="comment">// 3 - CRC16 placed at the end of MSB0 and LSB0 and other frequency bands</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_crc_present = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// MSB/LSB split flag</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;scalable_lsbs = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="comment">// Channel position mask</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask_nbits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5) + 1;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// Fixed LSB width</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;scalable_lsbs)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fixed_lsb_width = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fixed_lsb_width = 0;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="comment">// Reserved</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">// Byte align</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">// Header CRC16 protection</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a7aa4895ee808a200308bb2cc1d6b340c">ff_dca_seek_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, header_size * 8)) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Read past end of XLL common header\n&quot;</span>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#aee4b2cdea5ba8a878c3fefc5b5464fd6">  872</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#aee4b2cdea5ba8a878c3fefc5b5464fd6">is_hier_dmix_chset</a>(<a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;{</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_embedded &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;}</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#aac69609724102b54e6f101a17be495f3">  877</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="dca__xll_8c.html#aac69609724102b54e6f101a17be495f3">find_next_hier_dmix_chset</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset)</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">while</span> (++c &lt; &amp;s-&gt;chset[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets])</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="dca__xll_8c.html#aee4b2cdea5ba8a878c3fefc5b5464fd6">is_hier_dmix_chset</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a3fd916edd209a685169f3d17f4beb18a">  887</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#a3fd916edd209a685169f3d17f4beb18a">prescale_down_mix</a>(<a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *o)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;{</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, *coeff_ptr = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_coeff;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_ofs; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordtype">int</span> scale = o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#ab31fada43d7f7259df60eda2fad3cef3">dmix_scale</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordtype">int</span> scale_inv = o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#ad4733afa58a9183fec246ec1985fdef4">dmix_scale_inv</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_scale[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dcamath_8h.html#af6cd47e271e2a1a3c1547c28a83ad2e3">mul15</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_scale[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], scale);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_scale_inv[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dcamath_8h.html#a2877d50795e53403f5a2626a1ea9b9bc">mul16</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_scale_inv[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], scale_inv);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; j++) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = <a class="code" href="dcamath_8h.html#a2877d50795e53403f5a2626a1ea9b9bc">mul16</a>(*coeff_ptr, scale_inv);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            *coeff_ptr++ = <a class="code" href="dcamath_8h.html#af6cd47e271e2a1a3c1547c28a83ad2e3">mul15</a>(<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>, o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#ab31fada43d7f7259df60eda2fad3cef3">dmix_scale</a>[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_ofs + j]);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a3c257881f5573b3cae20b043b9ed60b5">  903</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a3c257881f5573b3cae20b043b9ed60b5">parse_sub_headers</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="struct_d_c_a_context.html">DCAContext</a> *dca = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;priv_data;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// Parse channel set headers</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands = 0;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels = 0;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nreschsets = 0;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; i &lt; s-&gt;nchsets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_ofs = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a7b57f060968e604daa921f0e236cb358">chs_parse_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, asset)) &lt; 0)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;residual_encode != (1 &lt;&lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels) - 1)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nreschsets++;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">// Pre-scale downmixing coefficients for all non-primary channel sets</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets - 1, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>--) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__xll_8c.html#aee4b2cdea5ba8a878c3fefc5b5464fd6">is_hier_dmix_chset</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *o = <a class="code" href="dca__xll_8c.html#aac69609724102b54e6f101a17be495f3">find_next_hier_dmix_chset</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">if</span> (o)</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                <a class="code" href="dca__xll_8c.html#a3fd916edd209a685169f3d17f4beb18a">prescale_down_mix</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, o);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="comment">// Determine number of active channel sets to decode</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">switch</span> (dca-&gt;<a class="code" href="struct_d_c_a_context.html#ae8d9cd8f6a1553541ee3179b526e348e">request_channel_layout</a>) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca_8h.html#a2f0710119b4e2623ae8e123c6c081076">DCA_SPEAKER_LAYOUT_STEREO</a>:</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nactivechsets = 1;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca_8h.html#a08551401e78df6f76119758a93c43536">DCA_SPEAKER_LAYOUT_5POINT0</a>:</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca_8h.html#adbe57f1b315f2ef11c538a5569ba45f4">DCA_SPEAKER_LAYOUT_5POINT1</a>:</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nactivechsets = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset[0].nchannels &lt; 5 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets &gt; 1) ? 2 : 1;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nactivechsets = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;}</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a1c23f8a684ad4c1f93b15302f20d95ca">  951</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a1c23f8a684ad4c1f93b15302f20d95ca">parse_navi_table</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;{</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordtype">int</span> chs, seg, band, navi_nb, navi_pos, *navi_ptr;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="comment">// Determine size of NAVI table</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    navi_nb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesegs * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchsets;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (navi_nb &gt; 1024) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many NAVI entries (%d)\n&quot;</span>, navi_nb);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">// Reallocate NAVI table</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga29d0252b981f157e713a68ffca52f003">av_fast_malloc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi_size, navi_nb * <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi));</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// Parse NAVI</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    navi_pos = <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    navi_ptr = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">for</span> (band = 0; band &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands; band++) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="keywordflow">for</span> (seg = 0; seg &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesegs; seg++) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="keywordflow">for</span> (chs = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; chs &lt; s-&gt;nchsets; chs++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 0;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands &gt; band) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seg_size_nbits);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                    <span class="keywordflow">if</span> (size &lt; 0 || size &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid NAVI segment size (%d bytes)\n&quot;</span>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                    }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>++;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                *navi_ptr++ = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// Byte align</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">// CRC16</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, -<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &amp; 7);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 16);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="comment">// Check CRC</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a5d17a4d9c1874da4d7e9889481bb8267">ff_dca_check_crc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, navi_pos, <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid NAVI checksum\n&quot;</span>);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#af711232c96f8631e91bc8bd629298934"> 1002</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#af711232c96f8631e91bc8bd629298934">parse_band_data</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;{</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, chs, seg, band, navi_pos, *navi_ptr;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">for</span> (chs = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; chs &lt; s-&gt;nactivechsets; chs++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a7e1c8158e00557f5ef7dcaa6532857a7">chs_alloc_msb_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) &lt; 0)</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#aee78eed4d6da8d8568ef9668e614a0c6">chs_alloc_lsb_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) &lt; 0)</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    navi_pos = <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    navi_ptr = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">for</span> (band = 0; band &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands; band++) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="keywordflow">for</span> (seg = 0; seg &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesegs; seg++) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <span class="keywordflow">for</span> (chs = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; chs &lt; s-&gt;nchsets; chs++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands &gt; band) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    navi_pos += *navi_ptr * 8;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    <span class="keywordflow">if</span> (navi_pos &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb.size_in_bits) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid NAVI position\n&quot;</span>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                    <span class="keywordflow">if</span> (chs &lt; s-&gt;nactivechsets &amp;&amp;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                        (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#afeac2d97547beabdd84fb3b0b78df35c">chs_parse_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, band, seg, navi_pos)) &lt; 0) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                        <a class="code" href="dca__xll_8c.html#aad06fea47f81c998d4711e8f8c0aae45">chs_clear_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, band, seg);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                    <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, navi_pos - <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb));</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                navi_ptr++;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;}</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a041884858fae6a872355fd1aef1edf92"> 1041</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a041884858fae6a872355fd1aef1edf92">parse_frame</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;{</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)) &lt; 0)</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#ad290efbd170b24e5705c929bfb8d1783">parse_common_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a3c257881f5573b3cae20b043b9ed60b5">parse_sub_headers</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, asset)) &lt; 0)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a1c23f8a684ad4c1f93b15302f20d95ca">parse_navi_table</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#af711232c96f8631e91bc8bd629298934">parse_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dcadec_8h.html#a7aa4895ee808a200308bb2cc1d6b340c">ff_dca_seek_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size * 8)) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Read past end of XLL frame\n&quot;</span>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    }</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;}</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f"> 1062</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f">clear_pbr</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;{</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length = 0;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_delay = 0;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a9e1e84b9fd6791c1d915358c9bf6c344"> 1068</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a9e1e84b9fd6791c1d915358c9bf6c344">copy_to_pbr</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> delay)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; <a class="code" href="dca__xll_8h.html#af3a6055ef1c9bb836e396e3413ce2e21">DCA_XLL_PBR_BUFFER_MAX</a>)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSPC);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="dca__xll_8h.html#af3a6055ef1c9bb836e396e3413ce2e21">DCA_XLL_PBR_BUFFER_MAX</a> + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>)))</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_delay = delay;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;}</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a1da8d34605220d90a3f8788994caa373"> 1082</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a1da8d34605220d90a3f8788994caa373">parse_frame_no_pbr</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;{</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a041884858fae6a872355fd1aef1edf92">parse_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, asset);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// If XLL packet data didn&#39;t start with a sync word, we must have jumped</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// right into the middle of PBR smoothing period</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN) &amp;&amp; asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a53081e1fe7230f6230021813ae39e4b9">xll_sync_present</a> &amp;&amp; asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a9aa7711cbbe3ebae6ecbc56545a32cac">xll_sync_offset</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="comment">// Skip to the next sync word in this packet</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> += asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a9aa7711cbbe3ebae6ecbc56545a32cac">xll_sync_offset</a>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a9aa7711cbbe3ebae6ecbc56545a32cac">xll_sync_offset</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="comment">// If decoding delay is set, put the frame into PBR buffer and return</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="comment">// failure code. Higher level decoder is expected to switch to lossy</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="comment">// core decoding or mute its output until decoding delay expires.</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">if</span> (asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a70f2862d09c39b01fc3c1cc132ce0621">xll_delay_nframes</a> &gt; 0) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a9e1e84b9fd6791c1d915358c9bf6c344">copy_to_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a70f2862d09c39b01fc3c1cc132ce0621">xll_delay_nframes</a>)) &lt; 0)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="comment">// No decoding delay, just parse the frame in place</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a041884858fae6a872355fd1aef1edf92">parse_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, asset);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size &gt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// If the XLL decoder didn&#39;t consume full packet, start PBR smoothing period</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a9e1e84b9fd6791c1d915358c9bf6c344">copy_to_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size, 0)) &lt; 0)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#af1ba415cd3cbf0b554511945ebe55922"> 1120</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#af1ba415cd3cbf0b554511945ebe55922">parse_frame_pbr</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; <a class="code" href="dca__xll_8h.html#af3a6055ef1c9bb836e396e3413ce2e21">DCA_XLL_PBR_BUFFER_MAX</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSPC);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length += <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">// Respect decoding delay after synchronization error</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_delay &gt; 0 &amp;&amp; --<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_delay)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a041884858fae6a872355fd1aef1edf92">parse_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length, asset)) &lt; 0)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="comment">// End of PBR smoothing period</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <a class="code" href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f">clear_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length -= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        memmove(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="comment">// For now, throw out all PBR state on failure.</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="comment">// Perhaps we can be smarter and try to resync somehow.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <a class="code" href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f">clear_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="dca__xll_8h.html#ac29d085738f310adfce23647c375308c"> 1161</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#ac29d085738f310adfce23647c375308c">ff_dca_xll_parse</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd_stream_id != asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a402582d1ffa8d5b63ec8647244adea41">hd_stream_id</a>) {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <a class="code" href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f">clear_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd_stream_id = asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a402582d1ffa8d5b63ec8647244adea41">hd_stream_id</a>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_length)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#af1ba415cd3cbf0b554511945ebe55922">parse_frame_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> + asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a3ee93c927347bfa17181a29b0b3b8b1f">xll_offset</a>, asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a659503d9d32f9c48cca83ff62784a73a">xll_size</a>, asset);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a1da8d34605220d90a3f8788994caa373">parse_frame_no_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> + asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a3ee93c927347bfa17181a29b0b3b8b1f">xll_offset</a>, asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a659503d9d32f9c48cca83ff62784a73a">xll_size</a>, asset);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;}</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#acc9a29355670116a7046cf2c28c03026"> 1178</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#acc9a29355670116a7046cf2c28c03026">undo_down_mix</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *o, <span class="keywordtype">int</span> band)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;{</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, nchannels = 0, *coeff_ptr = o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#acf71049f251432f32690ee27c7f29de1">dmix_coeff</a>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; i &lt; s-&gt;nactivechsets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(band &lt; c-&gt;nfreqbands);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; j++) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <span class="keywordflow">for</span> (k = 0; k &lt; o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a6efc5f379537ef321d29bd936a719285">nchannels</a>; k++) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = *coeff_ptr++;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;dmix_sub(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band].msb_sample_buffer[j],</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                        o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#aa4fe21d3e4cc47b23690ad54ed1cf546">bands</a>[band].<a class="code" href="struct_d_c_a_xll_band.html#a330c999996ed595c78802bb8302d3319">msb_sample_buffer</a>[k],</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                        <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    <span class="keywordflow">if</span> (band)</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;dmix_sub(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;deci_history[j],</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                            o-&gt;deci_history[k],</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                            <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>, <a class="code" href="dca__xll_8h.html#ab22192c7e87747e019d65db2040cb432">DCA_XLL_DECI_HISTORY_MAX</a>);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        nchannels += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">if</span> (nchannels &gt;= o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#ae09c2c746ccc867b5b055339d696f265">hier_ofs</a>)</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;}</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#ab3f5ee5b501d5c5f1519711aa4a624f2"> 1209</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#ab3f5ee5b501d5c5f1519711aa4a624f2">scale_down_mix</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *o, <span class="keywordtype">int</span> band)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;{</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, nchannels = 0;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; i &lt; s-&gt;nactivechsets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_chset)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(band &lt; c-&gt;nfreqbands);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; j++) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            <span class="keywordtype">int</span> scale = o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#ab31fada43d7f7259df60eda2fad3cef3">dmix_scale</a>[nchannels++];</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            <span class="keywordflow">if</span> (scale != (1 &lt;&lt; 15)) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;dmix_scale(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[band].msb_sample_buffer[j],</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                      scale, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                <span class="keywordflow">if</span> (band)</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;dmix_scale(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;deci_history[j],</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                          scale, <a class="code" href="dca__xll_8h.html#ab22192c7e87747e019d65db2040cb432">DCA_XLL_DECI_HISTORY_MAX</a>);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span> (nchannels &gt;= o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#ae09c2c746ccc867b5b055339d696f265">hier_ofs</a>)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;}</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment">// Clear all band data and replace non-residual encoded channels with lossy</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">// counterparts</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#adaf69bd9402a2fcab7c71a2a1f1ac855"> 1237</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#adaf69bd9402a2fcab7c71a2a1f1ac855">force_lossy_output</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;{</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="struct_d_c_a_context.html">DCAContext</a> *dca = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;priv_data;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordtype">int</span> band, ch;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">for</span> (band = 0; band &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands; band++)</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <a class="code" href="dca__xll_8c.html#aad06fea47f81c998d4711e8f8c0aae45">chs_clear_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, band, -1);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;residual_encode &amp; (1 &lt;&lt; ch)))</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__core_8h.html#a6a4860359efdf0eeb259469feb33e1a8">ff_dca_core_map_spkr</a>(&amp;dca-&gt;<a class="code" href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">core</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[ch]) &lt; 0)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;residual_encode &amp;= ~(1 &lt;&lt; ch);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"><a class="line" href="dca__xll_8c.html#a02922b09de30359f0af918477e26204e"> 1254</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a02922b09de30359f0af918477e26204e">combine_residual_frame</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="struct_d_c_a_context.html">DCAContext</a> *dca = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;priv_data;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordtype">int</span> ch, nsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *o;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">// Verify that core is compatible</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordflow">if</span> (!(dca-&gt;<a class="code" href="struct_d_c_a_context.html#ae2d3bea87eec708de8bfadebadd4c543">packet</a> &amp; <a class="code" href="dcadec_8h.html#a078dd1a7048dea9e7a7e6e8e520ba7ba">DCA_PACKET_CORE</a>)) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Residual encoded channels are present without core\n&quot;</span>);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq != dca-&gt;<a class="code" href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">core</a>.<a class="code" href="struct_d_c_a_core_decoder.html#a9d2e620d8548f5cc4f50f8f6f1dee91b">output_rate</a>) {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Sample rate mismatch between core (%d Hz) and XLL (%d Hz)\n&quot;</span>, dca-&gt;<a class="code" href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">core</a>.<a class="code" href="struct_d_c_a_core_decoder.html#a9d2e620d8548f5cc4f50f8f6f1dee91b">output_rate</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;freq);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">if</span> (nsamples != dca-&gt;<a class="code" href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">core</a>.<a class="code" href="struct_d_c_a_core_decoder.html#a56429b3703dfbad4837269d34ca0400f">npcmsamples</a>) {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Number of samples per frame mismatch between core (%d) and XLL (%d)\n&quot;</span>, dca-&gt;<a class="code" href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">core</a>.<a class="code" href="struct_d_c_a_core_decoder.html#a56429b3703dfbad4837269d34ca0400f">npcmsamples</a>, nsamples);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="comment">// See if this channel set is downmixed and find the next channel set in</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="comment">// hierarchy. If downmixed, undo core pre-scaling before combining with</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// residual (residual is not scaled).</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    o = <a class="code" href="dca__xll_8c.html#aac69609724102b54e6f101a17be495f3">find_next_hier_dmix_chset</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">// Reduce core bit width and combine with residual</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordtype">int</span> n, spkr, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>, <a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, *dst;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;residual_encode &amp; (1 &lt;&lt; ch))</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <span class="comment">// Map this channel to core speaker</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        spkr = <a class="code" href="dca__core_8h.html#a6a4860359efdf0eeb259469feb33e1a8">ff_dca_core_map_spkr</a>(&amp;dca-&gt;<a class="code" href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">core</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[ch]);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="keywordflow">if</span> (spkr &lt; 0) {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Residual encoded channel (%d) references unavailable core channel\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_remap[ch]);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="comment">// Account for LSB width</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = 24 - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;pcm_bit_res + <a class="code" href="dca__xll_8c.html#aae93b4034fb07628fba75799bb30a59d">chs_get_lsb_width</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 0, ch);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> &gt; 24) {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid core shift (%d bits)\n&quot;</span>, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a> = <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> &gt; 0 ? 1 &lt;&lt; (<a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> - 1) : 0;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = dca-&gt;<a class="code" href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">core</a>.<a class="code" href="struct_d_c_a_core_decoder.html#afc315de8474ee67e3f7d7caa2600760c">output_samples</a>[spkr];</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        dst = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[0].msb_sample_buffer[ch];</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">if</span> (o) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <span class="comment">// Undo embedded core downmix pre-scaling</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="keywordtype">int</span> scale_inv = o-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#ad4733afa58a9183fec246ec1985fdef4">dmix_scale_inv</a>[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hier_ofs + ch];</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            <span class="keywordflow">for</span> (n = 0; n &lt; nsamples; n++)</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                dst[n] += (<a class="code" href="dct32__template_8c.html#a225b239979aefa68a2148237d74eb419">SUINT</a>)<a class="code" href="dcamath_8h.html#ae04f8402b5672ebea874e600343bba6e">clip23</a>((<a class="code" href="dcamath_8h.html#a2877d50795e53403f5a2626a1ea9b9bc">mul16</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[n], scale_inv) + <a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a>) &gt;&gt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <span class="comment">// No downmix scaling</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordflow">for</span> (n = 0; n &lt; nsamples; n++)</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                dst[n] += (<span class="keywordtype">unsigned</span>)((<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[n] + <a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a>) &gt;&gt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;}</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"><a class="line" href="dca__xll_8h.html#a284e7bae25ab2fc7ad6116e48cb334aa"> 1322</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dca__xll_8c.html#a284e7bae25ab2fc7ad6116e48cb334aa">ff_dca_xll_filter_frame</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;{</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="struct_d_c_a_context.html">DCAContext</a> *dca = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset = &amp;dca-&gt;<a class="code" href="struct_d_c_a_context.html#a811c1b39a174f2c0e399f1c16b76f1f7">exss</a>.<a class="code" href="struct_d_c_a_exss_parser.html#ad484564b59536dfba4398c74914e1214">assets</a>[0];</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *p = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset[0], *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keyword">enum</span> <a class="code" href="group__channel__mask__c.html#gabd576ea664e3ac5d31f3362064fe13e6">AVMatrixEncoding</a> matrix_encoding = <a class="code" href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6a04179fd7b3339556603020ae88e02793">AV_MATRIX_ENCODING_NONE</a>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>, nsamples, request_mask;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordtype">int</span> ch_remap[<a class="code" href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a1e4fa8d97cad9e358a60889cfac84c1b">DCA_SPEAKER_COUNT</a>];</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="comment">// Force lossy downmixed output during recovery</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordflow">if</span> (dca-&gt;<a class="code" href="struct_d_c_a_context.html#ae2d3bea87eec708de8bfadebadd4c543">packet</a> &amp; <a class="code" href="dcadec_8h.html#a4bb2fe6af451bb77fdca99b1d591f678">DCA_PACKET_RECOVERY</a>) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; i &lt; s-&gt;nchsets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordflow">if</span> (i &lt; s-&gt;nactivechsets)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <a class="code" href="dca__xll_8c.html#adaf69bd9402a2fcab7c71a2a1f1ac855">force_lossy_output</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;primary_chset)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dmix_embedded = 0;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;scalable_lsbs = 0;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fixed_lsb_width = 0;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="comment">// Filter frequency bands for active channel sets</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask = 0;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; i &lt; s-&gt;nactivechsets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <a class="code" href="dca__xll_8c.html#a60058e30b348701dc79038006ba2f7dc">chs_filter_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 0);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;residual_encode != (1 &lt;&lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nchannels) - 1</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            &amp;&amp; (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a02922b09de30359f0af918477e26204e">combine_residual_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) &lt; 0)</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;scalable_lsbs)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            <a class="code" href="dca__xll_8c.html#ade474170238a397a390db0a0ce64e32b">chs_assemble_msbs_lsbs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 0);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands &gt; 1) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            <a class="code" href="dca__xll_8c.html#a60058e30b348701dc79038006ba2f7dc">chs_filter_band_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 1);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            <a class="code" href="dca__xll_8c.html#ade474170238a397a390db0a0ce64e32b">chs_assemble_msbs_lsbs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 1);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask |= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ch_mask;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">// Undo hierarchial downmix and/or apply scaling</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset[1]; i &lt; s-&gt;nchsets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="dca__xll_8c.html#aee4b2cdea5ba8a878c3fefc5b5464fd6">is_hier_dmix_chset</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nactivechsets) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands; j++)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[j].dmix_embedded)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                    <a class="code" href="dca__xll_8c.html#ab3f5ee5b501d5c5f1519711aa4a624f2">scale_down_mix</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, j);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nfreqbands; j++)</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;bands[j].dmix_embedded)</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                <a class="code" href="dca__xll_8c.html#acc9a29355670116a7046cf2c28c03026">undo_down_mix</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, j);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="comment">// Assemble frequency bands for active channel sets</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands &gt; 1) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nactivechsets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__xll_8c.html#a6116daa686cbeeac3ab3cb11c58c55a5">chs_assemble_freq_bands</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])) &lt; 0)</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="comment">// Normalize to regular 5.1 layout if downmixing</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> (dca-&gt;<a class="code" href="struct_d_c_a_context.html#ae8d9cd8f6a1553541ee3179b526e348e">request_channel_layout</a>) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask &amp; <a class="code" href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0aee559bb592f14e362b6ef3aac719e2f1">DCA_SPEAKER_MASK_Lss</a>) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples[<a class="code" href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977aa58610923274785db9614ef7bdf73d7d">DCA_SPEAKER_Ls</a>] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples[<a class="code" href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a5171a44280d154af08afaaf402f7da63">DCA_SPEAKER_Lss</a>];</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask &amp; ~<a class="code" href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0aee559bb592f14e362b6ef3aac719e2f1">DCA_SPEAKER_MASK_Lss</a>) | <a class="code" href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0a6d253148ede6e2cc69265e39b639f48c">DCA_SPEAKER_MASK_Ls</a>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask &amp; <a class="code" href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0ac5c9e407f5e515c3c1d02c7a93d0d3bf">DCA_SPEAKER_MASK_Rss</a>) {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples[<a class="code" href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a1d2cc7a2476faef8c28071aa1a5da232">DCA_SPEAKER_Rs</a>] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples[<a class="code" href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a988da5f734b1f0741a309657047c0b5d">DCA_SPEAKER_Rss</a>];</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask &amp; ~<a class="code" href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0ac5c9e407f5e515c3c1d02c7a93d0d3bf">DCA_SPEAKER_MASK_Rss</a>) | <a class="code" href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0a9b55f262973a0287b5cefd9b60c548ab">DCA_SPEAKER_MASK_Rs</a>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="comment">// Handle downmixing to stereo request</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">if</span> (dca-&gt;<a class="code" href="struct_d_c_a_context.html#ae8d9cd8f6a1553541ee3179b526e348e">request_channel_layout</a> == <a class="code" href="dca_8h.html#a2f0710119b4e2623ae8e123c6c081076">DCA_SPEAKER_LAYOUT_STEREO</a></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        &amp;&amp; <a class="code" href="dca_8h.html#a420c4b93b787a2f63510c8c104d1ef3f">DCA_HAS_STEREO</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask) &amp;&amp; p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a9b24292cb54117a7a75c8f1951bf8b9f">dmix_embedded</a></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        &amp;&amp; (p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a35125f782ca89ac872dd38a8d135c6dd">dmix_type</a> == <a class="code" href="dca_8h.html#a0872a39dacbe34ba28b91cd792fc3517a3ecd95f385802ae64fe4ce53fdbdc8c0">DCA_DMIX_TYPE_LoRo</a> ||</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a35125f782ca89ac872dd38a8d135c6dd">dmix_type</a> == <a class="code" href="dca_8h.html#a0872a39dacbe34ba28b91cd792fc3517a574967659b7e62623caa9474a3384538">DCA_DMIX_TYPE_LtRt</a>))</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        request_mask = <a class="code" href="dca_8h.html#a2f0710119b4e2623ae8e123c6c081076">DCA_SPEAKER_LAYOUT_STEREO</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        request_mask = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="dcadec_8c.html#a7dc6514aeec32e4e3e63c0b061dd114e">ff_dca_set_channel_layout</a>(avctx, ch_remap, request_mask))</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> = p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a2996c23d1011a9d66bb412327c533888">freq</a> &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands - 1);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">switch</span> (p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#aa3c3726a15c116c3e28e64b217afe97a">storage_bit_res</a>) {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a> = <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a35eaaad9da207aa4e63fa02fd67fae68">AV_SAMPLE_FMT_S16P</a>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = 16 - p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a7dc06398011ab42822414dee6c5dff3d">pcm_bit_res</a>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a> = <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aa215d25dfbf927aa362c837fed4b15a8">AV_SAMPLE_FMT_S32P</a>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = 24 - p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a7dc06398011ab42822414dee6c5dff3d">pcm_bit_res</a>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a889b84d5b3657df4a4e45b17b87848f5">bits_per_raw_sample</a> = p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#aa3c3726a15c116c3e28e64b217afe97a">storage_bit_res</a>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> = <a class="code" href="avcodec_8h.html#ab3803f4dfc41e8d801a3f65082484add">FF_PROFILE_DTS_HD_MA</a>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> = 0;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples = nsamples = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nframesamples &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nfreqbands - 1);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="comment">// Downmix primary channel set to stereo</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">if</span> (request_mask != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <a class="code" href="dcadec_8c.html#af2290f0bd8e3076a78f44daf07017288">ff_dca_downmix_to_stereo_fixed</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples,</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                       p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#acf71049f251432f32690ee27c7f29de1">dmix_coeff</a>, nsamples,</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                                       <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    }</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_samples[ch_remap[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;format == <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a35eaaad9da207aa4e63fa02fd67fae68">AV_SAMPLE_FMT_S16P</a>) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            int16_t *plane = (int16_t *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (k = 0; k &lt; nsamples; k++)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                plane[k] = av_clip_int16(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] * (<a class="code" href="dct32__template_8c.html#a225b239979aefa68a2148237d74eb419">SUINT</a>)(1 &lt;&lt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>));</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *plane = (<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (k = 0; k &lt; nsamples; k++)</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                plane[k] = <a class="code" href="dcamath_8h.html#ae04f8402b5672ebea874e600343bba6e">clip23</a>(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] * (<a class="code" href="dct32__template_8c.html#a225b239979aefa68a2148237d74eb419">SUINT</a>)(1 &lt;&lt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>)) * (1 &lt;&lt; 8);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">if</span> (!asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#ac7779c9e8a15d0a234e416be8ab8c483">one_to_one_map_ch_to_spkr</a>) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">if</span> (asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a9a98af3d96ac2c794a8c108886465d5e">representation_type</a> == <a class="code" href="dca_8h.html#aa6422b34f9d5c38e5739f222844549e3a2b4d47f3c6e1b0d7ab2888ec94ab5225">DCA_REPR_TYPE_LtRt</a>)</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            matrix_encoding = <a class="code" href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6a0578f715ed49986a6e4c40884c174dbd">AV_MATRIX_ENCODING_DOLBY</a>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a9a98af3d96ac2c794a8c108886465d5e">representation_type</a> == <a class="code" href="dca_8h.html#aa6422b34f9d5c38e5739f222844549e3ab1e79bf354a914b445943ac23b3d13cd">DCA_REPR_TYPE_LhRh</a>)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            matrix_encoding = <a class="code" href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6ad9089736c1dd449617a2805d37e502d3">AV_MATRIX_ENCODING_DOLBYHEADPHONE</a>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (request_mask != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;output_mask &amp;&amp; p-&gt;<a class="code" href="struct_d_c_a_xll_ch_set.html#a35125f782ca89ac872dd38a8d135c6dd">dmix_type</a> == <a class="code" href="dca_8h.html#a0872a39dacbe34ba28b91cd792fc3517a574967659b7e62623caa9474a3384538">DCA_DMIX_TYPE_LtRt</a>) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        matrix_encoding = <a class="code" href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6a0578f715ed49986a6e4c40884c174dbd">AV_MATRIX_ENCODING_DOLBY</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2internal_8h.html#a10de3eae439940d0ae3790cc60510423">ff_side_data_update_matrix_encoding</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, matrix_encoding)) &lt; 0)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;}</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="dca__xll_8h.html#a85e2076285724d9df938e2306af6bd15"> 1471</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#a85e2076285724d9df938e2306af6bd15">ff_dca_xll_flush</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f">clear_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"><a class="line" href="dca__xll_8h.html#afd381997afb3b122eafc3094b937e975"> 1476</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="dca__xll_8c.html#afd381997afb3b122eafc3094b937e975">ff_dca_xll_close</a>(<a class="code" href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;{</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <a class="code" href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chset; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__xll_8h.html#ac94aae10feb91bd2e08ff004c3b55272">DCA_XLL_CHSETS_MAX</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>++) {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="dca__xll_8h.html#aebfea19182c46475323b827a2753efb4">DCA_XLL_SAMPLE_BUFFERS_MAX</a>; j++) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_buffer[j]);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample_size[j] = 0;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;navi_size = 0;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pbr_buffer);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f">clear_pbr</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="adcamath_8h_html"><div class="ttname"><a href="dcamath_8h.html">dcamath.h</a></div></div>
<div class="ttc" id="adca_8h_html_a03ab95140fa7b80a5be42e1a08038977a5171a44280d154af08afaaf402f7da63"><div class="ttname"><a href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a5171a44280d154af08afaaf402f7da63">DCA_SPEAKER_Lss</a></div><div class="ttdeci">@ DCA_SPEAKER_Lss</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00081">dca.h:81</a></div></div>
<div class="ttc" id="adca__xll_8c_html_aac69609724102b54e6f101a17be495f3"><div class="ttname"><a href="dca__xll_8c.html#aac69609724102b54e6f101a17be495f3">find_next_hier_dmix_chset</a></div><div class="ttdeci">static DCAXllChSet * find_next_hier_dmix_chset(DCAXllDecoder *s, DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00877">dca_xll.c:877</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a47c3a35ba8dece0168d84181f224b55d"><div class="ttname"><a href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a></div><div class="ttdeci">static void skip_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00291">get_bits.h:291</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b53fda85ad61baa345edbd96cb8a33c"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">AVCodecContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00576">avcodec.h:576</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a44d39cea027a76211f31e3bf2e3e68a4"><div class="ttname"><a href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a></div><div class="ttdeci">static int get_bits_left(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00849">get_bits.h:849</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a761eebdde7e8b6d7c3cd1ffb7ead9de3"><div class="ttname"><a href="dca__xll_8c.html#a761eebdde7e8b6d7c3cd1ffb7ead9de3">parse_dmix_coeffs</a></div><div class="ttdeci">static int parse_dmix_coeffs(DCAXllDecoder *s, DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00071">dca_xll.c:71</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="adca__xll_8h_html_ab22192c7e87747e019d65db2040cb432"><div class="ttname"><a href="dca__xll_8h.html#ab22192c7e87747e019d65db2040cb432">DCA_XLL_DECI_HISTORY_MAX</a></div><div class="ttdeci">#define DCA_XLL_DECI_HISTORY_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00038">dca_xll.h:38</a></div></div>
<div class="ttc" id="astruct_d_c_a_core_decoder_html_a56429b3703dfbad4837269d34ca0400f"><div class="ttname"><a href="struct_d_c_a_core_decoder.html#a56429b3703dfbad4837269d34ca0400f">DCACoreDecoder::npcmsamples</a></div><div class="ttdeci">int npcmsamples</div><div class="ttdoc">Number of PCM samples per channel.</div><div class="ttdef"><b>Definition:</b> <a href="dca__core_8h_source.html#l00210">dca_core.h:210</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="adcamath_8h_html_a6cc96ebf5fd81c34589d956f06e0cb32"><div class="ttname"><a href="dcamath_8h.html#a6cc96ebf5fd81c34589d956f06e0cb32">norm16</a></div><div class="ttdeci">static int32_t norm16(int64_t a)</div><div class="ttdef"><b>Definition:</b> <a href="dcamath_8h_source.html#l00041">dcamath.h:41</a></div></div>
<div class="ttc" id="adca_8h_html_a08551401e78df6f76119758a93c43536"><div class="ttname"><a href="dca_8h.html#a08551401e78df6f76119758a93c43536">DCA_SPEAKER_LAYOUT_5POINT0</a></div><div class="ttdeci">#define DCA_SPEAKER_LAYOUT_5POINT0</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00129">dca.h:129</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_band_html"><div class="ttname"><a href="struct_d_c_a_xll_band.html">DCAXllBand</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00044">dca_xll.h:44</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_a35125f782ca89ac872dd38a8d135c6dd"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#a35125f782ca89ac872dd38a8d135c6dd">DCAXllChSet::dmix_type</a></div><div class="ttdeci">int dmix_type</div><div class="ttdoc">Primary channel set downmix type.</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00075">dca_xll.h:75</a></div></div>
<div class="ttc" id="adcamath_8h_html_af6cd47e271e2a1a3c1547c28a83ad2e3"><div class="ttname"><a href="dcamath_8h.html#af6cd47e271e2a1a3c1547c28a83ad2e3">mul15</a></div><div class="ttdeci">static int32_t mul15(int32_t a, int32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="dcamath_8h_source.html#l00046">dcamath.h:46</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a20dc15e40874f46af0d2b4ad34aed9a7"><div class="ttname"><a href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a></div><div class="ttdeci">static unsigned int get_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00546">get_bits.h:546</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_parser_html_ad484564b59536dfba4398c74914e1214"><div class="ttname"><a href="struct_d_c_a_exss_parser.html#ad484564b59536dfba4398c74914e1214">DCAExssParser::assets</a></div><div class="ttdeci">DCAExssAsset assets[1]</div><div class="ttdoc">Audio asset descriptors.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00087">dca_exss.h:87</a></div></div>
<div class="ttc" id="adca_8h_html_add865488e8c09e0fe9e2ea43d03f5cd0a9b55f262973a0287b5cefd9b60c548ab"><div class="ttname"><a href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0a9b55f262973a0287b5cefd9b60c548ab">DCA_SPEAKER_MASK_Rs</a></div><div class="ttdeci">@ DCA_SPEAKER_MASK_Rs</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00096">dca.h:96</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a6116daa686cbeeac3ab3cb11c58c55a5"><div class="ttname"><a href="dca__xll_8c.html#a6116daa686cbeeac3ab3cb11c58c55a5">chs_assemble_freq_bands</a></div><div class="ttdeci">static int chs_assemble_freq_bands(DCAXllDecoder *s, DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00729">dca_xll.c:729</a></div></div>
<div class="ttc" id="adca__xll_8c_html_ac216f016bb90b60b69dd77fae7f827d0"><div class="ttname"><a href="dca__xll_8c.html#ac216f016bb90b60b69dd77fae7f827d0">get_array</a></div><div class="ttdeci">static void get_array(GetBitContext *gb, int32_t *array, int size, int n)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00045">dca_xll.c:45</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aac3f793480c01f793f2acc9eba031ff5"><div class="ttname"><a href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a></div><div class="ttdeci">static int get_bits_count(const GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00219">get_bits.h:219</a></div></div>
<div class="ttc" id="adca__xll_8c_html_ab3f5ee5b501d5c5f1519711aa4a624f2"><div class="ttname"><a href="dca__xll_8c.html#ab3f5ee5b501d5c5f1519711aa4a624f2">scale_down_mix</a></div><div class="ttdeci">static void scale_down_mix(DCAXllDecoder *s, DCAXllChSet *o, int band)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01209">dca_xll.c:1209</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_aa3c3726a15c116c3e28e64b217afe97a"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#aa3c3726a15c116c3e28e64b217afe97a">DCAXllChSet::storage_bit_res</a></div><div class="ttdeci">int storage_bit_res</div><div class="ttdoc">Storage bit resolution (16 or 24)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00069">dca_xll.h:69</a></div></div>
<div class="ttc" id="adca__xll_8c_html_ac29d085738f310adfce23647c375308c"><div class="ttname"><a href="dca__xll_8c.html#ac29d085738f310adfce23647c375308c">ff_dca_xll_parse</a></div><div class="ttdeci">int ff_dca_xll_parse(DCAXllDecoder *s, uint8_t *data, DCAExssAsset *asset)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01161">dca_xll.c:1161</a></div></div>
<div class="ttc" id="adca_8h_html_add865488e8c09e0fe9e2ea43d03f5cd0aee559bb592f14e362b6ef3aac719e2f1"><div class="ttname"><a href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0aee559bb592f14e362b6ef3aac719e2f1">DCA_SPEAKER_MASK_Lss</a></div><div class="ttdeci">@ DCA_SPEAKER_MASK_Lss</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00101">dca.h:101</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_acf71049f251432f32690ee27c7f29de1"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#acf71049f251432f32690ee27c7f29de1">DCAXllChSet::dmix_coeff</a></div><div class="ttdeci">int dmix_coeff[DCA_XLL_DMIX_COEFFS_MAX]</div><div class="ttdoc">Downmixing coefficients.</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00078">dca_xll.h:78</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5aa215d25dfbf927aa362c837fed4b15a8"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aa215d25dfbf927aa362c837fed4b15a8">AV_SAMPLE_FMT_S32P</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S32P</div><div class="ttdoc">signed 32 bits, planar</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00068">samplefmt.h:68</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="adca_8h_html_a2f0710119b4e2623ae8e123c6c081076"><div class="ttname"><a href="dca_8h.html#a2f0710119b4e2623ae8e123c6c081076">DCA_SPEAKER_LAYOUT_STEREO</a></div><div class="ttdeci">#define DCA_SPEAKER_LAYOUT_STEREO</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00123">dca.h:123</a></div></div>
<div class="ttc" id="adca__xll_8c_html_aee4b2cdea5ba8a878c3fefc5b5464fd6"><div class="ttname"><a href="dca__xll_8c.html#aee4b2cdea5ba8a878c3fefc5b5464fd6">is_hier_dmix_chset</a></div><div class="ttdeci">static int is_hier_dmix_chset(DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00872">dca_xll.c:872</a></div></div>
<div class="ttc" id="adcadec_8h_html_a7aa4895ee808a200308bb2cc1d6b340c"><div class="ttname"><a href="dcadec_8h.html#a7aa4895ee808a200308bb2cc1d6b340c">ff_dca_seek_bits</a></div><div class="ttdeci">static int ff_dca_seek_bits(GetBitContext *s, int p)</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00089">dcadec.h:89</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="adca__xll_8c_html_ade474170238a397a390db0a0ce64e32b"><div class="ttname"><a href="dca__xll_8c.html#ade474170238a397a390db0a0ce64e32b">chs_assemble_msbs_lsbs</a></div><div class="ttdeci">static void chs_assemble_msbs_lsbs(DCAXllDecoder *s, DCAXllChSet *c, int band)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00707">dca_xll.c:707</a></div></div>
<div class="ttc" id="adcadec_8h_html_a5d17a4d9c1874da4d7e9889481bb8267"><div class="ttname"><a href="dcadec_8h.html#a5d17a4d9c1874da4d7e9889481bb8267">ff_dca_check_crc</a></div><div class="ttdeci">static int ff_dca_check_crc(AVCodecContext *avctx, GetBitContext *s, int p1, int p2)</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00075">dcadec.h:75</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="adcadata_8h_html_ad5dfe69b77120eb8c3b4f1053e6fe08d"><div class="ttname"><a href="dcadata_8h.html#ad5dfe69b77120eb8c3b4f1053e6fe08d">FF_DCA_DMIXTABLE_OFFSET</a></div><div class="ttdeci">#define FF_DCA_DMIXTABLE_OFFSET</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8h_source.html#l00071">dcadata.h:71</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a1c23f8a684ad4c1f93b15302f20d95ca"><div class="ttname"><a href="dca__xll_8c.html#a1c23f8a684ad4c1f93b15302f20d95ca">parse_navi_table</a></div><div class="ttdeci">static int parse_navi_table(DCAXllDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00951">dca_xll.c:951</a></div></div>
<div class="ttc" id="adca__xll_8h_html_af3a6055ef1c9bb836e396e3413ce2e21"><div class="ttname"><a href="dca__xll_8h.html#af3a6055ef1c9bb836e396e3413ce2e21">DCA_XLL_PBR_BUFFER_MAX</a></div><div class="ttdeci">#define DCA_XLL_PBR_BUFFER_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00041">dca_xll.h:41</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_aa4fe21d3e4cc47b23690ad54ed1cf546"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#aa4fe21d3e4cc47b23690ad54ed1cf546">DCAXllChSet::bands</a></div><div class="ttdeci">DCAXllBand bands[DCA_XLL_BANDS_MAX]</div><div class="ttdoc">Frequency bands.</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00087">dca_xll.h:87</a></div></div>
<div class="ttc" id="adcadec_8h_html_a4bb2fe6af451bb77fdca99b1d591f678"><div class="ttname"><a href="dcadec_8h.html#a4bb2fe6af451bb77fdca99b1d591f678">DCA_PACKET_RECOVERY</a></div><div class="ttdeci">#define DCA_PACKET_RECOVERY</div><div class="ttdoc">Sync error recovery flag.</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00043">dcadec.h:43</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00467">get_bits.h:467</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="adca__xll_8c_html_acc9a29355670116a7046cf2c28c03026"><div class="ttname"><a href="dca__xll_8c.html#acc9a29355670116a7046cf2c28c03026">undo_down_mix</a></div><div class="ttdeci">static void undo_down_mix(DCAXllDecoder *s, DCAXllChSet *o, int band)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01178">dca_xll.c:1178</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a402582d1ffa8d5b63ec8647244adea41"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a402582d1ffa8d5b63ec8647244adea41">DCAExssAsset::hd_stream_id</a></div><div class="ttdeci">int hd_stream_id</div><div class="ttdoc">DTS-HD stream ID.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00068">dca_exss.h:68</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a9a98af3d96ac2c794a8c108886465d5e"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a9a98af3d96ac2c794a8c108886465d5e">DCAExssAsset::representation_type</a></div><div class="ttdeci">int representation_type</div><div class="ttdoc">Representation type.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00042">dca_exss.h:42</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="astruct_d_c_a_context_html_a811c1b39a174f2c0e399f1c16b76f1f7"><div class="ttname"><a href="struct_d_c_a_context.html#a811c1b39a174f2c0e399f1c16b76f1f7">DCAContext::exss</a></div><div class="ttdeci">DCAExssParser exss</div><div class="ttdoc">EXSS parser context.</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00051">dcadec.h:51</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_a0e9350a1c3738d4e11b928b3db36ccac"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#a0e9350a1c3738d4e11b928b3db36ccac">DCAXllChSet::nfreqbands</a></div><div class="ttdeci">int nfreqbands</div><div class="ttdoc">Number of frequency bands (1 or 2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00084">dca_xll.h:84</a></div></div>
<div class="ttc" id="adca__xll_8c_html_ad290efbd170b24e5705c929bfb8d1783"><div class="ttname"><a href="dca__xll_8c.html#ad290efbd170b24e5705c929bfb8d1783">parse_common_header</a></div><div class="ttdeci">static int parse_common_header(DCAXllDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00765">dca_xll.c:765</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a7e1c8158e00557f5ef7dcaa6532857a7"><div class="ttname"><a href="dca__xll_8c.html#a7e1c8158e00557f5ef7dcaa6532857a7">chs_alloc_msb_band_data</a></div><div class="ttdeci">static int chs_alloc_msb_band_data(DCAXllDecoder *s, DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00386">dca_xll.c:386</a></div></div>
<div class="ttc" id="adcadata_8h_html"><div class="ttname"><a href="dcadata_8h.html">dcadata.h</a></div></div>
<div class="ttc" id="adcamath_8h_html_ae04f8402b5672ebea874e600343bba6e"><div class="ttname"><a href="dcamath_8h.html#ae04f8402b5672ebea874e600343bba6e">clip23</a></div><div class="ttdeci">static int32_t clip23(int32_t a)</div><div class="ttdef"><b>Definition:</b> <a href="dcamath_8h_source.html#l00054">dcamath.h:54</a></div></div>
<div class="ttc" id="adca__syncwords_8h_html_a7b264d089d75a4b0a41f2e24742280e1"><div class="ttname"><a href="dca__syncwords_8h.html#a7b264d089d75a4b0a41f2e24742280e1">DCA_SYNCWORD_XLL</a></div><div class="ttdeci">#define DCA_SYNCWORD_XLL</div><div class="ttdef"><b>Definition:</b> <a href="dca__syncwords_8h_source.html#l00031">dca_syncwords.h:31</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html">DCAXllChSet</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00064">dca_xll.h:64</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ggabd576ea664e3ac5d31f3362064fe13e6a0578f715ed49986a6e4c40884c174dbd"><div class="ttname"><a href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6a0578f715ed49986a6e4c40884c174dbd">AV_MATRIX_ENCODING_DOLBY</a></div><div class="ttdeci">@ AV_MATRIX_ENCODING_DOLBY</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00122">channel_layout.h:122</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a9e54e9e2ccf671c1f79867e19ce432e9"><div class="ttname"><a href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a></div><div class="ttdeci">static int init_get_bits8(GetBitContext *s, const uint8_t *buffer, int byte_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00677">get_bits.h:677</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_ac7779c9e8a15d0a234e416be8ab8c483"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#ac7779c9e8a15d0a234e416be8ab8c483">DCAExssAsset::one_to_one_map_ch_to_spkr</a></div><div class="ttdeci">int one_to_one_map_ch_to_spkr</div><div class="ttdoc">One to one channel to speaker mapping flag.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00037">dca_exss.h:37</a></div></div>
<div class="ttc" id="adca_8h_html_a0872a39dacbe34ba28b91cd792fc3517a3ecd95f385802ae64fe4ce53fdbdc8c0"><div class="ttname"><a href="dca_8h.html#a0872a39dacbe34ba28b91cd792fc3517a3ecd95f385802ae64fe4ce53fdbdc8c0">DCA_DMIX_TYPE_LoRo</a></div><div class="ttdeci">@ DCA_DMIX_TYPE_LoRo</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00188">dca.h:188</a></div></div>
<div class="ttc" id="astruct_d_c_a_context_html"><div class="ttname"><a href="struct_d_c_a_context.html">DCAContext</a></div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00046">dcadec.h:46</a></div></div>
<div class="ttc" id="adcadec_8c_html_af2290f0bd8e3076a78f44daf07017288"><div class="ttname"><a href="dcadec_8c.html#af2290f0bd8e3076a78f44daf07017288">ff_dca_downmix_to_stereo_fixed</a></div><div class="ttdeci">void ff_dca_downmix_to_stereo_fixed(DCADSPContext *dcadsp, int32_t **samples, int *coeff_l, int nsamples, int ch_mask)</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8c_source.html#l00079">dcadec.c:79</a></div></div>
<div class="ttc" id="adca_8h_html_a03ab95140fa7b80a5be42e1a08038977a988da5f734b1f0741a309657047c0b5d"><div class="ttname"><a href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a988da5f734b1f0741a309657047c0b5d">DCA_SPEAKER_Rss</a></div><div class="ttdeci">@ DCA_SPEAKER_Rss</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00081">dca.h:81</a></div></div>
<div class="ttc" id="adca__xll_8h_html_afaa2bb1a917b50e5bce906ef6651dca9"><div class="ttname"><a href="dca__xll_8h.html#afaa2bb1a917b50e5bce906ef6651dca9">DCA_XLL_ADAPT_PRED_ORDER_MAX</a></div><div class="ttdeci">#define DCA_XLL_ADAPT_PRED_ORDER_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00037">dca_xll.h:37</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="adca_8h_html_adbe57f1b315f2ef11c538a5569ba45f4"><div class="ttname"><a href="dca_8h.html#adbe57f1b315f2ef11c538a5569ba45f4">DCA_SPEAKER_LAYOUT_5POINT1</a></div><div class="ttdeci">#define DCA_SPEAKER_LAYOUT_5POINT1</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00130">dca.h:130</a></div></div>
<div class="ttc" id="adca_8h_html_a03ab95140fa7b80a5be42e1a08038977aa58610923274785db9614ef7bdf73d7d"><div class="ttname"><a href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977aa58610923274785db9614ef7bdf73d7d">DCA_SPEAKER_Ls</a></div><div class="ttdeci">@ DCA_SPEAKER_Ls</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00079">dca.h:79</a></div></div>
<div class="ttc" id="adca_8h_html_aa6422b34f9d5c38e5739f222844549e3ab1e79bf354a914b445943ac23b3d13cd"><div class="ttname"><a href="dca_8h.html#aa6422b34f9d5c38e5739f222844549e3ab1e79bf354a914b445943ac23b3d13cd">DCA_REPR_TYPE_LhRh</a></div><div class="ttdeci">@ DCA_REPR_TYPE_LhRh</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00167">dca.h:166</a></div></div>
<div class="ttc" id="adca__xll_8c_html_aae93b4034fb07628fba75799bb30a59d"><div class="ttname"><a href="dca__xll_8c.html#aae93b4034fb07628fba75799bb30a59d">chs_get_lsb_width</a></div><div class="ttdeci">static int chs_get_lsb_width(DCAXllDecoder *s, DCAXllChSet *c, int band, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00692">dca_xll.c:692</a></div></div>
<div class="ttc" id="adcadata_8c_html_a288ecddaf6d6b7b8290a6873caccc94c"><div class="ttname"><a href="dcadata_8c.html#a288ecddaf6d6b7b8290a6873caccc94c">ff_dca_xll_refl_coeff</a></div><div class="ttdeci">const uint16_t ff_dca_xll_refl_coeff[128]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08705">dcadata.c:8705</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a889b84d5b3657df4a4e45b17b87848f5"><div class="ttname"><a href="struct_a_v_codec_context.html#a889b84d5b3657df4a4e45b17b87848f5">AVCodecContext::bits_per_raw_sample</a></div><div class="ttdeci">int bits_per_raw_sample</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01757">avcodec.h:1757</a></div></div>
<div class="ttc" id="adcamath_8h_html_a2877d50795e53403f5a2626a1ea9b9bc"><div class="ttname"><a href="dcamath_8h.html#a2877d50795e53403f5a2626a1ea9b9bc">mul16</a></div><div class="ttdeci">static int32_t mul16(int32_t a, int32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="dcamath_8h_source.html#l00047">dcamath.h:47</a></div></div>
<div class="ttc" id="adcadec_8h_html"><div class="ttname"><a href="dcadec_8h.html">dcadec.h</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a041884858fae6a872355fd1aef1edf92"><div class="ttname"><a href="dca__xll_8c.html#a041884858fae6a872355fd1aef1edf92">parse_frame</a></div><div class="ttdeci">static int parse_frame(DCAXllDecoder *s, uint8_t *data, int size, DCAExssAsset *asset)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01041">dca_xll.c:1041</a></div></div>
<div class="ttc" id="adca__xll_8c_html_aee78eed4d6da8d8568ef9668e614a0c6"><div class="ttname"><a href="dca__xll_8c.html#aee78eed4d6da8d8568ef9668e614a0c6">chs_alloc_lsb_band_data</a></div><div class="ttdeci">static int chs_alloc_lsb_band_data(DCAXllDecoder *s, DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00409">dca_xll.c:409</a></div></div>
<div class="ttc" id="adca__syncwords_8h_html"><div class="ttname"><a href="dca__syncwords_8h.html">dca_syncwords.h</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="adcadec_8c_html_a7dc6514aeec32e4e3e63c0b061dd114e"><div class="ttname"><a href="dcadec_8c.html#a7dc6514aeec32e4e3e63c0b061dd114e">ff_dca_set_channel_layout</a></div><div class="ttdeci">int ff_dca_set_channel_layout(AVCodecContext *avctx, int *ch_remap, int dca_mask)</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8c_source.html#l00032">dcadec.c:32</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_gabd576ea664e3ac5d31f3362064fe13e6"><div class="ttname"><a href="group__channel__mask__c.html#gabd576ea664e3ac5d31f3362064fe13e6">AVMatrixEncoding</a></div><div class="ttdeci">AVMatrixEncoding</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00120">channel_layout.h:120</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ggabd576ea664e3ac5d31f3362064fe13e6ad9089736c1dd449617a2805d37e502d3"><div class="ttname"><a href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6ad9089736c1dd449617a2805d37e502d3">AV_MATRIX_ENCODING_DOLBYHEADPHONE</a></div><div class="ttdeci">@ AV_MATRIX_ENCODING_DOLBYHEADPHONE</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00127">channel_layout.h:127</a></div></div>
<div class="ttc" id="adca__xll_8c_html_af1ba415cd3cbf0b554511945ebe55922"><div class="ttname"><a href="dca__xll_8c.html#af1ba415cd3cbf0b554511945ebe55922">parse_frame_pbr</a></div><div class="ttdeci">static int parse_frame_pbr(DCAXllDecoder *s, uint8_t *data, int size, DCAExssAsset *asset)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01120">dca_xll.c:1120</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a7b76ca5451d5458e2fdbcfc756ccfc7f"><div class="ttname"><a href="dca__xll_8c.html#a7b76ca5451d5458e2fdbcfc756ccfc7f">clear_pbr</a></div><div class="ttdeci">static void clear_pbr(DCAXllDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01062">dca_xll.c:1062</a></div></div>
<div class="ttc" id="adca_8h_html_a420c4b93b787a2f63510c8c104d1ef3f"><div class="ttname"><a href="dca_8h.html#a420c4b93b787a2f63510c8c104d1ef3f">DCA_HAS_STEREO</a></div><div class="ttdeci">#define DCA_HAS_STEREO(mask)</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00134">dca.h:134</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="adcadata_8c_html_ad8f5a83c7eb78b82f9c27980681ec73c"><div class="ttname"><a href="dcadata_8c.html#ad8f5a83c7eb78b82f9c27980681ec73c">ff_dca_dmix_primary_nch</a></div><div class="ttdeci">const uint8_t ff_dca_dmix_primary_nch[8]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l00045">dcadata.c:45</a></div></div>
<div class="ttc" id="adca_8h_html_a03ab95140fa7b80a5be42e1a08038977a1d2cc7a2476faef8c28071aa1a5da232"><div class="ttname"><a href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a1d2cc7a2476faef8c28071aa1a5da232">DCA_SPEAKER_Rs</a></div><div class="ttdeci">@ DCA_SPEAKER_Rs</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00080">dca.h:80</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="adca__xll_8h_html_aebfea19182c46475323b827a2753efb4"><div class="ttname"><a href="dca__xll_8h.html#aebfea19182c46475323b827a2753efb4">DCA_XLL_SAMPLE_BUFFERS_MAX</a></div><div class="ttdeci">#define DCA_XLL_SAMPLE_BUFFERS_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00042">dca_xll.h:42</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a1928c944efda8dd1bf85fbff804dd932"><div class="ttname"><a href="dca__xll_8c.html#a1928c944efda8dd1bf85fbff804dd932">get_rice</a></div><div class="ttdeci">static int get_rice(GetBitContext *gb, int k)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00039">dca_xll.c:39</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_band_html_a330c999996ed595c78802bb8302d3319"><div class="ttname"><a href="struct_d_c_a_xll_band.html#a330c999996ed595c78802bb8302d3319">DCAXllBand::msb_sample_buffer</a></div><div class="ttdeci">int32_t * msb_sample_buffer[DCA_XLL_CHANNELS_MAX]</div><div class="ttdoc">MSB sample buffer pointers.</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00060">dca_xll.h:60</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a1da8d34605220d90a3f8788994caa373"><div class="ttname"><a href="dca__xll_8c.html#a1da8d34605220d90a3f8788994caa373">parse_frame_no_pbr</a></div><div class="ttdeci">static int parse_frame_no_pbr(DCAXllDecoder *s, uint8_t *data, int size, DCAExssAsset *asset)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01082">dca_xll.c:1082</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a6101c3b2a02c61ea41f3c97e88b64d39"><div class="ttname"><a href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a></div><div class="ttdeci">#define AV_EF_EXPLODE</div><div class="ttdoc">abort decoding on minor error detection</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01666">avcodec.h:1666</a></div></div>
<div class="ttc" id="adcadec_8h_html_a078dd1a7048dea9e7a7e6e8e520ba7ba"><div class="ttname"><a href="dcadec_8h.html#a078dd1a7048dea9e7a7e6e8e520ba7ba">DCA_PACKET_CORE</a></div><div class="ttdeci">#define DCA_PACKET_CORE</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00037">dcadec.h:37</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a53081e1fe7230f6230021813ae39e4b9"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a53081e1fe7230f6230021813ae39e4b9">DCAExssAsset::xll_sync_present</a></div><div class="ttdeci">int xll_sync_present</div><div class="ttdoc">XLL sync word present flag.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00064">dca_exss.h:64</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="aunary_8h_html_ad7ab3bdac952a16853fa24730c211f53"><div class="ttname"><a href="unary_8h.html#ad7ab3bdac952a16853fa24730c211f53">get_unary</a></div><div class="ttdeci">static int get_unary(GetBitContext *gb, int stop, int len)</div><div class="ttdef"><b>Definition:</b> <a href="unary_8h_source.html#l00046">unary.h:46</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a70f2862d09c39b01fc3c1cc132ce0621"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a70f2862d09c39b01fc3c1cc132ce0621">DCAExssAsset::xll_delay_nframes</a></div><div class="ttdeci">int xll_delay_nframes</div><div class="ttdoc">Initial XLL decoding delay in frames.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00065">dca_exss.h:65</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01859">avcodec.h:1859</a></div></div>
<div class="ttc" id="adcadata_8c_html_adb86cf5d31f2f3c44d4c26fc242520ee"><div class="ttname"><a href="dcadata_8c.html#adb86cf5d31f2f3c44d4c26fc242520ee">ff_dca_inv_dmixtable</a></div><div class="ttdeci">const uint32_t ff_dca_inv_dmixtable[FF_DCA_INV_DMIXTABLE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08676">dcadata.c:8676</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a02922b09de30359f0af918477e26204e"><div class="ttname"><a href="dca__xll_8c.html#a02922b09de30359f0af918477e26204e">combine_residual_frame</a></div><div class="ttdeci">static int combine_residual_frame(DCAXllDecoder *s, DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01254">dca_xll.c:1254</a></div></div>
<div class="ttc" id="adecode_8c_html_a0d5adb2b84051826883605b3ab4d1bab"><div class="ttname"><a href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a></div><div class="ttdeci">int ff_get_buffer(AVCodecContext *avctx, AVFrame *frame, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l01879">decode.c:1879</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a3ee93c927347bfa17181a29b0b3b8b1f"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a3ee93c927347bfa17181a29b0b3b8b1f">DCAExssAsset::xll_offset</a></div><div class="ttdeci">int xll_offset</div><div class="ttdoc">Offset to XLL data from start of substream.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00062">dca_exss.h:62</a></div></div>
<div class="ttc" id="adcadata_8c_html_a25acf2bd9b51f0a0ff08484b9aced4e7"><div class="ttname"><a href="dcadata_8c.html#a25acf2bd9b51f0a0ff08484b9aced4e7">ff_dca_dmixtable</a></div><div class="ttdeci">const uint16_t ff_dca_dmixtable[FF_DCA_DMIXTABLE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08642">dcadata.c:8642</a></div></div>
<div class="ttc" id="adcadata_8c_html_abce9502fd82df1289b853782d7aeb279"><div class="ttname"><a href="dcadata_8c.html#abce9502fd82df1289b853782d7aeb279">ff_dca_xll_band_coeff</a></div><div class="ttdeci">const int32_t ff_dca_xll_band_coeff[20]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08724">dcadata.c:8724</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a9e1e84b9fd6791c1d915358c9bf6c344"><div class="ttname"><a href="dca__xll_8c.html#a9e1e84b9fd6791c1d915358c9bf6c344">copy_to_pbr</a></div><div class="ttdeci">static int copy_to_pbr(DCAXllDecoder *s, uint8_t *data, int size, int delay)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01068">dca_xll.c:1068</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ggabd576ea664e3ac5d31f3362064fe13e6a04179fd7b3339556603020ae88e02793"><div class="ttname"><a href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6a04179fd7b3339556603020ae88e02793">AV_MATRIX_ENCODING_NONE</a></div><div class="ttdeci">@ AV_MATRIX_ENCODING_NONE</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00121">channel_layout.h:121</a></div></div>
<div class="ttc" id="adca__xll_8c_html_afeac2d97547beabdd84fb3b0b78df35c"><div class="ttname"><a href="dca__xll_8c.html#afeac2d97547beabdd84fb3b0b78df35c">chs_parse_band_data</a></div><div class="ttdeci">static int chs_parse_band_data(DCAXllDecoder *s, DCAXllChSet *c, int band, int seg, int band_data_end)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00442">dca_xll.c:442</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="adca_8h_html_add865488e8c09e0fe9e2ea43d03f5cd0ac5c9e407f5e515c3c1d02c7a93d0d3bf"><div class="ttname"><a href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0ac5c9e407f5e515c3c1d02c7a93d0d3bf">DCA_SPEAKER_MASK_Rss</a></div><div class="ttdeci">@ DCA_SPEAKER_MASK_Rss</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00102">dca.h:102</a></div></div>
<div class="ttc" id="adca_8h_html_a03ab95140fa7b80a5be42e1a08038977ad6a72785697986fc0456bc9957e19054"><div class="ttname"><a href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977ad6a72785697986fc0456bc9957e19054">DCA_SPEAKER_R</a></div><div class="ttdeci">@ DCA_SPEAKER_R</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00079">dca.h:79</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">sample format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1194</a></div></div>
<div class="ttc" id="astruct_d_c_a_core_decoder_html_afc315de8474ee67e3f7d7caa2600760c"><div class="ttname"><a href="struct_d_c_a_core_decoder.html#afc315de8474ee67e3f7d7caa2600760c">DCACoreDecoder::output_samples</a></div><div class="ttdeci">int32_t * output_samples[DCA_SPEAKER_COUNT]</div><div class="ttdoc">PCM output for fixed point mode.</div><div class="ttdef"><b>Definition:</b> <a href="dca__core_8h_source.html#l00203">dca_core.h:203</a></div></div>
<div class="ttc" id="aunary_8h_html"><div class="ttname"><a href="unary_8h.html">unary.h</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a35eaaad9da207aa4e63fa02fd67fae68"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a35eaaad9da207aa4e63fa02fd67fae68">AV_SAMPLE_FMT_S16P</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S16P</div><div class="ttdoc">signed 16 bits, planar</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00067">samplefmt.h:67</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a60058e30b348701dc79038006ba2f7dc"><div class="ttname"><a href="dca__xll_8c.html#a60058e30b348701dc79038006ba2f7dc">chs_filter_band_data</a></div><div class="ttdeci">static void chs_filter_band_data(DCAXllDecoder *s, DCAXllChSet *c, int band)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00627">dca_xll.c:627</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_ab31fada43d7f7259df60eda2fad3cef3"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#ab31fada43d7f7259df60eda2fad3cef3">DCAXllChSet::dmix_scale</a></div><div class="ttdeci">int dmix_scale[DCA_XLL_DMIX_SCALES_MAX]</div><div class="ttdoc">Downmixing scales.</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00079">dca_xll.h:79</a></div></div>
<div class="ttc" id="astruct_d_c_a_core_decoder_html_a9d2e620d8548f5cc4f50f8f6f1dee91b"><div class="ttname"><a href="struct_d_c_a_core_decoder.html#a9d2e620d8548f5cc4f50f8f6f1dee91b">DCACoreDecoder::output_rate</a></div><div class="ttdeci">int output_rate</div><div class="ttdoc">Output sample rate (1x or 2x header rate)</div><div class="ttdef"><b>Definition:</b> <a href="dca__core_8h_source.html#l00211">dca_core.h:211</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a30adc75414e0a59ca94aad7a56e17e42"><div class="ttname"><a href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some it can consider them to be part of the FIFO and delay acknowledging a status change accordingly Example code</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00176">filter_design.txt:178</a></div></div>
<div class="ttc" id="alibm_8h_html_a7ddd290acf3fe2961676053dbbc2cec3"><div class="ttname"><a href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a></div><div class="ttdeci">static av_always_inline av_const double round(double x)</div><div class="ttdef"><b>Definition:</b> <a href="libm_8h_source.html#l00444">libm.h:444</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_a7dc06398011ab42822414dee6c5dff3d"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#a7dc06398011ab42822414dee6c5dff3d">DCAXllChSet::pcm_bit_res</a></div><div class="ttdeci">int pcm_bit_res</div><div class="ttdoc">PCM bit resolution (variable)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00068">dca_xll.h:68</a></div></div>
<div class="ttc" id="adca__xll_8h_html_a1e5c01fa0029d771364a318c56097284"><div class="ttname"><a href="dca__xll_8h.html#a1e5c01fa0029d771364a318c56097284">DCA_XLL_CHANNELS_MAX</a></div><div class="ttdeci">#define DCA_XLL_CHANNELS_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00035">dca_xll.h:35</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_a2996c23d1011a9d66bb412327c533888"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#a2996c23d1011a9d66bb412327c533888">DCAXllChSet::freq</a></div><div class="ttdeci">int freq</div><div class="ttdoc">Original sampling frequency (max. 96000 Hz)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00070">dca_xll.h:70</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a9aa7711cbbe3ebae6ecbc56545a32cac"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a9aa7711cbbe3ebae6ecbc56545a32cac">DCAExssAsset::xll_sync_offset</a></div><div class="ttdeci">int xll_sync_offset</div><div class="ttdoc">Number of bytes offset to XLL sync.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00066">dca_exss.h:66</a></div></div>
<div class="ttc" id="adct32__template_8c_html_a225b239979aefa68a2148237d74eb419"><div class="ttname"><a href="dct32__template_8c.html#a225b239979aefa68a2148237d74eb419">SUINT</a></div><div class="ttdeci">#define SUINT</div><div class="ttdef"><b>Definition:</b> <a href="dct32__template_8c_source.html#l00030">dct32_template.c:30</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="adca_8h_html_a0872a39dacbe34ba28b91cd792fc3517a574967659b7e62623caa9474a3384538"><div class="ttname"><a href="dca_8h.html#a0872a39dacbe34ba28b91cd792fc3517a574967659b7e62623caa9474a3384538">DCA_DMIX_TYPE_LtRt</a></div><div class="ttdeci">@ DCA_DMIX_TYPE_LtRt</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00189">dca.h:189</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_ae09c2c746ccc867b5b055339d696f265"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#ae09c2c746ccc867b5b055339d696f265">DCAXllChSet::hier_ofs</a></div><div class="ttdeci">int hier_ofs</div><div class="ttdoc">Number of preceding channels in a hierarchy (M)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00077">dca_xll.h:77</a></div></div>
<div class="ttc" id="adca_8h_html_a0872a39dacbe34ba28b91cd792fc3517a0e0356e3dff6497d16f7000c214d3d4d"><div class="ttname"><a href="dca_8h.html#a0872a39dacbe34ba28b91cd792fc3517a0e0356e3dff6497d16f7000c214d3d4d">DCA_DMIX_TYPE_COUNT</a></div><div class="ttdeci">@ DCA_DMIX_TYPE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00196">dca.h:195</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a284e7bae25ab2fc7ad6116e48cb334aa"><div class="ttname"><a href="dca__xll_8c.html#a284e7bae25ab2fc7ad6116e48cb334aa">ff_dca_xll_filter_frame</a></div><div class="ttdeci">int ff_dca_xll_filter_frame(DCAXllDecoder *s, AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01322">dca_xll.c:1322</a></div></div>
<div class="ttc" id="adca__core_8h_html_a6a4860359efdf0eeb259469feb33e1a8"><div class="ttname"><a href="dca__core_8h.html#a6a4860359efdf0eeb259469feb33e1a8">ff_dca_core_map_spkr</a></div><div class="ttdeci">static int ff_dca_core_map_spkr(DCACoreDecoder *core, int spkr)</div><div class="ttdef"><b>Definition:</b> <a href="dca__core_8h_source.html#l00216">dca_core.h:216</a></div></div>
<div class="ttc" id="atests_2jpeg2000dwt_8c_html_a92262252b3b4be7fb3a1c7958adb3deb"><div class="ttname"><a href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a></div><div class="ttdeci">static int array[MAX_W *MAX_W]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2jpeg2000dwt_8c_source.html#l00106">jpeg2000dwt.c:106</a></div></div>
<div class="ttc" id="astruct_d_c_a_context_html_ae2d3bea87eec708de8bfadebadd4c543"><div class="ttname"><a href="struct_d_c_a_context.html#ae2d3bea87eec708de8bfadebadd4c543">DCAContext::packet</a></div><div class="ttdeci">int packet</div><div class="ttdoc">Packet flags.</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00062">dcadec.h:62</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_a9b24292cb54117a7a75c8f1951bf8b9f"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#a9b24292cb54117a7a75c8f1951bf8b9f">DCAXllChSet::dmix_embedded</a></div><div class="ttdeci">int dmix_embedded</div><div class="ttdoc">Downmix already performed by encoder.</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00074">dca_xll.h:74</a></div></div>
<div class="ttc" id="adca__xll_8h_html_ac94aae10feb91bd2e08ff004c3b55272"><div class="ttname"><a href="dca__xll_8h.html#ac94aae10feb91bd2e08ff004c3b55272">DCA_XLL_CHSETS_MAX</a></div><div class="ttdeci">#define DCA_XLL_CHSETS_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00034">dca_xll.h:34</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_a6efc5f379537ef321d29bd936a719285"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#a6efc5f379537ef321d29bd936a719285">DCAXllChSet::nchannels</a></div><div class="ttdeci">int nchannels</div><div class="ttdoc">Number of channels in the channel set (N)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00066">dca_xll.h:66</a></div></div>
<div class="ttc" id="adcadata_8h_html_a82d6e0fade2a49e332cd969d1dce462f"><div class="ttname"><a href="dcadata_8h.html#a82d6e0fade2a49e332cd969d1dce462f">FF_DCA_DMIXTABLE_SIZE</a></div><div class="ttdeci">#define FF_DCA_DMIXTABLE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8h_source.html#l00069">dcadata.h:69</a></div></div>
<div class="ttc" id="adca_8h_html_aa6422b34f9d5c38e5739f222844549e3a2b4d47f3c6e1b0d7ab2888ec94ab5225"><div class="ttname"><a href="dca_8h.html#aa6422b34f9d5c38e5739f222844549e3a2b4d47f3c6e1b0d7ab2888ec94ab5225">DCA_REPR_TYPE_LtRt</a></div><div class="ttdeci">@ DCA_REPR_TYPE_LtRt</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00165">dca.h:165</a></div></div>
<div class="ttc" id="adca_8c_html_a97b727d01f2953762f8b11435ca7a9c4"><div class="ttname"><a href="dca_8c.html#a97b727d01f2953762f8b11435ca7a9c4">ff_dca_sampling_freqs</a></div><div class="ttdeci">const uint32_t ff_dca_sampling_freqs[16]</div><div class="ttdef"><b>Definition:</b> <a href="dca_8c_source.html#l00041">dca.c:41</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a8427f57147554324564657b58866eb64"><div class="ttname"><a href="dca__xll_8c.html#a8427f57147554324564657b58866eb64">get_rice_un</a></div><div class="ttdeci">static int get_rice_un(GetBitContext *gb, int k)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00033">dca_xll.c:33</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_decoder_html"><div class="ttname"><a href="struct_d_c_a_xll_decoder.html">DCAXllDecoder</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00105">dca_xll.h:105</a></div></div>
<div class="ttc" id="adcadata_8h_html_a1483f6bf9e40401e1bbde148658cc993"><div class="ttname"><a href="dcadata_8h.html#a1483f6bf9e40401e1bbde148658cc993">FF_DCA_INV_DMIXTABLE_SIZE</a></div><div class="ttdeci">#define FF_DCA_INV_DMIXTABLE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8h_source.html#l00070">dcadata.h:70</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a3fd916edd209a685169f3d17f4beb18a"><div class="ttname"><a href="dca__xll_8c.html#a3fd916edd209a685169f3d17f4beb18a">prescale_down_mix</a></div><div class="ttdeci">static void prescale_down_mix(DCAXllChSet *c, DCAXllChSet *o)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00887">dca_xll.c:887</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a7b57f060968e604daa921f0e236cb358"><div class="ttname"><a href="dca__xll_8c.html#a7b57f060968e604daa921f0e236cb358">chs_parse_header</a></div><div class="ttdeci">static int chs_parse_header(DCAXllDecoder *s, DCAXllChSet *c, DCAExssAsset *asset)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00116">dca_xll.c:116</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a9a187306e57e3bbaac316ac552006fb0"><div class="ttname"><a href="dca__xll_8c.html#a9a187306e57e3bbaac316ac552006fb0">get_linear_array</a></div><div class="ttdeci">static void get_linear_array(GetBitContext *gb, int32_t *array, int size, int n)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00053">dca_xll.c:53</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ac53f7e33bdbd6ea3ec96ee0f1292ee84"><div class="ttname"><a href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio samples</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00008">filter_design.txt:8</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a3c257881f5573b3cae20b043b9ed60b5"><div class="ttname"><a href="dca__xll_8c.html#a3c257881f5573b3cae20b043b9ed60b5">parse_sub_headers</a></div><div class="ttdeci">static int parse_sub_headers(DCAXllDecoder *s, DCAExssAsset *asset)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00903">dca_xll.c:903</a></div></div>
<div class="ttc" id="astruct_d_c_a_context_html_ae8d9cd8f6a1553541ee3179b526e348e"><div class="ttname"><a href="struct_d_c_a_context.html#ae8d9cd8f6a1553541ee3179b526e348e">DCAContext::request_channel_layout</a></div><div class="ttdeci">int request_channel_layout</div><div class="ttdoc">Converted from avctx.request_channel_layout.</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00064">dcadec.h:64</a></div></div>
<div class="ttc" id="asonic_8c_html_aee201839e95f7edeff51ad9c8e072bda"><div class="ttname"><a href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a></div><div class="ttdeci">static int shift(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="sonic_8c_source.html#l00082">sonic.c:82</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a1c82c64222ada043c6886e4d8df03fe4"><div class="ttname"><a href="dca__xll_8c.html#a1c82c64222ada043c6886e4d8df03fe4">get_rice_array</a></div><div class="ttdeci">static void get_rice_array(GetBitContext *gb, int32_t *array, int size, int k)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00063">dca_xll.c:63</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a10de3eae439940d0ae3790cc60510423"><div class="ttname"><a href="libavcodec_2internal_8h.html#a10de3eae439940d0ae3790cc60510423">ff_side_data_update_matrix_encoding</a></div><div class="ttdeci">int ff_side_data_update_matrix_encoding(AVFrame *frame, enum AVMatrixEncoding matrix_encoding)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00136">utils.c:136</a></div></div>
<div class="ttc" id="adca_8h_html_add865488e8c09e0fe9e2ea43d03f5cd0a6d253148ede6e2cc69265e39b639f48c"><div class="ttname"><a href="dca_8h.html#add865488e8c09e0fe9e2ea43d03f5cd0a6d253148ede6e2cc69265e39b639f48c">DCA_SPEAKER_MASK_Ls</a></div><div class="ttdeci">@ DCA_SPEAKER_MASK_Ls</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00095">dca.h:95</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ab3803f4dfc41e8d801a3f65082484add"><div class="ttname"><a href="avcodec_8h.html#ab3803f4dfc41e8d801a3f65082484add">FF_PROFILE_DTS_HD_MA</a></div><div class="ttdeci">#define FF_PROFILE_DTS_HD_MA</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01885">avcodec.h:1885</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga29d0252b981f157e713a68ffca52f003"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga29d0252b981f157e713a68ffca52f003">av_fast_malloc</a></div><div class="ttdeci">void av_fast_malloc(void *ptr, unsigned int *size, size_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00502">mem.c:502</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a85e2076285724d9df938e2306af6bd15"><div class="ttname"><a href="dca__xll_8c.html#a85e2076285724d9df938e2306af6bd15">ff_dca_xll_flush</a></div><div class="ttdeci">av_cold void ff_dca_xll_flush(DCAXllDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01471">dca_xll.c:1471</a></div></div>
<div class="ttc" id="astruct_d_c_a_xll_ch_set_html_ad4733afa58a9183fec246ec1985fdef4"><div class="ttname"><a href="struct_d_c_a_xll_ch_set.html#ad4733afa58a9183fec246ec1985fdef4">DCAXllChSet::dmix_scale_inv</a></div><div class="ttdeci">int dmix_scale_inv[DCA_XLL_DMIX_SCALES_MAX]</div><div class="ttdoc">Inverse downmixing scales.</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8h_source.html#l00080">dca_xll.h:80</a></div></div>
<div class="ttc" id="adca__xll_8c_html_adaf69bd9402a2fcab7c71a2a1f1ac855"><div class="ttname"><a href="dca__xll_8c.html#adaf69bd9402a2fcab7c71a2a1f1ac855">force_lossy_output</a></div><div class="ttdeci">static av_cold void force_lossy_output(DCAXllDecoder *s, DCAXllChSet *c)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01237">dca_xll.c:1237</a></div></div>
<div class="ttc" id="adca_8h_html_a03ab95140fa7b80a5be42e1a08038977a1e4fa8d97cad9e358a60889cfac84c1b"><div class="ttname"><a href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a1e4fa8d97cad9e358a60889cfac84c1b">DCA_SPEAKER_COUNT</a></div><div class="ttdeci">@ DCA_SPEAKER_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00089">dca.h:88</a></div></div>
<div class="ttc" id="avf__owdenoise_8c_html_a35c8a1e85abdf2de13b1be2fe51f293b"><div class="ttname"><a href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a></div><div class="ttdeci">static const double coeff[2][5]</div><div class="ttdef"><b>Definition:</b> <a href="vf__owdenoise_8c_source.html#l00072">vf_owdenoise.c:72</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="adca_8h_html_a03ab95140fa7b80a5be42e1a08038977a0c488484b13dd1415f9420ce0efab9b5"><div class="ttname"><a href="dca_8h.html#a03ab95140fa7b80a5be42e1a08038977a0c488484b13dd1415f9420ce0efab9b5">DCA_SPEAKER_L</a></div><div class="ttdeci">@ DCA_SPEAKER_L</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00079">dca.h:79</a></div></div>
<div class="ttc" id="astruct_d_c_a_context_html_a09a00489192416b6cc5e7e5ee4a1417f"><div class="ttname"><a href="struct_d_c_a_context.html#a09a00489192416b6cc5e7e5ee4a1417f">DCAContext::core</a></div><div class="ttdeci">DCACoreDecoder core</div><div class="ttdoc">Core decoder context.</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00050">dcadec.h:50</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a071e2d013dcbe2a4c5a832e3800b581b"><div class="ttname"><a href="get__bits_8h.html#a071e2d013dcbe2a4c5a832e3800b581b">get_sbits_long</a></div><div class="ttdeci">static int get_sbits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00590">get_bits.h:590</a></div></div>
<div class="ttc" id="adca__xll_8c_html_aad06fea47f81c998d4711e8f8c0aae45"><div class="ttname"><a href="dca__xll_8c.html#aad06fea47f81c998d4711e8f8c0aae45">chs_clear_band_data</a></div><div class="ttdeci">static av_cold void chs_clear_band_data(DCAXllDecoder *s, DCAXllChSet *c, int band, int seg)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00599">dca_xll.c:599</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="adca__xll_8c_html_a83bc803a6f13ea3561477a8cd2036c12"><div class="ttname"><a href="dca__xll_8c.html#a83bc803a6f13ea3561477a8cd2036c12">get_linear</a></div><div class="ttdeci">static int get_linear(GetBitContext *gb, int n)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l00027">dca_xll.c:27</a></div></div>
<div class="ttc" id="adca__xll_8c_html_af711232c96f8631e91bc8bd629298934"><div class="ttname"><a href="dca__xll_8c.html#af711232c96f8631e91bc8bd629298934">parse_band_data</a></div><div class="ttdeci">static int parse_band_data(DCAXllDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01002">dca_xll.c:1002</a></div></div>
<div class="ttc" id="adca__xll_8c_html_afd381997afb3b122eafc3094b937e975"><div class="ttname"><a href="dca__xll_8c.html#afd381997afb3b122eafc3094b937e975">ff_dca_xll_close</a></div><div class="ttdeci">av_cold void ff_dca_xll_close(DCAXllDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__xll_8c_source.html#l01476">dca_xll.c:1476</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a659503d9d32f9c48cca83ff62784a73a"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a659503d9d32f9c48cca83ff62784a73a">DCAExssAsset::xll_size</a></div><div class="ttdeci">int xll_size</div><div class="ttdoc">Size of XLL data in extension substream.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00063">dca_exss.h:63</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01186">avcodec.h:1186</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html"><div class="ttname"><a href="struct_d_c_a_exss_asset.html">DCAExssAsset</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00029">dca_exss.h:29</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
