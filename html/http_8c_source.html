<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/http.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">http.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="http_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * HTTP protocol for ffmpeg client</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2000, 2001 Fabrice Bellard</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;config.h&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#if CONFIG_ZLIB</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;zlib.h&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_ZLIB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bprint_8h.html">libavutil/bprint.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">libavutil/time.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parseutils_8h.html">libavutil/parseutils.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http_8h.html">http.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="httpauth_8h.html">httpauth.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="network_8h.html">network.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="os__support_8h.html">os_support.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">url.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/* XXX: POST protocol is not completely implemented because ffmpeg uses</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * only a subset of it. */</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/* The IO buffer size is unrelated to the max URL size in itself, but needs</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * to be large enough to fit the full request headers (including long</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * path names). */</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="http_8c.html#a6b20d41d6252e9871430c242cb1a56e7">   49</a></span>&#160;<span class="preprocessor">#define BUFFER_SIZE   (MAX_URL_SIZE + HTTP_HEADERS_SIZE)</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="http_8c.html#ac02cde674a4c670cf571ab3f34b83f84">   50</a></span>&#160;<span class="preprocessor">#define MAX_REDIRECTS 8</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="http_8c.html#a8b0b424d9d5feb6b5abaae87be2c757f">   51</a></span>&#160;<span class="preprocessor">#define HTTP_SINGLE   1</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="http_8c.html#a0966b74ee61415cc9f0a1bd81590cca2">   52</a></span>&#160;<span class="preprocessor">#define HTTP_MUTLI    2</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="http_8c.html#a045bcf6c026ff7ae2af603f67cd81c5b">   53</a></span>&#160;<span class="preprocessor">#define MAX_EXPIRY    19</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="http_8c.html#ae486692fac07c1c1ef2a7d32e9e57463">   54</a></span>&#160;<span class="preprocessor">#define WHITESPACES &quot; \n\t\r&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="http_8c.html#a064110dfc80d1d11620b1f45acca434d">   55</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="http_8c.html#a064110dfc80d1d11620b1f45acca434dab477c197de00c0c78b2978f521a6a87d">   56</a></span>&#160;    <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434dab477c197de00c0c78b2978f521a6a87d">LOWER_PROTO</a>,</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daceb3e65f83376b07b705fd9d963f3cfc">   57</a></span>&#160;    <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daceb3e65f83376b07b705fd9d963f3cfc">READ_HEADERS</a>,</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daf4c0c029b866950d7b54f08d1f59c5de">   58</a></span>&#160;    <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daf4c0c029b866950d7b54f08d1f59c5de">WRITE_REPLY_HEADERS</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434da8b9af67858708d770f017e4aae85900d">FINISH</a></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="http_8c.html#a064110dfc80d1d11620b1f45acca434da8b9af67858708d770f017e4aae85900d">   60</a></span>&#160;}<a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434d">HandshakeState</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html">   62</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> {</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a65e0743d7cb1466b7b9262065e5c8093">   63</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a0bd18ce690fe33f92ced117f5a23a222">   64</a></span>&#160;    <a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="struct_h_t_t_p_context.html#a0bd18ce690fe33f92ced117f5a23a222">hd</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a7c8670e60727af6785ae57304b6fa4a4">   65</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_h_t_t_p_context.html#a7c8670e60727af6785ae57304b6fa4a4">buffer</a>[<a class="code" href="http_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>], *<a class="code" href="struct_h_t_t_p_context.html#ae21bd8b82c1218fd49fc0886d8620ff5">buf_ptr</a>, *<a class="code" href="struct_h_t_t_p_context.html#a1b495cafe8521d1baacea5d592eb5034">buf_end</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#af4e1e78ada09647e47b20daecb513a38">   66</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#af4e1e78ada09647e47b20daecb513a38">line_count</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a6eb5648ca707ac5417046088d33c5d6a">   67</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a6eb5648ca707ac5417046088d33c5d6a">http_code</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">/* Used if &quot;Transfer-Encoding: chunked&quot; otherwise -1. */</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a05f5e56c9121ece8d155a87c35e82e0c">   69</a></span>&#160;    uint64_t <a class="code" href="struct_h_t_t_p_context.html#a05f5e56c9121ece8d155a87c35e82e0c">chunksize</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#af66e6fda18ead08c1c4b21495d9941bc">   70</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#af66e6fda18ead08c1c4b21495d9941bc">chunkend</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a2e9155ed29b1f0d38e830d772ced6a01">   71</a></span>&#160;    uint64_t <a class="code" href="struct_h_t_t_p_context.html#a2e9155ed29b1f0d38e830d772ced6a01">off</a>, <a class="code" href="struct_h_t_t_p_context.html#ac1e8300483a98e6975e3b08819056784">end_off</a>, <a class="code" href="struct_h_t_t_p_context.html#a8ddb293634fa150c9b9f1d7ef4b4d69c">filesize</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a460ead195cdfc5d316b399e537d0c4ae">   72</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a460ead195cdfc5d316b399e537d0c4ae">location</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ad2be269bd2d67c228a800d00fdf91e1f">   73</a></span>&#160;    <a class="code" href="struct_h_t_t_p_auth_state.html">HTTPAuthState</a> <a class="code" href="struct_h_t_t_p_context.html#ad2be269bd2d67c228a800d00fdf91e1f">auth_state</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ab0f86604cebcee64b4a0570a8c5f77fb">   74</a></span>&#160;    <a class="code" href="struct_h_t_t_p_auth_state.html">HTTPAuthState</a> <a class="code" href="struct_h_t_t_p_context.html#ab0f86604cebcee64b4a0570a8c5f77fb">proxy_auth_state</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#aabaec0d5eed5795adbd84b8b7c17a2b0">   75</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#aabaec0d5eed5795adbd84b8b7c17a2b0">http_proxy</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a678b4db80d8f0b35fe15df08d82fe898">   76</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a678b4db80d8f0b35fe15df08d82fe898">headers</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a926a07b4039c322e7ec9562544a7c33f">   77</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a926a07b4039c322e7ec9562544a7c33f">mime_type</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a885fbd21672e1bad22093e131b96d1ed">   78</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a885fbd21672e1bad22093e131b96d1ed">http_version</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a54692c3e1ec5eab7ae6ef41a00f89dbe">   79</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a54692c3e1ec5eab7ae6ef41a00f89dbe">user_agent</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a7588ec7d9d4f9c3697eeef129716ff9b">   80</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a7588ec7d9d4f9c3697eeef129716ff9b">referer</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#if FF_API_HTTP_USER_AGENT</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">char</span> *user_agent_deprecated;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a7ff914ef5e22c0dc42f6965adf921c39">   84</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a7ff914ef5e22c0dc42f6965adf921c39">content_type</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">/* Set if the server correctly handles Connection: close and will close</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">     * the connection after feeding us the content. */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a90a89cbeb448d4303794daf173258dc7">   87</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a90a89cbeb448d4303794daf173258dc7">willclose</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a5c405c999f015e05e4d5fda699d531fd">   88</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a5c405c999f015e05e4d5fda699d531fd">seekable</a>;           </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ab8542caaf6afaf4a22d5d52f6e605a0e">   89</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#ab8542caaf6afaf4a22d5d52f6e605a0e">chunked_post</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">/* A flag which indicates if the end of chunked encoding has been sent. */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a1fa4286df49a191ae388ceab624beb21">   91</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a1fa4286df49a191ae388ceab624beb21">end_chunked_post</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">/* A flag which indicates we have finished to read POST reply. */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a71c351b6c9767439a3f8746c2cbffb8c">   93</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a71c351b6c9767439a3f8746c2cbffb8c">end_header</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">/* A flag which indicates if we use persistent connections. */</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#aa52154843ba9f27d9ead6ac41b8c7c34">   95</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#aa52154843ba9f27d9ead6ac41b8c7c34">multiple_requests</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a78feda84c6aa2f806d40900e87a074b2">   96</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_h_t_t_p_context.html#a78feda84c6aa2f806d40900e87a074b2">post_data</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ad06b42333cade0c936cd83c2f5bf6ecc">   97</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#ad06b42333cade0c936cd83c2f5bf6ecc">post_datalen</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a0295a6a5e0075ae405a651fa495e1fd2">   98</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a0295a6a5e0075ae405a651fa495e1fd2">is_akamai</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#aa2b763a0f9fa0249e2750597f8e5ab35">   99</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#aa2b763a0f9fa0249e2750597f8e5ab35">is_mediagateway</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ac15eec25819332d0d8fb168db81cf999">  100</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#ac15eec25819332d0d8fb168db81cf999">cookies</a>;          </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">/* A dictionary containing cookies keyed by cookie name */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ae9fa7ef79670f5d6e316dee78b0ab442">  102</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_h_t_t_p_context.html#ae9fa7ef79670f5d6e316dee78b0ab442">cookie_dict</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ab3d407301deabef5d71909e8ff9eb288">  103</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#ab3d407301deabef5d71909e8ff9eb288">icy</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">/* how much data was read since the last ICY metadata packet */</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a4e9a13d7ed041433d7980db5212a0cab">  105</a></span>&#160;    uint64_t <a class="code" href="struct_h_t_t_p_context.html#a4e9a13d7ed041433d7980db5212a0cab">icy_data_read</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">/* after how many bytes of read data a new metadata packet will be found */</span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a4803b9fedc7a5d7f0f04ba33415791fe">  107</a></span>&#160;    uint64_t <a class="code" href="struct_h_t_t_p_context.html#a4803b9fedc7a5d7f0f04ba33415791fe">icy_metaint</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a8ef955d6f202a1f8e79be806a730f4cd">  108</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a8ef955d6f202a1f8e79be806a730f4cd">icy_metadata_headers</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a5215502e4b3ef0521e57381151352d08">  109</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a5215502e4b3ef0521e57381151352d08">icy_metadata_packet</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a78902b4426f7e2b21e62dc4fa5cfa6eb">  110</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_h_t_t_p_context.html#a78902b4426f7e2b21e62dc4fa5cfa6eb">metadata</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#if CONFIG_ZLIB</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">int</span> compressed;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    z_stream inflate_stream;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *inflate_buffer;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_ZLIB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a2f6833ddd574fb0d25e9ad6d3dc9b5ee">  116</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_h_t_t_p_context.html#a2f6833ddd574fb0d25e9ad6d3dc9b5ee">chained_options</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">/* -1 = try to send if applicable, 0 = always disabled, 1 = always enabled */</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a8ce878f4f4abeaf7fe715df50f489e09">  118</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a8ce878f4f4abeaf7fe715df50f489e09">send_expect_100</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a1ac0b513b2ffed78aafcaff5c86867b6">  119</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a1ac0b513b2ffed78aafcaff5c86867b6">method</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ab44a220846c44171b05e6f193bc76b46">  120</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#ab44a220846c44171b05e6f193bc76b46">reconnect</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#aeea80b27f5987e8a21d95baa9c6f6829">  121</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#aeea80b27f5987e8a21d95baa9c6f6829">reconnect_at_eof</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#ab2c9edd0827bd8f5cbb30deb69d82eca">  122</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#ab2c9edd0827bd8f5cbb30deb69d82eca">reconnect_streamed</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#aef7b21a945cd3b9a56acf4bcd3a44735">  123</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#aef7b21a945cd3b9a56acf4bcd3a44735">reconnect_delay_max</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a49b179f529c77c6df7a1bf00347f2fa0">  124</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a49b179f529c77c6df7a1bf00347f2fa0">listen</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a0fe1181c46d4d8fb284ab58203cb32ee">  125</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_h_t_t_p_context.html#a0fe1181c46d4d8fb284ab58203cb32ee">resource</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a480f195496add656e79babc88fe33bf3">  126</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a480f195496add656e79babc88fe33bf3">reply_code</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a7811a1435a73a97d1bba9b6a7c3806ca">  127</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#a7811a1435a73a97d1bba9b6a7c3806ca">is_multi_client</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#a025e270c7b5b5261c67b600332ee040b">  128</a></span>&#160;    <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434d">HandshakeState</a> <a class="code" href="struct_h_t_t_p_context.html#a025e270c7b5b5261c67b600332ee040b">handshake_step</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="struct_h_t_t_p_context.html#aacca94696a7e38a5b07b5dfaabc4d365">  129</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_h_t_t_p_context.html#aacca94696a7e38a5b07b5dfaabc4d365">is_connected_server</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="http_8c.html#a455a427d178d6f1eefeff90414cbceb9">  130</a></span>&#160;} <a class="code" href="http_8c.html#a455a427d178d6f1eefeff90414cbceb9">HTTPContext</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">  132</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(HTTPContext, x)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">  133</a></span>&#160;<span class="preprocessor">#define D AV_OPT_FLAG_DECODING_PARAM</span></div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">  134</a></span>&#160;<span class="preprocessor">#define E AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="http_8c.html#aa6407b49b77c8e44dc330223aa3be9a0">  135</a></span>&#160;<span class="preprocessor">#define DEFAULT_USER_AGENT &quot;Lavf/&quot; AV_STRINGIFY(LIBAVFORMAT_VERSION)</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">  137</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    { <span class="stringliteral">&quot;seekable&quot;</span>, <span class="stringliteral">&quot;control seekability of connection&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(seekable), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = -1 }, -1, 1, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    { <span class="stringliteral">&quot;chunked_post&quot;</span>, <span class="stringliteral">&quot;use chunked transfer-encoding for posts&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(chunked_post), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 1 }, 0, 1, <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    { <span class="stringliteral">&quot;http_proxy&quot;</span>, <span class="stringliteral">&quot;set HTTP proxy to tunnel through&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(http_proxy), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    { <span class="stringliteral">&quot;headers&quot;</span>, <span class="stringliteral">&quot;set custom HTTP headers, can override built in default headers&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="build__system_8txt.html#ad5f19473a15f2270898499b3f26b5948">headers</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    { <span class="stringliteral">&quot;content_type&quot;</span>, <span class="stringliteral">&quot;set a specific content type for the POST messages&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(content_type), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    { <span class="stringliteral">&quot;user_agent&quot;</span>, <span class="stringliteral">&quot;override User-Agent header&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(user_agent), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="http_8c.html#aa6407b49b77c8e44dc330223aa3be9a0">DEFAULT_USER_AGENT</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    { <span class="stringliteral">&quot;referer&quot;</span>, <span class="stringliteral">&quot;override referer header&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(referer), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#if FF_API_HTTP_USER_AGENT</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    { <span class="stringliteral">&quot;user-agent&quot;</span>, <span class="stringliteral">&quot;use the \&quot;user_agent\&quot; option instead&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(user_agent_deprecated), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="http_8c.html#aa6407b49b77c8e44dc330223aa3be9a0">DEFAULT_USER_AGENT</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="opt_8h.html#a62dad0721bb39d5c7449ec6d75f89c90">AV_OPT_FLAG_DEPRECATED</a> },</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    { <span class="stringliteral">&quot;multiple_requests&quot;</span>, <span class="stringliteral">&quot;use persistent connections&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(multiple_requests), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    { <span class="stringliteral">&quot;post_data&quot;</span>, <span class="stringliteral">&quot;set custom HTTP post data&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(post_data), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2689966edbe494482dfdfaa4efdf95d3">AV_OPT_TYPE_BINARY</a>, .flags = <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    { <span class="stringliteral">&quot;mime_type&quot;</span>, <span class="stringliteral">&quot;export the MIME type&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(mime_type), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="opt_8h.html#adf984463025a7861f3c21b113966cb53">AV_OPT_FLAG_EXPORT</a> | <a class="code" href="opt_8h.html#a5f24d30655a5aea4dc8bd7263dbfd78c">AV_OPT_FLAG_READONLY</a> },</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    { <span class="stringliteral">&quot;http_version&quot;</span>, <span class="stringliteral">&quot;export the http response version&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(http_version), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="opt_8h.html#adf984463025a7861f3c21b113966cb53">AV_OPT_FLAG_EXPORT</a> | <a class="code" href="opt_8h.html#a5f24d30655a5aea4dc8bd7263dbfd78c">AV_OPT_FLAG_READONLY</a> },</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    { <span class="stringliteral">&quot;cookies&quot;</span>, <span class="stringliteral">&quot;set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(cookies), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    { <span class="stringliteral">&quot;icy&quot;</span>, <span class="stringliteral">&quot;request ICY metadata&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(icy), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 1 }, 0, 1, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    { <span class="stringliteral">&quot;icy_metadata_headers&quot;</span>, <span class="stringliteral">&quot;return ICY metadata headers&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(icy_metadata_headers), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="opt_8h.html#adf984463025a7861f3c21b113966cb53">AV_OPT_FLAG_EXPORT</a> },</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    { <span class="stringliteral">&quot;icy_metadata_packet&quot;</span>, <span class="stringliteral">&quot;return current ICY metadata packet&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(icy_metadata_packet), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="opt_8h.html#adf984463025a7861f3c21b113966cb53">AV_OPT_FLAG_EXPORT</a> },</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    { <span class="stringliteral">&quot;metadata&quot;</span>, <span class="stringliteral">&quot;metadata read from the bitstream&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(metadata), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd">AV_OPT_TYPE_DICT</a>, {0}, 0, 0, <a class="code" href="opt_8h.html#adf984463025a7861f3c21b113966cb53">AV_OPT_FLAG_EXPORT</a> },</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    { <span class="stringliteral">&quot;auth_type&quot;</span>, <span class="stringliteral">&quot;HTTP authentication type&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(auth_state.auth_type), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> }, <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a>, <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da946b7e60a754342e83205964b31a77ba">HTTP_AUTH_BASIC</a>, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;auth_type&quot;</span>},</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    { <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;No auth method set, autodetect&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;auth_type&quot;</span>},</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    { <span class="stringliteral">&quot;basic&quot;</span>, <span class="stringliteral">&quot;HTTP basic authentication&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da946b7e60a754342e83205964b31a77ba">HTTP_AUTH_BASIC</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;auth_type&quot;</span>},</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    { <span class="stringliteral">&quot;send_expect_100&quot;</span>, <span class="stringliteral">&quot;Force sending an Expect: 100-continue header for POST&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(send_expect_100), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = -1 }, -1, 1, <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    { <span class="stringliteral">&quot;location&quot;</span>, <span class="stringliteral">&quot;The actual location of the data received&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(location), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    { <span class="stringliteral">&quot;offset&quot;</span>, <span class="stringliteral">&quot;initial byte offset&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(off), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a>, { .i64 = 0 }, 0, INT64_MAX, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    { <span class="stringliteral">&quot;end_offset&quot;</span>, <span class="stringliteral">&quot;try to limit the request to bytes preceding this offset&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(end_off), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a>, { .i64 = 0 }, 0, INT64_MAX, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    { <span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;Override the HTTP method or set the expected HTTP method from a client&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(method), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    { <span class="stringliteral">&quot;reconnect&quot;</span>, <span class="stringliteral">&quot;auto reconnect after disconnect before EOF&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reconnect), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    { <span class="stringliteral">&quot;reconnect_at_eof&quot;</span>, <span class="stringliteral">&quot;auto reconnect at EOF&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reconnect_at_eof), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    { <span class="stringliteral">&quot;reconnect_streamed&quot;</span>, <span class="stringliteral">&quot;auto reconnect streamed / non seekable streams&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reconnect_streamed), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    { <span class="stringliteral">&quot;reconnect_delay_max&quot;</span>, <span class="stringliteral">&quot;max reconnect delay in seconds after which to give up&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reconnect_delay_max), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 120 }, 0, UINT_MAX/1000/1000, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    { <span class="stringliteral">&quot;listen&quot;</span>, <span class="stringliteral">&quot;listen on HTTP&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(listen), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 0 }, 0, 2, <a class="code" href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> | <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    { <span class="stringliteral">&quot;resource&quot;</span>, <span class="stringliteral">&quot;The resource requested by a client&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(resource), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    { <span class="stringliteral">&quot;reply_code&quot;</span>, <span class="stringliteral">&quot;The http status code to return to a client&quot;</span>, <a class="code" href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reply_code), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 200}, INT_MIN, 599, <a class="code" href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;};</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#aae99dcd21d7573ec374b2eea6982615c">http_connect</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keyword">const</span> <span class="keywordtype">char</span> *local_path,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *hoststr, <span class="keyword">const</span> <span class="keywordtype">char</span> *auth,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *proxyauth, <span class="keywordtype">int</span> *new_location);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7">http_read_header</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> *new_location);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a23e3a685241551cfc4df18ac46692298">http_shutdown</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="http_8h.html#a8527e0c4ec245824858dfb167543e62d">  181</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="http_8c.html#a8527e0c4ec245824858dfb167543e62d">ff_http_init_auth_state</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *dest, <span class="keyword">const</span> <a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    memcpy(&amp;((<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *)dest-&gt;<a class="code" href="struct_u_r_l_context.html#a088b4e853876a2c4aa3929171fb49436">priv_data</a>)-&gt;auth_state,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;           &amp;((<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *)<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;priv_data)-&gt;auth_state,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;           <span class="keyword">sizeof</span>(<a class="code" href="struct_h_t_t_p_auth_state.html">HTTPAuthState</a>));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    memcpy(&amp;((<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *)dest-&gt;<a class="code" href="struct_u_r_l_context.html#a088b4e853876a2c4aa3929171fb49436">priv_data</a>)-&gt;proxy_auth_state,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;           &amp;((<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *)<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;priv_data)-&gt;proxy_auth_state,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;           <span class="keyword">sizeof</span>(<a class="code" href="struct_h_t_t_p_auth_state.html">HTTPAuthState</a>));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="http_8c.html#a4be0b6529b21a2061d01720420f16156">  191</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a4be0b6529b21a2061d01720420f16156">http_open_cnx_internal</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *path, *proxy_path, *lower_proto = <span class="stringliteral">&quot;tcp&quot;</span>, *local_path;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">char</span> *hashmark;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">char</span> hostname[1024], hoststr[1024], proto[10];</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">char</span> auth[1024], proxyauth[1024] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">char</span> path1[<a class="code" href="libavformat_2internal_8h.html#ab9c288a59a1c4d29847845c5d6ca455f">MAX_URL_SIZE</a>], sanitized_path[<a class="code" href="libavformat_2internal_8h.html#ab9c288a59a1c4d29847845c5d6ca455f">MAX_URL_SIZE</a>];</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">char</span> buf[1024], urlbuf[<a class="code" href="libavformat_2internal_8h.html#ab9c288a59a1c4d29847845c5d6ca455f">MAX_URL_SIZE</a>];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">int</span> port, use_proxy, err, location_changed = 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(proto, <span class="keyword">sizeof</span>(proto), auth, <span class="keyword">sizeof</span>(auth),</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                 hostname, <span class="keyword">sizeof</span>(hostname), &amp;port,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                 path1, <span class="keyword">sizeof</span>(path1), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="url_8c.html#af2b7200df356d64f059a956d3b70d60f">ff_url_join</a>(hoststr, <span class="keyword">sizeof</span>(hoststr), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, hostname, port, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    proxy_path = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_proxy ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_proxy : getenv(<span class="stringliteral">&quot;http_proxy&quot;</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    use_proxy  = !<a class="code" href="network_8c.html#ab3b881e58f6f1d9b114ad6bd852dc1f7">ff_http_match_no_proxy</a>(getenv(<span class="stringliteral">&quot;no_proxy&quot;</span>), hostname) &amp;&amp;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                 proxy_path &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(proxy_path, <span class="stringliteral">&quot;http://&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (!strcmp(proto, <span class="stringliteral">&quot;https&quot;</span>)) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        lower_proto = <span class="stringliteral">&quot;tls&quot;</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        use_proxy   = 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (port &lt; 0)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            port = 443;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (port &lt; 0)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        port = 80;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    hashmark = strchr(path1, <span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (hashmark)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        *hashmark = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (path1[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        path = <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path1[0] == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(sanitized_path, <span class="keyword">sizeof</span>(sanitized_path), <span class="stringliteral">&quot;/%s&quot;</span>, path1);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        path = sanitized_path;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        path = path1;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    local_path = path;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (use_proxy) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="comment">/* Reassemble the request URL without auth string - we don&#39;t</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">         * want to leak the auth to the proxy. */</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="url_8c.html#af2b7200df356d64f059a956d3b70d60f">ff_url_join</a>(urlbuf, <span class="keyword">sizeof</span>(urlbuf), proto, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, hostname, port, <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    path1);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        path = urlbuf;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, proxyauth, <span class="keyword">sizeof</span>(proxyauth),</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                     hostname, <span class="keyword">sizeof</span>(hostname), &amp;port, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, proxy_path);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="url_8c.html#af2b7200df356d64f059a956d3b70d60f">ff_url_join</a>(buf, <span class="keyword">sizeof</span>(buf), lower_proto, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, hostname, port, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        err = <a class="code" href="avio_8c.html#a653eb60f5e85060246f498947d9f24bb">ffurl_open_whitelist</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, buf, <a class="code" href="avio_8h.html#aba7dc6a03cfe63d2a7e2c00532007eb2">AVIO_FLAG_READ_WRITE</a>,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                   &amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;interrupt_callback, <a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                   <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;protocol_whitelist, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;protocol_blacklist, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    err = <a class="code" href="http_8c.html#aae99dcd21d7573ec374b2eea6982615c">http_connect</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, path, local_path, hoststr,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                       auth, proxyauth, &amp;location_changed);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> location_changed;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/* return non zero if error */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="http_8c.html#ae02ef74b5743a3704335097578c4c1b2">  262</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#ae02ef74b5743a3704335097578c4c1b2">http_open_cnx</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3d">HTTPAuthType</a> cur_auth_type, cur_proxy_auth_type;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordtype">int</span> location_changed, attempts = 0, redirects = 0;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;redo:</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chained_options, 0);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    cur_auth_type       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state.auth_type;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    cur_proxy_auth_type = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state.auth_type;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    location_changed = <a class="code" href="http_8c.html#a4be0b6529b21a2061d01720420f16156">http_open_cnx_internal</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (location_changed &lt; 0)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    attempts++;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code == 401) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span> ((cur_auth_type == <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state.stale) &amp;&amp;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state.auth_type != <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> &amp;&amp; attempts &lt; 4) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">goto</span> redo;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code == 407) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> ((cur_proxy_auth_type == <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state.stale) &amp;&amp;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state.auth_type != <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> &amp;&amp; attempts &lt; 4) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">goto</span> redo;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code == 301 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code == 302 ||</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code == 303 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code == 307) &amp;&amp;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        location_changed == 1) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="comment">/* url moved, get next */</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> (redirects++ &gt;= <a class="code" href="http_8c.html#ac02cde674a4c670cf571ab3f34b83f84">MAX_REDIRECTS</a>)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="comment">/* Restart the authentication process with the new target, which</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">         * might use a different auth mechanism. */</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state));</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        attempts         = 0;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        location_changed = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">goto</span> redo;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (location_changed &lt; 0)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> location_changed;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code, <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="http_8h.html#a5418f0c57a057b77594f587d2165e10b">  317</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="http_8c.html#a5418f0c57a057b77594f587d2165e10b">ff_http_get_shutdown_status</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">/* flush the receive buffer when it is write only mode */</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">int</span> read_ret;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    read_ret = <a class="code" href="avio_8c.html#a451aa14ea2eee6d188543213606f8385">ffurl_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (read_ret &lt; 0) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = read_ret;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="http_8h.html#aeaeca746d18be2f77975ab8c60e486cd">  333</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="http_8c.html#aeaeca746d18be2f77975ab8c60e486cd">ff_http_do_new_request</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a26d9d51c791dc3ee7a04a9ec25456f63">ff_http_do_new_request2</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, uri, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="http_8h.html#a2e0d57834a8dc682554453baeffb4c40">  337</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="http_8c.html#a26d9d51c791dc3ee7a04a9ec25456f63">ff_http_do_new_request2</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">char</span> hostname1[1024], hostname2[1024], proto1[10], proto2[10];</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">int</span> port1, port2;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;prot ||</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        !(!strcmp(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;prot-&gt;name, <span class="stringliteral">&quot;http&quot;</span>) ||</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          !strcmp(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;prot-&gt;name, <span class="stringliteral">&quot;https&quot;</span>)))</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(proto1, <span class="keyword">sizeof</span>(proto1), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                 hostname1, <span class="keyword">sizeof</span>(hostname1), &amp;port1,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                 <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(proto2, <span class="keyword">sizeof</span>(proto2), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                 hostname2, <span class="keyword">sizeof</span>(hostname2), &amp;port2,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                 <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, uri);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (port1 != port2 || strncmp(hostname1, hostname2, <span class="keyword">sizeof</span>(hostname2)) != 0) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Cannot reuse HTTP connection for different host: %s:%d != %s:%d\n&quot;</span>,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            hostname1, port1,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            hostname2, port2</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_chunked_post) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#a23e3a685241551cfc4df18ac46692298">http_shutdown</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;willclose)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_chunked_post = 0;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunkend      = 0;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off           = 0;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_data_read = 0;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(uri);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__avoptions.html#gaf1a88e8f152d7835f111b1ef8813fb2e">av_opt_set_dict</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>)) &lt; 0)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Opening \&#39;%s\&#39; for %s\n&quot;</span>, uri, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a> ? <span class="stringliteral">&quot;writing&quot;</span> : <span class="stringliteral">&quot;reading&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#ae02ef74b5743a3704335097578c4c1b2">http_open_cnx</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="http_8h.html#a5bb6b4d50abfb56eff038ba1abc14b92">  391</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a>(<span class="keywordtype">int</span> status_code, <span class="keywordtype">int</span> default_averror)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">switch</span> (status_code) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">case</span> 400: <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga2a19ca30d1962b51488a7210e8b68919">AVERROR_HTTP_BAD_REQUEST</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">case</span> 401: <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gacaebaf711c31f8ada97f87b42b58b794">AVERROR_HTTP_UNAUTHORIZED</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">case</span> 403: <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga114337140a3fec85cf76736f8e779659">AVERROR_HTTP_FORBIDDEN</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">case</span> 404: <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gafa8673dfcb9f0359bb6f7dda408952c4">AVERROR_HTTP_NOT_FOUND</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (status_code &gt;= 400 &amp;&amp; status_code &lt;= 499)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga696de4031a2188bdd1ee330a6c11cd0c">AVERROR_HTTP_OTHER_4XX</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status_code &gt;= 500)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga47662fddadd1c84284b85154f5553afa">AVERROR_HTTP_SERVER_ERROR</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">return</span> default_averror;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="http_8c.html#a897e2f67243b61705ea6b44784089f0d">  408</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a897e2f67243b61705ea6b44784089f0d">http_write_reply</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a>* <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> status_code)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="md5_8c.html#a8570c758e4feed3365b8b7600cd2e404">body</a> = 0, reply_code, message_len;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *reply_text, *content_type;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="structmessage.html">message</a>[<a class="code" href="http_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    content_type = <span class="stringliteral">&quot;text/plain&quot;</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span> (status_code &lt; 0)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="md5_8c.html#a8570c758e4feed3365b8b7600cd2e404">body</a> = 1;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">switch</span> (status_code) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__error.html#ga2a19ca30d1962b51488a7210e8b68919">AVERROR_HTTP_BAD_REQUEST</a>:</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">case</span> 400:</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        reply_code = 400;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        reply_text = <span class="stringliteral">&quot;Bad Request&quot;</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__error.html#ga114337140a3fec85cf76736f8e779659">AVERROR_HTTP_FORBIDDEN</a>:</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">case</span> 403:</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        reply_code = 403;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        reply_text = <span class="stringliteral">&quot;Forbidden&quot;</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__error.html#gafa8673dfcb9f0359bb6f7dda408952c4">AVERROR_HTTP_NOT_FOUND</a>:</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">case</span> 404:</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        reply_code = 404;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        reply_text = <span class="stringliteral">&quot;Not Found&quot;</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">case</span> 200:</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        reply_code = 200;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        reply_text = <span class="stringliteral">&quot;OK&quot;</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        content_type = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;content_type ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;content_type : <span class="stringliteral">&quot;application/octet-stream&quot;</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__error.html#ga47662fddadd1c84284b85154f5553afa">AVERROR_HTTP_SERVER_ERROR</a>:</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">case</span> 500:</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        reply_code = 500;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        reply_text = <span class="stringliteral">&quot;Internal server error&quot;</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="md5_8c.html#a8570c758e4feed3365b8b7600cd2e404">body</a>) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunked_post = 0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        message_len = <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="structmessage.html">message</a>, <span class="keyword">sizeof</span>(<a class="code" href="structmessage.html">message</a>),</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                 <span class="stringliteral">&quot;HTTP/1.1 %03d %s\r\n&quot;</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                 <span class="stringliteral">&quot;Content-Type: %s\r\n&quot;</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                 <span class="stringliteral">&quot;Content-Length: %&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot;\r\n&quot;</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                 <span class="stringliteral">&quot;%s&quot;</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                 <span class="stringliteral">&quot;\r\n&quot;</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                 <span class="stringliteral">&quot;%03d %s\r\n&quot;</span>,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                 reply_code,</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                 reply_text,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                 content_type,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                 strlen(reply_text) + 6, <span class="comment">// 3 digit status code + space + \r\n</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                 <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                 reply_code,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                 reply_text);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunked_post = 1;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        message_len = <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="structmessage.html">message</a>, <span class="keyword">sizeof</span>(<a class="code" href="structmessage.html">message</a>),</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                 <span class="stringliteral">&quot;HTTP/1.1 %03d %s\r\n&quot;</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                 <span class="stringliteral">&quot;Content-Type: %s\r\n&quot;</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                 <span class="stringliteral">&quot;Transfer-Encoding: chunked\r\n&quot;</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                 <span class="stringliteral">&quot;%s&quot;</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                 <span class="stringliteral">&quot;\r\n&quot;</span>,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                 reply_code,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                 reply_text,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                 content_type,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                 <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;HTTP reply header: \n%s----\n&quot;</span>, <a class="code" href="structmessage.html">message</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, <a class="code" href="structmessage.html">message</a>, message_len)) &lt; 0)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="http_8c.html#a9fe72a7d6c1a1c6e9230061c49988a00">  482</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="http_8c.html#a9fe72a7d6c1a1c6e9230061c49988a00">handle_http_errors</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> &lt; 0);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="http_8c.html#a897e2f67243b61705ea6b44784089f0d">http_write_reply</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="http_8c.html#a03583ab5c3b98f1b201b73bd53369624">  488</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a03583ab5c3b98f1b201b73bd53369624">http_handshake</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;{</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, err, new_location;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *ch = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;priv_data;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="struct_u_r_l_context.html">URLContext</a> *cl = ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#a0bd18ce690fe33f92ced117f5a23a222">hd</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">switch</span> (ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#a025e270c7b5b5261c67b600332ee040b">handshake_step</a>) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434dab477c197de00c0c78b2978f521a6a87d">LOWER_PROTO</a>:</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;Lower protocol\n&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#a2187c61f2293d37a62a28a19fff8ce69">ffurl_handshake</a>(cl)) &gt; 0)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">return</span> 2 + <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#a025e270c7b5b5261c67b600332ee040b">handshake_step</a> = <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daceb3e65f83376b07b705fd9d963f3cfc">READ_HEADERS</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#aacca94696a7e38a5b07b5dfaabc4d365">is_connected_server</a> = 1;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daceb3e65f83376b07b705fd9d963f3cfc">READ_HEADERS</a>:</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;Read headers\n&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7">http_read_header</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, &amp;new_location)) &lt; 0) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <a class="code" href="http_8c.html#a9fe72a7d6c1a1c6e9230061c49988a00">handle_http_errors</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, err);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#a025e270c7b5b5261c67b600332ee040b">handshake_step</a> = <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daf4c0c029b866950d7b54f08d1f59c5de">WRITE_REPLY_HEADERS</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434daf4c0c029b866950d7b54f08d1f59c5de">WRITE_REPLY_HEADERS</a>:</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;Reply code: %d\n&quot;</span>, ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#a480f195496add656e79babc88fe33bf3">reply_code</a>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="http_8c.html#a897e2f67243b61705ea6b44784089f0d">http_write_reply</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#a480f195496add656e79babc88fe33bf3">reply_code</a>)) &lt; 0)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        ch-&gt;<a class="code" href="struct_h_t_t_p_context.html#a025e270c7b5b5261c67b600332ee040b">handshake_step</a> = <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434da8b9af67858708d770f017e4aae85900d">FINISH</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434da8b9af67858708d770f017e4aae85900d">FINISH</a>:</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// this should never be reached.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="http_8c.html#a6344ca08eebe8f5dfe50dace69c0cee1">  524</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a6344ca08eebe8f5dfe50dace69c0cee1">http_listen</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                       <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">char</span> hostname[1024], proto[10];</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordtype">char</span> lower_url[100];</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *lower_proto = <span class="stringliteral">&quot;tcp&quot;</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordtype">int</span> port;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(proto, <span class="keyword">sizeof</span>(proto), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, hostname, <span class="keyword">sizeof</span>(hostname), &amp;port,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                 <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, uri);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (!strcmp(proto, <span class="stringliteral">&quot;https&quot;</span>))</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        lower_proto = <span class="stringliteral">&quot;tls&quot;</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="url_8c.html#af2b7200df356d64f059a956d3b70d60f">ff_url_join</a>(lower_url, <span class="keyword">sizeof</span>(lower_url), lower_proto, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, hostname, port,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <span class="stringliteral">&quot;listen&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;listen, 0)) &lt; 0)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#a653eb60f5e85060246f498947d9f24bb">ffurl_open_whitelist</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, lower_url, <a class="code" href="avio_8h.html#aba7dc6a03cfe63d2a7e2c00532007eb2">AVIO_FLAG_READ_WRITE</a>,</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                    &amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;interrupt_callback, <a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                    <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;protocol_whitelist, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;protocol_blacklist, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                   )) &lt; 0)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;handshake_step = <a class="code" href="http_8c.html#a064110dfc80d1d11620b1f45acca434dab477c197de00c0c78b2978f521a6a87d">LOWER_PROTO</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;listen == <a class="code" href="http_8c.html#a8b0b424d9d5feb6b5abaae87be2c757f">HTTP_SINGLE</a>) { <span class="comment">/* single client */</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reply_code = 200;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#a03583ab5c3b98f1b201b73bd53369624">http_handshake</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)) &gt; 0);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chained_options);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="http_8c.html#a08d28a134863d46a635b4b144096c333">  555</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a08d28a134863d46a635b4b144096c333">http_open</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                     <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seekable == 1 )</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 0;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 1;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize = UINT64_MAX;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(uri);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chained_options, *<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, 0);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = strlen(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 2 || strcmp(<span class="stringliteral">&quot;\r\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers + <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> - 2)) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                   <span class="stringliteral">&quot;No trailing CRLF found in HTTP header. Adding it.\n&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> + 3);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="keywordflow">goto</span> bail_out;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers[<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>]     = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers[<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> + 1] = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers[<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> + 2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;listen) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a6344ca08eebe8f5dfe50dace69c0cee1">http_listen</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, uri, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, <a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#ae02ef74b5743a3704335097578c4c1b2">http_open_cnx</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;bail_out:</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chained_options);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="http_8c.html#af34cebda5d4537315dd3d02df571dbd1">  597</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#af34cebda5d4537315dd3d02df571dbd1">http_accept</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_u_r_l_context.html">URLContext</a> **<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *sc = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *cc;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="struct_u_r_l_context.html">URLContext</a> *sl = sc-&gt;<a class="code" href="struct_h_t_t_p_context.html#a0bd18ce690fe33f92ced117f5a23a222">hd</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="struct_u_r_l_context.html">URLContext</a> *cl = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(sc-&gt;<a class="code" href="struct_h_t_t_p_context.html#a49b179f529c77c6df7a1bf00347f2fa0">listen</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#a3934b771050cfd461c49555469beca7e">ffurl_alloc</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filename, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags, &amp;sl-&gt;<a class="code" href="struct_u_r_l_context.html#a492308c6d237854fb2e05d71b1431198">interrupt_callback</a>)) &lt; 0)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    cc = (*c)-&gt;priv_data;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#a7db0fe1235591072f873159cf0c227b0">ffurl_accept</a>(sl, &amp;cl)) &lt; 0)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    cc-&gt;<a class="code" href="struct_h_t_t_p_context.html#a0bd18ce690fe33f92ced117f5a23a222">hd</a> = cl;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    cc-&gt;<a class="code" href="struct_h_t_t_p_context.html#a7811a1435a73a97d1bba9b6a7c3806ca">is_multi_client</a> = 1;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="http_8c.html#a35d119c61b31c753c86099b93679a089">  621</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a35d119c61b31c753c86099b93679a089">http_getc</a>(<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="avio_8c.html#a451aa14ea2eee6d188543213606f8385">ffurl_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, <a class="code" href="http_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 0) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> == 0) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer + <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr++;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="http_8c.html#a592dbafc889b6deb257771ff990853d3">  638</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a592dbafc889b6deb257771ff990853d3">http_get_line</a>(<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">char</span> *<a class="code" href="structline.html">line</a>, <span class="keywordtype">int</span> line_size)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordtype">int</span> ch;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    q = <a class="code" href="swscale_8txt.html#aa111755617738a3e99d08d488ed0d3c4">line</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        ch = <a class="code" href="http_8c.html#a35d119c61b31c753c86099b93679a089">http_getc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">if</span> (ch &lt; 0)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keywordflow">return</span> ch;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="comment">/* process line */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">if</span> (q &gt; <a class="code" href="structline.html">line</a> &amp;&amp; q[-1] == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                q--;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            *q = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">if</span> ((q - <a class="code" href="structline.html">line</a>) &lt; line_size - 1)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                *q++ = ch;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="http_8c.html#a7fc4c956c6482b3fca476bf0f7b6de83">  662</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a7fc4c956c6482b3fca476bf0f7b6de83">check_http_code</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> http_code, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">/* error codes are 4xx and 5xx, but regard 401 as a success, so we</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">     * don&#39;t abort until all headers have been parsed. */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (http_code &gt;= 400 &amp;&amp; http_code &lt; 600 &amp;&amp;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        (http_code != 401 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state.auth_type != <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a>) &amp;&amp;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        (http_code != 407 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state.auth_type != <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a>)) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> += strspn(<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>, <a class="code" href="libavformat_2internal_8h.html#aa4f848c169b0eb413afcdf35a1201af3">SPACE_CHARS</a>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;HTTP error %d %s\n&quot;</span>, http_code, <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a>(http_code, <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO));</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="http_8c.html#aff91b7551e89e81ca442dfb594a36d15">  677</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#aff91b7551e89e81ca442dfb594a36d15">parse_location</a>(<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;{</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordtype">char</span> redirected_location[<a class="code" href="libavformat_2internal_8h.html#ab9c288a59a1c4d29847845c5d6ca455f">MAX_URL_SIZE</a>], *new_loc;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="url_8c.html#ad105214adbfccb8143dffe2e1c6057ba">ff_make_absolute_url</a>(redirected_location, <span class="keyword">sizeof</span>(redirected_location),</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                         <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location, p);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    new_loc = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(redirected_location);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span> (!new_loc)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;location = new_loc;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">/* &quot;bytes $from-$to/$document_size&quot; */</span></div>
<div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="http_8c.html#a5295e67f34cf36d3037600c31ee1d45e">  691</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="http_8c.html#a5295e67f34cf36d3037600c31ee1d45e">parse_content_range</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;{</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *slash;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (!strncmp(p, <span class="stringliteral">&quot;bytes &quot;</span>, 6)) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        p     += 6;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off = strtoull(p, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">if</span> ((slash = strchr(p, <span class="charliteral">&#39;/&#39;</span>)) &amp;&amp; strlen(slash) &gt; 0)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize = strtoull(slash + 1, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seekable == -1 &amp;&amp; (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_akamai || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize != 2147483647))</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 0; <span class="comment">/* we _can_ in fact seek */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="http_8c.html#a131ae54694371858cf1b571821c54f38">  706</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a131ae54694371858cf1b571821c54f38">parse_content_encoding</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;{</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(p, <span class="stringliteral">&quot;gzip&quot;</span>, 4) ||</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        !<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(p, <span class="stringliteral">&quot;deflate&quot;</span>, 7)) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">#if CONFIG_ZLIB</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;compressed = 1;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        inflateEnd(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span> (inflateInit2(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream, 32 + 15) != Z_OK) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Error during zlib initialisation: %s\n&quot;</span>,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.msg);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">if</span> (zlibCompileFlags() &amp; (1 &lt;&lt; 17)) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                   <span class="stringliteral">&quot;Your zlib was compiled without gzip support.\n&quot;</span>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;               <span class="stringliteral">&quot;Compressed (%s) content, need zlib with gzip support\n&quot;</span>, p);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_ZLIB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(p, <span class="stringliteral">&quot;identity&quot;</span>, 8)) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="comment">// The normal, no-encoding case (although servers shouldn&#39;t include</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// the header at all if this is the case).</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown content coding: %s\n&quot;</span>, p);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">// Concat all Icy- header lines</span></div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="http_8c.html#a616b13098910267df4f2fae9daafb8b4">  740</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a616b13098910267df4f2fae9daafb8b4">parse_icy</a>(<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 4 + strlen(p) + strlen(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordtype">int</span> is_first = !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metadata_headers;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, p, 0);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metadata_headers)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> += strlen(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metadata_headers);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metadata_headers, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)) &lt; 0)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (is_first)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metadata_headers = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metadata_headers, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <span class="stringliteral">&quot;%s: %s\n&quot;</span>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, p);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="http_8c.html#ab6c178827f37539605e089065d0a1704">  762</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#ab6c178827f37539605e089065d0a1704">parse_set_cookie_expiry_time</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *exp_str, <span class="keyword">struct</span> tm *buf)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;{</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordtype">char</span> exp_buf[<a class="code" href="http_8c.html#a045bcf6c026ff7ae2af603f67cd81c5b">MAX_EXPIRY</a>];</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, exp_buf_len = <a class="code" href="http_8c.html#a045bcf6c026ff7ae2af603f67cd81c5b">MAX_EXPIRY</a>-1;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordtype">char</span> *expiry;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// strip off any punctuation or whitespace</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, j = 0; exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; j &lt; exp_buf_len; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">if</span> ((exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;= <span class="charliteral">&#39;9&#39;</span>) ||</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            (exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;= <span class="charliteral">&#39;Z&#39;</span>) ||</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            (exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;= <span class="charliteral">&#39;z&#39;</span>)) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            exp_buf[j] = exp_str[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            j++;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    exp_buf[j] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    expiry = exp_buf;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// move the string beyond the day of week</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">while</span> ((*expiry &lt; &#39;0&#39; || *expiry &gt; <span class="charliteral">&#39;9&#39;</span>) &amp;&amp; *expiry != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        expiry++;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="parseutils_8c.html#acd5cd7c7ffea52ca3697864253384ffe">av_small_strptime</a>(expiry, <span class="stringliteral">&quot;%d%b%Y%H%M%S&quot;</span>, buf) ? 0 : <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="http_8c.html#a2a9a7aca01b0232a71abc2842cbc6d5a">  787</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a2a9a7aca01b0232a71abc2842cbc6d5a">parse_set_cookie</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *set_cookie, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **dict)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;{</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordtype">char</span> *param, *next_param, *cstr, *back;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordtype">char</span> *saveptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (!set_cookie[0])</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (!(cstr = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(set_cookie)))</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// strip any trailing whitespace</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    back = &amp;cstr[strlen(cstr)-1];</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">while</span> (strchr(<a class="code" href="http_8c.html#ae486692fac07c1c1ef2a7d32e9e57463">WHITESPACES</a>, *back)) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        *back=<span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">if</span> (back == cstr)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        back--;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    next_param = cstr;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">while</span> ((param = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(next_param, <span class="stringliteral">&quot;;&quot;</span>, &amp;saveptr))) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, *<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        next_param = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        param += strspn(param, <a class="code" href="http_8c.html#ae486692fac07c1c1ef2a7d32e9e57463">WHITESPACES</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a> = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(param, <span class="stringliteral">&quot;=&quot;</span>, &amp;<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>))) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(dict, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, 0) &lt; 0) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(cstr);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(cstr);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="http_8c.html#ae692948cc4a9cd2e0c2a74bd1b5bfecb">  824</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#ae692948cc4a9cd2e0c2a74bd1b5bfecb">parse_cookie</a>(<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *p, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **cookies)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *new_params = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *e, *cookie_entry;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordtype">char</span> *eql, *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">// ensure the cookie is parsable</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="http_8c.html#a2a9a7aca01b0232a71abc2842cbc6d5a">parse_set_cookie</a>(p, &amp;new_params))</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// if there is no cookie value there is nothing to parse</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    cookie_entry = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(new_params, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (!cookie_entry || !cookie_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;new_params);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// ensure the cookie is not expired or older than an existing value</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">if</span> ((e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(new_params, <span class="stringliteral">&quot;expires&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) &amp;&amp; e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keyword">struct </span>tm new_tm = {0};</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#ab6c178827f37539605e089065d0a1704">parse_set_cookie_expiry_time</a>(e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, &amp;new_tm)) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *e2;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="comment">// if the cookie has already expired ignore it</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ae9bf34b50b9762f3c733721d5210b52d">av_timegm</a>(&amp;new_tm) &lt; <a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>() / 1000000) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;new_params);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="comment">// only replace an older cookie with the same name</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            e2 = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(*cookies, cookie_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordflow">if</span> (e2 &amp;&amp; e2-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *old_params = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a2a9a7aca01b0232a71abc2842cbc6d5a">parse_set_cookie</a>(p, &amp;old_params)) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    e2 = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(old_params, <span class="stringliteral">&quot;expires&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                    <span class="keywordflow">if</span> (e2 &amp;&amp; e2-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                        <span class="keyword">struct </span>tm old_tm = {0};</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#ab6c178827f37539605e089065d0a1704">parse_set_cookie_expiry_time</a>(e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, &amp;old_tm)) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ae9bf34b50b9762f3c733721d5210b52d">av_timegm</a>(&amp;new_tm) &lt; <a class="code" href="parseutils_8c.html#ae9bf34b50b9762f3c733721d5210b52d">av_timegm</a>(&amp;old_tm)) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;new_params);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;old_params);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                            }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                        }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;old_params);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;new_params);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// duplicate the cookie name (dict will dupe the value)</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span> (!(eql = strchr(p, <span class="charliteral">&#39;=&#39;</span>))) <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a> = <a class="code" href="group__lavu__mem__funcs.html#gaffde7a717e3a603ed11a998c18d68cad">av_strndup</a>(p, eql - p))) <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// add the cookie to the dictionary</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(cookies, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, eql, <a class="code" href="group__lavu__dict.html#gacb0ce4f20c15bf174f93590ace0fc8fd">AV_DICT_DONT_STRDUP_KEY</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;}</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="http_8c.html#a09db757e6003d86e75291b688d816c43">  886</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a09db757e6003d86e75291b688d816c43">cookie_string</a>(<a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *dict, <span class="keywordtype">char</span> **cookies)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;{</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *e = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 1;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// determine how much memory is needed for the cookies string</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">while</span> (e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(dict, <span class="stringliteral">&quot;&quot;</span>, e, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>))</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> += strlen(e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>) + strlen(e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>) + 1;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">// reallocate the cookies</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    e = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (*cookies) <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(*cookies);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    *cookies = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (!*cookies) <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    *cookies[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="comment">// write out the cookies</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">while</span> (e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(dict, <span class="stringliteral">&quot;&quot;</span>, e, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>))</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(*cookies, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <span class="stringliteral">&quot;%s%s\n&quot;</span>, e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="http_8c.html#a65b0feefea66ae01b485387fa2d84e1a">  909</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a65b0feefea66ae01b485387fa2d84e1a">process_line</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">char</span> *<a class="code" href="structline.html">line</a>, <span class="keywordtype">int</span> line_count,</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                        <span class="keywordtype">int</span> *new_location)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;{</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *auto_method =  <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a> ? <span class="stringliteral">&quot;POST&quot;</span> : <span class="stringliteral">&quot;GET&quot;</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, *p, *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>, *method, *resource, *<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">/* end of header */</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structline.html">line</a>[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_header = 1;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    p = <a class="code" href="swscale_8txt.html#aa111755617738a3e99d08d488ed0d3c4">line</a>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (line_count == 0) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected_server) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="comment">// HTTP method</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            method = p;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="keywordflow">while</span> (*p &amp;&amp; !<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p))</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                p++;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            *(p++) = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;Received method: %s\n&quot;</span>, method);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;method) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;method, method)) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Received and expected HTTP method do not match. (%s expected, %s received)\n&quot;</span>,</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                           <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;method, method);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a>(400, <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO));</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="comment">// use autodetected HTTP method to expect</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;Autodetected %s HTTP method\n&quot;</span>, auto_method);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(auto_method, method)) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Received and autodetected HTTP method did not match &quot;</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                           <span class="stringliteral">&quot;(%s autodetected %s received)\n&quot;</span>, auto_method, method);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a>(400, <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO));</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;method = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(method)))</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="comment">// HTTP resource</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p))</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                p++;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            resource = p;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="keywordflow">while</span> (*p &amp;&amp; !<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p))</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                p++;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            *(p++) = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;Requested resource: %s\n&quot;</span>, resource);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resource = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(resource)))</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <span class="comment">// HTTP version</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p))</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                p++;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = p;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="keywordflow">while</span> (*p &amp;&amp; !<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p))</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                p++;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            *p = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>, <span class="stringliteral">&quot;HTTP/&quot;</span>, 5)) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Malformed HTTP version string.\n&quot;</span>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a>(400, <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO));</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;HTTP version string: %s\n&quot;</span>, <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(p, <span class="stringliteral">&quot;HTTP/1.0&quot;</span>, 8) == 0)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;willclose = 1;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            <span class="keywordflow">while</span> (*p != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; *p != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                p++;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <span class="keywordflow">while</span> (*p == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                p++;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_version);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_version = <a class="code" href="group__lavu__mem__funcs.html#gaffde7a717e3a603ed11a998c18d68cad">av_strndup</a>(p, 3);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <span class="keywordflow">while</span> (!<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p) &amp;&amp; *p != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                p++;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p))</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                p++;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code = strtol(p, &amp;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>, 10);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;http_code=%d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#a7fc4c956c6482b3fca476bf0f7b6de83">check_http_code</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code, <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>)) &lt; 0)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">while</span> (*p != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; *p != <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            p++;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        *p  = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="swscale_8txt.html#aa111755617738a3e99d08d488ed0d3c4">line</a>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        p++;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*p))</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            p++;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Location&quot;</span>)) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#aff91b7551e89e81ca442dfb594a36d15">parse_location</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, p)) &lt; 0)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            *new_location = 1;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize == UINT64_MAX) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize = strtoull(p, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Content-Range&quot;</span>)) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <a class="code" href="http_8c.html#a5295e67f34cf36d3037600c31ee1d45e">parse_content_range</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, p);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Accept-Ranges&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                   !strncmp(p, <span class="stringliteral">&quot;bytes&quot;</span>, 5) &amp;&amp;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seekable == -1) {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 0;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                   !<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(p, <span class="stringliteral">&quot;chunked&quot;</span>, 7)) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize  = UINT64_MAX;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize = 0;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;WWW-Authenticate&quot;</span>)) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <a class="code" href="httpauth_8c.html#aeb242068568eeee8a69260bbe1a56ce6">ff_http_auth_handle_header</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, p);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Authentication-Info&quot;</span>)) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <a class="code" href="httpauth_8c.html#aeb242068568eeee8a69260bbe1a56ce6">ff_http_auth_handle_header</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, p);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Proxy-Authenticate&quot;</span>)) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <a class="code" href="httpauth_8c.html#aeb242068568eeee8a69260bbe1a56ce6">ff_http_auth_handle_header</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, p);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Connection&quot;</span>)) {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="keywordflow">if</span> (!strcmp(p, <span class="stringliteral">&quot;close&quot;</span>))</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;willclose = 1;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Server&quot;</span>)) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(p, <span class="stringliteral">&quot;AkamaiGHost&quot;</span>)) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_akamai = 1;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(p, <span class="stringliteral">&quot;MediaGateway&quot;</span>, 12)) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_mediagateway = 1;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Content-Type&quot;</span>)) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mime_type);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mime_type = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(p);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Set-Cookie&quot;</span>)) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="http_8c.html#ae692948cc4a9cd2e0c2a74bd1b5bfecb">parse_cookie</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, p, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookie_dict))</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to parse &#39;%s&#39;\n&quot;</span>, p);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Icy-MetaInt&quot;</span>)) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metaint = strtoull(p, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Icy-&quot;</span>, 4)) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#a616b13098910267df4f2fae9daafb8b4">parse_icy</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, p)) &lt; 0)</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="stringliteral">&quot;Content-Encoding&quot;</span>)) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#a131ae54694371858cf1b571821c54f38">parse_content_encoding</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, p)) &lt; 0)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="http_8c.html#a449bafd9d20125817cde72e5594c81d0"> 1063</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a449bafd9d20125817cde72e5594c81d0">get_cookies</a>(<a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">char</span> **cookies, <span class="keyword">const</span> <span class="keywordtype">char</span> *path,</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span> *domain)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="comment">// cookie strings will look like Set-Cookie header field values.  Multiple</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">// Set-Cookie fields will result in multiple values delimited by a newline</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordtype">char</span> *cookie, *set_cookies, *next;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordtype">char</span> *saveptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">// destroy any cookies in the dictionary.</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookie_dict);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookies)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    next = set_cookies = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookies);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (!next)</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    *cookies = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">while</span> ((cookie = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(next, <span class="stringliteral">&quot;\n&quot;</span>, &amp;saveptr)) &amp;&amp; !<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *cookie_params = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *cookie_entry, *e;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        next = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="comment">// store the cookie in a dict in case it is updated in the response</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="http_8c.html#ae692948cc4a9cd2e0c2a74bd1b5bfecb">parse_cookie</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, cookie, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookie_dict))</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to parse &#39;%s&#39;\n&quot;</span>, cookie);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="comment">// continue on to the next cookie if this one cannot be parsed</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="http_8c.html#a2a9a7aca01b0232a71abc2842cbc6d5a">parse_set_cookie</a>(cookie, &amp;cookie_params))</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordflow">goto</span> skip_cookie;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="comment">// if the cookie has no value, skip it</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        cookie_entry = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(cookie_params, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">if</span> (!cookie_entry || !cookie_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <span class="keywordflow">goto</span> skip_cookie;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="comment">// if the cookie has expired, don&#39;t add it</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">if</span> ((e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(cookie_params, <span class="stringliteral">&quot;expires&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) &amp;&amp; e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keyword">struct </span>tm tm_buf = {0};</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#ab6c178827f37539605e089065d0a1704">parse_set_cookie_expiry_time</a>(e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, &amp;tm_buf)) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ae9bf34b50b9762f3c733721d5210b52d">av_timegm</a>(&amp;tm_buf) &lt; <a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>() / 1000000)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                    <span class="keywordflow">goto</span> skip_cookie;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="comment">// if no domain in the cookie assume it appied to this request</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">if</span> ((e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(cookie_params, <span class="stringliteral">&quot;domain&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) &amp;&amp; e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="comment">// find the offset comparison is on the min domain (b.com, not a.b.com)</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <span class="keywordtype">int</span> domain_offset = strlen(domain) - strlen(e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">if</span> (domain_offset &lt; 0)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                <span class="keywordflow">goto</span> skip_cookie;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="comment">// match the cookie domain</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(&amp;domain[domain_offset], e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>))</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                <span class="keywordflow">goto</span> skip_cookie;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="comment">// ensure this cookie matches the path</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(cookie_params, <span class="stringliteral">&quot;path&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">if</span> (!e || <a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(path, e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, strlen(e-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>)))</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">goto</span> skip_cookie;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="comment">// cookie parameters match, so copy the value</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">if</span> (!*cookies) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            *cookies = <a class="code" href="avstring_8c.html#a8cee948e00ad684c285e0f98639fcd21">av_asprintf</a>(<span class="stringliteral">&quot;%s=%s&quot;</span>, cookie_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, cookie_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            <span class="keywordtype">char</span> *tmp = *cookies;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            *cookies = <a class="code" href="avstring_8c.html#a8cee948e00ad684c285e0f98639fcd21">av_asprintf</a>(<span class="stringliteral">&quot;%s; %s=%s&quot;</span>, tmp, cookie_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, cookie_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(tmp);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">if</span> (!*cookies)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    skip_cookie:</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;cookie_params);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(set_cookies);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a"> 1147</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>)</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;{</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="comment">/* header + 2 to skip over CRLF prefix. (make sure you have one!) */</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__string.html#gacd29ff1f7e62230a113c88fa10d3f5b9">av_stristart</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a> + 2, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || <a class="code" href="group__lavu__string.html#ga47e14424edfb96d3f6bf0fca96a76fe5">av_stristr</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"><a class="line" href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7"> 1155</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7">http_read_header</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> *new_location)</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;{</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="structline.html">line</a>[<a class="code" href="libavformat_2internal_8h.html#ab9c288a59a1c4d29847845c5d6ca455f">MAX_URL_SIZE</a>];</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize = UINT64_MAX;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="http_8c.html#a592dbafc889b6deb257771ff990853d3">http_get_line</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="structline.html">line</a>, <span class="keyword">sizeof</span>(<a class="code" href="structline.html">line</a>))) &lt; 0)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;header=&#39;%s&#39;\n&quot;</span>, <a class="code" href="structline.html">line</a>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        err = <a class="code" href="http_8c.html#a65b0feefea66ae01b485387fa2d84e1a">process_line</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="structline.html">line</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;line_count, new_location);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <span class="keywordflow">if</span> (err == 0)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;line_count++;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seekable == -1 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_mediagateway &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize == 2000000000)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 1; <span class="comment">/* we can in fact _not_ seek */</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">// add any new cookies into the existing cookie string</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="http_8c.html#a09db757e6003d86e75291b688d816c43">cookie_string</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookie_dict, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookies);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookie_dict);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"><a class="line" href="http_8c.html#abd6354cf5d7211c7c06943f1aceb096f"> 1194</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="http_8c.html#abd6354cf5d7211c7c06943f1aceb096f">bprint_escaped_path</a>(AVBPrint *bp, <span class="keyword">const</span> <span class="keywordtype">char</span> *path)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;{</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="preprocessor">#define NEEDS_ESCAPE(ch) \</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="preprocessor">    ((ch) &lt;= &#39; &#39; || (ch) &gt;= &#39;\x7f&#39; || \</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="preprocessor">     (ch) == &#39;&quot;&#39; || (ch) == &#39;%&#39; || (ch) == &#39;&lt;&#39; || (ch) == &#39;&gt;&#39; || (ch) == &#39;\\&#39; || \</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="preprocessor">     (ch) == &#39;^&#39; || (ch) == &#39;`&#39; || (ch) == &#39;{&#39; || (ch) == &#39;}&#39; || (ch) == &#39;|&#39;)</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">while</span> (*path) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordtype">char</span> *q = buf;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="keywordflow">while</span> (*path &amp;&amp; q - buf &lt; <span class="keyword">sizeof</span>(buf) - 4) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            <span class="keywordflow">if</span> (path[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; <a class="code" href="group__lavu__string.html#ga644b6231c0c43b9e2925db980f6bfa81">av_isxdigit</a>(path[1]) &amp;&amp; <a class="code" href="group__lavu__string.html#ga644b6231c0c43b9e2925db980f6bfa81">av_isxdigit</a>(path[2])) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                *q++ = *path++;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                *q++ = *path++;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                *q++ = *path++;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="http_8c.html#a0bbb1653b36c7d9c6b95f147e1b8c930">NEEDS_ESCAPE</a>(*path)) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                q += <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(q, 4, <span class="stringliteral">&quot;%%%02X&quot;</span>, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>)*path++);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                *q++ = *path++;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <a class="code" href="bprint_8c.html#aa215ba46a975d996e483cf0b9dcc85e5">av_bprint_append_data</a>(bp, buf, q - buf);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"><a class="line" href="http_8c.html#aae99dcd21d7573ec374b2eea6982615c"> 1218</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#aae99dcd21d7573ec374b2eea6982615c">http_connect</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keyword">const</span> <span class="keywordtype">char</span> *local_path,</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *hoststr, <span class="keyword">const</span> <span class="keywordtype">char</span> *auth,</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *proxyauth, <span class="keywordtype">int</span> *new_location)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordtype">int</span> post, err;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    AVBPrint request;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordtype">char</span> *authstr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *proxyauthstr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    uint64_t off = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *method;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordtype">int</span> send_expect_100 = 0;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <a class="code" href="bprint_8c.html#af70c16532f4ba50c599e4eaa67a1d63b">av_bprint_init_for_buffer</a>(&amp;request, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer));</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="comment">/* send http header */</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    post = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_data) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="comment">/* force POST method and disable chunked encoding when</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">         * custom HTTP post data is set */</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        post            = 1;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunked_post = 0;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;method)</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        method = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;method;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        method = post ? <span class="stringliteral">&quot;POST&quot;</span> : <span class="stringliteral">&quot;GET&quot;</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    authstr      = <a class="code" href="httpauth_8c.html#a258aea4149497a9fc38b93ab4d74cf32">ff_http_auth_create_response</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state, auth,</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                                                local_path, method);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    proxyauthstr = <a class="code" href="httpauth_8c.html#a258aea4149497a9fc38b93ab4d74cf32">ff_http_auth_create_response</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state, proxyauth,</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                                                local_path, method);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;     <span class="keywordflow">if</span> (post &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_data) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;send_expect_100 != -1) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            send_expect_100 = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;send_expect_100;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            send_expect_100 = 0;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="comment">/* The user has supplied authentication but we don&#39;t know the auth type,</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">             * send Expect: 100-continue to get the 401 response including the</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">             * WWW-Authenticate header, or an 100 continue if no auth actually</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">             * is needed. */</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">if</span> (auth &amp;&amp; *auth &amp;&amp;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;auth_state.auth_type == <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> &amp;&amp;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code != 401)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                send_expect_100 = 1;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="preprocessor">#if FF_API_HTTP_USER_AGENT</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;user_agent_deprecated, <a class="code" href="http_8c.html#aa6407b49b77c8e44dc330223aa3be9a0">DEFAULT_USER_AGENT</a>)) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;user_agent = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;user_agent_deprecated);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    }</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160; </div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;%s &quot;</span>, method);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <a class="code" href="http_8c.html#abd6354cf5d7211c7c06943f1aceb096f">bprint_escaped_path</a>(&amp;request, path);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot; HTTP/1.1\r\n&quot;</span>);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">if</span> (post &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunked_post)</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Transfer-Encoding: chunked\r\n&quot;</span>);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="comment">/* set default headers if needed */</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nUser-Agent: &quot;</span>))</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;User-Agent: %s\r\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;user_agent);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;referer) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="comment">/* set default headers if needed */</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nReferer: &quot;</span>))</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Referer: %s\r\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;referer);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nAccept: &quot;</span>))</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Accept: */*\r\n&quot;</span>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">// Note: we send this on purpose even when s-&gt;off is 0 when we&#39;re probing,</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="comment">// since it allows us to detect more reliably if a (non-conforming)</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">// server supports seeking by analysing the reply headers.</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nRange: &quot;</span>) &amp;&amp; !post &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off &gt; 0 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seekable == -1)) {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Range: bytes=%&quot;</span>PRIu64<span class="stringliteral">&quot;-&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off)</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;%&quot;</span>PRId64, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off - 1);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (send_expect_100 &amp;&amp; !<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nExpect: &quot;</span>))</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Expect: 100-continue\r\n&quot;</span>);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nConnection: &quot;</span>))</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Connection: %s\r\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;multiple_requests ? <span class="stringliteral">&quot;keep-alive&quot;</span> : <span class="stringliteral">&quot;close&quot;</span>);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nHost: &quot;</span>))</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Host: %s\r\n&quot;</span>, hoststr);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nContent-Length: &quot;</span>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_data)</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Content-Length: %d\r\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_datalen);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nContent-Type: &quot;</span>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;content_type)</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Content-Type: %s\r\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;content_type);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nCookie: &quot;</span>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cookies) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="keywordtype">char</span> *cookies = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a449bafd9d20125817cde72e5594c81d0">get_cookies</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;cookies, path, hoststr) &amp;&amp; cookies) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Cookie: %s\r\n&quot;</span>, cookies);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(cookies);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers, <span class="stringliteral">&quot;\r\nIcy-MetaData: &quot;</span>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Icy-MetaData: 1\r\n&quot;</span>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="comment">/* now add in custom headers */</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers)</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;headers);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">if</span> (authstr)</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;%s&quot;</span>, authstr);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">if</span> (proxyauthstr)</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;Proxy-%s&quot;</span>, proxyauthstr);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;request, <span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;request: %s\n&quot;</span>, request.str);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a>(&amp;request)) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;overlong headers\n&quot;</span>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        err = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, request.str, request.len)) &lt; 0)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_data)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_data, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_datalen)) &lt; 0)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="comment">/* init input buffer */</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr          = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end          = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;line_count       = 0;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off              = 0;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_data_read    = 0;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize         = UINT64_MAX;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;willclose        = 0;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_chunked_post = 0;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_header       = 0;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="preprocessor">#if CONFIG_ZLIB</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;compressed       = 0;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">if</span> (post &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;post_data &amp;&amp; !send_expect_100) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="comment">/* Pretend that it did work. We didn&#39;t read any header yet, since</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">         * we&#39;ve still to send the POST data, but the code calling this</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment">         * function will check http_code after we return. */</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code = 200;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        err = 0;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="comment">/* wait for header */</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    err = <a class="code" href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7">http_read_header</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, new_location);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (*new_location)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off = off;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    err = (off == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off) ? 0 : -1;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;done:</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;authstr);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;proxyauthstr);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"><a class="line" href="http_8c.html#a5be1822c49bf8ae16791f221b99b6fc7"> 1384</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a5be1822c49bf8ae16791f221b99b6fc7">http_buf_read</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;{</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize != UINT64_MAX) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunkend) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="structline.html">line</a>[32];</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                <span class="keywordflow">if</span> ((err = <a class="code" href="http_8c.html#a592dbafc889b6deb257771ff990853d3">http_get_line</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="structline.html">line</a>, <span class="keyword">sizeof</span>(<a class="code" href="structline.html">line</a>))) &lt; 0)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            } <span class="keywordflow">while</span> (!*<a class="code" href="structline.html">line</a>);    <span class="comment">/* skip CR LF from last chunk */</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize = strtoull(<a class="code" href="structline.html">line</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 16);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>,</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                   <span class="stringliteral">&quot;Chunked encoding data size: %&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;multiple_requests) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                <a class="code" href="http_8c.html#a592dbafc889b6deb257771ff990853d3">http_get_line</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="structline.html">line</a>, <span class="keyword">sizeof</span>(<a class="code" href="structline.html">line</a>)); <span class="comment">// read empty chunk</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunkend = 1;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Last chunk received, closing conn\n&quot;</span>);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize == UINT64_MAX) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid chunk size %&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                       <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="comment">/* read bytes from input buffer first */</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt; 0) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        memcpy(buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        uint64_t target_end = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keywordflow">if</span> ((!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;willclose || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize == UINT64_MAX) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off &gt;= target_end)</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="avio_8c.html#a451aa14ea2eee6d188543213606f8385">ffurl_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <span class="keywordflow">if</span> ((!<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> || <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>) &amp;&amp;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;willclose || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize == UINT64_MAX) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off &lt; target_end) {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                   <span class="stringliteral">&quot;Stream ends prematurely at %&quot;</span>PRIu64<span class="stringliteral">&quot;, should be %&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off, target_end</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                  );</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt; 0) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize &gt; 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize != UINT64_MAX) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize &gt;= <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunksize -= <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;}</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="preprocessor">#if CONFIG_ZLIB</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="preprocessor">#define DECOMPRESS_BUF_SIZE (256 * 1024)</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> http_buf_read_compressed(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;{</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_buffer) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_buffer = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(DECOMPRESS_BUF_SIZE);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_buffer)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    }</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.avail_in == 0) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="keywordtype">int</span> read = <a class="code" href="http_8c.html#a5be1822c49bf8ae16791f221b99b6fc7">http_buf_read</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_buffer, DECOMPRESS_BUF_SIZE);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="keywordflow">if</span> (read &lt;= 0)</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            <span class="keywordflow">return</span> read;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.next_in  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_buffer;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.avail_in = read;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.avail_out = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.next_out  = buf;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vf__neighbor_8c.html#a3cabbc42e95dd833babd2aa7968838bd">inflate</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream, Z_SYNC_FLUSH);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != Z_OK &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != Z_STREAM_END)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;inflate return value: %d, %s\n&quot;</span>,</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;               <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.msg);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream.avail_out;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_ZLIB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="http_8c.html#a57d9568277c08ea554004cc9da66c0b7">http_seek_internal</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, int64_t off, <span class="keywordtype">int</span> whence, <span class="keywordtype">int</span> force_reconnect);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"><a class="line" href="http_8c.html#af7681dc3022673ad8e408e3eb138b93a"> 1493</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#af7681dc3022673ad8e408e3eb138b93a">http_read_stream</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;{</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordtype">int</span> err, new_location, read_ret;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    int64_t seek_ret;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordtype">int</span> reconnect_delay = 0;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd)</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_chunked_post &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_header) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        err = <a class="code" href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7">http_read_header</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;new_location);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="preprocessor">#if CONFIG_ZLIB</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;compressed)</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="keywordflow">return</span> http_buf_read_compressed(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_ZLIB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    read_ret = <a class="code" href="http_8c.html#a5be1822c49bf8ae16791f221b99b6fc7">http_buf_read</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">while</span> (read_ret &lt; 0) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        uint64_t target = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed ? 0 : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">if</span> (read_ret == <a class="code" href="group__lavu__error.html#ga334ea23fd9e492cd0e718330f2353b6b">AVERROR_EXIT</a>)</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reconnect_streamed)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reconnect &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize &gt; 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize) &amp;&amp;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reconnect_at_eof &amp;&amp; read_ret == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>))</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="keywordflow">if</span> (reconnect_delay &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reconnect_delay_max)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Will reconnect at %&quot;</span>PRIu64<span class="stringliteral">&quot; in %d second(s), error=%s.\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off, reconnect_delay, <a class="code" href="group__lavu__error.html#gac4f6e109c242c81aeee21868d3f35e12">av_err2str</a>(read_ret));</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        err = <a class="code" href="network_8c.html#a4d19d7a84d7ccf9e80026bd972ab213b">ff_network_sleep_interruptible</a>(1000<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>*1000*reconnect_delay, &amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;interrupt_callback);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <span class="keywordflow">if</span> (err != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ETIMEDOUT))</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        reconnect_delay = 1 + 2*reconnect_delay;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        seek_ret = <a class="code" href="http_8c.html#a57d9568277c08ea554004cc9da66c0b7">http_seek_internal</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, target, SEEK_SET, 1);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">if</span> (seek_ret &gt;= 0 &amp;&amp; seek_ret != target) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to reconnect at %&quot;</span>PRIu64<span class="stringliteral">&quot;.\n&quot;</span>, target);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="keywordflow">return</span> read_ret;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        read_ret = <a class="code" href="http_8c.html#a5be1822c49bf8ae16791f221b99b6fc7">http_buf_read</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span> read_ret;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;}</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">// Like http_read_stream(), but no short reads.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">// Assumes partial reads are an error.</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"><a class="line" href="http_8c.html#afc6fa3c7ba3089920be31f855fab211b"> 1549</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#afc6fa3c7ba3089920be31f855fab211b">http_read_stream_all</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;{</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = 0;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="http_8c.html#af7681dc3022673ad8e408e3eb138b93a">http_read_stream</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, buf + <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 0)</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;}</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"><a class="line" href="http_8c.html#a548fa8798c919d1be71feeebc1d18942"> 1561</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="http_8c.html#a548fa8798c919d1be71feeebc1d18942">update_metadata</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">char</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;{</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordtype">char</span> *next = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">while</span> (*next) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a> = next;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = strstr(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;=&#39;&quot;</span>);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = strstr(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, <span class="stringliteral">&quot;&#39;;&quot;</span>);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        *<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> += 2;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, 0);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Metadata update for %s: %s\n&quot;</span>, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        next = <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> + 2;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"><a class="line" href="http_8c.html#a11c5a99873dc8a63bd3f7b30834e570e"> 1589</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a11c5a99873dc8a63bd3f7b30834e570e">store_icy</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;{</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="comment">/* until next metadata packet */</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    uint64_t remaining;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metaint &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_data_read)</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    remaining = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metaint - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_data_read;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">if</span> (!remaining) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="comment">/* The metadata packet is variable sized. It has a 1 byte header</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">         * which sets the length of the packet (divided by 16). If it&#39;s 0,</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">         * the metadata doesn&#39;t change. After the packet, icy_metaint bytes</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">         * of normal data follows. */</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> ch;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="http_8c.html#afc6fa3c7ba3089920be31f855fab211b">http_read_stream_all</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;ch, 1);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 0)</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">if</span> (ch &gt; 0) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[255 * 16 + 1];</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = ch * 16;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#afc6fa3c7ba3089920be31f855fab211b">http_read_stream_all</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> + 1] = 0;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;icy_metadata_packet&quot;</span>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            <a class="code" href="http_8c.html#a548fa8798c919d1be71feeebc1d18942">update_metadata</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_data_read = 0;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        remaining        = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metaint;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, remaining);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"><a class="line" href="http_8c.html#a2e51b1edb0ddc094280c9aeb1d689a79"> 1627</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a2e51b1edb0ddc094280c9aeb1d689a79">http_read</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;{</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_metaint &gt; 0) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="http_8c.html#a11c5a99873dc8a63bd3f7b30834e570e">store_icy</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 0)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="http_8c.html#af7681dc3022673ad8e408e3eb138b93a">http_read_stream</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 0)</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;icy_data_read += <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;}</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">/* used only when posting data */</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"><a class="line" href="http_8c.html#abb97fb65372cd552ab7afd60ea67b3f9"> 1644</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#abb97fb65372cd552ab7afd60ea67b3f9">http_write</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;{</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>[11] = <span class="stringliteral">&quot;&quot;</span>;  <span class="comment">/* 32-bit hex + CRLF + nul */</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordtype">char</span> crlf[] = <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunked_post) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <span class="comment">/* non-chunked data is sent without any special encoding */</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="comment">/* silently ignore zero-size data since chunk encoding that would</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">     * signal EOF */</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 0) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="comment">/* upload data using chunked encoding */</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, <span class="keyword">sizeof</span>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>), <span class="stringliteral">&quot;%x\r\n&quot;</span>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, strlen(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>))) &lt; 0 ||</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)) &lt; 0          ||</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, crlf, <span class="keyword">sizeof</span>(crlf) - 1)) &lt; 0)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;}</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"><a class="line" href="http_8c.html#a23e3a685241551cfc4df18ac46692298"> 1670</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a23e3a685241551cfc4df18ac46692298">http_shutdown</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;{</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordtype">char</span> footer[] = <span class="stringliteral">&quot;0\r\n\r\n&quot;</span>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="comment">/* signal end of chunked encoding if used */</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunked_post) ||</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        ((<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chunked_post &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;listen)) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, footer, <span class="keyword">sizeof</span>(footer) - 1);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt; 0 ? 0 : <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        <span class="comment">/* flush the receive buffer when it is write only mode */</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>)) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            <span class="keywordtype">int</span> read_ret;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd-&gt;flags |= <a class="code" href="avio_8h.html#aea3131c92c70177e463538e9a6b4308e">AVIO_FLAG_NONBLOCK</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            read_ret = <a class="code" href="avio_8c.html#a451aa14ea2eee6d188543213606f8385">ffurl_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd-&gt;flags &amp;= ~<a class="code" href="avio_8h.html#aea3131c92c70177e463538e9a6b4308e">AVIO_FLAG_NONBLOCK</a>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <span class="keywordflow">if</span> (read_ret &lt; 0 &amp;&amp; read_ret != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN)) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;URL read error: %s\n&quot;</span>, <a class="code" href="group__lavu__error.html#gac4f6e109c242c81aeee21868d3f35e12">av_err2str</a>(read_ret));</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = read_ret;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_chunked_post = 1;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;}</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"><a class="line" href="http_8c.html#aea27050c1c208d4579865d481c28ffc4"> 1699</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#aea27050c1c208d4579865d481c28ffc4">http_close</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;{</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="preprocessor">#if CONFIG_ZLIB</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    inflateEnd(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_stream);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inflate_buffer);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_ZLIB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_chunked_post)</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="comment">/* Close the write direction by sending the end of chunked encoding. */</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#a23e3a685241551cfc4df18ac46692298">http_shutdown</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chained_options);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;}</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"><a class="line" href="http_8c.html#a57d9568277c08ea554004cc9da66c0b7"> 1719</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="http_8c.html#a57d9568277c08ea554004cc9da66c0b7">http_seek_internal</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, int64_t off, <span class="keywordtype">int</span> whence, <span class="keywordtype">int</span> force_reconnect)</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;{</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="struct_u_r_l_context.html">URLContext</a> *old_hd = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    uint64_t old_off = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> old_buf[<a class="code" href="http_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>];</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordtype">int</span> old_buf_size, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordflow">if</span> (whence == <a class="code" href="avio_8h.html#a427ff2a881637b47ee7d7f9e368be63f">AVSEEK_SIZE</a>)</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!force_reconnect &amp;&amp;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;             ((whence == SEEK_CUR &amp;&amp; off == 0) ||</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;              (whence == SEEK_SET &amp;&amp; off == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off)))</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize == UINT64_MAX &amp;&amp; whence == SEEK_END))</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span> (whence == SEEK_CUR)</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        off += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (whence == SEEK_END)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        off += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (whence != SEEK_SET)</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">if</span> (off &lt; 0)</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off = off;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off &amp;&amp; <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed)</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="comment">/* do not try to make a new connection if seeking past the end of the file */</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize != UINT64_MAX) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        uint64_t end_pos = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;end_off : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off &gt;= end_pos)</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="comment">/* we save the old context in case the seek fails */</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    old_buf_size = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    memcpy(old_buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr, old_buf_size);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="comment">/* if it fails, continue on old connection */</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#ae02ef74b5743a3704335097578c4c1b2">http_open_cnx</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>)) &lt; 0) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, old_buf, old_buf_size);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer + old_buf_size;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd      = old_hd;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;off     = old_off;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <a class="code" href="avio_8c.html#a894b202e9a254d9136a9233a894ba26e">ffurl_close</a>(old_hd);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">return</span> off;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;}</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"><a class="line" href="http_8c.html#ac9300bca4ebcb1c39529d7b7add02284"> 1777</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="http_8c.html#ac9300bca4ebcb1c39529d7b7add02284">http_seek</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, int64_t off, <span class="keywordtype">int</span> whence)</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;{</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="http_8c.html#a57d9568277c08ea554004cc9da66c0b7">http_seek_internal</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, off, whence, 0);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;}</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"><a class="line" href="http_8c.html#a85105247cb7f7e73060d6233a30245a8"> 1782</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a85105247cb7f7e73060d6233a30245a8">http_get_file_handle</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;{</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="avio_8c.html#aca37c81c605b0db39a0451c35fa19c36">ffurl_get_file_handle</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;}</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"><a class="line" href="http_8c.html#a8448afb18f2f8701400bd86a9fc3227a"> 1788</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="http_8c.html#a8448afb18f2f8701400bd86a9fc3227a">http_get_short_seek</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;{</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="avio_8c.html#a6ead4ed148503255d6b50ad4a0ea19dc">ffurl_get_short_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;}</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"><a class="line" href="http_8c.html#aadd6da16a032d7b9b1ff28b59f2f45ff"> 1794</a></span>&#160;<span class="preprocessor">#define HTTP_CLASS(flavor)                          \</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="preprocessor">static const AVClass flavor ## _context_class = {   \</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="preprocessor">    .class_name = # flavor,                         \</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="preprocessor">    .item_name  = av_default_item_name,             \</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="preprocessor">    .option     = options,                          \</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="preprocessor">    .version    = LIBAVUTIL_VERSION_INT,            \</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="preprocessor">#if CONFIG_HTTP_PROTOCOL</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<a class="code" href="http_8c.html#aadd6da16a032d7b9b1ff28b59f2f45ff">HTTP_CLASS</a>(<a class="code" href="writing__filters_8txt.html#ab2c587fb6ad7e6d45d85bc440769d37f">http</a>);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="keyword">const</span> <a class="code" href="struct_u_r_l_protocol.html">URLProtocol</a> <a class="code" href="protocols_8c.html#a65d87f60f0882f0bbfde653db9684b5c">ff_http_protocol</a> = {</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    .<a class="code" href="struct_u_r_l_protocol.html#aa733e1d46333f08d68fbcbc518e4a235">name</a>                = <span class="stringliteral">&quot;http&quot;</span>,</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    .url_open2           = <a class="code" href="http_8c.html#a08d28a134863d46a635b4b144096c333">http_open</a>,</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    .url_accept          = <a class="code" href="http_8c.html#af34cebda5d4537315dd3d02df571dbd1">http_accept</a>,</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    .url_handshake       = <a class="code" href="http_8c.html#a03583ab5c3b98f1b201b73bd53369624">http_handshake</a>,</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    .url_read            = <a class="code" href="http_8c.html#a2e51b1edb0ddc094280c9aeb1d689a79">http_read</a>,</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    .url_write           = <a class="code" href="http_8c.html#abb97fb65372cd552ab7afd60ea67b3f9">http_write</a>,</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    .url_seek            = <a class="code" href="http_8c.html#ac9300bca4ebcb1c39529d7b7add02284">http_seek</a>,</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    .url_close           = <a class="code" href="http_8c.html#aea27050c1c208d4579865d481c28ffc4">http_close</a>,</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    .url_get_file_handle = <a class="code" href="http_8c.html#a85105247cb7f7e73060d6233a30245a8">http_get_file_handle</a>,</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    .url_get_short_seek  = <a class="code" href="http_8c.html#a8448afb18f2f8701400bd86a9fc3227a">http_get_short_seek</a>,</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    .url_shutdown        = <a class="code" href="http_8c.html#a23e3a685241551cfc4df18ac46692298">http_shutdown</a>,</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    .priv_data_size      = <span class="keyword">sizeof</span>(<a class="code" href="http_8c.html#a455a427d178d6f1eefeff90414cbceb9">HTTPContext</a>),</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    .priv_data_class     = &amp;http_context_class,</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>               = <a class="code" href="url_8h.html#ae575748ec7008ec519ddb262d8f58508">URL_PROTOCOL_FLAG_NETWORK</a>,</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    .default_whitelist   = <span class="stringliteral">&quot;http,https,tls,rtp,tcp,udp,crypto,httpproxy,data&quot;</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;};</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_HTTP_PROTOCOL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160; </div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="preprocessor">#if CONFIG_HTTPS_PROTOCOL</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<a class="code" href="http_8c.html#aadd6da16a032d7b9b1ff28b59f2f45ff">HTTP_CLASS</a>(<a class="code" href="writing__filters_8txt.html#a38eee91ecc91dfb0d83002812e029e07">https</a>);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="keyword">const</span> <a class="code" href="struct_u_r_l_protocol.html">URLProtocol</a> <a class="code" href="protocols_8c.html#a1dea9e0d9c075c7a3e19367ef6afaa36">ff_https_protocol</a> = {</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    .<a class="code" href="struct_u_r_l_protocol.html#aa733e1d46333f08d68fbcbc518e4a235">name</a>                = <span class="stringliteral">&quot;https&quot;</span>,</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    .url_open2           = <a class="code" href="http_8c.html#a08d28a134863d46a635b4b144096c333">http_open</a>,</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    .url_read            = <a class="code" href="http_8c.html#a2e51b1edb0ddc094280c9aeb1d689a79">http_read</a>,</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    .url_write           = <a class="code" href="http_8c.html#abb97fb65372cd552ab7afd60ea67b3f9">http_write</a>,</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    .url_seek            = <a class="code" href="http_8c.html#ac9300bca4ebcb1c39529d7b7add02284">http_seek</a>,</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    .url_close           = <a class="code" href="http_8c.html#aea27050c1c208d4579865d481c28ffc4">http_close</a>,</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    .url_get_file_handle = <a class="code" href="http_8c.html#a85105247cb7f7e73060d6233a30245a8">http_get_file_handle</a>,</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    .url_get_short_seek  = <a class="code" href="http_8c.html#a8448afb18f2f8701400bd86a9fc3227a">http_get_short_seek</a>,</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    .url_shutdown        = <a class="code" href="http_8c.html#a23e3a685241551cfc4df18ac46692298">http_shutdown</a>,</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    .priv_data_size      = <span class="keyword">sizeof</span>(<a class="code" href="http_8c.html#a455a427d178d6f1eefeff90414cbceb9">HTTPContext</a>),</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    .priv_data_class     = &amp;https_context_class,</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>               = <a class="code" href="url_8h.html#ae575748ec7008ec519ddb262d8f58508">URL_PROTOCOL_FLAG_NETWORK</a>,</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    .default_whitelist   = <span class="stringliteral">&quot;http,https,tls,rtp,tcp,udp,crypto,httpproxy&quot;</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;};</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_HTTPS_PROTOCOL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160; </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="preprocessor">#if CONFIG_HTTPPROXY_PROTOCOL</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> http_proxy_close(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;{</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;}</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> http_proxy_open(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;{</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordtype">char</span> hostname[1024], hoststr[1024];</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordtype">char</span> auth[1024], pathbuf[1024], *path;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordtype">char</span> lower_url[100];</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordtype">int</span> port, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0, attempts = 0;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3d">HTTPAuthType</a> cur_auth_type;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordtype">char</span> *authstr;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordtype">int</span> new_loc;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160; </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seekable == 1 )</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 0;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 1;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160; </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, auth, <span class="keyword">sizeof</span>(auth), hostname, <span class="keyword">sizeof</span>(hostname), &amp;port,</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                 pathbuf, <span class="keyword">sizeof</span>(pathbuf), uri);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <a class="code" href="url_8c.html#af2b7200df356d64f059a956d3b70d60f">ff_url_join</a>(hoststr, <span class="keyword">sizeof</span>(hoststr), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, hostname, port, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    path = pathbuf;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">if</span> (*path == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        path++;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <a class="code" href="url_8c.html#af2b7200df356d64f059a956d3b70d60f">ff_url_join</a>(lower_url, <span class="keyword">sizeof</span>(lower_url), <span class="stringliteral">&quot;tcp&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, hostname, port,</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;redo:</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#a653eb60f5e85060246f498947d9f24bb">ffurl_open_whitelist</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, lower_url, <a class="code" href="avio_8h.html#aba7dc6a03cfe63d2a7e2c00532007eb2">AVIO_FLAG_READ_WRITE</a>,</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                               &amp;<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;interrupt_callback, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                               <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;protocol_whitelist, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;protocol_blacklist, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    authstr = <a class="code" href="httpauth_8c.html#a258aea4149497a9fc38b93ab4d74cf32">ff_http_auth_create_response</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state, auth,</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                                           path, <span class="stringliteral">&quot;CONNECT&quot;</span>);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer),</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;             <span class="stringliteral">&quot;CONNECT %s HTTP/1.1\r\n&quot;</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;             <span class="stringliteral">&quot;Host: %s\r\n&quot;</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;             <span class="stringliteral">&quot;Connection: close\r\n&quot;</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;             <span class="stringliteral">&quot;%s%s&quot;</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;             <span class="stringliteral">&quot;\r\n&quot;</span>,</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;             path,</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;             hoststr,</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;             authstr ? <span class="stringliteral">&quot;Proxy-&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, authstr ? authstr : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;authstr);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, strlen(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer))) &lt; 0)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160; </div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_ptr    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;line_count = 0;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filesize   = UINT64_MAX;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    cur_auth_type = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state.auth_type;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="comment">/* Note: This uses buffering, potentially reading more than the</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="comment">     * HTTP header. If tunneling a protocol where the server starts</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="comment">     * the conversation, we might buffer part of that here, too.</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="comment">     * Reading that requires using the proper ffurl_read() function</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="comment">     * on this URLContext, not using the fd directly (as the tls</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="comment">     * protocol does). This shouldn&#39;t be an issue for tls though,</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="comment">     * since the client starts the conversation there, so there</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="comment">     * is no extra data that we might buffer up here.</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7">http_read_header</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;new_loc);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    attempts++;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code == 407 &amp;&amp;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        (cur_auth_type == <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state.stale) &amp;&amp;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;proxy_auth_state.auth_type != <a class="code" href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a> &amp;&amp; attempts &lt; 2) {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <a class="code" href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="keywordflow">goto</span> redo;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    }</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160; </div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code &lt; 400)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;http_code, <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO));</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    http_proxy_close(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;}</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> http_proxy_write(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;{</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <a class="code" href="struct_h_t_t_p_context.html">HTTPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hd, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;}</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="keyword">const</span> <a class="code" href="struct_u_r_l_protocol.html">URLProtocol</a> <a class="code" href="protocols_8c.html#ae04c2d037258de1354542a1d4a47481d">ff_httpproxy_protocol</a> = {</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    .<a class="code" href="struct_u_r_l_protocol.html#aa733e1d46333f08d68fbcbc518e4a235">name</a>                = <span class="stringliteral">&quot;httpproxy&quot;</span>,</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    .url_open            = http_proxy_open,</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    .url_read            = <a class="code" href="http_8c.html#a5be1822c49bf8ae16791f221b99b6fc7">http_buf_read</a>,</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    .url_write           = http_proxy_write,</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    .url_close           = http_proxy_close,</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    .url_get_file_handle = <a class="code" href="http_8c.html#a85105247cb7f7e73060d6233a30245a8">http_get_file_handle</a>,</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    .priv_data_size      = <span class="keyword">sizeof</span>(<a class="code" href="http_8c.html#a455a427d178d6f1eefeff90414cbceb9">HTTPContext</a>),</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>               = <a class="code" href="url_8h.html#ae575748ec7008ec519ddb262d8f58508">URL_PROTOCOL_FLAG_NETWORK</a>,</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;};</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_HTTPPROXY_PROTOCOL */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="atarget__bsf__fuzzer_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="target__bsf__fuzzer_8c_source.html#l00030">target_bsf_fuzzer.c:30</a></div></div>
<div class="ttc" id="ahttpauth_8h_html_a48bccea7db605fadf5b195e889ba8a3da946b7e60a754342e83205964b31a77ba"><div class="ttname"><a href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da946b7e60a754342e83205964b31a77ba">HTTP_AUTH_BASIC</a></div><div class="ttdeci">@ HTTP_AUTH_BASIC</div><div class="ttdef"><b>Definition:</b> <a href="httpauth_8h_source.html#l00031">httpauth.h:30</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga644b6231c0c43b9e2925db980f6bfa81"><div class="ttname"><a href="group__lavu__string.html#ga644b6231c0c43b9e2925db980f6bfa81">av_isxdigit</a></div><div class="ttdeci">static av_const int av_isxdigit(int c)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8h_source.html#l00256">avstring.h:256</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aa4f848c169b0eb413afcdf35a1201af3"><div class="ttname"><a href="libavformat_2internal_8h.html#aa4f848c169b0eb413afcdf35a1201af3">SPACE_CHARS</a></div><div class="ttdeci">#define SPACE_CHARS</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00495">internal.h:495</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae02ef74b5743a3704335097578c4c1b2"><div class="ttname"><a href="http_8c.html#ae02ef74b5743a3704335097578c4c1b2">http_open_cnx</a></div><div class="ttdeci">static int http_open_cnx(URLContext *h, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00262">http.c:262</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_adb27990ed3d4ad300fd1dde281903508"><div class="ttname"><a href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option name</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00088">writing_filters.txt:88</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae486692fac07c1c1ef2a7d32e9e57463"><div class="ttname"><a href="http_8c.html#ae486692fac07c1c1ef2a7d32e9e57463">WHITESPACES</a></div><div class="ttdeci">#define WHITESPACES</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00054">http.c:54</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="aopt_8h_html_a5f24d30655a5aea4dc8bd7263dbfd78c"><div class="ttname"><a href="opt_8h.html#a5f24d30655a5aea4dc8bd7263dbfd78c">AV_OPT_FLAG_READONLY</a></div><div class="ttdeci">#define AV_OPT_FLAG_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00291">opt.h:291</a></div></div>
<div class="ttc" id="ahttp_8c_html_a897e2f67243b61705ea6b44784089f0d"><div class="ttname"><a href="http_8c.html#a897e2f67243b61705ea6b44784089f0d">http_write_reply</a></div><div class="ttdeci">static int http_write_reply(URLContext *h, int status_code)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00408">http.c:408</a></div></div>
<div class="ttc" id="aurl_8h_html_ae575748ec7008ec519ddb262d8f58508"><div class="ttname"><a href="url_8h.html#ae575748ec7008ec519ddb262d8f58508">URL_PROTOCOL_FLAG_NETWORK</a></div><div class="ttdeci">#define URL_PROTOCOL_FLAG_NETWORK</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00034">url.h:34</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga696de4031a2188bdd1ee330a6c11cd0c"><div class="ttname"><a href="group__lavu__error.html#ga696de4031a2188bdd1ee330a6c11cd0c">AVERROR_HTTP_OTHER_4XX</a></div><div class="ttdeci">#define AVERROR_HTTP_OTHER_4XX</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00080">error.h:80</a></div></div>
<div class="ttc" id="ahttp_8c_html_a616b13098910267df4f2fae9daafb8b4"><div class="ttname"><a href="http_8c.html#a616b13098910267df4f2fae9daafb8b4">parse_icy</a></div><div class="ttdeci">static int parse_icy(HTTPContext *s, const char *tag, const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00740">http.c:740</a></div></div>
<div class="ttc" id="astructmessage_html"><div class="ttname"><a href="structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="api-threadmessage-test_8c_source.html#l00046">api-threadmessage-test.c:46</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_aabaec0d5eed5795adbd84b8b7c17a2b0"><div class="ttname"><a href="struct_h_t_t_p_context.html#aabaec0d5eed5795adbd84b8b7c17a2b0">HTTPContext::http_proxy</a></div><div class="ttdeci">char * http_proxy</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00075">http.c:75</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga47e14424edfb96d3f6bf0fca96a76fe5"><div class="ttname"><a href="group__lavu__string.html#ga47e14424edfb96d3f6bf0fca96a76fe5">av_stristr</a></div><div class="ttdeci">char * av_stristr(const char *s1, const char *s2)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00056">avstring.c:56</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a8ddb293634fa150c9b9f1d7ef4b4d69c"><div class="ttname"><a href="struct_h_t_t_p_context.html#a8ddb293634fa150c9b9f1d7ef4b4d69c">HTTPContext::filesize</a></div><div class="ttdeci">uint64_t filesize</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00071">http.c:71</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gab4faa0afdf35076914824200331defff"><div class="ttname"><a href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a></div><div class="ttdeci">#define AVERROR_EOF</div><div class="ttdoc">End of file.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00055">error.h:55</a></div></div>
<div class="ttc" id="aavio_8h_html_aba7dc6a03cfe63d2a7e2c00532007eb2"><div class="ttname"><a href="avio_8h.html#aba7dc6a03cfe63d2a7e2c00532007eb2">AVIO_FLAG_READ_WRITE</a></div><div class="ttdeci">#define AVIO_FLAG_READ_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00676">avio.h:676</a></div></div>
<div class="ttc" id="ahttp_8c_html_abd6354cf5d7211c7c06943f1aceb096f"><div class="ttname"><a href="http_8c.html#abd6354cf5d7211c7c06943f1aceb096f">bprint_escaped_path</a></div><div class="ttdeci">static void bprint_escaped_path(AVBPrint *bp, const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01194">http.c:1194</a></div></div>
<div class="ttc" id="ahttp_8c_html_a6344ca08eebe8f5dfe50dace69c0cee1"><div class="ttname"><a href="http_8c.html#a6344ca08eebe8f5dfe50dace69c0cee1">http_listen</a></div><div class="ttdeci">static int http_listen(URLContext *h, const char *uri, int flags, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00524">http.c:524</a></div></div>
<div class="ttc" id="aavstring_8c_html_a8cee948e00ad684c285e0f98639fcd21"><div class="ttname"><a href="avstring_8c.html#a8cee948e00ad684c285e0f98639fcd21">av_asprintf</a></div><div class="ttdeci">char * av_asprintf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00113">avstring.c:113</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga4c60b7d4ce023a6466bc033e31c5349c"><div class="ttname"><a href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a></div><div class="ttdeci">int av_strcasecmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00215">avstring.c:215</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga96490acc8dd8d85f2ee43bc605661ffa"><div class="ttname"><a href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a></div><div class="ttdeci">static av_const int av_isspace(int c)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8h_source.html#l00227">avstring.h:227</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="ahttp_8c_html_a2e51b1edb0ddc094280c9aeb1d689a79"><div class="ttname"><a href="http_8c.html#a2e51b1edb0ddc094280c9aeb1d689a79">http_read</a></div><div class="ttdeci">static int http_read(URLContext *h, uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01627">http.c:1627</a></div></div>
<div class="ttc" id="ahttp_8c_html_a57d9568277c08ea554004cc9da66c0b7"><div class="ttname"><a href="http_8c.html#a57d9568277c08ea554004cc9da66c0b7">http_seek_internal</a></div><div class="ttdeci">static int64_t http_seek_internal(URLContext *h, int64_t off, int whence, int force_reconnect)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01719">http.c:1719</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_aef7b21a945cd3b9a56acf4bcd3a44735"><div class="ttname"><a href="struct_h_t_t_p_context.html#aef7b21a945cd3b9a56acf4bcd3a44735">HTTPContext::reconnect_delay_max</a></div><div class="ttdeci">int reconnect_delay_max</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00123">http.c:123</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a8ce878f4f4abeaf7fe715df50f489e09"><div class="ttname"><a href="struct_h_t_t_p_context.html#a8ce878f4f4abeaf7fe715df50f489e09">HTTPContext::send_expect_100</a></div><div class="ttdeci">int send_expect_100</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00118">http.c:118</a></div></div>
<div class="ttc" id="ahttp_8c_html_a064110dfc80d1d11620b1f45acca434daceb3e65f83376b07b705fd9d963f3cfc"><div class="ttname"><a href="http_8c.html#a064110dfc80d1d11620b1f45acca434daceb3e65f83376b07b705fd9d963f3cfc">READ_HEADERS</a></div><div class="ttdeci">@ READ_HEADERS</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00057">http.c:57</a></div></div>
<div class="ttc" id="astruct_u_r_l_protocol_html"><div class="ttname"><a href="struct_u_r_l_protocol.html">URLProtocol</a></div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00054">url.h:54</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga47662fddadd1c84284b85154f5553afa"><div class="ttname"><a href="group__lavu__error.html#ga47662fddadd1c84284b85154f5553afa">AVERROR_HTTP_SERVER_ERROR</a></div><div class="ttdeci">#define AVERROR_HTTP_SERVER_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00081">error.h:81</a></div></div>
<div class="ttc" id="aavio_8h_html_a427ff2a881637b47ee7d7f9e368be63f"><div class="ttname"><a href="avio_8h.html#a427ff2a881637b47ee7d7f9e368be63f">AVSEEK_SIZE</a></div><div class="ttdeci">#define AVSEEK_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00531">avio.h:531</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="ahttp_8c_html_a064110dfc80d1d11620b1f45acca434daf4c0c029b866950d7b54f08d1f59c5de"><div class="ttname"><a href="http_8c.html#a064110dfc80d1d11620b1f45acca434daf4c0c029b866950d7b54f08d1f59c5de">WRITE_REPLY_HEADERS</a></div><div class="ttdeci">@ WRITE_REPLY_HEADERS</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00058">http.c:58</a></div></div>
<div class="ttc" id="ahttp_8c_html_a0bbb1653b36c7d9c6b95f147e1b8c930"><div class="ttname"><a href="http_8c.html#a0bbb1653b36c7d9c6b95f147e1b8c930">NEEDS_ESCAPE</a></div><div class="ttdeci">#define NEEDS_ESCAPE(ch)</div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga341bbd1ea599dfb0510f419e5272fecc"><div class="ttname"><a href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a></div><div class="ttdeci">#define AV_DICT_IGNORE_SUFFIX</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00071">dict.h:70</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="ahttp_8c_html_a592dbafc889b6deb257771ff990853d3"><div class="ttname"><a href="http_8c.html#a592dbafc889b6deb257771ff990853d3">http_get_line</a></div><div class="ttdeci">static int http_get_line(HTTPContext *s, char *line, int line_size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00638">http.c:638</a></div></div>
<div class="ttc" id="aavio_8c_html_a894b202e9a254d9136a9233a894ba26e"><div class="ttname"><a href="avio_8c.html#a894b202e9a254d9136a9233a894ba26e">ffurl_close</a></div><div class="ttdeci">int ffurl_close(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00469">avio.c:469</a></div></div>
<div class="ttc" id="abprint_8c_html_aa215ba46a975d996e483cf0b9dcc85e5"><div class="ttname"><a href="bprint_8c.html#aa215ba46a975d996e483cf0b9dcc85e5">av_bprint_append_data</a></div><div class="ttdeci">void av_bprint_append_data(AVBPrint *buf, const char *data, unsigned size)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00158">bprint.c:158</a></div></div>
<div class="ttc" id="ahttp_8c_html_aff91b7551e89e81ca442dfb594a36d15"><div class="ttname"><a href="http_8c.html#aff91b7551e89e81ca442dfb594a36d15">parse_location</a></div><div class="ttdeci">static int parse_location(HTTPContext *s, const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00677">http.c:677</a></div></div>
<div class="ttc" id="ahttp_8c_html_af7681dc3022673ad8e408e3eb138b93a"><div class="ttname"><a href="http_8c.html#af7681dc3022673ad8e408e3eb138b93a">http_read_stream</a></div><div class="ttdeci">static int http_read_stream(URLContext *h, uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01493">http.c:1493</a></div></div>
<div class="ttc" id="ahttpauth_8c_html_a258aea4149497a9fc38b93ab4d74cf32"><div class="ttname"><a href="httpauth_8c.html#a258aea4149497a9fc38b93ab4d74cf32">ff_http_auth_create_response</a></div><div class="ttdeci">char * ff_http_auth_create_response(HTTPAuthState *state, const char *auth, const char *path, const char *method)</div><div class="ttdef"><b>Definition:</b> <a href="httpauth_8c_source.html#l00245">httpauth.c:245</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a1b495cafe8521d1baacea5d592eb5034"><div class="ttname"><a href="struct_h_t_t_p_context.html#a1b495cafe8521d1baacea5d592eb5034">HTTPContext::buf_end</a></div><div class="ttdeci">unsigned char * buf_end</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00065">http.c:65</a></div></div>
<div class="ttc" id="aavstring_8c_html_a98e5858f933c6e6be64f03a76e22b272"><div class="ttname"><a href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a></div><div class="ttdeci">size_t av_strlcatf(char *dst, size_t size, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00101">avstring.c:101</a></div></div>
<div class="ttc" id="amd5_8c_html_a8570c758e4feed3365b8b7600cd2e404"><div class="ttname"><a href="md5_8c.html#a8570c758e4feed3365b8b7600cd2e404">body</a></div><div class="ttdeci">static void body(uint32_t ABCD[4], const uint8_t *src, int nblocks)</div><div class="ttdef"><b>Definition:</b> <a href="md5_8c_source.html#l00101">md5.c:101</a></div></div>
<div class="ttc" id="aos__support_8h_html"><div class="ttname"><a href="os__support_8h.html">os_support.h</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="aprotocols_8c_html_ae04c2d037258de1354542a1d4a47481d"><div class="ttname"><a href="protocols_8c.html#ae04c2d037258de1354542a1d4a47481d">ff_httpproxy_protocol</a></div><div class="ttdeci">const URLProtocol ff_httpproxy_protocol</div></div>
<div class="ttc" id="agroup__lavu__error_html_gacaebaf711c31f8ada97f87b42b58b794"><div class="ttname"><a href="group__lavu__error.html#gacaebaf711c31f8ada97f87b42b58b794">AVERROR_HTTP_UNAUTHORIZED</a></div><div class="ttdeci">#define AVERROR_HTTP_UNAUTHORIZED</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00077">error.h:77</a></div></div>
<div class="ttc" id="ahttp_8c_html_a449bafd9d20125817cde72e5594c81d0"><div class="ttname"><a href="http_8c.html#a449bafd9d20125817cde72e5594c81d0">get_cookies</a></div><div class="ttdeci">static int get_cookies(HTTPContext *s, char **cookies, const char *path, const char *domain)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01063">http.c:1063</a></div></div>
<div class="ttc" id="astruct_u_r_l_context_html_a492308c6d237854fb2e05d71b1431198"><div class="ttname"><a href="struct_u_r_l_context.html#a492308c6d237854fb2e05d71b1431198">URLContext::interrupt_callback</a></div><div class="ttdeci">AVIOInterruptCB interrupt_callback</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00047">url.h:47</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a7811a1435a73a97d1bba9b6a7c3806ca"><div class="ttname"><a href="struct_h_t_t_p_context.html#a7811a1435a73a97d1bba9b6a7c3806ca">HTTPContext::is_multi_client</a></div><div class="ttdeci">int is_multi_client</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00127">http.c:127</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a2689966edbe494482dfdfaa4efdf95d3"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2689966edbe494482dfdfaa4efdf95d3">AV_OPT_TYPE_BINARY</a></div><div class="ttdeci">@ AV_OPT_TYPE_BINARY</div><div class="ttdoc">offset must point to a pointer immediately followed by an int for the length</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00231">opt.h:231</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="ahttp_8c_html_a7fc4c956c6482b3fca476bf0f7b6de83"><div class="ttname"><a href="http_8c.html#a7fc4c956c6482b3fca476bf0f7b6de83">check_http_code</a></div><div class="ttdeci">static int check_http_code(URLContext *h, int http_code, const char *end)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00662">http.c:662</a></div></div>
<div class="ttc" id="ahttp_8c_html_aa6407b49b77c8e44dc330223aa3be9a0"><div class="ttname"><a href="http_8c.html#aa6407b49b77c8e44dc330223aa3be9a0">DEFAULT_USER_AGENT</a></div><div class="ttdeci">#define DEFAULT_USER_AGENT</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00135">http.c:135</a></div></div>
<div class="ttc" id="avf__neighbor_8c_html_a3cabbc42e95dd833babd2aa7968838bd"><div class="ttname"><a href="vf__neighbor_8c.html#a3cabbc42e95dd833babd2aa7968838bd">inflate</a></div><div class="ttdeci">static void inflate(uint8_t *dst, const uint8_t *p1, int width, int threshold, const uint8_t *coordinates[], int coord, int maxc)</div><div class="ttdef"><b>Definition:</b> <a href="vf__neighbor_8c_source.html#l00198">vf_neighbor.c:198</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a1fa4286df49a191ae388ceab624beb21"><div class="ttname"><a href="struct_h_t_t_p_context.html#a1fa4286df49a191ae388ceab624beb21">HTTPContext::end_chunked_post</a></div><div class="ttdeci">int end_chunked_post</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00091">http.c:91</a></div></div>
<div class="ttc" id="ahttp_8c_html_a09db757e6003d86e75291b688d816c43"><div class="ttname"><a href="http_8c.html#a09db757e6003d86e75291b688d816c43">cookie_string</a></div><div class="ttdeci">static int cookie_string(AVDictionary *dict, char **cookies)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00886">http.c:886</a></div></div>
<div class="ttc" id="ahttp_8c_html_a63082f2a284fbbd3f4fe33266ceda08a"><div class="ttname"><a href="http_8c.html#a63082f2a284fbbd3f4fe33266ceda08a">has_header</a></div><div class="ttdeci">static int has_header(const char *str, const char *header)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01147">http.c:1147</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a4e9a13d7ed041433d7980db5212a0cab"><div class="ttname"><a href="struct_h_t_t_p_context.html#a4e9a13d7ed041433d7980db5212a0cab">HTTPContext::icy_data_read</a></div><div class="ttdeci">uint64_t icy_data_read</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00105">http.c:105</a></div></div>
<div class="ttc" id="aparseutils_8c_html_ae9bf34b50b9762f3c733721d5210b52d"><div class="ttname"><a href="parseutils_8c.html#ae9bf34b50b9762f3c733721d5210b52d">av_timegm</a></div><div class="ttdeci">time_t av_timegm(struct tm *tm)</div><div class="ttdef"><b>Definition:</b> <a href="parseutils_8c_source.html#l00568">parseutils.c:568</a></div></div>
<div class="ttc" id="agroup__opt__set__funcs_html_ga5fd4b92bdf4f392a2847f711676a7537"><div class="ttname"><a href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a></div><div class="ttdeci">int av_opt_set(void *obj, const char *name, const char *val, int search_flags)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l00465">opt.c:465</a></div></div>
<div class="ttc" id="ahttp_8c_html_a65b0feefea66ae01b485387fa2d84e1a"><div class="ttname"><a href="http_8c.html#a65b0feefea66ae01b485387fa2d84e1a">process_line</a></div><div class="ttdeci">static int process_line(URLContext *h, char *line, int line_count, int *new_location)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00909">http.c:909</a></div></div>
<div class="ttc" id="ahttp_8c_html_ac02cde674a4c670cf571ab3f34b83f84"><div class="ttname"><a href="http_8c.html#ac02cde674a4c670cf571ab3f34b83f84">MAX_REDIRECTS</a></div><div class="ttdeci">#define MAX_REDIRECTS</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00050">http.c:50</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a05f5e56c9121ece8d155a87c35e82e0c"><div class="ttname"><a href="struct_h_t_t_p_context.html#a05f5e56c9121ece8d155a87c35e82e0c">HTTPContext::chunksize</a></div><div class="ttdeci">uint64_t chunksize</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00069">http.c:69</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_aeea80b27f5987e8a21d95baa9c6f6829"><div class="ttname"><a href="struct_h_t_t_p_context.html#aeea80b27f5987e8a21d95baa9c6f6829">HTTPContext::reconnect_at_eof</a></div><div class="ttdeci">int reconnect_at_eof</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00121">http.c:121</a></div></div>
<div class="ttc" id="ahttp_8c_html_aae99dcd21d7573ec374b2eea6982615c"><div class="ttname"><a href="http_8c.html#aae99dcd21d7573ec374b2eea6982615c">http_connect</a></div><div class="ttdeci">static int http_connect(URLContext *h, const char *path, const char *local_path, const char *hoststr, const char *auth, const char *proxyauth, int *new_location)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01218">http.c:1218</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga030300ea4843c53b2fe178a434964b39"><div class="ttname"><a href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a></div><div class="ttdeci">#define AV_LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00220">log.h:220</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gafa8673dfcb9f0359bb6f7dda408952c4"><div class="ttname"><a href="group__lavu__error.html#gafa8673dfcb9f0359bb6f7dda408952c4">AVERROR_HTTP_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_HTTP_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00079">error.h:79</a></div></div>
<div class="ttc" id="ahttp_8c_html_a07484107e6d9fdf38b53edf631d6511d"><div class="ttname"><a href="http_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a></div><div class="ttdeci">#define E</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00134">http.c:134</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gaf1a88e8f152d7835f111b1ef8813fb2e"><div class="ttname"><a href="group__avoptions.html#gaf1a88e8f152d7835f111b1ef8813fb2e">av_opt_set_dict</a></div><div class="ttdeci">int av_opt_set_dict(void *obj, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l01655">opt.c:1655</a></div></div>
<div class="ttc" id="aavio_8c_html_a653eb60f5e85060246f498947d9f24bb"><div class="ttname"><a href="avio_8c.html#a653eb60f5e85060246f498947d9f24bb">ffurl_open_whitelist</a></div><div class="ttdeci">int ffurl_open_whitelist(URLContext **puc, const char *filename, int flags, const AVIOInterruptCB *int_cb, AVDictionary **options, const char *whitelist, const char *blacklist, URLContext *parent)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00310">avio.c:310</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ae21bd8b82c1218fd49fc0886d8620ff5"><div class="ttname"><a href="struct_h_t_t_p_context.html#ae21bd8b82c1218fd49fc0886d8620ff5">HTTPContext::buf_ptr</a></div><div class="ttdeci">unsigned char * buf_ptr</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00065">http.c:65</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_af66e6fda18ead08c1c4b21495d9941bc"><div class="ttname"><a href="struct_h_t_t_p_context.html#af66e6fda18ead08c1c4b21495d9941bc">HTTPContext::chunkend</a></div><div class="ttdeci">int chunkend</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00070">http.c:70</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a480f195496add656e79babc88fe33bf3"><div class="ttname"><a href="struct_h_t_t_p_context.html#a480f195496add656e79babc88fe33bf3">HTTPContext::reply_code</a></div><div class="ttdeci">int reply_code</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00126">http.c:126</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_aacca94696a7e38a5b07b5dfaabc4d365"><div class="ttname"><a href="struct_h_t_t_p_context.html#aacca94696a7e38a5b07b5dfaabc4d365">HTTPContext::is_connected_server</a></div><div class="ttdeci">int is_connected_server</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00129">http.c:129</a></div></div>
<div class="ttc" id="ahttp_8c_html_a6b20d41d6252e9871430c242cb1a56e7"><div class="ttname"><a href="http_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a></div><div class="ttdeci">#define BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00049">http.c:49</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga3d4270f4ed651c414e2850090b9b77c4"><div class="ttname"><a href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a></div><div class="ttdeci">char * av_strtok(char *s, const char *delim, char **saveptr)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00186">avstring.c:186</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a2f6833ddd574fb0d25e9ad6d3dc9b5ee"><div class="ttname"><a href="struct_h_t_t_p_context.html#a2f6833ddd574fb0d25e9ad6d3dc9b5ee">HTTPContext::chained_options</a></div><div class="ttdeci">AVDictionary * chained_options</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00116">http.c:116</a></div></div>
<div class="ttc" id="aurl_8c_html_af2b7200df356d64f059a956d3b70d60f"><div class="ttname"><a href="url_8c.html#af2b7200df356d64f059a956d3b70d60f">ff_url_join</a></div><div class="ttdeci">int ff_url_join(char *str, int size, const char *proto, const char *authorization, const char *hostname, int port, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00038">url.c:38</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT64</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00226">opt.h:226</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="aavio_8h_html_a5c9308f296545a8f3b7687d277a6dabc"><div class="ttname"><a href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a></div><div class="ttdeci">#define AVIO_FLAG_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00675">avio.h:675</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a90a89cbeb448d4303794daf173258dc7"><div class="ttname"><a href="struct_h_t_t_p_context.html#a90a89cbeb448d4303794daf173258dc7">HTTPContext::willclose</a></div><div class="ttdeci">int willclose</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00087">http.c:87</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_gacd29ff1f7e62230a113c88fa10d3f5b9"><div class="ttname"><a href="group__lavu__string.html#gacd29ff1f7e62230a113c88fa10d3f5b9">av_stristart</a></div><div class="ttdeci">int av_stristart(const char *str, const char *pfx, const char **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00045">avstring.c:45</a></div></div>
<div class="ttc" id="ahwcontext__opencl_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__opencl_8c_source.html#l00168">hwcontext_opencl.c:168</a></div></div>
<div class="ttc" id="ahttp_8c_html_af316c33cc298530f245e8b55330e86b5"><div class="ttname"><a href="http_8c.html#af316c33cc298530f245e8b55330e86b5">D</a></div><div class="ttdeci">#define D</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00133">http.c:133</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a025e270c7b5b5261c67b600332ee040b"><div class="ttname"><a href="struct_h_t_t_p_context.html#a025e270c7b5b5261c67b600332ee040b">HTTPContext::handshake_step</a></div><div class="ttdeci">HandshakeState handshake_step</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00128">http.c:128</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae692948cc4a9cd2e0c2a74bd1b5bfecb"><div class="ttname"><a href="http_8c.html#ae692948cc4a9cd2e0c2a74bd1b5bfecb">parse_cookie</a></div><div class="ttdeci">static int parse_cookie(HTTPContext *s, const char *p, AVDictionary **cookies)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00824">http.c:824</a></div></div>
<div class="ttc" id="ahttp_8c_html_aa21700ec605d3f24e700f54b02b06af7"><div class="ttname"><a href="http_8c.html#aa21700ec605d3f24e700f54b02b06af7">http_read_header</a></div><div class="ttdeci">static int http_read_header(URLContext *h, int *new_location)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01155">http.c:1155</a></div></div>
<div class="ttc" id="anetwork_8c_html_ab3b881e58f6f1d9b114ad6bd852dc1f7"><div class="ttname"><a href="network_8c.html#ab3b881e58f6f1d9b114ad6bd852dc1f7">ff_http_match_no_proxy</a></div><div class="ttdeci">int ff_http_match_no_proxy(const char *no_proxy, const char *hostname)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00551">network.c:551</a></div></div>
<div class="ttc" id="ahttpauth_8c_html_aeb242068568eeee8a69260bbe1a56ce6"><div class="ttname"><a href="httpauth_8c.html#aeb242068568eeee8a69260bbe1a56ce6">ff_http_auth_handle_header</a></div><div class="ttdeci">void ff_http_auth_handle_header(HTTPAuthState *state, const char *key, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="httpauth_8c_source.html#l00090">httpauth.c:90</a></div></div>
<div class="ttc" id="ahttp_8c_html_a131ae54694371858cf1b571821c54f38"><div class="ttname"><a href="http_8c.html#a131ae54694371858cf1b571821c54f38">parse_content_encoding</a></div><div class="ttdeci">static int parse_content_encoding(URLContext *h, const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00706">http.c:706</a></div></div>
<div class="ttc" id="ahttp_8c_html_a9fe72a7d6c1a1c6e9230061c49988a00"><div class="ttname"><a href="http_8c.html#a9fe72a7d6c1a1c6e9230061c49988a00">handle_http_errors</a></div><div class="ttdeci">static void handle_http_errors(URLContext *h, int error)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00482">http.c:482</a></div></div>
<div class="ttc" id="ahttp_8c_html_aeaeca746d18be2f77975ab8c60e486cd"><div class="ttname"><a href="http_8c.html#aeaeca746d18be2f77975ab8c60e486cd">ff_http_do_new_request</a></div><div class="ttdeci">int ff_http_do_new_request(URLContext *h, const char *uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00333">http.c:333</a></div></div>
<div class="ttc" id="aavio_8c_html_a7db0fe1235591072f873159cf0c227b0"><div class="ttname"><a href="avio_8c.html#a7db0fe1235591072f873159cf0c227b0">ffurl_accept</a></div><div class="ttdeci">int ffurl_accept(URLContext *s, URLContext **c)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00230">avio.c:230</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_af540b728145b614e34c4e10930354b93"><div class="ttname"><a href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a></div><div class="ttdeci">AVDictionary * opts</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00050">movenc.c:50</a></div></div>
<div class="ttc" id="ahttp_8c_html_afc6fa3c7ba3089920be31f855fab211b"><div class="ttname"><a href="http_8c.html#afc6fa3c7ba3089920be31f855fab211b">http_read_stream_all</a></div><div class="ttdeci">static int http_read_stream_all(URLContext *h, uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01549">http.c:1549</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8448afb18f2f8701400bd86a9fc3227a"><div class="ttname"><a href="http_8c.html#a8448afb18f2f8701400bd86a9fc3227a">http_get_short_seek</a></div><div class="ttdeci">static int http_get_short_seek(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01788">http.c:1788</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a78feda84c6aa2f806d40900e87a074b2"><div class="ttname"><a href="struct_h_t_t_p_context.html#a78feda84c6aa2f806d40900e87a074b2">HTTPContext::post_data</a></div><div class="ttdeci">uint8_t * post_data</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00096">http.c:96</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8527e0c4ec245824858dfb167543e62d"><div class="ttname"><a href="http_8c.html#a8527e0c4ec245824858dfb167543e62d">ff_http_init_auth_state</a></div><div class="ttdeci">void ff_http_init_auth_state(URLContext *dest, const URLContext *src)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00181">http.c:181</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd">AV_OPT_TYPE_DICT</a></div><div class="ttdeci">@ AV_OPT_TYPE_DICT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00232">opt.h:232</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_a38fc80176f8f839282bb61c03392e194"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">AVDictionaryEntry::key</a></div><div class="ttdeci">char * key</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00082">dict.h:82</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="aparseutils_8h_html"><div class="ttname"><a href="parseutils_8h.html">parseutils.h</a></div></div>
<div class="ttc" id="ahttp_8c_html_a26d9d51c791dc3ee7a04a9ec25456f63"><div class="ttname"><a href="http_8c.html#a26d9d51c791dc3ee7a04a9ec25456f63">ff_http_do_new_request2</a></div><div class="ttdeci">int ff_http_do_new_request2(URLContext *h, const char *uri, AVDictionary **opts)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00337">http.c:337</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a71c351b6c9767439a3f8746c2cbffb8c"><div class="ttname"><a href="struct_h_t_t_p_context.html#a71c351b6c9767439a3f8746c2cbffb8c">HTTPContext::end_header</a></div><div class="ttdeci">int end_header</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00093">http.c:93</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5be1822c49bf8ae16791f221b99b6fc7"><div class="ttname"><a href="http_8c.html#a5be1822c49bf8ae16791f221b99b6fc7">http_buf_read</a></div><div class="ttdeci">static int http_buf_read(URLContext *h, uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01384">http.c:1384</a></div></div>
<div class="ttc" id="ahttp_8c_html_a23e3a685241551cfc4df18ac46692298"><div class="ttname"><a href="http_8c.html#a23e3a685241551cfc4df18ac46692298">http_shutdown</a></div><div class="ttdeci">static int http_shutdown(URLContext *h, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01670">http.c:1670</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ac1e8300483a98e6975e3b08819056784"><div class="ttname"><a href="struct_h_t_t_p_context.html#ac1e8300483a98e6975e3b08819056784">HTTPContext::end_off</a></div><div class="ttdeci">uint64_t end_off</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00071">http.c:71</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5295e67f34cf36d3037600c31ee1d45e"><div class="ttname"><a href="http_8c.html#a5295e67f34cf36d3037600c31ee1d45e">parse_content_range</a></div><div class="ttdeci">static void parse_content_range(URLContext *h, const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00691">http.c:691</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga2a19ca30d1962b51488a7210e8b68919"><div class="ttname"><a href="group__lavu__error.html#ga2a19ca30d1962b51488a7210e8b68919">AVERROR_HTTP_BAD_REQUEST</a></div><div class="ttdeci">#define AVERROR_HTTP_BAD_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00076">error.h:76</a></div></div>
<div class="ttc" id="ahttp_8c_html_a045bcf6c026ff7ae2af603f67cd81c5b"><div class="ttname"><a href="http_8c.html#a045bcf6c026ff7ae2af603f67cd81c5b">MAX_EXPIRY</a></div><div class="ttdeci">#define MAX_EXPIRY</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00053">http.c:53</a></div></div>
<div class="ttc" id="astruct_u_r_l_context_html_a088b4e853876a2c4aa3929171fb49436"><div class="ttname"><a href="struct_u_r_l_context.html#a088b4e853876a2c4aa3929171fb49436">URLContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00041">url.h:41</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="abprint_8h_html_a07432f704c49a6fa636197e2aa80bac0"><div class="ttname"><a href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a></div><div class="ttdeci">static int av_bprint_is_complete(const AVBPrint *buf)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8h_source.html#l00185">bprint.h:185</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ab2c587fb6ad7e6d45d85bc440769d37f"><div class="ttname"><a href="writing__filters_8txt.html#ab2c587fb6ad7e6d45d85bc440769d37f">http</a></div><div class="ttdeci">s EdgeDetect Foobar g libavfilter vf_edgedetect c libavfilter vf_foobar c edit libavfilter and add an entry for foobar following the pattern of the other filters edit libavfilter allfilters and add an entry for foobar following the pattern of the other filters configure make j&lt; whatever &gt; ffmpeg ffmpeg i http</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00026">writing_filters.txt:29</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5bb6b4d50abfb56eff038ba1abc14b92"><div class="ttname"><a href="http_8c.html#a5bb6b4d50abfb56eff038ba1abc14b92">ff_http_averror</a></div><div class="ttdeci">int ff_http_averror(int status_code, int default_averror)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00391">http.c:391</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_gaea8a7c8c2832c11e753fbfc0d1464970"><div class="ttname"><a href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a></div><div class="ttdeci">int av_strncasecmp(const char *a, const char *b, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00225">avstring.c:225</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a5215502e4b3ef0521e57381151352d08"><div class="ttname"><a href="struct_h_t_t_p_context.html#a5215502e4b3ef0521e57381151352d08">HTTPContext::icy_metadata_packet</a></div><div class="ttdeci">char * icy_metadata_packet</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00109">http.c:109</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ac15eec25819332d0d8fb168db81cf999"><div class="ttname"><a href="struct_h_t_t_p_context.html#ac15eec25819332d0d8fb168db81cf999">HTTPContext::cookies</a></div><div class="ttdeci">char * cookies</div><div class="ttdoc">holds newline ( ) delimited Set-Cookie header field values (without the &quot;Set-Cookie: &quot; field name)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00100">http.c:100</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ab8542caaf6afaf4a22d5d52f6e605a0e"><div class="ttname"><a href="struct_h_t_t_p_context.html#ab8542caaf6afaf4a22d5d52f6e605a0e">HTTPContext::chunked_post</a></div><div class="ttdeci">int chunked_post</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00089">http.c:89</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a926a07b4039c322e7ec9562544a7c33f"><div class="ttname"><a href="struct_h_t_t_p_context.html#a926a07b4039c322e7ec9562544a7c33f">HTTPContext::mime_type</a></div><div class="ttdeci">char * mime_type</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00077">http.c:77</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gac4f6e109c242c81aeee21868d3f35e12"><div class="ttname"><a href="group__lavu__error.html#gac4f6e109c242c81aeee21868d3f35e12">av_err2str</a></div><div class="ttdeci">#define av_err2str(errnum)</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00119">error.h:119</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ab3d407301deabef5d71909e8ff9eb288"><div class="ttname"><a href="struct_h_t_t_p_context.html#ab3d407301deabef5d71909e8ff9eb288">HTTPContext::icy</a></div><div class="ttdeci">int icy</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00103">http.c:103</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a7c8670e60727af6785ae57304b6fa4a4"><div class="ttname"><a href="struct_h_t_t_p_context.html#a7c8670e60727af6785ae57304b6fa4a4">HTTPContext::buffer</a></div><div class="ttdeci">unsigned char buffer[BUFFER_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00065">http.c:65</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga9665abf3720f9f460790c2c3b224c052"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a></div><div class="ttdeci">int av_reallocp(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00161">mem.c:161</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_auth_state_html"><div class="ttname"><a href="struct_h_t_t_p_auth_state.html">HTTPAuthState</a></div><div class="ttdef"><b>Definition:</b> <a href="httpauth_8h_source.html#l00055">httpauth.h:55</a></div></div>
<div class="ttc" id="ahttp_8c_html_abb97fb65372cd552ab7afd60ea67b3f9"><div class="ttname"><a href="http_8c.html#abb97fb65372cd552ab7afd60ea67b3f9">http_write</a></div><div class="ttdeci">static int http_write(URLContext *h, const uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01644">http.c:1644</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ab2c9edd0827bd8f5cbb30deb69d82eca"><div class="ttname"><a href="struct_h_t_t_p_context.html#ab2c9edd0827bd8f5cbb30deb69d82eca">HTTPContext::reconnect_streamed</a></div><div class="ttdeci">int reconnect_streamed</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00122">http.c:122</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="asdr2_8c_html_abd18f6ed7dc5da8824a97bc504e4280e"><div class="ttname"><a href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a></div><div class="ttdeci">static const uint8_t header[24]</div><div class="ttdef"><b>Definition:</b> <a href="sdr2_8c_source.html#l00067">sdr2.c:67</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ab44a220846c44171b05e6f193bc76b46"><div class="ttname"><a href="struct_h_t_t_p_context.html#ab44a220846c44171b05e6f193bc76b46">HTTPContext::reconnect</a></div><div class="ttdeci">int reconnect</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00120">http.c:120</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astructline_html"><div class="ttname"><a href="structline.html">line</a></div><div class="ttdef"><b>Definition:</b> <a href="graph2dot_8c_source.html#l00048">graph2dot.c:48</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga1bafd682b1fbb90e48a4cc3814b820f7"><div class="ttname"><a href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a></div><div class="ttdeci">void av_dict_free(AVDictionary **pm)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00203">dict.c:203</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga6135a12628e2b6a63c8d3d9b3a742b06"><div class="ttname"><a href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a></div><div class="ttdeci">int av_strstart(const char *str, const char *pfx, const char **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00034">avstring.c:34</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a0295a6a5e0075ae405a651fa495e1fd2"><div class="ttname"><a href="struct_h_t_t_p_context.html#a0295a6a5e0075ae405a651fa495e1fd2">HTTPContext::is_akamai</a></div><div class="ttdeci">int is_akamai</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00098">http.c:98</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_a4c7a521b8f1a0769c09bfa4a1fca7dab"><div class="ttname"><a href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00317">libkvazaar.c:317</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a6eb5648ca707ac5417046088d33c5d6a"><div class="ttname"><a href="struct_h_t_t_p_context.html#a6eb5648ca707ac5417046088d33c5d6a">HTTPContext::http_code</a></div><div class="ttdeci">int http_code</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00067">http.c:67</a></div></div>
<div class="ttc" id="aprotocols_8c_html_a65d87f60f0882f0bbfde653db9684b5c"><div class="ttname"><a href="protocols_8c.html#a65d87f60f0882f0bbfde653db9684b5c">ff_http_protocol</a></div><div class="ttdeci">const URLProtocol ff_http_protocol</div></div>
<div class="ttc" id="ahttp_8c_html_ab6c178827f37539605e089065d0a1704"><div class="ttname"><a href="http_8c.html#ab6c178827f37539605e089065d0a1704">parse_set_cookie_expiry_time</a></div><div class="ttdeci">static int parse_set_cookie_expiry_time(const char *exp_str, struct tm *buf)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00762">http.c:762</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00205">log.h:205</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ab0f86604cebcee64b4a0570a8c5f77fb"><div class="ttname"><a href="struct_h_t_t_p_context.html#ab0f86604cebcee64b4a0570a8c5f77fb">HTTPContext::proxy_auth_state</a></div><div class="ttdeci">HTTPAuthState proxy_auth_state</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00074">http.c:74</a></div></div>
<div class="ttc" id="ahttp_8c_html_a548fa8798c919d1be71feeebc1d18942"><div class="ttname"><a href="http_8c.html#a548fa8798c919d1be71feeebc1d18942">update_metadata</a></div><div class="ttdeci">static void update_metadata(URLContext *h, char *data)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01561">http.c:1561</a></div></div>
<div class="ttc" id="abprint_8c_html_af70c16532f4ba50c599e4eaa67a1d63b"><div class="ttname"><a href="bprint_8c.html#af70c16532f4ba50c599e4eaa67a1d63b">av_bprint_init_for_buffer</a></div><div class="ttdeci">void av_bprint_init_for_buffer(AVBPrint *buf, char *buffer, unsigned size)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00085">bprint.c:85</a></div></div>
<div class="ttc" id="aavio_8c_html_a6ead4ed148503255d6b50ad4a0ea19dc"><div class="ttname"><a href="avio_8c.html#a6ead4ed148503255d6b50ad4a0ea19dc">ffurl_get_short_seek</a></div><div class="ttdeci">int ffurl_get_short_seek(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00652">avio.c:652</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5418f0c57a057b77594f587d2165e10b"><div class="ttname"><a href="http_8c.html#a5418f0c57a057b77594f587d2165e10b">ff_http_get_shutdown_status</a></div><div class="ttdeci">int ff_http_get_shutdown_status(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00317">http.c:317</a></div></div>
<div class="ttc" id="aavio_8c_html_a3934b771050cfd461c49555469beca7e"><div class="ttname"><a href="avio_8c.html#a3934b771050cfd461c49555469beca7e">ffurl_alloc</a></div><div class="ttdeci">int ffurl_alloc(URLContext **puc, const char *filename, int flags, const AVIOInterruptCB *int_cb)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00297">avio.c:297</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a54692c3e1ec5eab7ae6ef41a00f89dbe"><div class="ttname"><a href="struct_h_t_t_p_context.html#a54692c3e1ec5eab7ae6ef41a00f89dbe">HTTPContext::user_agent</a></div><div class="ttdeci">char * user_agent</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00079">http.c:79</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a5c405c999f015e05e4d5fda699d531fd"><div class="ttname"><a href="struct_h_t_t_p_context.html#a5c405c999f015e05e4d5fda699d531fd">HTTPContext::seekable</a></div><div class="ttdeci">int seekable</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00088">http.c:88</a></div></div>
<div class="ttc" id="ahttpauth_8h_html"><div class="ttname"><a href="httpauth_8h.html">httpauth.h</a></div></div>
<div class="ttc" id="abprint_8h_html"><div class="ttname"><a href="bprint_8h.html">bprint.h</a></div></div>
<div class="ttc" id="ahttp_8c_html_a03583ab5c3b98f1b201b73bd53369624"><div class="ttname"><a href="http_8c.html#a03583ab5c3b98f1b201b73bd53369624">http_handshake</a></div><div class="ttdeci">static int http_handshake(URLContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00488">http.c:488</a></div></div>
<div class="ttc" id="ahttpauth_8h_html_a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c"><div class="ttname"><a href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3da208f0926853b84d7acf3ce0669e9dc1c">HTTP_AUTH_NONE</a></div><div class="ttdeci">@ HTTP_AUTH_NONE</div><div class="ttdef"><b>Definition:</b> <a href="httpauth_8h_source.html#l00029">httpauth.h:29</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="ahttp_8c_html_a08d28a134863d46a635b4b144096c333"><div class="ttname"><a href="http_8c.html#a08d28a134863d46a635b4b144096c333">http_open</a></div><div class="ttdeci">static int http_open(URLContext *h, const char *uri, int flags, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00555">http.c:555</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a885fbd21672e1bad22093e131b96d1ed"><div class="ttname"><a href="struct_h_t_t_p_context.html#a885fbd21672e1bad22093e131b96d1ed">HTTPContext::http_version</a></div><div class="ttdeci">char * http_version</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00078">http.c:78</a></div></div>
<div class="ttc" id="anetwork_8c_html_a4d19d7a84d7ccf9e80026bd972ab213b"><div class="ttname"><a href="network_8c.html#a4d19d7a84d7ccf9e80026bd972ab213b">ff_network_sleep_interruptible</a></div><div class="ttdeci">int ff_network_sleep_interruptible(int64_t timeout, AVIOInterruptCB *int_cb)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00098">network.c:98</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="ahttp_8c_html_a2a9a7aca01b0232a71abc2842cbc6d5a"><div class="ttname"><a href="http_8c.html#a2a9a7aca01b0232a71abc2842cbc6d5a">parse_set_cookie</a></div><div class="ttdeci">static int parse_set_cookie(const char *set_cookie, AVDictionary **dict)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00787">http.c:787</a></div></div>
<div class="ttc" id="ahttp_8c_html_ac9300bca4ebcb1c39529d7b7add02284"><div class="ttname"><a href="http_8c.html#ac9300bca4ebcb1c39529d7b7add02284">http_seek</a></div><div class="ttdeci">static int64_t http_seek(URLContext *h, int64_t off, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01777">http.c:1777</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a2e9155ed29b1f0d38e830d772ced6a01"><div class="ttname"><a href="struct_h_t_t_p_context.html#a2e9155ed29b1f0d38e830d772ced6a01">HTTPContext::off</a></div><div class="ttdeci">uint64_t off</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00071">http.c:71</a></div></div>
<div class="ttc" id="ahttp_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="http_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00137">http.c:137</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a09f9d0cee65cb17a34e6e6d313c44b76"><div class="ttname"><a href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default value</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga63a0579d6c2aa72470ac742bbbc1205d"><div class="ttname"><a href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a></div><div class="ttdeci">void av_url_split(char *proto, int proto_size, char *authorization, int authorization_size, char *hostname, int hostname_size, int *port_ptr, char *path, int path_size, const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04725">utils.c:4725</a></div></div>
<div class="ttc" id="astruct_u_r_l_protocol_html_aa733e1d46333f08d68fbcbc518e4a235"><div class="ttname"><a href="struct_u_r_l_protocol.html#aa733e1d46333f08d68fbcbc518e4a235">URLProtocol::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00055">url.h:55</a></div></div>
<div class="ttc" id="ahttp_8c_html_a4be0b6529b21a2061d01720420f16156"><div class="ttname"><a href="http_8c.html#a4be0b6529b21a2061d01720420f16156">http_open_cnx_internal</a></div><div class="ttdeci">static int http_open_cnx_internal(URLContext *h, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00191">http.c:191</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_aa2b763a0f9fa0249e2750597f8e5ab35"><div class="ttname"><a href="struct_h_t_t_p_context.html#aa2b763a0f9fa0249e2750597f8e5ab35">HTTPContext::is_mediagateway</a></div><div class="ttdeci">int is_mediagateway</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00099">http.c:99</a></div></div>
<div class="ttc" id="aurl_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="ahttp_8c_html_aea27050c1c208d4579865d481c28ffc4"><div class="ttname"><a href="http_8c.html#aea27050c1c208d4579865d481c28ffc4">http_close</a></div><div class="ttdeci">static int http_close(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01699">http.c:1699</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="ahttp_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="http_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00132">http.c:132</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ae9fa7ef79670f5d6e316dee78b0ab442"><div class="ttname"><a href="struct_h_t_t_p_context.html#ae9fa7ef79670f5d6e316dee78b0ab442">HTTPContext::cookie_dict</a></div><div class="ttdeci">AVDictionary * cookie_dict</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00102">http.c:102</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a0fe1181c46d4d8fb284ab58203cb32ee"><div class="ttname"><a href="struct_h_t_t_p_context.html#a0fe1181c46d4d8fb284ab58203cb32ee">HTTPContext::resource</a></div><div class="ttdeci">char * resource</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00125">http.c:125</a></div></div>
<div class="ttc" id="aavio_8c_html_a83651a73d9920bf30cfe72a79b574b58"><div class="ttname"><a href="avio_8c.html#a83651a73d9920bf30cfe72a79b574b58">ffurl_closep</a></div><div class="ttdeci">int ffurl_closep(URLContext **hh)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00446">avio.c:446</a></div></div>
<div class="ttc" id="aprotocols_8c_html_a1dea9e0d9c075c7a3e19367ef6afaa36"><div class="ttname"><a href="protocols_8c.html#a1dea9e0d9c075c7a3e19367ef6afaa36">ff_https_protocol</a></div><div class="ttdeci">const URLProtocol ff_https_protocol</div></div>
<div class="ttc" id="amovenc_8c_html_a1c50fcd1195659821729f52af8f3bb7d"><div class="ttname"><a href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a></div><div class="ttdeci">uint32_t tag</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01597">movenc.c:1597</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ad2be269bd2d67c228a800d00fdf91e1f"><div class="ttname"><a href="struct_h_t_t_p_context.html#ad2be269bd2d67c228a800d00fdf91e1f">HTTPContext::auth_state</a></div><div class="ttdeci">HTTPAuthState auth_state</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00073">http.c:73</a></div></div>
<div class="ttc" id="ahttp_8c_html_a064110dfc80d1d11620b1f45acca434d"><div class="ttname"><a href="http_8c.html#a064110dfc80d1d11620b1f45acca434d">HandshakeState</a></div><div class="ttdeci">HandshakeState</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00055">http.c:55</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a460ead195cdfc5d316b399e537d0c4ae"><div class="ttname"><a href="struct_h_t_t_p_context.html#a460ead195cdfc5d316b399e537d0c4ae">HTTPContext::location</a></div><div class="ttdeci">char * location</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00072">http.c:72</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a4803b9fedc7a5d7f0f04ba33415791fe"><div class="ttname"><a href="struct_h_t_t_p_context.html#a4803b9fedc7a5d7f0f04ba33415791fe">HTTPContext::icy_metaint</a></div><div class="ttdeci">uint64_t icy_metaint</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00107">http.c:107</a></div></div>
<div class="ttc" id="abprint_8c_html_a123a83f3ad2f3c370ed18592d0299fd6"><div class="ttname"><a href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a></div><div class="ttdeci">void av_bprintf(AVBPrint *buf, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00094">bprint.c:94</a></div></div>
<div class="ttc" id="ahttp_8c_html_a455a427d178d6f1eefeff90414cbceb9"><div class="ttname"><a href="http_8c.html#a455a427d178d6f1eefeff90414cbceb9">HTTPContext</a></div><div class="ttdeci">struct HTTPContext HTTPContext</div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="anetwork_8h_html"><div class="ttname"><a href="network_8h.html">network.h</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a678b4db80d8f0b35fe15df08d82fe898"><div class="ttname"><a href="struct_h_t_t_p_context.html#a678b4db80d8f0b35fe15df08d82fe898">HTTPContext::headers</a></div><div class="ttdeci">char * headers</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00076">http.c:76</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a0e48151aa81e2949bf69aaf5e3fc2cc9"><div class="ttname"><a href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a></div><div class="ttdeci">#define SIZE_SPECIFIER</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00229">internal.h:229</a></div></div>
<div class="ttc" id="aparseutils_8c_html_acd5cd7c7ffea52ca3697864253384ffe"><div class="ttname"><a href="parseutils_8c.html#acd5cd7c7ffea52ca3697864253384ffe">av_small_strptime</a></div><div class="ttdeci">char * av_small_strptime(const char *p, const char *fmt, struct tm *dt)</div><div class="ttdef"><b>Definition:</b> <a href="parseutils_8c_source.html#l00489">parseutils.c:489</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_ab9c288a59a1c4d29847845c5d6ca455f"><div class="ttname"><a href="libavformat_2internal_8h.html#ab9c288a59a1c4d29847845c5d6ca455f">MAX_URL_SIZE</a></div><div class="ttdeci">#define MAX_URL_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00030">internal.h:30</a></div></div>
<div class="ttc" id="aopt_8h_html_adf984463025a7861f3c21b113966cb53"><div class="ttname"><a href="opt_8h.html#adf984463025a7861f3c21b113966cb53">AV_OPT_FLAG_EXPORT</a></div><div class="ttdeci">#define AV_OPT_FLAG_EXPORT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00286">opt.h:286</a></div></div>
<div class="ttc" id="aavio_8c_html_a451aa14ea2eee6d188543213606f8385"><div class="ttname"><a href="avio_8c.html#a451aa14ea2eee6d188543213606f8385">ffurl_read</a></div><div class="ttdeci">int ffurl_read(URLContext *h, unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00409">avio.c:409</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_aa52154843ba9f27d9ead6ac41b8c7c34"><div class="ttname"><a href="struct_h_t_t_p_context.html#aa52154843ba9f27d9ead6ac41b8c7c34">HTTPContext::multiple_requests</a></div><div class="ttdeci">int multiple_requests</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00095">http.c:95</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="abuild__system_8txt_html_ad5f19473a15f2270898499b3f26b5948"><div class="ttname"><a href="build__system_8txt.html#ad5f19473a15f2270898499b3f26b5948">headers</a></div><div class="ttdeci">FFmpeg currently uses a custom build this text attempts to document some of its obscure features and options Makefile the full command issued by make and its output will be shown on the screen DBG Preprocess x86 external assembler files to a dbg asm file in the object which then gets compiled Helps in developing those assembler files DESTDIR Destination directory for the install useful to prepare packages or install FFmpeg in cross environments GEN Set to ‘1’ to generate the missing or mismatched references Makefile builds all the libraries and the executables fate Run the fate test note that you must have installed it fate list List all fate regression test targets install Install headers</div><div class="ttdef"><b>Definition:</b> <a href="build__system_8txt_source.html#l00034">build_system.txt:34</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga114337140a3fec85cf76736f8e779659"><div class="ttname"><a href="group__lavu__error.html#ga114337140a3fec85cf76736f8e779659">AVERROR_HTTP_FORBIDDEN</a></div><div class="ttdeci">#define AVERROR_HTTP_FORBIDDEN</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00078">error.h:78</a></div></div>
<div class="ttc" id="aavio_8c_html_ac1d123f423ddc77939136919c75f44ba"><div class="ttname"><a href="avio_8c.html#ac1d123f423ddc77939136919c75f44ba">ffurl_write</a></div><div class="ttdeci">int ffurl_write(URLContext *h, const unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00423">avio.c:423</a></div></div>
<div class="ttc" id="ahttp_8c_html_aadd6da16a032d7b9b1ff28b59f2f45ff"><div class="ttname"><a href="http_8c.html#aadd6da16a032d7b9b1ff28b59f2f45ff">HTTP_CLASS</a></div><div class="ttdeci">#define HTTP_CLASS(flavor)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01794">http.c:1794</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a7ff914ef5e22c0dc42f6965adf921c39"><div class="ttname"><a href="struct_h_t_t_p_context.html#a7ff914ef5e22c0dc42f6965adf921c39">HTTPContext::content_type</a></div><div class="ttdeci">char * content_type</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00084">http.c:84</a></div></div>
<div class="ttc" id="avf__mcdeint_8c_html_a0b90bc971fe5188fc4d32fe8177a64a5"><div class="ttname"><a href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a></div><div class="ttdeci">else temp</div><div class="ttdef"><b>Definition:</b> <a href="vf__mcdeint_8c_source.html#l00256">vf_mcdeint.c:256</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a49b179f529c77c6df7a1bf00347f2fa0"><div class="ttname"><a href="struct_h_t_t_p_context.html#a49b179f529c77c6df7a1bf00347f2fa0">HTTPContext::listen</a></div><div class="ttdeci">int listen</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00124">http.c:124</a></div></div>
<div class="ttc" id="ahttp_8c_html_a85105247cb7f7e73060d6233a30245a8"><div class="ttname"><a href="http_8c.html#a85105247cb7f7e73060d6233a30245a8">http_get_file_handle</a></div><div class="ttdeci">static int http_get_file_handle(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01782">http.c:1782</a></div></div>
<div class="ttc" id="astruct_u_r_l_context_html"><div class="ttname"><a href="struct_u_r_l_context.html">URLContext</a></div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00038">url.h:38</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8b0b424d9d5feb6b5abaae87be2c757f"><div class="ttname"><a href="http_8c.html#a8b0b424d9d5feb6b5abaae87be2c757f">HTTP_SINGLE</a></div><div class="ttdeci">#define HTTP_SINGLE</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00051">http.c:51</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a38eee91ecc91dfb0d83002812e029e07"><div class="ttname"><a href="writing__filters_8txt.html#a38eee91ecc91dfb0d83002812e029e07">https</a></div><div class="ttdeci">s EdgeDetect Foobar g libavfilter vf_edgedetect c libavfilter vf_foobar c edit libavfilter and add an entry for foobar following the pattern of the other filters edit libavfilter allfilters and add an entry for foobar following the pattern of the other filters configure make j&lt; whatever &gt; ffmpeg ffmpeg i you should get a foobar png with Lena edge detected That s your new playground is ready Some little details about what s going which in turn will define variables for the build system and the and we are assuming vf_foobar is as well We are also assuming vf_foobar is not an edge detector so you can update the boilerplate with your credits Doxy Next chunk is the Doxygen about the file See https</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00065">writing_filters.txt:66</a></div></div>
<div class="ttc" id="atime_8c_html_aebf7f9c94187487c31d26fa3da816468"><div class="ttname"><a href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a></div><div class="ttdeci">int64_t av_gettime(void)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00039">time.c:39</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gafd013a88620b2da7d497b083f6ea7d29"><div class="ttname"><a href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a></div><div class="ttdeci">int av_dict_set_int(AVDictionary **pm, const char *key, int64_t value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00147">dict.c:147</a></div></div>
<div class="ttc" id="ahttpauth_8h_html_a48bccea7db605fadf5b195e889ba8a3d"><div class="ttname"><a href="httpauth_8h.html#a48bccea7db605fadf5b195e889ba8a3d">HTTPAuthType</a></div><div class="ttdeci">HTTPAuthType</div><div class="ttdef"><b>Definition:</b> <a href="httpauth_8h_source.html#l00028">httpauth.h:28</a></div></div>
<div class="ttc" id="aavio_8h_html_a21e61cb486bd1588eb7f775998cf8c77"><div class="ttname"><a href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a></div><div class="ttdeci">#define AVIO_FLAG_READ</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00674">avio.h:674</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga7c352f4cff02184f005323691375fea9"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a></div><div class="ttdeci">char * av_strdup(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00253">mem.c:253</a></div></div>
<div class="ttc" id="ahttp_8c_html_a064110dfc80d1d11620b1f45acca434da8b9af67858708d770f017e4aae85900d"><div class="ttname"><a href="http_8c.html#a064110dfc80d1d11620b1f45acca434da8b9af67858708d770f017e4aae85900d">FINISH</a></div><div class="ttdeci">@ FINISH</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00060">http.c:59</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_ad06b42333cade0c936cd83c2f5bf6ecc"><div class="ttname"><a href="struct_h_t_t_p_context.html#ad06b42333cade0c936cd83c2f5bf6ecc">HTTPContext::post_datalen</a></div><div class="ttdeci">int post_datalen</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00097">http.c:97</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="aavio_8c_html_a2187c61f2293d37a62a28a19fff8ce69"><div class="ttname"><a href="avio_8c.html#a2187c61f2293d37a62a28a19fff8ce69">ffurl_handshake</a></div><div class="ttdeci">int ffurl_handshake(URLContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00238">avio.c:238</a></div></div>
<div class="ttc" id="aurl_8c_html_ad105214adbfccb8143dffe2e1c6057ba"><div class="ttname"><a href="url_8c.html#ad105214adbfccb8143dffe2e1c6057ba">ff_make_absolute_url</a></div><div class="ttdeci">int ff_make_absolute_url(char *buf, int size, const char *base, const char *rel)</div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00181">url.c:181</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="aavio_8h_html_aea3131c92c70177e463538e9a6b4308e"><div class="ttname"><a href="avio_8h.html#aea3131c92c70177e463538e9a6b4308e">AVIO_FLAG_NONBLOCK</a></div><div class="ttdeci">#define AVIO_FLAG_NONBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00693">avio.h:693</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga59a6372b124b306e3a2233723c5cdc78"><div class="ttname"><a href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a></div><div class="ttdeci">int av_dict_copy(AVDictionary **dst, const AVDictionary *src, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00217">dict.c:217</a></div></div>
<div class="ttc" id="ahttp_8c_html_a35d119c61b31c753c86099b93679a089"><div class="ttname"><a href="http_8c.html#a35d119c61b31c753c86099b93679a089">http_getc</a></div><div class="ttdeci">static int http_getc(HTTPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00621">http.c:621</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a1ac0b513b2ffed78aafcaff5c86867b6"><div class="ttname"><a href="struct_h_t_t_p_context.html#a1ac0b513b2ffed78aafcaff5c86867b6">HTTPContext::method</a></div><div class="ttdeci">char * method</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00119">http.c:119</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_ae1e061c0db8a47f53e1f3de5e371872e"><div class="ttname"><a href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">convert_header.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00020">convert_header.py:20</a></div></div>
<div class="ttc" id="ahttp_8c_html_af34cebda5d4537315dd3d02df571dbd1"><div class="ttname"><a href="http_8c.html#af34cebda5d4537315dd3d02df571dbd1">http_accept</a></div><div class="ttdeci">static int http_accept(URLContext *s, URLContext **c)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00597">http.c:597</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html"><div class="ttname"><a href="struct_h_t_t_p_context.html">HTTPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00062">http.c:62</a></div></div>
<div class="ttc" id="ahttp_8c_html_a064110dfc80d1d11620b1f45acca434dab477c197de00c0c78b2978f521a6a87d"><div class="ttname"><a href="http_8c.html#a064110dfc80d1d11620b1f45acca434dab477c197de00c0c78b2978f521a6a87d">LOWER_PROTO</a></div><div class="ttdeci">@ LOWER_PROTO</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00056">http.c:56</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a8ef955d6f202a1f8e79be806a730f4cd"><div class="ttname"><a href="struct_h_t_t_p_context.html#a8ef955d6f202a1f8e79be806a730f4cd">HTTPContext::icy_metadata_headers</a></div><div class="ttdeci">char * icy_metadata_headers</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00108">http.c:108</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="avp9dsp__template_8c_html_a5e36941b3d856737e81516acd45edc50"><div class="ttname"><a href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div><div class="ttdeci">h</div><div class="ttdef"><b>Definition:</b> <a href="vp9dsp__template_8c_source.html#l02038">vp9dsp_template.c:2038</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga334ea23fd9e492cd0e718330f2353b6b"><div class="ttname"><a href="group__lavu__error.html#ga334ea23fd9e492cd0e718330f2353b6b">AVERROR_EXIT</a></div><div class="ttdeci">#define AVERROR_EXIT</div><div class="ttdoc">Immediate exit was requested; the called function should not be restarted.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00056">error.h:56</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a></div><div class="ttdeci">@ AV_OPT_TYPE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00229">opt.h:229</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a7588ec7d9d4f9c3697eeef129716ff9b"><div class="ttname"><a href="struct_h_t_t_p_context.html#a7588ec7d9d4f9c3697eeef129716ff9b">HTTPContext::referer</a></div><div class="ttdeci">char * referer</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00080">http.c:80</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaffde7a717e3a603ed11a998c18d68cad"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaffde7a717e3a603ed11a998c18d68cad">av_strndup</a></div><div class="ttdeci">char * av_strndup(const char *s, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00265">mem.c:265</a></div></div>
<div class="ttc" id="ahttp_8h_html"><div class="ttname"><a href="http_8h.html">http.h</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="asnprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a0bd18ce690fe33f92ced117f5a23a222"><div class="ttname"><a href="struct_h_t_t_p_context.html#a0bd18ce690fe33f92ced117f5a23a222">HTTPContext::hd</a></div><div class="ttdeci">URLContext * hd</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00064">http.c:64</a></div></div>
<div class="ttc" id="ahttp_8c_html_a11c5a99873dc8a63bd3f7b30834e570e"><div class="ttname"><a href="http_8c.html#a11c5a99873dc8a63bd3f7b30834e570e">store_icy</a></div><div class="ttdeci">static int store_icy(URLContext *h, int size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01589">http.c:1589</a></div></div>
<div class="ttc" id="aavio_8c_html_aca37c81c605b0db39a0451c35fa19c36"><div class="ttname"><a href="avio_8c.html#aca37c81c605b0db39a0451c35fa19c36">ffurl_get_file_handle</a></div><div class="ttdeci">int ffurl_get_file_handle(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00628">avio.c:628</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_a78902b4426f7e2b21e62dc4fa5cfa6eb"><div class="ttname"><a href="struct_h_t_t_p_context.html#a78902b4426f7e2b21e62dc4fa5cfa6eb">HTTPContext::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00110">http.c:110</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_context_html_af4e1e78ada09647e47b20daecb513a38"><div class="ttname"><a href="struct_h_t_t_p_context.html#af4e1e78ada09647e47b20daecb513a38">HTTPContext::line_count</a></div><div class="ttdeci">int line_count</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00066">http.c:66</a></div></div>
<div class="ttc" id="aswscale_8txt_html_aa111755617738a3e99d08d488ed0d3c4"><div class="ttname"><a href="swscale_8txt.html#aa111755617738a3e99d08d488ed0d3c4">line</a></div><div class="ttdeci">The official guide to swscale for confused that consecutive non overlapping rectangles of slice_bottom special converter These generally are unscaled converters of common like for each output line the vertical scaler pulls lines from a ring buffer When the ring buffer does not contain the wanted line</div><div class="ttdef"><b>Definition:</b> <a href="swscale_8txt_source.html#l00040">swscale.txt:40</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gacb0ce4f20c15bf174f93590ace0fc8fd"><div class="ttname"><a href="group__lavu__dict.html#gacb0ce4f20c15bf174f93590ace0fc8fd">AV_DICT_DONT_STRDUP_KEY</a></div><div class="ttdeci">#define AV_DICT_DONT_STRDUP_KEY</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00073">dict.h:72</a></div></div>
<div class="ttc" id="aopt_8h_html_a62dad0721bb39d5c7449ec6d75f89c90"><div class="ttname"><a href="opt_8h.html#a62dad0721bb39d5c7449ec6d75f89c90">AV_OPT_FLAG_DEPRECATED</a></div><div class="ttdeci">#define AV_OPT_FLAG_DEPRECATED</div><div class="ttdoc">set if option is deprecated, users should refer to AVOption.help text for more information</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00295">opt.h:295</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
