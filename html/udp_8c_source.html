<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/udp.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">udp.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="udp_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * UDP prototype streaming system</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2000, 2001, 2002 Fabrice Bellard</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="udp_8c.html#a8fb447618db946a9e2a596d9ea18763f">   27</a></span>&#160;<span class="preprocessor">#define _DEFAULT_SOURCE</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="udp_8c.html#ad3d8a3bd0c0b677acef144f2c2ef6d73">   28</a></span>&#160;<span class="preprocessor">#define _BSD_SOURCE     </span><span class="comment">/* Needed for using struct ip_mreq with recent glibc */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avio__internal_8h.html">avio_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parseutils_8h.html">libavutil/parseutils.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fifo_8h.html">libavutil/fifo.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">libavutil/log.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">libavutil/time.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="network_8h.html">network.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="os__support_8h.html">os_support.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">url.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ip_8h.html">ip.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifdef __APPLE__</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;TargetConditionals.h&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#if HAVE_UDPLITE_H</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;udplite.h&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/* On many Linux systems, udplite.h is missing but the kernel supports UDP-Lite.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * So, we provide a fallback here.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="udp_8c.html#a1b2e3aea5b22026c1f4322cc2d78743d">   56</a></span>&#160;<span class="preprocessor">#define UDPLITE_SEND_CSCOV                               10</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="udp_8c.html#af421f8f6f43679e0ec3b2048aec37bec">   57</a></span>&#160;<span class="preprocessor">#define UDPLITE_RECV_CSCOV                               11</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#ifndef IPPROTO_UDPLITE</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="udp_8c.html#a76019e374e4b3301abea0090e9c5c0f6">   61</a></span>&#160;<span class="preprocessor">#define IPPROTO_UDPLITE                                  136</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#if HAVE_W32THREADS</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#undef HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#define HAVE_PTHREAD_CANCEL 1</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2thread_8h.html">libavutil/thread.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#ifndef IPV6_ADD_MEMBERSHIP</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="udp_8c.html#ae00bbae5a549824fed6ec3c646ce6c47">   74</a></span>&#160;<span class="preprocessor">#define IPV6_ADD_MEMBERSHIP IPV6_JOIN_GROUP</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="udp_8c.html#a6afe2eca1346e32c42d6358cbfeaebfe">   75</a></span>&#160;<span class="preprocessor">#define IPV6_DROP_MEMBERSHIP IPV6_LEAVE_GROUP</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="udp_8c.html#a5d20473a838368ac190f608f4cf46f27">   78</a></span>&#160;<span class="preprocessor">#define UDP_TX_BUF_SIZE 32768</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="udp_8c.html#aa654a2855640f27d6212857d8404f1f8">   79</a></span>&#160;<span class="preprocessor">#define UDP_RX_BUF_SIZE 393216</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="udp_8c.html#af7a344b9d7950a11af57b8ce8330c918">   80</a></span>&#160;<span class="preprocessor">#define UDP_MAX_PKT_SIZE 65536</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="udp_8c.html#a8a0fae83e487dc04b3cd774b3d4ee637">   81</a></span>&#160;<span class="preprocessor">#define UDP_HEADER_SIZE 8</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html">   83</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_u_d_p_context.html">UDPContext</a> {</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a894c1e1a420f455bc26fe65541f3b41c">   84</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a7cf0869175999a467bdc5e2af8cc6a6d">   85</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a7cf0869175999a467bdc5e2af8cc6a6d">udp_fd</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#aac162bef80718f7f76df3a6fb89a0c0a">   86</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#aac162bef80718f7f76df3a6fb89a0c0a">ttl</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a764b7f2938a3851e716e5020b3725140">   87</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a764b7f2938a3851e716e5020b3725140">udplite_coverage</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a4b1cbbab9d4aec24e1a931269ae42e83">   88</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a4b1cbbab9d4aec24e1a931269ae42e83">buffer_size</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a3ac3f3701cf1587dad54906a711fec5d">   89</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a3ac3f3701cf1587dad54906a711fec5d">pkt_size</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a506dc87a618d55bf3a6e7a5b33b6f7a9">   90</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a506dc87a618d55bf3a6e7a5b33b6f7a9">is_multicast</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a54ecc4cfbdeb8130d1c338eb7fa4a4f2">   91</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a54ecc4cfbdeb8130d1c338eb7fa4a4f2">is_broadcast</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a9218e88fd4c25ae819ce491a6195aefd">   92</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a9218e88fd4c25ae819ce491a6195aefd">local_port</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#ad09ef57dcb533ffa9197f720cfd0b8f4">   93</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#ad09ef57dcb533ffa9197f720cfd0b8f4">reuse_socket</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a9a20164d851a0c4e746aa084c06cb356">   94</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a9a20164d851a0c4e746aa084c06cb356">overrun_nonfatal</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> <a class="code" href="struct_u_d_p_context.html#a06c488deb2002f63219dc3a00a7c739b">dest_addr</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a072fd654e750207f4f60e79e25117f46">   96</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a072fd654e750207f4f60e79e25117f46">dest_addr_len</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a2c37aaeb053582ce8ecdcc5cdf221989">   97</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a2c37aaeb053582ce8ecdcc5cdf221989">is_connected</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">/* Circular Buffer variables for use in UDP receive code */</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a248b7422d772bc2604d762a6d62bf9c5">  100</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a248b7422d772bc2604d762a6d62bf9c5">circular_buffer_size</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#ade027261fba59fc9129dc7308d36f40b">  101</a></span>&#160;    <a class="code" href="struct_a_v_fifo_buffer.html">AVFifoBuffer</a> *<a class="code" href="struct_u_d_p_context.html#ade027261fba59fc9129dc7308d36f40b">fifo</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a2e42fa7083c1ee697010f38653322365">  102</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a2e42fa7083c1ee697010f38653322365">circular_buffer_error</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a3c3d6abb6dea8b3a9f3f9404e29b0769">  103</a></span>&#160;    int64_t <a class="code" href="struct_u_d_p_context.html#a3c3d6abb6dea8b3a9f3f9404e29b0769">bitrate</a>; <span class="comment">/* number of bits to send per second */</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a85b9ec8422d19f0f2f25cf7e4c96a0dc">  104</a></span>&#160;    int64_t <a class="code" href="struct_u_d_p_context.html#a85b9ec8422d19f0f2f25cf7e4c96a0dc">burst_bits</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#acaba108cf8747a464bc9f0a8857c713b">  105</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#acaba108cf8747a464bc9f0a8857c713b">close_req</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="structpthread__t.html">pthread_t</a> circular_buffer_thread;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="os2threads_8h.html#ac171f4e937b5a585efb4a7f99ee2234a">pthread_mutex_t</a> <a class="code" href="log_8c.html#a9253be7adbbf7eb0c38ea4bc8651928c">mutex</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="structpthread__cond__t.html">pthread_cond_t</a> <a class="code" href="pixdesc__query_8c.html#a26541ac96c02cad2015f8db63b5e703a">cond</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">int</span> thread_started;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a7de4269e2a8b3e0a8128684f14e6741c">  112</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_u_d_p_context.html#a7de4269e2a8b3e0a8128684f14e6741c">tmp</a>[<a class="code" href="udp_8c.html#af7a344b9d7950a11af57b8ce8330c918">UDP_MAX_PKT_SIZE</a>+4];</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#ae5e37af84a349901d4a2b3551f33885b">  113</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#ae5e37af84a349901d4a2b3551f33885b">remaining_in_dg</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a625b5875161049912bce4f90896a40cb">  114</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_u_d_p_context.html#a625b5875161049912bce4f90896a40cb">localaddr</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a50203e230b412dc8a58c817df728a70e">  115</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_u_d_p_context.html#a50203e230b412dc8a58c817df728a70e">timeout</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> <a class="code" href="struct_u_d_p_context.html#a1ec64f9dc75a1515d267e9201f1d908b">local_addr_storage</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a7bef3a2dae5614ac747a08b7b944aa3c">  117</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_u_d_p_context.html#a7bef3a2dae5614ac747a08b7b944aa3c">sources</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a16b684a66d43d483dd28c624907cff2f">  118</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_u_d_p_context.html#a16b684a66d43d483dd28c624907cff2f">block</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="struct_u_d_p_context.html#a272fba8076c6b17af0d11a288f32d079">  119</a></span>&#160;    <a class="code" href="struct_i_p_source_filters.html">IPSourceFilters</a> <a class="code" href="struct_u_d_p_context.html#a272fba8076c6b17af0d11a288f32d079">filters</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="udp_8c.html#ac1820f0456368f128cd7b9c02c463031">  120</a></span>&#160;} <a class="code" href="udp_8c.html#ac1820f0456368f128cd7b9c02c463031">UDPContext</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">  122</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(UDPContext, x)</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">  123</a></span>&#160;<span class="preprocessor">#define D AV_OPT_FLAG_DECODING_PARAM</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">  124</a></span>&#160;<span class="preprocessor">#define E AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="udp_8c.html#a384ff94b5139f441c282c9b4c7b985e6">  125</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="udp_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    { <span class="stringliteral">&quot;buffer_size&quot;</span>,    <span class="stringliteral">&quot;System data size (in bytes)&quot;</span>,                     <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(buffer_size),    <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,    { .i64 = -1 },    -1, INT_MAX, .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    { <span class="stringliteral">&quot;bitrate&quot;</span>,        <span class="stringliteral">&quot;Bits to send per second&quot;</span>,                         <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>),        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a>,  { .i64 = 0  },     0, INT64_MAX, .flags = <a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    { <span class="stringliteral">&quot;burst_bits&quot;</span>,     <span class="stringliteral">&quot;Max length of bursts in bits (when using bitrate)&quot;</span>, <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(burst_bits),   <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a>,  { .i64 = 0  },     0, INT64_MAX, .flags = <a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    { <span class="stringliteral">&quot;localport&quot;</span>,      <span class="stringliteral">&quot;Local port&quot;</span>,                                      <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(local_port),     <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,    { .i64 = -1 },    -1, INT_MAX, <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    { <span class="stringliteral">&quot;local_port&quot;</span>,     <span class="stringliteral">&quot;Local port&quot;</span>,                                      <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(local_port),     <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,    { .i64 = -1 },    -1, INT_MAX, .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    { <span class="stringliteral">&quot;localaddr&quot;</span>,      <span class="stringliteral">&quot;Local address&quot;</span>,                                   <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(localaddr),      <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },               .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    { <span class="stringliteral">&quot;udplite_coverage&quot;</span>, <span class="stringliteral">&quot;choose UDPLite head size which should be validated by checksum&quot;</span>, <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(udplite_coverage), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 0}, 0, INT_MAX, <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    { <span class="stringliteral">&quot;pkt_size&quot;</span>,       <span class="stringliteral">&quot;Maximum UDP packet size&quot;</span>,                         <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(pkt_size),       <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,    { .i64 = 1472 },  -1, INT_MAX, .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    { <span class="stringliteral">&quot;reuse&quot;</span>,          <span class="stringliteral">&quot;explicitly allow reusing UDP sockets&quot;</span>,            <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reuse_socket),   <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>,   { .i64 = -1 },    -1, 1,       <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    { <span class="stringliteral">&quot;reuse_socket&quot;</span>,   <span class="stringliteral">&quot;explicitly allow reusing UDP sockets&quot;</span>,            <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reuse_socket),   <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>,   { .i64 = -1 },    -1, 1,       .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    { <span class="stringliteral">&quot;broadcast&quot;</span>, <span class="stringliteral">&quot;explicitly allow or disallow broadcast destination&quot;</span>,   <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(is_broadcast),   <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>,   { .i64 = 0  },     0, 1,       <a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    { <span class="stringliteral">&quot;ttl&quot;</span>,            <span class="stringliteral">&quot;Time to live (multicast only)&quot;</span>,                   <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(ttl),            <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,    { .i64 = 16 },     0, INT_MAX, <a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    { <span class="stringliteral">&quot;connect&quot;</span>,        <span class="stringliteral">&quot;set if connect() should be called on socket&quot;</span>,     <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(is_connected),   <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>,   { .i64 =  0 },     0, 1,       .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    { <span class="stringliteral">&quot;fifo_size&quot;</span>,      <span class="stringliteral">&quot;set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes&quot;</span>, <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(circular_buffer_size), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 7*4096}, 0, INT_MAX, <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    { <span class="stringliteral">&quot;overrun_nonfatal&quot;</span>, <span class="stringliteral">&quot;survive in case of UDP receiving circular buffer overrun&quot;</span>, <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(overrun_nonfatal), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0}, 0, 1,    <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    { <span class="stringliteral">&quot;timeout&quot;</span>,        <span class="stringliteral">&quot;set raise error timeout, in microseconds (only in read mode)&quot;</span>,<a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(timeout),         <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,  {.i64 = 0}, 0, INT_MAX, <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a> },</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    { <span class="stringliteral">&quot;sources&quot;</span>,        <span class="stringliteral">&quot;Source list&quot;</span>,                                     <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="filter__design_8txt.html#add82a1467916ac6506985a580b1727db">sources</a>),        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },               .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    { <span class="stringliteral">&quot;block&quot;</span>,          <span class="stringliteral">&quot;Block list&quot;</span>,                                      <a class="code" href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },               .flags = <a class="code" href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a>|<a class="code" href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;};</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="udp_8c.html#aa3b8391a011d73114dfee2f2552423ac">  147</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="udp_8c.html#aa3b8391a011d73114dfee2f2552423ac">udp_class</a> = {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;udp&quot;</span>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    .option     = <a class="code" href="udp_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;};</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="udp_8c.html#acb420c626352881f9383ad2853d574a4">  154</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="udp_8c.html#acb420c626352881f9383ad2853d574a4">udplite_context_class</a> = {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a>     = <span class="stringliteral">&quot;udplite&quot;</span>,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    .item_name      = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    .option         = <a class="code" href="udp_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    .version        = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;};</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="udp_8c.html#a76edd8180749560383a8de9c8462d0d6">  161</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a76edd8180749560383a8de9c8462d0d6">udp_set_multicast_ttl</a>(<span class="keywordtype">int</span> sockfd, <span class="keywordtype">int</span> mcastTTL,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                 <span class="keyword">struct</span> sockaddr *addr)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#ifdef IP_MULTICAST_TTL</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (addr-&gt;sa_family == AF_INET) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (setsockopt(sockfd, IPPROTO_IP, IP_MULTICAST_TTL, &amp;mcastTTL, <span class="keyword">sizeof</span>(mcastTTL)) &lt; 0) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IP_MULTICAST_TTL)&quot;</span>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#if defined(IPPROTO_IPV6) &amp;&amp; defined(IPV6_MULTICAST_HOPS)</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (addr-&gt;sa_family == AF_INET6) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span> (setsockopt(sockfd, IPPROTO_IPV6, IPV6_MULTICAST_HOPS, &amp;mcastTTL, <span class="keyword">sizeof</span>(mcastTTL)) &lt; 0) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IPV6_MULTICAST_HOPS)&quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="udp_8c.html#a1457cb8b09d3cf05892b2c9075908ea1">  183</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a1457cb8b09d3cf05892b2c9075908ea1">udp_join_multicast_group</a>(<span class="keywordtype">int</span> sockfd, <span class="keyword">struct</span> sockaddr *addr,<span class="keyword">struct</span> sockaddr *local_addr)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">#ifdef IP_ADD_MEMBERSHIP</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (addr-&gt;sa_family == AF_INET) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keyword">struct </span>ip_mreq mreq;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        mreq.imr_multiaddr.s_addr = ((<span class="keyword">struct </span>sockaddr_in *)addr)-&gt;sin_addr.s_addr;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span> (local_addr)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            mreq.imr_interface= ((<span class="keyword">struct </span>sockaddr_in *)local_addr)-&gt;sin_addr;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            mreq.imr_interface.s_addr = INADDR_ANY;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span> (setsockopt(sockfd, IPPROTO_IP, IP_ADD_MEMBERSHIP, (<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;mreq, <span class="keyword">sizeof</span>(mreq)) &lt; 0) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IP_ADD_MEMBERSHIP)&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor">#if HAVE_STRUCT_IPV6_MREQ &amp;&amp; defined(IPPROTO_IPV6)</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (addr-&gt;sa_family == AF_INET6) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keyword">struct </span>ipv6_mreq mreq6;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        memcpy(&amp;mreq6.ipv6mr_multiaddr, &amp;(((<span class="keyword">struct</span> sockaddr_in6 *)addr)-&gt;sin6_addr), <span class="keyword">sizeof</span>(<span class="keyword">struct</span> in6_addr));</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">//TODO: Interface index should be looked up from local_addr</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        mreq6.ipv6mr_interface = 0;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> (setsockopt(sockfd, IPPROTO_IPV6, <a class="code" href="udp_8c.html#ae00bbae5a549824fed6ec3c646ce6c47">IPV6_ADD_MEMBERSHIP</a>, &amp;mreq6, <span class="keyword">sizeof</span>(mreq6)) &lt; 0) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IPV6_ADD_MEMBERSHIP)&quot;</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="udp_8c.html#ae54f7e2f64ee4eff30f6f32805794cb0">  216</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#ae54f7e2f64ee4eff30f6f32805794cb0">udp_leave_multicast_group</a>(<span class="keywordtype">int</span> sockfd, <span class="keyword">struct</span> sockaddr *addr,<span class="keyword">struct</span> sockaddr *local_addr)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#ifdef IP_DROP_MEMBERSHIP</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (addr-&gt;sa_family == AF_INET) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keyword">struct </span>ip_mreq mreq;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        mreq.imr_multiaddr.s_addr = ((<span class="keyword">struct </span>sockaddr_in *)addr)-&gt;sin_addr.s_addr;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span> (local_addr)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            mreq.imr_interface = ((<span class="keyword">struct </span>sockaddr_in *)local_addr)-&gt;sin_addr;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            mreq.imr_interface.s_addr = INADDR_ANY;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (setsockopt(sockfd, IPPROTO_IP, IP_DROP_MEMBERSHIP, (<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;mreq, <span class="keyword">sizeof</span>(mreq)) &lt; 0) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IP_DROP_MEMBERSHIP)&quot;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#if HAVE_STRUCT_IPV6_MREQ &amp;&amp; defined(IPPROTO_IPV6)</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (addr-&gt;sa_family == AF_INET6) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keyword">struct </span>ipv6_mreq mreq6;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        memcpy(&amp;mreq6.ipv6mr_multiaddr, &amp;(((<span class="keyword">struct</span> sockaddr_in6 *)addr)-&gt;sin6_addr), <span class="keyword">sizeof</span>(<span class="keyword">struct</span> in6_addr));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="comment">//TODO: Interface index should be looked up from local_addr</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        mreq6.ipv6mr_interface = 0;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">if</span> (setsockopt(sockfd, IPPROTO_IPV6, <a class="code" href="udp_8c.html#a6afe2eca1346e32c42d6358cbfeaebfe">IPV6_DROP_MEMBERSHIP</a>, &amp;mreq6, <span class="keyword">sizeof</span>(mreq6)) &lt; 0) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IPV6_DROP_MEMBERSHIP)&quot;</span>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="udp_8c.html#afa7ec28912853b153d030f4b522f0109">  249</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#afa7ec28912853b153d030f4b522f0109">udp_set_multicast_sources</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                     <span class="keywordtype">int</span> sockfd, <span class="keyword">struct</span> sockaddr *addr,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                     <span class="keywordtype">int</span> addr_len, <span class="keyword">struct</span> <a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> *local_addr,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                     <span class="keyword">struct</span> <a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> *<a class="code" href="filter__design_8txt.html#add82a1467916ac6506985a580b1727db">sources</a>,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                     <span class="keywordtype">int</span> nb_sources, <span class="keywordtype">int</span> include)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (addr-&gt;sa_family != AF_INET) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">#if HAVE_STRUCT_GROUP_SOURCE_REQ &amp;&amp; defined(MCAST_BLOCK_SOURCE)</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">/* For IPv4 prefer the old approach, as that alone works reliably on</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">         * Windows and it also supports supplying the interface based on its</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">         * address. */</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nb_sources; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keyword">struct </span>group_source_req mreqs;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = addr-&gt;sa_family == AF_INET ? IPPROTO_IP : IPPROTO_IPV6;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">//TODO: Interface index should be looked up from local_addr</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            mreqs.gsr_interface = 0;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            memcpy(&amp;mreqs.gsr_group, addr, addr_len);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            memcpy(&amp;mreqs.gsr_source, &amp;<a class="code" href="filter__design_8txt.html#add82a1467916ac6506985a580b1727db">sources</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#add82a1467916ac6506985a580b1727db">sources</a>));</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">if</span> (setsockopt(sockfd, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                           include ? MCAST_JOIN_SOURCE_GROUP : MCAST_BLOCK_SOURCE,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                           (<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;mreqs, <span class="keyword">sizeof</span>(mreqs)) &lt; 0) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <span class="keywordflow">if</span> (include)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(MCAST_JOIN_SOURCE_GROUP)&quot;</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(MCAST_BLOCK_SOURCE)&quot;</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;               <span class="stringliteral">&quot;Setting multicast sources only supported for IPv4\n&quot;</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#if HAVE_STRUCT_IP_MREQ_SOURCE &amp;&amp; defined(IP_BLOCK_SOURCE)</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nb_sources; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keyword">struct </span>ip_mreq_source mreqs;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#add82a1467916ac6506985a580b1727db">sources</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].ss_family != AF_INET) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Source/block address %d is of incorrect protocol family\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        mreqs.imr_multiaddr.s_addr = ((<span class="keyword">struct </span>sockaddr_in *)addr)-&gt;sin_addr.s_addr;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> (local_addr)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            mreqs.imr_interface = ((<span class="keyword">struct </span>sockaddr_in *)local_addr)-&gt;sin_addr;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            mreqs.imr_interface.s_addr = INADDR_ANY;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        mreqs.imr_sourceaddr.s_addr = ((<span class="keyword">struct </span>sockaddr_in *)&amp;<a class="code" href="filter__design_8txt.html#add82a1467916ac6506985a580b1727db">sources</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])-&gt;sin_addr.s_addr;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">if</span> (setsockopt(sockfd, IPPROTO_IP,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                       include ? IP_ADD_SOURCE_MEMBERSHIP : IP_BLOCK_SOURCE,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                       (<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;mreqs, <span class="keyword">sizeof</span>(mreqs)) &lt; 0) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (include)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IP_ADD_SOURCE_MEMBERSHIP)&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(IP_BLOCK_SOURCE)&quot;</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="udp_8c.html#a3cdf1bab6ff8a89ff2fc49db1e6635f2">  318</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a3cdf1bab6ff8a89ff2fc49db1e6635f2">udp_set_url</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                       <span class="keyword">struct</span> <a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> *addr,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span> *hostname, <span class="keywordtype">int</span> port)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keyword">struct </span><a class="code" href="structaddrinfo.html">addrinfo</a> *res0;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">int</span> addr_len;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    res0 = <a class="code" href="ip_8c.html#a97395ca86d86f7abc582034c992b3856">ff_ip_resolve_host</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, hostname, port, SOCK_DGRAM, AF_UNSPEC, 0);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (!res0) <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    memcpy(addr, res0-&gt;<a class="code" href="structaddrinfo.html#a2a6343a77144ee3079f6e9e0b66c715c">ai_addr</a>, res0-&gt;<a class="code" href="structaddrinfo.html#a764726141ef75fef88438f387a27753d">ai_addrlen</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    addr_len = res0-&gt;<a class="code" href="structaddrinfo.html#a764726141ef75fef88438f387a27753d">ai_addrlen</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="network_8h.html#adef9f0657cf2d7402f4a63fc37a2e5e9">freeaddrinfo</a>(res0);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">return</span> addr_len;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="udp_8c.html#a17b99e81133c183c1b62f4616dc0ece2">  334</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a17b99e81133c183c1b62f4616dc0ece2">udp_socket_create</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">struct</span> <a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> *addr,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                             socklen_t *addr_len, <span class="keyword">const</span> <span class="keywordtype">char</span> *localaddr)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">int</span> udp_fd = -1;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keyword">struct </span><a class="code" href="structaddrinfo.html">addrinfo</a> *res0, *res;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">int</span> family = AF_UNSPEC;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (((<span class="keyword">struct</span> sockaddr *) &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr)-&gt;sa_family)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        family = ((<span class="keyword">struct </span>sockaddr *) &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr)-&gt;sa_family;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    res0 = <a class="code" href="ip_8c.html#a97395ca86d86f7abc582034c992b3856">ff_ip_resolve_host</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, (localaddr &amp;&amp; localaddr[0]) ? localaddr : <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_port,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                            SOCK_DGRAM, family, <a class="code" href="network_8h.html#aec9e92ed53442d64cbc9b68d92ad970b">AI_PASSIVE</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (!res0)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">for</span> (res = res0; res; res=res-&gt;<a class="code" href="structaddrinfo.html#ac8d379469addd7ebbb7cd8f9656268d2">ai_next</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            udp_fd = <a class="code" href="network_8c.html#a47a6c32d4250e898da94e6424c121077">ff_socket</a>(res-&gt;<a class="code" href="structaddrinfo.html#af8ba790dc4c689a8b38c947924afe3ee">ai_family</a>, SOCK_DGRAM, <a class="code" href="udp_8c.html#a76019e374e4b3301abea0090e9c5c0f6">IPPROTO_UDPLITE</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            udp_fd = <a class="code" href="network_8c.html#a47a6c32d4250e898da94e6424c121077">ff_socket</a>(res-&gt;<a class="code" href="structaddrinfo.html#af8ba790dc4c689a8b38c947924afe3ee">ai_family</a>, SOCK_DGRAM, 0);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> (udp_fd != -1) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;socket&quot;</span>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (udp_fd &lt; 0)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    memcpy(addr, res-&gt;<a class="code" href="structaddrinfo.html#a2a6343a77144ee3079f6e9e0b66c715c">ai_addr</a>, res-&gt;<a class="code" href="structaddrinfo.html#a764726141ef75fef88438f387a27753d">ai_addrlen</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    *addr_len = res-&gt;<a class="code" href="structaddrinfo.html#a764726141ef75fef88438f387a27753d">ai_addrlen</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="network_8h.html#adef9f0657cf2d7402f4a63fc37a2e5e9">freeaddrinfo</a>(res0);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> udp_fd;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (udp_fd &gt;= 0)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        closesocket(udp_fd);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span>(res0)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="network_8h.html#adef9f0657cf2d7402f4a63fc37a2e5e9">freeaddrinfo</a>(res0);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="udp_8c.html#aee9876ab337e0dccb2ea1f9ef31ad45e">  376</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#aee9876ab337e0dccb2ea1f9ef31ad45e">udp_port</a>(<span class="keyword">struct</span> <a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> *addr, <span class="keywordtype">int</span> addr_len)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">char</span> sbuf[<span class="keyword">sizeof</span>(<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)*3+1];</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> = <a class="code" href="network_8h.html#ac0293040c0a9b5b7a9f15ac5e128f750">getnameinfo</a>((<span class="keyword">struct</span> sockaddr *)addr, addr_len, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0,  sbuf, <span class="keyword">sizeof</span>(sbuf), <a class="code" href="network_8h.html#af6d346aae7109d19b9ccab7c510a3cad">NI_NUMERICSERV</a>)) != 0) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;getnameinfo: %s\n&quot;</span>, <a class="code" href="network_8h.html#a62857dca3549f4a9808fa6eb4346b68e">gai_strerror</a>(<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> strtol(sbuf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="url_8h.html#a8f72a7dc34ebc9af1423c9cf68d4254c">  406</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a8f72a7dc34ebc9af1423c9cf68d4254c">ff_udp_set_remote_url</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">char</span> hostname[256], buf[10];</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordtype">int</span> port;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, hostname, <span class="keyword">sizeof</span>(hostname), &amp;port, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, uri);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">/* set the destination address */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len = <a class="code" href="udp_8c.html#a3cdf1bab6ff8a89ff2fc49db1e6635f2">udp_set_url</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr, hostname, port);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len &lt; 0) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_multicast = <a class="code" href="network_8c.html#a0cf51dc449235a083e6d8734009811cf">ff_is_multicast_address</a>((<span class="keyword">struct</span> sockaddr*) &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    p = strchr(uri, <span class="charliteral">&#39;?&#39;</span>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (p) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;connect&quot;</span>, p)) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordtype">int</span> was_connected = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected &amp;&amp; !was_connected) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keywordflow">if</span> (connect(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, (<span class="keyword">struct</span> sockaddr *) &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len)) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected = 0;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                    <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;connect&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="url_8h.html#a4e08b6d5ca604ea7c7d5e1c16f069ee1">  445</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a4e08b6d5ca604ea7c7d5e1c16f069ee1">ff_udp_get_local_port</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_port;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="udp_8c.html#ae2e076b83b42ad1642a592944cc21321">  456</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#ae2e076b83b42ad1642a592944cc21321">udp_get_file_handle</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *circular_buffer_task_rx( <span class="keywordtype">void</span> *_URLContext)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = _URLContext;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordtype">int</span> old_cancelstate;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="w32pthreads_8h.html#a15eaa48ff30cc25caca06ad340fd4461">pthread_setcancelstate</a>(<a class="code" href="w32pthreads_8h.html#a6c661332f782dcebc87b878990424b4c">PTHREAD_CANCEL_DISABLE</a>, &amp;old_cancelstate);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="network_8h.html#a24d04e29f579c954b882070912b75fa8">ff_socket_nonblock</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, 0) &lt; 0) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to set blocking mode&quot;</span>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">while</span>(1) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keyword">struct </span><a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> addr;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        socklen_t addr_len = <span class="keyword">sizeof</span>(addr);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">/* Blocking operations are always cancellation points;</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">           see &quot;General Information&quot; / &quot;Thread Cancelation Overview&quot;</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">           in Single Unix. */</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="w32pthreads_8h.html#a15eaa48ff30cc25caca06ad340fd4461">pthread_setcancelstate</a>(<a class="code" href="w32pthreads_8h.html#aaf18882a8a6b82c7b7849a645f4445ef">PTHREAD_CANCEL_ENABLE</a>, &amp;old_cancelstate);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = recvfrom(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tmp+4, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tmp)-4, 0, (<span class="keyword">struct</span> sockaddr *)&amp;addr, &amp;addr_len);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="w32pthreads_8h.html#a15eaa48ff30cc25caca06ad340fd4461">pthread_setcancelstate</a>(<a class="code" href="w32pthreads_8h.html#a6c661332f782dcebc87b878990424b4c">PTHREAD_CANCEL_DISABLE</a>, &amp;old_cancelstate);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 0) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>() != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN) &amp;&amp; <a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>() != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINTR)) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error = <a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>();</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ip_8c.html#a1e31cf53b1e7d505185d0997c60ad26f">ff_ip_check_source_lists</a>(&amp;addr, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters))</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tmp, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="libavutil_2fifo_8c.html#ac1e0d8ee7f1568cb40fa95a740c60f13">av_fifo_space</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo) &lt; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> + 4) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="comment">/* No Space left */</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;overrun_nonfatal) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Circular buffer overrun. &quot;</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        <span class="stringliteral">&quot;Surviving due to overrun_nonfatal option\n&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Circular buffer overrun. &quot;</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                        <span class="stringliteral">&quot;To avoid, increase fifo_size URL option. &quot;</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        <span class="stringliteral">&quot;To survive in such case, use overrun_nonfatal option\n&quot;</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="libavutil_2fifo_8c.html#ae95c15dcdd266b4005f8919e4f571180">av_fifo_generic_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tmp, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>+4, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="os2threads_8h.html#a215efed993567deadcea30a74ed05d6c">pthread_cond_signal</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="os2threads_8h.html#a215efed993567deadcea30a74ed05d6c">pthread_cond_signal</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *circular_buffer_task_tx( <span class="keywordtype">void</span> *_URLContext)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = _URLContext;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    int64_t target_timestamp = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    int64_t start_timestamp = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    int64_t sent_bits = 0;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    int64_t burst_interval = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate ? (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;burst_bits * 1000000 / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate) : 0;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    int64_t max_delay = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate ?  ((int64_t)<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;max_packet_size * 8 * 1000000 / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate + 1) : 0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="network_8h.html#a24d04e29f579c954b882070912b75fa8">ff_socket_nonblock</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, 0) &lt; 0) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to set blocking mode&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">for</span>(;;) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> tmp[4];</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        int64_t timestamp;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="libavutil_2fifo_8c.html#a81f4cea70d96846df7111daccc5ecce2">av_fifo_size</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>&lt;4) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;close_req)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="os2threads_8h.html#af2ed122199f455b63a734ae9b592d286">pthread_cond_wait</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex) &lt; 0) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="libavutil_2fifo_8c.html#a81f4cea70d96846df7111daccc5ecce2">av_fifo_size</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="libavutil_2fifo_8c.html#ab708d2f19b7a9592caa278256787adb6">av_fifo_generic_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, tmp, 4, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(tmp);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt;= 0);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt;= <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tmp));</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="libavutil_2fifo_8c.html#ab708d2f19b7a9592caa278256787adb6">av_fifo_generic_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tmp, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            timestamp = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">if</span> (timestamp &lt; target_timestamp) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                int64_t delay = target_timestamp - timestamp;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="keywordflow">if</span> (delay &gt; max_delay) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    delay = max_delay;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    start_timestamp = timestamp + delay;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    sent_bits = 0;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <a class="code" href="time_8c.html#a4eee9c65835652a808973f4bc1641a51">av_usleep</a>(delay);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="keywordflow">if</span> (timestamp - burst_interval &gt; target_timestamp) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    start_timestamp = timestamp - burst_interval;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    sent_bits = 0;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            sent_bits += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> * 8;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            target_timestamp = start_timestamp + sent_bits * 1000000 / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        p = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tmp;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt; 0);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = sendto (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, p, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, 0,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                            (<span class="keyword">struct</span> sockaddr *) &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr,</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = send(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, p, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, 0);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> -= <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                p   += <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN) &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINTR)) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">/* put it in UDP context */</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">/* return non zero if error */</span></div>
<div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="udp_8c.html#a8e55996dbf8a2f253d9a791aa1542ef7">  626</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a8e55996dbf8a2f253d9a791aa1542ef7">udp_open</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordtype">char</span> hostname[1024], localaddr[1024] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordtype">int</span> port, udp_fd = -1, tmp, bind_ret = -1, dscp = -1;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordtype">int</span> is_output;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">char</span> buf[256];</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> my_addr;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    socklen_t <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;is_streamed = 1;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    is_output = !(<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer_size &lt; 0)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer_size = is_output ? <a class="code" href="udp_8c.html#a5d20473a838368ac190f608f4cf46f27">UDP_TX_BUF_SIZE</a> : <a class="code" href="udp_8c.html#aa654a2855640f27d6212857d8404f1f8">UDP_RX_BUF_SIZE</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sources) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ip_8c.html#a9e73b4b3099e146743c92e401c99162d">ff_ip_parse_sources</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sources, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters) &lt; 0)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ip_8c.html#a7730908a766c2bbbdbf12e9f638d3e77">ff_ip_parse_blocks</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters) &lt; 0)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    p = strchr(uri, <span class="charliteral">&#39;?&#39;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">if</span> (p) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;reuse&quot;</span>, p)) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordtype">char</span> *endptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reuse_socket = strtol(buf, &amp;endptr, 10);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="comment">/* assume if no digits were found it is a request to enable it */</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span> (buf == endptr)</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reuse_socket = 1;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;overrun_nonfatal&quot;</span>, p)) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordtype">char</span> *endptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;overrun_nonfatal = strtol(buf, &amp;endptr, 10);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="comment">/* assume if no digits were found it is a request to enable it */</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">if</span> (buf == endptr)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;overrun_nonfatal = 1;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="keywordflow">if</span> (!HAVE_PTHREAD_CANCEL)</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                       <span class="stringliteral">&quot;&#39;overrun_nonfatal&#39; option was set but it is not supported &quot;</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                       <span class="stringliteral">&quot;on this build (pthread support is required)\n&quot;</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;ttl&quot;</span>, p)) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ttl = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;udplite_coverage&quot;</span>, p)) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;localport&quot;</span>, p)) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_port = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;pkt_size&quot;</span>, p)) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pkt_size = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;buffer_size&quot;</span>, p)) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer_size = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;connect&quot;</span>, p)) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;dscp&quot;</span>, p)) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            dscp = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;fifo_size&quot;</span>, p)) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_size = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">if</span> (!HAVE_PTHREAD_CANCEL)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                       <span class="stringliteral">&quot;&#39;circular_buffer_size&#39; option was set but it is not supported &quot;</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                       <span class="stringliteral">&quot;on this build (pthread support is required)\n&quot;</span>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;bitrate&quot;</span>, p)) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate = strtoll(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">if</span> (!HAVE_PTHREAD_CANCEL)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                       <span class="stringliteral">&quot;&#39;bitrate&#39; option was set but it is not supported &quot;</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                       <span class="stringliteral">&quot;on this build (pthread support is required)\n&quot;</span>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;burst_bits&quot;</span>, p)) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;burst_bits = strtoll(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;localaddr&quot;</span>, p)) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(localaddr, buf, <span class="keyword">sizeof</span>(localaddr));</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;sources&quot;</span>, p)) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ip_8c.html#a9e73b4b3099e146743c92e401c99162d">ff_ip_parse_sources</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, buf, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters) &lt; 0)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;block&quot;</span>, p)) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ip_8c.html#a7730908a766c2bbbdbf12e9f638d3e77">ff_ip_parse_blocks</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, buf, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters) &lt; 0)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">if</span> (!is_output &amp;&amp; <a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;timeout&quot;</span>, p))</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;timeout = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">if</span> (is_output &amp;&amp; <a class="code" href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;broadcast&quot;</span>, p))</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_broadcast = strtol(buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">/* handling needed to support options picking from both AVOption and URL */</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_size *= 188;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;max_packet_size = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pkt_size;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;max_packet_size = <a class="code" href="udp_8c.html#af7a344b9d7950a11af57b8ce8330c918">UDP_MAX_PKT_SIZE</a>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;rw_timeout = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;timeout;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">/* fill the dest addr */</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, hostname, <span class="keyword">sizeof</span>(hostname), &amp;port, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, uri);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">/* XXX: fix av_url_split */</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (hostname[0] == <span class="charliteral">&#39;\0&#39;</span> || hostname[0] == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="comment">/* only accepts null hostname if input */</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>))</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="udp_8c.html#a8f72a7dc34ebc9af1423c9cf68d4254c">ff_udp_set_remote_url</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, uri) &lt; 0)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_multicast || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_port &lt;= 0) &amp;&amp; (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>))</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_port = port;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (localaddr[0])</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        udp_fd = <a class="code" href="udp_8c.html#a17b99e81133c183c1b62f4616dc0ece2">udp_socket_create</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;my_addr, &amp;<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, localaddr);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        udp_fd = <a class="code" href="udp_8c.html#a17b99e81133c183c1b62f4616dc0ece2">udp_socket_create</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, &amp;my_addr, &amp;<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;localaddr);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> (udp_fd &lt; 0)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_addr_storage=my_addr; <span class="comment">//store for future multicast join</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">/* Follow the requested reuse option, unless it&#39;s multicast in which</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">     * case enable reuse unless explicitly disabled.</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reuse_socket &gt; 0 || (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_multicast &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reuse_socket &lt; 0)) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reuse_socket = 1;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">if</span> (setsockopt (udp_fd, SOL_SOCKET, SO_REUSEADDR, &amp;(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reuse_socket), <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;reuse_socket)) != 0)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_broadcast) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="preprocessor">#ifdef SO_BROADCAST</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">if</span> (setsockopt (udp_fd, SOL_SOCKET, SO_BROADCAST, &amp;(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_broadcast), <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_broadcast)) != 0)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;           <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">/* Set the checksum coverage for UDP-Lite (RFC 3828) for sending and receiving.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">     * The receiver coverage has to be less than or equal to the sender coverage.</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">     * Otherwise, the receiver will drop all packets.</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">if</span> (setsockopt (udp_fd, <a class="code" href="udp_8c.html#a76019e374e4b3301abea0090e9c5c0f6">IPPROTO_UDPLITE</a>, <a class="code" href="udp_8c.html#a1b2e3aea5b22026c1f4322cc2d78743d">UDPLITE_SEND_CSCOV</a>, &amp;(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage), <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage)) != 0)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;socket option UDPLITE_SEND_CSCOV not available&quot;</span>);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span> (setsockopt (udp_fd, <a class="code" href="udp_8c.html#a76019e374e4b3301abea0090e9c5c0f6">IPPROTO_UDPLITE</a>, <a class="code" href="udp_8c.html#af421f8f6f43679e0ec3b2048aec37bec">UDPLITE_RECV_CSCOV</a>, &amp;(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage), <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage)) != 0)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;socket option UDPLITE_RECV_CSCOV not available&quot;</span>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span> (dscp &gt;= 0) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        dscp &lt;&lt;= 2;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">if</span> (setsockopt (udp_fd, IPPROTO_IP, IP_TOS, &amp;dscp, <span class="keyword">sizeof</span>(dscp)) != 0)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">/* If multicast, try binding the multicast address first, to avoid</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">     * receiving UDP packets from other sources aimed at the same UDP</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">     * port. This fails on windows. This makes sending to the same address</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">     * using sendto() fail, so only do it if we&#39;re opened in read-only mode. */</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_multicast &amp;&amp; (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>)) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        bind_ret = bind(udp_fd,(<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">/* bind to the local address if not multicast or if the multicast</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">     * bind failed */</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">/* the bind is needed to give a port to the socket now */</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">if</span> (bind_ret &lt; 0 &amp;&amp; bind(udp_fd,(<span class="keyword">struct</span> sockaddr *)&amp;my_addr, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>) &lt; 0) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;bind failed&quot;</span>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <span class="keyword">sizeof</span>(my_addr);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    getsockname(udp_fd, (<span class="keyword">struct</span> sockaddr *)&amp;my_addr, &amp;<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_port = <a class="code" href="udp_8c.html#aee9876ab337e0dccb2ea1f9ef31ad45e">udp_port</a>(&amp;my_addr, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_multicast) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="comment">/* output */</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="udp_8c.html#a76edd8180749560383a8de9c8462d0d6">udp_set_multicast_ttl</a>(udp_fd, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ttl, (<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr) &lt; 0)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="comment">/* input */</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters.nb_include_addrs) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="udp_8c.html#afa7ec28912853b153d030f4b522f0109">udp_set_multicast_sources</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, udp_fd,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                                              (<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr,</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                                              <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_addr_storage,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                                              <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters.include_addrs,</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                              <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters.nb_include_addrs, 1) &lt; 0)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="udp_8c.html#a1457cb8b09d3cf05892b2c9075908ea1">udp_join_multicast_group</a>(udp_fd, (<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr,(<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_addr_storage) &lt; 0)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters.nb_exclude_addrs) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="udp_8c.html#afa7ec28912853b153d030f4b522f0109">udp_set_multicast_sources</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, udp_fd,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                              (<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr,</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                              <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_addr_storage,</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                                              <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters.exclude_addrs,</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                                              <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters.nb_exclude_addrs, 0) &lt; 0)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (is_output) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="comment">/* limit the tx buf size to limit latency */</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        tmp = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer_size;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">if</span> (setsockopt(udp_fd, SOL_SOCKET, SO_SNDBUF, &amp;tmp, <span class="keyword">sizeof</span>(tmp)) &lt; 0) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;setsockopt(SO_SNDBUF)&quot;</span>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="comment">/* set udp recv buffer size to the requested value (default UDP_RX_BUF_SIZE) */</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        tmp = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer_size;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">if</span> (setsockopt(udp_fd, SOL_SOCKET, SO_RCVBUF, &amp;tmp, <span class="keyword">sizeof</span>(tmp)) &lt; 0) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;setsockopt(SO_RECVBUF)&quot;</span>);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <span class="keyword">sizeof</span>(tmp);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="keywordflow">if</span> (getsockopt(udp_fd, SOL_SOCKET, SO_RCVBUF, &amp;tmp, &amp;<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>) &lt; 0) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;getsockopt(SO_RCVBUF)&quot;</span>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;end receive buffer size reported is %d\n&quot;</span>, tmp);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordflow">if</span>(tmp &lt; s-&gt;buffer_size)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;attempted to set receive buffer to size %d but it only ended up set as %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer_size, tmp);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="comment">/* make the socket non-blocking */</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <a class="code" href="network_8h.html#a24d04e29f579c954b882070912b75fa8">ff_socket_nonblock</a>(udp_fd, 1);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">if</span> (connect(udp_fd, (<span class="keyword">struct</span> sockaddr *) &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len)) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <a class="code" href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;connect&quot;</span>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd = udp_fd;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">      Create thread in case of:</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">      1. Input and circular_buffer_size is set</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">      2. Output and bitrate and circular_buffer_size is set</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (is_output &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_size) {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="comment">/* Warn user in case of &#39;circular_buffer_size&#39; is not set */</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,<span class="stringliteral">&quot;&#39;bitrate&#39; option was set but &#39;circular_buffer_size&#39; is not, but required\n&quot;</span>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> ((!is_output &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_size) || (is_output &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitrate &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_size)) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">/* start the task going */</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo = <a class="code" href="libavutil_2fifo_8c.html#adae9b18c5eed14fe851c5bb984ce374b">av_fifo_alloc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_size);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="os2threads_8h.html#a4f8250fbf301e0e62dad0aad3ba030a9">pthread_mutex_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pthread_mutex_init failed : %s\n&quot;</span>, strerror(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="os2threads_8h.html#a90293d12cef762b6df0139309d13fdbf">pthread_cond_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pthread_cond_init failed : %s\n&quot;</span>, strerror(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="keywordflow">goto</span> cond_fail;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="os2threads_8h.html#a9b6e74e145dcb6f426dd83bcc51aa217">pthread_create</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_thread, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, is_output?circular_buffer_task_tx:circular_buffer_task_rx, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pthread_create failed : %s\n&quot;</span>, strerror(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="keywordflow">goto</span> thread_fail;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_started = 1;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; thread_fail:</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="os2threads_8h.html#a4c57837c88ef09274545ae2ebd18160a">pthread_cond_destroy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; cond_fail:</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="os2threads_8h.html#af75a104513c9384ace314b0a6b1a8240">pthread_mutex_destroy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">if</span> (udp_fd &gt;= 0)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        closesocket(udp_fd);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="libavutil_2fifo_8c.html#a612be59edb6ab388a82d1487d1bd0c4d">av_fifo_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="ip_8c.html#a366614cfa7ccbd7eb478bc4e777cd5f8">ff_ip_reset_filters</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EIO);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno"><a class="line" href="udp_8c.html#a876e2d63f86c6c756196cbb883c53f36">  929</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a876e2d63f86c6c756196cbb883c53f36">udplite_open</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;{</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// set default checksum coverage</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udplite_coverage = <a class="code" href="udp_8c.html#a8a0fae83e487dc04b3cd774b3d4ee637">UDP_HEADER_SIZE</a>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="udp_8c.html#a8e55996dbf8a2f253d9a791aa1542ef7">udp_open</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, uri, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="udp_8c.html#afbd23f663de848ee2985483d4297b0c4">  939</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#afbd23f663de848ee2985483d4297b0c4">udp_read</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;{</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsockaddr__storage.html">sockaddr_storage</a> addr;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    socklen_t addr_len = <span class="keyword">sizeof</span>(addr);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordtype">int</span> avail, nonblock = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#aea3131c92c70177e463538e9a6b4308e">AVIO_FLAG_NONBLOCK</a>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            avail = <a class="code" href="libavutil_2fifo_8c.html#a81f4cea70d96846df7111daccc5ecce2">av_fifo_size</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            <span class="keywordflow">if</span> (avail) { <span class="comment">// &gt;=size) {</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> tmp[4];</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                <a class="code" href="libavutil_2fifo_8c.html#ab708d2f19b7a9592caa278256787adb6">av_fifo_generic_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, tmp, 4, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                avail = <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(tmp);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                <span class="keywordflow">if</span>(avail &gt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>){</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Part of datagram lost due to insufficient buffer size\n&quot;</span>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                    avail = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                <a class="code" href="libavutil_2fifo_8c.html#ab708d2f19b7a9592caa278256787adb6">av_fifo_generic_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, buf, avail, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                <a class="code" href="libavutil_2fifo_8c.html#a037f66cc2b92aebbc363617387d39f6f">av_fifo_drain</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(tmp) - avail);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <span class="keywordflow">return</span> avail;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error){</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <span class="keywordtype">int</span> err = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(nonblock) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                <span class="comment">/* FIXME: using the monotonic clock would be better,</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">                   but it does not exist on all supported platforms. */</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                int64_t t = <a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>() + 100000;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                <span class="keyword">struct </span>timespec tv = { .tv_sec  =  t / 1000000,</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                                       .tv_nsec = (t % 1000000) * 1000 };</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                <span class="keywordtype">int</span> err = <a class="code" href="os2threads_8h.html#ad68d1c8d49b37a981a53c41c44a53ff2">pthread_cond_timedwait</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex, &amp;tv);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(err == ETIMEDOUT ? EAGAIN : err);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                nonblock = 1;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        } <span class="keywordflow">while</span>(1);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#aea3131c92c70177e463538e9a6b4308e">AVIO_FLAG_NONBLOCK</a>)) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="network_8c.html#a873ea3d2ca8b1474c2d834a7d63fc163">ff_network_wait_fd</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, 0);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = recvfrom(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0, (<span class="keyword">struct</span> sockaddr *)&amp;addr, &amp;addr_len);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ip_8c.html#a1e31cf53b1e7d505185d0997c60ad26f">ff_ip_check_source_lists</a>(&amp;addr, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters))</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINTR);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;}</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="udp_8c.html#af1bf005bb83f4ecd1efe80b869a66d3b"> 1003</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#af1bf005bb83f4ecd1efe80b869a66d3b">udp_write</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> tmp[4];</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">          Return error if last tx failed.</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">          Here we can&#39;t know on which packet error was, but it needs to know that error exists.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error&lt;0) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <span class="keywordtype">int</span> err = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_error;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="libavutil_2fifo_8c.html#ac1e0d8ee7f1568cb40fa95a740c60f13">av_fifo_space</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo) &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + 4) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="comment">/* What about a partial packet tx ? */</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(tmp, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="libavutil_2fifo_8c.html#ae95c15dcdd266b4005f8919e4f571180">av_fifo_generic_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, tmp, 4, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="comment">/* size of packet */</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="libavutil_2fifo_8c.html#ae95c15dcdd266b4005f8919e4f571180">av_fifo_generic_write</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *)buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="comment">/* the data */</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <a class="code" href="os2threads_8h.html#a215efed993567deadcea30a74ed05d6c">pthread_cond_signal</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#aea3131c92c70177e463538e9a6b4308e">AVIO_FLAG_NONBLOCK</a>)) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="network_8c.html#a873ea3d2ca8b1474c2d834a7d63fc163">ff_network_wait_fd</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, 1);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_connected) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = sendto (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0,</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                      (<span class="keyword">struct</span> sockaddr *) &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr_len);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = send(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0 ? <a class="code" href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a>() : <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;}</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="udp_8c.html#a75db9308a872c1922bac4594d2ea0c37"> 1053</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="udp_8c.html#a75db9308a872c1922bac4594d2ea0c37">udp_close</a>(<a class="code" href="struct_u_r_l_context.html">URLContext</a> *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;{</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <a class="code" href="struct_u_d_p_context.html">UDPContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;priv_data;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// Request close once writing is finished</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_started &amp;&amp; !(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>)) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <a class="code" href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;close_req = 1;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <a class="code" href="os2threads_8h.html#a215efed993567deadcea30a74ed05d6c">pthread_cond_signal</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <a class="code" href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_multicast &amp;&amp; (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>))</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="udp_8c.html#ae54f7e2f64ee4eff30f6f32805794cb0">udp_leave_multicast_group</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, (<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dest_addr,(<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;local_addr_storage);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">#if HAVE_PTHREAD_CANCEL</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_started) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="comment">// Cancel only read, as write has been signaled as success to the user</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>-&gt;flags &amp; <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="comment">/* recvfrom() is not a cancellation point for win32, so we shutdown</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">             * the socket and abort pending IO, subsequent recvfrom() calls</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">             * will fail with WSAESHUTDOWN causing the thread to exit. */</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            shutdown(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, SD_RECEIVE);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            CancelIoEx((HANDLE)(SOCKET)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            pthread_cancel(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_thread);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="os2threads_8h.html#a5a76bdbebd80f3d24df2a42cf08e98d6">pthread_join</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;circular_buffer_thread, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pthread_join(): %s\n&quot;</span>, strerror(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <a class="code" href="os2threads_8h.html#af75a104513c9384ace314b0a6b1a8240">pthread_mutex_destroy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mutex);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <a class="code" href="os2threads_8h.html#a4c57837c88ef09274545ae2ebd18160a">pthread_cond_destroy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cond);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    closesocket(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;udp_fd);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="libavutil_2fifo_8c.html#a612be59edb6ab388a82d1487d1bd0c4d">av_fifo_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fifo);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="ip_8c.html#a366614cfa7ccbd7eb478bc4e777cd5f8">ff_ip_reset_filters</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filters);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;}</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="udp_8c.html#a506793306c394dce097cc46ed2fb7ee7"> 1097</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_u_r_l_protocol.html">URLProtocol</a> <a class="code" href="udp_8c.html#a506793306c394dce097cc46ed2fb7ee7">ff_udp_protocol</a> = {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    .<a class="code" href="struct_u_r_l_protocol.html#aa733e1d46333f08d68fbcbc518e4a235">name</a>                = <span class="stringliteral">&quot;udp&quot;</span>,</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    .url_open            = <a class="code" href="udp_8c.html#a8e55996dbf8a2f253d9a791aa1542ef7">udp_open</a>,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    .url_read            = <a class="code" href="udp_8c.html#afbd23f663de848ee2985483d4297b0c4">udp_read</a>,</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    .url_write           = <a class="code" href="udp_8c.html#af1bf005bb83f4ecd1efe80b869a66d3b">udp_write</a>,</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    .url_close           = <a class="code" href="udp_8c.html#a75db9308a872c1922bac4594d2ea0c37">udp_close</a>,</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    .url_get_file_handle = <a class="code" href="udp_8c.html#ae2e076b83b42ad1642a592944cc21321">udp_get_file_handle</a>,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    .priv_data_size      = <span class="keyword">sizeof</span>(<a class="code" href="udp_8c.html#ac1820f0456368f128cd7b9c02c463031">UDPContext</a>),</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    .priv_data_class     = &amp;<a class="code" href="udp_8c.html#aa3b8391a011d73114dfee2f2552423ac">udp_class</a>,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>               = <a class="code" href="url_8h.html#ae575748ec7008ec519ddb262d8f58508">URL_PROTOCOL_FLAG_NETWORK</a>,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;};</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="udp_8c.html#ab7ed0e3f236fc515f40d8712d65e0c6b"> 1109</a></span>&#160;<span class="keyword">const</span> <a class="code" href="struct_u_r_l_protocol.html">URLProtocol</a> <a class="code" href="udp_8c.html#ab7ed0e3f236fc515f40d8712d65e0c6b">ff_udplite_protocol</a> = {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    .<a class="code" href="struct_u_r_l_protocol.html#aa733e1d46333f08d68fbcbc518e4a235">name</a>                = <span class="stringliteral">&quot;udplite&quot;</span>,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    .url_open            = <a class="code" href="udp_8c.html#a876e2d63f86c6c756196cbb883c53f36">udplite_open</a>,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    .url_read            = <a class="code" href="udp_8c.html#afbd23f663de848ee2985483d4297b0c4">udp_read</a>,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    .url_write           = <a class="code" href="udp_8c.html#af1bf005bb83f4ecd1efe80b869a66d3b">udp_write</a>,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    .url_close           = <a class="code" href="udp_8c.html#a75db9308a872c1922bac4594d2ea0c37">udp_close</a>,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    .url_get_file_handle = <a class="code" href="udp_8c.html#ae2e076b83b42ad1642a592944cc21321">udp_get_file_handle</a>,</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    .priv_data_size      = <span class="keyword">sizeof</span>(<a class="code" href="udp_8c.html#ac1820f0456368f128cd7b9c02c463031">UDPContext</a>),</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    .priv_data_class     = &amp;<a class="code" href="udp_8c.html#acb420c626352881f9383ad2853d574a4">udplite_context_class</a>,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>               = <a class="code" href="url_8h.html#ae575748ec7008ec519ddb262d8f58508">URL_PROTOCOL_FLAG_NETWORK</a>,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="atarget__bsf__fuzzer_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="target__bsf__fuzzer_8c_source.html#l00030">target_bsf_fuzzer.c:30</a></div></div>
<div class="ttc" id="aos2threads_8h_html_ac171f4e937b5a585efb4a7f99ee2234a"><div class="ttname"><a href="os2threads_8h.html#ac171f4e937b5a585efb4a7f99ee2234a">pthread_mutex_t</a></div><div class="ttdeci">_fmutex pthread_mutex_t</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00053">os2threads.h:53</a></div></div>
<div class="ttc" id="aw32pthreads_8h_html_aaf18882a8a6b82c7b7849a645f4445ef"><div class="ttname"><a href="w32pthreads_8h.html#aaf18882a8a6b82c7b7849a645f4445ef">PTHREAD_CANCEL_ENABLE</a></div><div class="ttdeci">#define PTHREAD_CANCEL_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="w32pthreads_8h_source.html#l00066">w32pthreads.h:66</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a85b9ec8422d19f0f2f25cf7e4c96a0dc"><div class="ttname"><a href="struct_u_d_p_context.html#a85b9ec8422d19f0f2f25cf7e4c96a0dc">UDPContext::burst_bits</a></div><div class="ttdeci">int64_t burst_bits</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00104">udp.c:104</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a5a76bdbebd80f3d24df2a42cf08e98d6"><div class="ttname"><a href="os2threads_8h.html#a5a76bdbebd80f3d24df2a42cf08e98d6">pthread_join</a></div><div class="ttdeci">static av_always_inline int pthread_join(pthread_t thread, void **value_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00094">os2threads.h:94</a></div></div>
<div class="ttc" id="atime_8c_html_adf0e36df54426fa167e3cc5a3406f3b7"><div class="ttname"><a href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a></div><div class="ttdeci">int64_t av_gettime_relative(void)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00056">time.c:56</a></div></div>
<div class="ttc" id="audp_8c_html_a4e08b6d5ca604ea7c7d5e1c16f069ee1"><div class="ttname"><a href="udp_8c.html#a4e08b6d5ca604ea7c7d5e1c16f069ee1">ff_udp_get_local_port</a></div><div class="ttdeci">int ff_udp_get_local_port(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00445">udp.c:445</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="audp_8c_html_a1457cb8b09d3cf05892b2c9075908ea1"><div class="ttname"><a href="udp_8c.html#a1457cb8b09d3cf05892b2c9075908ea1">udp_join_multicast_group</a></div><div class="ttdeci">static int udp_join_multicast_group(int sockfd, struct sockaddr *addr, struct sockaddr *local_addr)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00183">udp.c:183</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a9218e88fd4c25ae819ce491a6195aefd"><div class="ttname"><a href="struct_u_d_p_context.html#a9218e88fd4c25ae819ce491a6195aefd">UDPContext::local_port</a></div><div class="ttdeci">int local_port</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00092">udp.c:92</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="aparseutils_8c_html_ad97f06e907c14c253c2bf3e775f51ccb"><div class="ttname"><a href="parseutils_8c.html#ad97f06e907c14c253c2bf3e775f51ccb">av_find_info_tag</a></div><div class="ttdeci">int av_find_info_tag(char *arg, int arg_size, const char *tag1, const char *info)</div><div class="ttdef"><b>Definition:</b> <a href="parseutils_8c_source.html#l00749">parseutils.c:749</a></div></div>
<div class="ttc" id="aw32pthreads_8h_html_a6c661332f782dcebc87b878990424b4c"><div class="ttname"><a href="w32pthreads_8h.html#a6c661332f782dcebc87b878990424b4c">PTHREAD_CANCEL_DISABLE</a></div><div class="ttdeci">#define PTHREAD_CANCEL_DISABLE</div><div class="ttdef"><b>Definition:</b> <a href="w32pthreads_8h_source.html#l00067">w32pthreads.h:67</a></div></div>
<div class="ttc" id="alibavutil_2fifo_8c_html_ae95c15dcdd266b4005f8919e4f571180"><div class="ttname"><a href="libavutil_2fifo_8c.html#ae95c15dcdd266b4005f8919e4f571180">av_fifo_generic_write</a></div><div class="ttdeci">int av_fifo_generic_write(AVFifoBuffer *f, void *src, int size, int(*func)(void *, void *, int))</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2fifo_8c_source.html#l00122">fifo.c:122</a></div></div>
<div class="ttc" id="aurl_8h_html_ae575748ec7008ec519ddb262d8f58508"><div class="ttname"><a href="url_8h.html#ae575748ec7008ec519ddb262d8f58508">URL_PROTOCOL_FLAG_NETWORK</a></div><div class="ttdeci">#define URL_PROTOCOL_FLAG_NETWORK</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00034">url.h:34</a></div></div>
<div class="ttc" id="aip_8c_html_a9e73b4b3099e146743c92e401c99162d"><div class="ttname"><a href="ip_8c.html#a9e73b4b3099e146743c92e401c99162d">ff_ip_parse_sources</a></div><div class="ttdeci">int ff_ip_parse_sources(void *log_ctx, const char *buf, IPSourceFilters *filters)</div><div class="ttdef"><b>Definition:</b> <a href="ip_8c_source.html#l00143">ip.c:143</a></div></div>
<div class="ttc" id="audp_8c_html_a17b99e81133c183c1b62f4616dc0ece2"><div class="ttname"><a href="udp_8c.html#a17b99e81133c183c1b62f4616dc0ece2">udp_socket_create</a></div><div class="ttdeci">static int udp_socket_create(URLContext *h, struct sockaddr_storage *addr, socklen_t *addr_len, const char *localaddr)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00334">udp.c:334</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html"><div class="ttname"><a href="libavutil_2thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="audp_8c_html_a07484107e6d9fdf38b53edf631d6511d"><div class="ttname"><a href="udp_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a></div><div class="ttdeci">#define E</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00124">udp.c:124</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a4f8250fbf301e0e62dad0aad3ba030a9"><div class="ttname"><a href="os2threads_8h.html#a4f8250fbf301e0e62dad0aad3ba030a9">pthread_mutex_init</a></div><div class="ttdeci">static av_always_inline int pthread_mutex_init(pthread_mutex_t *mutex, const pthread_mutexattr_t *attr)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00104">os2threads.h:104</a></div></div>
<div class="ttc" id="audp_8c_html_a76019e374e4b3301abea0090e9c5c0f6"><div class="ttname"><a href="udp_8c.html#a76019e374e4b3301abea0090e9c5c0f6">IPPROTO_UDPLITE</a></div><div class="ttdeci">#define IPPROTO_UDPLITE</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00061">udp.c:61</a></div></div>
<div class="ttc" id="anetwork_8h_html_af6d346aae7109d19b9ccab7c510a3cad"><div class="ttname"><a href="network_8h.html#af6d346aae7109d19b9ccab7c510a3cad">NI_NUMERICSERV</a></div><div class="ttdeci">#define NI_NUMERICSERV</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00203">network.h:203</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a54ecc4cfbdeb8130d1c338eb7fa4a4f2"><div class="ttname"><a href="struct_u_d_p_context.html#a54ecc4cfbdeb8130d1c338eb7fa4a4f2">UDPContext::is_broadcast</a></div><div class="ttdeci">int is_broadcast</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00091">udp.c:91</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a7cf0869175999a467bdc5e2af8cc6a6d"><div class="ttname"><a href="struct_u_d_p_context.html#a7cf0869175999a467bdc5e2af8cc6a6d">UDPContext::udp_fd</a></div><div class="ttdeci">int udp_fd</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00085">udp.c:85</a></div></div>
<div class="ttc" id="audp_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="udp_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00122">udp.c:122</a></div></div>
<div class="ttc" id="astruct_u_r_l_protocol_html"><div class="ttname"><a href="struct_u_r_l_protocol.html">URLProtocol</a></div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00054">url.h:54</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_add82a1467916ac6506985a580b1727db"><div class="ttname"><a href="filter__design_8txt.html#add82a1467916ac6506985a580b1727db">sources</a></div><div class="ttdeci">Note except for filters that can have queued frames and sources</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00285">filter_design.txt:285</a></div></div>
<div class="ttc" id="anetwork_8c_html_a518ff1a3b5cdd294c34f09a20e61cf8c"><div class="ttname"><a href="network_8c.html#a518ff1a3b5cdd294c34f09a20e61cf8c">ff_log_net_error</a></div><div class="ttdeci">void ff_log_net_error(void *ctx, int level, const char *prefix)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00581">network.c:581</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_aac162bef80718f7f76df3a6fb89a0c0a"><div class="ttname"><a href="struct_u_d_p_context.html#aac162bef80718f7f76df3a6fb89a0c0a">UDPContext::ttl</a></div><div class="ttdeci">int ttl</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00086">udp.c:86</a></div></div>
<div class="ttc" id="anetwork_8c_html_a47a6c32d4250e898da94e6424c121077"><div class="ttname"><a href="network_8c.html#a47a6c32d4250e898da94e6424c121077">ff_socket</a></div><div class="ttdeci">int ff_socket(int af, int type, int proto)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00183">network.c:183</a></div></div>
<div class="ttc" id="audp_8c_html_aee9876ab337e0dccb2ea1f9ef31ad45e"><div class="ttname"><a href="udp_8c.html#aee9876ab337e0dccb2ea1f9ef31ad45e">udp_port</a></div><div class="ttdeci">static int udp_port(struct sockaddr_storage *addr, int addr_len)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00376">udp.c:376</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a9a20164d851a0c4e746aa084c06cb356"><div class="ttname"><a href="struct_u_d_p_context.html#a9a20164d851a0c4e746aa084c06cb356">UDPContext::overrun_nonfatal</a></div><div class="ttdeci">int overrun_nonfatal</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00094">udp.c:94</a></div></div>
<div class="ttc" id="audp_8c_html_a8f72a7dc34ebc9af1423c9cf68d4254c"><div class="ttname"><a href="udp_8c.html#a8f72a7dc34ebc9af1423c9cf68d4254c">ff_udp_set_remote_url</a></div><div class="ttdeci">int ff_udp_set_remote_url(URLContext *h, const char *uri)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00406">udp.c:406</a></div></div>
<div class="ttc" id="audp_8c_html_af421f8f6f43679e0ec3b2048aec37bec"><div class="ttname"><a href="udp_8c.html#af421f8f6f43679e0ec3b2048aec37bec">UDPLITE_RECV_CSCOV</a></div><div class="ttdeci">#define UDPLITE_RECV_CSCOV</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00057">udp.c:57</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a272fba8076c6b17af0d11a288f32d079"><div class="ttname"><a href="struct_u_d_p_context.html#a272fba8076c6b17af0d11a288f32d079">UDPContext::filters</a></div><div class="ttdeci">IPSourceFilters filters</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00119">udp.c:119</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a16b684a66d43d483dd28c624907cff2f"><div class="ttname"><a href="struct_u_d_p_context.html#a16b684a66d43d483dd28c624907cff2f">UDPContext::block</a></div><div class="ttdeci">char * block</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00118">udp.c:118</a></div></div>
<div class="ttc" id="astruct_a_v_fifo_buffer_html"><div class="ttname"><a href="struct_a_v_fifo_buffer.html">AVFifoBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="fifo_8h_source.html#l00031">fifo.h:31</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a072fd654e750207f4f60e79e25117f46"><div class="ttname"><a href="struct_u_d_p_context.html#a072fd654e750207f4f60e79e25117f46">UDPContext::dest_addr_len</a></div><div class="ttdeci">int dest_addr_len</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00096">udp.c:96</a></div></div>
<div class="ttc" id="alibavutil_2fifo_8c_html_ab708d2f19b7a9592caa278256787adb6"><div class="ttname"><a href="libavutil_2fifo_8c.html#ab708d2f19b7a9592caa278256787adb6">av_fifo_generic_read</a></div><div class="ttdeci">int av_fifo_generic_read(AVFifoBuffer *f, void *dest, int buf_size, void(*func)(void *, void *, int))</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2fifo_8c_source.html#l00213">fifo.c:213</a></div></div>
<div class="ttc" id="audp_8c_html_acb420c626352881f9383ad2853d574a4"><div class="ttname"><a href="udp_8c.html#acb420c626352881f9383ad2853d574a4">udplite_context_class</a></div><div class="ttdeci">static const AVClass udplite_context_class</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00154">udp.c:154</a></div></div>
<div class="ttc" id="aos__support_8h_html"><div class="ttname"><a href="os__support_8h.html">os_support.h</a></div></div>
<div class="ttc" id="alibavutil_2fifo_8c_html_a037f66cc2b92aebbc363617387d39f6f"><div class="ttname"><a href="libavutil_2fifo_8c.html#a037f66cc2b92aebbc363617387d39f6f">av_fifo_drain</a></div><div class="ttdeci">void av_fifo_drain(AVFifoBuffer *f, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2fifo_8c_source.html#l00233">fifo.c:233</a></div></div>
<div class="ttc" id="astructsockaddr__storage_html"><div class="ttname"><a href="structsockaddr__storage.html">sockaddr_storage</a></div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00111">network.h:111</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html"><div class="ttname"><a href="struct_u_d_p_context.html">UDPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00083">udp.c:83</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_ae5e37af84a349901d4a2b3551f33885b"><div class="ttname"><a href="struct_u_d_p_context.html#ae5e37af84a349901d4a2b3551f33885b">UDPContext::remaining_in_dg</a></div><div class="ttdeci">int remaining_in_dg</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00113">udp.c:113</a></div></div>
<div class="ttc" id="anetwork_8h_html_adef9f0657cf2d7402f4a63fc37a2e5e9"><div class="ttname"><a href="network_8h.html#adef9f0657cf2d7402f4a63fc37a2e5e9">freeaddrinfo</a></div><div class="ttdeci">#define freeaddrinfo</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00218">network.h:218</a></div></div>
<div class="ttc" id="afifo_8h_html"><div class="ttname"><a href="fifo_8h.html">fifo.h</a></div></div>
<div class="ttc" id="aip_8c_html_a366614cfa7ccbd7eb478bc4e777cd5f8"><div class="ttname"><a href="ip_8c.html#a366614cfa7ccbd7eb478bc4e777cd5f8">ff_ip_reset_filters</a></div><div class="ttdeci">void ff_ip_reset_filters(IPSourceFilters *filters)</div><div class="ttdef"><b>Definition:</b> <a href="ip_8c_source.html#l00153">ip.c:153</a></div></div>
<div class="ttc" id="audp_8c_html_a506793306c394dce097cc46ed2fb7ee7"><div class="ttname"><a href="udp_8c.html#a506793306c394dce097cc46ed2fb7ee7">ff_udp_protocol</a></div><div class="ttdeci">const URLProtocol ff_udp_protocol</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l01097">udp.c:1097</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a3c3d6abb6dea8b3a9f3f9404e29b0769"><div class="ttname"><a href="struct_u_d_p_context.html#a3c3d6abb6dea8b3a9f3f9404e29b0769">UDPContext::bitrate</a></div><div class="ttdeci">int64_t bitrate</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00103">udp.c:103</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="audp_8c_html_a3cdf1bab6ff8a89ff2fc49db1e6635f2"><div class="ttname"><a href="udp_8c.html#a3cdf1bab6ff8a89ff2fc49db1e6635f2">udp_set_url</a></div><div class="ttdeci">static int udp_set_url(URLContext *h, struct sockaddr_storage *addr, const char *hostname, int port)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00318">udp.c:318</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a625b5875161049912bce4f90896a40cb"><div class="ttname"><a href="struct_u_d_p_context.html#a625b5875161049912bce4f90896a40cb">UDPContext::localaddr</a></div><div class="ttdeci">char * localaddr</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00114">udp.c:114</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a3ac3f3701cf1587dad54906a711fec5d"><div class="ttname"><a href="struct_u_d_p_context.html#a3ac3f3701cf1587dad54906a711fec5d">UDPContext::pkt_size</a></div><div class="ttdeci">int pkt_size</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00089">udp.c:89</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_ad09ef57dcb533ffa9197f720cfd0b8f4"><div class="ttname"><a href="struct_u_d_p_context.html#ad09ef57dcb533ffa9197f720cfd0b8f4">UDPContext::reuse_socket</a></div><div class="ttdeci">int reuse_socket</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00093">udp.c:93</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="alibavutil_2fifo_8c_html_ac1e0d8ee7f1568cb40fa95a740c60f13"><div class="ttname"><a href="libavutil_2fifo_8c.html#ac1e0d8ee7f1568cb40fa95a740c60f13">av_fifo_space</a></div><div class="ttdeci">int av_fifo_space(const AVFifoBuffer *f)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2fifo_8c_source.html#l00082">fifo.c:82</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_ade027261fba59fc9129dc7308d36f40b"><div class="ttname"><a href="struct_u_d_p_context.html#ade027261fba59fc9129dc7308d36f40b">UDPContext::fifo</a></div><div class="ttdeci">AVFifoBuffer * fifo</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00101">udp.c:101</a></div></div>
<div class="ttc" id="astruct_i_p_source_filters_html"><div class="ttname"><a href="struct_i_p_source_filters.html">IPSourceFilters</a></div><div class="ttdef"><b>Definition:</b> <a href="ip_8h_source.html#l00029">ip.h:29</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT64</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00226">opt.h:226</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="aavio_8h_html_a5c9308f296545a8f3b7687d277a6dabc"><div class="ttname"><a href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a></div><div class="ttdeci">#define AVIO_FLAG_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00675">avio.h:675</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="atime_8c_html_a4eee9c65835652a808973f4bc1641a51"><div class="ttname"><a href="time_8c.html#a4eee9c65835652a808973f4bc1641a51">av_usleep</a></div><div class="ttdeci">int av_usleep(unsigned usec)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00084">time.c:84</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a9b6e74e145dcb6f426dd83bcc51aa217"><div class="ttname"><a href="os2threads_8h.html#a9b6e74e145dcb6f426dd83bcc51aa217">pthread_create</a></div><div class="ttdeci">static av_always_inline int pthread_create(pthread_t *thread, const pthread_attr_t *attr, void *(*start_routine)(void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00080">os2threads.h:80</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="aip_8c_html_a7730908a766c2bbbdbf12e9f638d3e77"><div class="ttname"><a href="ip_8c.html#a7730908a766c2bbbdbf12e9f638d3e77">ff_ip_parse_blocks</a></div><div class="ttdeci">int ff_ip_parse_blocks(void *log_ctx, const char *buf, IPSourceFilters *filters)</div><div class="ttdef"><b>Definition:</b> <a href="ip_8c_source.html#l00148">ip.c:148</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a7de4269e2a8b3e0a8128684f14e6741c"><div class="ttname"><a href="struct_u_d_p_context.html#a7de4269e2a8b3e0a8128684f14e6741c">UDPContext::tmp</a></div><div class="ttdeci">uint8_t tmp[UDP_MAX_PKT_SIZE+4]</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00112">udp.c:112</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="aparseutils_8h_html"><div class="ttname"><a href="parseutils_8h.html">parseutils.h</a></div></div>
<div class="ttc" id="anetwork_8c_html_a0cf51dc449235a083e6d8734009811cf"><div class="ttname"><a href="network_8c.html#a0cf51dc449235a083e6d8734009811cf">ff_is_multicast_address</a></div><div class="ttdeci">int ff_is_multicast_address(struct sockaddr *addr)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00145">network.c:145</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="anetwork_8h_html_aa807b114961219408d111f732d1dcbe5"><div class="ttname"><a href="network_8h.html#aa807b114961219408d111f732d1dcbe5">ff_neterrno</a></div><div class="ttdeci">#define ff_neterrno()</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00068">network.h:68</a></div></div>
<div class="ttc" id="astructaddrinfo_html_a2a6343a77144ee3079f6e9e0b66c715c"><div class="ttname"><a href="structaddrinfo.html#a2a6343a77144ee3079f6e9e0b66c715c">addrinfo::ai_addr</a></div><div class="ttdeci">struct sockaddr * ai_addr</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00143">network.h:143</a></div></div>
<div class="ttc" id="affprobe_8c_html_aa91b7ec8ae8a2d699fb09cc20c444fe8"><div class="ttname"><a href="ffprobe_8c.html#aa91b7ec8ae8a2d699fb09cc20c444fe8">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="ffprobe_8c_source.html#l00066">ffprobe.c:66</a></div></div>
<div class="ttc" id="aip_8c_html_a97395ca86d86f7abc582034c992b3856"><div class="ttname"><a href="ip_8c.html#a97395ca86d86f7abc582034c992b3856">ff_ip_resolve_host</a></div><div class="ttdeci">struct addrinfo * ff_ip_resolve_host(void *log_ctx, const char *hostname, int port, int type, int family, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="ip_8c_source.html#l00063">ip.c:63</a></div></div>
<div class="ttc" id="audp_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="udp_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00125">udp.c:125</a></div></div>
<div class="ttc" id="astructaddrinfo_html_af8ba790dc4c689a8b38c947924afe3ee"><div class="ttname"><a href="structaddrinfo.html#af8ba790dc4c689a8b38c947924afe3ee">addrinfo::ai_family</a></div><div class="ttdeci">int ai_family</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00139">network.h:139</a></div></div>
<div class="ttc" id="audp_8c_html_aa654a2855640f27d6212857d8404f1f8"><div class="ttname"><a href="udp_8c.html#aa654a2855640f27d6212857d8404f1f8">UDP_RX_BUF_SIZE</a></div><div class="ttdeci">#define UDP_RX_BUF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00079">udp.c:79</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="anetwork_8h_html_a24d04e29f579c954b882070912b75fa8"><div class="ttname"><a href="network_8h.html#a24d04e29f579c954b882070912b75fa8">ff_socket_nonblock</a></div><div class="ttdeci">int ff_socket_nonblock(int socket, int enable)</div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a506dc87a618d55bf3a6e7a5b33b6f7a9"><div class="ttname"><a href="struct_u_d_p_context.html#a506dc87a618d55bf3a6e7a5b33b6f7a9">UDPContext::is_multicast</a></div><div class="ttdeci">int is_multicast</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00090">udp.c:90</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a50203e230b412dc8a58c817df728a70e"><div class="ttname"><a href="struct_u_d_p_context.html#a50203e230b412dc8a58c817df728a70e">UDPContext::timeout</a></div><div class="ttdeci">int timeout</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00115">udp.c:115</a></div></div>
<div class="ttc" id="audp_8c_html_a876e2d63f86c6c756196cbb883c53f36"><div class="ttname"><a href="udp_8c.html#a876e2d63f86c6c756196cbb883c53f36">udplite_open</a></div><div class="ttdeci">static int udplite_open(URLContext *h, const char *uri, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00929">udp.c:929</a></div></div>
<div class="ttc" id="anetwork_8h_html_a62857dca3549f4a9808fa6eb4346b68e"><div class="ttname"><a href="network_8h.html#a62857dca3549f4a9808fa6eb4346b68e">gai_strerror</a></div><div class="ttdeci">#define gai_strerror</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00225">network.h:225</a></div></div>
<div class="ttc" id="atests_2h264__levels_8c_html_a7ead09ba2ff985f7f74ab0f40ee7eecc"><div class="ttname"><a href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a></div><div class="ttdeci">int64_t bitrate</div><div class="ttdef"><b>Definition:</b> <a href="tests_2h264__levels_8c_source.html#l00131">h264_levels.c:131</a></div></div>
<div class="ttc" id="astructpthread__t_html"><div class="ttname"><a href="structpthread__t.html">pthread_t</a></div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00044">os2threads.h:44</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a4c57837c88ef09274545ae2ebd18160a"><div class="ttname"><a href="os2threads_8h.html#a4c57837c88ef09274545ae2ebd18160a">pthread_cond_destroy</a></div><div class="ttdeci">static av_always_inline int pthread_cond_destroy(pthread_cond_t *cond)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00144">os2threads.h:144</a></div></div>
<div class="ttc" id="astructaddrinfo_html_ac8d379469addd7ebbb7cd8f9656268d2"><div class="ttname"><a href="structaddrinfo.html#ac8d379469addd7ebbb7cd8f9656268d2">addrinfo::ai_next</a></div><div class="ttdeci">struct addrinfo * ai_next</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00145">network.h:145</a></div></div>
<div class="ttc" id="astructaddrinfo_html_a764726141ef75fef88438f387a27753d"><div class="ttname"><a href="structaddrinfo.html#a764726141ef75fef88438f387a27753d">addrinfo::ai_addrlen</a></div><div class="ttdeci">int ai_addrlen</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00142">network.h:142</a></div></div>
<div class="ttc" id="aos2threads_8h_html_af75a104513c9384ace314b0a6b1a8240"><div class="ttname"><a href="os2threads_8h.html#af75a104513c9384ace314b0a6b1a8240">pthread_mutex_destroy</a></div><div class="ttdeci">static av_always_inline int pthread_mutex_destroy(pthread_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00112">os2threads.h:112</a></div></div>
<div class="ttc" id="audp_8c_html_a75db9308a872c1922bac4594d2ea0c37"><div class="ttname"><a href="udp_8c.html#a75db9308a872c1922bac4594d2ea0c37">udp_close</a></div><div class="ttdeci">static int udp_close(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l01053">udp.c:1053</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a1ec64f9dc75a1515d267e9201f1d908b"><div class="ttname"><a href="struct_u_d_p_context.html#a1ec64f9dc75a1515d267e9201f1d908b">UDPContext::local_addr_storage</a></div><div class="ttdeci">struct sockaddr_storage local_addr_storage</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00115">udp.c:116</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a2e42fa7083c1ee697010f38653322365"><div class="ttname"><a href="struct_u_d_p_context.html#a2e42fa7083c1ee697010f38653322365">UDPContext::circular_buffer_error</a></div><div class="ttdeci">int circular_buffer_error</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00102">udp.c:102</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="audp_8c_html_af7a344b9d7950a11af57b8ce8330c918"><div class="ttname"><a href="udp_8c.html#af7a344b9d7950a11af57b8ce8330c918">UDP_MAX_PKT_SIZE</a></div><div class="ttdeci">#define UDP_MAX_PKT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00080">udp.c:80</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a764b7f2938a3851e716e5020b3725140"><div class="ttname"><a href="struct_u_d_p_context.html#a764b7f2938a3851e716e5020b3725140">UDPContext::udplite_coverage</a></div><div class="ttdeci">int udplite_coverage</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00087">udp.c:87</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="aavio__internal_8h_html"><div class="ttname"><a href="avio__internal_8h.html">avio_internal.h</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a9aad44bed0c244bb2f4d3e7296b2946a"><div class="ttname"><a href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a></div><div class="ttdeci">#define AV_WL32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00290">intreadwrite.h:290</a></div></div>
<div class="ttc" id="anetwork_8h_html_ac0293040c0a9b5b7a9f15ac5e128f750"><div class="ttname"><a href="network_8h.html#ac0293040c0a9b5b7a9f15ac5e128f750">getnameinfo</a></div><div class="ttdeci">#define getnameinfo</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00219">network.h:219</a></div></div>
<div class="ttc" id="aip_8h_html"><div class="ttname"><a href="ip_8h.html">ip.h</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a2c37aaeb053582ce8ecdcc5cdf221989"><div class="ttname"><a href="struct_u_d_p_context.html#a2c37aaeb053582ce8ecdcc5cdf221989">UDPContext::is_connected</a></div><div class="ttdeci">int is_connected</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00097">udp.c:97</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga63a0579d6c2aa72470ac742bbbc1205d"><div class="ttname"><a href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a></div><div class="ttdeci">void av_url_split(char *proto, int proto_size, char *authorization, int authorization_size, char *hostname, int hostname_size, int *port_ptr, char *path, int path_size, const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04725">utils.c:4725</a></div></div>
<div class="ttc" id="astruct_u_r_l_protocol_html_aa733e1d46333f08d68fbcbc518e4a235"><div class="ttname"><a href="struct_u_r_l_protocol.html#aa733e1d46333f08d68fbcbc518e4a235">URLProtocol::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00055">url.h:55</a></div></div>
<div class="ttc" id="aurl_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="astructpthread__cond__t_html"><div class="ttname"><a href="structpthread__cond__t.html">pthread_cond_t</a></div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00058">os2threads.h:58</a></div></div>
<div class="ttc" id="audp_8c_html_ab7ed0e3f236fc515f40d8712d65e0c6b"><div class="ttname"><a href="udp_8c.html#ab7ed0e3f236fc515f40d8712d65e0c6b">ff_udplite_protocol</a></div><div class="ttdeci">const URLProtocol ff_udplite_protocol</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l01109">udp.c:1109</a></div></div>
<div class="ttc" id="aw32pthreads_8h_html_a15eaa48ff30cc25caca06ad340fd4461"><div class="ttname"><a href="w32pthreads_8h.html#a15eaa48ff30cc25caca06ad340fd4461">pthread_setcancelstate</a></div><div class="ttdeci">static int pthread_setcancelstate(int state, int *oldstate)</div><div class="ttdef"><b>Definition:</b> <a href="w32pthreads_8h_source.html#l00186">w32pthreads.h:186</a></div></div>
<div class="ttc" id="audp_8c_html_afbd23f663de848ee2985483d4297b0c4"><div class="ttname"><a href="udp_8c.html#afbd23f663de848ee2985483d4297b0c4">udp_read</a></div><div class="ttdeci">static int udp_read(URLContext *h, uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00939">udp.c:939</a></div></div>
<div class="ttc" id="audp_8c_html_afa7ec28912853b153d030f4b522f0109"><div class="ttname"><a href="udp_8c.html#afa7ec28912853b153d030f4b522f0109">udp_set_multicast_sources</a></div><div class="ttdeci">static int udp_set_multicast_sources(URLContext *h, int sockfd, struct sockaddr *addr, int addr_len, struct sockaddr_storage *local_addr, struct sockaddr_storage *sources, int nb_sources, int include)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00249">udp.c:249</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="audp_8c_html_a5d20473a838368ac190f608f4cf46f27"><div class="ttname"><a href="udp_8c.html#a5d20473a838368ac190f608f4cf46f27">UDP_TX_BUF_SIZE</a></div><div class="ttdeci">#define UDP_TX_BUF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00078">udp.c:78</a></div></div>
<div class="ttc" id="audp_8c_html_af316c33cc298530f245e8b55330e86b5"><div class="ttname"><a href="udp_8c.html#af316c33cc298530f245e8b55330e86b5">D</a></div><div class="ttdeci">#define D</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00123">udp.c:123</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="anetwork_8h_html"><div class="ttname"><a href="network_8h.html">network.h</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a215efed993567deadcea30a74ed05d6c"><div class="ttname"><a href="os2threads_8h.html#a215efed993567deadcea30a74ed05d6c">pthread_cond_signal</a></div><div class="ttdeci">static av_always_inline int pthread_cond_signal(pthread_cond_t *cond)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00152">os2threads.h:152</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_acaba108cf8747a464bc9f0a8857c713b"><div class="ttname"><a href="struct_u_d_p_context.html#acaba108cf8747a464bc9f0a8857c713b">UDPContext::close_req</a></div><div class="ttdeci">int close_req</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00105">udp.c:105</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ace46e41b9bd6cac88fb7109ffd657f9a"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a></div><div class="ttdeci">#define AV_RL32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00146">intreadwrite.h:146</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a248b7422d772bc2604d762a6d62bf9c5"><div class="ttname"><a href="struct_u_d_p_context.html#a248b7422d772bc2604d762a6d62bf9c5">UDPContext::circular_buffer_size</a></div><div class="ttdeci">int circular_buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00100">udp.c:100</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="audp_8c_html_a6afe2eca1346e32c42d6358cbfeaebfe"><div class="ttname"><a href="udp_8c.html#a6afe2eca1346e32c42d6358cbfeaebfe">IPV6_DROP_MEMBERSHIP</a></div><div class="ttdeci">#define IPV6_DROP_MEMBERSHIP</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00075">udp.c:75</a></div></div>
<div class="ttc" id="audp_8c_html_af1bf005bb83f4ecd1efe80b869a66d3b"><div class="ttname"><a href="udp_8c.html#af1bf005bb83f4ecd1efe80b869a66d3b">udp_write</a></div><div class="ttdeci">static int udp_write(URLContext *h, const uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l01003">udp.c:1003</a></div></div>
<div class="ttc" id="aip_8c_html_a1e31cf53b1e7d505185d0997c60ad26f"><div class="ttname"><a href="ip_8c.html#a1e31cf53b1e7d505185d0997c60ad26f">ff_ip_check_source_lists</a></div><div class="ttdeci">int ff_ip_check_source_lists(struct sockaddr_storage *source_addr_ptr, IPSourceFilters *s)</div><div class="ttdef"><b>Definition:</b> <a href="ip_8c_source.html#l00044">ip.c:44</a></div></div>
<div class="ttc" id="astruct_u_r_l_context_html"><div class="ttname"><a href="struct_u_r_l_context.html">URLContext</a></div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00038">url.h:38</a></div></div>
<div class="ttc" id="audp_8c_html_a8e55996dbf8a2f253d9a791aa1542ef7"><div class="ttname"><a href="udp_8c.html#a8e55996dbf8a2f253d9a791aa1542ef7">udp_open</a></div><div class="ttdeci">static int udp_open(URLContext *h, const char *uri, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00626">udp.c:626</a></div></div>
<div class="ttc" id="aos2threads_8h_html_af2ed122199f455b63a734ae9b592d286"><div class="ttname"><a href="os2threads_8h.html#af2ed122199f455b63a734ae9b592d286">pthread_cond_wait</a></div><div class="ttdeci">static av_always_inline int pthread_cond_wait(pthread_cond_t *cond, pthread_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00192">os2threads.h:192</a></div></div>
<div class="ttc" id="atime_8c_html_aebf7f9c94187487c31d26fa3da816468"><div class="ttname"><a href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a></div><div class="ttdeci">int64_t av_gettime(void)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00039">time.c:39</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a4b1cbbab9d4aec24e1a931269ae42e83"><div class="ttname"><a href="struct_u_d_p_context.html#a4b1cbbab9d4aec24e1a931269ae42e83">UDPContext::buffer_size</a></div><div class="ttdeci">int buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00088">udp.c:88</a></div></div>
<div class="ttc" id="aavio_8h_html_a21e61cb486bd1588eb7f775998cf8c77"><div class="ttname"><a href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a></div><div class="ttdeci">#define AVIO_FLAG_READ</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00674">avio.h:674</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a7bef3a2dae5614ac747a08b7b944aa3c"><div class="ttname"><a href="struct_u_d_p_context.html#a7bef3a2dae5614ac747a08b7b944aa3c">UDPContext::sources</a></div><div class="ttdeci">char * sources</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00117">udp.c:117</a></div></div>
<div class="ttc" id="alibavutil_2fifo_8c_html_a81f4cea70d96846df7111daccc5ecce2"><div class="ttname"><a href="libavutil_2fifo_8c.html#a81f4cea70d96846df7111daccc5ecce2">av_fifo_size</a></div><div class="ttdeci">int av_fifo_size(const AVFifoBuffer *f)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2fifo_8c_source.html#l00077">fifo.c:77</a></div></div>
<div class="ttc" id="alibavutil_2fifo_8c_html_a612be59edb6ab388a82d1487d1bd0c4d"><div class="ttname"><a href="libavutil_2fifo_8c.html#a612be59edb6ab388a82d1487d1bd0c4d">av_fifo_freep</a></div><div class="ttdeci">void av_fifo_freep(AVFifoBuffer **f)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2fifo_8c_source.html#l00063">fifo.c:63</a></div></div>
<div class="ttc" id="audp_8c_html_ae2e076b83b42ad1642a592944cc21321"><div class="ttname"><a href="udp_8c.html#ae2e076b83b42ad1642a592944cc21321">udp_get_file_handle</a></div><div class="ttdeci">static int udp_get_file_handle(URLContext *h)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00456">udp.c:456</a></div></div>
<div class="ttc" id="audp_8c_html_a76edd8180749560383a8de9c8462d0d6"><div class="ttname"><a href="udp_8c.html#a76edd8180749560383a8de9c8462d0d6">udp_set_multicast_ttl</a></div><div class="ttdeci">static int udp_set_multicast_ttl(int sockfd, int mcastTTL, struct sockaddr *addr)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00161">udp.c:161</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="aavio_8h_html_aea3131c92c70177e463538e9a6b4308e"><div class="ttname"><a href="avio_8h.html#aea3131c92c70177e463538e9a6b4308e">AVIO_FLAG_NONBLOCK</a></div><div class="ttdeci">#define AVIO_FLAG_NONBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00693">avio.h:693</a></div></div>
<div class="ttc" id="audp_8c_html_ac1820f0456368f128cd7b9c02c463031"><div class="ttname"><a href="udp_8c.html#ac1820f0456368f128cd7b9c02c463031">UDPContext</a></div><div class="ttdeci">struct UDPContext UDPContext</div></div>
<div class="ttc" id="alibavutil_2fifo_8c_html_adae9b18c5eed14fe851c5bb984ce374b"><div class="ttname"><a href="libavutil_2fifo_8c.html#adae9b18c5eed14fe851c5bb984ce374b">av_fifo_alloc</a></div><div class="ttdeci">AVFifoBuffer * av_fifo_alloc(unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2fifo_8c_source.html#l00043">fifo.c:43</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga716447ae73b612bcf3a405b9b4608f6c"><div class="ttname"><a href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a></div><div class="ttdeci">size_t av_strlcpy(char *dst, const char *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00083">avstring.c:83</a></div></div>
<div class="ttc" id="aos2threads_8h_html_ad68d1c8d49b37a981a53c41c44a53ff2"><div class="ttname"><a href="os2threads_8h.html#ad68d1c8d49b37a981a53c41c44a53ff2">pthread_cond_timedwait</a></div><div class="ttdeci">static av_always_inline int pthread_cond_timedwait(pthread_cond_t *cond, pthread_mutex_t *mutex, const struct timespec *abstime)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00170">os2threads.h:170</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a17afa58b2bc574dedcd1cc02e1fdf165"><div class="ttname"><a href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a></div><div class="ttdeci">The exact code depends on how similar the blocks are and how related they are to the block</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00207">filter_design.txt:207</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a90293d12cef762b6df0139309d13fdbf"><div class="ttname"><a href="os2threads_8h.html#a90293d12cef762b6df0139309d13fdbf">pthread_cond_init</a></div><div class="ttdeci">static av_always_inline int pthread_cond_init(pthread_cond_t *cond, const pthread_condattr_t *attr)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00133">os2threads.h:133</a></div></div>
<div class="ttc" id="astruct_u_d_p_context_html_a06c488deb2002f63219dc3a00a7c739b"><div class="ttname"><a href="struct_u_d_p_context.html#a06c488deb2002f63219dc3a00a7c739b">UDPContext::dest_addr</a></div><div class="ttdeci">struct sockaddr_storage dest_addr</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00094">udp.c:95</a></div></div>
<div class="ttc" id="avp9dsp__template_8c_html_a5e36941b3d856737e81516acd45edc50"><div class="ttname"><a href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div><div class="ttdeci">h</div><div class="ttdef"><b>Definition:</b> <a href="vp9dsp__template_8c_source.html#l02038">vp9dsp_template.c:2038</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a></div><div class="ttdeci">@ AV_OPT_TYPE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00229">opt.h:229</a></div></div>
<div class="ttc" id="astructaddrinfo_html"><div class="ttname"><a href="structaddrinfo.html">addrinfo</a></div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00137">network.h:137</a></div></div>
<div class="ttc" id="audp_8c_html_ae54f7e2f64ee4eff30f6f32805794cb0"><div class="ttname"><a href="udp_8c.html#ae54f7e2f64ee4eff30f6f32805794cb0">udp_leave_multicast_group</a></div><div class="ttdeci">static int udp_leave_multicast_group(int sockfd, struct sockaddr *addr, struct sockaddr *local_addr)</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00216">udp.c:216</a></div></div>
<div class="ttc" id="audp_8c_html_ae00bbae5a549824fed6ec3c646ce6c47"><div class="ttname"><a href="udp_8c.html#ae00bbae5a549824fed6ec3c646ce6c47">IPV6_ADD_MEMBERSHIP</a></div><div class="ttdeci">#define IPV6_ADD_MEMBERSHIP</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00074">udp.c:74</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="audp_8c_html_a8a0fae83e487dc04b3cd774b3d4ee637"><div class="ttname"><a href="udp_8c.html#a8a0fae83e487dc04b3cd774b3d4ee637">UDP_HEADER_SIZE</a></div><div class="ttdeci">#define UDP_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00081">udp.c:81</a></div></div>
<div class="ttc" id="apixdesc__query_8c_html_a26541ac96c02cad2015f8db63b5e703a"><div class="ttname"><a href="pixdesc__query_8c.html#a26541ac96c02cad2015f8db63b5e703a">cond</a></div><div class="ttdeci">int(* cond)(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc__query_8c_source.html#l00028">pixdesc_query.c:28</a></div></div>
<div class="ttc" id="audp_8c_html_aa3b8391a011d73114dfee2f2552423ac"><div class="ttname"><a href="udp_8c.html#aa3b8391a011d73114dfee2f2552423ac">udp_class</a></div><div class="ttdeci">static const AVClass udp_class</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00147">udp.c:147</a></div></div>
<div class="ttc" id="alog_8c_html_a9253be7adbbf7eb0c38ea4bc8651928c"><div class="ttname"><a href="log_8c.html#a9253be7adbbf7eb0c38ea4bc8651928c">mutex</a></div><div class="ttdeci">static AVMutex mutex</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00044">log.c:44</a></div></div>
<div class="ttc" id="anetwork_8h_html_aec9e92ed53442d64cbc9b68d92ad970b"><div class="ttname"><a href="network_8h.html#aec9e92ed53442d64cbc9b68d92ad970b">AI_PASSIVE</a></div><div class="ttdeci">#define AI_PASSIVE</div><div class="ttdef"><b>Definition:</b> <a href="network_8h_source.html#l00179">network.h:179</a></div></div>
<div class="ttc" id="audp_8c_html_a1b2e3aea5b22026c1f4322cc2d78743d"><div class="ttname"><a href="udp_8c.html#a1b2e3aea5b22026c1f4322cc2d78743d">UDPLITE_SEND_CSCOV</a></div><div class="ttdeci">#define UDPLITE_SEND_CSCOV</div><div class="ttdef"><b>Definition:</b> <a href="udp_8c_source.html#l00056">udp.c:56</a></div></div>
<div class="ttc" id="affprobe_8c_html_a3bd1ad5edf8fc93f783af77e8cd6ee9a"><div class="ttname"><a href="ffprobe_8c.html#a3bd1ad5edf8fc93f783af77e8cd6ee9a">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="ffprobe_8c_source.html#l00062">ffprobe.c:62</a></div></div>
<div class="ttc" id="anetwork_8c_html_a873ea3d2ca8b1474c2d834a7d63fc163"><div class="ttname"><a href="network_8c.html#a873ea3d2ca8b1474c2d834a7d63fc163">ff_network_wait_fd</a></div><div class="ttdeci">int ff_network_wait_fd(int fd, int write)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00069">network.c:69</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
