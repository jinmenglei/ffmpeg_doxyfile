<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/adpcmenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">adpcmenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="adpcmenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2001-2003 The FFmpeg project</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * first version by Francois Revol (revol@free.fr)</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * fringe ADPCM codecs (e.g., DK3, DK4, Westwood)</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *   by Mike Melanson (melanson@pcisys.net)</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="put__bits_8h.html">put_bits.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="adpcm_8h.html">adpcm.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="adpcm__data_8h.html">adpcm_data.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_trellis_path.html">TrellisPath</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="struct_trellis_path.html#abad1a2d60e87cdd34f49520778dfc3f6">   41</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_trellis_path.html#abad1a2d60e87cdd34f49520778dfc3f6">nibble</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_trellis_path.html#a72e67ddc96a960b7e5a4d6a973048e79">prev</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a0a290f73334e982dc5f76e29da5fdd7a">   43</a></span>&#160;} <a class="code" href="adpcmenc_8c.html#a0a290f73334e982dc5f76e29da5fdd7a">TrellisPath</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_trellis_node.html">   45</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_trellis_node.html">TrellisNode</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_trellis_node.html#a974ecd67fdfbe8e1592d9f5d93b078ee">   46</a></span>&#160;    uint32_t <a class="code" href="struct_trellis_node.html#a974ecd67fdfbe8e1592d9f5d93b078ee">ssd</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_trellis_node.html#acf640cdfcb97e8e152596535bc4cefa5">   47</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_trellis_node.html#acf640cdfcb97e8e152596535bc4cefa5">path</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_trellis_node.html#a1e7cebb474006f5d5adeafeffe345a4e">   48</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_trellis_node.html#a1e7cebb474006f5d5adeafeffe345a4e">sample1</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_trellis_node.html#a8f1f698b77e51dad9d244d868cf83bae">   49</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_trellis_node.html#a8f1f698b77e51dad9d244d868cf83bae">sample2</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_trellis_node.html#ab9d01f5ce9de2750e998eb7644ac845c">   50</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_trellis_node.html#ab9d01f5ce9de2750e998eb7644ac845c">step</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#af54a20a74178b131e76510e94cddd48a">   51</a></span>&#160;} <a class="code" href="adpcmenc_8c.html#af54a20a74178b131e76510e94cddd48a">TrellisNode</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html">   53</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_d_p_c_m_encode_context.html">ADPCMEncodeContext</a> {</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html#aa12c0e9e3a423289622aa8b569635cc1">   54</a></span>&#160;    <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html#a7c9982ecff35c3c169a83ba13c64bd49">   55</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_d_p_c_m_encode_context.html#a7c9982ecff35c3c169a83ba13c64bd49">block_size</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html#abf645689e338452ccfddef248c0218c7">   57</a></span>&#160;    <a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> <a class="code" href="struct_a_d_p_c_m_encode_context.html#abf645689e338452ccfddef248c0218c7">status</a>[6];</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html#a3782318b2c30aa6f8c528e2352e1ccc9">   58</a></span>&#160;    <a class="code" href="struct_trellis_path.html">TrellisPath</a> *<a class="code" href="struct_a_d_p_c_m_encode_context.html#a3782318b2c30aa6f8c528e2352e1ccc9">paths</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html#a12bbcf74763cc80910a8fd5579e03997">   59</a></span>&#160;    <a class="code" href="struct_trellis_node.html">TrellisNode</a> *<a class="code" href="struct_a_d_p_c_m_encode_context.html#a12bbcf74763cc80910a8fd5579e03997">node_buf</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html#a43c0e363a6359b50bf58b583dd938e0e">   60</a></span>&#160;    <a class="code" href="struct_trellis_node.html">TrellisNode</a> **<a class="code" href="struct_a_d_p_c_m_encode_context.html#a43c0e363a6359b50bf58b583dd938e0e">nodep_buf</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_a_d_p_c_m_encode_context.html#a3c1b83f53f428af41bd4e7fb4be29ced">   61</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_a_d_p_c_m_encode_context.html#a3c1b83f53f428af41bd4e7fb4be29ced">trellis_hash</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a270b349d70c7c33f82370d6cc300df36">   62</a></span>&#160;} <a class="code" href="adpcmenc_8c.html#a270b349d70c7c33f82370d6cc300df36">ADPCMEncodeContext</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#acb15645e89d27e0ad566f36aa89d841d">   64</a></span>&#160;<span class="preprocessor">#define FREEZE_INTERVAL 128</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a5f8b8ea07a5e5783565b9264dcb65726">   66</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="adpcmenc_8c.html#a5f8b8ea07a5e5783565b9264dcb65726">adpcm_encode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="struct_a_d_p_c_m_encode_context.html">ADPCMEncodeContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *extradata;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> &gt; 2) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;only stereo or mono is supported\n&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">     * AMV&#39;s block size has to match that of the corresponding video</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">     * stream. Relax the POT requirement.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a> &amp;&amp;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size &amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size - 1))) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;block size must be power of 2\n&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a>) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordtype">int</span> frontier, max_paths;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> &gt; 16<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;invalid trellis size\n&quot;</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf48c41882152ce6d7964e8c338cffb9d">AV_CODEC_ID_ADPCM_IMA_SSI</a> ||</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead21e0bd393237840798e02e292214a08">AV_CODEC_ID_ADPCM_IMA_APM</a> ||</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a8a05c18afe35592e6d98415d458c7d">AV_CODEC_ID_ADPCM_ARGO</a>) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">             * The current trellis implementation doesn&#39;t work for extended</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">             * runs of samples without periodic resets. Disallow it.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;trellis not supported\n&quot;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        frontier  = 1 &lt;&lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        max_paths =  frontier * <a class="code" href="adpcmenc_8c.html#acb15645e89d27e0ad566f36aa89d841d">FREEZE_INTERVAL</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libavutil_2internal_8h.html#a9a1502b14f7cb3e69154fdcc0f45d5a8">FF_ALLOC_TYPED_ARRAY</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;paths,        max_paths)    ||</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            !<a class="code" href="libavutil_2internal_8h.html#a9a1502b14f7cb3e69154fdcc0f45d5a8">FF_ALLOC_TYPED_ARRAY</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;node_buf,     2 * frontier) ||</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            !<a class="code" href="libavutil_2internal_8h.html#a9a1502b14f7cb3e69154fdcc0f45d5a8">FF_ALLOC_TYPED_ARRAY</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nodep_buf,    2 * frontier) ||</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            !<a class="code" href="libavutil_2internal_8h.html#a9a1502b14f7cb3e69154fdcc0f45d5a8">FF_ALLOC_TYPED_ARRAY</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;trellis_hash, 65536))</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = <a class="code" href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a>) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadad7dc9e33bcb7b38d886ad11ac788b7">AV_CODEC_ID_ADPCM_IMA_WAV</a>:</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="comment">/* each 16 bits sample gives one nibble</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">           and we have 4 bytes per channel overhead */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a> = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size - 4 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>) * 8 /</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                            (4 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>) + 1;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">/* seems frame_size isn&#39;t taken into account...</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">           have to buffer the samples :-( */</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = 4;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa238badb45f42286d03179686f2a6768">AV_CODEC_ID_ADPCM_IMA_QT</a>:</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>  = 64;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = 34 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6f63c9df5fee26f639f330cd99554467">AV_CODEC_ID_ADPCM_MS</a>:</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">/* each 16 bits sample gives one nibble</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">           and we have 7 bytes per channel overhead */</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a> = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size - 7 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>) * 2 / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> + 2;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = 4;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a>     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (!(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(32 + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>)))</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> = 32;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        extradata = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        bytestream_put_le16(&amp;extradata, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        bytestream_put_le16(&amp;extradata, 7); <span class="comment">/* wNumCoef */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 7; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            bytestream_put_le16(&amp;extradata, <a class="code" href="adpcm__data_8c.html#aa70c665639c80a4d0222a1452d99b64b">ff_adpcm_AdaptCoeff1</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 4);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            bytestream_put_le16(&amp;extradata, <a class="code" href="adpcm__data_8c.html#a22e6e54cb006606c498a298aa8dfff2d">ff_adpcm_AdaptCoeff2</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 4);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5ee9dac88143bbc5037d460ca57809e1">AV_CODEC_ID_ADPCM_YAMAHA</a>:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size * 2 / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea059036a462f51cb2acb903ff7a5efaa7">AV_CODEC_ID_ADPCM_SWF</a>:</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> != 11025 &amp;&amp;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> != 22050 &amp;&amp;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> != 44100) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Sample rate must be 11025, &quot;</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                   <span class="stringliteral">&quot;22050 or 44100\n&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>  = 4096; <span class="comment">/* Hardcoded according to the SWF spec. */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = (2 + avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> * (22 + 4 * (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a> - 1)) + 7) / 8;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf48c41882152ce6d7964e8c338cffb9d">AV_CODEC_ID_ADPCM_IMA_SSI</a>:</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae0c3e2ef46c98f4b9e1df4dbf00292ee">AV_CODEC_ID_ADPCM_IMA_ALP</a>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size * 2 / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a>:</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> != 22050) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Sample rate must be 22050\n&quot;</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> != 1) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Only mono is supported\n&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = 8 + (<a class="code" href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>, 2) / 2);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead21e0bd393237840798e02e292214a08">AV_CODEC_ID_ADPCM_IMA_APM</a>:</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size * 2 / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_size;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> (!(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(28 + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>)))</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> = 28;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a8a05c18afe35592e6d98415d458c7d">AV_CODEC_ID_ADPCM_ARGO</a>:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a> = 32;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> = 17 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#ac97bced3804c7aabe0636256326adc9d">  202</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="adpcmenc_8c.html#ac97bced3804c7aabe0636256326adc9d">adpcm_encode_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="struct_a_d_p_c_m_encode_context.html">ADPCMEncodeContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;paths);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;node_buf);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nodep_buf);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;trellis_hash);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">  214</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(<a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                                int16_t <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>  = <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">int</span> nibble = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(7, <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>) * 4 /</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                       <a class="code" href="adpcm__data_8c.html#a67249aebac00ab2b6f13be14dd3829c0">ff_adpcm_step_table</a>[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index]) + (<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &lt; 0) * 8;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample += ((<a class="code" href="adpcm__data_8c.html#a67249aebac00ab2b6f13be14dd3829c0">ff_adpcm_step_table</a>[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index] *</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        <a class="code" href="adpcm__data_8c.html#a5e685d8315b3538afb2af4896dd89acb">ff_adpcm_yamaha_difflookup</a>[nibble]) / 8);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample = av_clip_int16(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index  = av_clip(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index + <a class="code" href="adpcm__data_8c.html#a3eb4f6f5fb6a44d356887350ac8bde21">ff_adpcm_index_table</a>[nibble], 0, 88);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> nibble;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a2f7f26d0c15af8dca95904ed4375fb11">  227</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="adpcmenc_8c.html#a2f7f26d0c15af8dca95904ed4375fb11">adpcm_ima_alp_compress_sample</a>(<a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, int16_t <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>  = <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>   = <a class="code" href="adpcm__data_8c.html#a67249aebac00ab2b6f13be14dd3829c0">ff_adpcm_step_table</a>[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sign   = (<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &lt; 0) * 8;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">int</span> nibble = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>) * 4 / <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>, 7);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>   = (<a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * nibble) &gt;&gt; 2;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (sign)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = -<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    nibble = sign | nibble;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample += <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample  = av_clip_int16(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index   = av_clip(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index + <a class="code" href="adpcm__data_8c.html#a3eb4f6f5fb6a44d356887350ac8bde21">ff_adpcm_index_table</a>[nibble], 0, 88);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> nibble;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">  246</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">adpcm_ima_qt_compress_sample</a>(<a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                                   int16_t <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>  = <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>, <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> = <a class="code" href="adpcm__data_8c.html#a67249aebac00ab2b6f13be14dd3829c0">ff_adpcm_step_table</a>[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index];</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">int</span> nibble = 8*(<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &lt; 0);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>= <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> + (<a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> &gt;&gt; 3);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &gt;= <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        nibble |= 4;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>  -= <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &gt;= <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        nibble |= 2;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>  -= <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &gt;= <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        nibble |= 1;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>  -= <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> -= <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (nibble &amp; 8)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample -= <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample += <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample = av_clip_int16(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index  = av_clip(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index + <a class="code" href="adpcm__data_8c.html#a3eb4f6f5fb6a44d356887350ac8bde21">ff_adpcm_index_table</a>[nibble], 0, 88);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">return</span> nibble;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#ad68dfe67b27a9ac44f682198f9d45d31">  283</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="adpcmenc_8c.html#ad68dfe67b27a9ac44f682198f9d45d31">adpcm_ms_compress_sample</a>(<a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                               int16_t <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordtype">int</span> predictor, nibble, bias;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    predictor = (((<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample1) * (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;coeff1)) +</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                (( <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample2) * (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;coeff2))) / 64;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    nibble = <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> - predictor;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (nibble &gt;= 0)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        bias =  <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta / 2;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        bias = -<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta / 2;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    nibble = (nibble + bias) / <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    nibble = av_clip_intp2(nibble, 3) &amp; 0x0F;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    predictor += ((nibble &amp; 0x08) ? (nibble - 0x10) : nibble) * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample2 = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample1;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample1 = av_clip_int16(predictor);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta = (<a class="code" href="adpcm__data_8c.html#adfac7816a1258726821f0fa8aebaa328">ff_adpcm_AdaptationTable</a>[nibble] * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta) &gt;&gt; 8;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta &lt; 16)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta = 16;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">return</span> nibble;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#afa2a647660042bbd37872aea94aa7984">  312</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="adpcmenc_8c.html#afa2a647660042bbd37872aea94aa7984">adpcm_yamaha_compress_sample</a>(<a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                                   int16_t <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordtype">int</span> nibble, <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;predictor = 0;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step      = 127;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> = <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;predictor;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    nibble = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(7, <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>) * 4 / <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step) + (<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &lt; 0) * 8;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;predictor += ((<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step * <a class="code" href="adpcm__data_8c.html#a5e685d8315b3538afb2af4896dd89acb">ff_adpcm_yamaha_difflookup</a>[nibble]) / 8);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;predictor = av_clip_int16(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;predictor);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step = (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step * <a class="code" href="adpcm__data_8c.html#aa8151f32b999f19feebab451e62c96ce">ff_adpcm_yamaha_indexscale</a>[nibble]) &gt;&gt; 8;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step = av_clip(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step, 127, 24576);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">return</span> nibble;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">  334</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                   <span class="keyword">const</span> int16_t *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                   <a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">//FIXME 6% faster if frontier is a compile-time constant</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="struct_a_d_p_c_m_encode_context.html">ADPCMEncodeContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> frontier = 1 &lt;&lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>  = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="struct_trellis_path.html">TrellisPath</a> *paths       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;paths, *p;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="struct_trellis_node.html">TrellisNode</a> *node_buf    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;node_buf;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="struct_trellis_node.html">TrellisNode</a> **nodep_buf  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nodep_buf;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="struct_trellis_node.html">TrellisNode</a> **nodes      = nodep_buf; <span class="comment">// nodes[] is always sorted by .ssd</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="struct_trellis_node.html">TrellisNode</a> **nodes_next = nodep_buf + frontier;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordtype">int</span> pathn = 0, froze = -1, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, generation = 0;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2movenc_8c.html#a8509848f135e0b5f310c969a6c5344ec">hash</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;trellis_hash;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    memset(<a class="code" href="tests_2movenc_8c.html#a8509848f135e0b5f310c969a6c5344ec">hash</a>, 0xff, 65536 * <span class="keyword">sizeof</span>(*<a class="code" href="tests_2movenc_8c.html#a8509848f135e0b5f310c969a6c5344ec">hash</a>));</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    memset(nodep_buf, 0, 2 * frontier * <span class="keyword">sizeof</span>(*nodep_buf));</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    nodes[0]          = node_buf + frontier;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#a974ecd67fdfbe8e1592d9f5d93b078ee">ssd</a>     = 0;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#acf640cdfcb97e8e152596535bc4cefa5">path</a>    = 0;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#ab9d01f5ce9de2750e998eb7644ac845c">step</a>    = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#a1e7cebb474006f5d5adeafeffe345a4e">sample1</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample1;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#a8f1f698b77e51dad9d244d868cf83bae">sample2</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample2;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadad7dc9e33bcb7b38d886ad11ac788b7">AV_CODEC_ID_ADPCM_IMA_WAV</a> ||</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa238badb45f42286d03179686f2a6768">AV_CODEC_ID_ADPCM_IMA_QT</a>  ||</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a> ||</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea059036a462f51cb2acb903ff7a5efaa7">AV_CODEC_ID_ADPCM_SWF</a>)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#a1e7cebb474006f5d5adeafeffe345a4e">sample1</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;prev_sample;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6f63c9df5fee26f639f330cd99554467">AV_CODEC_ID_ADPCM_MS</a>)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#ab9d01f5ce9de2750e998eb7644ac845c">step</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5ee9dac88143bbc5037d460ca57809e1">AV_CODEC_ID_ADPCM_YAMAHA</a>) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step == 0) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#ab9d01f5ce9de2750e998eb7644ac845c">step</a>    = 127;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#a1e7cebb474006f5d5adeafeffe345a4e">sample1</a> = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#ab9d01f5ce9de2750e998eb7644ac845c">step</a>    = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#a1e7cebb474006f5d5adeafeffe345a4e">sample1</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;predictor;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="struct_trellis_node.html">TrellisNode</a> *t = node_buf + frontier*(<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;1);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="struct_trellis_node.html">TrellisNode</a> **<a class="code" href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>   = <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>];</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordtype">int</span> heap_pos = 0;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        memset(nodes_next, 0, frontier * <span class="keyword">sizeof</span>(<a class="code" href="struct_trellis_node.html">TrellisNode</a>*));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; frontier &amp;&amp; nodes[j]; j++) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="comment">// higher j have higher ssd already, so they&#39;re likely</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="comment">// to yield a suboptimal next sample too</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> range = (j &lt; frontier / 2) ? 1 : 0;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>  = nodes[j]-&gt;step;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordtype">int</span> nidx;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6f63c9df5fee26f639f330cd99554467">AV_CODEC_ID_ADPCM_MS</a>) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> predictor = ((nodes[j]-&gt;sample1 * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;coeff1) +</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                       (nodes[j]-&gt;sample2 * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;coeff2)) / 64;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> div  = (<a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> - predictor) / <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> nmin = av_clip(div-range, -8, 6);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> nmax = av_clip(div+range, -7, 7);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">for</span> (nidx = nmin; nidx &lt;= nmax; nidx++) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> nibble = nidx &amp; 0xf;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    <span class="keywordtype">int</span> dec_sample   = predictor + nidx * <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="preprocessor">#define STORE_NODE(NAME, STEP_INDEX)\</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">                    int d;\</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">                    uint32_t ssd;\</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="preprocessor">                    int pos;\</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="preprocessor">                    TrellisNode *u;\</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">                    uint8_t *h;\</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">                    dec_sample = av_clip_int16(dec_sample);\</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">                    d = sample - dec_sample;\</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">                    ssd = nodes[j]-&gt;ssd + d*(unsigned)d;\</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">                    </span><span class="comment">/* Check for wraparound, skip such samples completely. \</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">                     * Note, changing ssd to a 64 bit variable would be \</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">                     * simpler, avoiding this check, but it&#39;s slower on \</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">                     * x86 32 bit at the moment. */</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">                    if (ssd &lt; nodes[j]-&gt;ssd)\</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">                        goto next_##NAME;\</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">                    </span><span class="comment">/* Collapse any two states with the same previous sample value. \</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">                     * One could also distinguish states by step and by 2nd to last</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">                     * sample, but the effects of that are negligible.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">                     * Since nodes in the previous generation are iterated</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">                     * through a heap, they&#39;re roughly ordered from better to</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">                     * worse, but not strictly ordered. Therefore, an earlier</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">                     * node with the same sample value is better in most cases</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">                     * (and thus the current is skipped), but not strictly</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">                     * in all cases. Only skipping samples where ssd &gt;=</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">                     * ssd of the earlier node with the same sample gives</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">                     * slightly worse quality, though, for some reason. */</span><span class="preprocessor"> \</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor">                    h = &amp;hash[(uint16_t) dec_sample];\</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">                    if (*h == generation)\</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">                        goto next_##NAME;\</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="preprocessor">                    if (heap_pos &lt; frontier) {\</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">                        pos = heap_pos++;\</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">                    } else {\</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">                        </span><span class="comment">/* Try to replace one of the leaf nodes with the new \</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">                         * one, but try a different slot each time. */</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">                        pos = (frontier &gt;&gt; 1) +\</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">                              (heap_pos &amp; ((frontier &gt;&gt; 1) - 1));\</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">                        if (ssd &gt; nodes_next[pos]-&gt;ssd)\</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">                            goto next_##NAME;\</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">                        heap_pos++;\</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor">                    }\</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">                    *h = generation;\</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="preprocessor">                    u  = nodes_next[pos];\</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">                    if (!u) {\</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">                        av_assert1(pathn &lt; FREEZE_INTERVAL &lt;&lt; avctx-&gt;trellis);\</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">                        u = t++;\</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor">                        nodes_next[pos] = u;\</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">                        u-&gt;path = pathn++;\</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="preprocessor">                    }\</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">                    u-&gt;ssd  = ssd;\</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">                    u-&gt;step = STEP_INDEX;\</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">                    u-&gt;sample2 = nodes[j]-&gt;sample1;\</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">                    u-&gt;sample1 = dec_sample;\</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">                    paths[u-&gt;path].nibble = nibble;\</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">                    paths[u-&gt;path].prev   = nodes[j]-&gt;path;\</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">                    </span><span class="comment">/* Sift the newly inserted node up in the heap to \</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">                     * restore the heap property. */</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">                    while (pos &gt; 0) {\</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="preprocessor">                        int parent = (pos - 1) &gt;&gt; 1;\</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">                        if (nodes_next[parent]-&gt;ssd &lt;= ssd)\</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="preprocessor">                            break;\</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">                        FFSWAP(TrellisNode*, nodes_next[parent], nodes_next[pos]);\</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="preprocessor">                        pos = parent;\</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="preprocessor">                    }\</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">                    next_##NAME:;</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <a class="code" href="adpcmenc_8c.html#a20ff95519bad3cee4fe241c24690050d">STORE_NODE</a>(ms, <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(16,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                               (<a class="code" href="adpcm__data_8c.html#adfac7816a1258726821f0fa8aebaa328">ff_adpcm_AdaptationTable</a>[nibble] * <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>) &gt;&gt; 8));</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadad7dc9e33bcb7b38d886ad11ac788b7">AV_CODEC_ID_ADPCM_IMA_WAV</a> ||</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                       <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa238badb45f42286d03179686f2a6768">AV_CODEC_ID_ADPCM_IMA_QT</a>  ||</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                       <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a> ||</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                       <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea059036a462f51cb2acb903ff7a5efaa7">AV_CODEC_ID_ADPCM_SWF</a>) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#define LOOP_NODES(NAME, STEP_TABLE, STEP_INDEX)\</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">                const int predictor = nodes[j]-&gt;sample1;\</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">                const int div = (sample - predictor) * 4 / STEP_TABLE;\</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor">                int nmin = av_clip(div - range, -7, 6);\</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">                int nmax = av_clip(div + range, -6, 7);\</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor">                if (nmin &lt;= 0)\</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">                    nmin--; </span><span class="comment">/* distinguish -0 from +0 */</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor">                if (nmax &lt; 0)\</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor">                    nmax--;\</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="preprocessor">                for (nidx = nmin; nidx &lt;= nmax; nidx++) {\</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="preprocessor">                    const int nibble = nidx &lt; 0 ? 7 - nidx : nidx;\</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="preprocessor">                    int dec_sample = predictor +\</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="preprocessor">                                    (STEP_TABLE *\</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor">                                     ff_adpcm_yamaha_difflookup[nibble]) / 8;\</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">                    STORE_NODE(NAME, STEP_INDEX);\</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="preprocessor">                }</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <a class="code" href="adpcmenc_8c.html#aed1595793fe8341130e1f6c67bcd1ca1">LOOP_NODES</a>(<a class="code" href="vf__colormatrix_8c.html#ae8d4eab3c8ab44f6b661de477e6ad87e">ima</a>, <a class="code" href="adpcm__data_8c.html#a67249aebac00ab2b6f13be14dd3829c0">ff_adpcm_step_table</a>[<a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>],</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                           av_clip(<a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> + <a class="code" href="adpcm__data_8c.html#a3eb4f6f5fb6a44d356887350ac8bde21">ff_adpcm_index_table</a>[nibble], 0, 88));</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            } <span class="keywordflow">else</span> { <span class="comment">//AV_CODEC_ID_ADPCM_YAMAHA</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <a class="code" href="adpcmenc_8c.html#aed1595793fe8341130e1f6c67bcd1ca1">LOOP_NODES</a>(yamaha, <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>,</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                           av_clip((<a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * <a class="code" href="adpcm__data_8c.html#aa8151f32b999f19feebab451e62c96ce">ff_adpcm_yamaha_indexscale</a>[nibble]) &gt;&gt; 8,</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                   127, 24576));</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="preprocessor">#undef LOOP_NODES</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#undef STORE_NODE</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a> = nodes;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        nodes = nodes_next;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        nodes_next = <a class="code" href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        generation++;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">if</span> (generation == 255) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            memset(<a class="code" href="tests_2movenc_8c.html#a8509848f135e0b5f310c969a6c5344ec">hash</a>, 0xff, 65536 * <span class="keyword">sizeof</span>(*<a class="code" href="tests_2movenc_8c.html#a8509848f135e0b5f310c969a6c5344ec">hash</a>));</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            generation = 0;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="comment">// prevent overflow</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> (nodes[0]-&gt;ssd &gt; (1 &lt;&lt; 28)) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">for</span> (j = 1; j &lt; frontier &amp;&amp; nodes[j]; j++)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                nodes[j]-&gt;ssd -= nodes[0]-&gt;ssd;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            nodes[0]-&gt;ssd = 0;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// merge old paths to save memory</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == froze + <a class="code" href="adpcmenc_8c.html#acb15645e89d27e0ad566f36aa89d841d">FREEZE_INTERVAL</a>) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            p = &amp;paths[nodes[0]-&gt;path];</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordflow">for</span> (k = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>; k &gt; froze; k--) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                dst[k] = p-&gt;<a class="code" href="struct_trellis_path.html#abad1a2d60e87cdd34f49520778dfc3f6">nibble</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                p = &amp;paths[p-&gt;prev];</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            froze = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            pathn = 0;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="comment">// other nodes might use paths that don&#39;t coincide with the frozen one.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="comment">// checking which nodes do so is too slow, so just kill them all.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="comment">// this also slightly improves quality, but I don&#39;t know why.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            memset(nodes + 1, 0, (frontier - 1) * <span class="keyword">sizeof</span>(<a class="code" href="struct_trellis_node.html">TrellisNode</a>*));</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a2c129b8483c96247bf1e28185a078b6b">  526</a></span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    p = &amp;paths[nodes[0]-&gt;<a class="code" href="struct_trellis_node.html#acf640cdfcb97e8e152596535bc4cefa5">path</a>];</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = n - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; froze; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        dst[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = p-&gt;<a class="code" href="struct_trellis_path.html#abad1a2d60e87cdd34f49520778dfc3f6">nibble</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        p = &amp;paths[p-&gt;prev];</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;predictor  = nodes[0]-&gt;sample1;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample1    = nodes[0]-&gt;sample1;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;sample2    = nodes[0]-&gt;sample2;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step_index = nodes[0]-&gt;step;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;step       = nodes[0]-&gt;step;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;idelta     = nodes[0]-&gt;step;</div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a52c0357cad220673004fa35164242676">  539</a></span>&#160;}</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="adpcmenc_8c.html#a2c129b8483c96247bf1e28185a078b6b">adpcm_argo_compress_nibble</a>(<span class="keyword">const</span> <a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *cs, int16_t <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                             <span class="keywordtype">int</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordtype">int</span> nibble;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        nibble = 4 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> - 8 * cs-&gt;<a class="code" href="struct_a_d_p_c_m_channel_status.html#a4b23b4ef35108c68d7992c7710e95eaa">sample1</a> + 4 * cs-&gt;<a class="code" href="struct_a_d_p_c_m_channel_status.html#a8cadd9dff8c1036b01ff271e41236fd6">sample2</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        nibble = 4 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> - 4 * cs-&gt;<a class="code" href="struct_a_d_p_c_m_channel_status.html#a4b23b4ef35108c68d7992c7710e95eaa">sample1</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> (nibble &gt;&gt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>) &amp; 0x0F;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="adpcmenc_8c.html#a52c0357cad220673004fa35164242676">adpcm_argo_compress_block</a>(<a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *cs, <a class="code" href="struct_put_bit_context.html">PutBitContext</a> *pb,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                         <span class="keyword">const</span> int16_t *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, <span class="keywordtype">int</span> nsamples,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                         <span class="keywordtype">int</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    int64_t <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> = 0;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (pb) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(pb, 4, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> - 2);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(pb, 1, 0);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(pb, 1, !!<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(pb, 2, 0);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#af689aeaf2cc1c66fb586f597b7f165d9">  566</a></span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; nsamples; n++) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="comment">/* Compress the nibble, then expand it to see how much precision we&#39;ve lost. */</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordtype">int</span> nibble = <a class="code" href="adpcmenc_8c.html#a2c129b8483c96247bf1e28185a078b6b">adpcm_argo_compress_nibble</a>(cs, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[n], <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>, <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        int16_t <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> = <a class="code" href="adpcm_8c.html#a005e1f4fc3d839f0882c5b4388a84848">ff_adpcm_argo_expand_nibble</a>(cs, nibble, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>, <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> += <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[n] - <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (pb)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(pb, 4, nibble);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="adpcmenc_8c.html#aab1ae2a7c0a7783ffd0f0472cf0b1571">adpcm_encode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                              <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <span class="keywordtype">int</span> *got_packet_ptr)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;{</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordtype">int</span> n, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ch, st, pkt_size, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keyword">const</span> int16_t *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    int16_t **samples_p;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="struct_a_d_p_c_m_encode_context.html">ADPCMEncodeContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = (<span class="keyword">const</span> int16_t *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[0];</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    samples_p = (int16_t **)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    st = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 2;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf48c41882152ce6d7964e8c338cffb9d">AV_CODEC_ID_ADPCM_IMA_SSI</a> ||</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae0c3e2ef46c98f4b9e1df4dbf00292ee">AV_CODEC_ID_ADPCM_IMA_ALP</a> ||</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead21e0bd393237840798e02e292214a08">AV_CODEC_ID_ADPCM_IMA_APM</a>)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        pkt_size = (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>) / 2;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        pkt_size = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a>(avctx, avpkt, pkt_size, 0)) &lt; 0)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    dst = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">switch</span>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a>) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadad7dc9e33bcb7b38d886ad11ac788b7">AV_CODEC_ID_ADPCM_IMA_WAV</a>:</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordtype">int</span> blocks, j;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        blocks = (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples - 1) / 8;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a> = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch];</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>-&gt;prev_sample = samples_p[ch][0];</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="comment">/* status-&gt;step_index = 0;</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">               XXX: not sure how to init the state machine */</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            bytestream_put_le16(&amp;dst, <a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>-&gt;prev_sample);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            *dst++ = <a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>-&gt;step_index;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            *dst++ = 0; <span class="comment">/* unknown */</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="comment">/* stereo: 4 bytes (8 samples) for left, 4 bytes for right */</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> &gt; 0) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavutil_2internal_8h.html#a9a1502b14f7cb3e69154fdcc0f45d5a8">FF_ALLOC_TYPED_ARRAY</a>(buf, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> * blocks * 8))</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, &amp;samples_p[ch][1],</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                       buf + ch * blocks * 8, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch],</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                                       blocks * 8, 1);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; blocks; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf1 = buf + ch * blocks * 8 + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                    <span class="keywordflow">for</span> (j = 0; j &lt; 8; j += 2)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                        *dst++ = buf1[j] | (buf1[j + 1] &lt;&lt; 4);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; blocks; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    <a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a> = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch];</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    <span class="keyword">const</span> int16_t *smp = &amp;samples_p[ch][1 + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8];</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                    <span class="keywordflow">for</span> (j = 0; j &lt; 8; j += 2) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> v = <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>, smp[j    ]);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                        v        |= <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>, smp[j + 1]) &lt;&lt; 4;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        *dst++ = v;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                    }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa238badb45f42286d03179686f2a6768">AV_CODEC_ID_ADPCM_IMA_QT</a>:</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="struct_put_bit_context.html">PutBitContext</a> pb;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <a class="code" href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a>(&amp;pb, dst, pkt_size);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a> *<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a> = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch];</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 9, (<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>-&gt;prev_sample &amp; 0xFFFF) &gt;&gt; 7);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 7,  <a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>-&gt;step_index);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> &gt; 0) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[64];</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, &amp;samples_p[ch][0], buf, <a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                                       64, 1);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> ^ 1]);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>-&gt;prev_sample = <a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>-&gt;predictor;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="regdef_8h.html#aa4652e2d6053d420dcbea07a113db5fe">t2</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a> = <a class="code" href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">adpcm_ima_qt_compress_sample</a>(<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>, samples_p[ch][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>    ]);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    <a class="code" href="regdef_8h.html#aa4652e2d6053d420dcbea07a113db5fe">t2</a> = <a class="code" href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">adpcm_ima_qt_compress_sample</a>(<a class="code" href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a>, samples_p[ch][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="regdef_8h.html#aa4652e2d6053d420dcbea07a113db5fe">t2</a>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a>(&amp;pb);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf48c41882152ce6d7964e8c338cffb9d">AV_CODEC_ID_ADPCM_IMA_SSI</a>:</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="struct_put_bit_context.html">PutBitContext</a> pb;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a>(&amp;pb, dst, pkt_size);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> == 0);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">adpcm_ima_qt_compress_sample</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status + ch, *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++));</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a>(&amp;pb);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae0c3e2ef46c98f4b9e1df4dbf00292ee">AV_CODEC_ID_ADPCM_IMA_ALP</a>:</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="struct_put_bit_context.html">PutBitContext</a> pb;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a>(&amp;pb, dst, pkt_size);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> == 0);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">for</span> (n = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples / 2; n &gt; 0; n--) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="adpcmenc_8c.html#a2f7f26d0c15af8dca95904ed4375fb11">adpcm_ima_alp_compress_sample</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status + ch, *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++));</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="adpcmenc_8c.html#a2f7f26d0c15af8dca95904ed4375fb11">adpcm_ima_alp_compress_sample</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status + ch, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[st]));</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <a class="code" href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a>(&amp;pb);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea059036a462f51cb2acb903ff7a5efaa7">AV_CODEC_ID_ADPCM_SWF</a>:</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <a class="code" href="struct_put_bit_context.html">PutBitContext</a> pb;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a>(&amp;pb, dst, pkt_size);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        n = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples - 1;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="comment">// store AdpcmCodeSize</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 2, 2);    <span class="comment">// set 4-bit flash adpcm format</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="comment">// init the encoder state</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="comment">// clip step so it fits 6 bits</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].step_index = av_clip_uintp2(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].step_index, 6);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <a class="code" href="put__bits_8h.html#a022bea4c1636d3229bd07d7ec301d3c8">put_sbits</a>(&amp;pb, 16, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 6, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].step_index);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].prev_sample = <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> &gt; 0) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">if</span> (!(buf = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(2 * n)))</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>, buf,</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                                   &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], n, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 2)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> + 1,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                                       buf + n, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[1], n,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                                       avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 2)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, buf[n + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0],</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                         <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 2)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[1],</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                             <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[2 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]));</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a>(&amp;pb);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6f63c9df5fee26f639f330cd99554467">AV_CODEC_ID_ADPCM_MS</a>:</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordtype">int</span> predictor = 0;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            *dst++ = predictor;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].coeff1 = <a class="code" href="adpcm__data_8c.html#aa70c665639c80a4d0222a1452d99b64b">ff_adpcm_AdaptCoeff1</a>[predictor];</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].coeff2 = <a class="code" href="adpcm__data_8c.html#a22e6e54cb006606c498a298aa8dfff2d">ff_adpcm_AdaptCoeff2</a>[predictor];</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].idelta &lt; 16)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].idelta = 16;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            bytestream_put_le16(&amp;dst, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].idelta);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].sample2= *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].sample1 = *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            bytestream_put_le16(&amp;dst, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].sample1);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            bytestream_put_le16(&amp;dst, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].sample2);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> &gt; 0) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            n = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">block_align</a> - 7 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">if</span> (!(buf = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(2 * n)))</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 1) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, buf, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], n,</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                       avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    *dst++ = (buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; 4) | buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1];</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>,     buf,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                                       &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], n, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + 1, buf + n,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                       &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[1], n, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    *dst++ = (buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; 4) | buf[n + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 7 * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; i &lt; avctx-&gt;block_align; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                <span class="keywordtype">int</span> nibble;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                nibble  = <a class="code" href="adpcmenc_8c.html#ad68dfe67b27a9ac44f682198f9d45d31">adpcm_ms_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ 0], *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++) &lt;&lt; 4;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                nibble |= <a class="code" href="adpcmenc_8c.html#ad68dfe67b27a9ac44f682198f9d45d31">adpcm_ms_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[st], *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                *dst++  = nibble;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5ee9dac88143bbc5037d460ca57809e1">AV_CODEC_ID_ADPCM_YAMAHA</a>:</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        n = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples / 2;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> &gt; 0) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <span class="keywordflow">if</span> (!(buf = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(2 * n * 2)))</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            n *= 2;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 1) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, buf, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], n,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                                       avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    *dst++ = buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] | (buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1] &lt;&lt; 4);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>,     buf,</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                                       &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], n, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + 1, buf + n,</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                       &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[1], n, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    *dst++ = buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] | (buf[n + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; 4);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <span class="keywordflow">for</span> (n *= avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; n &gt; 0; n--) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                <span class="keywordtype">int</span> nibble;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                nibble  = <a class="code" href="adpcmenc_8c.html#afa2a647660042bbd37872aea94aa7984">adpcm_yamaha_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ 0], *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                nibble |= <a class="code" href="adpcmenc_8c.html#afa2a647660042bbd37872aea94aa7984">adpcm_yamaha_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[st], *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++) &lt;&lt; 4;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                *dst++  = nibble;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead21e0bd393237840798e02e292214a08">AV_CODEC_ID_ADPCM_IMA_APM</a>:</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="struct_put_bit_context.html">PutBitContext</a> pb;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <a class="code" href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a>(&amp;pb, dst, pkt_size);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> == 0);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">for</span> (n = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples / 2; n &gt; 0; n--) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">adpcm_ima_qt_compress_sample</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status + ch, *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++));</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;pb, 4, <a class="code" href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">adpcm_ima_qt_compress_sample</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status + ch, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[st]));</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <a class="code" href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a>(&amp;pb);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a>:</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 1);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0].prev_sample = *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        bytestream_put_le16(&amp;dst, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0].prev_sample);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        bytestream_put_byte(&amp;dst, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0].step_index);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        bytestream_put_byte(&amp;dst, 0);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        bytestream_put_le32(&amp;dst, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">trellis</a> &gt; 0) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            n = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples &gt;&gt; 1;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="keywordflow">if</span> (!(buf = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(2 * n)))</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <a class="code" href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a>(avctx, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, buf, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], 2 * n, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                bytestream_put_byte(&amp;dst, (buf[2 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; 4) | buf[2 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 2 * n;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">for</span> (n = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples &gt;&gt; 1; n &gt; 0; n--) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="keywordtype">int</span> nibble;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            nibble  = <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++) &lt;&lt; 4;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            nibble |= <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++) &amp; 0x0F;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            bytestream_put_byte(&amp;dst, nibble);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a> &amp; 1) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <span class="keywordtype">int</span> nibble = <a class="code" href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[0], *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>++) &lt;&lt; 4;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            bytestream_put_byte(&amp;dst, nibble);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a8a05c18afe35592e6d98415d458c7d">AV_CODEC_ID_ADPCM_ARGO</a>:</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="struct_put_bit_context.html">PutBitContext</a> pb;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <a class="code" href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a>(&amp;pb, dst, pkt_size);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples == 32);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>; ch++) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            int64_t <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>  = INT64_MAX, tmperr = INT64_MAX;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <span class="keywordtype">int</span>     <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>  = 2, <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a> = 0;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="keywordtype">int</span>     saved1 = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch].sample1;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="keywordtype">int</span>     saved2 = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch].sample2;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="comment">/* Find the optimal coefficients, bail early if we find a perfect result. */</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = 2; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> &lt; 18 &amp;&amp; tmperr != 0; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>++) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = 0; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> &lt; 2 &amp;&amp; tmperr != 0; <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>++) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch].sample1 = saved1;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch].sample2 = saved2;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    tmperr = <a class="code" href="adpcmenc_8c.html#a52c0357cad220673004fa35164242676">adpcm_argo_compress_block</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status + ch, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, samples_p[ch],</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                                       <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    <span class="keywordflow">if</span> (tmperr &lt; <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                        <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>  = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                        <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> = tmperr;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            <span class="comment">/* Now actually do the encode. */</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch].sample1 = saved1;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status[ch].sample2 = saved2;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <a class="code" href="adpcmenc_8c.html#a52c0357cad220673004fa35164242676">adpcm_argo_compress_block</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;status + ch, &amp;pb, samples_p[ch],</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                      <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>, <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <a class="code" href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a>(&amp;pb);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">  933</a></span>&#160;    }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = pkt_size;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    *got_packet_ptr = 1;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>[] = {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>, <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;};</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> <a class="code" href="adpcmenc_8c.html#af689aeaf2cc1c66fb586f597b7f165d9">sample_fmts_p</a>[] = {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a35eaaad9da207aa4e63fa02fd67fae68">AV_SAMPLE_FMT_S16P</a>, <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;};</div>
<div class="line"><a name="l00947"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a6a6ad6ba870530d46a13a1b4cc2bc0df">  947</a></span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="adpcmenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        .<a class="code" href="struct_a_v_option.html#a87e81c6e58d6a94d97a98ad15a4e507c">name</a>        = <span class="stringliteral">&quot;block_size&quot;</span>,</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        .help        = <span class="stringliteral">&quot;set the block size&quot;</span>,</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        .offset      = offsetof(<a class="code" href="struct_a_d_p_c_m_encode_context.html">ADPCMEncodeContext</a>, block_size),</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        .type        = <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,</div>
<div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">  954</a></span>&#160;        .default_val = {.i64 = 1024},</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        .min         = 32,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        .max         = 8192, <span class="comment">/* Is this a reasonable upper limit? */</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        .flags       = <a class="code" href="opt_8h.html#aba0d5e41287b6fbeae5dd59f643695cc">AV_OPT_FLAG_ENCODING_PARAM</a> | <a class="code" href="opt_8h.html#aaa63966a3f547a71a7742f4aea00093a">AV_OPT_FLAG_AUDIO_PARAM</a></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    },</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;};</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="adpcmenc_8c.html#a6a6ad6ba870530d46a13a1b4cc2bc0df">adpcm_encoder_class</a> = {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;ADPCM Encoder&quot;</span>,</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    .option     = <a class="code" href="adpcmenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;};</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="preprocessor">#define ADPCM_ENCODER(id_, name_, sample_fmts_, capabilities_, long_name_) \</span></div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a9fce5e31d9ae0461e9430164f07c8a24">  970</a></span>&#160;<span class="preprocessor">AVCodec ff_ ## name_ ## _encoder = {                                       \</span></div>
<div class="line"><a name="l00971"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#ae19152a7f4724cba190b821461493ed4">  971</a></span>&#160;<span class="preprocessor">    .name           = #name_,                                              \</span></div>
<div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a4a412183ccf42f1485989c4fd55fe52e">  972</a></span>&#160;<span class="preprocessor">    .long_name      = NULL_IF_CONFIG_SMALL(long_name_),                    \</span></div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#ad7cbab4d9f22f8358a9212c2e5c485f7">  973</a></span>&#160;<span class="preprocessor">    .type           = AVMEDIA_TYPE_AUDIO,                                  \</span></div>
<div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#aa4b9374e218883ff350114994686e6ff">  974</a></span>&#160;<span class="preprocessor">    .id             = id_,                                                 \</span></div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a75917da8a3f6e4ba81483cc9b5210c93">  975</a></span>&#160;<span class="preprocessor">    .priv_data_size = sizeof(ADPCMEncodeContext),                          \</span></div>
<div class="line"><a name="l00976"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a6a1dfbe48eb0dc05e60b07e037ae93b0">  976</a></span>&#160;<span class="preprocessor">    .init           = adpcm_encode_init,                                   \</span></div>
<div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#af0037e256c0a9c17b851667f5d14c96e">  977</a></span>&#160;<span class="preprocessor">    .encode2        = adpcm_encode_frame,                                  \</span></div>
<div class="line"><a name="l00978"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#a551f9fe3e534850f8124c4244fef6a73">  978</a></span>&#160;<span class="preprocessor">    .close          = adpcm_encode_close,                                  \</span></div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="adpcmenc_8c.html#acc92289022c479ab1e1ff319895d7b39">  979</a></span>&#160;<span class="preprocessor">    .sample_fmts    = sample_fmts_,                                        \</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="preprocessor">    .capabilities   = capabilities_,                                       \</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">    .caps_internal  = FF_CODEC_CAP_INIT_CLEANUP,                           \</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="preprocessor">    .priv_class     = &amp;adpcm_encoder_class,                                \</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a8a05c18afe35592e6d98415d458c7d">AV_CODEC_ID_ADPCM_ARGO</a>,    adpcm_argo,    <a class="code" href="adpcmenc_8c.html#af689aeaf2cc1c66fb586f597b7f165d9">sample_fmts_p</a>, 0,                             <span class="stringliteral">&quot;ADPCM Argonaut Games&quot;</span>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a>, adpcm_ima_amv, <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>,   0,                             <span class="stringliteral">&quot;ADPCM IMA AMV&quot;</span>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead21e0bd393237840798e02e292214a08">AV_CODEC_ID_ADPCM_IMA_APM</a>, adpcm_ima_apm, <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>,   <a class="code" href="group__lavc__core.html#gaded181844ec3ab19897704086dc2ee03">AV_CODEC_CAP_SMALL_LAST_FRAME</a>, <span class="stringliteral">&quot;ADPCM IMA Ubisoft APM&quot;</span>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae0c3e2ef46c98f4b9e1df4dbf00292ee">AV_CODEC_ID_ADPCM_IMA_ALP</a>, adpcm_ima_alp, <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>,   <a class="code" href="group__lavc__core.html#gaded181844ec3ab19897704086dc2ee03">AV_CODEC_CAP_SMALL_LAST_FRAME</a>, <span class="stringliteral">&quot;ADPCM IMA High Voltage Software ALP&quot;</span>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa238badb45f42286d03179686f2a6768">AV_CODEC_ID_ADPCM_IMA_QT</a>,  adpcm_ima_qt,  <a class="code" href="adpcmenc_8c.html#af689aeaf2cc1c66fb586f597b7f165d9">sample_fmts_p</a>, 0,                             <span class="stringliteral">&quot;ADPCM IMA QuickTime&quot;</span>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf48c41882152ce6d7964e8c338cffb9d">AV_CODEC_ID_ADPCM_IMA_SSI</a>, adpcm_ima_ssi, <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>,   <a class="code" href="group__lavc__core.html#gaded181844ec3ab19897704086dc2ee03">AV_CODEC_CAP_SMALL_LAST_FRAME</a>, <span class="stringliteral">&quot;ADPCM IMA Simon &amp; Schuster Interactive&quot;</span>);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadad7dc9e33bcb7b38d886ad11ac788b7">AV_CODEC_ID_ADPCM_IMA_WAV</a>, adpcm_ima_wav, <a class="code" href="adpcmenc_8c.html#af689aeaf2cc1c66fb586f597b7f165d9">sample_fmts_p</a>, 0,                             <span class="stringliteral">&quot;ADPCM IMA WAV&quot;</span>);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6f63c9df5fee26f639f330cd99554467">AV_CODEC_ID_ADPCM_MS</a>,      adpcm_ms,      <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>,   0,                             <span class="stringliteral">&quot;ADPCM Microsoft&quot;</span>);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea059036a462f51cb2acb903ff7a5efaa7">AV_CODEC_ID_ADPCM_SWF</a>,     adpcm_swf,     <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>,   0,                             <span class="stringliteral">&quot;ADPCM Shockwave Flash&quot;</span>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<a class="code" href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a>(<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5ee9dac88143bbc5037d460ca57809e1">AV_CODEC_ID_ADPCM_YAMAHA</a>,  adpcm_yamaha,  <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>,   0,                             <span class="stringliteral">&quot;ADPCM Yamaha&quot;</span>);</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="atarget__bsf__fuzzer_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="target__bsf__fuzzer_8c_source.html#l00030">target_bsf_fuzzer.c:30</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_afa2a647660042bbd37872aea94aa7984"><div class="ttname"><a href="adpcmenc_8c.html#afa2a647660042bbd37872aea94aa7984">adpcm_yamaha_compress_sample</a></div><div class="ttdeci">static uint8_t adpcm_yamaha_compress_sample(ADPCMChannelStatus *c, int16_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00312">adpcmenc.c:312</a></div></div>
<div class="ttc" id="amace_8c_html_a08f66a6870d87afcd5dc1b60d1019692"><div class="ttname"><a href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a></div><div class="ttdeci">int stride</div><div class="ttdef"><b>Definition:</b> <a href="mace_8c_source.html#l00144">mace.c:144</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea6f63c9df5fee26f639f330cd99554467"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6f63c9df5fee26f639f330cd99554467">AV_CODEC_ID_ADPCM_MS</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_MS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00353">codec_id.h:353</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa238badb45f42286d03179686f2a6768"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa238badb45f42286d03179686f2a6768">AV_CODEC_ID_ADPCM_IMA_QT</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_IMA_QT</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00347">codec_id.h:347</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ad6a339ae538717b3e99082a8016207df"><div class="ttname"><a href="filter__design_8txt.html#ad6a339ae538717b3e99082a8016207df">status</a></div><div class="ttdeci">they must not be accessed directly The fifo field contains the frames that are queued in the input for processing by the filter The status_in and status_out fields contains the queued status(EOF or error) of the link</div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aec57f0d859a6df8b479cd93ca3a44a33"><div class="ttname"><a href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">AVCodecContext::frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01206">avcodec.h:1206</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_aed1595793fe8341130e1f6c67bcd1ca1"><div class="ttname"><a href="adpcmenc_8c.html#aed1595793fe8341130e1f6c67bcd1ca1">LOOP_NODES</a></div><div class="ttdeci">#define LOOP_NODES(NAME, STEP_TABLE, STEP_INDEX)</div></div>
<div class="ttc" id="astruct_a_d_p_c_m_encode_context_html_a12bbcf74763cc80910a8fd5579e03997"><div class="ttname"><a href="struct_a_d_p_c_m_encode_context.html#a12bbcf74763cc80910a8fd5579e03997">ADPCMEncodeContext::node_buf</a></div><div class="ttdeci">TrellisNode * node_buf</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00059">adpcmenc.c:59</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_adc5f65d6099fd8339c1580c091777223"><div class="ttname"><a href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">AVCodecContext::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:536</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="acbs__h2645_8c_html_a134a0c87e88a327dcbeee6de7b0d6282"><div class="ttname"><a href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a></div><div class="ttdeci">#define u(width, name, range_min, range_max)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h2645_8c_source.html#l00262">cbs_h2645.c:262</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a0b94bda9858853d90b77d15331ca0ae1"><div class="ttname"><a href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a></div><div class="ttdeci">static enum AVSampleFormat sample_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00566">adpcmenc.c:925</a></div></div>
<div class="ttc" id="aadpcm__data_8c_html_adfac7816a1258726821f0fa8aebaa328"><div class="ttname"><a href="adpcm__data_8c.html#adfac7816a1258726821f0fa8aebaa328">ff_adpcm_AdaptationTable</a></div><div class="ttdeci">const int16_t ff_adpcm_AdaptationTable[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcm__data_8c_source.html#l00084">adpcm_data.c:84</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a6a6ad6ba870530d46a13a1b4cc2bc0df"><div class="ttname"><a href="adpcmenc_8c.html#a6a6ad6ba870530d46a13a1b4cc2bc0df">adpcm_encoder_class</a></div><div class="ttdeci">static const AVClass adpcm_encoder_class</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00947">adpcmenc.c:947</a></div></div>
<div class="ttc" id="aput__bits_8h_html_a022bea4c1636d3229bd07d7ec301d3c8"><div class="ttname"><a href="put__bits_8h.html#a022bea4c1636d3229bd07d7ec301d3c8">put_sbits</a></div><div class="ttdeci">static void put_sbits(PutBitContext *pb, int n, int32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="put__bits_8h_source.html#l00260">put_bits.h:260</a></div></div>
<div class="ttc" id="aput__bits_8h_html_a0bcd3e73d6c48e50b9c8fe99a51d2c91"><div class="ttname"><a href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a></div><div class="ttdeci">static void init_put_bits(PutBitContext *s, uint8_t *buffer, int buffer_size)</div><div class="ttdef"><b>Definition:</b> <a href="put__bits_8h_source.html#l00064">put_bits.h:64</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_af54a20a74178b131e76510e94cddd48a"><div class="ttname"><a href="adpcmenc_8c.html#af54a20a74178b131e76510e94cddd48a">TrellisNode</a></div><div class="ttdeci">struct TrellisNode TrellisNode</div></div>
<div class="ttc" id="aj2kenc_8c_html_aafc5fd946cab2b9d67be29d48099f703"><div class="ttname"><a href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a></div><div class="ttdeci">static void put_bits(Jpeg2000EncoderContext *s, int val, int n)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00218">j2kenc.c:218</a></div></div>
<div class="ttc" id="arate__distortion_8txt_html_a0e018beb061c7ac6d1f9121683a6f2c2"><div class="ttname"><a href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a></div><div class="ttdeci">trying all byte sequences megabyte in length and selecting the best looking sequence will yield cases to try But a word about which is also called distortion Distortion can be quantified by almost any quality measurement one chooses the sum of squared differences is used but more complex methods that consider psychovisual effects can be used as well It makes no difference in this discussion First step</div><div class="ttdef"><b>Definition:</b> <a href="rate__distortion_8txt_source.html#l00019">rate_distortion.txt:58</a></div></div>
<div class="ttc" id="aregdef_8h_html_a65f7891fccbfcf7d08964555630773b3"><div class="ttname"><a href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a></div><div class="ttdeci">#define t1</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00029">regdef.h:29</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_channel_status_html_a4b23b4ef35108c68d7992c7710e95eaa"><div class="ttname"><a href="struct_a_d_p_c_m_channel_status.html#a4b23b4ef35108c68d7992c7710e95eaa">ADPCMChannelStatus::sample1</a></div><div class="ttdeci">int sample1</div><div class="ttdef"><b>Definition:</b> <a href="adpcm_8h_source.html#l00039">adpcm.h:39</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a98c1222965f4a5662f46135ffede29ac"><div class="ttname"><a href="adpcmenc_8c.html#a98c1222965f4a5662f46135ffede29ac">ADPCM_ENCODER</a></div><div class="ttdeci">#define ADPCM_ENCODER(id_, name_, sample_fmts_, capabilities_, long_name_)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00954">adpcmenc.c:954</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a8509848f135e0b5f310c969a6c5344ec"><div class="ttname"><a href="tests_2movenc_8c.html#a8509848f135e0b5f310c969a6c5344ec">hash</a></div><div class="ttdeci">uint8_t hash[HASH_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00057">movenc.c:57</a></div></div>
<div class="ttc" id="astruct_trellis_path_html_abad1a2d60e87cdd34f49520778dfc3f6"><div class="ttname"><a href="struct_trellis_path.html#abad1a2d60e87cdd34f49520778dfc3f6">TrellisPath::nibble</a></div><div class="ttdeci">int nibble</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00041">adpcmenc.c:41</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_encode_context_html"><div class="ttname"><a href="struct_a_d_p_c_m_encode_context.html">ADPCMEncodeContext</a></div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00053">adpcmenc.c:53</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00628">avcodec.h:628</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_encode_context_html_a7c9982ecff35c3c169a83ba13c64bd49"><div class="ttname"><a href="struct_a_d_p_c_m_encode_context.html#a7c9982ecff35c3c169a83ba13c64bd49">ADPCMEncodeContext::block_size</a></div><div class="ttdeci">int block_size</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00055">adpcmenc.c:55</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a20ff95519bad3cee4fe241c24690050d"><div class="ttname"><a href="adpcmenc_8c.html#a20ff95519bad3cee4fe241c24690050d">STORE_NODE</a></div><div class="ttdeci">#define STORE_NODE(NAME, STEP_INDEX)</div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a9a1502b14f7cb3e69154fdcc0f45d5a8"><div class="ttname"><a href="libavutil_2internal_8h.html#a9a1502b14f7cb3e69154fdcc0f45d5a8">FF_ALLOC_TYPED_ARRAY</a></div><div class="ttdeci">#define FF_ALLOC_TYPED_ARRAY(p, nelem)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00140">internal.h:140</a></div></div>
<div class="ttc" id="astruct_trellis_node_html_a8f1f698b77e51dad9d244d868cf83bae"><div class="ttname"><a href="struct_trellis_node.html#a8f1f698b77e51dad9d244d868cf83bae">TrellisNode::sample2</a></div><div class="ttdeci">int sample2</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00049">adpcmenc.c:49</a></div></div>
<div class="ttc" id="astruct_trellis_node_html_ab9d01f5ce9de2750e998eb7644ac845c"><div class="ttname"><a href="struct_trellis_node.html#ab9d01f5ce9de2750e998eb7644ac845c">TrellisNode::step</a></div><div class="ttdeci">int step</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00050">adpcmenc.c:50</a></div></div>
<div class="ttc" id="astruct_a_v_option_html_a87e81c6e58d6a94d97a98ad15a4e507c"><div class="ttname"><a href="struct_a_v_option.html#a87e81c6e58d6a94d97a98ad15a4e507c">AVOption::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00249">opt.h:249</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="adpcmenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00933">adpcmenc.c:933</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a270b349d70c7c33f82370d6cc300df36"><div class="ttname"><a href="adpcmenc_8c.html#a270b349d70c7c33f82370d6cc300df36">ADPCMEncodeContext</a></div><div class="ttdeci">struct ADPCMEncodeContext ADPCMEncodeContext</div></div>
<div class="ttc" id="aadpcm__data_8h_html"><div class="ttname"><a href="adpcm__data_8h.html">adpcm_data.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="aopt_8h_html_aba0d5e41287b6fbeae5dd59f643695cc"><div class="ttname"><a href="opt_8h.html#aba0d5e41287b6fbeae5dd59f643695cc">AV_OPT_FLAG_ENCODING_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_ENCODING_PARAM</div><div class="ttdoc">a generic parameter which can be set by the user for muxing or encoding</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00278">opt.h:278</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_channel_status_html_a8cadd9dff8c1036b01ff271e41236fd6"><div class="ttname"><a href="struct_a_d_p_c_m_channel_status.html#a8cadd9dff8c1036b01ff271e41236fd6">ADPCMChannelStatus::sample2</a></div><div class="ttdeci">int sample2</div><div class="ttdef"><b>Definition:</b> <a href="adpcm_8h_source.html#l00040">adpcm.h:40</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_encode_context_html_a3c1b83f53f428af41bd4e7fb4be29ced"><div class="ttname"><a href="struct_a_d_p_c_m_encode_context.html#a3c1b83f53f428af41bd4e7fb4be29ced">ADPCMEncodeContext::trellis_hash</a></div><div class="ttdeci">uint8_t * trellis_hash</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00061">adpcmenc.c:61</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a6e90133e26438db3e07b19b11228419d"><div class="ttname"><a href="adpcmenc_8c.html#a6e90133e26438db3e07b19b11228419d">adpcm_compress_trellis</a></div><div class="ttdeci">static void adpcm_compress_trellis(AVCodecContext *avctx, const int16_t *samples, uint8_t *dst, ADPCMChannelStatus *c, int n, int stride)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00334">adpcmenc.c:334</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="aopt_8h_html_aaa63966a3f547a71a7742f4aea00093a"><div class="ttname"><a href="opt_8h.html#aaa63966a3f547a71a7742f4aea00093a">AV_OPT_FLAG_AUDIO_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_AUDIO_PARAM</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00280">opt.h:280</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="astruct_trellis_node_html_a974ecd67fdfbe8e1592d9f5d93b078ee"><div class="ttname"><a href="struct_trellis_node.html#a974ecd67fdfbe8e1592d9f5d93b078ee">TrellisNode::ssd</a></div><div class="ttdeci">uint32_t ssd</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00046">adpcmenc.c:46</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae56433cc80666ff63af59db4de5b5e45"><div class="ttname"><a href="struct_a_v_codec_context.html#ae56433cc80666ff63af59db4de5b5e45">AVCodecContext::block_align</a></div><div class="ttdeci">int block_align</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01223">avcodec.h:1223</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea5ee9dac88143bbc5037d460ca57809e1"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5ee9dac88143bbc5037d460ca57809e1">AV_CODEC_ID_ADPCM_YAMAHA</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_YAMAHA</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00361">codec_id.h:361</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea7a8a05c18afe35592e6d98415d458c7d"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a8a05c18afe35592e6d98415d458c7d">AV_CODEC_ID_ADPCM_ARGO</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_ARGO</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00390">codec_id.h:390</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_IMA_AMV</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00366">codec_id.h:366</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_a3aa069ac3980707dae1e0530f50d59e4"><div class="ttname"><a href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a></div><div class="ttdeci">#define abs(x)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00035">cuda_runtime.h:35</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a2f7f26d0c15af8dca95904ed4375fb11"><div class="ttname"><a href="adpcmenc_8c.html#a2f7f26d0c15af8dca95904ed4375fb11">adpcm_ima_alp_compress_sample</a></div><div class="ttdeci">static uint8_t adpcm_ima_alp_compress_sample(ADPCMChannelStatus *c, int16_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00227">adpcmenc.c:227</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="aadpcm_8h_html"><div class="ttname"><a href="adpcm_8h.html">adpcm.h</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="astruct_trellis_node_html_a1e7cebb474006f5d5adeafeffe345a4e"><div class="ttname"><a href="struct_trellis_node.html#a1e7cebb474006f5d5adeafeffe345a4e">TrellisNode::sample1</a></div><div class="ttdeci">int sample1</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00048">adpcmenc.c:48</a></div></div>
<div class="ttc" id="astruct_trellis_node_html"><div class="ttname"><a href="struct_trellis_node.html">TrellisNode</a></div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00045">adpcmenc.c:45</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga0717e7440fdb123f708082f66cd9b41d"><div class="ttname"><a href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a></div><div class="ttdeci">int av_get_bits_per_sample(enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01578">utils.c:1578</a></div></div>
<div class="ttc" id="aadpcm__data_8c_html_a5e685d8315b3538afb2af4896dd89acb"><div class="ttname"><a href="adpcm__data_8c.html#a5e685d8315b3538afb2af4896dd89acb">ff_adpcm_yamaha_difflookup</a></div><div class="ttdeci">const int8_t ff_adpcm_yamaha_difflookup[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcm__data_8c_source.html#l00104">adpcm_data.c:104</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceae0c3e2ef46c98f4b9e1df4dbf00292ee"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae0c3e2ef46c98f4b9e1df4dbf00292ee">AV_CODEC_ID_ADPCM_IMA_ALP</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_IMA_ALP</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00394">codec_id.h:394</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="aadpcm__data_8c_html_a67249aebac00ab2b6f13be14dd3829c0"><div class="ttname"><a href="adpcm__data_8c.html#a67249aebac00ab2b6f13be14dd3829c0">ff_adpcm_step_table</a></div><div class="ttdeci">const int16_t ff_adpcm_step_table[89]</div><div class="ttdef"><b>Definition:</b> <a href="adpcm__data_8c_source.html#l00061">adpcm_data.c:61</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00059">samplefmt.h:59</a></div></div>
<div class="ttc" id="aflacdsp__template_8c_html_a924f03b9b06f2793262e576df93492db"><div class="ttname"><a href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a></div><div class="ttdeci">#define sample</div><div class="ttdef"><b>Definition:</b> <a href="flacdsp__template_8c_source.html#l00044">flacdsp_template.c:44</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea059036a462f51cb2acb903ff7a5efaa7"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea059036a462f51cb2acb903ff7a5efaa7">AV_CODEC_ID_ADPCM_SWF</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_SWF</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00360">codec_id.h:360</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_a01a53d07936f4c7ee280444793b6967b"><div class="ttname"><a href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">AVCodec::id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00202">codec.h:204</a></div></div>
<div class="ttc" id="astruct_trellis_node_html_acf640cdfcb97e8e152596535bc4cefa5"><div class="ttname"><a href="struct_trellis_node.html#acf640cdfcb97e8e152596535bc4cefa5">TrellisNode::path</a></div><div class="ttdeci">int path</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00047">adpcmenc.c:47</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_encode_context_html_a3782318b2c30aa6f8c528e2352e1ccc9"><div class="ttname"><a href="struct_a_d_p_c_m_encode_context.html#a3782318b2c30aa6f8c528e2352e1ccc9">ADPCMEncodeContext::paths</a></div><div class="ttdeci">TrellisPath * paths</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00058">adpcmenc.c:58</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_a4c7a521b8f1a0769c09bfa4a1fca7dab"><div class="ttname"><a href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00317">libkvazaar.c:317</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_acb15645e89d27e0ad566f36aa89d841d"><div class="ttname"><a href="adpcmenc_8c.html#acb15645e89d27e0ad566f36aa89d841d">FREEZE_INTERVAL</a></div><div class="ttdeci">#define FREEZE_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00064">adpcmenc.c:64</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a35eaaad9da207aa4e63fa02fd67fae68"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a35eaaad9da207aa4e63fa02fd67fae68">AV_SAMPLE_FMT_S16P</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S16P</div><div class="ttdoc">signed 16 bits, planar</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00067">samplefmt.h:67</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a14a6ce0781ddb10c78a10f7373f9ff3d"><div class="ttname"><a href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a></div><div class="ttdeci">#define flag(name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00552">cbs_av1.c:552</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_channel_status_html"><div class="ttname"><a href="struct_a_d_p_c_m_channel_status.html">ADPCMChannelStatus</a></div><div class="ttdef"><b>Definition:</b> <a href="adpcm_8h_source.html#l00031">adpcm.h:31</a></div></div>
<div class="ttc" id="aadpcm__data_8c_html_aa70c665639c80a4d0222a1452d99b64b"><div class="ttname"><a href="adpcm__data_8c.html#aa70c665639c80a4d0222a1452d99b64b">ff_adpcm_AdaptCoeff1</a></div><div class="ttdeci">const uint8_t ff_adpcm_AdaptCoeff1[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcm__data_8c_source.html#l00090">adpcm_data.c:90</a></div></div>
<div class="ttc" id="aadpcm__data_8c_html_a22e6e54cb006606c498a298aa8dfff2d"><div class="ttname"><a href="adpcm__data_8c.html#a22e6e54cb006606c498a298aa8dfff2d">ff_adpcm_AdaptCoeff2</a></div><div class="ttdeci">const int8_t ff_adpcm_AdaptCoeff2[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcm__data_8c_source.html#l00095">adpcm_data.c:95</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_gaf9a51ca15301871723577c730b5865c5"><div class="ttname"><a href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></div><div class="ttdeci">AVSampleFormat</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00058">samplefmt.h:58</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_a1ee4a05b54419bfadd66ee351d05812e"><div class="ttname"><a href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a></div><div class="ttdeci">float delta</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00457">vorbis_enc_data.h:457</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a0a290f73334e982dc5f76e29da5fdd7a"><div class="ttname"><a href="adpcmenc_8c.html#a0a290f73334e982dc5f76e29da5fdd7a">TrellisPath</a></div><div class="ttdeci">struct TrellisPath TrellisPath</div></div>
<div class="ttc" id="aadpcmenc_8c_html_a337e09a018b170e667489987e39d7326"><div class="ttname"><a href="adpcmenc_8c.html#a337e09a018b170e667489987e39d7326">adpcm_ima_compress_sample</a></div><div class="ttdeci">static uint8_t adpcm_ima_compress_sample(ADPCMChannelStatus *c, int16_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00214">adpcmenc.c:214</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead21e0bd393237840798e02e292214a08"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead21e0bd393237840798e02e292214a08">AV_CODEC_ID_ADPCM_IMA_APM</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_IMA_APM</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00393">codec_id.h:393</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S16</div><div class="ttdoc">signed 16 bits</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00061">samplefmt.h:61</a></div></div>
<div class="ttc" id="astruct_put_bit_context_html"><div class="ttname"><a href="struct_put_bit_context.html">PutBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="put__bits_8h_source.html#l00051">put_bits.h:51</a></div></div>
<div class="ttc" id="aadpcm_8c_html_a005e1f4fc3d839f0882c5b4388a84848"><div class="ttname"><a href="adpcm_8c.html#a005e1f4fc3d839f0882c5b4388a84848">ff_adpcm_argo_expand_nibble</a></div><div class="ttdeci">int16_t ff_adpcm_argo_expand_nibble(ADPCMChannelStatus *cs, int nibble, int shift, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="adpcm_8c_source.html#l00696">adpcm.c:696</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a52c0357cad220673004fa35164242676"><div class="ttname"><a href="adpcmenc_8c.html#a52c0357cad220673004fa35164242676">adpcm_argo_compress_block</a></div><div class="ttdeci">static int64_t adpcm_argo_compress_block(ADPCMChannelStatus *cs, PutBitContext *pb, const int16_t *samples, int nsamples, int shift, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00539">adpcmenc.c:539</a></div></div>
<div class="ttc" id="aadpcm__data_8c_html_a3eb4f6f5fb6a44d356887350ac8bde21"><div class="ttname"><a href="adpcm__data_8c.html#a3eb4f6f5fb6a44d356887350ac8bde21">ff_adpcm_index_table</a></div><div class="ttdeci">const int8_t ff_adpcm_index_table[16]</div><div class="ttdef"><b>Definition:</b> <a href="adpcm__data_8c_source.html#l00040">adpcm_data.c:40</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_aab1ae2a7c0a7783ffd0f0472cf0b1571"><div class="ttname"><a href="adpcmenc_8c.html#aab1ae2a7c0a7783ffd0f0472cf0b1571">adpcm_encode_frame</a></div><div class="ttdeci">static int adpcm_encode_frame(AVCodecContext *avctx, AVPacket *avpkt, const AVFrame *frame, int *got_packet_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00566">adpcmenc.c:566</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00627">avcodec.h:627</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_af689aeaf2cc1c66fb586f597b7f165d9"><div class="ttname"><a href="adpcmenc_8c.html#af689aeaf2cc1c66fb586f597b7f165d9">sample_fmts_p</a></div><div class="ttdeci">static enum AVSampleFormat sample_fmts_p[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00566">adpcmenc.c:929</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a025940af0d5249418d6ac7e183fdd40f"><div class="ttname"><a href="struct_a_v_codec_context.html#a025940af0d5249418d6ac7e183fdd40f">AVCodecContext::trellis</a></div><div class="ttdeci">int trellis</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01475">avcodec.h:1475</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_encode_context_html_a43c0e363a6359b50bf58b583dd938e0e"><div class="ttname"><a href="struct_a_d_p_c_m_encode_context.html#a43c0e363a6359b50bf58b583dd938e0e">ADPCMEncodeContext::nodep_buf</a></div><div class="ttdeci">TrellisNode ** nodep_buf</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00060">adpcmenc.c:60</a></div></div>
<div class="ttc" id="aregdef_8h_html_aa4652e2d6053d420dcbea07a113db5fe"><div class="ttname"><a href="regdef_8h.html#aa4652e2d6053d420dcbea07a113db5fe">t2</a></div><div class="ttdeci">#define t2</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00030">regdef.h:30</a></div></div>
<div class="ttc" id="avf__colormatrix_8c_html_ae8d4eab3c8ab44f6b661de477e6ad87e"><div class="ttname"><a href="vf__colormatrix_8c.html#ae8d4eab3c8ab44f6b661de477e6ad87e">ima</a></div><div class="ttdeci">#define ima</div><div class="ttdef"><b>Definition:</b> <a href="vf__colormatrix_8c_source.html#l00110">vf_colormatrix.c:110</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5273a8cf73ef598d632c6eee1379d5ad"><div class="ttname"><a href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">AVCodecContext::bits_per_coded_sample</a></div><div class="ttdeci">int bits_per_coded_sample</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01750">avcodec.h:1750</a></div></div>
<div class="ttc" id="astruct_trellis_path_html_a72e67ddc96a960b7e5a4d6a973048e79"><div class="ttname"><a href="struct_trellis_path.html#a72e67ddc96a960b7e5a4d6a973048e79">TrellisPath::prev</a></div><div class="ttdeci">int prev</div><div class="ttdef"><b>Definition:</b> <a href="aaccoder_8c_source.html#l00190">aaccoder.c:190</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_trellis_path_html"><div class="ttname"><a href="struct_trellis_path.html">TrellisPath</a></div><div class="ttdef"><b>Definition:</b> <a href="aaccoder_8c_source.html#l00188">aaccoder.c:188</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="aadpcm__data_8c_html_aa8151f32b999f19feebab451e62c96ce"><div class="ttname"><a href="adpcm__data_8c.html#aa8151f32b999f19feebab451e62c96ce">ff_adpcm_yamaha_indexscale</a></div><div class="ttdeci">const int16_t ff_adpcm_yamaha_indexscale[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcm__data_8c_source.html#l00099">adpcm_data.c:99</a></div></div>
<div class="ttc" id="astruct_a_d_p_c_m_encode_context_html_abf645689e338452ccfddef248c0218c7"><div class="ttname"><a href="struct_a_d_p_c_m_encode_context.html#abf645689e338452ccfddef248c0218c7">ADPCMEncodeContext::status</a></div><div class="ttdeci">ADPCMChannelStatus status[6]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00057">adpcmenc.c:57</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ac53f7e33bdbd6ea3ec96ee0f1292ee84"><div class="ttname"><a href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio samples</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00008">filter_design.txt:8</a></div></div>
<div class="ttc" id="asonic_8c_html_aee201839e95f7edeff51ad9c8e072bda"><div class="ttname"><a href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a></div><div class="ttdeci">static int shift(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="sonic_8c_source.html#l00082">sonic.c:82</a></div></div>
<div class="ttc" id="aput__bits_8h_html_a6f7bba5ea37c63f99b266928759fe6f6"><div class="ttname"><a href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a></div><div class="ttdeci">static void flush_put_bits(PutBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="put__bits_8h_source.html#l00117">put_bits.h:117</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf48c41882152ce6d7964e8c338cffb9d"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf48c41882152ce6d7964e8c338cffb9d">AV_CODEC_ID_ADPCM_IMA_SSI</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_IMA_SSI</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00391">codec_id.h:391</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a5f8b8ea07a5e5783565b9264dcb65726"><div class="ttname"><a href="adpcmenc_8c.html#a5f8b8ea07a5e5783565b9264dcb65726">adpcm_encode_init</a></div><div class="ttdeci">static av_cold int adpcm_encode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00066">adpcmenc.c:66</a></div></div>
<div class="ttc" id="avf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00136">vf_palettegen.c:136</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="amacros_8h_html_acae4ba605b3a7d535b7ac058ffe96892"><div class="ttname"><a href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a></div><div class="ttdeci">#define FFALIGN(x, a)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00048">macros.h:48</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a2c129b8483c96247bf1e28185a078b6b"><div class="ttname"><a href="adpcmenc_8c.html#a2c129b8483c96247bf1e28185a078b6b">adpcm_argo_compress_nibble</a></div><div class="ttdeci">static int adpcm_argo_compress_nibble(const ADPCMChannelStatus *cs, int16_t s, int shift, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00526">adpcmenc.c:526</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceadad7dc9e33bcb7b38d886ad11ac788b7"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadad7dc9e33bcb7b38d886ad11ac788b7">AV_CODEC_ID_ADPCM_IMA_WAV</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_IMA_WAV</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00348">codec_id.h:348</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a5d3bcdc9ba59672eec4ecfff06d28a93"><div class="ttname"><a href="adpcmenc_8c.html#a5d3bcdc9ba59672eec4ecfff06d28a93">adpcm_ima_qt_compress_sample</a></div><div class="ttdeci">static uint8_t adpcm_ima_qt_compress_sample(ADPCMChannelStatus *c, int16_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00246">adpcmenc.c:246</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6e606effa68724cae2ef5cc05f7fd9cb"><div class="ttname"><a href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">AVCodecContext::codec</a></div><div class="ttdeci">const struct AVCodec * codec</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:535</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaded181844ec3ab19897704086dc2ee03"><div class="ttname"><a href="group__lavc__core.html#gaded181844ec3ab19897704086dc2ee03">AV_CODEC_CAP_SMALL_LAST_FRAME</a></div><div class="ttdeci">#define AV_CODEC_CAP_SMALL_LAST_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00080">codec.h:80</a></div></div>
<div class="ttc" id="aencode_8c_html_a699df1216e8d9d57959f99508e9aadf6"><div class="ttname"><a href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a></div><div class="ttdeci">int ff_alloc_packet2(AVCodecContext *avctx, AVPacket *avpkt, int64_t size, int64_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="encode_8c_source.html#l00033">encode.c:33</a></div></div>
<div class="ttc" id="aput__bits_8h_html"><div class="ttname"><a href="put__bits_8h.html">put_bits.h</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_ad68dfe67b27a9ac44f682198f9d45d31"><div class="ttname"><a href="adpcmenc_8c.html#ad68dfe67b27a9ac44f682198f9d45d31">adpcm_ms_compress_sample</a></div><div class="ttdeci">static uint8_t adpcm_ms_compress_sample(ADPCMChannelStatus *c, int16_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00283">adpcmenc.c:283</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_ac97bced3804c7aabe0636256326adc9d"><div class="ttname"><a href="adpcmenc_8c.html#ac97bced3804c7aabe0636256326adc9d">adpcm_encode_close</a></div><div class="ttdeci">static av_cold int adpcm_encode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00202">adpcmenc.c:202</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01186">avcodec.h:1186</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
