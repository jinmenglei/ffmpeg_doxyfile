<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/mpeg4videodec.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mpeg4videodec.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mpeg4videodec_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * MPEG-4 decoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2000,2001 Fabrice Bellard</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2002-2010 Michael Niedermayer &lt;michaelni@gmx.at&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#aacb464290bb27b2794d11b8cbbd066db">   23</a></span>&#160;<span class="preprocessor">#define UNCHECKED_BITSTREAM_READER 1</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="error__resilience_8h.html">error_resilience.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hwconfig_8h.html">hwconfig.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="x86_2idctdsp_8h.html">idctdsp.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegutils_8h.html">mpegutils.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegvideo_8h.html">mpegvideo.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegvideodata_8h.html">mpegvideodata.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpeg4video_8h.html">mpeg4video.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="h263_8h.html">h263.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="profiles_8h.html">profiles.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2thread_8h.html">thread.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="xvididct_8h.html">xvididct.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="unary_8h.html">unary.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/* The defines below define the number of bits that are read at once for</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * reading vlc values. Changing these may improve speed and data cache needs</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * be aware though that decreasing them may need the number of stages that is</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * passed to get_vlc* to be increased. */</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#aa0af12973226136f08c1e6abc20d53a2">   46</a></span>&#160;<span class="preprocessor">#define SPRITE_TRAJ_VLC_BITS 6</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ab33094be20c26cf567aa5c10ef1fa45d">   47</a></span>&#160;<span class="preprocessor">#define DC_VLC_BITS 9</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a63fb043f96b635aae323804b35b37190">   48</a></span>&#160;<span class="preprocessor">#define MB_TYPE_B_VLC_BITS 4</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">   49</a></span>&#160;<span class="preprocessor">#define STUDIO_INTRA_BITS 9</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#aac509e38ceb4db9bea02bdddadfdd863">decode_studio_vol_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a70d6d6545bea2a3b6d6d90300fc5b9fa">   53</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_v_l_c.html">VLC</a> <a class="code" href="mpeg4videodec_8c.html#a70d6d6545bea2a3b6d6d90300fc5b9fa">dc_lum</a>, <a class="code" href="mpeg4videodec_8c.html#abc93af2f34d185ba3868418f9bbf0e17">dc_chrom</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a750b43fe0c45c023226c7269fd9902f2">   54</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_v_l_c.html">VLC</a> <a class="code" href="mpeg4videodec_8c.html#a750b43fe0c45c023226c7269fd9902f2">sprite_trajectory</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a587f0f5a11309aaf7ae78b223502e059">   55</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_v_l_c.html">VLC</a> <a class="code" href="mpeg4videodec_8c.html#a587f0f5a11309aaf7ae78b223502e059">mb_type_b_vlc</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ab551d6d695d998a36b134a6b58e878c2">   57</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#ab551d6d695d998a36b134a6b58e878c2">mb_type_b_map</a>[4] = {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="mpegutils_8h.html#a965a4fc680cb580e5d4a862e0858c6a7">MB_TYPE_DIRECT2</a> | <a class="code" href="mpegutils_8h.html#a96214067cb851c0ca98729ab22f4ef02">MB_TYPE_L0L1</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="mpegutils_8h.html#a96214067cb851c0ca98729ab22f4ef02">MB_TYPE_L0L1</a>    | <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="mpegutils_8h.html#a6b0d689689b4b746ec3349cd10f9eda1">MB_TYPE_L1</a>      | <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>      | <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;};</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ad641cc841c04b174b9d5f891ef305ab5">   69</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="mpeg4videodec_8c.html#ad641cc841c04b174b9d5f891ef305ab5">ff_mpeg4_pred_ac</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> dir)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    int16_t *ac_val, *ac_val1;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    int8_t *<span class="keyword">const</span> qscale_table = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.qscale_table;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">/* find prediction */</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    ac_val  = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_val[0][0][0] + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_index[n] * 16;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    ac_val1 = ac_val;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_pred) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> (dir == 0) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> xy = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x - 1 + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="comment">/* left prediction */</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            ac_val -= 16;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x == 0 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale == qscale_table[xy] ||</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                n == 1 || n == 3) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <span class="comment">/* same qscale */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; 3]] += ac_val[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="comment">/* different qscale, we must rescale */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; 3]] += <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(ac_val[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * qscale_table[xy], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> xy = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="comment">/* top prediction */</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            ac_val -= 16 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_wrap[n];</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y == 0 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale == qscale_table[xy] ||</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                n == 2 || n == 3) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="comment">/* same qscale */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] += ac_val[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 8];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="comment">/* different qscale, we must rescale */</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] += <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(ac_val[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 8] * qscale_table[xy], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">/* left copy */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        ac_val1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; 3]];</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">/* top copy */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        ac_val1[8 + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#af35b75103f314cd41db1d8e1799585c9">  124</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#af35b75103f314cd41db1d8e1799585c9">mpeg4_is_resync</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">int</span> bits_count = <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">int</span> v          = <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 16);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs &amp; <a class="code" href="avcodec_8h.html#aee63f56558e89c35a7d6747b476ef1e2">FF_BUG_NO_PADDING</a> &amp;&amp; !<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;resync_marker)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">while</span> (v &lt;= 0xFF) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a> ||</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            (v &gt;&gt; (8 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type) != 1) || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;partitioned_frame)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8 + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        bits_count += 8 + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        v = <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 16);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (bits_count + 8 &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb.size_in_bits) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        v &gt;&gt;= 8;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        v  |= 0x7F &gt;&gt; (7 - (bits_count &amp; 7));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (v == 0x7F)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span> (v == <a class="code" href="mpeg4data_8h.html#a633dc7707bdc1212db671cf641864b13">ff_mpeg4_resync_prefix</a>[bits_count &amp; 7]) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, mb_num;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordtype">int</span> mb_num_bits = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num - 1) + 1;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="get__bits_8h.html#ade604fdf49709e1ae3e4781d4b878f6d">align_get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 0; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 32; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>++)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            mb_num = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, mb_num_bits);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span> (!mb_num || mb_num &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num || <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)+6 &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb.size_in_bits)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                mb_num= -1;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb = gb;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt;= <a class="code" href="mpeg4video_8c.html#a1dd5fe6e9139824e3b536c3c545f38ba">ff_mpeg4_get_video_packet_prefix_length</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keywordflow">return</span> mb_num;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a011aa6d263234112bd9b698f0dd2464a">  174</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a011aa6d263234112bd9b698f0dd2464a">mpeg4_decode_sprite_trajectory</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>     = 2 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_warping_accuracy;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">int</span> rho   = 3  - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_warping_accuracy;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>     = 16 / <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = 1;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">int</span> beta  = 0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">int</span> min_ab, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, w2, h2, w3, h3;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">int</span> sprite_ref[4][2];</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordtype">int</span> virtual_ref[2][2];</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    int64_t sprite_offset[2][2];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    int64_t sprite_delta[2][2];</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// only true for rectangle shapes</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> vop_ref[4][2] = { { 0, 0 },         { <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, 0 },</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                { 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height }, { <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height } };</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">int</span> d[4][2]             = { { 0, 0 }, { 0, 0 }, { 0, 0 }, { 0, 0 } };</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> &lt;= 0 || <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> &lt;= 0)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">/* the decoder was not properly initialized and we cannot continue */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#a750b43fe0c45c023226c7269fd9902f2">sprite_trajectory</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a> == <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordtype">int</span> length;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordtype">int</span> x = 0, y = 0;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        length = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="mpeg4videodec_8c.html#a750b43fe0c45c023226c7269fd9902f2">sprite_trajectory</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="mpeg4videodec_8c.html#aa0af12973226136f08c1e6abc20d53a2">SPRITE_TRAJ_VLC_BITS</a>, 2);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> (length &gt; 0)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            x = <a class="code" href="get__bits_8h.html#afaf79b13b986df97fdbb5c3fdd71457b">get_xbits</a>(gb, length);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version == 500 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build == 413))</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before sprite_trajectory&quot;</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        length = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="mpeg4videodec_8c.html#a750b43fe0c45c023226c7269fd9902f2">sprite_trajectory</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="mpeg4videodec_8c.html#aa0af12973226136f08c1e6abc20d53a2">SPRITE_TRAJ_VLC_BITS</a>, 2);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (length &gt; 0)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            y = <a class="code" href="get__bits_8h.html#afaf79b13b986df97fdbb5c3fdd71457b">get_xbits</a>(gb, length);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after sprite_trajectory&quot;</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_traj[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = d[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = x;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_traj[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = d[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = y;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_traj[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_traj[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    while ((1 &lt;&lt; <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>) &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>++;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">while</span> ((1 &lt;&lt; beta) &lt; <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        beta++;  <span class="comment">/* typo in the MPEG-4 std for the definition of w&#39; and h&#39; */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    w2 = 1 &lt;&lt; <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    h2 = 1 &lt;&lt; beta;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// Note, the 4th point isn&#39;t used for GMC</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version == 500 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build == 413) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        sprite_ref[0][0] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[0][0] + d[0][0];</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        sprite_ref[0][1] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[0][1] + d[0][1];</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        sprite_ref[1][0] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[1][0] + d[0][0] + d[1][0];</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        sprite_ref[1][1] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[1][1] + d[0][1] + d[1][1];</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        sprite_ref[2][0] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[2][0] + d[0][0] + d[2][0];</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        sprite_ref[2][1] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[2][1] + d[0][1] + d[2][1];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        sprite_ref[0][0] = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt;&gt; 1) * (2 * vop_ref[0][0] + d[0][0]);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        sprite_ref[0][1] = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt;&gt; 1) * (2 * vop_ref[0][1] + d[0][1]);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        sprite_ref[1][0] = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt;&gt; 1) * (2 * vop_ref[1][0] + d[0][0] + d[1][0]);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        sprite_ref[1][1] = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt;&gt; 1) * (2 * vop_ref[1][1] + d[0][1] + d[1][1]);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        sprite_ref[2][0] = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt;&gt; 1) * (2 * vop_ref[2][0] + d[0][0] + d[2][0]);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        sprite_ref[2][1] = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt;&gt; 1) * (2 * vop_ref[2][1] + d[0][1] + d[2][1]);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">/* sprite_ref[3][0] = (a &gt;&gt; 1) * (2 * vop_ref[3][0] + d[0][0] + d[1][0] + d[2][0] + d[3][0]);</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">     * sprite_ref[3][1] = (a &gt;&gt; 1) * (2 * vop_ref[3][1] + d[0][1] + d[1][1] + d[2][1] + d[3][1]); */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">/* This is mostly identical to the MPEG-4 std (and is totally unreadable</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">     * because of that...). Perhaps it should be reordered to be more readable.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">     * The idea behind this virtual_ref mess is to be able to use shifts later</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">     * per pixel instead of divides so the distance between points is converted</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">     * from w&amp;h based to w2&amp;h2 based which are of the 2^x form. */</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    virtual_ref[0][0] = 16 * (vop_ref[0][0] + w2) +</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                         <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(((<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> - w2) *</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                           (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] - 16LL * vop_ref[0][0]) +</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                      w2 * (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[1][0] - 16LL * vop_ref[1][0])), <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    virtual_ref[0][1] = 16 * vop_ref[0][1] +</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(((<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> - w2) *</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                          (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] - 16LL * vop_ref[0][1]) +</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                     w2 * (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[1][1] - 16LL * vop_ref[1][1])), <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    virtual_ref[1][0] = 16 * vop_ref[0][0] +</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(((<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> - h2) * (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] - 16LL * vop_ref[0][0]) +</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                           h2 * (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[2][0] - 16LL * vop_ref[2][0])), <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    virtual_ref[1][1] = 16 * (vop_ref[0][1] + h2) +</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(((<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> - h2) * (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] - 16LL * vop_ref[0][1]) +</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                           h2 * (<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[2][1] - 16LL * vop_ref[2][1])), <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        sprite_offset[0][0]    =</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        sprite_offset[0][1]    =</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        sprite_offset[1][0]    =</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        sprite_offset[1][1]    = 0;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        sprite_delta[0][0]     = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        sprite_delta[0][1]     =</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        sprite_delta[1][0]     = 0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        sprite_delta[1][1]     = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0]   =</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1]   = 0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">case</span> 1:     <span class="comment">// GMC only</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        sprite_offset[0][0]    = sprite_ref[0][0] - <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[0][0];</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        sprite_offset[0][1]    = sprite_ref[0][1] - <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * vop_ref[0][1];</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        sprite_offset[1][0]    = ((sprite_ref[0][0] &gt;&gt; 1) | (sprite_ref[0][0] &amp; 1)) -</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                                 <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * (vop_ref[0][0] / 2);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        sprite_offset[1][1]    = ((sprite_ref[0][1] &gt;&gt; 1) | (sprite_ref[0][1] &amp; 1)) -</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                 <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * (vop_ref[0][1] / 2);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        sprite_delta[0][0]     = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        sprite_delta[0][1]     =</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        sprite_delta[1][0]     = 0;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        sprite_delta[1][1]     = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0]   =</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1]   = 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        sprite_offset[0][0]    = ((int64_t)      sprite_ref[0][0] * (1 &lt;&lt; <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho)) +</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                 ((int64_t) -<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]) *</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                 ((int64_t)        -vop_ref[0][0]) +</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                 ((int64_t)  <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] - virtual_ref[0][1]) *</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                 ((int64_t)        -vop_ref[0][1]) + (1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho - 1));</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        sprite_offset[0][1]    = ((int64_t)      sprite_ref[0][1] * (1 &lt;&lt; <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho)) +</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                 ((int64_t) -<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] + virtual_ref[0][1]) *</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                 ((int64_t)        -vop_ref[0][0]) +</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                                 ((int64_t) -<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]) *</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                 ((int64_t)        -vop_ref[0][1]) + (1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho - 1));</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        sprite_offset[1][0]    = (((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]) *</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                  ((int64_t)-2 *    vop_ref[0][0] + 1) +</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                  ((int64_t) <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] - virtual_ref[0][1]) *</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                  ((int64_t)-2 *    vop_ref[0][1] + 1) + 2 * w2 * <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> *</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                   (int64_t)     sprite_ref[0][0] - 16 * w2 + (1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho + 1)));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        sprite_offset[1][1]    = (((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] + virtual_ref[0][1]) *</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                  ((int64_t)-2 *    vop_ref[0][0] + 1) +</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                  ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]) *</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                  ((int64_t)-2 *    vop_ref[0][1] + 1) + 2 * w2 * <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> *</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                  (int64_t)      sprite_ref[0][1] - 16 * w2 + (1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho + 1)));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        sprite_delta[0][0] = (-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        sprite_delta[0][1] = (+<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] - virtual_ref[0][1]);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        sprite_delta[1][0] = (-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] + virtual_ref[0][1]);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        sprite_delta[1][1] = (-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0]  = <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1]  = <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + rho + 2;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        min_ab = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>, beta);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        w3     = w2 &gt;&gt; min_ab;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        h3     = h2 &gt;&gt; min_ab;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        sprite_offset[0][0]    = ((int64_t)sprite_ref[0][0] * (1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab))) +</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                 ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]) * h3 * (-vop_ref[0][0]) +</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                 ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[1][0]) * w3 * (-vop_ref[0][1]) +</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                 ((int64_t)1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab - 1));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        sprite_offset[0][1]    = ((int64_t)sprite_ref[0][1] * (1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab))) +</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                 ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] + virtual_ref[0][1]) * h3 * (-vop_ref[0][0]) +</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                 ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] + virtual_ref[1][1]) * w3 * (-vop_ref[0][1]) +</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                 ((int64_t)1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab - 1));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        sprite_offset[1][0]    = ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[0][0]) * h3 * (-2 * vop_ref[0][0] + 1) +</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                 ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] + virtual_ref[1][0]) * w3 * (-2 * vop_ref[0][1] + 1) +</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                  (int64_t)2 * w2 * h3 * <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][0] - 16 * w2 * h3 +</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                 ((int64_t)1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab + 1));</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        sprite_offset[1][1]    = ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] + virtual_ref[0][1]) * h3 * (-2 * vop_ref[0][0] + 1) +</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                 ((int64_t)-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] + virtual_ref[1][1]) * w3 * (-2 * vop_ref[0][1] + 1) +</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                  (int64_t)2 * w2 * h3 * <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * sprite_ref[0][1] - 16 * w2 * h3 +</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                 ((int64_t)1 &lt;&lt; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab + 1));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        sprite_delta[0][0] = (-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * (int64_t)sprite_ref[0][0] + virtual_ref[0][0]) * h3;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        sprite_delta[0][1] = (-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * (int64_t)sprite_ref[0][0] + virtual_ref[1][0]) * w3;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        sprite_delta[1][0] = (-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * (int64_t)sprite_ref[0][1] + virtual_ref[0][1]) * h3;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        sprite_delta[1][1] = (-<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> * (int64_t)sprite_ref[0][1] + virtual_ref[1][1]) * w3;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0]  = <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1]  = <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> + beta + rho - min_ab + 2;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">/* try to simplify the situation */</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (sprite_delta[0][0] == <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;&lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0] &amp;&amp;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        sprite_delta[0][1] == 0 &amp;&amp;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        sprite_delta[1][0] == 0 &amp;&amp;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        sprite_delta[1][1] == <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;&lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0]) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        sprite_offset[0][0] &gt;&gt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0];</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        sprite_offset[0][1] &gt;&gt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0];</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        sprite_offset[1][0] &gt;&gt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1];</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        sprite_offset[1][1] &gt;&gt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1];</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        sprite_delta[0][0] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        sprite_delta[0][1] = 0;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        sprite_delta[1][0] = 0;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        sprite_delta[1][1] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0] = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1] = 0;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;real_sprite_warping_points = 1;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordtype">int</span> shift_y = 16 - <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0];</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordtype">int</span> shift_c = 16 - <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[1];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">if</span> (shift_c &lt; 0 || shift_y &lt; 0 ||</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(  sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &gt;= INT_MAX &gt;&gt; shift_y  ||</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(  sprite_offset[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &gt;= INT_MAX &gt;&gt; shift_c  ||</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(   sprite_delta[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &gt;= INT_MAX &gt;&gt; shift_y  ||</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(   sprite_delta[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &gt;= INT_MAX &gt;&gt; shift_y</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            ) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Too large sprite shift, delta or offset&quot;</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    *= 1 &lt;&lt; shift_y;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            sprite_offset[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    *= 1 &lt;&lt; shift_c;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            sprite_delta[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]     *= 1 &lt;&lt; shift_y;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            sprite_delta[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]     *= 1 &lt;&lt; shift_y;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]     = 16;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            int64_t sd[2] = {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] - <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * (1LL&lt;&lt;16),</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] - <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * (1LL&lt;&lt;16)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            };</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (llabs(sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] * (<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>+16LL)) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                llabs(sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] * (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>+16LL)) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                llabs(sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] * (<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>+16LL) + sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] * (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>+16LL)) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                llabs(sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] * (<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>+16LL)) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                llabs(sprite_delta[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] * (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>+16LL)) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                llabs(sd[0]) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                llabs(sd[1]) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                llabs(sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + sd[0] * (<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>+16LL)) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                llabs(sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + sd[1] * (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>+16LL)) &gt;= INT_MAX ||</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                llabs(sprite_offset[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + sd[0] * (<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>+16LL) + sd[1] * (<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>+16LL)) &gt;= INT_MAX</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            ) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Overflow on sprite points&quot;</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;real_sprite_warping_points = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;&gt;1] = sprite_offset[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;&gt;1];</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_delta [<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;&gt;1] = sprite_delta [<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;&gt;1];</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>:</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_delta, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_delta));</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a3b1a66dc9d0f83123067b88d7428408f">  431</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a3b1a66dc9d0f83123067b88d7428408f">decode_new_pred</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits + 3, 15);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after new_pred&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#adcc4ae3676a8b85c86f542fc66cd80fd">  447</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#adcc4ae3676a8b85c86f542fc66cd80fd">ff_mpeg4_decode_video_packet_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordtype">int</span> mb_num_bits      = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num - 1) + 1;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordtype">int</span> header_extension = 0, mb_num, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">/* is there enough space left for a video packet + header */</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb.size_in_bits - 20)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 0; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &lt; 32; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>++)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> != <a class="code" href="mpeg4video_8c.html#a1dd5fe6e9139824e3b536c3c545f38ba">ff_mpeg4_get_video_packet_prefix_length</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;marker does not match f_code\n&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a>) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        header_extension = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">// FIXME more stuff here</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    mb_num = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, mb_num_bits);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (mb_num &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num || !mb_num) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;               <span class="stringliteral">&quot;illegal mb_num in video packet (%d %d) \n&quot;</span>, mb_num, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x = mb_num % <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y = mb_num / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordtype">int</span> qscale = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> (qscale)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_qscale = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale = qscale;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape == <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a>)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        header_extension = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (header_extension) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordtype">int</span> time_incr = 0;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) != 0)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            time_incr++;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <span class="stringliteral">&quot;before time_increment in video packed header&quot;</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits);      <span class="comment">/* time_increment */</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <span class="stringliteral">&quot;before vop_coding_type in video packed header&quot;</span>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2); <span class="comment">/* vop coding type */</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">// FIXME not rect stuff here</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3); <span class="comment">/* intra dc vlc threshold */</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="comment">// FIXME don&#39;t just ignore everything</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a> &amp;&amp;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#a011aa6d263234112bd9b698f0dd2464a">mpeg4_decode_sprite_trajectory</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 0)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;untested\n&quot;</span>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="comment">// FIXME reduced res stuff here</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <span class="keywordtype">int</span> f_code = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3);       <span class="comment">/* fcode_for */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordflow">if</span> (f_code == 0)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                           <span class="stringliteral">&quot;Error, video packet header damaged (f_code=0)\n&quot;</span>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <span class="keywordtype">int</span> b_code = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <span class="keywordflow">if</span> (b_code == 0)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                           <span class="stringliteral">&quot;Error, video packet header damaged (b_code=0)\n&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;new_pred)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#a3b1a66dc9d0f83123067b88d7428408f">decode_new_pred</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a03e4867226bd9b398bd37d5aac2d6663">  536</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="mpeg4videodec_8c.html#a03e4867226bd9b398bd37d5aac2d6663">reset_studio_dc_predictors</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;{</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">/* Reset DC Predictors */</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_dc[0] =</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_dc[1] =</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_dc[2] = 1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dct_precision + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_dc_precision - 1);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a6be4751a554e022b4ed1dba36df3d379">  548</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a6be4751a554e022b4ed1dba36df3d379">ff_mpeg4_decode_studio_slice_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordtype">unsigned</span> vlc_len;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    uint16_t mb_num;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 32 &amp;&amp; <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32) == <a class="code" href="mpegvideo_8h.html#a764cb845b466bc4b4851d0c3a519c68f">SLICE_START_CODE</a>) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        vlc_len = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height) + 1;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        mb_num = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, vlc_len);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> (mb_num &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x = mb_num % <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y = mb_num / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale = <a class="code" href="mpegvideo_8h.html#a9dfe33654c94b69cdad9d09fe783bb58">mpeg_get_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {  <span class="comment">/* slice_extension_flag */</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);   <span class="comment">/* intra_slice */</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);   <span class="comment">/* slice_VOP_id_enable */</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 6); <span class="comment">/* slice_VOP_id */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) <span class="comment">/* extra_bit_slice */</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 8); <span class="comment">/* extra_information_slice */</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#a03e4867226bd9b398bd37d5aac2d6663">reset_studio_dc_predictors</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">  590</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">int</span> x, y, mb_v, sum, dx, dy, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>     = 1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code + 4);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_warping_accuracy;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs &amp; <a class="code" href="avcodec_8h.html#a602672eb5406d3cfafb16a9eccf90632">FF_BUG_AMV</a>)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt;&gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;real_sprite_warping_points == 1) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version == 500 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build == 413 &amp;&amp; <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            sum = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset[0][n] / (1 &lt;&lt; (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample));</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            sum = <a class="code" href="common_8h.html#aa79ca71ef110a498d8275cbf7aa75a93">RSHIFT</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset[0][n] * (1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample), <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        dx    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_delta[n][0];</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        dy    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_delta[n][1];</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_shift[0];</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span> (n)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            dy -= 1 &lt;&lt; (<a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> + <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> + 1);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            dx -= 1 &lt;&lt; (<a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> + <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> + 1);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        mb_v = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset[0][n] + dx * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x * 16<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> + dy * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * 16<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        sum = 0;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; 16; y++) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="keywordtype">int</span> v;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            v = mb_v + dy * y;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="comment">// FIXME optimize</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; 16; x++) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                sum += v &gt;&gt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                v   += dx;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        sum = <a class="code" href="common_8h.html#aa79ca71ef110a498d8275cbf7aa75a93">RSHIFT</a>(sum, <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> + 8 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">if</span> (sum &lt; -<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        sum = -<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sum &gt;= <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        sum = <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> - 1;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a36adbe09b143b13a7e56e7e2208e4fb7">  643</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a36adbe09b143b13a7e56e7e2208e4fb7">mpeg4_decode_dc</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> *dir_ptr)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;{</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span> (n &lt; 4)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="mpeg4videodec_8c.html#a70d6d6545bea2a3b6d6d90300fc5b9fa">dc_lum</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="mpeg4videodec_8c.html#ab33094be20c26cf567aa5c10ef1fa45d">DC_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="mpeg4videodec_8c.html#abc93af2f34d185ba3868418f9bbf0e17">dc_chrom</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="mpeg4videodec_8c.html#ab33094be20c26cf567aa5c10ef1fa45d">DC_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (code &lt; 0 || code &gt; 9 <span class="comment">/* &amp;&amp; s-&gt;nbit &lt; 9 */</span>) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal dc vlc\n&quot;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> == 0) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = 0;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mpeg4video_8h.html#a3a7182ca5f1fbabf6bd6d09af2ae6a75">IS_3IV1</a>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> == 1)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = 2 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) - 1;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> - 1) + (1 &lt;&lt; (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> - 1));</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = -<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> - 1) - (1 &lt;&lt; (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> - 1));</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="get__bits_8h.html#afaf79b13b986df97fdbb5c3fdd71457b">get_xbits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &gt; 8) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) == 0) { <span class="comment">/* marker */</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; (<a class="code" href="avcodec_8h.html#a15a968c7590acfe5134b386e275db94b">AV_EF_BITSTREAM</a>|<a class="code" href="avcodec_8h.html#a42a5fa4b77207e981ca78755e2ac77f1">AV_EF_COMPLIANT</a>)) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;dc marker bit missing\n&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mpeg4video_8h.html#adbb5c618d2613d46f1e4de7f7e7678ac">ff_mpeg4_pred_dc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, n, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, dir_ptr, 0);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a4156d72928ad2c38de5a06b8d78a8f28">  690</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a4156d72928ad2c38de5a06b8d78a8f28">mpeg4_decode_partition_a</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordtype">int</span> mb_num = 0;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> int8_t quant_tab[4] = { -1, -2, 1, 2 };</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">/* decode first partition */</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;first_slice_line = 1;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y++) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <a class="code" href="mpegvideo_8c.html#aacc157a9c60b68759feb756119f62255">ff_init_block_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">for</span> (; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x++) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> xy = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            <span class="keywordtype">int</span> cbpc;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordtype">int</span> dir = 0;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            mb_num++;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <a class="code" href="mpegvideo_8h.html#af5e83f0b7b97c4be5b8d8aa2c71f8b42">ff_update_block_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y + 1)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;first_slice_line = 0;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 19) == <a class="code" href="mpeg4video_8h.html#a841dc876c471abcf1ffe238aff129db4">DC_MARKER</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                        <span class="keywordflow">return</span> mb_num - 1;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    cbpc = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a353fab20c5d1f84fe8576247b0f8a872">ff_h263_intra_MCBPC_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#a9b4f1e24e4bbfeceb7a0d1b91ef10f75">INTRA_MCBPC_VLC_BITS</a>, 2);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    <span class="keywordflow">if</span> (cbpc &lt; 0) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                               <span class="stringliteral">&quot;mcbpc corrupted at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                } <span class="keywordflow">while</span> (cbpc == 8);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy]               = cbpc &amp; 3;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a79511082069c453cfab90fe2efd2463c">MB_TYPE_INTRA</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra                    = 1;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <span class="keywordflow">if</span> (cbpc &amp; 4)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    <a class="code" href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale + quant_tab[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2)]);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.qscale_table[xy] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mbintra_table[xy] = 1;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                    <span class="keywordtype">int</span> dc_pred_dir;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a> = <a class="code" href="mpeg4videodec_8c.html#a36adbe09b143b13a7e56e7e2208e4fb7">mpeg4_decode_dc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, &amp;dc_pred_dir);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a> &lt; 0) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                               <span class="stringliteral">&quot;DC corrupted at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                    dir &lt;&lt;= 1;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    <span class="keywordflow">if</span> (dc_pred_dir)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                        dir |= 1;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pred_dir_table[xy] = dir;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            } <span class="keywordflow">else</span> { <span class="comment">/* P/S_TYPE */</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="keywordtype">int</span> mx, my, pred_x, pred_y, <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                int16_t *<span class="keyword">const</span> mot_val = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.motion_val[0][<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_index[0]];</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b8_stride * 2;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;try_again:</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 17);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> == <a class="code" href="mpeg4video_8h.html#a8ad2309ae2bad5dba54b91305937851d">MOTION_MARKER</a>)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    <span class="keywordflow">return</span> mb_num - 1;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> &amp; 0x10000) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    <span class="comment">/* skip mb */</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a> &amp;&amp;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a688562b0eee1a11bb18e6c76d1aa16ad">MB_TYPE_SKIP</a>  |</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                                         <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                                         <a class="code" href="mpegutils_8h.html#a1ee519ce8a0e364d1c806250c862116e">MB_TYPE_GMC</a>   |</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                                         <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                        mx = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 0);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                        my = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 1);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a688562b0eee1a11bb18e6c76d1aa16ad">MB_TYPE_SKIP</a>  |</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                                         <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                                                         <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                        mx = my = 0;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    mot_val[0]          =</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    mot_val[2]          =</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    mot_val[0 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] =</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    mot_val[2 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] = mx;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    mot_val[1]          =</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    mot_val[3]          =</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    mot_val[1 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] =</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    mot_val[3 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] = my;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mbintra_table[xy])</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                        <a class="code" href="mpegvideo_8c.html#ace27aa33308c471a3e8fc18e0454fd83">ff_clean_intra_table_entries</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                cbpc = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a74a74b9a3cc99bd934b92d2e86ecf8bf">ff_h263_inter_MCBPC_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#ade4c84da79d6068f249d0cf68b86c8ca">INTER_MCBPC_VLC_BITS</a>, 2);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <span class="keywordflow">if</span> (cbpc &lt; 0) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                           <span class="stringliteral">&quot;mcbpc corrupted at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <span class="keywordflow">if</span> (cbpc == 20)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    <span class="keywordflow">goto</span> try_again;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy] = cbpc &amp; (8 + 3);  <span class="comment">// 8 is dquant</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = ((cbpc &amp; 4) != 0);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a79511082069c453cfab90fe2efd2463c">MB_TYPE_INTRA</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mbintra_table[xy] = 1;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                    mot_val[0]          =</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    mot_val[2]          =</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                    mot_val[0 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] =</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    mot_val[2 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] = 0;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    mot_val[1]          =</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    mot_val[3]          =</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                    mot_val[1 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] =</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                    mot_val[3 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] = 0;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mbintra_table[xy])</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                        <a class="code" href="mpegvideo_8c.html#ace27aa33308c471a3e8fc18e0454fd83">ff_clean_intra_table_entries</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a> &amp;&amp;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a> &amp;&amp;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                        (cbpc &amp; 16) == 0)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel = 0;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    <span class="keywordflow">if</span> ((cbpc &amp; 16) == 0) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                        <span class="comment">/* 16x16 motion prediction */</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                        <a class="code" href="h263_8c.html#ad423361ec4e37dba11b3af1737f12357">ff_h263_pred_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 0, &amp;pred_x, &amp;pred_y);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                            mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                            <span class="keywordflow">if</span> (mx &gt;= 0xffff)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                            my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                            <span class="keywordflow">if</span> (my &gt;= 0xffff)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                                                             <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                            mx = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 0);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                            my = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 1);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                                                             <a class="code" href="mpegutils_8h.html#a1ee519ce8a0e364d1c806250c862116e">MB_TYPE_GMC</a>   |</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                                             <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                        }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                        mot_val[0]          =</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                        mot_val[2]          =</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                        mot_val[0 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] =</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                        mot_val[2 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] = mx;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                        mot_val[1]          =</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                        mot_val[3]          =</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                        mot_val[1 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] =</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                        mot_val[3 + <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>] = my;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a163ba4b015c25de7b8dc2132b763cfa3">MB_TYPE_8x8</a> |</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                                         <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                            int16_t *mot_val = <a class="code" href="h263_8c.html#ad423361ec4e37dba11b3af1737f12357">ff_h263_pred_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0, &amp;pred_x, &amp;pred_y);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                            mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                            <span class="keywordflow">if</span> (mx &gt;= 0xffff)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                            my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                            <span class="keywordflow">if</span> (my &gt;= 0xffff)</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                            mot_val[0] = mx;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                            mot_val[1] = my;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                        }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x = 0;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">return</span> mb_num;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#aa9d0f5090bf27c140f09668398518b2e">  884</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#aa9d0f5090bf27c140f09668398518b2e">mpeg4_decode_partition_b</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> mb_count)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;{</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordtype">int</span> mb_num = 0;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> int8_t quant_tab[4] = { -1, -2, 1, 2 };</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;first_slice_line = 1;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y; mb_num &lt; mb_count; s-&gt;mb_y++) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="mpegvideo_8c.html#aacc157a9c60b68759feb756119f62255">ff_init_block_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">for</span> (; mb_num &lt; mb_count &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x++) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> xy = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            mb_num++;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="mpegvideo_8h.html#af5e83f0b7b97c4be5b8d8aa2c71f8b42">ff_update_block_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y + 1)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;first_slice_line = 0;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                <span class="keywordtype">int</span> ac_pred = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <span class="keywordtype">int</span> cbpy    = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a3c47d46fab9378a465fbd1289c843ed2">ff_h263_cbpy_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#a7362f0936557f2441e2b816b29fff904">CBPY_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                <span class="keywordflow">if</span> (cbpy &lt; 0) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                           <span class="stringliteral">&quot;cbpy corrupted at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy]               |= cbpy &lt;&lt; 2;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] |= ac_pred * <a class="code" href="mpegutils_8h.html#ac467cb6520b6320c90336c1f46391645">MB_TYPE_ACPRED</a>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            } <span class="keywordflow">else</span> { <span class="comment">/* P || S_TYPE */</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="hevcpred__template_8c.html#ad0133753510e9949508f0bb5af9c70d4">IS_INTRA</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy])) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    <span class="keywordtype">int</span> dir     = 0;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    <span class="keywordtype">int</span> ac_pred = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    <span class="keywordtype">int</span> cbpy    = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a3c47d46fab9378a465fbd1289c843ed2">ff_h263_cbpy_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#a7362f0936557f2441e2b816b29fff904">CBPY_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    <span class="keywordflow">if</span> (cbpy &lt; 0) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                               <span class="stringliteral">&quot;I cbpy corrupted at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy] &amp; 8)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                        <a class="code" href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale + quant_tab[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2)]);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.qscale_table[xy] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                        <span class="keywordtype">int</span> dc_pred_dir;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a> = <a class="code" href="mpeg4videodec_8c.html#a36adbe09b143b13a7e56e7e2208e4fb7">mpeg4_decode_dc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, &amp;dc_pred_dir);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a> &lt; 0) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                                   <span class="stringliteral">&quot;DC corrupted at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                        }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                        dir &lt;&lt;= 1;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        <span class="keywordflow">if</span> (dc_pred_dir)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                            dir |= 1;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy]               &amp;= 3;  <span class="comment">// remove dquant</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy]               |= cbpy &lt;&lt; 2;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] |= ac_pred * <a class="code" href="mpegutils_8h.html#ac467cb6520b6320c90336c1f46391645">MB_TYPE_ACPRED</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pred_dir_table[xy]           = dir;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#ad4b6f8b4bcaee448d1af0c412b6f7401">IS_SKIP</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy])) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.qscale_table[xy] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy]                    = 0;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                    <span class="keywordtype">int</span> cbpy = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a3c47d46fab9378a465fbd1289c843ed2">ff_h263_cbpy_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#a7362f0936557f2441e2b816b29fff904">CBPY_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                    <span class="keywordflow">if</span> (cbpy &lt; 0) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                               <span class="stringliteral">&quot;P cbpy corrupted at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy] &amp; 8)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                        <a class="code" href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale + quant_tab[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2)]);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.qscale_table[xy] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy] &amp;= 3;  <span class="comment">// remove dquant</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy] |= (cbpy ^ 0xf) &lt;&lt; 2;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">if</span> (mb_num &gt;= mb_count)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x = 0;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;}</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ac08d7175e4931254c281a75bc060a3b4">  977</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#ac08d7175e4931254c281a75bc060a3b4">ff_mpeg4_decode_partitions</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;{</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordtype">int</span> mb_num;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> part_a_error = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a> ? (<a class="code" href="error__resilience_8h.html#a0d18cd02310a81d0b3d2f823e57dac68">ER_DC_ERROR</a> | <a class="code" href="error__resilience_8h.html#a57bb1f62d86662641eb4dcd165ae4e2d">ER_MV_ERROR</a>) : <a class="code" href="error__resilience_8h.html#a57bb1f62d86662641eb4dcd165ae4e2d">ER_MV_ERROR</a>;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> part_a_end   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a> ? (<a class="code" href="error__resilience_8h.html#a94880c618424e4733e4a166fc0c80341">ER_DC_END</a>   | <a class="code" href="error__resilience_8h.html#a85f3dd456588d7b4b71f943ecc76ef63">ER_MV_END</a>)   : <a class="code" href="error__resilience_8h.html#a85f3dd456588d7b4b71f943ecc76ef63">ER_MV_END</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    mb_num = <a class="code" href="mpeg4videodec_8c.html#a4156d72928ad2c38de5a06b8d78a8f28">mpeg4_decode_partition_a</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (mb_num &lt;= 0) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="error__resilience_8c.html#a00b6ab0da3b338afa209792001e707fb">ff_er_add_slice</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;er, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y,</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, part_a_error);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">return</span> mb_num ? mb_num : <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + mb_num &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;slice below monitor ...\n&quot;</span>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="error__resilience_8c.html#a00b6ab0da3b338afa209792001e707fb">ff_er_add_slice</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;er, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y,</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, part_a_error);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num_left = mb_num;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 9) == 1)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 9);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 19) != <a class="code" href="mpeg4video_8h.html#a841dc876c471abcf1ffe238aff129db4">DC_MARKER</a>) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                   <span class="stringliteral">&quot;marker missing after first I partition at %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 10) == 1)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 10);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 17) != <a class="code" href="mpeg4video_8h.html#a8ad2309ae2bad5dba54b91305937851d">MOTION_MARKER</a>) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                   <span class="stringliteral">&quot;marker missing after first P partition at %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="error__resilience_8c.html#a00b6ab0da3b338afa209792001e707fb">ff_er_add_slice</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;er, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x - 1, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, part_a_end);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mpeg4videodec_8c.html#aa9d0f5090bf27c140f09668398518b2e">mpeg4_decode_partition_b</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mb_num);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a>)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <a class="code" href="error__resilience_8c.html#a00b6ab0da3b338afa209792001e707fb">ff_er_add_slice</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;er, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, <a class="code" href="error__resilience_8h.html#a0d18cd02310a81d0b3d2f823e57dac68">ER_DC_ERROR</a>);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a>)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <a class="code" href="error__resilience_8c.html#a00b6ab0da3b338afa209792001e707fb">ff_er_add_slice</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;er, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_mb_y,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x - 1, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, <a class="code" href="error__resilience_8h.html#a94880c618424e4733e4a166fc0c80341">ER_DC_END</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ae41913587baf755b91c2219c63d686b9"> 1042</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#ae41913587baf755b91c2219c63d686b9">mpeg4_decode_block</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                     <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> coded, <span class="keywordtype">int</span> intra, <span class="keywordtype">int</span> rvlc)</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;{</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, last, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, qmul, qadd;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="attributes_8h.html#a934ff195492486f0f9d22770103e757b">av_uninit</a>(dc_pred_dir);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="struct_r_l_table.html">RLTable</a> *rl;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="struct_r_l___v_l_c___e_l_e_m.html">RL_VLC_ELEM</a> *<a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *scan_table;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="comment">// Note intra &amp; rvlc should be optimized away if this is inlined</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span> (intra) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;use_intra_dc_vlc) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            <span class="comment">/* DC coef */</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;partitioned_frame) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dc_val[0][<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_index[n]];</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                <span class="keywordflow">if</span> (n &lt; 4)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="mathops_8h.html#a46b805e56033ed92d70f4299638e7a7d">FASTDIV</a>((<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;y_dc_scale &gt;&gt; 1)), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;y_dc_scale);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="mathops_8h.html#a46b805e56033ed92d70f4299638e7a7d">FASTDIV</a>((<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c_dc_scale &gt;&gt; 1)), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c_dc_scale);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                dc_pred_dir = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pred_dir_table[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride] &lt;&lt; n) &amp; 32;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="mpeg4videodec_8c.html#a36adbe09b143b13a7e56e7e2208e4fb7">mpeg4_decode_dc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, n, &amp;dc_pred_dir);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &lt; 0)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>        = 0;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = -1;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <a class="code" href="mpeg4video_8h.html#adbb5c618d2613d46f1e4de7f7e7678ac">ff_mpeg4_pred_dc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, n, 0, &amp;dc_pred_dir, 0);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">if</span> (!coded)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <span class="keywordflow">goto</span> not_coded;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="keywordflow">if</span> (rvlc) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            rl     = &amp;<a class="code" href="mpeg4data_8h.html#ad0c6a577cb344fc9b6c42981d63fd9fd">ff_rvlc_rl_intra</a>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a> = <a class="code" href="mpeg4data_8h.html#ad0c6a577cb344fc9b6c42981d63fd9fd">ff_rvlc_rl_intra</a>.<a class="code" href="struct_r_l_table.html#a53a6b6068d23096e3dcc7369fe522c2d">rl_vlc</a>[0];</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            rl     = &amp;<a class="code" href="mpeg4data_8h.html#a313b1bc65b6adcf48f1e2dd7e663cb97">ff_mpeg4_rl_intra</a>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a> = <a class="code" href="mpeg4data_8h.html#a313b1bc65b6adcf48f1e2dd7e663cb97">ff_mpeg4_rl_intra</a>.<a class="code" href="struct_r_l_table.html#a53a6b6068d23096e3dcc7369fe522c2d">rl_vlc</a>[0];</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_pred) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <span class="keywordflow">if</span> (dc_pred_dir == 0)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                scan_table = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_v_scantable.permutated;  <span class="comment">/* left */</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                scan_table = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_h_scantable.permutated;  <span class="comment">/* top */</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            scan_table = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_scantable.permutated;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        qmul = 1;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        qadd = 0;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = -1;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (!coded) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_last_index[n] = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">if</span> (rvlc)</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            rl = &amp;<a class="code" href="mpeg4data_8h.html#ada6f4fe4f55af0c02ce7aea0872b808c">ff_rvlc_rl_inter</a>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            rl = &amp;<a class="code" href="h263data_8c.html#a43a2c7bfad4ca9afb3591e9837c4bdfe">ff_h263_rl_inter</a>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        scan_table = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_scantable.permutated;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mpeg_quant) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            qmul = 1;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            qadd = 0;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <span class="keywordflow">if</span> (rvlc)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a> = <a class="code" href="mpeg4data_8h.html#ada6f4fe4f55af0c02ce7aea0872b808c">ff_rvlc_rl_inter</a>.<a class="code" href="struct_r_l_table.html#a53a6b6068d23096e3dcc7369fe522c2d">rl_vlc</a>[0];</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a> = <a class="code" href="h263data_8c.html#a43a2c7bfad4ca9afb3591e9837c4bdfe">ff_h263_rl_inter</a>.<a class="code" href="struct_r_l_table.html#a53a6b6068d23096e3dcc7369fe522c2d">rl_vlc</a>[0];</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            qmul = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale &lt;&lt; 1;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            qadd = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale - 1) | 1;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <span class="keywordflow">if</span> (rvlc)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a> = <a class="code" href="mpeg4data_8h.html#ada6f4fe4f55af0c02ce7aea0872b808c">ff_rvlc_rl_inter</a>.<a class="code" href="struct_r_l_table.html#a53a6b6068d23096e3dcc7369fe522c2d">rl_vlc</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale];</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a> = <a class="code" href="h263data_8c.html#a43a2c7bfad4ca9afb3591e9837c4bdfe">ff_h263_rl_inter</a>.<a class="code" href="struct_r_l_table.html#a53a6b6068d23096e3dcc7369fe522c2d">rl_vlc</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale];</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="get__bits_8h.html#a5e35137d6a961c3a91c29b9f3c1705a3">OPEN_READER</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            <a class="code" href="get__bits_8h.html#a757e9fd1245a692628b2bb0c699be27c">UPDATE_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <a class="code" href="get__bits_8h.html#a74b3f0980bc3c8535a9edac6bc41fccd">GET_RL_VLC</a>(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, <a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a>, <a class="code" href="libavcodec_2dv_8h.html#a133db9309d28eadfde4a40d214f31d33">TEX_VLC_BITS</a>, 2, 0);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> == 0) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                <span class="comment">/* escape */</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                <span class="keywordflow">if</span> (rvlc) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1) == 0) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                               <span class="stringliteral">&quot;1. marker bit missing in rvlc esc\n&quot;</span>);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                    }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                    <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                    last = <a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                    <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                    <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = <a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 6);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                    <a class="code" href="get__bits_8h.html#ac5635d3f42aa9eb98ccdae1d2fd13000">SKIP_COUNTER</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1 + 1 + 6);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                    <a class="code" href="get__bits_8h.html#a757e9fd1245a692628b2bb0c699be27c">UPDATE_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1) == 0) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                               <span class="stringliteral">&quot;2. marker bit missing in rvlc esc\n&quot;</span>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                    <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 11);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                    <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 11);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5) != 0x10) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;reverse esc missing\n&quot;</span>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                    <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 5);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * qmul + qadd;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> ^ <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1)) - <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                    <a class="code" href="get__bits_8h.html#ac5635d3f42aa9eb98ccdae1d2fd13000">SKIP_COUNTER</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1 + 11 + 5 + 1);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                    <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> + 1;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                    <span class="keywordflow">if</span> (last)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 192;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                    <span class="keywordtype">int</span> cache;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                    cache = <a class="code" href="get__bits_8h.html#a273cb6b1f292c7c8eed282a9ec44cd21">GET_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="mpeg4video_8h.html#a3a7182ca5f1fbabf6bd6d09af2ae6a75">IS_3IV1</a>)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                        cache ^= 0xC0000000;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    <span class="keywordflow">if</span> (cache &amp; 0x80000000) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                        <span class="keywordflow">if</span> (cache &amp; 0x40000000) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                            <span class="comment">/* third escape */</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                            <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                            last = <a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                            <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                            <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = <a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 6);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                            <a class="code" href="get__bits_8h.html#ac5635d3f42aa9eb98ccdae1d2fd13000">SKIP_COUNTER</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2 + 1 + 6);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                            <a class="code" href="get__bits_8h.html#a757e9fd1245a692628b2bb0c699be27c">UPDATE_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="mpeg4video_8h.html#a3a7182ca5f1fbabf6bd6d09af2ae6a75">IS_3IV1</a>) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 12);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                                <a class="code" href="get__bits_8h.html#aa0812a4b49d1655382604bb231ee5893">LAST_SKIP_BITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 12);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1) == 0) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                                           <span class="stringliteral">&quot;1. marker bit missing in 3. esc\n&quot;</span>);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                                    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a4d1ae1e6c45cc5e9641ac6db9c811626">AV_EF_IGNORE_ERR</a>))</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                }</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                                <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 12);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                <a class="code" href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 12);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1) == 0) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                                           <span class="stringliteral">&quot;2. marker bit missing in 3. esc\n&quot;</span>);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                                    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a4d1ae1e6c45cc5e9641ac6db9c811626">AV_EF_IGNORE_ERR</a>))</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                                }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                                <a class="code" href="get__bits_8h.html#ac5635d3f42aa9eb98ccdae1d2fd13000">SKIP_COUNTER</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1 + 12 + 1);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                            }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;error_recognition &gt;= FF_ER_COMPLIANT) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">int</span> abs_level= <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                <span class="keywordflow">if</span> (abs_level&lt;=<a class="code" href="rl_8h.html#a5bb4257ca9fa4bfcf9391b7895b97761">MAX_LEVEL</a> &amp;&amp; <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>&lt;=<a class="code" href="rl_8h.html#a6290a2e3d073369f1f1660c061cb0d48">MAX_RUN</a>) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">int</span> run1= <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> - rl-&gt;<a class="code" href="struct_r_l_table.html#a27405dc716e4009fa2a1af34978b76f8">max_run</a>[last][abs_level] - 1;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                    <span class="keywordflow">if</span> (abs_level &lt;= rl-&gt;max_level[last][<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>]) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal 3. esc, vlc encoding possible\n&quot;</span>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                                    }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;error_recognition &gt; FF_ER_COMPLIANT) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                                        <span class="keywordflow">if</span> (abs_level &lt;= rl-&gt;max_level[last][<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>]*2) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal 3. esc, esc 1 encoding possible\n&quot;</span>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                        }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                        <span class="keywordflow">if</span> (run1 &gt;= 0 &amp;&amp; abs_level &lt;= rl-&gt;max_level[last][run1]) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal 3. esc, esc 2 encoding possible\n&quot;</span>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                        }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                                }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                            }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt; 0)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * qmul + qadd;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * qmul - qadd;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + 2048) &gt; 4095) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; (<a class="code" href="avcodec_8h.html#a15a968c7590acfe5134b386e275db94b">AV_EF_BITSTREAM</a>|<a class="code" href="avcodec_8h.html#a84b2a67f04fa6d2cab74d09e2779b6ec">AV_EF_AGGRESSIVE</a>)) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                                    <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt; 2560 || <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &lt; -2560) {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                                               <span class="stringliteral">&quot;|level| overflow in 3. esc, qp=%d\n&quot;</span>,</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                                               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                                    }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                                }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &lt; 0 ? -2048 : 2047;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                            }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> + 1;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                            <span class="keywordflow">if</span> (last)</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 192;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                            <span class="comment">/* second escape */</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                            <a class="code" href="get__bits_8h.html#a7418c19702b25b0e27522746e22e7b8d">SKIP_BITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                            <a class="code" href="get__bits_8h.html#a74b3f0980bc3c8535a9edac6bc41fccd">GET_RL_VLC</a>(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, <a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a>, <a class="code" href="libavcodec_2dv_8h.html#a133db9309d28eadfde4a40d214f31d33">TEX_VLC_BITS</a>, 2, 1);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>    += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> + rl-&gt;<a class="code" href="struct_r_l_table.html#a27405dc716e4009fa2a1af34978b76f8">max_run</a>[<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> &gt;&gt; 7][<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> / qmul] + 1;  <span class="comment">// FIXME opt indexing</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                            <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> ^ <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1)) - <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                            <a class="code" href="get__bits_8h.html#aa0812a4b49d1655382604bb231ee5893">LAST_SKIP_BITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                        }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                        <span class="comment">/* first escape */</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                        <a class="code" href="get__bits_8h.html#a7418c19702b25b0e27522746e22e7b8d">SKIP_BITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                        <a class="code" href="get__bits_8h.html#a74b3f0980bc3c8535a9edac6bc41fccd">GET_RL_VLC</a>(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, <a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a>, <a class="code" href="libavcodec_2dv_8h.html#a133db9309d28eadfde4a40d214f31d33">TEX_VLC_BITS</a>, 2, 1);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>    += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + rl-&gt;<a class="code" href="struct_r_l_table.html#aea786354323729e6540be4bb8e042c0d">max_level</a>[<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> &gt;&gt; 7][(<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> - 1) &amp; 63] * qmul;  <span class="comment">// FIXME opt indexing</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> ^ <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1)) - <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                        <a class="code" href="get__bits_8h.html#aa0812a4b49d1655382604bb231ee5893">LAST_SKIP_BITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>    += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> ^ <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1)) - <a class="code" href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                <a class="code" href="get__bits_8h.html#aa0812a4b49d1655382604bb231ee5893">LAST_SKIP_BITS</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="libavcodec_2internal_8h.html#ab0611a4c87b1248b4a560776c0a5d86a">ff_tlog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;dct[%d][%d] = %- 4d end?:%d\n&quot;</span>, scan_table[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;63]&amp;7, scan_table[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;63] &gt;&gt; 3, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;62);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 62) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> -= 192;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; (~63)) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                           <span class="stringliteral">&quot;ac-tex damaged at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[scan_table[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[scan_table[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <a class="code" href="get__bits_8h.html#a40567ab5dc596078bd4d122e1ef1d057">CLOSE_READER</a>(<a class="code" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;not_coded:</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keywordflow">if</span> (intra) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;use_intra_dc_vlc) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = <a class="code" href="mpeg4video_8h.html#adbb5c618d2613d46f1e4de7f7e7678ac">ff_mpeg4_pred_dc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, n, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0], &amp;dc_pred_dir, 0);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160; </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> -= <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;&gt; 31;  <span class="comment">// if (i == -1) i = 0;</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ad641cc841c04b174b9d5f891ef305ab5">ff_mpeg4_pred_ac</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, n, dc_pred_dir);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_pred)</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 63;  <span class="comment">// FIXME not optimal</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_last_index[n] = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;}</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a6a4e54a8271500dc6802fbc610d9bd13"> 1313</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a6a4e54a8271500dc6802fbc610d9bd13">mpeg4_decode_partitioned_mb</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, int16_t <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[6][64])</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;{</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;priv_data;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordtype">int</span> cbp, mb_type;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> xy = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> == (<span class="keywordtype">void</span>*)<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    mb_type = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy];</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    cbp     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy];</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;use_intra_dc_vlc = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_dc_threshold;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.qscale_table[xy] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale)</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <a class="code" href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.qscale_table[xy]);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a> ||</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a>) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.motion_val[0][<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]][0];</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.motion_val[0][<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]][1];</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = <a class="code" href="hevcpred__template_8c.html#ad0133753510e9949508f0bb5af9c70d4">IS_INTRA</a>(mb_type);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#ad4b6f8b4bcaee448d1af0c412b6f7401">IS_SKIP</a>(mb_type)) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="comment">/* skip mb */</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_last_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -1;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir  = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel      = 1;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_skipped = 0;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel      = 0;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_skipped = 1;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_pred = <a class="code" href="mpegutils_8h.html#a3b965f72db1c3bede7c0fa52159bd2ef">IS_ACPRED</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy]);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            <span class="comment">// s-&gt;mcsel = 0;  // FIXME do we need to init that?</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#ab8c5b21d0da9f13a58e04abc7c612a70">IS_8X8</a>(mb_type)) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#a98f9328b4f99d0b6a3974cf441633edf">MV_TYPE_8X8</a>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">/* I-Frame */</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = 1;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_pred  = <a class="code" href="mpegutils_8h.html#a3b965f72db1c3bede7c0fa52159bd2ef">IS_ACPRED</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy]);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mpegutils_8h.html#ad4b6f8b4bcaee448d1af0c412b6f7401">IS_SKIP</a>(mb_type)) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bdsp.clear_blocks(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block[0]);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="comment">/* decode each block */</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#ae41913587baf755b91c2219c63d686b9">mpeg4_decode_block</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, cbp &amp; 32, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rvlc) &lt; 0) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                       <span class="stringliteral">&quot;texture corrupted at %d %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                       <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            cbp += cbp;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="comment">/* per-MB end of slice check */</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordflow">if</span> (--<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_num_left &lt;= 0) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#af35b75103f314cd41db1d8e1799585c9">mpeg4_is_resync</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>))</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a92c7fa6710e693a67f17b76e7ba0bf29">SLICE_NOEND</a>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#af35b75103f314cd41db1d8e1799585c9">mpeg4_is_resync</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + 1 == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width ? 2 : 1;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbp_table[xy + <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>])</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#abaac2000a6c35fc7012df1643ea6c228">SLICE_OK</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;}</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a80c507eb487fff1922fd2807068095c4"> 1400</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a80c507eb487fff1922fd2807068095c4">mpeg4_decode_mb</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, int16_t <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[6][64])</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;{</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;priv_data;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordtype">int</span> cbpc, cbpy, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, cbp, pred_x, pred_y, mx, my, dquant;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    int16_t *mot_val;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> int8_t quant_tab[4] = { -1, -2, 1, 2 };</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> xy = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> ==  (<span class="keywordtype">void</span>*)<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;h263_pred);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a> ||</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a>) {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                <span class="comment">/* skip mb */</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = 0;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_last_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -1;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir  = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a>;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a> &amp;&amp;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a688562b0eee1a11bb18e6c76d1aa16ad">MB_TYPE_SKIP</a>  |</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                                                     <a class="code" href="mpegutils_8h.html#a1ee519ce8a0e364d1c806250c862116e">MB_TYPE_GMC</a>   |</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                                                     <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                                                     <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel       = 1;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][0] = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 0);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][1] = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 1);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_skipped  = 0;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a688562b0eee1a11bb18e6c76d1aa16ad">MB_TYPE_SKIP</a>  |</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                                                     <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                                                     <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel       = 0;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][0] = 0;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][1] = 0;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_skipped  = 1;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                }</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            cbpc = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a74a74b9a3cc99bd934b92d2e86ecf8bf">ff_h263_inter_MCBPC_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#ade4c84da79d6068f249d0cf68b86c8ca">INTER_MCBPC_VLC_BITS</a>, 2);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            <span class="keywordflow">if</span> (cbpc &lt; 0) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                       <span class="stringliteral">&quot;mcbpc damaged at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        } <span class="keywordflow">while</span> (cbpc == 20);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bdsp.clear_blocks(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block[0]);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        dquant      = cbpc &amp; 8;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = ((cbpc &amp; 4) != 0);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra)</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            <span class="keywordflow">goto</span> intra;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a> &amp;&amp;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a> &amp;&amp; (cbpc &amp; 16) == 0)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel = 0;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        cbpy = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a3c47d46fab9378a465fbd1289c843ed2">ff_h263_cbpy_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#a7362f0936557f2441e2b816b29fff904">CBPY_VLC_BITS</a>, 1) ^ 0x0F;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="keywordflow">if</span> (cbpy &lt; 0) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                   <span class="stringliteral">&quot;P cbpy damaged at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        cbp = (cbpc &amp; 3) | (cbpy &lt;&lt; 2);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <span class="keywordflow">if</span> (dquant)</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            <a class="code" href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale + quant_tab[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2)]);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordflow">if</span> ((!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence) &amp;&amp;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            (cbp || (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs &amp; <a class="code" href="avcodec_8h.html#a1c203bbc031e7a8d622b4e002da815c1">FF_BUG_XVID_ILACE</a>)))</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;interlaced_dct = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <span class="keywordflow">if</span> ((cbpc &amp; 16) == 0) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel) {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a1ee519ce8a0e364d1c806250c862116e">MB_TYPE_GMC</a>   |</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                                 <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                                                 <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                <span class="comment">/* 16x16 global motion prediction */</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type     = <a class="code" href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                mx             = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 0);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                my             = <a class="code" href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, 1);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][0] = mx;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][1] = my;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence) &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#aa52ac304781a69b1b1651a9fbbc465a6">MB_TYPE_16x8</a> |</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                                                 <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>   |</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                                                 <a class="code" href="mpegutils_8h.html#abbac64c154ced42f44fdcf6398e4611f">MB_TYPE_INTERLACED</a>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                <span class="comment">/* 16x8 field motion prediction */</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#a97e4ba7c779c1ac58dbc886ecdde3ec9">MV_TYPE_FIELD</a>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;field_select[0][0] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;field_select[0][1] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                <a class="code" href="h263_8c.html#ad423361ec4e37dba11b3af1737f12357">ff_h263_pred_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 0, &amp;pred_x, &amp;pred_y);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                    mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                    <span class="keywordflow">if</span> (mx &gt;= 0xffff)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                    my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_y / 2, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                    <span class="keywordflow">if</span> (my &gt;= 0xffff)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = mx;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = my;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                }</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> | <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                <span class="comment">/* 16x16 motion prediction */</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                <a class="code" href="h263_8c.html#ad423361ec4e37dba11b3af1737f12357">ff_h263_pred_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 0, &amp;pred_x, &amp;pred_y);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <span class="keywordflow">if</span> (mx &gt;= 0xffff)</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                <span class="keywordflow">if</span> (my &gt;= 0xffff)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][0] = mx;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][1] = my;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a163ba4b015c25de7b8dc2132b763cfa3">MB_TYPE_8x8</a> | <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type                     = <a class="code" href="mpegvideo_8h.html#a98f9328b4f99d0b6a3974cf441633edf">MV_TYPE_8X8</a>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                mot_val = <a class="code" href="h263_8c.html#ad423361ec4e37dba11b3af1737f12357">ff_h263_pred_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0, &amp;pred_x, &amp;pred_y);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                mx      = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                <span class="keywordflow">if</span> (mx &gt;= 0xffff)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pred_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                <span class="keywordflow">if</span> (my &gt;= 0xffff)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = mx;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = my;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                mot_val[0]     = mx;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                mot_val[1]     = my;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keywordtype">int</span> modb1;   <span class="comment">// first bit of modb</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordtype">int</span> modb2;   <span class="comment">// second bit of modb</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordtype">int</span> mb_type;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = 0;  <span class="comment">// B-frames never contain intra blocks</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel    = 0;  <span class="comment">//      ...               true gmc blocks</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x == 0) {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0][0] =</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0][1] =</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1][0] =</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1][1] = 0;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            }</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_picture_ptr-&gt;tf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, 0);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <span class="comment">/* if we skipped it in the future P-frame than skip it now too */</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_skipped = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_picture.mbskip_table[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_stride + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x];  <span class="comment">// Note, skiptab=0 if last was GMC</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_skipped) {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <span class="comment">/* skip mb */</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block_last_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -1;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir      = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type     = <a class="code" href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][0] =</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][1] =</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[1][0][0] =</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[1][0][1] = 0;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a688562b0eee1a11bb18e6c76d1aa16ad">MB_TYPE_SKIP</a>  |</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                                             <a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a> |</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                                             <a class="code" href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a>;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        }</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        modb1 = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">if</span> (modb1) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <span class="comment">// like MB_TYPE_B_DIRECT but no vectors coded</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            mb_type = <a class="code" href="mpegutils_8h.html#a965a4fc680cb580e5d4a862e0858c6a7">MB_TYPE_DIRECT2</a> | <a class="code" href="mpegutils_8h.html#a688562b0eee1a11bb18e6c76d1aa16ad">MB_TYPE_SKIP</a> | <a class="code" href="mpegutils_8h.html#a96214067cb851c0ca98729ab22f4ef02">MB_TYPE_L0L1</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            cbp     = 0;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            modb2   = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            mb_type = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="mpeg4videodec_8c.html#a587f0f5a11309aaf7ae78b223502e059">mb_type_b_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="mpeg4videodec_8c.html#a63fb043f96b635aae323804b35b37190">MB_TYPE_B_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <span class="keywordflow">if</span> (mb_type &lt; 0) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal MB_type\n&quot;</span>);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            mb_type = <a class="code" href="mpeg4videodec_8c.html#ab551d6d695d998a36b134a6b58e878c2">mb_type_b_map</a>[mb_type];</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            <span class="keywordflow">if</span> (modb2) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                cbp = 0;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bdsp.clear_blocks(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block[0]);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                cbp = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 6);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="keywordflow">if</span> ((!<a class="code" href="mpegutils_8h.html#a65d69c01f8024fceba5f12a0a7cf0968">IS_DIRECT</a>(mb_type)) &amp;&amp; cbp) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                    <a class="code" href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale + <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) * 4 - 2);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            }</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160; </div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence) {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                <span class="keywordflow">if</span> (cbp)</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;interlaced_dct = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="mpegutils_8h.html#a65d69c01f8024fceba5f12a0a7cf0968">IS_DIRECT</a>(mb_type) &amp;&amp; <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    mb_type |= <a class="code" href="mpegutils_8h.html#aa52ac304781a69b1b1651a9fbbc465a6">MB_TYPE_16x8</a> | <a class="code" href="mpegutils_8h.html#abbac64c154ced42f44fdcf6398e4611f">MB_TYPE_INTERLACED</a>;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                    mb_type &amp;= ~<a class="code" href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a>;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#a9e0ee168ee7b4c7ce87a303fafd0d8c0">USES_LIST</a>(mb_type, 0)) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;field_select[0][0] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;field_select[0][1] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                    }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#a9e0ee168ee7b4c7ce87a303fafd0d8c0">USES_LIST</a>(mb_type, 1)) {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;field_select[1][0] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;field_select[1][1] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                    }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir = 0;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="keywordflow">if</span> ((mb_type &amp; (<a class="code" href="mpegutils_8h.html#a965a4fc680cb580e5d4a862e0858c6a7">MB_TYPE_DIRECT2</a> | <a class="code" href="mpegutils_8h.html#abbac64c154ced42f44fdcf6398e4611f">MB_TYPE_INTERLACED</a>)) == 0) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#a9e0ee168ee7b4c7ce87a303fafd0d8c0">USES_LIST</a>(mb_type, 0)) {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a>;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                    mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][0][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                    my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][0][1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][1][0] =</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][0][0] =</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][0]      = mx;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][1][1] =</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][0][1] =</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][0][1]      = my;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                }</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#a9e0ee168ee7b4c7ce87a303fafd0d8c0">USES_LIST</a>(mb_type, 1)) {</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir |= <a class="code" href="mpegvideo_8h.html#a3935dbba78d09ce118d42be836777da5">MV_DIR_BACKWARD</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                    mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][0][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                    my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][0][1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][1][0] =</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][0][0] =</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[1][0][0]      = mx;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][1][1] =</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][0][1] =</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[1][0][1]      = my;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="mpegutils_8h.html#a65d69c01f8024fceba5f12a0a7cf0968">IS_DIRECT</a>(mb_type)) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_type = <a class="code" href="mpegvideo_8h.html#a97e4ba7c779c1ac58dbc886ecdde3ec9">MV_TYPE_FIELD</a>;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#a9e0ee168ee7b4c7ce87a303fafd0d8c0">USES_LIST</a>(mb_type, 0)) {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160; </div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                        mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                        my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] / 2, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] =</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0]      = mx;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = my) * 2;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                    }</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#a9e0ee168ee7b4c7ce87a303fafd0d8c0">USES_LIST</a>(mb_type, 1)) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir |= <a class="code" href="mpegvideo_8h.html#a3935dbba78d09ce118d42be836777da5">MV_DIR_BACKWARD</a>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                        mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                        my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] / 2, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] =</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0]      = mx;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_mv[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv[1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = my) * 2;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                    }</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                }</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#a65d69c01f8024fceba5f12a0a7cf0968">IS_DIRECT</a>(mb_type)) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mpegutils_8h.html#ad4b6f8b4bcaee448d1af0c412b6f7401">IS_SKIP</a>(mb_type)) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                mx =</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                my = 0;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                mx = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 1);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                my = <a class="code" href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 1);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_dir = <a class="code" href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a> | <a class="code" href="mpegvideo_8h.html#a3935dbba78d09ce118d42be836777da5">MV_DIR_BACKWARD</a> | <a class="code" href="mpegvideo_8h.html#ae04ecce3af14ac66e5f3383c9d21418d">MV_DIRECT</a>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            mb_type  |= <a class="code" href="mpeg4video_8c.html#ae22cf46687c2be463d14551bef72bb32">ff_mpeg4_set_direct_mv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mx, my);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = mb_type;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">/* I-Frame */</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            cbpc = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a353fab20c5d1f84fe8576247b0f8a872">ff_h263_intra_MCBPC_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#a9b4f1e24e4bbfeceb7a0d1b91ef10f75">INTRA_MCBPC_VLC_BITS</a>, 2);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <span class="keywordflow">if</span> (cbpc &lt; 0) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                       <span class="stringliteral">&quot;I cbpc damaged at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        } <span class="keywordflow">while</span> (cbpc == 8);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        dquant = cbpc &amp; 4;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = 1;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;intra:</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_pred = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ac_pred)</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a79511082069c453cfab90fe2efd2463c">MB_TYPE_INTRA</a> | <a class="code" href="mpegutils_8h.html#ac467cb6520b6320c90336c1f46391645">MB_TYPE_ACPRED</a>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;current_picture.mb_type[xy] = <a class="code" href="mpegutils_8h.html#a79511082069c453cfab90fe2efd2463c">MB_TYPE_INTRA</a>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160; </div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        cbpy = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="h263_8h.html#a3c47d46fab9378a465fbd1289c843ed2">ff_h263_cbpy_vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="h263_8h.html#a7362f0936557f2441e2b816b29fff904">CBPY_VLC_BITS</a>, 1);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="keywordflow">if</span> (cbpy &lt; 0) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                   <span class="stringliteral">&quot;I cbpy damaged at %d %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        cbp = (cbpc &amp; 3) | (cbpy &lt;&lt; 2);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;use_intra_dc_vlc = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_dc_threshold;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="keywordflow">if</span> (dquant)</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            <a class="code" href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale + quant_tab[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 2)]);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence)</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;interlaced_dct = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bdsp.clear_blocks(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block[0]);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="comment">/* decode each block */</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#ae41913587baf755b91c2219c63d686b9">mpeg4_decode_block</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, cbp &amp; 32, 1, 0) &lt; 0)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            cbp += cbp;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        }</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    }</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="comment">/* decode each block */</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#ae41913587baf755b91c2219c63d686b9">mpeg4_decode_block</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, cbp &amp; 32, 0, 0) &lt; 0)</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        cbp += cbp;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    }</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="comment">/* per-MB end of slice check */</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a>) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <span class="keywordtype">int</span> next = <a class="code" href="mpeg4videodec_8c.html#af35b75103f314cd41db1d8e1799585c9">mpeg4_is_resync</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        <span class="keywordflow">if</span> (next) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            <span class="keywordflow">if</span>        (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1 &gt;  next &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a84b2a67f04fa6d2cab74d09e2779b6ec">AV_EF_AGGRESSIVE</a>)) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1 &gt;= next)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + 1 == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width ? 2 : 1;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_picture_ptr-&gt;tf,</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                                         (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_x + <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width)</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                                         ? <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y + 1, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - 1)</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                                         : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_y, 0);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_picture.mbskip_table[xy + <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>])</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#abaac2000a6c35fc7012df1643ea6c228">SLICE_OK</a>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a>;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        }</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    }</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#abaac2000a6c35fc7012df1643ea6c228">SLICE_OK</a>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">/* As per spec, studio start code search isn&#39;t the same as the old type of start code */</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92"> 1781</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;{</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <a class="code" href="get__bits_8h.html#ade604fdf49709e1ae3e4781d4b878f6d">align_get_bits</a>(gb);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 24 &amp;&amp; <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(gb, 24) != 0x1) {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="comment">/* additional_code, vlc index */</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a4ed821e2274373d2f60e7403de0b608b"> 1791</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="mpeg4videodec_8c.html#a4ed821e2274373d2f60e7403de0b608b">ac_state_tab</a>[22][2] =</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;{</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    {0, 0},</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    {0, 1},</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    {1, 1},</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    {2, 1},</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    {3, 1},</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    {4, 1},</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    {5, 1},</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    {1, 2},</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    {2, 2},</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    {3, 2},</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    {4, 2},</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    {5, 2},</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    {6, 2},</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    {1, 3},</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    {2, 4},</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    {3, 5},</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    {4, 6},</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    {5, 7},</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    {6, 8},</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    {7, 9},</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    {8, 10},</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    {0, 11}</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;};</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a587e7b5b4a6134b84079ee592ce70692"> 1817</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a587e7b5b4a6134b84079ee592ce70692">mpeg4_decode_studio_block</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[64], <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;{</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;priv_data;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160; </div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <span class="keywordtype">int</span> cc, dct_dc_size, dct_diff, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>, j, idx = 1, group = 0, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 0,</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        additional_code_len, sign, mismatch;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <a class="code" href="struct_v_l_c.html">VLC</a> *cur_vlc = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_intra_tab[0];</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<span class="keyword">const</span> scantable = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_scantable.permutated;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keyword">const</span> uint16_t *quant_matrix;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    uint32_t flc;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a> = -1 *  (1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample + 6));</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> =      ((1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample + 6)) - 1);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> =  3 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dct_precision;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    mismatch = 1;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    memset(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, 0, 64 * <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>));</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">if</span> (n &lt; 4) {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        cc = 0;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        dct_dc_size = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_luma_dc.table, <a class="code" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a>, 2);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        quant_matrix = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_matrix;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        cc = (n &amp; 1) + 1;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rgb)</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            dct_dc_size = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_luma_dc.table, <a class="code" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a>, 2);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            dct_dc_size = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_chroma_dc.table, <a class="code" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a>, 2);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        quant_matrix = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_intra_matrix;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160; </div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">if</span> (dct_dc_size == 0) {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        dct_diff = 0;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        dct_diff = <a class="code" href="get__bits_8h.html#afaf79b13b986df97fdbb5c3fdd71457b">get_xbits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, dct_dc_size);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <span class="keywordflow">if</span> (dct_dc_size &gt; 8) {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <span class="stringliteral">&quot;dct_dc_size &gt; 8&quot;</span>))</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        }</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    }</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_dc[cc] += dct_diff;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mpeg_quant)</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_dc[cc] * (8 &gt;&gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_dc_precision);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_dc[cc] * (8 &gt;&gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_dc_precision) * (8 &gt;&gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dct_precision);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="comment">/* TODO: support mpeg_quant for AC coefficients */</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = av_clip(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0], <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>, <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    mismatch ^= <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0];</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="comment">/* AC Coefficients */</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        group = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, cur_vlc-&gt;<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, <a class="code" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a>, 2);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="keywordflow">if</span> (group &lt; 0) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal ac coefficient group vlc\n&quot;</span>);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        additional_code_len = <a class="code" href="mpeg4videodec_8c.html#a4ed821e2274373d2f60e7403de0b608b">ac_state_tab</a>[group][0];</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        cur_vlc = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_intra_tab[<a class="code" href="mpeg4videodec_8c.html#a4ed821e2274373d2f60e7403de0b608b">ac_state_tab</a>[group][1]];</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160; </div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        <span class="keywordflow">if</span> (group == 0) {</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            <span class="comment">/* End of Block */</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (group &gt;= 1 &amp;&amp; group &lt;= 6) {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            <span class="comment">/* Zero run length (Table B.47) */</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;            <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 1 &lt;&lt; additional_code_len;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="keywordflow">if</span> (additional_code_len)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> += <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, additional_code_len);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            idx += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (group &gt;= 7 &amp;&amp; group &lt;= 12) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            <span class="comment">/* Zero run length and +/-1 level (Table B.48) */</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, additional_code_len);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            sign = <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 1;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = (1 &lt;&lt; (additional_code_len - 1)) + <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            idx += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <span class="keywordflow">if</span> (idx &gt; 63)</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            j = scantable[idx++];</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = sign ? 1 : -1;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (group &gt;= 13 &amp;&amp; group &lt;= 20) {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            <span class="comment">/* Level value (Table B.49) */</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <span class="keywordflow">if</span> (idx &gt; 63)</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            j = scantable[idx++];</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = <a class="code" href="get__bits_8h.html#afaf79b13b986df97fdbb5c3fdd71457b">get_xbits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, additional_code_len);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (group == 21) {</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            <span class="comment">/* Escape */</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            <span class="keywordflow">if</span> (idx &gt; 63)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            j = scantable[idx++];</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            additional_code_len = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dct_precision + 4;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            flc = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, additional_code_len);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <span class="keywordflow">if</span> (flc &gt;&gt; (additional_code_len-1))</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = -1 * (( flc ^ ((1 &lt;&lt; additional_code_len) -1)) + 1);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = flc;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = ((<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] * quant_matrix[j] * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale) * (1 &lt;&lt; <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>)) / 16;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = av_clip(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j], <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>, <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        mismatch ^= <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j];</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[63] ^= mismatch &amp; 1;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;}</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a32ef77471d09b5b1df0943a3073efdb2"> 1932</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a32ef77471d09b5b1df0943a3073efdb2">mpeg4_decode_dpcm_macroblock</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, int16_t macroblock[256], <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;{</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, idx = 0;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordtype">int</span> block_mean, rice_parameter, rice_prefix_code, rice_suffix_code,</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        dpcm_residual, <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>, top, topleft, min_left_top, max_left_top, p, p2, <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a> = 16 &gt;&gt; (n ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_y_shift : 0);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a> = 16 &gt;&gt; (n ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_x_shift : 0);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    block_mean = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <span class="keywordflow">if</span> (block_mean == 0){</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Forbidden block_mean\n&quot;</span>);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_dc[n] = block_mean * (1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dct_precision + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_dc_precision));</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    rice_parameter = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">if</span> (rice_parameter == 0) {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Forbidden rice_parameter\n&quot;</span>);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">if</span> (rice_parameter == 15)</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        rice_parameter = 0;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160; </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">if</span> (rice_parameter &gt; 11) {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Forbidden rice_parameter\n&quot;</span>);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> = 1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample - 1);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        top = 1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample - 1);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>; j++) {</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            topleft = top;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            rice_prefix_code = <a class="code" href="unary_8h.html#ad7ab3bdac952a16853fa24730c211f53">get_unary</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 1, 12);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160; </div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            <span class="comment">/* Escape */</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            <span class="keywordflow">if</span> (rice_prefix_code == 11)</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                dpcm_residual = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample);</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                <span class="keywordflow">if</span> (rice_prefix_code == 12) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Forbidden rice_prefix_code\n&quot;</span>);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                }</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                rice_suffix_code = <a class="code" href="get__bits_8h.html#af0912ada123614fa9e51ed638e867645">get_bitsz</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, rice_parameter);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                dpcm_residual = (rice_prefix_code &lt;&lt; rice_parameter) + rice_suffix_code;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160; </div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            <span class="comment">/* Map to a signed residual */</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            <span class="keywordflow">if</span> (dpcm_residual &amp; 1)</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                dpcm_residual = (-1 * dpcm_residual) &gt;&gt; 1;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                dpcm_residual = (dpcm_residual &gt;&gt; 1);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160; </div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> != 0)</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                top = macroblock[idx-<a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>];</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            p = <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> + top - topleft;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;            min_left_top = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>, top);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            <span class="keywordflow">if</span> (p &lt; min_left_top)</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                p = min_left_top;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            max_left_top = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>, top);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;            <span class="keywordflow">if</span> (p &gt; max_left_top)</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                p = max_left_top;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; </div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            p2 = (<a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(min_left_top, topleft) + <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(max_left_top, topleft)) &gt;&gt; 1;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            <span class="keywordflow">if</span> (p2 == p)</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                p2 = block_mean;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            <span class="keywordflow">if</span> (p2 &gt; p)</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                dpcm_residual *= -1;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;            macroblock[idx++] = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> = (dpcm_residual + p) &amp; ((1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample) - 1);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160; </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;}</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a6d053c0a90dae22514b822ad27a8a2ef"> 2015</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a6d053c0a90dae22514b822ad27a8a2ef">mpeg4_decode_studio_mb</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, int16_t block_[12][64])</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;{</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpcm_direction = 0;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160; </div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">/* StudioMacroblock */</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="comment">/* Assumes I-VOP */</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_intra = 1;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) { <span class="comment">/* compression_mode */</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        <span class="comment">/* DCT */</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="comment">/* macroblock_type, 1 or 2-bit VLC */</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale = <a class="code" href="mpegvideo_8h.html#a9dfe33654c94b69cdad9d09fe783bb58">mpeg_get_qscale</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        }</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160; </div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="mpeg4video_8h.html#aa027f2fa72c4084cff8931cef9d3d738">mpeg4_block_count</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_format]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#a587e7b5b4a6134b84079ee592ce70692">mpeg4_decode_studio_block</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;block32)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt; 0)</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        }</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <span class="comment">/* DPCM */</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <span class="stringliteral">&quot;DPCM block start&quot;</span>);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpcm_direction = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) ? -1 : 1;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#a32ef77471d09b5b1df0943a3073efdb2">mpeg4_decode_dpcm_macroblock</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpcm_macroblock)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt; 0)</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    }</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160; </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &gt;= 24 &amp;&amp; <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 23) == 0) {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a>;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="comment">//vcon-stp9L1.bits (first frame)</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) == 0)</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a>;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">//vcon-stp2L1.bits, vcon-stp3L1.bits, vcon-stp6L1.bits, vcon-stp7L1.bits, vcon-stp8L1.bits, vcon-stp10L1.bits (first frame)</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 8<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &amp;&amp; <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) == 0)</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a>;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160; </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mpegvideo_8h.html#abaac2000a6c35fc7012df1643ea6c228">SLICE_OK</a>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;}</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a7a837ebc835414295e2da6001d670a4d"> 2062</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a7a837ebc835414295e2da6001d670a4d">mpeg4_decode_gop_header</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;{</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordtype">int</span> hours, minutes, seconds;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160; </div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(gb, 23)) {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;GOP header invalid\n&quot;</span>);</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    }</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160; </div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    hours   = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    minutes = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;in gop_header&quot;</span>);</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    seconds = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6);</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_base = seconds + 60*(minutes + 60*hours);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160; </div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;}</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160; </div>
<div class="line"><a name="l02084"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a13cc680e873faf75c160a09959656d08"> 2084</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a13cc680e873faf75c160a09959656d08">mpeg4_decode_profile_level</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> *<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>, <span class="keywordtype">int</span> *<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>)</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;{</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160; </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    *<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    *<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>   = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160; </div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="comment">// for Simple profile, level 0</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> == 0 &amp;&amp; *<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> == 8) {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        *<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = 0;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160; </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;}</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160; </div>
<div class="line"><a name="l02098"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a77fa830db25779d814990b7331b11fd9"> 2098</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a77fa830db25779d814990b7331b11fd9">mpeg4_decode_visual_object</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;{</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordtype">int</span> visual_object_type;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordtype">int</span> is_visual_object_identifier = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">if</span> (is_visual_object_identifier) {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4+3);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    }</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    visual_object_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span> (visual_object_type == <a class="code" href="mpeg4video_8h.html#a297516c6f765e3f97312472009b1fa16">VOT_VIDEO_ID</a> ||</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        visual_object_type == <a class="code" href="mpeg4video_8h.html#a1127e0b65f2c3e7c5ff99f28d0270415">VOT_STILL_TEXTURE_ID</a>) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="keywordtype">int</span> video_signal_type = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        <span class="keywordflow">if</span> (video_signal_type) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            <span class="keywordtype">int</span> video_range, color_description;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 3); <span class="comment">// video_format</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            video_range = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            color_description = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;color_range = video_range ? <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a> : <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a>;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            <span class="keywordflow">if</span> (color_description) {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;color_primaries = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;color_trc       = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;colorspace      = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        }</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    }</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;}</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160; </div>
<div class="line"><a name="l02130"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ac754b013486521315a5336e73746ac08"> 2130</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="mpeg4videodec_8c.html#ac754b013486521315a5336e73746ac08">mpeg4_load_default_matrices</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;{</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, v;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160; </div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="comment">/* load default matrices */</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        <span class="keywordtype">int</span> j = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        v = <a class="code" href="mpeg4data_8h.html#a5c60c16e189718946b95cd2e69e37ed7">ff_mpeg4_default_intra_matrix</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_matrix[j]        = v;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_intra_matrix[j] = v;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160; </div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        v = <a class="code" href="mpeg4data_8h.html#a8ba8ea6e9d708642ab39896ead44be7e">ff_mpeg4_default_non_intra_matrix</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_matrix[j]        = v;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_inter_matrix[j] = v;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    }</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#abadbf5188f6ff57e78e11d31aa462f56"> 2147</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#abadbf5188f6ff57e78e11d31aa462f56">decode_vol_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;{</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, vo_ver_id;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="comment">/* vol header */</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 1);                   <span class="comment">/* random access */</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vo_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160; </div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="comment">/* If we are in studio profile (per vo_type), check if its all consistent</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="comment">     * and if so continue pass control to decode_studio_vol_header().</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;<span class="comment">     * elIf something is inconsistent, error out</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="comment">     * else continue with (non studio) vol header decpoding.</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vo_type == <a class="code" href="mpeg4video_8h.html#aac6364d0a912438fb782e7938db856a0">CORE_STUDIO_VO_TYPE</a> ||</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vo_type == <a class="code" href="mpeg4video_8h.html#a51e7f21b249faa5d1a635a90864c531b">SIMPLE_STUDIO_VO_TYPE</a>) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile != <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile != <a class="code" href="avcodec_8h.html#a76ee3d6a5ac36fe01cec2b35327a0cef">FF_PROFILE_MPEG4_SIMPLE_STUDIO</a>)</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;studio_profile = 1;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile = <a class="code" href="avcodec_8h.html#a76ee3d6a5ac36fe01cec2b35327a0cef">FF_PROFILE_MPEG4_SIMPLE_STUDIO</a>;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpeg4videodec_8c.html#aac509e38ceb4db9bea02bdddadfdd863">decode_studio_vol_header</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;studio_profile) {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) != 0) {           <span class="comment">/* is_ol_id */</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        vo_ver_id = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);    <span class="comment">/* vo_ver_id */</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 3);               <span class="comment">/* vo_priority */</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        vo_ver_id = 1;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    }</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;aspect_ratio_info = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;aspect_ratio_info == <a class="code" href="h263_8h.html#a2ac59087a5668d2e943218dd6df64373">FF_ASPECT_EXTENDED</a>) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;sample_aspect_ratio.num = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);  <span class="comment">// par_width</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;sample_aspect_ratio.den = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);  <span class="comment">// par_height</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;sample_aspect_ratio = <a class="code" href="h263data_8c.html#a642c93b5283b2c60a4d80e492a5cf28f">ff_h263_pixel_aspect</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;aspect_ratio_info];</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    }</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_control_parameters = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))) { <span class="comment">/* vol control parameter */</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordtype">int</span> chroma_format = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        <span class="keywordflow">if</span> (chroma_format != <a class="code" href="mpegvideo_8h.html#ab5157d7616d3a5a5cc5649d73944675f">CHROMA_420</a>)</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal chroma format\n&quot;</span>);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {    <span class="comment">/* vbv parameters */</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 15);   <span class="comment">/* first_half_bitrate */</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after first_half_bitrate&quot;</span>);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 15);   <span class="comment">/* latter_half_bitrate */</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after latter_half_bitrate&quot;</span>);</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 15);   <span class="comment">/* first_half_vbv_buffer_size */</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after first_half_vbv_buffer_size&quot;</span>);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);    <span class="comment">/* latter_half_vbv_buffer_size */</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 11);   <span class="comment">/* first_half_vbv_occupancy */</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after first_half_vbv_occupancy&quot;</span>);</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 15);   <span class="comment">/* latter_half_vbv_occupancy */</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after latter_half_vbv_occupancy&quot;</span>);</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <span class="comment">/* is setting low delay flag only once the smartest thing to do?</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="comment">         * low delay detection will not be overridden. */</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;picture_number == 0) {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            <span class="keywordflow">switch</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vo_type) {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="mpeg4video_8h.html#a7f919a3f8d3eb9c13a5cc5024de8247a">SIMPLE_VO_TYPE</a>:</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="mpeg4video_8h.html#a0936d27392db3bf2e13b84d1a95b8fc3">ADV_SIMPLE_VO_TYPE</a>:</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = 1;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = 0;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;            }</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        }</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2); <span class="comment">/* vol shape */</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a>)</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;only rectangular vol supported\n&quot;</span>);</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape == <a class="code" href="mpeg4video_8h.html#a1b2e6d6817acf7c0256993bc947c1480">GRAY_SHAPE</a> &amp;&amp; vo_ver_id != 1) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Gray shape not supported\n&quot;</span>);</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4);  <span class="comment">/* video_object_layer_shape_extension */</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160; </div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before time_increment_resolution&quot;</span>);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num) {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;framerate==0\n&quot;</span>);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    }</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160; </div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num - 1) + 1;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits &lt; 1)</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits = 1;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160; </div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before fixed_vop_rate&quot;</span>);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160; </div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) != 0)     <span class="comment">/* fixed_vop_rate  */</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.den = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits);</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.den = 1;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;time_base = <a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(<a class="code" href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate, (<a class="code" href="struct_a_v_rational.html">AVRational</a>){s-&gt;avctx-&gt;ticks_per_frame, 1}));</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame = 0;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>) {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape == <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a>) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before width&quot;</span>);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 13);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before height&quot;</span>);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 13);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after height&quot;</span>);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> &amp;&amp; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &amp;&amp;  <span class="comment">/* they should be non zero but who knows */</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;MP4S&quot;</span>))) {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height &amp;&amp;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                    (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width != <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height != <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>))</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;context_reinit = 1;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width  = <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height = <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;            }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence  =</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_frame     = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) ^ 1;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;interlaced_dct        = 0;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;debug &amp; <a class="code" href="avcodec_8h.html#a5d34f0bd0c235b8b9ee96e658df557af">FF_DEBUG_PICT_INFO</a>))</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>,           <span class="comment">/* OBMC Disable */</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                   <span class="stringliteral">&quot;MPEG-4 OBMC not supported (very likely buggy encoder)\n&quot;</span>);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        <span class="keywordflow">if</span> (vo_ver_id == 1)</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);    <span class="comment">/* vol_sprite_usage */</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);  <span class="comment">/* vol_sprite_usage */</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160; </div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a2ddd46a12b96523807ddb5f037bf8eb4">STATIC_SPRITE</a>)</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Static Sprites not supported\n&quot;</span>);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a2ddd46a12b96523807ddb5f037bf8eb4">STATIC_SPRITE</a> ||</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>) {</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a2ddd46a12b96523807ddb5f037bf8eb4">STATIC_SPRITE</a>) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13); <span class="comment">// sprite_width</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;                <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after sprite_width&quot;</span>);</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13); <span class="comment">// sprite_height</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after sprite_height&quot;</span>);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13); <span class="comment">// sprite_left</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after sprite_left&quot;</span>);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13); <span class="comment">// sprite_top</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after sprite_top&quot;</span>);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            }</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points &gt; 3) {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                       <span class="stringliteral">&quot;%d sprite_warping_points\n&quot;</span>,</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;                       <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points = 0;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            }</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_warping_accuracy  = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_brightness_change = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a2ddd46a12b96523807ddb5f037bf8eb4">STATIC_SPRITE</a>)</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;                <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb); <span class="comment">// low_latency_sprite</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        }</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <span class="comment">// FIXME sadct disable bit if verid!=1 &amp;&amp; shape not rect</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160; </div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) == 1) {                   <span class="comment">/* not_8_bit */</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);   <span class="comment">/* quant_precision */</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4) != 8)               <span class="comment">/* bits_per_pixel */</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;N-bit not supported\n&quot;</span>);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision != 5)</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;                       <span class="stringliteral">&quot;quant precision %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision&lt;3 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision&gt;9) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision = 5;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            }</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision = 5;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        }</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160; </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <span class="comment">// FIXME a bunch of grayscale shape things</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160; </div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mpeg_quant = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))) { <span class="comment">/* vol_quant_type */</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, v;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160; </div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;            <a class="code" href="mpeg4videodec_8c.html#ac754b013486521315a5336e73746ac08">mpeg4_load_default_matrices</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160; </div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;            <span class="comment">/* load custom intra matrix */</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;                <span class="keywordtype">int</span> last = 0;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                    <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 8) {</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;insufficient data for custom matrix\n&quot;</span>);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                    }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;                    v = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                    <span class="keywordflow">if</span> (v == 0)</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                    last = v;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                    j = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_matrix[j]        = last;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_intra_matrix[j] = last;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                }</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160; </div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                <span class="comment">/* replicate last value */</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                    <span class="keywordtype">int</span> j = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_matrix[j]        = last;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_intra_matrix[j] = last;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                }</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            <span class="comment">/* load custom non intra matrix */</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                <span class="keywordtype">int</span> last = 0;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                    <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 8) {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;insufficient data for custom matrix\n&quot;</span>);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                    }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                    v = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                    <span class="keywordflow">if</span> (v == 0)</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                    last = v;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                    j = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_matrix[j]        = v;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_inter_matrix[j] = v;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                }</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160; </div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                <span class="comment">/* replicate last value */</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;                    <span class="keywordtype">int</span> j = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_matrix[j]        = last;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_inter_matrix[j] = last;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;                }</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;            }</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160; </div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;            <span class="comment">// FIXME a bunch of grayscale shape things</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        }</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160; </div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="keywordflow">if</span> (vo_ver_id != 1)</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample = 0;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160; </div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 4) {</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;VOL Header truncated\n&quot;</span>);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        }</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>               = <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb);</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;            <span class="keywordtype">int</span> estimation_method = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;            <span class="keywordflow">if</span> (estimation_method &lt; 2) {</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* opaque */</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* transparent */</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* intra_cae */</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* inter_cae */</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* no_update */</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* upsampling */</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;                }</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* intra_blocks */</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* inter_blocks */</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* inter4v_blocks */</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* not coded blocks */</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                }</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;in complexity estimation part 1&quot;</span>)) {</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                    <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> - <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb));</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                    <span class="keywordflow">goto</span> no_cplx_est;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* dct_coeffs */</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* dct_lines */</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* vlc_syms */</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 4 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* vlc_bits */</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                }</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* apm */</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* npm */</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_b += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* interpolate_mc_q */</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* forwback_mc_q */</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* halfpel2 */</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* halfpel4 */</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;                }</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;in complexity estimation part 2&quot;</span>)) {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                    <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> - <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb));</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                    <span class="keywordflow">goto</span> no_cplx_est;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                }</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                <span class="keywordflow">if</span> (estimation_method == 1) {</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* sadct */</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p += 8 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);  <span class="comment">/* qpel */</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                }</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                       <span class="stringliteral">&quot;Invalid Complexity estimation method %d\n&quot;</span>,</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                       estimation_method);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;no_cplx_est:</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i =</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p =</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_b = 0;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        }</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160; </div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;resync_marker = !<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb); <span class="comment">/* resync_marker_disabled */</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160; </div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;data_partitioning = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;data_partitioning)</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rvlc = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160; </div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;        <span class="keywordflow">if</span> (vo_ver_id != 1) {</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;new_pred = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;new_pred) {</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;new pred not supported\n&quot;</span>);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 2); <span class="comment">/* requested upstream message type */</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);   <span class="comment">/* newpred segment type */</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            }</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) <span class="comment">// reduced_res_vop</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                       <span class="stringliteral">&quot;reduced resolution VOP not supported\n&quot;</span>);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;new_pred = 0;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160; </div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;scalability = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160; </div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;scalability) {</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;            <a class="code" href="struct_get_bit_context.html">GetBitContext</a> bak = *gb;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;            <span class="keywordtype">int</span> h_sampling_factor_n;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;            <span class="keywordtype">int</span> h_sampling_factor_m;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;            <span class="keywordtype">int</span> v_sampling_factor_n;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;            <span class="keywordtype">int</span> v_sampling_factor_m;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;            <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);    <span class="comment">// hierarchy_type</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4);  <span class="comment">/* ref_layer_id */</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;            <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);    <span class="comment">/* ref_layer_sampling_dir */</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;            h_sampling_factor_n = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;            h_sampling_factor_m = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;            v_sampling_factor_n = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;            v_sampling_factor_m = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;enhancement_type = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;            <span class="keywordflow">if</span> (h_sampling_factor_n == 0 || h_sampling_factor_m == 0 ||</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                v_sampling_factor_n == 0 || v_sampling_factor_m == 0) {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;                <span class="comment">/* illegal scalability header (VERY broken encoder),</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;<span class="comment">                 * trying to workaround */</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;scalability = 0;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;                *gb            = bak;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;scalability not supported\n&quot;</span>);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160; </div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;            <span class="comment">// bin shape stuff FIXME</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        }</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    }</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160; </div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;debug&amp;<a class="code" href="avcodec_8h.html#a5d34f0bd0c235b8b9ee96e658df557af">FF_DEBUG_PICT_INFO</a>) {</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;tb %d/%d, tincrbits:%d, qp_prec:%d, ps:%d, low_delay:%d  %s%s%s%s\n&quot;</span>,</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.den, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num,</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;               <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits,</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision,</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence,</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay,</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;               <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;scalability ? <span class="stringliteral">&quot;scalability &quot;</span> :<span class="stringliteral">&quot;&quot;</span> , <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample ? <span class="stringliteral">&quot;qpel &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;data_partitioning ? <span class="stringliteral">&quot;partition &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rvlc ? <span class="stringliteral">&quot;rvlc &quot;</span> : <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        );</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    }</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;}</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#af9b5ba44584399dbaf434ab99bf24bf2"> 2522</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#af9b5ba44584399dbaf434ab99bf24bf2">decode_user_data</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;{</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordtype">char</span> buf[256];</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    <span class="keywordtype">int</span> e;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <span class="keywordtype">int</span> ver = 0, build = 0, ver2 = 0, ver3 = 0;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordtype">char</span> last;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160; </div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 255 &amp;&amp; <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) &lt; gb-&gt;<a class="code" href="struct_get_bit_context.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(gb, 23) == 0)</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    }</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160; </div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="comment">/* divx detection */</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    e = sscanf(buf, <span class="stringliteral">&quot;DivX%dBuild%d%c&quot;</span>, &amp;ver, &amp;build, &amp;last);</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="keywordflow">if</span> (e &lt; 2)</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        e = sscanf(buf, <span class="stringliteral">&quot;DivX%db%d%c&quot;</span>, &amp;ver, &amp;build, &amp;last);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">if</span> (e &gt;= 2) {</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version = ver;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build   = build;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;divx_packed  = e == 3 &amp;&amp; last == <span class="charliteral">&#39;p&#39;</span>;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    }</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160; </div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    <span class="comment">/* libavcodec detection */</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    e = sscanf(buf, <span class="stringliteral">&quot;FFmpe%*[^b]b%d&quot;</span>, &amp;build) + 3;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="keywordflow">if</span> (e != 4)</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        e = sscanf(buf, <span class="stringliteral">&quot;FFmpeg v%d.%d.%d / libavcodec build: %d&quot;</span>, &amp;ver, &amp;ver2, &amp;ver3, &amp;build);</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">if</span> (e != 4) {</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        e = sscanf(buf, <span class="stringliteral">&quot;Lavc%d.%d.%d&quot;</span>, &amp;ver, &amp;ver2, &amp;ver3) + 1;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        <span class="keywordflow">if</span> (e &gt; 1) {</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;            <span class="keywordflow">if</span> (ver &gt; 0xFFU || ver2 &gt; 0xFFU || ver3 &gt; 0xFFU) {</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;                     <span class="stringliteral">&quot;Unknown Lavc version string encountered, %d.%d.%d; &quot;</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;                     <span class="stringliteral">&quot;clamping sub-version values to 8-bits.\n&quot;</span>,</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;                     ver, ver2, ver3);</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;            }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;            build = ((ver &amp; 0xFF) &lt;&lt; 16) + ((ver2 &amp; 0xFF) &lt;&lt; 8) + (ver3 &amp; 0xFF);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        }</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    }</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="keywordflow">if</span> (e != 4) {</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        <span class="keywordflow">if</span> (strcmp(buf, <span class="stringliteral">&quot;ffmpeg&quot;</span>) == 0)</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build = 4600;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    }</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">if</span> (e == 4)</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build = build;</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160; </div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <span class="comment">/* Xvid detection */</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    e = sscanf(buf, <span class="stringliteral">&quot;XviD%d&quot;</span>, &amp;build);</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keywordflow">if</span> (e == 1)</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build = build;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160; </div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;}</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#aaed08a3ae3d74d47eeccf919190155a5"> 2579</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#aaed08a3ae3d74d47eeccf919190155a5">ff_mpeg4_workaround_bugs</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;{</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160; </div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build == -1 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version == -1 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build == -1) {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag        == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;XVID&quot;</span>) ||</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag        == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;XVIX&quot;</span>) ||</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag        == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;RMP4&quot;</span>) ||</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag        == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;ZMP4&quot;</span>) ||</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag        == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;SIPP&quot;</span>))</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build = 0;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    }</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160; </div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build == -1 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version == -1 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build == -1)</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;DIVX&quot;</span>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vo_type == 0 &amp;&amp;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_control_parameters == 0)</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version = 400;  <span class="comment">// divx 4</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160; </div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build &gt;= 0 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version &gt;= 0) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version =</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build   = -1;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    }</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160; </div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs &amp; <a class="code" href="avcodec_8h.html#a9c96cf51e2d90a0d95cfff3955fa1fbb">FF_BUG_AUTODETECT</a>) {</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;XVIX&quot;</span>))</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a1c203bbc031e7a8d622b4e002da815c1">FF_BUG_XVID_ILACE</a>;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160; </div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;UMP4&quot;</span>))</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a8652c8432575eae520fda2ec9bb2790c">FF_BUG_UMP4</a>;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160; </div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version &gt;= 500 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build &lt; 1814)</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#af566afeadf0c6ef3571ba0cf99ca9e13">FF_BUG_QPEL_CHROMA</a>;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160; </div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version &gt; 502 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build &lt; 1814)</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a48213a8e7c5bbb121e42aaeab3e406e7">FF_BUG_QPEL_CHROMA2</a>;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160; </div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build &lt;= 3<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;padding_bug_score = 256 * 256 * 256 * 64;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160; </div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build &lt;= 1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#af566afeadf0c6ef3571ba0cf99ca9e13">FF_BUG_QPEL_CHROMA</a>;</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build &lt;= 12<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a06f82c0c9613ce77d918cb812445e837">FF_BUG_EDGE</a>;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160; </div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build &lt;= 32<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a25014ac1ac2aeeab6d8fc9855b7899cb">FF_BUG_DC_CLIP</a>;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="preprocessor">#define SET_QPEL_FUNC(postfix1, postfix2)                           \</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="preprocessor">    s-&gt;qdsp.put_        ## postfix1 = ff_put_        ## postfix2;   \</span></div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;<span class="preprocessor">    s-&gt;qdsp.put_no_rnd_ ## postfix1 = ff_put_no_rnd_ ## postfix2;   \</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="preprocessor">    s-&gt;qdsp.avg_        ## postfix1 = ff_avg_        ## postfix2;</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160; </div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &lt; 4653<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#ae0009d2c60992caf6a6ce0bde394991f">FF_BUG_STD_QPEL</a>;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &lt; 4655<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a59eae4ab7a237c0719324c5d8b5c8d2d">FF_BUG_DIRECT_BLOCKSIZE</a>;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160; </div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &lt; 4670<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a06f82c0c9613ce77d918cb812445e837">FF_BUG_EDGE</a>;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160; </div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &lt;= 4712<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a25014ac1ac2aeeab6d8fc9855b7899cb">FF_BUG_DC_CLIP</a>;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build&amp;0xFF) &gt;= 100) {</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &gt; 3621476 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &lt; 3752552 &amp;&amp;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;               (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &lt; 3752037 || <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build &gt; 3752191) <span class="comment">// 3.2.1+</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;            )</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#ab9f3dcde72d13a402e95ce72529bff5f">FF_BUG_IEDGE</a>;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;        }</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160; </div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version &gt;= 0)</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a59eae4ab7a237c0719324c5d8b5c8d2d">FF_BUG_DIRECT_BLOCKSIZE</a>;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version == 501 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build == 20020416)</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;padding_bug_score = 256 * 256 * 256 * 64;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160; </div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version &lt; 500<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>)</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a06f82c0c9613ce77d918cb812445e837">FF_BUG_EDGE</a>;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version &gt;= 0)</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs |= <a class="code" href="avcodec_8h.html#a26265fbaec04614a2c67daf31c894754">FF_BUG_HPEL_CHROMA</a>;</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    }</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160; </div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs &amp; <a class="code" href="avcodec_8h.html#ae0009d2c60992caf6a6ce0bde394991f">FF_BUG_STD_QPEL</a>) {</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[0][5], qpel16_mc11_old_c)</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[0][7], qpel16_mc31_old_c)</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[0][9], qpel16_mc12_old_c)</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[0][11], qpel16_mc32_old_c)</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[0][13], qpel16_mc13_old_c)</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[0][15], qpel16_mc33_old_c)</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160; </div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[1][5], qpel8_mc11_old_c)</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[1][7], qpel8_mc31_old_c)</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[1][9], qpel8_mc12_old_c)</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[1][11], qpel8_mc32_old_c)</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[1][13], qpel8_mc13_old_c)</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a>(qpel_pixels_tab[1][15], qpel8_mc33_old_c)</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    }</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160; </div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1c52e4da25b608b2b9a80af21bb86d58">debug</a> &amp; <a class="code" href="avcodec_8h.html#aa93e4fb48a60b73cfb381e30d6567642">FF_DEBUG_BUGS</a>)</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;               <span class="stringliteral">&quot;bugs: %X lavc_build:%d xvid_build:%d divx_version:%d divx_build:%d %s\n&quot;</span>,</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build,</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;               <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;divx_packed ? <span class="stringliteral">&quot;p&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160; </div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="keywordflow">if</span> (CONFIG_MPEG4_DECODER &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a> &amp;&amp;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8b669e043c8b064fcf991fd71e16a870">idct_algo</a> == <a class="code" href="avcodec_8h.html#a91c5763aad4039fb2e3a2516b20295e2">FF_IDCT_AUTO</a>) {</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8b669e043c8b064fcf991fd71e16a870">idct_algo</a> = <a class="code" href="avcodec_8h.html#ab608858e3b9a6853a70d4e950f3be627">FF_IDCT_XVID</a>;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;        <a class="code" href="mpegvideo_8c.html#a71135d03df49cffd713309e71e5f28fa">ff_mpv_idct_init</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    }</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160; </div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a9cf6009c310feafa73a80dc04a1f06a8"> 2697</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a9cf6009c310feafa73a80dc04a1f06a8">decode_vop_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;{</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordtype">int</span> time_incr, time_increment;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    int64_t <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160; </div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mcsel       = 0;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2) + <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;        <span class="comment">/* pict type: I = 0 , P = 1 */</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay &amp;&amp;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_control_parameters == 0 &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;flags &amp; <a class="code" href="group__lavc__core.html#gaa90f89265adba401ebe80380517fe613">AV_CODEC_FLAG_LOW_DELAY</a>)) {</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;low_delay flag set incorrectly, clearing it\n&quot;</span>);</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = 0;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    }</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160; </div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;partitioned_frame = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;data_partitioning &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;partitioned_frame)</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;decode_mb = <a class="code" href="mpeg4videodec_8c.html#a6a4e54a8271500dc6802fbc610d9bd13">mpeg4_decode_partitioned_mb</a>;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;decode_mb = <a class="code" href="mpeg4videodec_8c.html#a80c507eb487fff1922fd2807068095c4">mpeg4_decode_mb</a>;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160; </div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    time_incr = 0;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) != 0)</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        time_incr++;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before time_increment&quot;</span>);</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160; </div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits == 0 ||</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;        !(<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits + 1) &amp; 1)) {</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;               <span class="stringliteral">&quot;time_increment_bits %d is invalid in relation to the current bitstream, this is likely caused by a missing VOL header\n&quot;</span>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160; </div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits = 1;</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;             <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits &lt; 16;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;             <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits++) {</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a> ||</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;                (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a> &amp;&amp;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;                 <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>)) {</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits + 6) &amp; 0x37) == 0x30)</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits + 5) &amp; 0x1F) == 0x18)</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;        }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160; </div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;               <span class="stringliteral">&quot;time_increment_bits set to %d bits, based on bitstream analysis\n&quot;</span>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits);</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num &amp;&amp; 4*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num &lt; 1&lt;&lt;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits) {</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num = 1&lt;&lt;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;time_base = <a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(<a class="code" href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate, (<a class="code" href="struct_a_v_rational.html">AVRational</a>){s-&gt;avctx-&gt;ticks_per_frame, 1}));</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;        }</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    }</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mpeg4video_8h.html#a3a7182ca5f1fbabf6bd6d09af2ae6a75">IS_3IV1</a>)</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        time_increment = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);        <span class="comment">// FIXME investigate further</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        time_increment = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits);</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160; </div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) {</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_time_base = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_base;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_base     += time_incr;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_base * (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num + time_increment;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs &amp; <a class="code" href="avcodec_8h.html#a8652c8432575eae520fda2ec9bb2790c">FF_BUG_UMP4</a>) {</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_non_b_time) {</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                <span class="comment">/* header is not mpeg-4-compatible, broken encoder,</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;<span class="comment">                 * trying to workaround */</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_base++;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;            }</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;        }</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time         = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_non_b_time;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_non_b_time = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time    = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_time_base + time_incr) * (int64_t)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.num + time_increment;</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_time = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time - (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_non_b_time - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time);</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time &lt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_time ||</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time &lt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_time ||</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time &lt;= 0) {</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;            <span class="comment">/* messed up order, maybe after seeking? skipping current B-frame */</span></div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="mpegutils_8h.html#ad25997a5f6d4f1c42f988d2f2ef089ae">FRAME_SKIPPED</a>;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;        }</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;        <a class="code" href="mpeg4video_8c.html#a217aab4bc9a043dc90c45146041391f7">ff_mpeg4_init_direct_mv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160; </div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame == 0)</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_time;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame == 0)</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame = 1;  <span class="comment">// 1/0 protection</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_field_time = (<a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_non_b_time, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame) -</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;                            <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_non_b_time - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame)) * 2;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_field_time = (<a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame) -</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;                            <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_non_b_time - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_time, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;t_frame)) * 2;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_field_time &lt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_field_time || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_field_time &lt;= 1) {</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb_field_time = 2;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pp_field_time = 4;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence)</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="mpegutils_8h.html#ad25997a5f6d4f1c42f988d2f2ef089ae">FRAME_SKIPPED</a>;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        }</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    }</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160; </div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.den)</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a> = <a class="code" href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;framerate.den);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;        <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;MPEG4 PTS: %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>);</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160; </div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before vop_coded&quot;</span>);</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160; </div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="comment">/* vop coded */</span></div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) != 1) {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;debug &amp; <a class="code" href="avcodec_8h.html#a5d34f0bd0c235b8b9ee96e658df557af">FF_DEBUG_PICT_INFO</a>)</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;vop not coded\n&quot;</span>);</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpegutils_8h.html#ad25997a5f6d4f1c42f988d2f2ef089ae">FRAME_SKIPPED</a>;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    }</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;new_pred)</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#a3b1a66dc9d0f83123067b88d7428408f">decode_new_pred</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb);</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160; </div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a> &amp;&amp;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                    (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a> ||</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;                     (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a> &amp;&amp;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                      <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>))) {</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        <span class="comment">/* rounding type for motion estimation */</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;no_rounding = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;no_rounding = 0;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    }</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <span class="comment">// FIXME reduced res stuff</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160; </div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a>) {</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage != 1 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13);  <span class="comment">/* width */</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after width&quot;</span>);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13);  <span class="comment">/* height */</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after height&quot;</span>);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13);  <span class="comment">/* hor_spat_ref */</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after hor_spat_ref&quot;</span>);</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 13);  <span class="comment">/* ver_spat_ref */</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        }</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);         <span class="comment">/* change_CR_disable */</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160; </div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) != 0)</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 8);   <span class="comment">/* constant_alpha_value */</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    }</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160; </div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="comment">// FIXME complexity estimation stuff</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160; </div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>) {</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;        <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>)</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;            <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>)</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;            <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_b);</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160; </div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 3) {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Header truncated\n&quot;</span>);</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;        }</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_dc_threshold = <a class="code" href="mpeg4data_8h.html#af8d76b3bf948951ec027d912256f1da8">ff_mpeg4_dc_threshold</a>[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3)];</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence) {</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_field_first = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alternate_scan  = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alternate_scan = 0;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    }</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160; </div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alternate_scan) {</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_scantable,   <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_scantable,   <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_h_scantable, <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_v_scantable, <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_scantable,   <a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>);</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_scantable,   <a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>);</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_h_scantable, <a class="code" href="mpegvideodata_8c.html#ae3569926af55c72c980ac342f80ad61d">ff_alternate_horizontal_scan</a>);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_v_scantable, <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    }</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160; </div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a>) {</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a2ddd46a12b96523807ddb5f037bf8eb4">STATIC_SPRITE</a> ||</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a>)) {</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mpeg4videodec_8c.html#a011aa6d263234112bd9b698f0dd2464a">mpeg4_decode_sprite_trajectory</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb) &lt; 0)</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sprite_brightness_change)</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                    <span class="stringliteral">&quot;sprite_brightness_change not supported\n&quot;</span>);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_sprite_usage == <a class="code" href="mpeg4video_8h.html#a2ddd46a12b96523807ddb5f037bf8eb4">STATIC_SPRITE</a>)</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;static sprite not supported\n&quot;</span>);</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_offset));</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;            memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_delta, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_delta));</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;        }</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    }</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160; </div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>) {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_qscale = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_precision);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale == 0) {</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                   <span class="stringliteral">&quot;Error, header damaged or not MPEG-4 header (qscale=0)\n&quot;</span>);</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;  <span class="comment">// makes no sense to continue, as there is nothing left from the image then</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;        }</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160; </div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);        <span class="comment">/* fcode_for */</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code == 0) {</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                       <span class="stringliteral">&quot;Error, header damaged or not MPEG-4 header (f_code=0)\n&quot;</span>);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code = 1;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;  <span class="comment">// makes no sense to continue, as there is nothing left from the image then</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;            }</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code = 1;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160; </div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) {</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code == 0) {</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                       <span class="stringliteral">&quot;Error, header damaged or not MPEG4 header (b_code=0)\n&quot;</span>);</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code=1;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>; <span class="comment">// makes no sense to continue, as the MV decoding will break very quickly</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;            }</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code = 1;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;debug &amp; <a class="code" href="avcodec_8h.html#a5d34f0bd0c235b8b9ee96e658df557af">FF_DEBUG_PICT_INFO</a>) {</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                   <span class="stringliteral">&quot;qp:%d fc:%d,%d %s size:%d pro:%d alt:%d top:%d %spel part:%d resync:%d w:%d a:%d rnd:%d vot:%d%s dc:%d ce:%d/%d/%d time:%&quot;</span>PRId64<span class="stringliteral">&quot; tincr:%d\n&quot;</span>,</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qscale, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;f_code, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;b_code,</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a> ? <span class="stringliteral">&quot;I&quot;</span> : (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a> ? <span class="stringliteral">&quot;P&quot;</span> : (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a> ? <span class="stringliteral">&quot;B&quot;</span> : <span class="stringliteral">&quot;S&quot;</span>)),</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                   gb-&gt;<a class="code" href="struct_get_bit_context.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a>,<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_sequence, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alternate_scan,</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_field_first, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quarter_sample ? <span class="stringliteral">&quot;q&quot;</span> : <span class="stringliteral">&quot;h&quot;</span>,</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;data_partitioning, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;resync_marker,</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;                   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;num_sprite_warping_points, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_warping_accuracy,</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                   1 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;no_rounding, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vo_type,</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_control_parameters ? <span class="stringliteral">&quot; VOLC&quot;</span> : <span class="stringliteral">&quot; &quot;</span>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_dc_threshold,</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_i, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_p,</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;                   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cplx_estimation_trash_b,</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time,</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                   time_increment</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;                  );</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;        }</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160; </div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;scalability) {</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>)</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);  <span class="comment">// vop shape coding type</span></div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;enhancement_type) {</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                <span class="keywordtype">int</span> load_backward_shape = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                <span class="keywordflow">if</span> (load_backward_shape)</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                           <span class="stringliteral">&quot;load backward shape isn&#39;t supported\n&quot;</span>);</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;            }</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 2);  <span class="comment">// ref_select_code</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;        }</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    }</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <span class="comment">/* detect buggy encoders which don&#39;t set the low_delay flag</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="comment">     * (divx4/xvid/opendivx). Note we cannot detect divx5 without B-frames</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;<span class="comment">     * easily (although it&#39;s buggy too) */</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vo_type == 0 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vol_control_parameters == 0 &amp;&amp;</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version == -1 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;picture_number == 0) {</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;               <span class="stringliteral">&quot;looks like this file was encoded with (divx4/(old)xvid/opendivx) -&gt; forcing low_delay flag\n&quot;</span>);</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = 1;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160; </div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;picture_number++;  <span class="comment">// better than pic number==0 always ;)</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160; </div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    <span class="comment">// FIXME add short header support</span></div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;y_dc_scale_table = <a class="code" href="mpeg4data_8h.html#a74aa72cbf3d86b9a380347ac91fcc91c">ff_mpeg4_y_dc_scale_table</a>;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c_dc_scale_table = <a class="code" href="mpeg4data_8h.html#a5eaea11533f853fb2ff87c498f657e05">ff_mpeg4_c_dc_scale_table</a>;</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160; </div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;workaround_bugs &amp; <a class="code" href="avcodec_8h.html#a06f82c0c9613ce77d918cb812445e837">FF_BUG_EDGE</a>) {</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;h_edge_pos = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;v_edge_pos = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    }</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;}</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160; </div>
<div class="line"><a name="l02971"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a3e815408b0297381706f97f9e23b587c"> 2971</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a3e815408b0297381706f97f9e23b587c">read_quant_matrix_ext</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;{</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, v;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160; </div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 64*8)</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="comment">/* intra_quantiser_matrix */</span></div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;            v = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;            j = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_matrix[j]        = v;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_intra_matrix[j] = v;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;        }</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    }</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160; </div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 64*8)</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        <span class="comment">/* non_intra_quantiser_matrix */</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;        }</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    }</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160; </div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 64*8)</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        <span class="comment">/* chroma_intra_quantiser_matrix */</span></div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;            v = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;            j = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_intra_matrix[j] = v;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        }</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    }</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160; </div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 64*8)</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;        <span class="comment">/* chroma_non_intra_quantiser_matrix */</span></div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;            <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;        }</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    }</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160; </div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    <a class="code" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a>(gb);</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;}</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160; </div>
<div class="line"><a name="l03020"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a7ba51b4d108b26076a702ef343c504d8"> 3020</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="mpeg4videodec_8c.html#a7ba51b4d108b26076a702ef343c504d8">extension_and_user_data</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;{</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    uint32_t startcode;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> extension_type;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160; </div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    startcode = <a class="code" href="get__bits_8h.html#a1e8bf29d582aed77edf011f2e60adbcb">show_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    <span class="keywordflow">if</span> (startcode == <a class="code" href="mpeg4video_8h.html#a20e79794aa0786fb5e2fef254650232d">USER_DATA_STARTCODE</a> || startcode == <a class="code" href="mpeg4video_8h.html#a6bad6ea88cd4bccdbeed7a521a1b829a">EXT_STARTCODE</a>) {</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160; </div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">id</span> == 2 || <span class="keywordtype">id</span> == 4) &amp;&amp; startcode == <a class="code" href="mpeg4video_8h.html#a6bad6ea88cd4bccdbeed7a521a1b829a">EXT_STARTCODE</a>) {</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;            <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            extension_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;            <span class="keywordflow">if</span> (extension_type == <a class="code" href="mpeg4video_8h.html#a06ee45a9624b41ec4a2f36d5519c25cc">QUANT_MATRIX_EXT_ID</a>)</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;                <a class="code" href="mpeg4videodec_8c.html#a3e815408b0297381706f97f9e23b587c">read_quant_matrix_ext</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb);</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;        }</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    }</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;}</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160; </div>
<div class="line"><a name="l03037"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a40412d850882e76283b343e56244e386"> 3037</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="mpeg4videodec_8c.html#a40412d850882e76283b343e56244e386">decode_smpte_tc</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;{</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160; </div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 16); <span class="comment">/* Time_code[63..48] */</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after Time_code[63..48]&quot;</span>);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 16); <span class="comment">/* Time_code[47..32] */</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after Time_code[47..32]&quot;</span>);</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 16); <span class="comment">/* Time_code[31..16] */</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after Time_code[31..16]&quot;</span>);</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 16); <span class="comment">/* Time_code[15..0] */</span></div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after Time_code[15..0]&quot;</span>);</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4); <span class="comment">/* reserved_bits */</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;}</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160; </div>
<div class="line"><a name="l03056"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a43177b29fe25e4cd6fd40a4165e6d7a0"> 3056</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a43177b29fe25e4cd6fd40a4165e6d7a0">decode_studio_vop_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;{</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160; </div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt;= 32)</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160; </div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;partitioned_frame = 0;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;interlaced_dct = 0;</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;decode_mb = <a class="code" href="mpeg4videodec_8c.html#a6d053c0a90dae22514b822ad27a8a2ef">mpeg4_decode_studio_mb</a>;</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160; </div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <a class="code" href="mpeg4videodec_8c.html#a40412d850882e76283b343e56244e386">decode_smpte_tc</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb);</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160; </div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 10); <span class="comment">/* temporal_reference */</span></div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 2); <span class="comment">/* vop_structure */</span></div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2) + <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>; <span class="comment">/* vop_coding_type */</span></div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) { <span class="comment">/* vop_coded */</span></div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;        <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb); <span class="comment">/* top_field_first */</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;        <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb); <span class="comment">/* repeat_first_field */</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;progressive_frame = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) ^ 1; <span class="comment">/* progressive_frame */</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    }</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160; </div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;            <a class="code" href="mpeg4videodec_8c.html#a03e4867226bd9b398bd37d5aac2d6663">reset_studio_dc_predictors</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    }</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160; </div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>) {</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alternate_scan = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_pred_frame_dct = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dct_precision = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_dc_precision = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;q_scale_type = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    }</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160; </div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;alternate_scan) {</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_scantable,   <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_scantable,   <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_h_scantable, <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_v_scantable, <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_scantable,   <a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_scantable,   <a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>);</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_h_scantable, <a class="code" href="mpegvideodata_8c.html#ae3569926af55c72c980ac342f80ad61d">ff_alternate_horizontal_scan</a>);</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        <a class="code" href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;idsp.idct_permutation, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_v_scantable, <a class="code" href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a>);</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    }</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160; </div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <a class="code" href="mpeg4videodec_8c.html#ac754b013486521315a5336e73746ac08">mpeg4_load_default_matrices</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160; </div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <a class="code" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a>(gb);</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <a class="code" href="mpeg4videodec_8c.html#a7ba51b4d108b26076a702ef343c504d8">extension_and_user_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb, 4);</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160; </div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;}</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160; </div>
<div class="line"><a name="l03111"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ade2c12a8169f98b2d0554be6a3956c26"> 3111</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#ade2c12a8169f98b2d0554be6a3956c26">decode_studiovisualobject</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;{</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordtype">int</span> visual_object_type;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160; </div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4); <span class="comment">/* visual_object_verid */</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;        visual_object_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        <span class="keywordflow">if</span> (visual_object_type != <a class="code" href="mpeg4video_8h.html#a297516c6f765e3f97312472009b1fa16">VOT_VIDEO_ID</a>) {</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;VO type %u&quot;</span>, visual_object_type);</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;        }</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160; </div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a>(gb);</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        <a class="code" href="mpeg4videodec_8c.html#a7ba51b4d108b26076a702ef343c504d8">extension_and_user_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb, 1);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160; </div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;}</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#aac509e38ceb4db9bea02bdddadfdd863"> 3129</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#aac509e38ceb4db9bea02bdddadfdd863">decode_studio_vol_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;{</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <span class="keywordtype">int</span> bits_per_raw_sample;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="rpzaenc_8c.html#a7b8da94fb39e743a39c3835b2751d2ac">rgb</a>, chroma_format;</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160; </div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            <span class="comment">// random_accessible_vol and video_object_type_indication have already</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;            <span class="comment">// been read by the caller decode_vol_header()</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4); <span class="comment">/* video_object_layer_verid */</span></div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2); <span class="comment">/* video_object_layer_shape */</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4); <span class="comment">/* video_object_layer_shape_extension */</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;            <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb); <span class="comment">/* progressive_sequence */</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a>) {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;MPEG-4 Studio profile non rectangular shape&quot;</span>);</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            }</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape != <a class="code" href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a>) {</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                <a class="code" href="structrgb.html">rgb</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb); <span class="comment">/* rgb_components */</span></div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                chroma_format = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2); <span class="comment">/* chroma_format */</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;                <span class="keywordflow">if</span> (!chroma_format || chroma_format == <a class="code" href="mpegvideo_8h.html#ab5157d7616d3a5a5cc5649d73944675f">CHROMA_420</a> || (<a class="code" href="structrgb.html">rgb</a> &amp;&amp; chroma_format == <a class="code" href="mpegvideo_8h.html#af457e9b724e2265a4a650c38bf8c38f1">CHROMA_422</a>)) {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;illegal chroma format\n&quot;</span>);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                }</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160; </div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                bits_per_raw_sample = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4); <span class="comment">/* bit_depth */</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                <span class="keywordflow">if</span> (bits_per_raw_sample == 10) {</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="structrgb.html">rgb</a>) {</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a>;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                    }</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt = chroma_format == <a class="code" href="mpegvideo_8h.html#af457e9b724e2265a4a650c38bf8c38f1">CHROMA_422</a> ? <a class="code" href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a> : <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;                    }</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                }</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;MPEG-4 Studio profile bit-depth %u&quot;</span>, bits_per_raw_sample);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                }</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="structrgb.html">rgb</a> != <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rgb || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_format != chroma_format)</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;context_reinit = 1;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample = bits_per_raw_sample;</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rgb = <a class="code" href="rpzaenc_8c.html#a7b8da94fb39e743a39c3835b2751d2ac">rgb</a>;</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_format = chroma_format;</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;            }</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;shape == <a class="code" href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a>) {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before video_object_layer_width&quot;</span>);</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 14); <span class="comment">/* video_object_layer_width */</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;before video_object_layer_height&quot;</span>);</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 14); <span class="comment">/* video_object_layer_height */</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after video_object_layer_height&quot;</span>);</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160; </div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                <span class="comment">/* Do the same check as non-studio profile */</span></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> &amp;&amp; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>) {</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height &amp;&amp;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;                        (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width != <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height != <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>))</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;context_reinit = 1;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width  = <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height = <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                }</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;            }</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;aspect_ratio_info = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;aspect_ratio_info == <a class="code" href="h263_8h.html#a2ac59087a5668d2e943218dd6df64373">FF_ASPECT_EXTENDED</a>) {</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;sample_aspect_ratio.num = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);  <span class="comment">// par_width</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;sample_aspect_ratio.den = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);  <span class="comment">// par_height</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;sample_aspect_ratio = <a class="code" href="h263data_8c.html#a642c93b5283b2c60a4d80e492a5cf28f">ff_h263_pixel_aspect</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;aspect_ratio_info];</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;            }</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4); <span class="comment">/* frame_rate_code */</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 15); <span class="comment">/* first_half_bit_rate */</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after first_half_bit_rate&quot;</span>);</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 15); <span class="comment">/* latter_half_bit_rate */</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after latter_half_bit_rate&quot;</span>);</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 15); <span class="comment">/* first_half_vbv_buffer_size */</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after first_half_vbv_buffer_size&quot;</span>);</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 3); <span class="comment">/* latter_half_vbv_buffer_size */</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 11); <span class="comment">/* first_half_vbv_buffer_size */</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after first_half_vbv_buffer_size&quot;</span>);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 15); <span class="comment">/* latter_half_vbv_occupancy */</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;            <a class="code" href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, gb, <span class="stringliteral">&quot;after latter_half_vbv_occupancy&quot;</span>);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mpeg_quant = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb); <span class="comment">/* mpeg2_stream */</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160; </div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;            <a class="code" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a>(gb);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;            <a class="code" href="mpeg4videodec_8c.html#a7ba51b4d108b26076a702ef343c504d8">extension_and_user_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb, 2);</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160; </div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;}</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03225"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ad44a01df26799f03fca77164bcaf5ea3"> 3225</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#ad44a01df26799f03fca77164bcaf5ea3">ff_mpeg4_decode_picture_header</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>)</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;{</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    <span class="keywordtype">unsigned</span> startcode, v;</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="keywordtype">int</span> vol = 0;</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160; </div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <span class="comment">/* search next start code */</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    <a class="code" href="get__bits_8h.html#ade604fdf49709e1ae3e4781d4b878f6d">align_get_bits</a>(gb);</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160; </div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="comment">// If we have not switched to studio profile than we also did not switch bps</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="comment">// that means something else (like a previous instance) outside set bps which</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    <span class="comment">// would be inconsistant with the currect state, thus reset it</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;studio_profile &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample != 8)</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample = 0;</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160; </div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;WV1F&quot;</span>) &amp;&amp; <a class="code" href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a>(gb, 24) == 0x575630) {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 24);</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) == 0xF0)</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    }</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160; </div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    startcode = 0xff;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) &gt;= gb-&gt;<a class="code" href="struct_get_bit_context.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a>) {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;            <span class="keywordflow">if</span> (gb-&gt;<a class="code" href="struct_get_bit_context.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a> == 8 &amp;&amp;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;                (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version &gt;= 0 || <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build &gt;= 0) || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;QMP4&quot;</span>)) {</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;frame skip %d\n&quot;</span>, gb-&gt;<a class="code" href="struct_get_bit_context.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a>);</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="mpegutils_8h.html#ad25997a5f6d4f1c42f988d2f2ef089ae">FRAME_SKIPPED</a>;  <span class="comment">// divx bug</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a> &amp;&amp; <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) == gb-&gt;<a class="code" href="struct_get_bit_context.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a>) {</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                <span class="keywordflow">return</span> 0; <span class="comment">// ordinary return value for parsing of extradata</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;  <span class="comment">// end of stream</span></div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;        }</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160; </div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;        <span class="comment">/* use the bits after the test */</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;        v = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;        startcode = ((startcode &lt;&lt; 8) | v) &amp; 0xffffffff;</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160; </div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;        <span class="keywordflow">if</span> ((startcode &amp; 0xFFFFFF00) != 0x100)</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;            <span class="keywordflow">continue</span>;  <span class="comment">// no startcode</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160; </div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;debug &amp; <a class="code" href="avcodec_8h.html#a0deea55bc1816542a27d51388a327d8e">FF_DEBUG_STARTCODE</a>) {</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;startcode: %3X &quot;</span>, startcode);</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;            <span class="keywordflow">if</span> (startcode &lt;= 0x11F)</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Video Object Start&quot;</span>);</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode &lt;= 0x12F)</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Video Object Layer Start&quot;</span>);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode &lt;= 0x13F)</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Reserved&quot;</span>);</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode &lt;= 0x15F)</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;FGS bp start&quot;</span>);</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode &lt;= 0x1AF)</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Reserved&quot;</span>);</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B0)</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Visual Object Seq Start&quot;</span>);</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B1)</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Visual Object Seq End&quot;</span>);</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B2)</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;User Data&quot;</span>);</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B3)</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Group of VOP start&quot;</span>);</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B4)</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Video Session Error&quot;</span>);</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B5)</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Visual Object Start&quot;</span>);</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B6)</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Video Object Plane start&quot;</span>);</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B7)</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;slice start&quot;</span>);</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B8)</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;extension start&quot;</span>);</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1B9)</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;fgs start&quot;</span>);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1BA)</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;FBA Object start&quot;</span>);</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1BB)</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;FBA Object Plane start&quot;</span>);</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1BC)</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Mesh Object start&quot;</span>);</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1BD)</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Mesh Object Plane start&quot;</span>);</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1BE)</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Still Texture Object start&quot;</span>);</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1BF)</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Texture Spatial Layer start&quot;</span>);</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1C0)</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Texture SNR Layer start&quot;</span>);</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1C1)</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Texture Tile start&quot;</span>);</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1C2)</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Texture Shape Layer start&quot;</span>);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == 0x1C3)</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;stuffing start&quot;</span>);</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode &lt;= 0x1C5)</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;reserved&quot;</span>);</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode &lt;= 0x1FF)</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;System start&quot;</span>);</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot; at %d\n&quot;</span>, <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb));</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;        }</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160; </div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        <span class="keywordflow">if</span> (startcode &gt;= 0x120 &amp;&amp; startcode &lt;= 0x12F) {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;            <span class="keywordflow">if</span> (vol) {</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Ignoring multiple VOL headers\n&quot;</span>);</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;            }</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;            vol++;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mpeg4videodec_8c.html#abadbf5188f6ff57e78e11d31aa462f56">decode_vol_header</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb)) &lt; 0)</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == <a class="code" href="mpeg4video_8h.html#a20e79794aa0786fb5e2fef254650232d">USER_DATA_STARTCODE</a>) {</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;            <a class="code" href="mpeg4videodec_8c.html#af9b5ba44584399dbaf434ab99bf24bf2">decode_user_data</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb);</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == <a class="code" href="mpeg4video_8h.html#ae72f13a4150084e121eca51b040fe9d1">GOP_STARTCODE</a>) {</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;            <a class="code" href="mpeg4videodec_8c.html#a7a837ebc835414295e2da6001d670a4d">mpeg4_decode_gop_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == <a class="code" href="mpeg4video_8h.html#aab2d74f6f9141b604ed64c6dc8d65fbd">VOS_STARTCODE</a>) {</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;            <a class="code" href="mpeg4videodec_8c.html#a13cc680e873faf75c160a09959656d08">mpeg4_decode_profile_level</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb, &amp;<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>, &amp;<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>);</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> == <a class="code" href="avcodec_8h.html#a76ee3d6a5ac36fe01cec2b35327a0cef">FF_PROFILE_MPEG4_SIMPLE_STUDIO</a> &amp;&amp;</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt; 0 &amp;&amp; <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &lt; 9)) {</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;studio_profile = 1;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                <a class="code" href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a>(gb);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;                <a class="code" href="mpeg4videodec_8c.html#a7ba51b4d108b26076a702ef343c504d8">extension_and_user_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb, 0);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;studio_profile) {</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Mix of studio and non studio profile&quot;</span>);</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;            }</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;profile = <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>;</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;level   = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == <a class="code" href="mpeg4video_8h.html#aff483794908bbf559fd5bc7bb61b269f">VISUAL_OBJ_STARTCODE</a>) {</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;studio_profile) {</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mpeg4videodec_8c.html#ade2c12a8169f98b2d0554be6a3956c26">decode_studiovisualobject</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb)) &lt; 0)</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                <a class="code" href="mpeg4videodec_8c.html#a77fa830db25779d814990b7331b11fd9">mpeg4_decode_visual_object</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, gb);</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startcode == <a class="code" href="mpeg4video_8h.html#ac6963b0ecbae79a61bd1e96b561ce6fc">VOP_STARTCODE</a>) {</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;        }</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160; </div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;        <a class="code" href="get__bits_8h.html#ade604fdf49709e1ae3e4781d4b878f6d">align_get_bits</a>(gb);</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;        startcode = 0xff;</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    }</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160; </div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;flags &amp; <a class="code" href="group__lavc__core.html#gaa90f89265adba401ebe80380517fe613">AV_CODEC_FLAG_LOW_DELAY</a>)</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = 1;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;has_b_frames = !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160; </div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;studio_profile) {</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;bits_per_raw_sample) {</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Missing VOL header\n&quot;</span>);</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;        }</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpeg4videodec_8c.html#a43177b29fe25e4cd6fd40a4165e6d7a0">decode_studio_vop_header</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb);</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mpeg4videodec_8c.html#a9cf6009c310feafa73a80dc04a1f06a8">decode_vop_header</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, gb);</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;}</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160; </div>
<div class="line"><a name="l03381"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a99f93c43487fdbb138b89701da014d4b"> 3381</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="mpeg4videodec_8c.html#a99f93c43487fdbb138b89701da014d4b">ff_mpeg4videodec_static_init</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> done = 0;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160; </div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <span class="keywordflow">if</span> (!done) {</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;        <a class="code" href="rl_8c.html#aea223213d198a43aae9852a92d9f45ec">ff_rl_init</a>(&amp;<a class="code" href="mpeg4data_8h.html#a313b1bc65b6adcf48f1e2dd7e663cb97">ff_mpeg4_rl_intra</a>, <a class="code" href="mpeg4video_8c.html#aa4c7caefb623bd8d04d71fcab14855f4">ff_mpeg4_static_rl_table_store</a>[0]);</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;        <a class="code" href="rl_8c.html#aea223213d198a43aae9852a92d9f45ec">ff_rl_init</a>(&amp;<a class="code" href="mpeg4data_8h.html#ada6f4fe4f55af0c02ce7aea0872b808c">ff_rvlc_rl_inter</a>, <a class="code" href="mpeg4video_8c.html#aa4c7caefb623bd8d04d71fcab14855f4">ff_mpeg4_static_rl_table_store</a>[1]);</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;        <a class="code" href="rl_8c.html#aea223213d198a43aae9852a92d9f45ec">ff_rl_init</a>(&amp;<a class="code" href="mpeg4data_8h.html#ad0c6a577cb344fc9b6c42981d63fd9fd">ff_rvlc_rl_intra</a>, <a class="code" href="mpeg4video_8c.html#aa4c7caefb623bd8d04d71fcab14855f4">ff_mpeg4_static_rl_table_store</a>[2]);</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;        <a class="code" href="rl_8h.html#ad96d339ab185474c03b15d1562b41f29">INIT_VLC_RL</a>(<a class="code" href="mpeg4data_8h.html#a313b1bc65b6adcf48f1e2dd7e663cb97">ff_mpeg4_rl_intra</a>, 554);</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        <a class="code" href="rl_8h.html#ad96d339ab185474c03b15d1562b41f29">INIT_VLC_RL</a>(<a class="code" href="mpeg4data_8h.html#ada6f4fe4f55af0c02ce7aea0872b808c">ff_rvlc_rl_inter</a>, 1072);</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        <a class="code" href="rl_8h.html#ad96d339ab185474c03b15d1562b41f29">INIT_VLC_RL</a>(<a class="code" href="mpeg4data_8h.html#ad0c6a577cb344fc9b6c42981d63fd9fd">ff_rvlc_rl_intra</a>, 1072);</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;        <a class="code" href="vlc_8h.html#a233dcdd511c948256a93b3b740e18460">INIT_VLC_STATIC</a>(&amp;<a class="code" href="mpeg4videodec_8c.html#a70d6d6545bea2a3b6d6d90300fc5b9fa">dc_lum</a>, <a class="code" href="mpeg4videodec_8c.html#ab33094be20c26cf567aa5c10ef1fa45d">DC_VLC_BITS</a>, 10 <span class="comment">/* 13 */</span>,</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#a07d02c86cc9c7043d763ca335ede62b4">ff_mpeg4_DCtab_lum</a>[0][1], 2, 1,</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#a07d02c86cc9c7043d763ca335ede62b4">ff_mpeg4_DCtab_lum</a>[0][0], 2, 1, 512);</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;        <a class="code" href="vlc_8h.html#a233dcdd511c948256a93b3b740e18460">INIT_VLC_STATIC</a>(&amp;<a class="code" href="mpeg4videodec_8c.html#abc93af2f34d185ba3868418f9bbf0e17">dc_chrom</a>, <a class="code" href="mpeg4videodec_8c.html#ab33094be20c26cf567aa5c10ef1fa45d">DC_VLC_BITS</a>, 10 <span class="comment">/* 13 */</span>,</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#a775cd30d6516dd8eef078e2b6dd2cbc8">ff_mpeg4_DCtab_chrom</a>[0][1], 2, 1,</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#a775cd30d6516dd8eef078e2b6dd2cbc8">ff_mpeg4_DCtab_chrom</a>[0][0], 2, 1, 512);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        <a class="code" href="vlc_8h.html#a233dcdd511c948256a93b3b740e18460">INIT_VLC_STATIC</a>(&amp;<a class="code" href="mpeg4videodec_8c.html#a750b43fe0c45c023226c7269fd9902f2">sprite_trajectory</a>, <a class="code" href="mpeg4videodec_8c.html#aa0af12973226136f08c1e6abc20d53a2">SPRITE_TRAJ_VLC_BITS</a>, 15,</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#af37ef3f33e38441e36850f5b183eb607">ff_sprite_trajectory_tab</a>[0][1], 4, 2,</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#af37ef3f33e38441e36850f5b183eb607">ff_sprite_trajectory_tab</a>[0][0], 4, 2, 128);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        <a class="code" href="vlc_8h.html#a233dcdd511c948256a93b3b740e18460">INIT_VLC_STATIC</a>(&amp;<a class="code" href="mpeg4videodec_8c.html#a587f0f5a11309aaf7ae78b223502e059">mb_type_b_vlc</a>, <a class="code" href="mpeg4videodec_8c.html#a63fb043f96b635aae323804b35b37190">MB_TYPE_B_VLC_BITS</a>, 4,</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#a4911ccb238421c83c5189173a46beae7">ff_mb_type_b_tab</a>[0][1], 2, 1,</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                        &amp;<a class="code" href="mpeg4data_8h.html#a4911ccb238421c83c5189173a46beae7">ff_mb_type_b_tab</a>[0][0], 2, 1, 16);</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;        done = 1;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    }</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;}</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160; </div>
<div class="line"><a name="l03407"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#acfc647a7f04652014332e2ce2b17966d"> 3407</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#acfc647a7f04652014332e2ce2b17966d">ff_mpeg4_frame_end</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> buf_size)</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;{</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a>    *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160; </div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    <span class="comment">/* divx 5.01+ bitstream reorder stuff */</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    <span class="comment">/* Since this clobbers the input buffer and hwaccel codecs still need the</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="comment">     * data during hwaccel-&gt;end_frame we should not do this any earlier */</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;divx_packed) {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        <span class="keywordtype">int</span> current_pos     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb.buffer == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitstream_buffer ? 0 : (<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &gt;&gt; 3);</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;        <span class="keywordtype">int</span> startcode_found = 0;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160; </div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;        <span class="keywordflow">if</span> (buf_size - current_pos &gt; 7) {</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160; </div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = current_pos; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; buf_size - 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160; </div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;                <span class="keywordflow">if</span> (buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]     == 0 &amp;&amp;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;                    buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1] == 0 &amp;&amp;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;                    buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2] == 1 &amp;&amp;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                    buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 3] == 0xB6) {</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;                    startcode_found = !(buf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 4] &amp; 0x40);</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;                }</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        }</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160; </div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;        <span class="keywordflow">if</span> (startcode_found) {</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;showed_packed_warning) {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Video uses a non-standard and &quot;</span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;                       <span class="stringliteral">&quot;wasteful way to store B-frames (&#39;packed B-frames&#39;). &quot;</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;                       <span class="stringliteral">&quot;Consider using the mpeg4_unpack_bframes bitstream filter without encoding but stream copy to fix it.\n&quot;</span>);</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;showed_packed_warning = 1;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;            }</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;            <a class="code" href="group__lavc__misc.html#ga04a23a2336412504052d5c4e0c7716ee">av_fast_padded_malloc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitstream_buffer,</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;                           &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;allocated_bitstream_buffer_size,</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;                           buf_size - current_pos);</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitstream_buffer) {</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitstream_buffer_size = 0;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;            }</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;            memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitstream_buffer, buf + current_pos,</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;                   buf_size - current_pos);</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bitstream_buffer_size = buf_size - current_pos;</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;        }</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    }</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;}</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160; </div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;<span class="preprocessor">#if HAVE_THREADS</span></div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> mpeg4_update_thread_context(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *dst,</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;{</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = dst-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;priv_data;</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;m.context_initialized;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160; </div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mpegvideo_8c.html#ab7194fae34d0ae2c3f731115e0787d03">ff_mpeg_update_thread_context</a>(dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>);</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160; </div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <span class="comment">// copy all the necessary fields explicitly</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_increment_bits       = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;time_increment_bits;</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;shape                     = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;shape;</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vol_sprite_usage          = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;vol_sprite_usage;</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_brightness_change  = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;sprite_brightness_change;</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_sprite_warping_points = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;num_sprite_warping_points;</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;rvlc                      = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;rvlc;</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;resync_marker             = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;resync_marker;</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;t_frame                   = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;t_frame;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;new_pred                  = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;new_pred;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;enhancement_type          = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;enhancement_type;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;scalability               = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;scalability;</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;use_intra_dc_vlc          = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;use_intra_dc_vlc;</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra_dc_threshold        = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;intra_dc_threshold;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;divx_version              = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;divx_version;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;divx_build                = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;divx_build;</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;xvid_build                = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;xvid_build;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lavc_build                = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;lavc_build;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;showed_packed_warning     = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;showed_packed_warning;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vol_control_parameters    = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;vol_control_parameters;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cplx_estimation_trash_i   = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;cplx_estimation_trash_i;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cplx_estimation_trash_p   = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;cplx_estimation_trash_p;</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cplx_estimation_trash_b   = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;cplx_estimation_trash_b;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;rgb                       = <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;rgb;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160; </div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_shift, <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;sprite_shift, <span class="keyword">sizeof</span>(<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;sprite_shift));</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sprite_traj,  <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;sprite_traj,  <span class="keyword">sizeof</span>(<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;sprite_traj));</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <span class="keywordflow">if</span> (CONFIG_MPEG4_DECODER &amp;&amp; !<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a> &amp;&amp; <a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>-&gt;xvid_build &gt;= 0)</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;        <a class="code" href="xvididct_8c.html#aace3294960f967024e87b3ee460ec6f8">ff_xvid_idct_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;m.idsp, dst);</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160; </div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;}</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160; </div>
<div class="line"><a name="l03504"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a21f76e5b218a5e5d60f1f3b296b14a97"> 3504</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a21f76e5b218a5e5d60f1f3b296b14a97">init_studio_vlcs</a>(<a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;{</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160; </div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 12; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_intra_tab[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a>, 22,</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;                       &amp;<a class="code" href="mpeg4data_8h.html#ac3dc13dc7e9c3af4c104ab9b9f808286">ff_mpeg4_studio_intra</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0][1], 4, 2,</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;                       &amp;<a class="code" href="mpeg4data_8h.html#ac3dc13dc7e9c3af4c104ab9b9f808286">ff_mpeg4_studio_intra</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0][0], 4, 2,</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;                       0);</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160; </div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    }</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160; </div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_luma_dc, <a class="code" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a>, 19,</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                   &amp;<a class="code" href="mpeg4data_8h.html#a7bc9571cdb53c8cdc1c66c3c0f0bf2d0">ff_mpeg4_studio_dc_luma</a>[0][1], 4, 2,</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;                   &amp;<a class="code" href="mpeg4data_8h.html#a7bc9571cdb53c8cdc1c66c3c0f0bf2d0">ff_mpeg4_studio_dc_luma</a>[0][0], 4, 2,</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;                   0);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160; </div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_chroma_dc, <a class="code" href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a>, 19,</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;                   &amp;<a class="code" href="mpeg4data_8h.html#ac4efbff6f94fc4a4f8cf3637387d0899">ff_mpeg4_studio_dc_chroma</a>[0][1], 4, 2,</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;                   &amp;<a class="code" href="mpeg4data_8h.html#ac4efbff6f94fc4a4f8cf3637387d0899">ff_mpeg4_studio_dc_chroma</a>[0][0], 4, 2,</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;                   0);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160; </div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;}</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160; </div>
<div class="line"><a name="l03535"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a669de65d99fa3e9e8a350bf4442c4ceb"> 3535</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a669de65d99fa3e9e8a350bf4442c4ceb">decode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;{</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m;</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160; </div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_version =</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;divx_build   =</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;xvid_build   =</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lavc_build   = -1;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160; </div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="h263_8h.html#ad8d8a3982e5906c9924132b77c580bf0">ff_h263_decode_init</a>(avctx)) &lt; 0)</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160; </div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    <a class="code" href="mpeg4videodec_8c.html#a99f93c43487fdbb138b89701da014d4b">ff_mpeg4videodec_static_init</a>();</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mpeg4videodec_8c.html#a21f76e5b218a5e5d60f1f3b296b14a97">init_studio_vlcs</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)) &lt; 0)</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160; </div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;h263_pred = 1;</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;low_delay = 0; <span class="comment">/* default, might be overridden in the vol header during header parsing */</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;decode_mb = <a class="code" href="mpeg4videodec_8c.html#a80c507eb487fff1922fd2807068095c4">mpeg4_decode_mb</a>;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;time_increment_bits = 4; <span class="comment">/* default value for broken headers */</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160; </div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac60a0209642b5d74068cab0ac35a78b2">chroma_sample_location</a> = <a class="code" href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffab75254964869bf3bf25806ad0cad44b2">AVCHROMA_LOC_LEFT</a>;</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160; </div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;}</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160; </div>
<div class="line"><a name="l03563"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a84e2e3c224f78dc08a5587b23c72d34b"> 3563</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="mpeg4videodec_8c.html#a84e2e3c224f78dc08a5587b23c72d34b">decode_end</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;{</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <a class="code" href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160; </div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 12; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;        <a class="code" href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_intra_tab[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160; </div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    <a class="code" href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_luma_dc);</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    <a class="code" href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;studio_chroma_dc);</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160; </div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="h263_8h.html#a9d9b3d7da846f298ac1c787a28c2d49f">ff_h263_decode_end</a>(avctx);</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;}</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160; </div>
<div class="line"><a name="l03577"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#ab04d3f28a3c6400f2c419b4787c53b71"> 3577</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="mpeg4videodec_8c.html#ab04d3f28a3c6400f2c419b4787c53b71">mpeg4_options</a>[] = {</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    {<span class="stringliteral">&quot;quarter_sample&quot;</span>, <span class="stringliteral">&quot;1/4 subpel MC&quot;</span>, offsetof(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a>, quarter_sample), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0}, 0, 1, 0},</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    {<span class="stringliteral">&quot;divx_packed&quot;</span>, <span class="stringliteral">&quot;divx style packed b frames&quot;</span>, offsetof(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a>, divx_packed), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0}, 0, 1, 0},</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    {<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;};</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160; </div>
<div class="line"><a name="l03583"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a9d8b79f7eea230e7f0d203690ddc4573"> 3583</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="mpeg4videodec_8c.html#a9d8b79f7eea230e7f0d203690ddc4573">mpeg4_class</a> = {</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;MPEG4 Video Decoder&quot;</span>,</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    .option     = <a class="code" href="mpeg4videodec_8c.html#ab04d3f28a3c6400f2c419b4787c53b71">mpeg4_options</a>,</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;};</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160; </div>
<div class="line"><a name="l03590"></a><span class="lineno"><a class="line" href="mpeg4videodec_8c.html#a2be57e7b80017951925cb5025f6b17d4"> 3590</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="mpeg4videodec_8c.html#a2be57e7b80017951925cb5025f6b17d4">ff_mpeg4_decoder</a> = {</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>                  = <span class="stringliteral">&quot;mpeg4&quot;</span>,</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    .long_name             = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;MPEG-4 part 2&quot;</span>),</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    .type                  = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;    .id                    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a>,</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    .priv_data_size        = <span class="keyword">sizeof</span>(<a class="code" href="mpeg4video_8h.html#ab6ff9b8b5949d69e40b267f76dcb576b">Mpeg4DecContext</a>),</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>                  = <a class="code" href="mpeg4videodec_8c.html#a669de65d99fa3e9e8a350bf4442c4ceb">decode_init</a>,</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    .close                 = <a class="code" href="mpeg4videodec_8c.html#a84e2e3c224f78dc08a5587b23c72d34b">decode_end</a>,</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>                = <a class="code" href="h263_8h.html#a8dc65750317e273713156a72f97a2c14">ff_h263_decode_frame</a>,</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    .capabilities          = <a class="code" href="group__lavc__core.html#ga01fbdf31e076d8902d8f4118c0aea6ea">AV_CODEC_CAP_DRAW_HORIZ_BAND</a> | <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a> |</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;                             <a class="code" href="group__lavc__core.html#ga239656738c46ed6e3cde210a9390433a">AV_CODEC_CAP_TRUNCATED</a> | <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a> |</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;                             <a class="code" href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a>,</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    .caps_internal         = <a class="code" href="libavcodec_2internal_8h.html#a726afea9dd0ba75c97d869e8309772cf">FF_CODEC_CAP_SKIP_FRAME_FILL_PARAM</a> |</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;                             <a class="code" href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a> |</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;                             <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>                 = <a class="code" href="mpegvideo_8c.html#a6b2170ea66fd50185869b62ea76329f8">ff_mpeg_flush</a>,</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    .max_lowres            = 3,</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>              = <a class="code" href="h263_8h.html#a5a86a03290e3e36923197d2ff9f5a85f">ff_h263_hwaccel_pixfmt_list_420</a>,</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    .<a class="code" href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a>              = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#aa9dd339c7c34cdd0e29da43a0dbcd53a">ff_mpeg4_video_profiles</a>),</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    .update_thread_context = <a class="code" href="libavutil_2internal_8h.html#ab9aca4492668a79bc015f43ad944021e">ONLY_IF_THREADS_ENABLED</a>(mpeg4_update_thread_context),</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    .priv_class = &amp;<a class="code" href="mpeg4videodec_8c.html#a9d8b79f7eea230e7f0d203690ddc4573">mpeg4_class</a>,</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    .hw_configs            = (<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_h_w_config_internal.html">AVCodecHWConfigInternal</a>*[]) {</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;<span class="preprocessor">#if CONFIG_MPEG4_NVDEC_HWACCEL</span></div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;                               <a class="code" href="hwconfig_8h.html#a70bd26e4d09c023615aba0c4e82269fe">HWACCEL_NVDEC</a>(mpeg4),</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;<span class="preprocessor">#if CONFIG_MPEG4_VAAPI_HWACCEL</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;                               <a class="code" href="hwconfig_8h.html#aa68c779f38e712638d155e481ce20a79">HWACCEL_VAAPI</a>(mpeg4),</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;<span class="preprocessor">#if CONFIG_MPEG4_VDPAU_HWACCEL</span></div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;                               <a class="code" href="hwconfig_8h.html#a39495b55cb8bbd304ee7a4ee77b86234">HWACCEL_VDPAU</a>(mpeg4),</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;<span class="preprocessor">#if CONFIG_MPEG4_VIDEOTOOLBOX_HWACCEL</span></div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;                               <a class="code" href="ffmpeg_8h.html#a0804b6530666fd8d5f4e4193ee1d205faf941d724f9c78c4ac3174e2f6da82bd3">HWACCEL_VIDEOTOOLBOX</a>(mpeg4),</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;                               <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;                           },</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="ampeg4videodec_8c_html_a99f93c43487fdbb138b89701da014d4b"><div class="ttname"><a href="mpeg4videodec_8c.html#a99f93c43487fdbb138b89701da014d4b">ff_mpeg4videodec_static_init</a></div><div class="ttdeci">av_cold void ff_mpeg4videodec_static_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03381">mpeg4videodec.c:3381</a></div></div>
<div class="ttc" id="ahwconfig_8h_html"><div class="ttname"><a href="hwconfig_8h.html">hwconfig.h</a></div></div>
<div class="ttc" id="ampegutils_8h_html_ab8c5b21d0da9f13a58e04abc7c612a70"><div class="ttname"><a href="mpegutils_8h.html#ab8c5b21d0da9f13a58e04abc7c612a70">IS_8X8</a></div><div class="ttdeci">#define IS_8X8(a)</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00089">mpegutils.h:89</a></div></div>
<div class="ttc" id="ampegutils_8h_html_ac8cac1ccad39ddfc2ac2914b11faebf8"><div class="ttname"><a href="mpegutils_8h.html#ac8cac1ccad39ddfc2ac2914b11faebf8">MB_TYPE_L0</a></div><div class="ttdeci">#define MB_TYPE_L0</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00067">mpegutils.h:67</a></div></div>
<div class="ttc" id="amace_8c_html_a08f66a6870d87afcd5dc1b60d1019692"><div class="ttname"><a href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a></div><div class="ttdeci">int stride</div><div class="ttdef"><b>Definition:</b> <a href="mace_8c_source.html#l00144">mace.c:144</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a25014ac1ac2aeeab6d8fc9855b7899cb"><div class="ttname"><a href="avcodec_8h.html#a25014ac1ac2aeeab6d8fc9855b7899cb">FF_BUG_DC_CLIP</a></div><div class="ttdeci">#define FF_BUG_DC_CLIP</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01572">avcodec.h:1572</a></div></div>
<div class="ttc" id="aprofiles_8c_html_aa9dd339c7c34cdd0e29da43a0dbcd53a"><div class="ttname"><a href="profiles_8c.html#aa9dd339c7c34cdd0e29da43a0dbcd53a">ff_mpeg4_video_profiles</a></div><div class="ttdeci">const AVProfile ff_mpeg4_video_profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="profiles_8c_source.html#l00105">profiles.c:105</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_ae17ddc0eaf08f5eea9e1d13399f1cb08"><div class="ttname"><a href="mpegvideo_8h.html#ae17ddc0eaf08f5eea9e1d13399f1cb08">MV_TYPE_16X16</a></div><div class="ttdeci">#define MV_TYPE_16X16</div><div class="ttdoc">1 vector for the whole mb</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00266">mpegvideo.h:266</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a47c3a35ba8dece0168d84181f224b55d"><div class="ttname"><a href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a></div><div class="ttdeci">static void skip_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00291">get_bits.h:291</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a9d8b79f7eea230e7f0d203690ddc4573"><div class="ttname"><a href="mpeg4videodec_8c.html#a9d8b79f7eea230e7f0d203690ddc4573">mpeg4_class</a></div><div class="ttdeci">static const AVClass mpeg4_class</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03583">mpeg4videodec.c:3583</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="aidctdsp_8c_html_a252b519d9db4b15f152d0b3bfbebb128"><div class="ttname"><a href="idctdsp_8c.html#a252b519d9db4b15f152d0b3bfbebb128">ff_init_scantable</a></div><div class="ttdeci">av_cold void ff_init_scantable(uint8_t *permutation, ScanTable *st, const uint8_t *src_scantable)</div><div class="ttdef"><b>Definition:</b> <a href="idctdsp_8c_source.html#l00029">idctdsp.c:29</a></div></div>
<div class="ttc" id="ah263_8h_html_a2ac59087a5668d2e943218dd6df64373"><div class="ttname"><a href="h263_8h.html#a2ac59087a5668d2e943218dd6df64373">FF_ASPECT_EXTENDED</a></div><div class="ttdeci">#define FF_ASPECT_EXTENDED</div><div class="ttdef"><b>Definition:</b> <a href="h263_8h_source.html#l00030">h263.h:30</a></div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_aff483794908bbf559fd5bc7bb61b269f"><div class="ttname"><a href="mpeg4video_8h.html#aff483794908bbf559fd5bc7bb61b269f">VISUAL_OBJ_STARTCODE</a></div><div class="ttdeci">#define VISUAL_OBJ_STARTCODE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00064">mpeg4video.h:64</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a1e8bf29d582aed77edf011f2e60adbcb"><div class="ttname"><a href="get__bits_8h.html#a1e8bf29d582aed77edf011f2e60adbcb">show_bits_long</a></div><div class="ttdeci">static unsigned int show_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00602">get_bits.h:602</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a44d39cea027a76211f31e3bf2e3e68a4"><div class="ttname"><a href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a></div><div class="ttdeci">static int get_bits_left(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00849">get_bits.h:849</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a3b965f72db1c3bede7c0fa52159bd2ef"><div class="ttname"><a href="mpegutils_8h.html#a3b965f72db1c3bede7c0fa52159bd2ef">IS_ACPRED</a></div><div class="ttdeci">#define IS_ACPRED(a)</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00094">mpegutils.h:94</a></div></div>
<div class="ttc" id="avf__curves_8c_html_a33ac7b8ce37a3a60855883424fcf8b62"><div class="ttname"><a href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a></div><div class="ttdeci">const char * r</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00114">vf_curves.c:114</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="axvididct_8c_html_aace3294960f967024e87b3ee460ec6f8"><div class="ttname"><a href="xvididct_8c.html#aace3294960f967024e87b3ee460ec6f8">ff_xvid_idct_init</a></div><div class="ttdeci">av_cold void ff_xvid_idct_init(IDCTDSPContext *c, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="xvididct_8c_source.html#l00333">xvididct.c:333</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_aa027f2fa72c4084cff8931cef9d3d738"><div class="ttname"><a href="mpeg4video_8h.html#aa027f2fa72c4084cff8931cef9d3d738">mpeg4_block_count</a></div><div class="ttdeci">static const uint8_t mpeg4_block_count[4]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00125">mpeg4video.h:125</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html"><div class="ttname"><a href="libavutil_2thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a9dfe33654c94b69cdad9d09fe783bb58"><div class="ttname"><a href="mpegvideo_8h.html#a9dfe33654c94b69cdad9d09fe783bb58">mpeg_get_qscale</a></div><div class="ttdeci">static int mpeg_get_qscale(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00764">mpegvideo.h:764</a></div></div>
<div class="ttc" id="avlc_8h_html_a233dcdd511c948256a93b3b740e18460"><div class="ttname"><a href="vlc_8h.html#a233dcdd511c948256a93b3b740e18460">INIT_VLC_STATIC</a></div><div class="ttdeci">#define INIT_VLC_STATIC(vlc, bits, a, b, c, d, e, f, g, static_size)</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00084">vlc.h:84</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a20dc15e40874f46af0d2b4ad34aed9a7"><div class="ttname"><a href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a></div><div class="ttdeci">static unsigned int get_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00546">get_bits.h:546</a></div></div>
<div class="ttc" id="ampegutils_8h_html_aa52ac304781a69b1b1651a9fbbc465a6"><div class="ttname"><a href="mpegutils_8h.html#aa52ac304781a69b1b1651a9fbbc465a6">MB_TYPE_16x8</a></div><div class="ttdeci">#define MB_TYPE_16x8</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00055">mpegutils.h:55</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_aa4e1c6357e04ee6960702c705448a76a"><div class="ttname"><a href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a></div><div class="ttdeci">filter_frame For filters that do not use the this method is called when a frame is pushed to the filter s input It can be called at any time except in a reentrant way If the input frame is enough to produce output</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00225">filter_design.txt:225</a></div></div>
<div class="ttc" id="arl_8h_html_a6290a2e3d073369f1f1660c061cb0d48"><div class="ttname"><a href="rl_8h.html#a6290a2e3d073369f1f1660c061cb0d48">MAX_RUN</a></div><div class="ttdeci">#define MAX_RUN</div><div class="ttdef"><b>Definition:</b> <a href="rl_8h_source.html#l00035">rl.h:35</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ae41913587baf755b91c2219c63d686b9"><div class="ttname"><a href="mpeg4videodec_8c.html#ae41913587baf755b91c2219c63d686b9">mpeg4_decode_block</a></div><div class="ttdeci">static int mpeg4_decode_block(Mpeg4DecContext *ctx, int16_t *block, int n, int coded, int intra, int rvlc)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l01042">mpeg4videodec.c:1042</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aac3f793480c01f793f2acc9eba031ff5"><div class="ttname"><a href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a></div><div class="ttdeci">static int get_bits_count(const GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00219">get_bits.h:219</a></div></div>
<div class="ttc" id="astruct_a_v_codec_h_w_config_internal_html"><div class="ttname"><a href="struct_a_v_codec_h_w_config_internal.html">AVCodecHWConfigInternal</a></div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00029">hwconfig.h:29</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a297516c6f765e3f97312472009b1fa16"><div class="ttname"><a href="mpeg4video_8h.html#a297516c6f765e3f97312472009b1fa16">VOT_VIDEO_ID</a></div><div class="ttdeci">#define VOT_VIDEO_ID</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00048">mpeg4video.h:48</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a4ed821e2274373d2f60e7403de0b608b"><div class="ttname"><a href="mpeg4videodec_8c.html#a4ed821e2274373d2f60e7403de0b608b">ac_state_tab</a></div><div class="ttdeci">static const uint8_t ac_state_tab[22][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l01791">mpeg4videodec.c:1791</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_af37ef3f33e38441e36850f5b183eb607"><div class="ttname"><a href="mpeg4data_8h.html#af37ef3f33e38441e36850f5b183eb607">ff_sprite_trajectory_tab</a></div><div class="ttdeci">const uint16_t ff_sprite_trajectory_tab[15][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00326">mpeg4data.h:326</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_ae04ecce3af14ac66e5f3383c9d21418d"><div class="ttname"><a href="mpegvideo_8h.html#ae04ecce3af14ac66e5f3383c9d21418d">MV_DIRECT</a></div><div class="ttdeci">#define MV_DIRECT</div><div class="ttdoc">bidirectional mode where the difference equals the MV of the last P/S/I-Frame (MPEG-4)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00264">mpegvideo.h:264</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG4</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00061">codec_id.h:61</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga239656738c46ed6e3cde210a9390433a"><div class="ttname"><a href="group__lavc__core.html#ga239656738c46ed6e3cde210a9390433a">AV_CODEC_CAP_TRUNCATED</a></div><div class="ttdeci">#define AV_CODEC_CAP_TRUNCATED</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00051">codec.h:51</a></div></div>
<div class="ttc" id="apixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="allviddspenc_8c_html_aba9ed0487b0aa23eba534648df8384c0"><div class="ttname"><a href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a></div><div class="ttdeci">uint8_t w</div><div class="ttdef"><b>Definition:</b> <a href="llviddspenc_8c_source.html#l00038">llviddspenc.c:38</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a2ddd46a12b96523807ddb5f037bf8eb4"><div class="ttname"><a href="mpeg4video_8h.html#a2ddd46a12b96523807ddb5f037bf8eb4">STATIC_SPRITE</a></div><div class="ttdeci">#define STATIC_SPRITE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00055">mpeg4video.h:55</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a06f82c0c9613ce77d918cb812445e837"><div class="ttname"><a href="avcodec_8h.html#a06f82c0c9613ce77d918cb812445e837">FF_BUG_EDGE</a></div><div class="ttdeci">#define FF_BUG_EDGE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01570">avcodec.h:1570</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a></div><div class="ttdeci">@ AVCOL_RANGE_JPEG</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00586">pixfmt.h:586</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_af6e3c46b907a89a1da158ab94191f39d"><div class="ttname"><a href="mpeg4video_8h.html#af6e3c46b907a89a1da158ab94191f39d">BIN_ONLY_SHAPE</a></div><div class="ttdeci">#define BIN_ONLY_SHAPE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00035">mpeg4video.h:35</a></div></div>
<div class="ttc" id="astruct_r_l_table_html_a53a6b6068d23096e3dcc7369fe522c2d"><div class="ttname"><a href="struct_r_l_table.html#a53a6b6068d23096e3dcc7369fe522c2d">RLTable::rl_vlc</a></div><div class="ttdeci">RL_VLC_ELEM * rl_vlc[32]</div><div class="ttdoc">decoding only</div><div class="ttdef"><b>Definition:</b> <a href="rl_8h_source.html#l00048">rl.h:48</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a6d053c0a90dae22514b822ad27a8a2ef"><div class="ttname"><a href="mpeg4videodec_8c.html#a6d053c0a90dae22514b822ad27a8a2ef">mpeg4_decode_studio_mb</a></div><div class="ttdeci">static int mpeg4_decode_studio_mb(MpegEncContext *s, int16_t block_[12][64])</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02015">mpeg4videodec.c:2015</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a0936d27392db3bf2e13b84d1a95b8fc3"><div class="ttname"><a href="mpeg4video_8h.html#a0936d27392db3bf2e13b84d1a95b8fc3">ADV_SIMPLE_VO_TYPE</a></div><div class="ttdeci">#define ADV_SIMPLE_VO_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00046">mpeg4video.h:46</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a6be4751a554e022b4ed1dba36df3d379"><div class="ttname"><a href="mpeg4videodec_8c.html#a6be4751a554e022b4ed1dba36df3d379">ff_mpeg4_decode_studio_slice_header</a></div><div class="ttdeci">int ff_mpeg4_decode_studio_slice_header(Mpeg4DecContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00548">mpeg4videodec.c:548</a></div></div>
<div class="ttc" id="avlc_8h_html_a181984da1fe3452ad6a16348d10f8236"><div class="ttname"><a href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a></div><div class="ttdeci">#define init_vlc(vlc, nb_bits, nb_codes, bits, bits_wrap, bits_size, codes, codes_wrap, codes_size, flags)</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00038">vlc.h:38</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a7a837ebc835414295e2da6001d670a4d"><div class="ttname"><a href="mpeg4videodec_8c.html#a7a837ebc835414295e2da6001d670a4d">mpeg4_decode_gop_header</a></div><div class="ttdeci">static int mpeg4_decode_gop_header(MpegEncContext *s, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02062">mpeg4videodec.c:2062</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1c52e4da25b608b2b9a80af21bb86d58"><div class="ttname"><a href="struct_a_v_codec_context.html#a1c52e4da25b608b2b9a80af21bb86d58">AVCodecContext::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01611">avcodec.h:1611</a></div></div>
<div class="ttc" id="ampegutils_8h_html_ac03a9d42dfb3c1cb8ef0512dde22a723"><div class="ttname"><a href="mpegutils_8h.html#ac03a9d42dfb3c1cb8ef0512dde22a723">MB_TYPE_16x16</a></div><div class="ttdeci">#define MB_TYPE_16x16</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00054">mpegutils.h:54</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ade2c12a8169f98b2d0554be6a3956c26"><div class="ttname"><a href="mpeg4videodec_8c.html#ade2c12a8169f98b2d0554be6a3956c26">decode_studiovisualobject</a></div><div class="ttdeci">static int decode_studiovisualobject(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03111">mpeg4videodec.c:3111</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3ba3e032e40fae0f98ba46a0f5201195"><div class="ttname"><a href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a></div><div class="ttdeci">static av_always_inline int get_vlc2(GetBitContext *s, VLC_TYPE(*table)[2], int bits, int max_depth)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00797">get_bits.h:797</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="ampegvideo_8c_html_ace27aa33308c471a3e8fc18e0454fd83"><div class="ttname"><a href="mpegvideo_8c.html#ace27aa33308c471a3e8fc18e0454fd83">ff_clean_intra_table_entries</a></div><div class="ttdeci">void ff_clean_intra_table_entries(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l01891">mpegvideo.c:1891</a></div></div>
<div class="ttc" id="aerror__resilience_8c_html_a00b6ab0da3b338afa209792001e707fb"><div class="ttname"><a href="error__resilience_8c.html#a00b6ab0da3b338afa209792001e707fb">ff_er_add_slice</a></div><div class="ttdeci">void ff_er_add_slice(ERContext *s, int startx, int starty, int endx, int endy, int status)</div><div class="ttdef"><b>Definition:</b> <a href="error__resilience_8c_source.html#l00830">error_resilience.c:830</a></div></div>
<div class="ttc" id="ampegvideo_8c_html_aacc157a9c60b68759feb756119f62255"><div class="ttname"><a href="mpegvideo_8c.html#aacc157a9c60b68759feb756119f62255">ff_init_block_index</a></div><div class="ttdeci">void ff_init_block_index(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l02254">mpegvideo.c:2254</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00033">cuda_runtime.h:33</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab0611a4c87b1248b4a560776c0a5d86a"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab0611a4c87b1248b4a560776c0a5d86a">ff_tlog</a></div><div class="ttdeci">#define ff_tlog(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00086">internal.h:86</a></div></div>
<div class="ttc" id="ampegvideo_8h_html"><div class="ttname"><a href="mpegvideo_8h.html">mpegvideo.h</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a42a5fa4b77207e981ca78755e2ac77f1"><div class="ttname"><a href="avcodec_8h.html#a42a5fa4b77207e981ca78755e2ac77f1">AV_EF_COMPLIANT</a></div><div class="ttdeci">#define AV_EF_COMPLIANT</div><div class="ttdoc">consider all spec non compliances as errors</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01670">avcodec.h:1670</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a6b0d689689b4b746ec3349cd10f9eda1"><div class="ttname"><a href="mpegutils_8h.html#a6b0d689689b4b746ec3349cd10f9eda1">MB_TYPE_L1</a></div><div class="ttdeci">#define MB_TYPE_L1</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00068">mpegutils.h:68</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a757e9fd1245a692628b2bb0c699be27c"><div class="ttname"><a href="get__bits_8h.html#a757e9fd1245a692628b2bb0c699be27c">UPDATE_CACHE</a></div><div class="ttdeci">#define UPDATE_CACHE(name, gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00178">get_bits.h:178</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a26265fbaec04614a2c67daf31c894754"><div class="ttname"><a href="avcodec_8h.html#a26265fbaec04614a2c67daf31c894754">FF_BUG_HPEL_CHROMA</a></div><div class="ttdeci">#define FF_BUG_HPEL_CHROMA</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01571">avcodec.h:1571</a></div></div>
<div class="ttc" id="aerror__resilience_8h_html_a94880c618424e4733e4a166fc0c80341"><div class="ttname"><a href="error__resilience_8h.html#a94880c618424e4733e4a166fc0c80341">ER_DC_END</a></div><div class="ttdeci">#define ER_DC_END</div><div class="ttdef"><b>Definition:</b> <a href="error__resilience_8h_source.html#l00035">error_resilience.h:35</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a40412d850882e76283b343e56244e386"><div class="ttname"><a href="mpeg4videodec_8c.html#a40412d850882e76283b343e56244e386">decode_smpte_tc</a></div><div class="ttdeci">static void decode_smpte_tc(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03037">mpeg4videodec.c:3037</a></div></div>
<div class="ttc" id="ampegutils_8h_html"><div class="ttname"><a href="mpegutils_8h.html">mpegutils.h</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a76ee3d6a5ac36fe01cec2b35327a0cef"><div class="ttname"><a href="avcodec_8h.html#a76ee3d6a5ac36fe01cec2b35327a0cef">FF_PROFILE_MPEG4_SIMPLE_STUDIO</a></div><div class="ttdeci">#define FF_PROFILE_MPEG4_SIMPLE_STUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01933">avcodec.h:1933</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a91c5763aad4039fb2e3a2516b20295e2"><div class="ttname"><a href="avcodec_8h.html#a91c5763aad4039fb2e3a2516b20295e2">FF_IDCT_AUTO</a></div><div class="ttdeci">#define FF_IDCT_AUTO</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01730">avcodec.h:1730</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a77fa830db25779d814990b7331b11fd9"><div class="ttname"><a href="mpeg4videodec_8c.html#a77fa830db25779d814990b7331b11fd9">mpeg4_decode_visual_object</a></div><div class="ttdeci">static int mpeg4_decode_visual_object(MpegEncContext *s, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02098">mpeg4videodec.c:2098</a></div></div>
<div class="ttc" id="aerror__resilience_8h_html_a57bb1f62d86662641eb4dcd165ae4e2d"><div class="ttname"><a href="error__resilience_8h.html#a57bb1f62d86662641eb4dcd165ae4e2d">ER_MV_ERROR</a></div><div class="ttdeci">#define ER_MV_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="error__resilience_8h_source.html#l00033">error_resilience.h:33</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_ab66ca23680e500f1f51b1608e8a5419a"><div class="ttname"><a href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a></div><div class="ttdeci">the pkt_dts and pkt_pts fields in AVFrame will work as usual Restrictions on codec whose streams don t reset across will not work because their bitstreams cannot be decoded in parallel *The contents of buffers must not be read before ff_thread_await_progress() has been called on them. reget_buffer() and buffer age optimizations no longer work. *The contents of buffers must not be written to after ff_thread_report_progress() has been called on them. This includes draw_edges(). Porting codecs to frame threading</div></div>
<div class="ttc" id="ampeg4data_8h_html_a633dc7707bdc1212db671cf641864b13"><div class="ttname"><a href="mpeg4data_8h.html#a633dc7707bdc1212db671cf641864b13">ff_mpeg4_resync_prefix</a></div><div class="ttdeci">const uint16_t ff_mpeg4_resync_prefix[8]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00368">mpeg4data.h:368</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_ac4efbff6f94fc4a4f8cf3637387d0899"><div class="ttname"><a href="mpeg4data_8h.html#ac4efbff6f94fc4a4f8cf3637387d0899">ff_mpeg4_studio_dc_chroma</a></div><div class="ttdeci">const uint16_t ff_mpeg4_studio_dc_chroma[19][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00385">mpeg4data.h:385</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a5d34f0bd0c235b8b9ee96e658df557af"><div class="ttname"><a href="avcodec_8h.html#a5d34f0bd0c235b8b9ee96e658df557af">FF_DEBUG_PICT_INFO</a></div><div class="ttdeci">#define FF_DEBUG_PICT_INFO</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01612">avcodec.h:1612</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a3935dbba78d09ce118d42be836777da5"><div class="ttname"><a href="mpegvideo_8h.html#a3935dbba78d09ce118d42be836777da5">MV_DIR_BACKWARD</a></div><div class="ttdeci">#define MV_DIR_BACKWARD</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00263">mpegvideo.h:263</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ab608858e3b9a6853a70d4e950f3be627"><div class="ttname"><a href="avcodec_8h.html#ab608858e3b9a6853a70d4e950f3be627">FF_IDCT_XVID</a></div><div class="ttdeci">#define FF_IDCT_XVID</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01737">avcodec.h:1737</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a273cb6b1f292c7c8eed282a9ec44cd21"><div class="ttname"><a href="get__bits_8h.html#a273cb6b1f292c7c8eed282a9ec44cd21">GET_CACHE</a></div><div class="ttdeci">#define GET_CACHE(name, gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00215">get_bits.h:215</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a1127e0b65f2c3e7c5ff99f28d0270415"><div class="ttname"><a href="mpeg4video_8h.html#a1127e0b65f2c3e7c5ff99f28d0270415">VOT_STILL_TEXTURE_ID</a></div><div class="ttdeci">#define VOT_STILL_TEXTURE_ID</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00049">mpeg4video.h:49</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00467">get_bits.h:467</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_acfc647a7f04652014332e2ce2b17966d"><div class="ttname"><a href="mpeg4videodec_8c.html#acfc647a7f04652014332e2ce2b17966d">ff_mpeg4_frame_end</a></div><div class="ttdeci">int ff_mpeg4_frame_end(AVCodecContext *avctx, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03407">mpeg4videodec.c:3407</a></div></div>
<div class="ttc" id="astruct_r_l___v_l_c___e_l_e_m_html"><div class="ttname"><a href="struct_r_l___v_l_c___e_l_e_m.html">RL_VLC_ELEM</a></div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00032">vlc.h:32</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="astructrgb_html"><div class="ttname"><a href="structrgb.html">rgb</a></div><div class="ttdef"><b>Definition:</b> <a href="rpzaenc_8c_source.html#l00058">rpzaenc.c:58</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_aab2d74f6f9141b604ed64c6dc8d65fbd"><div class="ttname"><a href="mpeg4video_8h.html#aab2d74f6f9141b604ed64c6dc8d65fbd">VOS_STARTCODE</a></div><div class="ttdeci">#define VOS_STARTCODE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00061">mpeg4video.h:61</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a775cd30d6516dd8eef078e2b6dd2cbc8"><div class="ttname"><a href="mpeg4data_8h.html#a775cd30d6516dd8eef078e2b6dd2cbc8">ff_mpeg4_DCtab_chrom</a></div><div class="ttdeci">const uint8_t ff_mpeg4_DCtab_chrom[13][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00041">mpeg4data.h:41</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_af9b5ba44584399dbaf434ab99bf24bf2"><div class="ttname"><a href="mpeg4videodec_8c.html#af9b5ba44584399dbaf434ab99bf24bf2">decode_user_data</a></div><div class="ttdeci">static int decode_user_data(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02522">mpeg4videodec.c:2522</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3383e4ed8ec358f65176c49e53488922"><div class="ttname"><a href="get__bits_8h.html#a3383e4ed8ec358f65176c49e53488922">SKIP_CACHE</a></div><div class="ttdeci">#define SKIP_CACHE(name, gb, num)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00180">get_bits.h:180</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_afb937ee88e2df8b235cb492efaf0bfee"><div class="ttname"><a href="mpeg4videodec_8c.html#afb937ee88e2df8b235cb492efaf0bfee">get_amv</a></div><div class="ttdeci">static int get_amv(Mpeg4DecContext *ctx, int n)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00590">mpeg4videodec.c:590</a></div></div>
<div class="ttc" id="ah263_8h_html_a9b4f1e24e4bbfeceb7a0d1b91ef10f75"><div class="ttname"><a href="h263_8h.html#a9b4f1e24e4bbfeceb7a0d1b91ef10f75">INTRA_MCBPC_VLC_BITS</a></div><div class="ttdeci">#define INTRA_MCBPC_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="h263_8h_source.html#l00037">h263.h:37</a></div></div>
<div class="ttc" id="ah263_8c_html_ad423361ec4e37dba11b3af1737f12357"><div class="ttname"><a href="h263_8c.html#ad423361ec4e37dba11b3af1737f12357">ff_h263_pred_motion</a></div><div class="ttdeci">int16_t * ff_h263_pred_motion(MpegEncContext *s, int block, int dir, int *px, int *py)</div><div class="ttdef"><b>Definition:</b> <a href="h263_8c_source.html#l00307">h263.c:307</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_ac3dc13dc7e9c3af4c104ab9b9f808286"><div class="ttname"><a href="mpeg4data_8h.html#ac3dc13dc7e9c3af4c104ab9b9f808286">ff_mpeg4_studio_intra</a></div><div class="ttdeci">const uint16_t ff_mpeg4_studio_intra[12][22][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00393">mpeg4data.h:393</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="ah263_8h_html_a353fab20c5d1f84fe8576247b0f8a872"><div class="ttname"><a href="h263_8h.html#a353fab20c5d1f84fe8576247b0f8a872">ff_h263_intra_MCBPC_vlc</a></div><div class="ttdeci">VLC ff_h263_intra_MCBPC_vlc</div><div class="ttdef"><b>Definition:</b> <a href="ituh263dec_8c_source.html#l00098">ituh263dec.c:98</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a63fb043f96b635aae323804b35b37190"><div class="ttname"><a href="mpeg4videodec_8c.html#a63fb043f96b635aae323804b35b37190">MB_TYPE_B_VLC_BITS</a></div><div class="ttdeci">#define MB_TYPE_B_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00048">mpeg4videodec.c:48</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a370d699e4bd36e26d8765baa893cc300"><div class="ttname"><a href="mpeg4videodec_8c.html#a370d699e4bd36e26d8765baa893cc300">STUDIO_INTRA_BITS</a></div><div class="ttdeci">#define STUDIO_INTRA_BITS</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00049">mpeg4videodec.c:49</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac60a0209642b5d74068cab0ac35a78b2"><div class="ttname"><a href="struct_a_v_codec_context.html#ac60a0209642b5d74068cab0ac35a78b2">AVCodecContext::chroma_sample_location</a></div><div class="ttdeci">enum AVChromaLocation chroma_sample_location</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1168</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a48213a8e7c5bbb121e42aaeab3e406e7"><div class="ttname"><a href="avcodec_8h.html#a48213a8e7c5bbb121e42aaeab3e406e7">FF_BUG_QPEL_CHROMA2</a></div><div class="ttdeci">#define FF_BUG_QPEL_CHROMA2</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01568">avcodec.h:1568</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a65c2f27287363d45e9e1da64bf569ebd"><div class="ttname"><a href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a></div><div class="ttdeci">#define AV_PIX_FMT_GBRP10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00415">pixfmt.h:415</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ad641cc841c04b174b9d5f891ef305ab5"><div class="ttname"><a href="mpeg4videodec_8c.html#ad641cc841c04b174b9d5f891ef305ab5">ff_mpeg4_pred_ac</a></div><div class="ttdeci">void ff_mpeg4_pred_ac(MpegEncContext *s, int16_t *block, int n, int dir)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00069">mpeg4videodec.c:69</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_ad0c6a577cb344fc9b6c42981d63fd9fd"><div class="ttname"><a href="mpeg4data_8h.html#ad0c6a577cb344fc9b6c42981d63fd9fd">ff_rvlc_rl_intra</a></div><div class="ttdeci">RLTable ff_rvlc_rl_intra</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00318">mpeg4data.h:318</a></div></div>
<div class="ttc" id="ah263data_8c_html_a642c93b5283b2c60a4d80e492a5cf28f"><div class="ttname"><a href="h263data_8c.html#a642c93b5283b2c60a4d80e492a5cf28f">ff_h263_pixel_aspect</a></div><div class="ttdeci">const AVRational ff_h263_pixel_aspect[16]</div><div class="ttdef"><b>Definition:</b> <a href="h263data_8c_source.html#l00275">h263data.c:275</a></div></div>
<div class="ttc" id="ampeg4video_8c_html_a1dd5fe6e9139824e3b536c3c545f38ba"><div class="ttname"><a href="mpeg4video_8c.html#a1dd5fe6e9139824e3b536c3c545f38ba">ff_mpeg4_get_video_packet_prefix_length</a></div><div class="ttdeci">int ff_mpeg4_get_video_packet_prefix_length(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8c_source.html#l00030">mpeg4video.c:30</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_aac6364d0a912438fb782e7938db856a0"><div class="ttname"><a href="mpeg4video_8h.html#aac6364d0a912438fb782e7938db856a0">CORE_STUDIO_VO_TYPE</a></div><div class="ttdeci">#define CORE_STUDIO_VO_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00045">mpeg4video.h:45</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_ada6f4fe4f55af0c02ce7aea0872b808c"><div class="ttname"><a href="mpeg4data_8h.html#ada6f4fe4f55af0c02ce7aea0872b808c">ff_rvlc_rl_inter</a></div><div class="ttdeci">RLTable ff_rvlc_rl_inter</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00214">mpeg4data.h:214</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a9e0ee168ee7b4c7ce87a303fafd0d8c0"><div class="ttname"><a href="mpegutils_8h.html#a9e0ee168ee7b4c7ce87a303fafd0d8c0">USES_LIST</a></div><div class="ttdeci">#define USES_LIST(a, list)</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00099">mpegutils.h:99</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a13cc680e873faf75c160a09959656d08"><div class="ttname"><a href="mpeg4videodec_8c.html#a13cc680e873faf75c160a09959656d08">mpeg4_decode_profile_level</a></div><div class="ttdeci">static int mpeg4_decode_profile_level(MpegEncContext *s, GetBitContext *gb, int *profile, int *level)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02084">mpeg4videodec.c:2084</a></div></div>
<div class="ttc" id="ahwconfig_8h_html_a39495b55cb8bbd304ee7a4ee77b86234"><div class="ttname"><a href="hwconfig_8h.html#a39495b55cb8bbd304ee7a4ee77b86234">HWACCEL_VDPAU</a></div><div class="ttdeci">#define HWACCEL_VDPAU(codec)</div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00075">hwconfig.h:75</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaa90f89265adba401ebe80380517fe613"><div class="ttname"><a href="group__lavc__core.html#gaa90f89265adba401ebe80380517fe613">AV_CODEC_FLAG_LOW_DELAY</a></div><div class="ttdeci">#define AV_CODEC_FLAG_LOW_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00325">avcodec.h:325</a></div></div>
<div class="ttc" id="atranscode__aac_8c_html_a4fbb704fb96c36a78a36eee010306ce7"><div class="ttname"><a href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a></div><div class="ttdeci">static int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="transcode__aac_8c_source.html#l00647">transcode_aac.c:647</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a80ac694885a9e5fbd09e1b0607fb3a6b"><div class="ttname"><a href="mpegvideo_8h.html#a80ac694885a9e5fbd09e1b0607fb3a6b">SLICE_END</a></div><div class="ttdeci">#define SLICE_END</div><div class="ttdoc">end marker found</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00518">mpegvideo.h:518</a></div></div>
<div class="ttc" id="affmpeg_8h_html_a0804b6530666fd8d5f4e4193ee1d205faf941d724f9c78c4ac3174e2f6da82bd3"><div class="ttname"><a href="ffmpeg_8h.html#a0804b6530666fd8d5f4e4193ee1d205faf941d724f9c78c4ac3174e2f6da82bd3">HWACCEL_VIDEOTOOLBOX</a></div><div class="ttdeci">@ HWACCEL_VIDEOTOOLBOX</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8h_source.html#l00062">ffmpeg.h:62</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html_adacaccb7e1e29f7d0e669659f17a9bfd"><div class="ttname"><a href="struct_get_bit_context.html#adacaccb7e1e29f7d0e669659f17a9bfd">GetBitContext::size_in_bits</a></div><div class="ttdeci">int size_in_bits</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00068">get_bits.h:68</a></div></div>
<div class="ttc" id="ah263_8h_html_a7362f0936557f2441e2b816b29fff904"><div class="ttname"><a href="h263_8h.html#a7362f0936557f2441e2b816b29fff904">CBPY_VLC_BITS</a></div><div class="ttdeci">#define CBPY_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="h263_8h_source.html#l00039">h263.h:39</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a726afea9dd0ba75c97d869e8309772cf"><div class="ttname"><a href="libavcodec_2internal_8h.html#a726afea9dd0ba75c97d869e8309772cf">FF_CODEC_CAP_SKIP_FRAME_FILL_PARAM</a></div><div class="ttdeci">#define FF_CODEC_CAP_SKIP_FRAME_FILL_PARAM</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00060">internal.h:60</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ab33094be20c26cf567aa5c10ef1fa45d"><div class="ttname"><a href="mpeg4videodec_8c.html#ab33094be20c26cf567aa5c10ef1fa45d">DC_VLC_BITS</a></div><div class="ttdeci">#define DC_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00047">mpeg4videodec.c:47</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff612e03cf2a557ac25e8e2032e37d9a"><div class="ttname"><a href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV444P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00402">pixfmt.h:402</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a15a968c7590acfe5134b386e275db94b"><div class="ttname"><a href="avcodec_8h.html#a15a968c7590acfe5134b386e275db94b">AV_EF_BITSTREAM</a></div><div class="ttdeci">#define AV_EF_BITSTREAM</div><div class="ttdoc">detect bitstream specification deviations</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01664">avcodec.h:1664</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aerror__resilience_8h_html_a0d18cd02310a81d0b3d2f823e57dac68"><div class="ttname"><a href="error__resilience_8h.html#a0d18cd02310a81d0b3d2f823e57dac68">ER_DC_ERROR</a></div><div class="ttdeci">#define ER_DC_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="error__resilience_8h_source.html#l00032">error_resilience.h:32</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ac08d7175e4931254c281a75bc060a3b4"><div class="ttname"><a href="mpeg4videodec_8c.html#ac08d7175e4931254c281a75bc060a3b4">ff_mpeg4_decode_partitions</a></div><div class="ttdeci">int ff_mpeg4_decode_partitions(Mpeg4DecContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00977">mpeg4videodec.c:977</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a7ba51b4d108b26076a702ef343c504d8"><div class="ttname"><a href="mpeg4videodec_8c.html#a7ba51b4d108b26076a702ef343c504d8">extension_and_user_data</a></div><div class="ttdeci">static void extension_and_user_data(MpegEncContext *s, GetBitContext *gb, int id)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03020">mpeg4videodec.c:3020</a></div></div>
<div class="ttc" id="ampegutils_8h_html_ac467cb6520b6320c90336c1f46391645"><div class="ttname"><a href="mpegutils_8h.html#ac467cb6520b6320c90336c1f46391645">MB_TYPE_ACPRED</a></div><div class="ttdeci">#define MB_TYPE_ACPRED</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00060">mpegutils.h:60</a></div></div>
<div class="ttc" id="ampeg4video_8c_html_ae22cf46687c2be463d14551bef72bb32"><div class="ttname"><a href="mpeg4video_8c.html#ae22cf46687c2be463d14551bef72bb32">ff_mpeg4_set_direct_mv</a></div><div class="ttdeci">int ff_mpeg4_set_direct_mv(MpegEncContext *s, int mx, int my)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8c_source.html#l00117">mpeg4video.c:117</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a40567ab5dc596078bd4d122e1ef1d057"><div class="ttname"><a href="get__bits_8h.html#a40567ab5dc596078bd4d122e1ef1d057">CLOSE_READER</a></div><div class="ttdeci">#define CLOSE_READER(name, gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00149">get_bits.h:149</a></div></div>
<div class="ttc" id="adecode__audio_8c_html_a1704ae53d7f426e1b67341785b5b2b58"><div class="ttname"><a href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a></div><div class="ttdeci">static void decode(AVCodecContext *dec_ctx, AVPacket *pkt, AVFrame *frame, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="decode__audio_8c_source.html#l00071">decode_audio.c:71</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_af457e9b724e2265a4a650c38bf8c38f1"><div class="ttname"><a href="mpegvideo_8h.html#af457e9b724e2265a4a650c38bf8c38f1">CHROMA_422</a></div><div class="ttdeci">#define CHROMA_422</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00484">mpegvideo.h:484</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ad44a01df26799f03fca77164bcaf5ea3"><div class="ttname"><a href="mpeg4videodec_8c.html#ad44a01df26799f03fca77164bcaf5ea3">ff_mpeg4_decode_picture_header</a></div><div class="ttdeci">int ff_mpeg4_decode_picture_header(Mpeg4DecContext *ctx, GetBitContext *gb, int header)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03225">mpeg4videodec.c:3225</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_acaf94f3386396a95d3e7042c444a41f7"><div class="ttname"><a href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">VLC::table</a></div><div class="ttdeci">VLC_TYPE(* table)[2]</div><div class="ttdoc">code, bits</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00028">vlc.h:28</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_ae72f13a4150084e121eca51b040fe9d1"><div class="ttname"><a href="mpeg4video_8h.html#ae72f13a4150084e121eca51b040fe9d1">GOP_STARTCODE</a></div><div class="ttdeci">#define GOP_STARTCODE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00063">mpeg4video.h:63</a></div></div>
<div class="ttc" id="aregdef_8h_html_a09dff3d9a89874939fa7cc9d056b114c"><div class="ttname"><a href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a></div><div class="ttdeci">#define s1</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00038">regdef.h:38</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a56e1113a1a2581ba4bc0115eda920b69"><div class="ttname"><a href="get__bits_8h.html#a56e1113a1a2581ba4bc0115eda920b69">SHOW_SBITS</a></div><div class="ttdeci">#define SHOW_SBITS(name, gb, num)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00212">get_bits.h:212</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aee63f56558e89c35a7d6747b476ef1e2"><div class="ttname"><a href="avcodec_8h.html#aee63f56558e89c35a7d6747b476ef1e2">FF_BUG_NO_PADDING</a></div><div class="ttdeci">#define FF_BUG_NO_PADDING</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01564">avcodec.h:1564</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a313b1bc65b6adcf48f1e2dd7e663cb97"><div class="ttname"><a href="mpeg4data_8h.html#a313b1bc65b6adcf48f1e2dd7e663cb97">ff_mpeg4_rl_intra</a></div><div class="ttdeci">RLTable ff_mpeg4_rl_intra</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00109">mpeg4data.h:109</a></div></div>
<div class="ttc" id="avp3data_8h_html_a46a6da6b1936191571fd30b2a749f38c"><div class="ttname"><a href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a></div><div class="ttdeci">uint8_t bits</div><div class="ttdef"><b>Definition:</b> <a href="vp3data_8h_source.html#l00202">vp3data.h:202</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a1d8d03f5be975b8a728574cbdb00c896"><div class="ttname"><a href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a></div><div class="ttdeci">#define FF_PROFILE_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01860">avcodec.h:1860</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a70d6d6545bea2a3b6d6d90300fc5b9fa"><div class="ttname"><a href="mpeg4videodec_8c.html#a70d6d6545bea2a3b6d6d90300fc5b9fa">dc_lum</a></div><div class="ttdeci">static VLC dc_lum</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00053">mpeg4videodec.c:53</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_aaed08a3ae3d74d47eeccf919190155a5"><div class="ttname"><a href="mpeg4videodec_8c.html#aaed08a3ae3d74d47eeccf919190155a5">ff_mpeg4_workaround_bugs</a></div><div class="ttdeci">int ff_mpeg4_workaround_bugs(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02579">mpeg4videodec.c:2579</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a1b2e6d6817acf7c0256993bc947c1480"><div class="ttname"><a href="mpeg4video_8h.html#a1b2e6d6817acf7c0256993bc947c1480">GRAY_SHAPE</a></div><div class="ttdeci">#define GRAY_SHAPE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00036">mpeg4video.h:36</a></div></div>
<div class="ttc" id="ampegutils_8h_html_ad4b6f8b4bcaee448d1af0c412b6f7401"><div class="ttname"><a href="mpegutils_8h.html#ad4b6f8b4bcaee448d1af0c412b6f7401">IS_SKIP</a></div><div class="ttdeci">#define IS_SKIP(a)</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00081">mpegutils.h:81</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a80c507eb487fff1922fd2807068095c4"><div class="ttname"><a href="mpeg4videodec_8c.html#a80c507eb487fff1922fd2807068095c4">mpeg4_decode_mb</a></div><div class="ttdeci">static int mpeg4_decode_mb(MpegEncContext *s, int16_t block[6][64])</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l01400">mpeg4videodec.c:1400</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a7418c19702b25b0e27522746e22e7b8d"><div class="ttname"><a href="get__bits_8h.html#a7418c19702b25b0e27522746e22e7b8d">SKIP_BITS</a></div><div class="ttdeci">#define SKIP_BITS(name, gb, num)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00193">get_bits.h:193</a></div></div>
<div class="ttc" id="ahevcpred__template_8c_html_ad0133753510e9949508f0bb5af9c70d4"><div class="ttname"><a href="hevcpred__template_8c.html#ad0133753510e9949508f0bb5af9c70d4">IS_INTRA</a></div><div class="ttdeci">#define IS_INTRA(x, y)</div></div>
<div class="ttc" id="abitstream_8c_html_a6833b44193a374e05ad39b2eb9705bba"><div class="ttname"><a href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a></div><div class="ttdeci">void ff_free_vlc(VLC *vlc)</div><div class="ttdef"><b>Definition:</b> <a href="bitstream_8c_source.html#l00365">bitstream.c:365</a></div></div>
<div class="ttc" id="axvididct_8h_html"><div class="ttname"><a href="xvididct_8h.html">xvididct.h</a></div></div>
<div class="ttc" id="acommon_8h_html_aa79ca71ef110a498d8275cbf7aa75a93"><div class="ttname"><a href="common_8h.html#aa79ca71ef110a498d8275cbf7aa75a93">RSHIFT</a></div><div class="ttdeci">#define RSHIFT(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00054">common.h:54</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a7ab7375e6fa511a415d921c5bbf38351"><div class="ttname"><a href="mpeg4video_8h.html#a7ab7375e6fa511a415d921c5bbf38351">GMC_SPRITE</a></div><div class="ttdeci">#define GMC_SPRITE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00056">mpeg4video.h:56</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a59eae4ab7a237c0719324c5d8b5c8d2d"><div class="ttname"><a href="avcodec_8h.html#a59eae4ab7a237c0719324c5d8b5c8d2d">FF_BUG_DIRECT_BLOCKSIZE</a></div><div class="ttdeci">#define FF_BUG_DIRECT_BLOCKSIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01569">avcodec.h:1569</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a011aa6d263234112bd9b698f0dd2464a"><div class="ttname"><a href="mpeg4videodec_8c.html#a011aa6d263234112bd9b698f0dd2464a">mpeg4_decode_sprite_trajectory</a></div><div class="ttdeci">static int mpeg4_decode_sprite_trajectory(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00174">mpeg4videodec.c:174</a></div></div>
<div class="ttc" id="acommon_8h_html_ad6d88940cfc29c13a3e51ded211fc242"><div class="ttname"><a href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a></div><div class="ttdeci">#define FFABS(a)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00072">common.h:72</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a07d02c86cc9c7043d763ca335ede62b4"><div class="ttname"><a href="mpeg4data_8h.html#a07d02c86cc9c7043d763ca335ede62b4">ff_mpeg4_DCtab_lum</a></div><div class="ttdeci">const uint8_t ff_mpeg4_DCtab_lum[13][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00035">mpeg4data.h:35</a></div></div>
<div class="ttc" id="ampegutils_8h_html_ad25997a5f6d4f1c42f988d2f2ef089ae"><div class="ttname"><a href="mpegutils_8h.html#ad25997a5f6d4f1c42f988d2f2ef089ae">FRAME_SKIPPED</a></div><div class="ttdeci">#define FRAME_SKIPPED</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00034">mpegutils.h:34</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae21e6310b40920cd61f54e9c320d8e6c"><div class="ttname"><a href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_FRAME_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00106">codec.h:106</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a84e2e3c224f78dc08a5587b23c72d34b"><div class="ttname"><a href="mpeg4videodec_8c.html#a84e2e3c224f78dc08a5587b23c72d34b">decode_end</a></div><div class="ttdeci">static av_cold int decode_end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03563">mpeg4videodec.c:3563</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ab551d6d695d998a36b134a6b58e878c2"><div class="ttname"><a href="mpeg4videodec_8c.html#ab551d6d695d998a36b134a6b58e878c2">mb_type_b_map</a></div><div class="ttdeci">static const int mb_type_b_map[4]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00057">mpeg4videodec.c:57</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ac754b013486521315a5336e73746ac08"><div class="ttname"><a href="mpeg4videodec_8c.html#ac754b013486521315a5336e73746ac08">mpeg4_load_default_matrices</a></div><div class="ttdeci">static void mpeg4_load_default_matrices(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02130">mpeg4videodec.c:2130</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a8652c8432575eae520fda2ec9bb2790c"><div class="ttname"><a href="avcodec_8h.html#a8652c8432575eae520fda2ec9bb2790c">FF_BUG_UMP4</a></div><div class="ttdeci">#define FF_BUG_UMP4</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01563">avcodec.h:1563</a></div></div>
<div class="ttc" id="aaacdec__template_8c_html_affa0ccbe2ef7fd24bb8c61e28d1a6631"><div class="ttname"><a href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a></div><div class="ttdeci">static void flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="aacdec__template_8c_source.html#l00592">aacdec_template.c:592</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_v_l_c_html"><div class="ttname"><a href="struct_v_l_c.html">VLC</a></div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00026">vlc.h:26</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="asvq3_8c_html_aa90bc2b9950a6a9a3144876047f8bee2"><div class="ttname"><a href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a></div><div class="ttdeci">uint8_t run</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00204">svq3.c:204</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ae0009d2c60992caf6a6ce0bde394991f"><div class="ttname"><a href="avcodec_8h.html#ae0009d2c60992caf6a6ce0bde394991f">FF_BUG_STD_QPEL</a></div><div class="ttdeci">#define FF_BUG_STD_QPEL</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01567">avcodec.h:1567</a></div></div>
<div class="ttc" id="ampegvideo_8c_html_a71135d03df49cffd713309e71e5f28fa"><div class="ttname"><a href="mpegvideo_8c.html#a71135d03df49cffd713309e71e5f28fa">ff_mpv_idct_init</a></div><div class="ttdeci">av_cold void ff_mpv_idct_init(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l00329">mpegvideo.c:329</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a1f86ed1b6a420faccacf77c98db6c1ffab75254964869bf3bf25806ad0cad44b2"><div class="ttname"><a href="pixfmt_8h.html#a1f86ed1b6a420faccacf77c98db6c1ffab75254964869bf3bf25806ad0cad44b2">AVCHROMA_LOC_LEFT</a></div><div class="ttdeci">@ AVCHROMA_LOC_LEFT</div><div class="ttdoc">MPEG-2/4 4:2:0, H.264 default for 4:2:0.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00607">pixfmt.h:607</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a6a4e54a8271500dc6802fbc610d9bd13"><div class="ttname"><a href="mpeg4videodec_8c.html#a6a4e54a8271500dc6802fbc610d9bd13">mpeg4_decode_partitioned_mb</a></div><div class="ttdeci">static int mpeg4_decode_partitioned_mb(MpegEncContext *s, int16_t block[6][64])</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l01313">mpeg4videodec.c:1313</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a1ee519ce8a0e364d1c806250c862116e"><div class="ttname"><a href="mpegutils_8h.html#a1ee519ce8a0e364d1c806250c862116e">MB_TYPE_GMC</a></div><div class="ttdeci">#define MB_TYPE_GMC</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00061">mpegutils.h:61</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a587e7b5b4a6134b84079ee592ce70692"><div class="ttname"><a href="mpeg4videodec_8c.html#a587e7b5b4a6134b84079ee592ce70692">mpeg4_decode_studio_block</a></div><div class="ttdeci">static int mpeg4_decode_studio_block(MpegEncContext *s, int32_t block[64], int n)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l01817">mpeg4videodec.c:1817</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a92c7fa6710e693a67f17b76e7ba0bf29"><div class="ttname"><a href="mpegvideo_8h.html#a92c7fa6710e693a67f17b76e7ba0bf29">SLICE_NOEND</a></div><div class="ttdeci">#define SLICE_NOEND</div><div class="ttdoc">no end marker or error found but mb count exceeded</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00519">mpegvideo.h:519</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a163ba4b015c25de7b8dc2132b763cfa3"><div class="ttname"><a href="mpegutils_8h.html#a163ba4b015c25de7b8dc2132b763cfa3">MB_TYPE_8x8</a></div><div class="ttdeci">#define MB_TYPE_8x8</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00057">mpegutils.h:57</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="ah263_8h_html_a5a86a03290e3e36923197d2ff9f5a85f"><div class="ttname"><a href="h263_8h.html#a5a86a03290e3e36923197d2ff9f5a85f">ff_h263_hwaccel_pixfmt_list_420</a></div><div class="ttdeci">enum AVPixelFormat ff_h263_hwaccel_pixfmt_list_420[]</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2h263dec_8c_source.html#l00421">h263dec.c:729</a></div></div>
<div class="ttc" id="acommon_8h_html_a7a2a86492a286d6d20678da1dbb00525"><div class="ttname"><a href="common_8h.html#a7a2a86492a286d6d20678da1dbb00525">ROUNDED_DIV</a></div><div class="ttdeci">#define ROUNDED_DIV(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00056">common.h:56</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="aprofiles_8h_html"><div class="ttname"><a href="profiles_8h.html">profiles.h</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="ampegvideo_8c_html_aa156d48c70fc414dc7eddfc41e337165"><div class="ttname"><a href="mpegvideo_8c.html#aa156d48c70fc414dc7eddfc41e337165">ff_set_qscale</a></div><div class="ttdeci">void ff_set_qscale(MpegEncContext *s, int qscale)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l02318">mpegvideo.c:2318</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aa0812a4b49d1655382604bb231ee5893"><div class="ttname"><a href="get__bits_8h.html#aa0812a4b49d1655382604bb231ee5893">LAST_SKIP_BITS</a></div><div class="ttdeci">#define LAST_SKIP_BITS(name, gb, num)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00199">get_bits.h:199</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ab9f3dcde72d13a402e95ce72529bff5f"><div class="ttname"><a href="avcodec_8h.html#ab9f3dcde72d13a402e95ce72529bff5f">FF_BUG_IEDGE</a></div><div class="ttdeci">#define FF_BUG_IEDGE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01575">avcodec.h:1575</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_ab9aca4492668a79bc015f43ad944021e"><div class="ttname"><a href="libavutil_2internal_8h.html#ab9aca4492668a79bc015f43ad944021e">ONLY_IF_THREADS_ENABLED</a></div><div class="ttdeci">#define ONLY_IF_THREADS_ENABLED(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00192">internal.h:192</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ac5861cb8518227d395fedbe71a574fd5"><div class="ttname"><a href="mpeg4videodec_8c.html#ac5861cb8518227d395fedbe71a574fd5">SET_QPEL_FUNC</a></div><div class="ttdeci">#define SET_QPEL_FUNC(postfix1, postfix2)</div></div>
<div class="ttc" id="astruct_r_l_table_html_aea786354323729e6540be4bb8e042c0d"><div class="ttname"><a href="struct_r_l_table.html#aea786354323729e6540be4bb8e042c0d">RLTable::max_level</a></div><div class="ttdeci">int8_t * max_level[2]</div><div class="ttdoc">encoding &amp; decoding</div><div class="ttdef"><b>Definition:</b> <a href="rl_8h_source.html#l00046">rl.h:46</a></div></div>
<div class="ttc" id="ampegvideodata_8c_html_ae3569926af55c72c980ac342f80ad61d"><div class="ttname"><a href="mpegvideodata_8c.html#ae3569926af55c72c980ac342f80ad61d">ff_alternate_horizontal_scan</a></div><div class="ttdeci">const uint8_t ff_alternate_horizontal_scan[64]</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideodata_8c_source.html#l00084">mpegvideodata.c:84</a></div></div>
<div class="ttc" id="amathops_8h_html_a46b805e56033ed92d70f4299638e7a7d"><div class="ttname"><a href="mathops_8h.html#a46b805e56033ed92d70f4299638e7a7d">FASTDIV</a></div><div class="ttdeci">#define FASTDIV(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="mathops_8h_source.html#l00202">mathops.h:202</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a66e08cc645d119c6383c994529f5dff4"><div class="ttname"><a href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV422P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00400">pixfmt.h:400</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_af8d76b3bf948951ec027d912256f1da8"><div class="ttname"><a href="mpeg4data_8h.html#af8d76b3bf948951ec027d912256f1da8">ff_mpeg4_dc_threshold</a></div><div class="ttdeci">const uint8_t ff_mpeg4_dc_threshold[8]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00372">mpeg4data.h:372</a></div></div>
<div class="ttc" id="aunary_8h_html_ad7ab3bdac952a16853fa24730c211f53"><div class="ttname"><a href="unary_8h.html#ad7ab3bdac952a16853fa24730c211f53">get_unary</a></div><div class="ttdeci">static int get_unary(GetBitContext *gb, int stop, int len)</div><div class="ttdef"><b>Definition:</b> <a href="unary_8h_source.html#l00046">unary.h:46</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a98f9328b4f99d0b6a3974cf441633edf"><div class="ttname"><a href="mpegvideo_8h.html#a98f9328b4f99d0b6a3974cf441633edf">MV_TYPE_8X8</a></div><div class="ttdeci">#define MV_TYPE_8X8</div><div class="ttdoc">4 vectors (H.263, MPEG-4 4MV)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00267">mpegvideo.h:267</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a8e3eb32799f4637fcdd75bb9099142ff"><div class="ttname"><a href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a></div><div class="ttdeci">#define ff_dlog(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00029">tableprint_vlc.h:29</a></div></div>
<div class="ttc" id="arl_8h_html_a5bb4257ca9fa4bfcf9391b7895b97761"><div class="ttname"><a href="rl_8h.html#a5bb4257ca9fa4bfcf9391b7895b97761">MAX_LEVEL</a></div><div class="ttdeci">#define MAX_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="rl_8h_source.html#l00036">rl.h:36</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_ab6ff9b8b5949d69e40b267f76dcb576b"><div class="ttname"><a href="mpeg4video_8h.html#ab6ff9b8b5949d69e40b267f76dcb576b">Mpeg4DecContext</a></div><div class="ttdeci">struct Mpeg4DecContext Mpeg4DecContext</div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a4156d72928ad2c38de5a06b8d78a8f28"><div class="ttname"><a href="mpeg4videodec_8c.html#a4156d72928ad2c38de5a06b8d78a8f28">mpeg4_decode_partition_a</a></div><div class="ttdeci">static int mpeg4_decode_partition_a(Mpeg4DecContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00690">mpeg4videodec.c:690</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00050">codec.h:50</a></div></div>
<div class="ttc" id="ah263_8h_html_a5bd4ee91729a508d989e2689ab7bbb07"><div class="ttname"><a href="h263_8h.html#a5bd4ee91729a508d989e2689ab7bbb07">ff_h263_decode_motion</a></div><div class="ttdeci">int ff_h263_decode_motion(MpegEncContext *s, int pred, int f_code)</div><div class="ttdef"><b>Definition:</b> <a href="ituh263dec_8c_source.html#l00270">ituh263dec.c:270</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a4d1ae1e6c45cc5e9641ac6db9c811626"><div class="ttname"><a href="avcodec_8h.html#a4d1ae1e6c45cc5e9641ac6db9c811626">AV_EF_IGNORE_ERR</a></div><div class="ttdeci">#define AV_EF_IGNORE_ERR</div><div class="ttdoc">ignore errors and continue</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01668">avcodec.h:1668</a></div></div>
<div class="ttc" id="ah263data_8c_html_a43a2c7bfad4ca9afb3591e9837c4bdfe"><div class="ttname"><a href="h263data_8c.html#a43a2c7bfad4ca9afb3591e9837c4bdfe">ff_h263_rl_inter</a></div><div class="ttdeci">RLTable ff_h263_rl_inter</div><div class="ttdef"><b>Definition:</b> <a href="h263data_8c_source.html#l00161">h263data.c:161</a></div></div>
<div class="ttc" id="asnow_8txt_html_a719d7e9253d560ae4bac6546c3abc071"><div class="ttname"><a href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a></div><div class="ttdeci">Tag MUST be and&lt; 10hcoeff half pel interpolation filter coefficients, hcoeff[0] are the 2 middle coefficients[1] are the next outer ones and so on, resulting in a filter like:...eff[2], hcoeff[1], hcoeff[0], hcoeff[0], hcoeff[1], hcoeff[2] ... the sign of the coefficients is not explicitly stored but alternates after each coeff and coeff[0] is positive, so ...,+,-,+,-,+,+,-,+,-,+,... hcoeff[0] is not explicitly stored but found by subtracting the sum of all stored coefficients with signs from 32 hcoeff[0]=32 - hcoeff[1] - hcoeff[2] - ... a good choice for hcoeff and htaps is htaps=6 hcoeff={40,-10, 2} an alternative which requires more computations at both encoder and decoder side and may or may not be better is htaps=8 hcoeff={42,-14, 6,-2}ref_frames minimum of the number of available reference frames and max_ref_frames for example the first frame after a key frame always has ref_frames=1spatial_decomposition_type wavelet type 0 is a 9/7 symmetric compact integer wavelet 1 is a 5/3 symmetric compact integer wavelet others are reserved stored as delta from last, last is reset to 0 if always_reset||keyframeqlog quality(logarithmic quantizer scale) stored as delta from last, last is reset to 0 if always_reset||keyframemv_scale stored as delta from last, last is reset to 0 if always_reset||keyframe FIXME check that everything works fine if this changes between framesqbias dequantization bias stored as delta from last, last is reset to 0 if always_reset||keyframeblock_max_depth maximum depth of the block tree stored as delta from last, last is reset to 0 if always_reset||keyframequant_table quantization tableHighlevel bitstream structure:==============================--------------------------------------------|Header|--------------------------------------------|------------------------------------|||Block0||||split?||||yes no||||......... intra?||||:Block01 :yes no||||:Block02 :....... ..........||||:Block03 ::y DC ::ref index:||||:Block04 ::cb DC ::motion x :||||......... :cr DC ::motion y :||||....... ..........|||------------------------------------||------------------------------------|||Block1|||...|--------------------------------------------|------------ ------------ ------------|||Y subbands||Cb subbands||Cr subbands||||--- ---||--- ---||--- ---|||||LL0||HL0||||LL0||HL0||||LL0||HL0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||LH0||HH0||||LH0||HH0||||LH0||HH0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HL1||LH1||||HL1||LH1||||HL1||LH1|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HH1||HL2||||HH1||HL2||||HH1||HL2|||||...||...||...|||------------ ------------ ------------|--------------------------------------------Decoding process:=================------------|||Subbands|------------||||------------|Intra DC||||LL0 subband prediction ------------|\ Dequantization ------------------- \||Reference frames|\ IDWT|------- -------|Motion \|||Frame 0||Frame 1||Compensation . OBMC v -------|------- -------|--------------. \------&gt; Frame n output Frame Frame&lt;----------------------------------/|...|------------------- Range Coder:============Binary Range Coder:------------------- The implemented range coder is an adapted version based upon &quot;Range encoding: an algorithm for removing redundancy from a digitised message.&quot; by G. N. N. Martin. The symbols encoded by the Snow range coder are bits(0|1). The associated probabilities are not fix but change depending on the symbol mix seen so far. bit seen|new state ---------+----------------------------------------------- 0|256 - state_transition_table[256 - old_state];1|state_transition_table[old_state];state_transition_table={ 0, 0, 0, 0, 0, 0, 0, 0, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 190, 191, 192, 194, 194, 195, 196, 197, 198, 199, 200, 201, 202, 202, 204, 205, 206, 207, 208, 209, 209, 210, 211, 212, 213, 215, 215, 216, 217, 218, 219, 220, 220, 222, 223, 224, 225, 226, 227, 227, 229, 229, 230, 231, 232, 234, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 248, 0, 0, 0, 0, 0, 0, 0};FIXME Range Coding of integers:------------------------- FIXME Neighboring Blocks:===================left and top are set to the respective blocks unless they are outside of the image in which case they are set to the Null block top-left is set to the top left block unless it is outside of the image in which case it is set to the left block if this block has no larger parent block or it is at the left side of its parent block and the top right block is not outside of the image then the top right block is used for top-right else the top-left block is used Null block y, cb, cr are 128 level, ref, mx and my are 0 Motion Vector Prediction:=========================1. the motion vectors of all the neighboring blocks are scaled to compensate for the difference of reference frames scaled_mv=(mv *(256 *(current_reference+1)/(mv.reference+1))+128)&gt; the median of the scaled top and top right vectors is used as motion vector prediction the used motion vector is the sum of the predictor and(mvx_diff, mvy_diff) *mv_scale Intra DC Prediction block[y][x] dc[1]</div><div class="ttdef"><b>Definition:</b> <a href="snow_8txt_source.html#l00400">snow.txt:400</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a74aa72cbf3d86b9a380347ac91fcc91c"><div class="ttname"><a href="mpeg4data_8h.html#a74aa72cbf3d86b9a380347ac91fcc91c">ff_mpeg4_y_dc_scale_table</a></div><div class="ttdeci">const uint8_t ff_mpeg4_y_dc_scale_table[32]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00359">mpeg4data.h:359</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_adbb5c618d2613d46f1e4de7f7e7678ac"><div class="ttname"><a href="mpeg4video_8h.html#adbb5c618d2613d46f1e4de7f7e7678ac">ff_mpeg4_pred_dc</a></div><div class="ttdeci">static int ff_mpeg4_pred_dc(MpegEncContext *s, int n, int level, int *dir_ptr, int encoding)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00202">mpeg4video.h:202</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aa93e4fb48a60b73cfb381e30d6567642"><div class="ttname"><a href="avcodec_8h.html#aa93e4fb48a60b73cfb381e30d6567642">FF_DEBUG_BUGS</a></div><div class="ttdeci">#define FF_DEBUG_BUGS</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01628">avcodec.h:1628</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a5c60c16e189718946b95cd2e69e37ed7"><div class="ttname"><a href="mpeg4data_8h.html#a5c60c16e189718946b95cd2e69e37ed7">ff_mpeg4_default_intra_matrix</a></div><div class="ttdeci">const int16_t ff_mpeg4_default_intra_matrix[64]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00337">mpeg4data.h:337</a></div></div>
<div class="ttc" id="astruct_mpeg_enc_context_html"><div class="ttname"><a href="struct_mpeg_enc_context.html">MpegEncContext</a></div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00081">mpegvideo.h:81</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a3e815408b0297381706f97f9e23b587c"><div class="ttname"><a href="mpeg4videodec_8c.html#a3e815408b0297381706f97f9e23b587c">read_quant_matrix_ext</a></div><div class="ttdeci">static int read_quant_matrix_ext(MpegEncContext *s, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02971">mpeg4videodec.c:2971</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_ga2eaefe702f95f619ea6f2d08afa01be1"><div class="ttname"><a href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div><div class="ttdeci">#define AV_NOPTS_VALUE</div><div class="ttdoc">Undefined timestamp value.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00248">avutil.h:248</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a688562b0eee1a11bb18e6c76d1aa16ad"><div class="ttname"><a href="mpegutils_8h.html#a688562b0eee1a11bb18e6c76d1aa16ad">MB_TYPE_SKIP</a></div><div class="ttdeci">#define MB_TYPE_SKIP</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00062">mpegutils.h:62</a></div></div>
<div class="ttc" id="ampegvideo_8c_html_a6b2170ea66fd50185869b62ea76329f8"><div class="ttname"><a href="mpegvideo_8c.html#a6b2170ea66fd50185869b62ea76329f8">ff_mpeg_flush</a></div><div class="ttdeci">void ff_mpeg_flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l02287">mpegvideo.c:2287</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="asdr2_8c_html_abd18f6ed7dc5da8824a97bc504e4280e"><div class="ttname"><a href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a></div><div class="ttdeci">static const uint8_t header[24]</div><div class="ttdef"><b>Definition:</b> <a href="sdr2_8c_source.html#l00067">sdr2.c:67</a></div></div>
<div class="ttc" id="ampegutils_8h_html_abbac64c154ced42f44fdcf6398e4611f"><div class="ttname"><a href="mpegutils_8h.html#abbac64c154ced42f44fdcf6398e4611f">MB_TYPE_INTERLACED</a></div><div class="ttdeci">#define MB_TYPE_INTERLACED</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00058">mpegutils.h:58</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a5e35137d6a961c3a91c29b9f3c1705a3"><div class="ttname"><a href="get__bits_8h.html#a5e35137d6a961c3a91c29b9f3c1705a3">OPEN_READER</a></div><div class="ttdeci">#define OPEN_READER(name, gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00138">get_bits.h:138</a></div></div>
<div class="ttc" id="ah263_8h_html_ade4c84da79d6068f249d0cf68b86c8ca"><div class="ttname"><a href="h263_8h.html#ade4c84da79d6068f249d0cf68b86c8ca">INTER_MCBPC_VLC_BITS</a></div><div class="ttdeci">#define INTER_MCBPC_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="h263_8h_source.html#l00038">h263.h:38</a></div></div>
<div class="ttc" id="ampeg4video_8c_html_aa4c7caefb623bd8d04d71fcab14855f4"><div class="ttname"><a href="mpeg4video_8c.html#aa4c7caefb623bd8d04d71fcab14855f4">ff_mpeg4_static_rl_table_store</a></div><div class="ttdeci">uint8_t ff_mpeg4_static_rl_table_store[3][2][2 *MAX_RUN+MAX_LEVEL+3]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8c_source.html#l00028">mpeg4video.c:28</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a64f9f90ece96c7bab4aee3deacf170e0"><div class="ttname"><a href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a></div><div class="ttdeci">#define height</div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a8ba8ea6e9d708642ab39896ead44be7e"><div class="ttname"><a href="mpeg4data_8h.html#a8ba8ea6e9d708642ab39896ead44be7e">ff_mpeg4_default_non_intra_matrix</a></div><div class="ttdeci">const int16_t ff_mpeg4_default_non_intra_matrix[64]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00348">mpeg4data.h:348</a></div></div>
<div class="ttc" id="ampegvideo_8c_html_ab7194fae34d0ae2c3f731115e0787d03"><div class="ttname"><a href="mpegvideo_8c.html#ab7194fae34d0ae2c3f731115e0787d03">ff_mpeg_update_thread_context</a></div><div class="ttdeci">int ff_mpeg_update_thread_context(AVCodecContext *dst, const AVCodecContext *src)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l00491">mpegvideo.c:491</a></div></div>
<div class="ttc" id="ampegvideodata_8h_html"><div class="ttname"><a href="mpegvideodata_8h.html">mpegvideodata.h</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a97e4ba7c779c1ac58dbc886ecdde3ec9"><div class="ttname"><a href="mpegvideo_8h.html#a97e4ba7c779c1ac58dbc886ecdde3ec9">MV_TYPE_FIELD</a></div><div class="ttdeci">#define MV_TYPE_FIELD</div><div class="ttdoc">2 vectors, one per field</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00269">mpegvideo.h:269</a></div></div>
<div class="ttc" id="aget__bits_8h_html_afaf79b13b986df97fdbb5c3fdd71457b"><div class="ttname"><a href="get__bits_8h.html#afaf79b13b986df97fdbb5c3fdd71457b">get_xbits</a></div><div class="ttdeci">static int get_xbits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00321">get_bits.h:321</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aba55ebfbdd624176ceddc14ac7a5f133"><div class="ttname"><a href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a></div><div class="ttdeci">static void skip_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00538">get_bits.h:538</a></div></div>
<div class="ttc" id="ahwconfig_8h_html_a70bd26e4d09c023615aba0c4e82269fe"><div class="ttname"><a href="hwconfig_8h.html#a70bd26e4d09c023615aba0c4e82269fe">HWACCEL_NVDEC</a></div><div class="ttdeci">#define HWACCEL_NVDEC(codec)</div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00071">hwconfig.h:71</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a65d69c01f8024fceba5f12a0a7cf0968"><div class="ttname"><a href="mpegutils_8h.html#a65d69c01f8024fceba5f12a0a7cf0968">IS_DIRECT</a></div><div class="ttdeci">#define IS_DIRECT(a)</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00084">mpegutils.h:84</a></div></div>
<div class="ttc" id="aunary_8h_html"><div class="ttname"><a href="unary_8h.html">unary.h</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00205">log.h:205</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a841dc876c471abcf1ffe238aff129db4"><div class="ttname"><a href="mpeg4video_8h.html#a841dc876c471abcf1ffe238aff129db4">DC_MARKER</a></div><div class="ttdeci">#define DC_MARKER</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00059">mpeg4video.h:59</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_af5e83f0b7b97c4be5b8d8aa2c71f8b42"><div class="ttname"><a href="mpegvideo_8h.html#af5e83f0b7b97c4be5b8d8aa2c71f8b42">ff_update_block_index</a></div><div class="ttdeci">static void ff_update_block_index(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00740">mpegvideo.h:740</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a96214067cb851c0ca98729ab22f4ef02"><div class="ttname"><a href="mpegutils_8h.html#a96214067cb851c0ca98729ab22f4ef02">MB_TYPE_L0L1</a></div><div class="ttdeci">#define MB_TYPE_L0L1</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00069">mpegutils.h:69</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a21f76e5b218a5e5d60f1f3b296b14a97"><div class="ttname"><a href="mpeg4videodec_8c.html#a21f76e5b218a5e5d60f1f3b296b14a97">init_studio_vlcs</a></div><div class="ttdeci">static av_cold int init_studio_vlcs(Mpeg4DecContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03504">mpeg4videodec.c:3504</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a6bad6ea88cd4bccdbeed7a521a1b829a"><div class="ttname"><a href="mpeg4video_8h.html#a6bad6ea88cd4bccdbeed7a521a1b829a">EXT_STARTCODE</a></div><div class="ttdeci">#define EXT_STARTCODE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00067">mpeg4video.h:67</a></div></div>
<div class="ttc" id="ah263_8h_html_ad8d8a3982e5906c9924132b77c580bf0"><div class="ttname"><a href="h263_8h.html#ad8d8a3982e5906c9924132b77c580bf0">ff_h263_decode_init</a></div><div class="ttdeci">int ff_h263_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2h263dec_8c_source.html#l00068">h263dec.c:68</a></div></div>
<div class="ttc" id="aavassert_8h_html_a2764bf422e4df5bf3aac652f21fe780a"><div class="ttname"><a href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a></div><div class="ttdeci">#define av_assert2(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00064">avassert.h:64</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a36adbe09b143b13a7e56e7e2208e4fb7"><div class="ttname"><a href="mpeg4videodec_8c.html#a36adbe09b143b13a7e56e7e2208e4fb7">mpeg4_decode_dc</a></div><div class="ttdeci">static int mpeg4_decode_dc(MpegEncContext *s, int n, int *dir_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00643">mpeg4videodec.c:643</a></div></div>
<div class="ttc" id="astruct_mpeg4_dec_context_html"><div class="ttname"><a href="struct_mpeg4_dec_context.html">Mpeg4DecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00074">mpeg4video.h:74</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="aget__bits_8h_html_ac5635d3f42aa9eb98ccdae1d2fd13000"><div class="ttname"><a href="get__bits_8h.html#ac5635d3f42aa9eb98ccdae1d2fd13000">SKIP_COUNTER</a></div><div class="ttdeci">#define SKIP_COUNTER(name, gb, num)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00185">get_bits.h:185</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_ab5157d7616d3a5a5cc5649d73944675f"><div class="ttname"><a href="mpegvideo_8h.html#ab5157d7616d3a5a5cc5649d73944675f">CHROMA_420</a></div><div class="ttdeci">#define CHROMA_420</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00483">mpegvideo.h:483</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a30adc75414e0a59ca94aad7a56e17e42"><div class="ttname"><a href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some it can consider them to be part of the FIFO and delay acknowledging a status change accordingly Example code</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00176">filter_design.txt:178</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a2be57e7b80017951925cb5025f6b17d4"><div class="ttname"><a href="mpeg4videodec_8c.html#a2be57e7b80017951925cb5025f6b17d4">ff_mpeg4_decoder</a></div><div class="ttdeci">AVCodec ff_mpeg4_decoder</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03590">mpeg4videodec.c:3590</a></div></div>
<div class="ttc" id="ampegvideodata_8c_html_af7a9082d18407e025821c46111aab1f2"><div class="ttname"><a href="mpegvideodata_8c.html#af7a9082d18407e025821c46111aab1f2">ff_alternate_vertical_scan</a></div><div class="ttdeci">const uint8_t ff_alternate_vertical_scan[64]</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideodata_8c_source.html#l00095">mpegvideodata.c:95</a></div></div>
<div class="ttc" id="aget__bits_8h_html_ae49242b74f82c369619336d05d1b2484"><div class="ttname"><a href="get__bits_8h.html#ae49242b74f82c369619336d05d1b2484">show_bits</a></div><div class="ttdeci">static unsigned int show_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00446">get_bits.h:446</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_adcc4ae3676a8b85c86f542fc66cd80fd"><div class="ttname"><a href="mpeg4videodec_8c.html#adcc4ae3676a8b85c86f542fc66cd80fd">ff_mpeg4_decode_video_packet_header</a></div><div class="ttdeci">int ff_mpeg4_decode_video_packet_header(Mpeg4DecContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00447">mpeg4videodec.c:447</a></div></div>
<div class="ttc" id="ah263_8h_html_a9d9b3d7da846f298ac1c787a28c2d49f"><div class="ttname"><a href="h263_8h.html#a9d9b3d7da846f298ac1c787a28c2d49f">ff_h263_decode_end</a></div><div class="ttdeci">int ff_h263_decode_end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2h263dec_8c_source.html#l00155">h263dec.c:155</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a51e7f21b249faa5d1a635a90864c531b"><div class="ttname"><a href="mpeg4video_8h.html#a51e7f21b249faa5d1a635a90864c531b">SIMPLE_STUDIO_VO_TYPE</a></div><div class="ttdeci">#define SIMPLE_STUDIO_VO_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00044">mpeg4video.h:44</a></div></div>
<div class="ttc" id="ah263_8h_html_a3c47d46fab9378a465fbd1289c843ed2"><div class="ttname"><a href="h263_8h.html#a3c47d46fab9378a465fbd1289c843ed2">ff_h263_cbpy_vlc</a></div><div class="ttdeci">VLC ff_h263_cbpy_vlc</div><div class="ttdef"><b>Definition:</b> <a href="ituh263dec_8c_source.html#l00100">ituh263dec.c:100</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a9c96cf51e2d90a0d95cfff3955fa1fbb"><div class="ttname"><a href="avcodec_8h.html#a9c96cf51e2d90a0d95cfff3955fa1fbb">FF_BUG_AUTODETECT</a></div><div class="ttdeci">#define FF_BUG_AUTODETECT</div><div class="ttdoc">autodetection</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01561">avcodec.h:1561</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_a1ee4a05b54419bfadd66ee351d05812e"><div class="ttname"><a href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a></div><div class="ttdeci">float delta</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00457">vorbis_enc_data.h:457</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga04a23a2336412504052d5c4e0c7716ee"><div class="ttname"><a href="group__lavc__misc.html#ga04a23a2336412504052d5c4e0c7716ee">av_fast_padded_malloc</a></div><div class="ttdeci">void av_fast_padded_malloc(void *ptr, unsigned int *size, size_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00072">utils.c:72</a></div></div>
<div class="ttc" id="alibavcodec_2dv_8h_html_a133db9309d28eadfde4a40d214f31d33"><div class="ttname"><a href="libavcodec_2dv_8h.html#a133db9309d28eadfde4a40d214f31d33">TEX_VLC_BITS</a></div><div class="ttdeci">#define TEX_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2dv_8h_source.html#l00099">dv.h:99</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a0deea55bc1816542a27d51388a327d8e"><div class="ttname"><a href="avcodec_8h.html#a0deea55bc1816542a27d51388a327d8e">FF_DEBUG_STARTCODE</a></div><div class="ttdeci">#define FF_DEBUG_STARTCODE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01625">avcodec.h:1625</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gab646f0a7cc30af543ba4a91b37f9de6e"><div class="ttname"><a href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a></div><div class="ttdeci">static av_always_inline AVRational av_inv_q(AVRational q)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00159">rational.h:159</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a20e79794aa0786fb5e2fef254650232d"><div class="ttname"><a href="mpeg4video_8h.html#a20e79794aa0786fb5e2fef254650232d">USER_DATA_STARTCODE</a></div><div class="ttdeci">#define USER_DATA_STARTCODE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00062">mpeg4video.h:62</a></div></div>
<div class="ttc" id="aavcodec_8h_html_af566afeadf0c6ef3571ba0cf99ca9e13"><div class="ttname"><a href="avcodec_8h.html#af566afeadf0c6ef3571ba0cf99ca9e13">FF_BUG_QPEL_CHROMA</a></div><div class="ttdeci">#define FF_BUG_QPEL_CHROMA</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01566">avcodec.h:1566</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a></div><div class="ttdeci">@ AVCOL_RANGE_MPEG</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00569">pixfmt.h:569</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_aa0af12973226136f08c1e6abc20d53a2"><div class="ttname"><a href="mpeg4videodec_8c.html#aa0af12973226136f08c1e6abc20d53a2">SPRITE_TRAJ_VLC_BITS</a></div><div class="ttdeci">#define SPRITE_TRAJ_VLC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00046">mpeg4videodec.c:46</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a74b3f0980bc3c8535a9edac6bc41fccd"><div class="ttname"><a href="get__bits_8h.html#a74b3f0980bc3c8535a9edac6bc41fccd">GET_RL_VLC</a></div><div class="ttdeci">#define GET_RL_VLC(level, run, name, gb, table, bits, max_depth, need_update)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00738">get_bits.h:738</a></div></div>
<div class="ttc" id="amathops_8h_html_a0729a02967b7934643d747721ecdccbb"><div class="ttname"><a href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a></div><div class="ttdeci">const uint8_t ff_zigzag_direct[64]</div><div class="ttdef"><b>Definition:</b> <a href="mathtables_8c_source.html#l00098">mathtables.c:98</a></div></div>
<div class="ttc" id="aattributes_8h_html_a934ff195492486f0f9d22770103e757b"><div class="ttname"><a href="attributes_8h.html#a934ff195492486f0f9d22770103e757b">av_uninit</a></div><div class="ttdeci">#define av_uninit(x)</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00156">attributes.h:156</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8b669e043c8b064fcf991fd71e16a870"><div class="ttname"><a href="struct_a_v_codec_context.html#a8b669e043c8b064fcf991fd71e16a870">AVCodecContext::idct_algo</a></div><div class="ttdeci">int idct_algo</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01729">avcodec.h:1729</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_abaac2000a6c35fc7012df1643ea6c228"><div class="ttname"><a href="mpegvideo_8h.html#abaac2000a6c35fc7012df1643ea6c228">SLICE_OK</a></div><div class="ttdeci">#define SLICE_OK</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00516">mpegvideo.h:516</a></div></div>
<div class="ttc" id="aget__bits_8h_html_ade604fdf49709e1ae3e4781d4b878f6d"><div class="ttname"><a href="get__bits_8h.html#ade604fdf49709e1ae3e4781d4b878f6d">align_get_bits</a></div><div class="ttdeci">static const uint8_t * align_get_bits(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00693">get_bits.h:693</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_abc93af2f34d185ba3868418f9bbf0e17"><div class="ttname"><a href="mpeg4videodec_8c.html#abc93af2f34d185ba3868418f9bbf0e17">dc_chrom</a></div><div class="ttdeci">static VLC dc_chrom</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00053">mpeg4videodec.c:53</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="ampeg4video_8c_html_a217aab4bc9a043dc90c45146041391f7"><div class="ttname"><a href="mpeg4video_8c.html#a217aab4bc9a043dc90c45146041391f7">ff_mpeg4_init_direct_mv</a></div><div class="ttdeci">void ff_mpeg4_init_direct_mv(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8c_source.html#l00071">mpeg4video.c:71</a></div></div>
<div class="ttc" id="asnow_8txt_html_a7c18a837a38b8c96472a1d0abe1711d1"><div class="ttname"><a href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a></div><div class="ttdeci">Tag MUST be and&lt; 10hcoeff half pel interpolation filter coefficients, hcoeff[0] are the 2 middle coefficients[1] are the next outer ones and so on, resulting in a filter like:...eff[2], hcoeff[1], hcoeff[0], hcoeff[0], hcoeff[1], hcoeff[2] ... the sign of the coefficients is not explicitly stored but alternates after each coeff and coeff[0] is positive, so ...,+,-,+,-,+,+,-,+,-,+,... hcoeff[0] is not explicitly stored but found by subtracting the sum of all stored coefficients with signs from 32 hcoeff[0]=32 - hcoeff[1] - hcoeff[2] - ... a good choice for hcoeff and htaps is htaps=6 hcoeff={40,-10, 2} an alternative which requires more computations at both encoder and decoder side and may or may not be better is htaps=8 hcoeff={42,-14, 6,-2}ref_frames minimum of the number of available reference frames and max_ref_frames for example the first frame after a key frame always has ref_frames=1spatial_decomposition_type wavelet type 0 is a 9/7 symmetric compact integer wavelet 1 is a 5/3 symmetric compact integer wavelet others are reserved stored as delta from last, last is reset to 0 if always_reset||keyframeqlog quality(logarithmic quantizer scale) stored as delta from last, last is reset to 0 if always_reset||keyframemv_scale stored as delta from last, last is reset to 0 if always_reset||keyframe FIXME check that everything works fine if this changes between framesqbias dequantization bias stored as delta from last, last is reset to 0 if always_reset||keyframeblock_max_depth maximum depth of the block tree stored as delta from last, last is reset to 0 if always_reset||keyframequant_table quantization tableHighlevel bitstream structure:==============================--------------------------------------------|Header|--------------------------------------------|------------------------------------|||Block0||||split?||||yes no||||......... intra?||||:Block01 :yes no||||:Block02 :....... ..........||||:Block03 ::y DC ::ref index:||||:Block04 ::cb DC ::motion x :||||......... :cr DC ::motion y :||||....... ..........|||------------------------------------||------------------------------------|||Block1|||...|--------------------------------------------|------------ ------------ ------------|||Y subbands||Cb subbands||Cr subbands||||--- ---||--- ---||--- ---|||||LL0||HL0||||LL0||HL0||||LL0||HL0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||LH0||HH0||||LH0||HH0||||LH0||HH0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HL1||LH1||||HL1||LH1||||HL1||LH1|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HH1||HL2||||HH1||HL2||||HH1||HL2|||||...||...||...|||------------ ------------ ------------|--------------------------------------------Decoding process:=================------------|||Subbands|------------||||------------|Intra DC||||LL0 subband prediction ------------|\ Dequantization ------------------- \||Reference frames|\ IDWT|------- -------|Motion \|||Frame 0||Frame 1||Compensation . OBMC v -------|------- -------|--------------. \------&gt; Frame n output Frame Frame&lt;----------------------------------/|...|------------------- Range Coder:============Binary Range Coder:------------------- The implemented range coder is an adapted version based upon &quot;Range encoding: an algorithm for removing redundancy from a digitised message.&quot; by G. N. N. Martin. The symbols encoded by the Snow range coder are bits(0|1). The associated probabilities are not fix but change depending on the symbol mix seen so far. bit seen|new state ---------+----------------------------------------------- 0|256 - state_transition_table[256 - old_state];1|state_transition_table[old_state];state_transition_table={ 0, 0, 0, 0, 0, 0, 0, 0, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 190, 191, 192, 194, 194, 195, 196, 197, 198, 199, 200, 201, 202, 202, 204, 205, 206, 207, 208, 209, 209, 210, 211, 212, 213, 215, 215, 216, 217, 218, 219, 220, 220, 222, 223, 224, 225, 226, 227, 227, 229, 229, 230, 231, 232, 234, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 248, 0, 0, 0, 0, 0, 0, 0};FIXME Range Coding of integers:------------------------- FIXME Neighboring Blocks:===================left and top are set to the respective blocks unless they are outside of the image in which case they are set to the Null block top-left is set to the top left block unless it is outside of the image in which case it is set to the left block if this block has no larger parent block or it is at the left side of its parent block and the top right block is not outside of the image then the top right block is used for top-right else the top-left block is used Null block y, cb, cr are 128 level, ref, mx and my are 0 Motion Vector Prediction:=========================1. the motion vectors of all the neighboring blocks are scaled to compensate for the difference of reference frames scaled_mv=(mv *(256 *(current_reference+1)/(mv.reference+1))+128)&gt; the median of the scaled left</div><div class="ttdef"><b>Definition:</b> <a href="snow_8txt_source.html#l00386">snow.txt:386</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a9cf6009c310feafa73a80dc04a1f06a8"><div class="ttname"><a href="mpeg4videodec_8c.html#a9cf6009c310feafa73a80dc04a1f06a8">decode_vop_header</a></div><div class="ttdeci">static int decode_vop_header(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02697">mpeg4videodec.c:2697</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_aa9d0f5090bf27c140f09668398518b2e"><div class="ttname"><a href="mpeg4videodec_8c.html#aa9d0f5090bf27c140f09668398518b2e">mpeg4_decode_partition_b</a></div><div class="ttdeci">static int mpeg4_decode_partition_b(MpegEncContext *s, int mb_count)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00884">mpeg4videodec.c:884</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a4e11e2c007540a289872ed149593167e"><div class="ttname"><a href="get__bits_8h.html#a4e11e2c007540a289872ed149593167e">SHOW_UBITS</a></div><div class="ttdeci">#define SHOW_UBITS(name, gb, num)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00211">get_bits.h:211</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a4911ccb238421c83c5189173a46beae7"><div class="ttname"><a href="mpeg4data_8h.html#a4911ccb238421c83c5189173a46beae7">ff_mb_type_b_tab</a></div><div class="ttdeci">const uint8_t ff_mb_type_b_tab[4][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00332">mpeg4data.h:332</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ace46e41b9bd6cac88fb7109ffd657f9a"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a></div><div class="ttdeci">#define AV_RL32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00146">intreadwrite.h:146</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_B</div><div class="ttdoc">Bi-dir predicted.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00276">avutil.h:276</a></div></div>
<div class="ttc" id="ampeg4video_8h_html"><div class="ttname"><a href="mpeg4video_8h.html">mpeg4video.h</a></div></div>
<div class="ttc" id="aerror__resilience_8h_html"><div class="ttname"><a href="error__resilience_8h.html">error_resilience.h</a></div></div>
<div class="ttc" id="arl_8c_html_aea223213d198a43aae9852a92d9f45ec"><div class="ttname"><a href="rl_8c.html#aea223213d198a43aae9852a92d9f45ec">ff_rl_init</a></div><div class="ttdeci">av_cold int ff_rl_init(RLTable *rl, uint8_t static_store[2][2 *MAX_RUN+MAX_LEVEL+3])</div><div class="ttdef"><b>Definition:</b> <a href="rl_8c_source.html#l00039">rl.c:39</a></div></div>
<div class="ttc" id="arpzaenc_8c_html_a7b8da94fb39e743a39c3835b2751d2ac"><div class="ttname"><a href="rpzaenc_8c.html#a7b8da94fb39e743a39c3835b2751d2ac">rgb</a></div><div class="ttdeci">struct rgb rgb</div></div>
<div class="ttc" id="ampeg4videodec_8c_html_ab04d3f28a3c6400f2c419b4787c53b71"><div class="ttname"><a href="mpeg4videodec_8c.html#ab04d3f28a3c6400f2c419b4787c53b71">mpeg4_options</a></div><div class="ttdeci">static const AVOption mpeg4_options[]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03577">mpeg4videodec.c:3577</a></div></div>
<div class="ttc" id="alibfdk-aacenc_8c_html_a3e3649a3e3978bfb8c6e13c4e91c5e6b"><div class="ttname"><a href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a></div><div class="ttdeci">static const AVProfile profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="libfdk-aacenc_8c_source.html#l00428">libfdk-aacenc.c:428</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga3f55f5bcfbb12e06c7cb1195028855e6"><div class="ttname"><a href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a></div><div class="ttdeci">#define AV_CODEC_CAP_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00075">codec.h:75</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_aac509e38ceb4db9bea02bdddadfdd863"><div class="ttname"><a href="mpeg4videodec_8c.html#aac509e38ceb4db9bea02bdddadfdd863">decode_studio_vol_header</a></div><div class="ttdeci">static int decode_studio_vol_header(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03129">mpeg4videodec.c:3129</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a8c006b22e71e0bd6ab52b374624aac2f"><div class="ttname"><a href="mpeg4video_8h.html#a8c006b22e71e0bd6ab52b374624aac2f">RECT_SHAPE</a></div><div class="ttdeci">#define RECT_SHAPE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00033">mpeg4video.h:33</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_ac6963b0ecbae79a61bd1e96b561ce6fc"><div class="ttname"><a href="mpeg4video_8h.html#ac6963b0ecbae79a61bd1e96b561ce6fc">VOP_STARTCODE</a></div><div class="ttdeci">#define VOP_STARTCODE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00065">mpeg4video.h:65</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga3f9c69432582e2857147bcba3c75dc32"><div class="ttname"><a href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a></div><div class="ttdeci">AVRational av_mul_q(AVRational b, AVRational c)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00080">rational.c:80</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_abadbf5188f6ff57e78e11d31aa462f56"><div class="ttname"><a href="mpeg4videodec_8c.html#abadbf5188f6ff57e78e11d31aa462f56">decode_vol_header</a></div><div class="ttdeci">static int decode_vol_header(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l02147">mpeg4videodec.c:2147</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a84b2a67f04fa6d2cab74d09e2779b6ec"><div class="ttname"><a href="avcodec_8h.html#a84b2a67f04fa6d2cab74d09e2779b6ec">AV_EF_AGGRESSIVE</a></div><div class="ttdeci">#define AV_EF_AGGRESSIVE</div><div class="ttdoc">consider things that a sane encoder should not do as an error</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01671">avcodec.h:1671</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_af35b75103f314cd41db1d8e1799585c9"><div class="ttname"><a href="mpeg4videodec_8c.html#af35b75103f314cd41db1d8e1799585c9">mpeg4_is_resync</a></div><div class="ttdeci">static int mpeg4_is_resync(Mpeg4DecContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00124">mpeg4videodec.c:124</a></div></div>
<div class="ttc" id="asonic_8c_html_aee201839e95f7edeff51ad9c8e072bda"><div class="ttname"><a href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a></div><div class="ttdeci">static int shift(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="sonic_8c_source.html#l00082">sonic.c:82</a></div></div>
<div class="ttc" id="arl_8h_html_ad96d339ab185474c03b15d1562b41f29"><div class="ttname"><a href="rl_8h.html#ad96d339ab185474c03b15d1562b41f29">INIT_VLC_RL</a></div><div class="ttdeci">#define INIT_VLC_RL(rl, static_size)</div><div class="ttdef"><b>Definition:</b> <a href="rl_8h_source.html#l00063">rl.h:63</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a32ef77471d09b5b1df0943a3073efdb2"><div class="ttname"><a href="mpeg4videodec_8c.html#a32ef77471d09b5b1df0943a3073efdb2">mpeg4_decode_dpcm_macroblock</a></div><div class="ttdeci">static int mpeg4_decode_dpcm_macroblock(MpegEncContext *s, int16_t macroblock[256], int n)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l01932">mpeg4videodec.c:1932</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_P</div><div class="ttdoc">Predicted.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00275">avutil.h:275</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="aget__bits_8h_html_af0912ada123614fa9e51ed638e867645"><div class="ttname"><a href="get__bits_8h.html#af0912ada123614fa9e51ed638e867645">get_bitsz</a></div><div class="ttdeci">static av_always_inline int get_bitsz(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00415">get_bits.h:415</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a764cb845b466bc4b4851d0c3a519c68f"><div class="ttname"><a href="mpegvideo_8h.html#a764cb845b466bc4b4851d0c3a519c68f">SLICE_START_CODE</a></div><div class="ttdeci">#define SLICE_START_CODE</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00075">mpegvideo.h:75</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a4380d92b0f151c36d5304b11b6610c66"><div class="ttname"><a href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer overflow</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00003">undefined.txt:3</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a133d9f0e29862e9f1726beafc530e052"><div class="ttname"><a href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a></div><div class="ttdeci">#define FF_CODEC_CAP_ALLOCATE_PROGRESS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00075">internal.h:75</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a1c203bbc031e7a8d622b4e002da815c1"><div class="ttname"><a href="avcodec_8h.html#a1c203bbc031e7a8d622b4e002da815c1">FF_BUG_XVID_ILACE</a></div><div class="ttdeci">#define FF_BUG_XVID_ILACE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01562">avcodec.h:1562</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="ah263_8h_html_a8dc65750317e273713156a72f97a2c14"><div class="ttname"><a href="h263_8h.html#a8dc65750317e273713156a72f97a2c14">ff_h263_decode_frame</a></div><div class="ttdeci">int ff_h263_decode_frame(AVCodecContext *avctx, void *data, int *got_frame, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2h263dec_8c_source.html#l00421">h263dec.c:421</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a03e4867226bd9b398bd37d5aac2d6663"><div class="ttname"><a href="mpeg4videodec_8c.html#a03e4867226bd9b398bd37d5aac2d6663">reset_studio_dc_predictors</a></div><div class="ttdeci">static void reset_studio_dc_predictors(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00536">mpeg4videodec.c:536</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a5eaea11533f853fb2ff87c498f657e05"><div class="ttname"><a href="mpeg4data_8h.html#a5eaea11533f853fb2ff87c498f657e05">ff_mpeg4_c_dc_scale_table</a></div><div class="ttdeci">const uint8_t ff_mpeg4_c_dc_scale_table[32]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00363">mpeg4data.h:363</a></div></div>
<div class="ttc" id="aget__bits_8h_html_ad1676fe860574ceb1d78daccd9406513"><div class="ttname"><a href="get__bits_8h.html#ad1676fe860574ceb1d78daccd9406513">check_marker</a></div><div class="ttdeci">static int check_marker(void *logctx, GetBitContext *s, const char *msg)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00612">get_bits.h:612</a></div></div>
<div class="ttc" id="aerror__resilience_8h_html_a85f3dd456588d7b4b71f943ecc76ef63"><div class="ttname"><a href="error__resilience_8h.html#a85f3dd456588d7b4b71f943ecc76ef63">ER_MV_END</a></div><div class="ttdeci">#define ER_MV_END</div><div class="ttdef"><b>Definition:</b> <a href="error__resilience_8h_source.html#l00036">error_resilience.h:36</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a06ee45a9624b41ec4a2f36d5519c25cc"><div class="ttname"><a href="mpeg4video_8h.html#a06ee45a9624b41ec4a2f36d5519c25cc">QUANT_MATRIX_EXT_ID</a></div><div class="ttdeci">#define QUANT_MATRIX_EXT_ID</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00069">mpeg4video.h:69</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a8a61c9e16b657458461e1930ecb7ea92"><div class="ttname"><a href="mpeg4videodec_8c.html#a8a61c9e16b657458461e1930ecb7ea92">next_start_code_studio</a></div><div class="ttdeci">static void next_start_code_studio(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l01781">mpeg4videodec.c:1781</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a91f96ac4aa02badb684e42c5294a45bf"><div class="ttname"><a href="mpegvideo_8h.html#a91f96ac4aa02badb684e42c5294a45bf">MV_DIR_FORWARD</a></div><div class="ttdeci">#define MV_DIR_FORWARD</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00262">mpegvideo.h:262</a></div></div>
<div class="ttc" id="ailbcdata_8h_html_a545b8c1c045fcc34b81d3ca822620277"><div class="ttname"><a href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a></div><div class="ttdeci">static const int16_t alpha[]</div><div class="ttdef"><b>Definition:</b> <a href="ilbcdata_8h_source.html#l00055">ilbcdata.h:55</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a43177b29fe25e4cd6fd40a4165e6d7a0"><div class="ttname"><a href="mpeg4videodec_8c.html#a43177b29fe25e4cd6fd40a4165e6d7a0">decode_studio_vop_header</a></div><div class="ttdeci">static int decode_studio_vop_header(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03056">mpeg4videodec.c:3056</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a587f0f5a11309aaf7ae78b223502e059"><div class="ttname"><a href="mpeg4videodec_8c.html#a587f0f5a11309aaf7ae78b223502e059">mb_type_b_vlc</a></div><div class="ttdeci">static VLC mb_type_b_vlc</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00055">mpeg4videodec.c:55</a></div></div>
<div class="ttc" id="ahwconfig_8h_html_aa68c779f38e712638d155e481ce20a79"><div class="ttname"><a href="hwconfig_8h.html#aa68c779f38e712638d155e481ce20a79">HWACCEL_VAAPI</a></div><div class="ttdeci">#define HWACCEL_VAAPI(codec)</div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00073">hwconfig.h:73</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a965a4fc680cb580e5d4a862e0858c6a7"><div class="ttname"><a href="mpegutils_8h.html#a965a4fc680cb580e5d4a862e0858c6a7">MB_TYPE_DIRECT2</a></div><div class="ttdeci">#define MB_TYPE_DIRECT2</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00059">mpegutils.h:59</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga01fbdf31e076d8902d8f4118c0aea6ea"><div class="ttname"><a href="group__lavc__core.html#ga01fbdf31e076d8902d8f4118c0aea6ea">AV_CODEC_CAP_DRAW_HORIZ_BAND</a></div><div class="ttdeci">#define AV_CODEC_CAP_DRAW_HORIZ_BAND</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00044">codec.h:44</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a17afa58b2bc574dedcd1cc02e1fdf165"><div class="ttname"><a href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a></div><div class="ttdeci">The exact code depends on how similar the blocks are and how related they are to the block</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00207">filter_design.txt:207</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a8ad2309ae2bad5dba54b91305937851d"><div class="ttname"><a href="mpeg4video_8h.html#a8ad2309ae2bad5dba54b91305937851d">MOTION_MARKER</a></div><div class="ttdeci">#define MOTION_MARKER</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00058">mpeg4video.h:58</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="avp9dsp__template_8c_html_a5e36941b3d856737e81516acd45edc50"><div class="ttname"><a href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div><div class="ttdeci">h</div><div class="ttdef"><b>Definition:</b> <a href="vp9dsp__template_8c_source.html#l02038">vp9dsp_template.c:2038</a></div></div>
<div class="ttc" id="ampeg4data_8h_html_a7bc9571cdb53c8cdc1c66c3c0f0bf2d0"><div class="ttname"><a href="mpeg4data_8h.html#a7bc9571cdb53c8cdc1c66c3c0f0bf2d0">ff_mpeg4_studio_dc_luma</a></div><div class="ttdeci">const uint16_t ff_mpeg4_studio_dc_luma[19][2]</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4data_8h_source.html#l00377">mpeg4data.h:377</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a3b1a66dc9d0f83123067b88d7428408f"><div class="ttname"><a href="mpeg4videodec_8c.html#a3b1a66dc9d0f83123067b88d7428408f">decode_new_pred</a></div><div class="ttdeci">static int decode_new_pred(Mpeg4DecContext *ctx, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00431">mpeg4videodec.c:431</a></div></div>
<div class="ttc" id="astruct_r_l_table_html"><div class="ttname"><a href="struct_r_l_table.html">RLTable</a></div><div class="ttdef"><b>Definition:</b> <a href="rl_8h_source.html#l00039">rl.h:39</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a669de65d99fa3e9e8a350bf4442c4ceb"><div class="ttname"><a href="mpeg4videodec_8c.html#a669de65d99fa3e9e8a350bf4442c4ceb">decode_init</a></div><div class="ttdeci">static av_cold int decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l03535">mpeg4videodec.c:3535</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a602672eb5406d3cfafb16a9eccf90632"><div class="ttname"><a href="avcodec_8h.html#a602672eb5406d3cfafb16a9eccf90632">FF_BUG_AMV</a></div><div class="ttdeci">#define FF_BUG_AMV</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01565">avcodec.h:1565</a></div></div>
<div class="ttc" id="ampeg4videodec_8c_html_a750b43fe0c45c023226c7269fd9902f2"><div class="ttname"><a href="mpeg4videodec_8c.html#a750b43fe0c45c023226c7269fd9902f2">sprite_trajectory</a></div><div class="ttdeci">static VLC sprite_trajectory</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4videodec_8c_source.html#l00054">mpeg4videodec.c:54</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eac279237c3b09bb9f7ece0675658e65ad">AV_PICTURE_TYPE_S</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_S</div><div class="ttdoc">S(GMC)-VOP MPEG-4.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00277">avutil.h:277</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a7f919a3f8d3eb9c13a5cc5024de8247a"><div class="ttname"><a href="mpeg4video_8h.html#a7f919a3f8d3eb9c13a5cc5024de8247a">SIMPLE_VO_TYPE</a></div><div class="ttdeci">#define SIMPLE_VO_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00038">mpeg4video.h:38</a></div></div>
<div class="ttc" id="ax86_2idctdsp_8h_html"><div class="ttname"><a href="x86_2idctdsp_8h.html">idctdsp.h</a></div></div>
<div class="ttc" id="astruct_r_l_table_html_a27405dc716e4009fa2a1af34978b76f8"><div class="ttname"><a href="struct_r_l_table.html#a27405dc716e4009fa2a1af34978b76f8">RLTable::max_run</a></div><div class="ttdeci">int8_t * max_run[2]</div><div class="ttdoc">encoding &amp; decoding</div><div class="ttdef"><b>Definition:</b> <a href="rl_8h_source.html#l00047">rl.h:47</a></div></div>
<div class="ttc" id="ampeg4video_8h_html_a3a7182ca5f1fbabf6bd6d09af2ae6a75"><div class="ttname"><a href="mpeg4video_8h.html#a3a7182ca5f1fbabf6bd6d09af2ae6a75">IS_3IV1</a></div><div class="ttdeci">#define IS_3IV1</div><div class="ttdef"><b>Definition:</b> <a href="mpeg4video_8h_source.html#l00192">mpeg4video.h:192</a></div></div>
<div class="ttc" id="ampegutils_8h_html_a79511082069c453cfab90fe2efd2463c"><div class="ttname"><a href="mpegutils_8h.html#a79511082069c453cfab90fe2efd2463c">MB_TYPE_INTRA</a></div><div class="ttdeci">#define MB_TYPE_INTRA</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00073">mpegutils.h:73</a></div></div>
<div class="ttc" id="afft_8c_html_aeac685ede53ad58d0e24e6c060feff7a"><div class="ttname"><a href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a></div><div class="ttdeci">float re</div><div class="ttdef"><b>Definition:</b> <a href="fft_8c_source.html#l00082">fft.c:82</a></div></div>
<div class="ttc" id="ah263_8h_html"><div class="ttname"><a href="h263_8h.html">h263.h</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_ad2e88d75f808e6d4e78d48bceb10c336"><div class="ttname"><a href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a></div><div class="ttdeci">float min</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00456">vorbis_enc_data.h:456</a></div></div>
<div class="ttc" id="ah263_8h_html_a74a74b9a3cc99bd934b92d2e86ecf8bf"><div class="ttname"><a href="h263_8h.html#a74a74b9a3cc99bd934b92d2e86ecf8bf">ff_h263_inter_MCBPC_vlc</a></div><div class="ttdeci">VLC ff_h263_inter_MCBPC_vlc</div><div class="ttdef"><b>Definition:</b> <a href="ituh263dec_8c_source.html#l00099">ituh263dec.c:99</a></div></div>
<div class="ttc" id="amobiclip_8c_html_a57b2e043ed81e05eaf007673213c6e7e"><div class="ttname"><a href="mobiclip_8c.html#a57b2e043ed81e05eaf007673213c6e7e">rl_vlc</a></div><div class="ttdeci">static VLC rl_vlc[2]</div><div class="ttdef"><b>Definition:</b> <a href="mobiclip_8c_source.html#l00327">mobiclip.c:327</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
