<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/avidec.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">avidec.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="avidec_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * AVI demuxer</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2001 Fabrice Bellard</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">libavutil/dict.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avi_8h.html">avi.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavformat_2dv_8h.html">dv.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="isom_8h.html">isom.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="riff_8h.html">riff.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">libavcodec/bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="exif_8h.html">libavcodec/exif.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavcodec_2internal_8h.html">libavcodec/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html">   41</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_v_i_stream.html">AVIStream</a> {</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">   42</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>;   <span class="comment">/* current frame (video) or byte (audio) counter</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">                             * (used to compute the pts) */</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">   44</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">   45</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">packet_size</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a2904d04d7ee6d04ea97b219d1e7b43b3">   47</a></span>&#160;    uint32_t <a class="code" href="struct_a_v_i_stream.html#a2904d04d7ee6d04ea97b219d1e7b43b3">handler</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">   48</a></span>&#160;    uint32_t <a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">   49</a></span>&#160;    uint32_t <a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">   50</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>;        <span class="comment">/* size of one sample (or packet)</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">                             * (in the rate/scale sense) in bytes */</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">   53</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a>;        <span class="comment">/* temporary storage (used during seek) */</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">   54</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">prefix</a>;             <span class="comment">/* normally &#39;d&#39;&lt;&lt;8 + &#39;c&#39; or &#39;w&#39;&lt;&lt;8 + &#39;b&#39; */</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#abe68a8ddbe01d95a2093d999c58767e2">   55</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#abe68a8ddbe01d95a2093d999c58767e2">prefix_count</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a95dbf1e3195444d1c08cddaa1ee615fa">   56</a></span>&#160;    uint32_t <a class="code" href="struct_a_v_i_stream.html#a95dbf1e3195444d1c08cddaa1ee615fa">pal</a>[256];</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a155b4d5a5857f0debe85c3b75469e171">   57</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#a155b4d5a5857f0debe85c3b75469e171">has_pal</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">   58</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a>;  <span class="comment">/* block align variable used to emulate bugs in</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">                             * the MS dshow demuxer */</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">   61</a></span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">   62</a></span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a> <a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#acc03aa517a04cbb7a85d052017fb23f1">   63</a></span>&#160;    <a class="code" href="struct_a_v_buffer_ref.html">AVBufferRef</a> *<a class="code" href="struct_a_v_i_stream.html#acc03aa517a04cbb7a85d052017fb23f1">sub_buffer</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#ade913d2ed413a9ddde92c89d4f86f625">   65</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#ade913d2ed413a9ddde92c89d4f86f625">seek_pos</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="avidec_8c.html#a7a0b0a2d67065ab808db4ff55f7e0f83">   66</a></span>&#160;} <a class="code" href="avidec_8c.html#a7a0b0a2d67065ab808db4ff55f7e0f83">AVIStream</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html">   68</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_v_i_context.html">AVIContext</a> {</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a6a8a32e2eb4ebb6912767177cd9eed85">   69</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">   70</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">   71</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">movi_end</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">   72</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">   73</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">io_fsize</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">   74</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a026a3ad3486537a69fcac8c250758086">   75</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a026a3ad3486537a69fcac8c250758086">last_pkt_pos</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">   76</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#ac68e810db7b0851c9719e8acf0631f0a">   77</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#ac68e810db7b0851c9719e8acf0631f0a">is_odml</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">   78</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">   79</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">   80</a></span>&#160;    <a class="code" href="struct_d_v_demux_context.html">DVDemuxContext</a> *<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a727e1cc674164d447f6b30c8634e2670">   81</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#a727e1cc674164d447f6b30c8634e2670">odml_depth</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#aaacf0ffbc28fd97871836929324c7359">   82</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#aaacf0ffbc28fd97871836929324c7359">use_odml</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="avidec_8c.html#a42e78397613027964e1d05d38e6a0c5f">   83</a></span>&#160;<span class="preprocessor">#define MAX_ODML_DEPTH 1000</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a68fa093614eb49d19fda861552d00934">   84</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a68fa093614eb49d19fda861552d00934">dts_max</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="avidec_8c.html#aa6884766a457406d64af48fa6ba00477">   85</a></span>&#160;} <a class="code" href="avidec_8c.html#aa6884766a457406d64af48fa6ba00477">AVIContext</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="avidec_8c.html#a384ff94b5139f441c282c9b4c7b985e6">   88</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="avidec_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    { <span class="stringliteral">&quot;use_odml&quot;</span>, <span class="stringliteral">&quot;use odml index&quot;</span>, offsetof(<a class="code" href="struct_a_v_i_context.html">AVIContext</a>, use_odml), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 1}, -1, 1, <a class="code" href="opt_8h.html#aad820197915e73441f76f5e0c384d78a">AV_OPT_FLAG_DECODING_PARAM</a>},</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;};</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="avidec_8c.html#a89892c5f4a9bb0571477bd181c7fc616">   93</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="avidec_8c.html#a89892c5f4a9bb0571477bd181c7fc616">demuxer_class</a> = {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;avi&quot;</span>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    .option     = <a class="code" href="avidec_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    .category   = <a class="code" href="log_8h.html#aeb1c06cc3e47a029ca6afeac782ac8f9a86a70f4c26b01f85c4c23433322eec2c">AV_CLASS_CATEGORY_DEMUXER</a>,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;};</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">  102</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a>[][8] = {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    { <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39; &#39;</span>  },</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    { <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;X&#39;</span>  },</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    { <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, 0x19 },</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    { <span class="charliteral">&#39;O&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;O&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;f&#39;</span>  },</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    { <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;M&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39; &#39;</span>  },</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    { 0 }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;};</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="avidec_8c.html#a7689a242b561d3a67baec480a946dab3">  111</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_metadata_conv.html">AVMetadataConv</a> <a class="code" href="avidec_8c.html#a7689a242b561d3a67baec480a946dab3">avi_metadata_conv</a>[] = {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    { <span class="stringliteral">&quot;strn&quot;</span>, <span class="stringliteral">&quot;title&quot;</span> },</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    { <span class="stringliteral">&quot;isbj&quot;</span>, <span class="stringliteral">&quot;subject&quot;</span> },</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    { <span class="stringliteral">&quot;inam&quot;</span>, <span class="stringliteral">&quot;title&quot;</span> },</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    { <span class="stringliteral">&quot;iart&quot;</span>, <span class="stringliteral">&quot;artist&quot;</span> },</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    { <span class="stringliteral">&quot;icop&quot;</span>, <span class="stringliteral">&quot;copyright&quot;</span> },</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    { <span class="stringliteral">&quot;icmt&quot;</span>, <span class="stringliteral">&quot;comment&quot;</span> },</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    { <span class="stringliteral">&quot;ignr&quot;</span>, <span class="stringliteral">&quot;genre&quot;</span> },</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    { <span class="stringliteral">&quot;iprd&quot;</span>, <span class="stringliteral">&quot;product&quot;</span> },</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    { <span class="stringliteral">&quot;isft&quot;</span>, <span class="stringliteral">&quot;software&quot;</span> },</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    { 0 },</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;};</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#acd43809625bac3c3c4c201d9162288ff">avi_read_close</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a34ddc4ca90a2a53c30a3dd28ab80b183">avi_load_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#ae1d858c5b73c7020d14502ea0a21f60c">guess_ni_flag</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="avidec_8c.html#ab7aa6b2d759be2e05c0b1b0c0708f2c7">  129</a></span>&#160;<span class="preprocessor">#define print_tag(s, str, tag, size)                                      \</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">    av_log(s, AV_LOG_TRACE, &quot;pos:%&quot;PRIX64&quot; %s: tag=%s size=0x%x\n&quot;, \</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">           avio_tell(pb), str, av_fourcc2str(tag), size)                  \</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="avidec_8c.html#a5c7e7696097a698780c229d4a5275883">  133</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a5c7e7696097a698780c229d4a5275883">get_duration</a>(<a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast, <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a>)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> + ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> - 1) / ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="avidec_8c.html#a47aaaadf0f099cb340287e1fcd68e338">  143</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a47aaaadf0f099cb340287e1fcd68e338">get_riff</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>[8] = {0};</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">/* check RIFF header */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(pb, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>, 4);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a>  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* RIFF chunk size */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a> += <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb); <span class="comment">/* RIFF chunk end */</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(pb, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a> + 4, 4);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> (!memcmp(<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>, <a class="code" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], 8))</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0])</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>[7] == 0x19)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;               <span class="stringliteral">&quot;This file has been generated by a totally broken muxer.\n&quot;</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="avidec_8c.html#acc9e549277c5d2b859fe9676ef5f5414">  168</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#acc9e549277c5d2b859fe9676ef5f5414">read_odml_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> frame_num)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">int</span> longs_per_entry = <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(pb);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> index_sub_type  = <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(pb);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">int</span> index_type      = <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(pb);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">int</span> entries_in_use  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">int</span> chunk_id        = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    int64_t <a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a>        = <a class="code" href="avio_8h.html#af60c7d8fdabc3667ead1fffd2fac7ad5">avio_rl64</a>(pb);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">int</span> stream_id       = ((chunk_id      &amp; 0xFF) - <span class="charliteral">&#39;0&#39;</span>) * 10 +</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                          ((chunk_id &gt;&gt; 8 &amp; 0xFF) - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    int64_t last_pos = -1;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    int64_t filesize = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="stringliteral">&quot;longs_per_entry:%d index_type:%d entries_in_use:%d &quot;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="stringliteral">&quot;chunk_id:%X base:%16&quot;</span>PRIX64<span class="stringliteral">&quot; frame_num:%d\n&quot;</span>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            longs_per_entry,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            index_type,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            entries_in_use,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            chunk_id,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a>,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            frame_num);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (stream_id &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams || stream_id &lt; 0)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    st  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_id];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (index_sub_type)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (index_type &amp;&amp; longs_per_entry != 2)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (index_type &gt; 1)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (filesize &gt; 0 &amp;&amp; <a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a> &gt;= filesize) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;ODML index invalid\n&quot;</span>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a> &gt;&gt; 32 == (<a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a> &amp; 0xFFFFFFFF) &amp;&amp;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            (<a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a> &amp; 0xFFFFFFFF) &lt; filesize    &amp;&amp;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            filesize &lt;= 0xFFFFFFFF)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a> &amp;= 0xFFFFFFFF;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; entries_in_use; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> (index_type) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb) + <a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a> - 8;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>     = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>     = <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt;= 0;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &amp;= 0x7FFFFFFF;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;pos:%&quot;</span>PRId64<span class="stringliteral">&quot;, len:%X\n&quot;</span>, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(pb))</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">if</span> (last_pos == <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> || <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> == <a class="code" href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a> - 8)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> = 1;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">if</span> (last_pos != <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &amp;&amp; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <a class="code" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a>(st, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, 0,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                   <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a> ? <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a> : 0);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a> += <a class="code" href="avidec_8c.html#a5c7e7696097a698780c229d4a5275883">get_duration</a>(ast, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            last_pos      = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            int64_t <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = <a class="code" href="avio_8h.html#af60c7d8fdabc3667ead1fffd2fac7ad5">avio_rl64</a>(pb);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);       <span class="comment">/* size */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(pb))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a727e1cc674164d447f6b30c8634e2670">odml_depth</a> &gt; <a class="code" href="avidec_8c.html#a42e78397613027964e1d05d38e6a0c5f">MAX_ODML_DEPTH</a>) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too deeply nested ODML indexes\n&quot;</span>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> + 8, SEEK_SET) &lt; 0)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#a727e1cc674164d447f6b30c8634e2670">odml_depth</a>++;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="avidec_8c.html#acc9e549277c5d2b859fe9676ef5f5414">read_odml_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, frame_num);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#a727e1cc674164d447f6b30c8634e2670">odml_depth</a>--;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            frame_num += <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET) &lt; 0) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to restore position after reading index\n&quot;</span>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a> = 2;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="avidec_8c.html#adda4ec3196be3bee031c6173f5484eba">  276</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="avidec_8c.html#adda4ec3196be3bee031c6173f5484eba">clean_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    int64_t j;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordtype">int</span> n          = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>        = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, ts;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">if</span> (n != 1 || ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> == 0)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> &lt; 1024)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> += <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>  = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">size</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        ts   = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; j += <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a>(st, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> + j, ts + j, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - j), 0,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                               <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="avidec_8c.html#a0b8159f405ff1eb62c5f581ddf4cfc23">  304</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a0b8159f405ff1eb62c5f581ddf4cfc23">avi_read_tag</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, uint32_t <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        uint32_t <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>[5]     = { 0 };</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> == UINT_MAX)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + 1);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(pb, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) != <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>[<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>] = 0;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(st ? &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a> : &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                       <a class="code" href="group__lavu__dict.html#ga7a9a991cb7837b10ffd44725263de425">AV_DICT_DONT_STRDUP_VAL</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="avidec_8c.html#afa688718988e143ebc1f228ea1508989">  330</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="avidec_8c.html#afa688718988e143ebc1f228ea1508989">months</a>[12][4] = { <span class="stringliteral">&quot;Jan&quot;</span>, <span class="stringliteral">&quot;Feb&quot;</span>, <span class="stringliteral">&quot;Mar&quot;</span>, <span class="stringliteral">&quot;Apr&quot;</span>, <span class="stringliteral">&quot;May&quot;</span>, <span class="stringliteral">&quot;Jun&quot;</span>,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                    <span class="stringliteral">&quot;Jul&quot;</span>, <span class="stringliteral">&quot;Aug&quot;</span>, <span class="stringliteral">&quot;Sep&quot;</span>, <span class="stringliteral">&quot;Oct&quot;</span>, <span class="stringliteral">&quot;Nov&quot;</span>, <span class="stringliteral">&quot;Dec&quot;</span> };</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="avidec_8c.html#a50a5d9a86e1e0da9af26f86b2257577e">  333</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="avidec_8c.html#a50a5d9a86e1e0da9af26f86b2257577e">avi_metadata_creation_time</a>(<a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **metadata, <span class="keywordtype">char</span> *date)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">char</span> month[4], time[9], <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>[64];</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, day, year;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">/* parse standard AVI date format (ie. &quot;Mon Mar 10 15:04:43 2003&quot;) */</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (sscanf(date, <span class="stringliteral">&quot;%*3s%*[ ]%3s%*[ ]%2d%*[ ]%8s%*[ ]%4d&quot;</span>,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;               month, &amp;day, time, &amp;year) == 4) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 12; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(month, <a class="code" href="avidec_8c.html#afa688718988e143ebc1f228ea1508989">months</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>), <span class="stringliteral">&quot;%.4d-%.2d-%.2d %s&quot;</span>,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                         year, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1, day, time);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(metadata, <span class="stringliteral">&quot;creation_time&quot;</span>, <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>, 0);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (date[4] == <span class="charliteral">&#39;/&#39;</span> &amp;&amp; date[7] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        date[4] = date[7] = <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(metadata, <span class="stringliteral">&quot;creation_time&quot;</span>, date, 0);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="avidec_8c.html#a818db6dfd0d1c4850226121d92c0f0f0">  352</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="avidec_8c.html#a818db6dfd0d1c4850226121d92c0f0f0">avi_read_nikon</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, uint64_t <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb) &lt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> &amp;&amp; !<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb)) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        uint32_t <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        uint32_t <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;g&#39;</span>):  <span class="comment">/* Nikon Tags */</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            uint64_t tag_end = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb) + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb) &lt; tag_end &amp;&amp; !<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb)) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                uint16_t <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>     = <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                uint16_t <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>    = <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordtype">char</span> <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>[64]  = { 0 };</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, tag_end - <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>,</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                  <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>) - 1));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">case</span> 0x03:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a> = <span class="stringliteral">&quot;maker&quot;</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="keywordflow">case</span> 0x04:</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a> = <span class="stringliteral">&quot;model&quot;</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">case</span> 0x13:</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a> = <span class="stringliteral">&quot;creation_time&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>[4] == <span class="charliteral">&#39;:&#39;</span> &amp;&amp; <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>[7] == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>[4] = <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>[7] = <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>, 0);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="avidec_8c.html#a3226269dcc6ba728bb30a7a0bb9148e6">  395</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a3226269dcc6ba728bb30a7a0bb9148e6">avi_extract_stream_metadata</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a> gb;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordtype">int</span> data_size = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> || data_size &lt; 8) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;gb, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, data_size);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = bytestream2_get_le32(&amp;gb);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;F&#39;</span>):</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="comment">// skip 4 byte padding</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, 4);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = <a class="code" href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a>(&amp;gb);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="comment">// decode EXIF tags from IFD, AVI is always little-endian</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="exif_8c.html#ac27ef44b8fb72edd0c8078043adde44c">avpriv_exif_decode_ifd</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, data_size - <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                      1, 0, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;I&#39;</span>):</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;RIFF stream data tag type CASI (%u)&quot;</span>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;Z&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;a&#39;</span>):</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;RIFF stream data tag type Zora (%u)&quot;</span>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="avidec_8c.html#a84b8304945a5402a86758f194fcd80ee">  433</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a84b8304945a5402a86758f194fcd80ee">calculate_bitrate</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;{</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    int64_t lensum = 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    int64_t maxpos = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        int64_t <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 0;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>; j++)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> += st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[j].<a class="code" href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">size</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        maxpos = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(maxpos, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[j-1].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        lensum += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> (maxpos &lt; <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(avi-&gt;<a class="code" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">io_fsize</a>, 9, 10)) <span class="comment">// index does not cover the whole file</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (lensum*9/10 &gt; maxpos || lensum &lt; maxpos*9/10) <span class="comment">// frame sum and filesize mismatch</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        int64_t <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 0;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        int64_t <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        int64_t <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>; j++)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> += st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[j].<a class="code" href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">size</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> &lt; 2 || st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> &gt; 0)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[j-1].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> - st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(8*<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> * st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> &gt; 0) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> = <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">  477</a></span>&#160;<span class="preprocessor">#define RETURN_ERROR(code) do { ret = (code); goto fail; } while (0)</span></div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="avidec_8c.html#acdcca57ab2481201a783edc3b7f4333a">  478</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#acdcca57ab2481201a783edc3b7f4333a">avi_read_header</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, tag1, <a class="code" href="libzvbi-teletextdec_8c.html#af2cdb546e12c62dec4813da99e849769">handler</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a>, stream_index, frame_period;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast      = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordtype">int</span> avih_width      = 0, avih_height = 0;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordtype">int</span> amv_file_format = 0;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    uint64_t list_end   = 0;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *dict_entry;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = -1;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avidec_8c.html#a47aaaadf0f099cb340287e1fcd68e338">get_riff</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avi, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;use odml:%d\n&quot;</span>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#aaacf0ffbc28fd97871836929324c7359">use_odml</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">io_fsize</a> = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a> = <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(pb);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a> &lt;= 0 || avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a> &lt; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a>)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a> = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a> == 8 ? INT64_MAX : avi-&gt;<a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">/* first list tag */</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    stream_index = -1;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a>   = -1;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    frame_period = 0;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(pb))</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <a class="code" href="avidec_8c.html#ab7aa6b2d759be2e05c0b1b0c0708f2c7">print_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;tag&quot;</span>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;L&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;T&#39;</span>):</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            list_end = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="comment">/* Ignored, except at start of video packets. */</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            tag1 = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="avidec_8c.html#ab7aa6b2d759be2e05c0b1b0c0708f2c7">print_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;list&quot;</span>, tag1, 0);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">if</span> (tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;i&#39;</span>)) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - 4;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">movi_end</a> = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a> + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">movi_end</a> = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;movi end=%&quot;</span>PRIx64<span class="stringliteral">&quot;\n&quot;</span>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">movi_end</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="keywordflow">goto</span> end_of_header;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;O&#39;</span>))</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <a class="code" href="riff_8h.html#ab0f171baa607bc9c71ace000b8fb22de">ff_read_riff_info</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 4);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;t&#39;</span>))</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <a class="code" href="avidec_8c.html#a818db6dfd0d1c4850226121d92c0f0f0">avi_read_nikon</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, list_end);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;T&#39;</span>):</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> date[64] = { 0 };</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(pb, date, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keyword">sizeof</span>(date) - 1));</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="avidec_8c.html#a50a5d9a86e1e0da9af26f86b2257577e">avi_metadata_creation_time</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, date);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;h&#39;</span>):</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#ac68e810db7b0851c9719e8acf0631f0a">is_odml</a> = 1;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1));</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;h&#39;</span>):</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            amv_file_format = 1;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;h&#39;</span>):</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="comment">/* AVI header */</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="comment">/* using frame_period is bad idea */</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            frame_period = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* max. bytes per second */</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> |= <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb) &amp; <a class="code" href="avi_8h.html#a110665712aafb8b3498212a8e7c9ed1b">AVIF_MUSTUSEINDEX</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 2 * 4);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            avih_width  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            avih_height = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 10 * 4);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;h&#39;</span>):</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="comment">/* stream header */</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            tag1    = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <a class="code" href="libzvbi-teletextdec_8c.html#af2cdb546e12c62dec4813da99e849769">handler</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* codec tag */</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">if</span> (tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;s&#39;</span>)) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 8);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                stream_index++;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                st = <a class="code" href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="keywordflow">if</span> (!st)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM));</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a6873ed62f196c24e8bf282609231786f">id</a> = stream_index;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                ast    = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_i_stream.html">AVIStream</a>));</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">if</span> (!ast)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM));</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a> = ast;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span> (amv_file_format)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                tag1 = stream_index ? <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                    : <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;s&#39;</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <a class="code" href="avidec_8c.html#ab7aa6b2d759be2e05c0b1b0c0708f2c7">print_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;strh&quot;</span>, tag1, -1);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">if</span> (tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;s&#39;</span>) ||</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;s&#39;</span>)) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                int64_t dv_dur;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="comment">/* After some consideration -- I don&#39;t think we</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">                 * have to support anything but DV in type1 AVIs. */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams != 1)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="libzvbi-teletextdec_8c.html#af2cdb546e12c62dec4813da99e849769">handler</a> != <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;d&#39;</span>) &amp;&amp;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <a class="code" href="libzvbi-teletextdec_8c.html#af2cdb546e12c62dec4813da99e849769">handler</a> != <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;h&#39;</span>, <span class="charliteral">&#39;d&#39;</span>) &amp;&amp;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    <a class="code" href="libzvbi-teletextdec_8c.html#af2cdb546e12c62dec4813da99e849769">handler</a> != <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;l&#39;</span>))</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <span class="keywordflow">if</span> (!CONFIG_DV_DEMUXER)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaf7cbadf2ff7121084d2cde763f4e06b9">AVERROR_DEMUXER_NOT_FOUND</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                ast = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;priv_data;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <a class="code" href="libavformat_2internal_8h.html#a38450579d822807a26996ebc2f32d82c">ff_free_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a> = <a class="code" href="libavformat_2dv_8c.html#a2996068e734179ace8b9d6b9e0cdb608">avpriv_dv_init_demux</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">if</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(ast);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;priv_data = ast;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 3 * 4);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 4);  <span class="comment">/* start time */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                dv_dur = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a> &gt; 0 &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a> &gt; 0 &amp;&amp; dv_dur &gt; 0) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                    dv_dur     *= <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(dv_dur, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                <span class="comment">/* else, leave duration alone; timing estimation in utils.c</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">                 * will make a guess based on bitrate. */</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                stream_index = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams - 1;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 9 * 4);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(stream_index &lt; s-&gt;<a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a2904d04d7ee6d04ea97b219d1e7b43b3">handler</a> = <a class="code" href="libzvbi-teletextdec_8c.html#af2cdb546e12c62dec4813da99e849769">handler</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* flags */</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(pb); <span class="comment">/* priority */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(pb); <span class="comment">/* language */</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* initial frame */</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordflow">if</span> (!(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a> &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>)) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                       <span class="stringliteral">&quot;scale/rate is %&quot;</span>PRIu32<span class="stringliteral">&quot;/%&quot;</span>PRIu32<span class="stringliteral">&quot; which is invalid. &quot;</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                       <span class="stringliteral">&quot;(This file has been generated by broken software.)\n&quot;</span>,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                       ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a>,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                       ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">if</span> (frame_period) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>  = 1000000;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a> = frame_period;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>  = 25;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a> = 1;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 64, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a>  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* start */</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a4382c3064df1c9eb232ac198dec067f9">nb_frames</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = 0;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* buffer size */</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">/* quality */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a> &gt; 3600LL * ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a> / ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a>) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;crazy start time, iam scared, giving up\n&quot;</span>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a> = 0;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a>    *= <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(1, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;%&quot;</span>PRIu32<span class="stringliteral">&quot; %&quot;</span>PRIu32<span class="stringliteral">&quot; %d\n&quot;</span>,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">rate</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">scale</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">switch</span> (tag1) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;s&#39;</span>):</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> = 0;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a> = <a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;s&#39;</span>):</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;x&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;s&#39;</span>):</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;s&#39;</span>):</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;unknown stream type %X\n&quot;</span>, tag1);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> &lt; 0) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;error_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                           <span class="stringliteral">&quot;Invalid sample_size %d at stream %d\n&quot;</span>,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                           ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>,</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                           stream_index);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                    <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                       <span class="stringliteral">&quot;Invalid sample_size %d at stream %d &quot;</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                       <span class="stringliteral">&quot;setting it to 0\n&quot;</span>,</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                       ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                       stream_index);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> = 0;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> == 0) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a4382c3064df1c9eb232ac198dec067f9">nb_frames</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> &gt; 0 &amp;&amp; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">io_fsize</a> &gt; 0 &amp;&amp; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a> &gt; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">io_fsize</a>) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;File is truncated adjusting duration\n&quot;</span>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">io_fsize</a>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">riff_end</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a> = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 12 * 4);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;f&#39;</span>):</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="comment">/* stream header */</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp;&amp; (<a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> ||</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                          <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>))</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">if</span> (stream_index &gt;= (<span class="keywordtype">unsigned</span>)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams || avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                uint64_t cur_pos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordtype">unsigned</span> esize;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <span class="keywordflow">if</span> (cur_pos &lt; list_end)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, list_end - cur_pos);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a>) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a>) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                    <span class="keywordflow">if</span> (amv_file_format) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>      = avih_width;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>     = avih_height;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>   = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceafa26899e6acd71441007e6c35461cfc3">AV_CODEC_ID_AMV</a>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                        <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    tag1 = <a class="code" href="riff_8h.html#a2a2f112b3a1de6ddbe0a80eebac98cc7">ff_get_bmp_header</a>(pb, st, &amp;esize);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    <span class="keywordflow">if</span> (tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;X&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;B&#39;</span>) ||</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                        tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;X&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;A&#39;</span>)) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>  = tag1;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>   = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 10 * 4 &amp;&amp; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; (1 &lt;&lt; 30) &amp;&amp; size &lt; avi-&gt;<a class="code" href="audiomatch_8c.html#a170c952cd6a6c83d6118ec6683b9052b">fsize</a>) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                        <span class="keywordflow">if</span> (esize == <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>-1 &amp;&amp; (esize&amp;1)) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> = esize - 10 * 4;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> =  <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 10 * 4;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;New extradata in strf chunk, freeing previous one.\n&quot;</span>);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#ae829eaf74d06f3a6cb1b9ad07560fb92">ff_get_extradata</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, pb,</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                               st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    <span class="comment">// FIXME: check if the encoder really did this correctly</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &amp; 1)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(pb);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <span class="comment">/* Extract palette from extradata if bpp &lt;= 8.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">                     * This code assumes that extradata contains only palette.</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">                     * This is true for all paletted codecs implemented in</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">                     * FFmpeg. */</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &amp;&amp;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                        (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> &lt;= 8)) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                        <span class="keywordtype">int</span> pal_size = (1 &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a>) &lt;&lt; 2;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pal_src;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                        pal_size = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(pal_size, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        pal_src  = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> +</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                                   st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> - pal_size;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                        <span class="comment">/* Exclude the &quot;BottomUp&quot; field from the palette */</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                        <span class="keywordflow">if</span> (pal_src - st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> &gt;= 9 &amp;&amp;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                            !memcmp(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> + st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> - 9, <span class="stringliteral">&quot;BottomUp&quot;</span>, 9))</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                            pal_src -= 9;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; pal_size / 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a95dbf1e3195444d1c08cddaa1ee615fa">pal</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0xFFU&lt;&lt;24 | <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(pal_src + 4 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a155b4d5a5857f0debe85c3b75469e171">has_pal</a> = 1;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                    }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                    <a class="code" href="avidec_8c.html#ab7aa6b2d759be2e05c0b1b0c0708f2c7">print_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;video&quot;</span>, tag1, 0);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>  = tag1;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>   = <a class="code" href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(<a class="code" href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a>,</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                                                            tag1);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    <span class="comment">/* If codec is not found yet, try with the mov tags. */</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> =</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                            <a class="code" href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(<a class="code" href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a>, tag1);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                           <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                                  <span class="stringliteral">&quot;mov tag found in avi (fourcc %s)\n&quot;</span>,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                                  <a class="code" href="group__lavu__misc.html#gae07d7cbf511060210152a89ad0d137ad">av_fourcc2str</a>(tag1));</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>)</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(<a class="code" href="riff_8c.html#a9803e5d6893b25863c810f92505dd3cc">ff_codec_bmp_tags_unofficial</a>, tag1);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    <span class="comment">/* This is needed to get the pict type which is necessary</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">                     * for generating correct pts. */</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a67bc09fcdeb0e05754f344fbc80856ca">AVSTREAM_PARSE_HEADERS</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a> &amp;&amp;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a2904d04d7ee6d04ea97b219d1e7b43b3">handler</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;X&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;D&#39;</span>))</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> = <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;X&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;D&#39;</span>);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;H&#39;</span>))</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac21d15a27dac74ca0730b4dace71d883">AVSTREAM_PARSE_FULL</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea9ff341616ebac6400d57194606de5593">AV_CODEC_ID_RV40</a>)</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e">AVSTREAM_PARSE_NONE</a>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a> &amp;&amp;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;6&#39;</span>, <span class="charliteral">&#39;5&#39;</span>))</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac21d15a27dac74ca0730b4dace71d883">AVSTREAM_PARSE_FULL</a>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> == 0 &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &lt; 1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; 30) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> += 9;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                                               st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> +</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                                               <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>)) &lt; 0) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> = 0;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                            memcpy(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> + st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> - 9,</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                                   <span class="stringliteral">&quot;BottomUp&quot;</span>, 9);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                    }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> = <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">//                    avio_skip(pb, size - 5 * 4);</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="riff_8h.html#a5e5faefb9c3eaa1df38a6c4f89f63df3">ff_get_wav_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                    <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a> &amp;&amp;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> != st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a>) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>,</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                               <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                               <span class="stringliteral">&quot;sample size (%d) != block align (%d)\n&quot;</span>,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                               ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>,</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                               st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                    <span class="comment">/* 2-aligned</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">                     * (fix for Stargate SG-1 - 3x18 - Shades of Grey.avi) */</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                        <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 1);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    <span class="comment">/* Force parsing as several audio frames can be in</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">                     * one packet and timestamps refer to packet start. */</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a10f8e7a9d88b7b5e2010ffb496b6cf1a">AVSTREAM_PARSE_TIMESTAMPS</a>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                    <span class="comment">/* ADTS header is in extradata, AAC without header must be</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">                     * stored as exact frames. Parser not needed and it will</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">                     * fail. */</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a> &amp;&amp;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>)</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e">AVSTREAM_PARSE_NONE</a>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    <span class="comment">// The flac parser does not work with AVSTREAM_PARSE_TIMESTAMPS</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a>)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e">AVSTREAM_PARSE_NONE</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <span class="comment">/* AVI files with Xan DPCM audio (wrongly) declare PCM</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">                     * audio in the header but have Axan as stream_code_tag. */</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                    <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a2904d04d7ee6d04ea97b219d1e7b43b3">handler</a> == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;Axan&quot;</span>)) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>  = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab2fea28c2a9de52f61125417506a16e3">AV_CODEC_ID_XAN_DPCM</a>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> = 0;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> = 0;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    <span class="keywordflow">if</span> (amv_file_format) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> = 0;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                    <span class="keywordflow">if</span> ((st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a>  ||</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                         st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a> ||</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                         st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487">AV_CODEC_ID_MP2</a> ) &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> &lt;= 4 &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a>) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;overriding invalid dshow_block_align of %d\n&quot;</span>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a>);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> = 0;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a> &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> == 1024 &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> == 1024 ||</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a> &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> == 4096 &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> == 4096 ||</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a> &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">dshow_block_align</a> == 1152 &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> == 1152) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;overriding sample_size\n&quot;</span>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> = 0;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a>= 1;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>   = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>  = 0;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;d&#39;</span>):</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordflow">if</span> (stream_index &gt;= (<span class="keywordtype">unsigned</span>)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;codecpar-&gt;extradata_size</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;codecpar-&gt;codec_tag == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;H&#39;</span>,<span class="charliteral">&#39;2&#39;</span>,<span class="charliteral">&#39;6&#39;</span>,<span class="charliteral">&#39;4&#39;</span>)) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                uint64_t cur_pos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="keywordflow">if</span> (cur_pos &lt; list_end)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, list_end - cur_pos);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>&lt;(1&lt;&lt;30)) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;New extradata in strd chunk, freeing previous one.\n&quot;</span>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#ae829eaf74d06f3a6cb1b9ad07560fb92">ff_get_extradata</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)) &lt; 0)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &amp; 1) <span class="comment">//FIXME check if the encoder really did this correctly</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                    <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(pb);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avidec_8c.html#a3226269dcc6ba728bb30a7a0bb9148e6">avi_extract_stream_metadata</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;could not decoding EXIF data in stream header.\n&quot;</span>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;x&#39;</span>):</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">if</span> ((pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a2d5c3fab0686ccb9f517dec49048d421">AVFMT_FLAG_IGNIDX</a>) &amp;&amp;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#aaacf0ffbc28fd97871836929324c7359">use_odml</a> &amp;&amp;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                <a class="code" href="avidec_8c.html#acc9e549277c5d2b859fe9676ef5f5414">read_odml_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0) &lt; 0 &amp;&amp;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;error_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>))</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, SEEK_SET);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;p&#39;</span>):</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="keywordflow">if</span> (stream_index &lt; (<span class="keywordtype">unsigned</span>)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &amp;&amp; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 9 * 4) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <a class="code" href="struct_a_v_rational.html">AVRational</a> active, active_aspect;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                active_aspect.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> = <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(pb);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                active_aspect.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> = <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(pb);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                active.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>        = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                active.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>        = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb); <span class="comment">// nbFieldsPerFrame</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                <span class="keywordflow">if</span> (active_aspect.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; active_aspect.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &amp;&amp;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                    active.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; active.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a> = <a class="code" href="group__lavu__math__rational.html#gaffa24e7bd38e12dbac540d8b66461f97">av_div_q</a>(active_aspect, active);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;vprp %d/%d %d/%d\n&quot;</span>,</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                            active_aspect.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, active_aspect.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                            active.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, active.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= 9 * 4;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;n&#39;</span>):</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;j&#39;</span>):</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;m&#39;</span>):</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;p&#39;</span>):</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;g&#39;</span>, <span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39;r&#39;</span>):</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;d&#39;</span>):</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;f&#39;</span>):</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avidec_8c.html#a0b8159f405ff1eb62c5f581ddf4cfc23">avi_read_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams - 1], <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 1000000) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                       <span class="stringliteral">&quot;Something went wrong during header parsing, &quot;</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                       <span class="stringliteral">&quot;tag %s has size %u, &quot;</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                       <span class="stringliteral">&quot;I will ignore it and try to continue anyway.\n&quot;</span>,</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                       <a class="code" href="group__lavu__misc.html#gae07d7cbf511060210152a89ad0d137ad">av_fourcc2str</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>), <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;error_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - 4;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">movi_end</a>  = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                <span class="keywordflow">goto</span> end_of_header;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="comment">/* Do not fail for very large idx1 tags */</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;x&#39;</span>, <span class="charliteral">&#39;1&#39;</span>):</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <span class="comment">/* skip tag */</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;end_of_header:</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">/* check stream number */</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span> (stream_index != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams - 1) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a>(<a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">if</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a> &amp;&amp; (pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>))</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <a class="code" href="avidec_8c.html#a34ddc4ca90a2a53c30a3dd28ab80b183">avi_load_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="avidec_8c.html#a84b8304945a5402a86758f194fcd80ee">calculate_bitrate</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a>    |= 1;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avidec_8c.html#ae1d858c5b73c7020d14502ea0a21f60c">guess_ni_flag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> |= <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> | (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a19d3097af30fbd65caa79464657ce4bd">AVFMT_FLAG_SORT_DTS</a>);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    dict_entry = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;ISFT&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (dict_entry &amp;&amp; !strcmp(dict_entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <span class="stringliteral">&quot;PotEncoder&quot;</span>))</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="keywordflow">if</span> (   st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf019b13f4891b36ae579cd7bc96d1f78">AV_CODEC_ID_MPEG1VIDEO</a></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                || st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf614abb36f7c5d0c42ed522c1d6c99f0">AV_CODEC_ID_MPEG2VIDEO</a>)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac21d15a27dac74ca0730b4dace71d883">AVSTREAM_PARSE_FULL</a>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// DV-in-AVI cannot be non-interleaved, if set this must be</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// a mis-detection.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> = 0;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &amp;&amp; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a>) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;               <span class="stringliteral">&quot;Non-interleaved AVI without index, switching to interleaved\n&quot;</span>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> = 0;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a>) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;non-interleaved AVI\n&quot;</span>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <a class="code" href="avidec_8c.html#adda4ec3196be3bee031c6173f5484eba">clean_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="libavformat_2metadata_8c.html#ad18704a0525f999bb3b57f75e97c86bf">ff_metadata_conv_ctx</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="avidec_8c.html#a7689a242b561d3a67baec480a946dab3">avi_metadata_conv</a>);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <a class="code" href="libavformat_2metadata_8c.html#ad18704a0525f999bb3b57f75e97c86bf">ff_metadata_conv_ctx</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="riff_8c.html#ae8b6899204f89e9c1bee5a89a1e4f520">ff_riff_info_conv</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="avidec_8c.html#acd43809625bac3c3c4c201d9162288ff">avi_read_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;}</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="avidec_8c.html#ae50c492c9a83b397ac3d20368a7ef9cd"> 1081</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#ae50c492c9a83b397ac3d20368a7ef9cd">read_gab2_sub</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;{</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &gt;= 7 &amp;&amp;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &lt; INT_MAX - <a class="code" href="avformat_8h.html#a2cba242c83a06fff914d1c8ef4cd42ac">AVPROBE_PADDING_SIZE</a> &amp;&amp;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        !strcmp(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, <span class="stringliteral">&quot;GAB2&quot;</span>) &amp;&amp; <a class="code" href="avr32_2intreadwrite_8h.html#a1a7214fcedcf4bd3e668506d30d7892f">AV_RL16</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + 5) == 2) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>[256];</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordtype">int</span> score      = <a class="code" href="avformat_8h.html#a8fef570c1a6f9c445acaf97fa2da3b7e">AVPROBE_SCORE_EXTENSION</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <a class="code" href="avformat_8h.html#aa5496b84535113646e96c8cf3b624aaf">ff_const59</a> <a class="code" href="struct_a_v_input_format.html">AVInputFormat</a> *sub_demuxer;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="struct_a_v_rational.html">AVRational</a> time_base;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <a class="code" href="struct_a_v_probe_data.html">AVProbeData</a> pd;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> desc_len;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="avio_8h.html#a853f5149136a27ffba3207d8520172a5">avio_alloc_context</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + 7,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                             <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> - 7,</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                             0, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (!pb)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        desc_len = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">if</span> (desc_len &gt; pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0683d1a134b647c54f6d087d152c9a64">buf_end</a> - pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a3500915a7434270c42dffc80fafffa2d">buf_ptr</a>)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#a39507bbc53328eae98ac7d683078fcf1">avio_get_str16le</a>(pb, desc_len, <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>, <span class="keyword">sizeof</span>(<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>));</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, desc_len - <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>, 0);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(pb);   <span class="comment">/* flags? */</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);   <span class="comment">/* data size */</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0683d1a134b647c54f6d087d152c9a64">buf_end</a> - pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a3500915a7434270c42dffc80fafffa2d">buf_ptr</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        pd = (<a class="code" href="avformat_8h.html#a52b5c22528bfd3597c076a97cf98383c">AVProbeData</a>) { .<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>      = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + <a class="code" href="avformat_8h.html#a2cba242c83a06fff914d1c8ef4cd42ac">AVPROBE_PADDING_SIZE</a>),</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                             .buf_size = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> };</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">if</span> (!pd.<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        memcpy(pd.<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>, pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a3500915a7434270c42dffc80fafffa2d">buf_ptr</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        sub_demuxer = <a class="code" href="group__lavf__decoding.html#gac06e7fbf645af01eac6ad4d82a78a438">av_probe_input_format2</a>(&amp;pd, 1, &amp;score);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;pd.<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">if</span> (!sub_demuxer)</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">if</span> (strcmp(sub_demuxer-&gt;name, <span class="stringliteral">&quot;srt&quot;</span>) &amp;&amp; strcmp(sub_demuxer-&gt;name, <span class="stringliteral">&quot;ass&quot;</span>))</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">if</span> (!(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a> = <a class="code" href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a>()))</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> = pb;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libavformat_2internal_8h.html#a403782362fe183fead43924732f81cb4">ff_copy_whiteblacklists</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>) &lt; 0)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201">avformat_open_input</a>(&amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>, <span class="stringliteral">&quot;&quot;</span>, sub_demuxer, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a> != 1)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>, &amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <a class="code" href="codec__par_8h.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[0]-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            time_base = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[0]-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 64, time_base.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, time_base.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#acc03aa517a04cbb7a85d052017fb23f1">sub_buffer</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>:</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <a class="code" href="avio_8h.html#ad1baf8cd6711f05a45d0339cafe2d21d">avio_context_free</a>(&amp;pb);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"><a class="line" href="avidec_8c.html#a0bba4c1e1ec82e82328078a1de02f9a2"> 1155</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="avidec_8c.html#a0bba4c1e1ec82e82328078a1de02f9a2">get_subtitle_pkt</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *next_st,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                  <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;{</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast, *next_ast = next_st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    int64_t ts, next_ts, ts_min = INT64_MAX;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, *sub_st = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    next_ts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(next_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>, next_st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                           <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        st  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> &lt; <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a> &amp;&amp; ast &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            ts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <span class="keywordflow">if</span> (ts &lt;= next_ts &amp;&amp; ts &lt; ts_min) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                ts_min = ts;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                sub_st = st;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">if</span> (sub_st) {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        ast               = sub_st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>              = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> = sub_st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libavformat_2internal_8h.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>, &amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>) &lt; 0)</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">return</span> sub_st;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74"> 1189</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74">get_stream_idx</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> *d)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;{</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span> (d[0] &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; d[0] &lt;= <span class="charliteral">&#39;9&#39;</span> &amp;&amp;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        d[1] &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; d[1] &lt;= <span class="charliteral">&#39;9&#39;</span>) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">return</span> (d[0] - <span class="charliteral">&#39;0&#39;</span>) * 10 + (d[1] - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">return</span> 100; <span class="comment">// invalid stream ID</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;}</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"><a class="line" href="avidec_8c.html#a1768e0e42a9792f35e458626b04a13b9"> 1203</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a1768e0e42a9792f35e458626b04a13b9">avi_sync</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> exit_early)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;{</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> d[8];</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    int64_t <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, sync;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;start_sync:</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    memset(d, -1, <span class="keyword">sizeof</span>(d));</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = sync = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb); !<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(pb); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 7; j++)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            d[j] = d[j + 1];</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        d[7] = <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(pb);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = d[4] + (d[5] &lt;&lt; 8) + (d[6] &lt;&lt; 16) + (d[7] &lt;&lt; 24);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        n = <a class="code" href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74">get_stream_idx</a>(d + 2);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <a class="code" href="libavcodec_2internal_8h.html#ab0611a4c87b1248b4a560776c0a5d86a">ff_tlog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;%X %X %X %X %X %X %X %X %&quot;</span>PRId64<span class="stringliteral">&quot; %u %d\n&quot;</span>,</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                d[0], d[1], d[2], d[3], d[4], d[5], d[6], d[7], <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, n);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>*(avi-&gt;<a class="code" href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">io_fsize</a>&gt;0) + (uint64_t)<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">fsize</a> || d[0] &gt; 127)</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="comment">// parse ix##</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span> ((d[0] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;x&#39;</span> &amp;&amp; n &lt; s-&gt;<a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>) ||</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <span class="comment">// parse JUNK</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            (d[0] == <span class="charliteral">&#39;J&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;U&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;N&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;K&#39;</span>) ||</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            (d[0] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;x&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;1&#39;</span>) ||</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            (d[0] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;n&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;x&#39;</span>)) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <span class="keywordflow">goto</span> start_sync;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="comment">// parse stray LIST</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordflow">if</span> (d[0] == <span class="charliteral">&#39;L&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;I&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;S&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;T&#39;</span>) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 4);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            <span class="keywordflow">goto</span> start_sync;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        n = <a class="code" href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74">get_stream_idx</a>(d);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">if</span> (!((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - avi-&gt;<a class="code" href="struct_a_v_i_context.html#a026a3ad3486537a69fcac8c250758086">last_pkt_pos</a>) &amp; 1) &amp;&amp;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <a class="code" href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74">get_stream_idx</a>(d + 1) &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="comment">// detect ##ix chunk and skip</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="keywordflow">if</span> (d[2] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;x&#39;</span> &amp;&amp; n &lt; s-&gt;<a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <span class="keywordflow">goto</span> start_sync;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="keywordflow">if</span> (d[2] == <span class="charliteral">&#39;w&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; n &lt; s-&gt;<a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 16 * 3 + 8);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            <span class="keywordflow">goto</span> start_sync;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a> &amp;&amp; n != 0)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="comment">// parse ##dc/##wb</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">if</span> (n &lt; s-&gt;<a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>) {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            st  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n];</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <span class="keywordflow">if</span> (!ast) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Skipping foreign stream %d packet\n&quot;</span>, n);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            }</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &gt;= 2) {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                <a class="code" href="struct_a_v_stream.html">AVStream</a> *st1   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[1];</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast1 = st1-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                <span class="comment">// workaround for broken small-file-bug402.avi</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                <span class="keywordflow">if</span> (   d[2] == <span class="charliteral">&#39;w&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;b&#39;</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                   &amp;&amp; n == 0</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                   &amp;&amp; st -&gt;codecpar-&gt;codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                   &amp;&amp; st1-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                   &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">prefix</a> == <span class="charliteral">&#39;d&#39;</span>*256+<span class="charliteral">&#39;c&#39;</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                   &amp;&amp; (d[2]*256+d[3] == ast1-&gt;<a class="code" href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">prefix</a> || !ast1-&gt;<a class="code" href="struct_a_v_i_stream.html#abe68a8ddbe01d95a2093d999c58767e2">prefix_count</a>)</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                  ) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                    n   = 1;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                    st  = st1;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                    ast = ast1;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                           <span class="stringliteral">&quot;Invalid stream + prefix combination, assuming audio.\n&quot;</span>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                }</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <span class="keywordflow">if</span> (d[2] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt;= 4 * 256 + 4) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                <span class="keywordtype">int</span> k    = <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(pb);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                <span class="keywordtype">int</span> last = (k + <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(pb) - 1) &amp; 0xFF;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(pb); <span class="comment">// flags</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                <span class="comment">// b + (g &lt;&lt; 8) + (r &lt;&lt; 16);</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                <span class="keywordflow">for</span> (; k &lt;= last; k++)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a95dbf1e3195444d1c08cddaa1ee615fa">pal</a>[k] = 0xFFU&lt;&lt;24 | <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb)&gt;&gt;8;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a155b4d5a5857f0debe85c3b75469e171">has_pal</a> = 1;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                <span class="keywordflow">goto</span> start_sync;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((ast-&gt;<a class="code" href="struct_a_v_i_stream.html#abe68a8ddbe01d95a2093d999c58767e2">prefix_count</a> &lt; 5 || sync + 9 &gt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                        d[2] &lt; 128 &amp;&amp; d[3] &lt; 128) ||</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                       d[2] * 256 + d[3] == ast-&gt;<a class="code" href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">prefix</a> <span class="comment">/* ||</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">                       (d[2] == &#39;d&#39; &amp;&amp; d[3] == &#39;c&#39;) ||</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment">                       (d[2] == &#39;w&#39; &amp;&amp; d[3] == &#39;b&#39;) */</span>) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                <span class="keywordflow">if</span> (exit_early)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                <span class="keywordflow">if</span> (d[2] * 256 + d[3] == ast-&gt;<a class="code" href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">prefix</a>)</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#abe68a8ddbe01d95a2093d999c58767e2">prefix_count</a>++;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">prefix</a>       = d[2] * 256 + d[3];</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#abe68a8ddbe01d95a2093d999c58767e2">prefix_count</a> = 0;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                <span class="keywordflow">if</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a> &amp;&amp;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                    ((st-&gt;<a class="code" href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> &gt;= <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b">AVDISCARD_DEFAULT</a> &amp;&amp; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> == 0) <span class="comment">/* ||</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">                        // FIXME: needs a little reordering</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">                        (st-&gt;discard &gt;= AVDISCARD_NONKEY &amp;&amp;</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">                        !(pkt-&gt;flags &amp; AV_PKT_FLAG_KEY)) */</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                    || st-&gt;<a class="code" href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> &gt;= <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>)) {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                    ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a> += <a class="code" href="avidec_8c.html#a5c7e7696097a698780c229d4a5275883">get_duration</a>(ast, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                    <span class="keywordflow">goto</span> start_sync;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = n;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">packet_size</a>  = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + 8;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>    = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                    uint64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - 8;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a> || !st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> ||</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> - 1].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> &lt; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                        <a class="code" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a>(st, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>,</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                                           0, <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">if</span> (pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">error</a>)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <span class="keywordflow">return</span> pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">error</a>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;}</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"><a class="line" href="avidec_8c.html#ac41886f887c32cda01e80d9c11b121f6"> 1356</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#ac41886f887c32cda01e80d9c11b121f6">ni_prepare_read</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;{</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordtype">int</span> best_stream_index = 0;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *best_st     = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *best_ast;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    int64_t best_ts = INT64_MAX;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        int64_t ts     = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        int64_t last_ts;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        last_ts = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> - 1].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">if</span> (!ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a> &amp;&amp; ts &gt; last_ts)</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        ts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(ts, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                          (<a class="code" href="struct_a_v_rational.html">AVRational</a>) { FFMAX(1, ast-&gt;sample_size),</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                                         AV_TIME_BASE });</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;%&quot;</span>PRId64<span class="stringliteral">&quot; %d/%d %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, ts,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="keywordflow">if</span> (ts &lt; best_ts) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            best_ts           = ts;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            best_st           = st;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            best_stream_index = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">if</span> (!best_st)</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160; </div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    best_ast = best_st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    best_ts  = best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">if</span> (best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(best_st,</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                      best_ts,</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                                      <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a> |</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                                      <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(best_st, best_ts, <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a>);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0)</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a> = best_st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = best_st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">packet_size</a> - best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> + 8, SEEK_SET) &lt; 0)</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a> &lt;= best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">packet_size</a>);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = best_stream_index;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="keywordflow">if</span> (!best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>)</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">packet_size</a> =</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            best_ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>   = best_st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">size</a>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"><a class="line" href="avidec_8c.html#ae75e818b99dcc77b978c9d8e7798236c"> 1425</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#ae75e818b99dcc77b978c9d8e7798236c">avi_read_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;{</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span> (CONFIG_DV_DEMUXER &amp;&amp; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="libavformat_2dv_8c.html#a677df650038c9a52d1a405b6b4af302c">avpriv_dv_get_packet</a>(avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt;= 0)</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="libavformat_2flvdec_8c.html#aa1ebf7604dd80ce9093b6a13ac7cd4ab">resync</a>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a>) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        err = <a class="code" href="avidec_8c.html#ac41886f887c32cda01e80d9c11b121f6">ni_prepare_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    }</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<a class="code" href="libavformat_2flvdec_8c.html#aa1ebf7604dd80ce9093b6a13ac7cd4ab">resync</a>:</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> &gt;= 0) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a>];</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, err;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avidec_8c.html#a0bba4c1e1ec82e82328078a1de02f9a2">get_subtitle_pkt</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>))</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="comment">// minorityreport.AVI block_align=1024 sample_size=1 IMA-ADPCM</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> &lt;= 1)</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = INT_MAX;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a> &lt; 32)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <span class="comment">// arbitrary multiplier to avoid tiny packets for raw PCM data</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 1024 * ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>)</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a026a3ad3486537a69fcac8c250758086">last_pkt_pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        err               = <a class="code" href="avformat_8h.html#a9d2e6f22150d98c36dcc2c6c49318019">av_get_packet</a>(pb, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = err;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a155b4d5a5857f0debe85c3b75469e171">has_pal</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &lt; (<span class="keywordtype">unsigned</span>)INT_MAX / 2) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pal;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            pal = <a class="code" href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                                          <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a9b3c18a18a684fcbb1a2cc25cc6869dd">AV_PKT_DATA_PALETTE</a>,</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                                          <a class="code" href="pixfmt_8h.html#ac28ef17f95d98b118f5ae57d75061278">AVPALETTE_SIZE</a>);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            <span class="keywordflow">if</span> (!pal) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                       <span class="stringliteral">&quot;Failed to allocate data for palette\n&quot;</span>);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                memcpy(pal, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a95dbf1e3195444d1c08cddaa1ee615fa">pal</a>, <a class="code" href="pixfmt_8h.html#ac28ef17f95d98b118f5ae57d75061278">AVPALETTE_SIZE</a>);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a155b4d5a5857f0debe85c3b75469e171">has_pal</a> = 0;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <span class="keywordflow">if</span> (CONFIG_DV_DEMUXER &amp;&amp; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <a class="code" href="struct_a_v_buffer_ref.html">AVBufferRef</a> *avbuf = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="libavformat_2dv_8c.html#a04765e40701a2d0973bf670eaa9a5f1d">avpriv_dv_produce_packet</a>(avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                                            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a>    = avbuf;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 0)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a> &amp;&amp;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                   !st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> &amp;&amp; <a class="code" href="avidec_8c.html#ae50c492c9a83b397ac3d20368a7ef9cd">read_gab2_sub</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)) {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>++;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = -1;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>    = 0;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="libavformat_2flvdec_8c.html#aa1ebf7604dd80ce9093b6a13ac7cd4ab">resync</a>;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            <span class="comment">/* XXX: How to handle B-frames in AVI? */</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment">//                pkt-&gt;dts += ast-&gt;start;</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>)</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> /= ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a>;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                <a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> *e;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(st, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>, <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a>);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                e     = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= 0 &amp;&amp; e-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> == ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a>) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> == st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>-1) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>=1;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                        uint32_t <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a>=-1;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a>) {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                            <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = ptr + <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 256);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                            <span class="keywordflow">while</span> (ptr &lt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                                ptr = <a class="code" href="libavcodec_2internal_8h.html#a5776e5aa789ddce236a7d8bb3c5565c3">avpriv_find_start_code</a>(ptr, <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>, &amp;<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a>);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> == 0x1B6 &amp;&amp; ptr &lt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                                    <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a> = !(*ptr &amp; 0xC0);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                                }</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                            }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                        }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>)</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                            e-&gt;<a class="code" href="struct_a_v_index_entry.html#a72366fb5dae7421e41cce6ad8dd2126b">flags</a> &amp;= ~<a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                    }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                    <span class="keywordflow">if</span> (e-&gt;<a class="code" href="struct_a_v_index_entry.html#a72366fb5dae7421e41cce6ad8dd2126b">flags</a> &amp; <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a> += <a class="code" href="avidec_8c.html#a5c7e7696097a698780c229d4a5275883">get_duration</a>(ast, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a> -= err;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">if</span> (!ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = -1;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            ast-&gt;<a class="code" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">packet_size</a>  = 0;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">if</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a> &gt;= 0 &amp;&amp; ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ade913d2ed413a9ddde92c89d4f86f625">seek_pos</a> &gt; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="libavformat_2flvdec_8c.html#aa1ebf7604dd80ce9093b6a13ac7cd4ab">resync</a>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ade913d2ed413a9ddde92c89d4f86f625">seek_pos</a>= 0;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">if</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>&gt;1 &amp;&amp; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a>&gt;1) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            int64_t dts= <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a68fa093614eb49d19fda861552d00934">dts_max</a> &lt; dts) {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a68fa093614eb49d19fda861552d00934">dts_max</a> = dts;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a68fa093614eb49d19fda861552d00934">dts_max</a> - (uint64_t)dts &gt; 2*<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a>= 1;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Switching to NI mode, due to poor interleaving\n&quot;</span>);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        }</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="avidec_8c.html#a1768e0e42a9792f35e458626b04a13b9">avi_sync</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="libavformat_2flvdec_8c.html#aa1ebf7604dd80ce9093b6a13ac7cd4ab">resync</a>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;}</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">/* XXX: We make the implicit supposition that the positions are sorted</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment"> * for each stream. */</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"><a class="line" href="avidec_8c.html#a5299dc7e5135c6c9d04e31b7625d339c"> 1572</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a5299dc7e5135c6c9d04e31b7625d339c">avi_read_idx1</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;{</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordtype">int</span> nb_index_entries, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, first_packet = 1;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    int64_t last_pos = -1;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordtype">unsigned</span> last_idx = -1;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    int64_t idx1_pos, first_packet_pos = 0, data_offset = 0;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordtype">int</span> anykey = 0;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    nb_index_entries = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> / 16;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">if</span> (nb_index_entries &lt;= 0)</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    idx1_pos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a> + 4, SEEK_SET);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avidec_8c.html#a1768e0e42a9792f35e458626b04a13b9">avi_sync</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1) == 0)</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        first_packet_pos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - 8;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = -1;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, idx1_pos, SEEK_SET);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams == 1 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;codecpar-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;MMES&quot;</span>)) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        first_packet_pos = 0;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        data_offset = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="comment">/* Read the entries and sort them in each stream component. */</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nb_index_entries; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(pb))</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>   = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>   = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>   = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;%d: tag=0x%x flags=0x%x pos=0x%&quot;</span>PRIx64<span class="stringliteral">&quot; len=%d/&quot;</span>,</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>  = ((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>      &amp; 0xff) - <span class="charliteral">&#39;0&#39;</span>) * 10;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> +=  (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> &gt;&gt; 8 &amp; 0xff) - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams)</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        st  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        <span class="comment">/* Skip &#39;xxpc&#39; palette change entries in the index until a logic</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment">         * to process these is properly implemented. */</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> &gt;&gt; 16 &amp; 0xff) == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> &gt;&gt; 24 &amp; 0xff) == <span class="charliteral">&#39;c&#39;</span>)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <span class="keywordflow">if</span> (first_packet &amp;&amp; first_packet_pos) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a> + 4 != <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> || <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> + 500 &gt; first_packet_pos)</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                data_offset  = first_packet_pos - <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            first_packet = 0;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += data_offset;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;%d cum_len=%&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a>);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="comment">// even if we have only a single stream, we should</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="comment">// switch to non-interleaved to get correct timestamps</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <span class="keywordflow">if</span> (last_pos == <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> = 1;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="keywordflow">if</span> (last_idx != <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &amp;&amp; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>) {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <a class="code" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a>(st, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, 0,</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                               (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avi_8h.html#ac1555a1f0caf8b5fe999db6ad3a4ed7e">AVIIF_INDEX</a>) ? <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a> : 0);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            last_idx= <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        }</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">cum_len</a> += <a class="code" href="avidec_8c.html#a5c7e7696097a698780c229d4a5275883">get_duration</a>(ast, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        last_pos      = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        anykey       |= <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>&amp;<a class="code" href="avi_8h.html#ac1555a1f0caf8b5fe999db6ad3a4ed7e">AVIIF_INDEX</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    }</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (!anykey) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = 0; <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>++) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>)</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#a72366fb5dae7421e41cce6ad8dd2126b">flags</a> |= <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        }</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;}</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">/* Scan the index and consider any file with streams more than</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment"> * 2 seconds or 64MB apart non-interleaved. */</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"><a class="line" href="avidec_8c.html#a741304c79d0dc4ed00e60f212cb7c3ff"> 1660</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a741304c79d0dc4ed00e60f212cb7c3ff">check_stream_max_drift</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;{</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    int64_t min_pos, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordtype">int</span> *idx = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams, <span class="keyword">sizeof</span>(*idx));</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="keywordflow">if</span> (!idx)</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">for</span> (min_pos = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = 0; min_pos != INT64_MAX; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = min_pos + 1LU) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        int64_t max_dts = INT64_MIN / 2;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        int64_t min_dts = INT64_MAX / 2;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        int64_t max_buffer = 0;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        min_pos = INT64_MAX;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <span class="keywordtype">int</span> n = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            <span class="keywordflow">while</span> (idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; n &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> &lt; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>)</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]++;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            <span class="keywordflow">if</span> (idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; n) {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                int64_t dts;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                dts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> /</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                                   <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>, 1),</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                                   st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                min_dts = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(min_dts, dts);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                min_pos = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(min_pos, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            <span class="keywordflow">if</span> (idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; min_dts != INT64_MAX / 2) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                int64_t dts;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                dts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[idx[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> /</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                                   <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>, 1),</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                                   st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                max_dts = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(max_dts, dts);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                max_buffer = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(max_buffer,</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                                   <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(dts - min_dts,</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                                              st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a>,</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                                              <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>));</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <span class="keywordflow">if</span> (max_dts - min_dts &gt; 2 * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a> ||</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            max_buffer &gt; 1024 * 1024 * 8 * 8) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(idx);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        }</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(idx);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;}</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"><a class="line" href="avidec_8c.html#ae1d858c5b73c7020d14502ea0a21f60c"> 1715</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#ae1d858c5b73c7020d14502ea0a21f60c">guess_ni_flag</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;{</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    int64_t last_start = 0;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    int64_t first_end  = INT64_MAX;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    int64_t oldpos     = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="keywordtype">int</span> n        = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="keywordflow">if</span> (n &lt;= 0)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="keywordflow">if</span> (n &gt;= 2) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[2];</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[0] = <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[1] = <a class="code" href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;            <a class="code" href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74">get_stream_idx</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) == <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp;&amp; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[1].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>)</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                last_start = INT64_MAX;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74">get_stream_idx</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) == <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp;&amp; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> == st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">size</a> + 8)</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                last_start = INT64_MAX;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        }</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> &gt; last_start)</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            last_start = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[n - 1].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> &lt; first_end)</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            first_end = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[n - 1].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    }</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, oldpos, SEEK_SET);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">if</span> (last_start &gt; first_end)</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="avidec_8c.html#a741304c79d0dc4ed00e60f212cb7c3ff">check_stream_max_drift</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;}</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"><a class="line" href="avidec_8c.html#a34ddc4ca90a2a53c30a3dd28ab80b183"> 1757</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a34ddc4ca90a2a53c30a3dd28ab80b183">avi_load_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;{</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    uint32_t <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    int64_t next;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>     = -1;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">movi_end</a>, SEEK_SET) &lt; 0)</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="keywordflow">goto</span> the_end; <span class="comment">// maybe truncated file</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;movi_end=0x%&quot;</span>PRIx64<span class="stringliteral">&quot;\n&quot;</span>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">movi_end</a>);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>  = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(pb))</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        next = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;x&#39;</span>, <span class="charliteral">&#39;1&#39;</span>) &amp;&amp;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            <a class="code" href="avidec_8c.html#a5299dc7e5135c6c9d04e31b7625d339c">avi_read_idx1</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) &gt;= 0) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            avi-&gt;<a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a>=2;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;L&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;T&#39;</span>)) {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            uint32_t tag1 = <a class="code" href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a>(pb);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            <span class="keywordflow">if</span> (tag1 == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;O&#39;</span>))</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                <a class="code" href="riff_8h.html#ab0f171baa607bc9c71ace000b8fb22de">ff_read_riff_info</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - 4);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, next, SEEK_SET) &lt; 0)</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">// something is wrong here</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;the_end:</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;}</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"><a class="line" href="avidec_8c.html#ad14fba3608d05645140dbf9e88aed6bf"> 1797</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="avidec_8c.html#ad14fba3608d05645140dbf9e88aed6bf">seek_subtitle</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st2, int64_t timestamp)</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;{</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast2 = st2-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    int64_t ts2     = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(timestamp, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, st2-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a>(ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>, 0, INT64_MIN, ts2, ts2, 0) &gt;= 0 ||</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <a class="code" href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a>(ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>, 0, ts2, ts2, INT64_MAX, 0) &gt;= 0)</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a>(ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>, &amp;ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;}</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"><a class="line" href="avidec_8c.html#a0ee35b375301731fa3529d8eefa1dbca"> 1807</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#a0ee35b375301731fa3529d8eefa1dbca">avi_read_seek</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                         int64_t timestamp, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;{</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, pos_min;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="comment">/* Does not matter which stream is requested dv in avi has the</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">     * stream information in the first video stream.</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>)</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        stream_index = 0;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="keywordflow">if</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a>) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="comment">/* we only load the index on demand */</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <a class="code" href="avidec_8c.html#a34ddc4ca90a2a53c30a3dd28ab80b183">avi_load_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">index_loaded</a> |= 1;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(stream_index &gt;= 0);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    st    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    ast   = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(st,</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                                      timestamp * <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>, 1),</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                                      <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &lt; 0) {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> &gt; 0)</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Failed to find timestamp %&quot;</span>PRId64 <span class="stringliteral">&quot; in index %&quot;</span>PRId64 <span class="stringliteral">&quot; .. %&quot;</span>PRId64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                   timestamp * <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>, 1),</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                   st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[0].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>,</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                   st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> - 1].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    }</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="comment">/* find the position */</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>       = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    timestamp = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> / <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>, 1);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;XX %&quot;</span>PRId64<span class="stringliteral">&quot; %d %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            timestamp, <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>);</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160; </div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">if</span> (CONFIG_DV_DEMUXER &amp;&amp; avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>) {</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        <span class="comment">/* One and only one real stream for DV in AVI, and it has video  */</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <span class="comment">/* offsets. Calling with other stream indexes should have failed */</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <span class="comment">/* the av_index_search_timestamp call above.                     */</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET) &lt; 0)</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="comment">/* Feed the DV video stream version of the timestamp to the */</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="comment">/* DV demux so it can synthesize correct timestamps.        */</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        <a class="code" href="libavformat_2dv_8c.html#add3ad90b7f8762f2561701022c136094">ff_dv_offset_reset</a>(avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>, timestamp);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = -1;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    }</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    pos_min = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st2   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast2 = st2-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">packet_size</a> =</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">remaining</a>   = 0;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <span class="keywordflow">if</span> (ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <a class="code" href="avidec_8c.html#ad14fba3608d05645140dbf9e88aed6bf">seek_subtitle</a>(st, st2, timestamp);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <span class="keywordflow">if</span> (st2-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> &lt;= 0)</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="comment">//        av_assert1(st2-&gt;codecpar-&gt;block_align);</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(st2,</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                                          <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(timestamp,</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                                                       st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                                                       st2-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) *</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                                          <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>, 1),</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                          <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                                          <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a> |</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                          (st2-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> ? <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a> : 0));</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &lt; 0)</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = 0;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#ade913d2ed413a9ddde92c89d4f86f625">seek_pos</a> = st2-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        pos_min = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(pos_min,ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#ade913d2ed413a9ddde92c89d4f86f625">seek_pos</a>);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    }</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st2 = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast2 = st2-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160; </div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        <span class="keywordflow">if</span> (ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a> || st2-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> &lt;= 0)</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                st2,</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(timestamp, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, st2-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) * <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">sample_size</a>, 1),</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> | <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a> | (st2-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> ? <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a> : 0));</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &lt; 0)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = 0;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">while</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">non_interleaved</a> &amp;&amp; <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>&gt;0 &amp;&amp; st2-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>-1].<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> &gt;= pos_min)</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>--;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        ast2-&gt;<a class="code" href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">frame_offset</a> = st2-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160; </div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="comment">/* do the seek */</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, pos_min, SEEK_SET) &lt; 0) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Seek failed\n&quot;</span>);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    }</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">stream_index</a> = -1;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a68fa093614eb49d19fda861552d00934">dts_max</a>      = INT_MIN;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;}</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"><a class="line" href="avidec_8c.html#acd43809625bac3c3c4c201d9162288ff"> 1924</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#acd43809625bac3c3c4c201d9162288ff">avi_read_close</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;{</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *ast = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        <span class="keywordflow">if</span> (ast) {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            <span class="keywordflow">if</span> (ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>) {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                <a class="code" href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a>(&amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">sub_ctx</a>);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#acc03aa517a04cbb7a85d052017fb23f1">sub_buffer</a>);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;ast-&gt;<a class="code" href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">sub_pkt</a>);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    }</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;avi-&gt;<a class="code" href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">dv_demux</a>);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;}</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="avidec_8c.html#ab11975c14859671378e67d4e51a4a477"> 1947</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avidec_8c.html#ab11975c14859671378e67d4e51a4a477">avi_probe</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_probe_data.html">AVProbeData</a> *p)</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;{</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160; </div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="comment">/* check file header */</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(p-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>    ) == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<a class="code" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    ) &amp;&amp;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(p-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a> + 8) == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<a class="code" href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 4))</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="avformat_8h.html#a24925a4d1138c3f17a7a27dd45c08920">AVPROBE_SCORE_MAX</a>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;}</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160; </div>
<div class="line"><a name="l01960"></a><span class="lineno"><a class="line" href="avidec_8c.html#accd8c2d6c14d280fbc2f4b171d919a76"> 1960</a></span>&#160;<a class="code" href="struct_a_v_input_format.html">AVInputFormat</a> <a class="code" href="avidec_8c.html#accd8c2d6c14d280fbc2f4b171d919a76">ff_avi_demuxer</a> = {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    .<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>           = <span class="stringliteral">&quot;avi&quot;</span>,</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;AVI (Audio Video Interleaved)&quot;</span>),</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="avidec_8c.html#aa6884766a457406d64af48fa6ba00477">AVIContext</a>),</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    .extensions     = <span class="stringliteral">&quot;avi&quot;</span>,</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    .<a class="code" href="libavformat_2jvdec_8c.html#a4517a6dcebdb863ba6840921970a41ac">read_probe</a>     = <a class="code" href="avidec_8c.html#ab11975c14859671378e67d4e51a4a477">avi_probe</a>,</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    .<a class="code" href="ffv1dec_8c.html#a0b9c6775a65106fc8bf33cd388ec715c">read_header</a>    = <a class="code" href="avidec_8c.html#acdcca57ab2481201a783edc3b7f4333a">avi_read_header</a>,</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    .<a class="code" href="avio__reading_8c.html#a3a86bff38e7cb9093d0a32316b73b29c">read_packet</a>    = <a class="code" href="avidec_8c.html#ae75e818b99dcc77b978c9d8e7798236c">avi_read_packet</a>,</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    .<a class="code" href="libcdio_8c.html#a3469cc7152b70da4356d17e698a55850">read_close</a>     = <a class="code" href="avidec_8c.html#acd43809625bac3c3c4c201d9162288ff">avi_read_close</a>,</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    .<a class="code" href="libcdio_8c.html#aaf64d43f28f7aaf168968366472d52d7">read_seek</a>      = <a class="code" href="avidec_8c.html#a0ee35b375301731fa3529d8eefa1dbca">avi_read_seek</a>,</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    .priv_class = &amp;<a class="code" href="avidec_8c.html#a89892c5f4a9bb0571477bd181c7fc616">demuxer_class</a>,</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="atarget__bsf__fuzzer_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="target__bsf__fuzzer_8c_source.html#l00030">target_bsf_fuzzer.c:30</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga63d5a489b419bd5d45cfd09091cbcbc2"><div class="ttname"><a href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a></div><div class="ttdeci">void av_packet_unref(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00606">avpacket.c:606</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html"><div class="ttname"><a href="struct_a_v_input_format.html">AVInputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00638">avformat.h:638</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div><div class="ttdeci">@ AVMEDIA_TYPE_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00204">avutil.h:204</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="acheckasm_8c_html_afca6369e091fee815954cf526fbb3887"><div class="ttname"><a href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a></div><div class="ttdeci">static struct @2 state</div></div>
<div class="ttc" id="awriting__filters_8txt_html_adb27990ed3d4ad300fd1dde281903508"><div class="ttname"><a href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option name</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00088">writing_filters.txt:88</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gadcb0fd3e507d9b58fe78f61f8ad39827"><div class="ttname"><a href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a></div><div class="ttdeci">AVStream * avformat_new_stream(AVFormatContext *s, const AVCodec *c)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04453">utils.c:4453</a></div></div>
<div class="ttc" id="aavidec_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="avidec_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00088">avidec.c:88</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="aavidec_8c_html_ac41886f887c32cda01e80d9c11b121f6"><div class="ttname"><a href="avidec_8c.html#ac41886f887c32cda01e80d9c11b121f6">ni_prepare_read</a></div><div class="ttdeci">static int ni_prepare_read(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01356">avidec.c:1356</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_ae829eaf74d06f3a6cb1b9ad07560fb92"><div class="ttname"><a href="libavformat_2internal_8h.html#ae829eaf74d06f3a6cb1b9ad07560fb92">ff_get_extradata</a></div><div class="ttdeci">int ff_get_extradata(AVFormatContext *s, AVCodecParameters *par, AVIOContext *pb, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03278">utils.c:3278</a></div></div>
<div class="ttc" id="aavidec_8c_html_a5299dc7e5135c6c9d04e31b7625d339c"><div class="ttname"><a href="avidec_8c.html#a5299dc7e5135c6c9d04e31b7625d339c">avi_read_idx1</a></div><div class="ttdeci">static int avi_read_idx1(AVFormatContext *s, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01572">avidec.c:1572</a></div></div>
<div class="ttc" id="aavidec_8c_html_a89892c5f4a9bb0571477bd181c7fc616"><div class="ttname"><a href="avidec_8c.html#a89892c5f4a9bb0571477bd181c7fc616">demuxer_class</a></div><div class="ttdeci">static const AVClass demuxer_class</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00093">avidec.c:93</a></div></div>
<div class="ttc" id="aavformat_8h_html_a2d5c3fab0686ccb9f517dec49048d421"><div class="ttname"><a href="avformat_8h.html#a2d5c3fab0686ccb9f517dec49048d421">AVFMT_FLAG_IGNIDX</a></div><div class="ttdeci">#define AVFMT_FLAG_IGNIDX</div><div class="ttdoc">Ignore index.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01356">avformat.h:1356</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_aaacf0ffbc28fd97871836929324c7359"><div class="ttname"><a href="struct_a_v_i_context.html#aaacf0ffbc28fd97871836929324c7359">AVIContext::use_odml</a></div><div class="ttdeci">int use_odml</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00082">avidec.c:82</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gab4faa0afdf35076914824200331defff"><div class="ttname"><a href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a></div><div class="ttdeci">#define AVERROR_EOF</div><div class="ttdoc">End of file.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00055">error.h:55</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gaffa24e7bd38e12dbac540d8b66461f97"><div class="ttname"><a href="group__lavu__math__rational.html#gaffa24e7bd38e12dbac540d8b66461f97">av_div_q</a></div><div class="ttdeci">AVRational av_div_q(AVRational b, AVRational c)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00088">rational.c:88</a></div></div>
<div class="ttc" id="aavio_8h_html_ad1baf8cd6711f05a45d0339cafe2d21d"><div class="ttname"><a href="avio_8h.html#ad1baf8cd6711f05a45d0339cafe2d21d">avio_context_free</a></div><div class="ttdeci">void avio_context_free(AVIOContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00155">aviobuf.c:155</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gafd07a13a4ddaa6015275cad6022d9ee3"><div class="ttname"><a href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a></div><div class="ttdeci">#define AV_TIME_BASE_Q</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00260">avutil.h:260</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html"><div class="ttname"><a href="struct_a_v_i_o_context.html">AVIOContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00161">avio.h:161</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga4c60b7d4ce023a6466bc033e31c5349c"><div class="ttname"><a href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a></div><div class="ttdeci">int av_strcasecmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00215">avstring.c:215</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_ae36d5f9fe953e4f1f946189aef7fc696"><div class="ttname"><a href="struct_a_v_i_stream.html#ae36d5f9fe953e4f1f946189aef7fc696">AVIStream::sub_ctx</a></div><div class="ttdeci">AVFormatContext * sub_ctx</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00061">avidec.c:61</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a38450579d822807a26996ebc2f32d82c"><div class="ttname"><a href="libavformat_2internal_8h.html#a38450579d822807a26996ebc2f32d82c">ff_free_stream</a></div><div class="ttdeci">void ff_free_stream(AVFormatContext *s, AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04374">utils.c:4374</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG4</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00061">codec_id.h:61</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_acc03aa517a04cbb7a85d052017fb23f1"><div class="ttname"><a href="struct_a_v_i_stream.html#acc03aa517a04cbb7a85d052017fb23f1">AVIStream::sub_buffer</a></div><div class="ttdeci">AVBufferRef * sub_buffer</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00063">avidec.c:63</a></div></div>
<div class="ttc" id="aavidec_8c_html_ac953c7a6ee0472df296f609892808ec8"><div class="ttname"><a href="avidec_8c.html#ac953c7a6ee0472df296f609892808ec8">RETURN_ERROR</a></div><div class="ttdeci">#define RETURN_ERROR(code)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00477">avidec.c:477</a></div></div>
<div class="ttc" id="aavidec_8c_html_a42e78397613027964e1d05d38e6a0c5f"><div class="ttname"><a href="avidec_8c.html#a42e78397613027964e1d05d38e6a0c5f">MAX_ODML_DEPTH</a></div><div class="ttdeci">#define MAX_ODML_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00083">avidec.c:83</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a51639f88aef9f4f283f538a0c033fbb8"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">AVCodecParameters::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00126">codec_par.h:126</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html"><div class="ttname"><a href="libavcodec_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a492fcecc45dbbd8da51edd0124e9dd30"><div class="ttname"><a href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">AVStream::discard</a></div><div class="ttdeci">enum AVDiscard discard</div><div class="ttdoc">Selects which packets can be discarded at will and do not need to be demuxed.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00922">avformat.h:924</a></div></div>
<div class="ttc" id="aavidec_8c_html_acd43809625bac3c3c4c201d9162288ff"><div class="ttname"><a href="avidec_8c.html#acd43809625bac3c3c4c201d9162288ff">avi_read_close</a></div><div class="ttdeci">static int avi_read_close(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01924">avidec.c:1924</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a9b3c18a18a684fcbb1a2cc25cc6869dd"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a9b3c18a18a684fcbb1a2cc25cc6869dd">AV_PKT_DATA_PALETTE</a></div><div class="ttdeci">@ AV_PKT_DATA_PALETTE</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00046">packet.h:46</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a555e84924d60495bd39a56bdc96a68ca"><div class="ttname"><a href="struct_a_v_i_stream.html#a555e84924d60495bd39a56bdc96a68ca">AVIStream::frame_offset</a></div><div class="ttdeci">int64_t frame_offset</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00042">avidec.c:42</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a014c5c79b2ca6fc94c15e34979647b0f"><div class="ttname"><a href="struct_a_v_i_stream.html#a014c5c79b2ca6fc94c15e34979647b0f">AVIStream::sub_pkt</a></div><div class="ttdeci">AVPacket sub_pkt</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00062">avidec.c:62</a></div></div>
<div class="ttc" id="avp3data_8h_html_ad44119f8ce1676a4dfac55fd4b74d09c"><div class="ttname"><a href="vp3data_8h.html#ad44119f8ce1676a4dfac55fd4b74d09c">base</a></div><div class="ttdeci">uint8_t base</div><div class="ttdef"><b>Definition:</b> <a href="vp3data_8h_source.html#l00202">vp3data.h:202</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a0683d1a134b647c54f6d087d152c9a64"><div class="ttname"><a href="struct_a_v_i_o_context.html#a0683d1a134b647c54f6d087d152c9a64">AVIOContext::buf_end</a></div><div class="ttdeci">unsigned char * buf_end</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00229">avio.h:229</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="aavidec_8c_html_a818db6dfd0d1c4850226121d92c0f0f0"><div class="ttname"><a href="avidec_8c.html#a818db6dfd0d1c4850226121d92c0f0f0">avi_read_nikon</a></div><div class="ttdeci">static void avi_read_nikon(AVFormatContext *s, uint64_t end)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00352">avidec.c:352</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_aafe7812c5a25991f0755fb2cd073315b"><div class="ttname"><a href="struct_a_v_i_stream.html#aafe7812c5a25991f0755fb2cd073315b">AVIStream::packet_size</a></div><div class="ttdeci">int packet_size</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00045">avidec.c:45</a></div></div>
<div class="ttc" id="ariff_8c_html_a9803e5d6893b25863c810f92505dd3cc"><div class="ttname"><a href="riff_8c.html#a9803e5d6893b25863c810f92505dd3cc">ff_codec_bmp_tags_unofficial</a></div><div class="ttdeci">const AVCodecTag ff_codec_bmp_tags_unofficial[]</div><div class="ttdef"><b>Definition:</b> <a href="riff_8c_source.html#l00501">riff.c:501</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00033">cuda_runtime.h:33</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab0611a4c87b1248b4a560776c0a5d86a"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab0611a4c87b1248b4a560776c0a5d86a">ff_tlog</a></div><div class="ttdeci">#define ff_tlog(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00086">internal.h:86</a></div></div>
<div class="ttc" id="amathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a5776e5aa789ddce236a7d8bb3c5565c3"><div class="ttname"><a href="libavcodec_2internal_8h.html#a5776e5aa789ddce236a7d8bb3c5565c3">avpriv_find_start_code</a></div><div class="ttdeci">const uint8_t * avpriv_find_start_code(const uint8_t *p, const uint8_t *end, uint32_t *state)</div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a></div><div class="ttdeci">@ AV_CODEC_ID_FLAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00430">codec_id.h:430</a></div></div>
<div class="ttc" id="aavidec_8c_html_a50a5d9a86e1e0da9af26f86b2257577e"><div class="ttname"><a href="avidec_8c.html#a50a5d9a86e1e0da9af26f86b2257577e">avi_metadata_creation_time</a></div><div class="ttdeci">static void avi_metadata_creation_time(AVDictionary **metadata, char *date)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00333">avidec.c:333</a></div></div>
<div class="ttc" id="aexif_8c_html_ac27ef44b8fb72edd0c8078043adde44c"><div class="ttname"><a href="exif_8c.html#ac27ef44b8fb72edd0c8078043adde44c">avpriv_exif_decode_ifd</a></div><div class="ttdeci">int avpriv_exif_decode_ifd(void *logctx, const uint8_t *buf, int size, int le, int depth, AVDictionary **metadata)</div><div class="ttdef"><b>Definition:</b> <a href="exif_8c_source.html#l00144">exif.c:144</a></div></div>
<div class="ttc" id="aavidec_8c_html_ae50c492c9a83b397ac3d20368a7ef9cd"><div class="ttname"><a href="avidec_8c.html#ae50c492c9a83b397ac3d20368a7ef9cd">read_gab2_sub</a></div><div class="ttdeci">static int read_gab2_sub(AVFormatContext *s, AVStream *st, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01081">avidec.c:1081</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a026a3ad3486537a69fcac8c250758086"><div class="ttname"><a href="struct_a_v_i_context.html#a026a3ad3486537a69fcac8c250758086">AVIContext::last_pkt_pos</a></div><div class="ttdeci">int64_t last_pkt_pos</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00075">avidec.c:75</a></div></div>
<div class="ttc" id="artp_8c_html_a550d0fd0475cc25c2e1fec3e15acaffb"><div class="ttname"><a href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="rtp_8c_source.html#l00036">rtp.c:37</a></div></div>
<div class="ttc" id="aavio_8h_html_a375f057e315dd2273579555128a070fb"><div class="ttname"><a href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a></div><div class="ttdeci">int64_t avio_size(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00346">aviobuf.c:346</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="aavidec_8c_html_aa6884766a457406d64af48fa6ba00477"><div class="ttname"><a href="avidec_8c.html#aa6884766a457406d64af48fa6ba00477">AVIContext</a></div><div class="ttdeci">struct AVIContext AVIContext</div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9befe0b86412646017afb0051d144d13"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">AVCodecParameters::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00074">codec_par.h:74</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="aavidec_8c_html_a7a0b0a2d67065ab808db4ff55f7e0f83"><div class="ttname"><a href="avidec_8c.html#a7a0b0a2d67065ab808db4ff55f7e0f83">AVIStream</a></div><div class="ttdeci">struct AVIStream AVIStream</div></div>
<div class="ttc" id="aavformat_8h_html_aa5496b84535113646e96c8cf3b624aaf"><div class="ttname"><a href="avformat_8h.html#aa5496b84535113646e96c8cf3b624aaf">ff_const59</a></div><div class="ttdeci">#define ff_const59</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00535">avformat.h:535</a></div></div>
<div class="ttc" id="aavformat_8h_html_a23159bdc0b27ccf964072e30d6cc4559"><div class="ttname"><a href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a></div><div class="ttdeci">#define AVINDEX_KEYFRAME</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00807">avformat.h:807</a></div></div>
<div class="ttc" id="aavidec_8c_html_a741304c79d0dc4ed00e60f212cb7c3ff"><div class="ttname"><a href="avidec_8c.html#a741304c79d0dc4ed00e60f212cb7c3ff">check_stream_max_drift</a></div><div class="ttdeci">static int check_stream_max_drift(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01660">avidec.c:1660</a></div></div>
<div class="ttc" id="astruct_a_v_probe_data_html"><div class="ttname"><a href="struct_a_v_probe_data.html">AVProbeData</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00441">avformat.h:441</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a95dbf1e3195444d1c08cddaa1ee615fa"><div class="ttname"><a href="struct_a_v_i_stream.html#a95dbf1e3195444d1c08cddaa1ee615fa">AVIStream::pal</a></div><div class="ttdeci">uint32_t pal[256]</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00056">avidec.c:56</a></div></div>
<div class="ttc" id="aavformat_8h_html_a24925a4d1138c3f17a7a27dd45c08920"><div class="ttname"><a href="avformat_8h.html#a24925a4d1138c3f17a7a27dd45c08920">AVPROBE_SCORE_MAX</a></div><div class="ttdeci">#define AVPROBE_SCORE_MAX</div><div class="ttdoc">maximum score</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00453">avformat.h:453</a></div></div>
<div class="ttc" id="abytestream_8h_html_ab3713f6615c089f746b36925f5857c07"><div class="ttname"><a href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a></div><div class="ttdeci">static av_always_inline void bytestream2_skip(GetByteContext *g, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00168">bytestream.h:168</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gae804b99aec044690162b8b9b110236a4"><div class="ttname"><a href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a></div><div class="ttdeci">void avformat_close_input(AVFormatContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04425">utils.c:4425</a></div></div>
<div class="ttc" id="aavi_8h_html_a110665712aafb8b3498212a8e7c9ed1b"><div class="ttname"><a href="avi_8h.html#a110665712aafb8b3498212a8e7c9ed1b">AVIF_MUSTUSEINDEX</a></div><div class="ttdeci">#define AVIF_MUSTUSEINDEX</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00025">avi.h:25</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a8e9e65eebf6c92e3bdf9b8d6da964512"><div class="ttname"><a href="struct_a_v_i_context.html#a8e9e65eebf6c92e3bdf9b8d6da964512">AVIContext::fsize</a></div><div class="ttdeci">int64_t fsize</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00072">avidec.c:72</a></div></div>
<div class="ttc" id="alibavformat_2dv_8c_html_a04765e40701a2d0973bf670eaa9a5f1d"><div class="ttname"><a href="libavformat_2dv_8c.html#a04765e40701a2d0973bf670eaa9a5f1d">avpriv_dv_produce_packet</a></div><div class="ttdeci">int avpriv_dv_produce_packet(DVDemuxContext *c, AVPacket *pkt, uint8_t *buf, int buf_size, int64_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2dv_8c_source.html#l00372">dv.c:372</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="aavidec_8c_html_a84b8304945a5402a86758f194fcd80ee"><div class="ttname"><a href="avidec_8c.html#a84b8304945a5402a86758f194fcd80ee">calculate_bitrate</a></div><div class="ttdeci">static int calculate_bitrate(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00433">avidec.c:433</a></div></div>
<div class="ttc" id="ariff_8h_html_a2a2f112b3a1de6ddbe0a80eebac98cc7"><div class="ttname"><a href="riff_8h.html#a2a2f112b3a1de6ddbe0a80eebac98cc7">ff_get_bmp_header</a></div><div class="ttdeci">int ff_get_bmp_header(AVIOContext *pb, AVStream *st, uint32_t *size)</div><div class="ttdef"><b>Definition:</b> <a href="riffdec_8c_source.html#l00209">riffdec.c:209</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="aavformat_8h_html_a998c3af80d050fd3d4f6a209fd5a87bc"><div class="ttname"><a href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a></div><div class="ttdeci">#define AVSEEK_FLAG_ANY</div><div class="ttdoc">seek to any frame, even non-keyframes</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02393">avformat.h:2393</a></div></div>
<div class="ttc" id="astruct_a_v_metadata_conv_html"><div class="ttname"><a href="struct_a_v_metadata_conv.html">AVMetadataConv</a></div><div class="ttdef"><b>Definition:</b> <a href="metadata_8h_source.html#l00034">metadata.h:34</a></div></div>
<div class="ttc" id="alibcdio_8c_html_aaf64d43f28f7aaf168968366472d52d7"><div class="ttname"><a href="libcdio_8c.html#aaf64d43f28f7aaf168968366472d52d7">read_seek</a></div><div class="ttdeci">static int read_seek(AVFormatContext *ctx, int stream_index, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libcdio_8c_source.html#l00153">libcdio.c:153</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga3ed7441cb4af0bdd65a4cf51bf35088e"><div class="ttname"><a href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a></div><div class="ttdeci">int av_add_index_entry(AVStream *st, int64_t pos, int64_t timestamp, int size, int distance, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01984">utils.c:1984</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceab2fea28c2a9de52f61125417506a16e3"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab2fea28c2a9de52f61125417506a16e3">AV_CODEC_ID_XAN_DPCM</a></div><div class="ttdeci">@ AV_CODEC_ID_XAN_DPCM</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00410">codec_id.h:410</a></div></div>
<div class="ttc" id="aavidec_8c_html_adda4ec3196be3bee031c6173f5484eba"><div class="ttname"><a href="avidec_8c.html#adda4ec3196be3bee031c6173f5484eba">clean_index</a></div><div class="ttdeci">static void clean_index(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00276">avidec.c:276</a></div></div>
<div class="ttc" id="alibcdio_8c_html_a3469cc7152b70da4356d17e698a55850"><div class="ttname"><a href="libcdio_8c.html#a3469cc7152b70da4356d17e698a55850">read_close</a></div><div class="ttdeci">static av_cold int read_close(AVFormatContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="libcdio_8c_source.html#l00145">libcdio.c:145</a></div></div>
<div class="ttc" id="aavio_8h_html_a63157a668f29b8f5a89f00bc24838b8e"><div class="ttname"><a href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a></div><div class="ttdeci">static av_always_inline int64_t avio_tell(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00557">avio.h:557</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aefa5d0b4dafb09cd777ad5773a18a19a"><div class="ttname"><a href="libavformat_2internal_8h.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a></div><div class="ttdeci">int ff_read_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00792">utils.c:792</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a5268fcf4ae8ed27edef54f836b926d93"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">AVCodecParameters::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00089">codec_par.h:89</a></div></div>
<div class="ttc" id="alibavformat_2dv_8h_html"><div class="ttname"><a href="libavformat_2dv_8h.html">dv.h</a></div></div>
<div class="ttc" id="aavidec_8c_html_a0ee35b375301731fa3529d8eefa1dbca"><div class="ttname"><a href="avidec_8c.html#a0ee35b375301731fa3529d8eefa1dbca">avi_read_seek</a></div><div class="ttdeci">static int avi_read_seek(AVFormatContext *s, int stream_index, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01807">avidec.c:1807</a></div></div>
<div class="ttc" id="aavformat_8h_html_a2cba242c83a06fff914d1c8ef4cd42ac"><div class="ttname"><a href="avformat_8h.html#a2cba242c83a06fff914d1c8ef4cd42ac">AVPROBE_PADDING_SIZE</a></div><div class="ttdeci">#define AVPROBE_PADDING_SIZE</div><div class="ttdoc">extra allocated bytes at the end of the probe buffer</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00455">avformat.h:455</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a841c4984ac18eff6b39cf873ae1644d7"><div class="ttname"><a href="struct_a_v_i_context.html#a841c4984ac18eff6b39cf873ae1644d7">AVIContext::index_loaded</a></div><div class="ttdeci">int index_loaded</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00076">avidec.c:76</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a></div><div class="ttdeci">@ AV_CODEC_ID_MP3</div><div class="ttdoc">preferred ID for decoding MPEG audio layer 1, 2 or 3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00419">codec_id.h:419</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ae495a86ddec02af7d5a2805beba9ac9f"><div class="ttname"><a href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">AVStream::internal</a></div><div class="ttdeci">AVStreamInternal * internal</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01108">avformat.h:1108</a></div></div>
<div class="ttc" id="aavio_8h_html_a71a15b7c123789a03115af82021698fe"><div class="ttname"><a href="avio_8h.html#a71a15b7c123789a03115af82021698fe">avio_rl16</a></div><div class="ttdeci">unsigned int avio_rl16(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00738">aviobuf.c:738</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga7a9a991cb7837b10ffd44725263de425"><div class="ttname"><a href="group__lavu__dict.html#ga7a9a991cb7837b10ffd44725263de425">AV_DICT_DONT_STRDUP_VAL</a></div><div class="ttdeci">#define AV_DICT_DONT_STRDUP_VAL</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00075">dict.h:74</a></div></div>
<div class="ttc" id="aavidec_8c_html_ad14fba3608d05645140dbf9e88aed6bf"><div class="ttname"><a href="avidec_8c.html#ad14fba3608d05645140dbf9e88aed6bf">seek_subtitle</a></div><div class="ttdeci">static void seek_subtitle(AVStream *st, AVStream *st2, int64_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01797">avidec.c:1797</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00365">packet.h:365</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a42bf85ad1389c964db01b0d320a90f1b"><div class="ttname"><a href="struct_a_v_i_stream.html#a42bf85ad1389c964db01b0d320a90f1b">AVIStream::remaining</a></div><div class="ttdeci">int remaining</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00044">avidec.c:44</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="aavidec_8c_html_a0b8159f405ff1eb62c5f581ddf4cfc23"><div class="ttname"><a href="avidec_8c.html#a0b8159f405ff1eb62c5f581ddf4cfc23">avi_read_tag</a></div><div class="ttdeci">static int avi_read_tag(AVFormatContext *s, AVStream *st, uint32_t tag, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00304">avidec.c:304</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_ade913d2ed413a9ddde92c89d4f86f625"><div class="ttname"><a href="struct_a_v_i_stream.html#ade913d2ed413a9ddde92c89d4f86f625">AVIStream::seek_pos</a></div><div class="ttdeci">int64_t seek_pos</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00065">avidec.c:65</a></div></div>
<div class="ttc" id="aavio_8h_html_af089361fd70426624d19d436a10f87ad"><div class="ttname"><a href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a></div><div class="ttdeci">unsigned int avio_rb32(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00785">aviobuf.c:785</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga030300ea4843c53b2fe178a434964b39"><div class="ttname"><a href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a></div><div class="ttdeci">#define AV_LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00220">log.h:220</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00898">avformat.h:898</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_acd70b72d0c0514643a5c11b2c7c8202c"><div class="ttname"><a href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">AVStream::need_parsing</a></div><div class="ttdeci">enum AVStreamParseType need_parsing</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01074">avformat.h:1077</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_afb903b1d9614bfb59e8cc5213de3777b"><div class="ttname"><a href="struct_a_v_i_o_context.html#afb903b1d9614bfb59e8cc5213de3777b">AVIOContext::error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00245">avio.h:245</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1f342e4e3615abc9314684ce6b4819c0"><div class="ttname"><a href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00063">movenc.c:63</a></div></div>
<div class="ttc" id="aavidec_8c_html_a1768e0e42a9792f35e458626b04a13b9"><div class="ttname"><a href="avidec_8c.html#a1768e0e42a9792f35e458626b04a13b9">avi_sync</a></div><div class="ttdeci">static int avi_sync(AVFormatContext *s, int exit_early)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01203">avidec.c:1203</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a060002ff641fb6c358517df941e9c4c5"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">AVCodecParameters::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00078">codec_par.h:78</a></div></div>
<div class="ttc" id="aavio_8h_html_a39507bbc53328eae98ac7d683078fcf1"><div class="ttname"><a href="avio_8h.html#a39507bbc53328eae98ac7d683078fcf1">avio_get_str16le</a></div><div class="ttdeci">int avio_get_str16le(AVIOContext *pb, int maxlen, char *buf, int buflen)</div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="aavformat_8h_html_a52b5c22528bfd3597c076a97cf98383c"><div class="ttname"><a href="avformat_8h.html#a52b5c22528bfd3597c076a97cf98383c">AVProbeData</a></div><div class="ttdeci">struct AVProbeData AVProbeData</div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="aavidec_8c_html_ab7aa6b2d759be2e05c0b1b0c0708f2c7"><div class="ttname"><a href="avidec_8c.html#ab7aa6b2d759be2e05c0b1b0c0708f2c7">print_tag</a></div><div class="ttdeci">#define print_tag(s, str, tag, size)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00129">avidec.c:129</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487">AV_CODEC_ID_MP2</a></div><div class="ttdeci">@ AV_CODEC_ID_MP2</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00418">codec_id.h:418</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a56361e129d7f0fc8b39b6d15ae2061ea"><div class="ttname"><a href="struct_a_v_i_context.html#a56361e129d7f0fc8b39b6d15ae2061ea">AVIContext::riff_end</a></div><div class="ttdeci">int64_t riff_end</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00070">avidec.c:70</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a3500915a7434270c42dffc80fafffa2d"><div class="ttname"><a href="struct_a_v_i_o_context.html#a3500915a7434270c42dffc80fafffa2d">AVIOContext::buf_ptr</a></div><div class="ttdeci">unsigned char * buf_ptr</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00228">avio.h:228</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html"><div class="ttname"><a href="struct_a_v_index_entry.html">AVIndexEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00799">avformat.h:799</a></div></div>
<div class="ttc" id="affprobe_8c_html_ad5b72470d5d57d39c02421b54a92c065"><div class="ttname"><a href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a></div><div class="ttdeci">static int nb_streams</div><div class="ttdef"><b>Definition:</b> <a href="ffprobe_8c_source.html#l00282">ffprobe.c:282</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gaf02994a8bbeaa91d4757df179cbe567f"><div class="ttname"><a href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a></div><div class="ttdeci">int64_t av_rescale_q(int64_t a, AVRational bq, AVRational cq)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00142">mathematics.c:142</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a1a7214fcedcf4bd3e668506d30d7892f"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a1a7214fcedcf4bd3e668506d30d7892f">AV_RL16</a></div><div class="ttdeci">#define AV_RL16</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00042">intreadwrite.h:42</a></div></div>
<div class="ttc" id="ariff_8h_html_ab0f171baa607bc9c71ace000b8fb22de"><div class="ttname"><a href="riff_8h.html#ab0f171baa607bc9c71ace000b8fb22de">ff_read_riff_info</a></div><div class="ttdeci">int ff_read_riff_info(AVFormatContext *s, int64_t size)</div><div class="ttdef"><b>Definition:</b> <a href="riffdec_8c_source.html#l00228">riffdec.c:228</a></div></div>
<div class="ttc" id="ahwcontext__opencl_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__opencl_8c_source.html#l00168">hwcontext_opencl.c:168</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a></div><div class="ttdeci">@ AVMEDIA_TYPE_DATA</div><div class="ttdoc">Opaque data information usually continuous.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00203">avutil.h:203</a></div></div>
<div class="ttc" id="aaudiomatch_8c_html_a170c952cd6a6c83d6118ec6683b9052b"><div class="ttname"><a href="audiomatch_8c.html#a170c952cd6a6c83d6118ec6683b9052b">fsize</a></div><div class="ttdeci">static int64_t fsize(FILE *f)</div><div class="ttdef"><b>Definition:</b> <a href="audiomatch_8c_source.html#l00029">audiomatch.c:29</a></div></div>
<div class="ttc" id="alibzvbi-teletextdec_8c_html_af2cdb546e12c62dec4813da99e849769"><div class="ttname"><a href="libzvbi-teletextdec_8c.html#af2cdb546e12c62dec4813da99e849769">handler</a></div><div class="ttdeci">static void handler(vbi_event *ev, void *user_data)</div><div class="ttdef"><b>Definition:</b> <a href="libzvbi-teletextdec_8c_source.html#l00507">libzvbi-teletextdec.c:507</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac59f9714ac34774b43b3797c80b06c68"><div class="ttname"><a href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a></div><div class="ttdeci">uint8_t * av_packet_new_side_data(AVPacket *pkt, enum AVPacketSideDataType type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00332">avpacket.c:332</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="alog_8h_html_aeb1c06cc3e47a029ca6afeac782ac8f9a86a70f4c26b01f85c4c23433322eec2c"><div class="ttname"><a href="log_8h.html#aeb1c06cc3e47a029ca6afeac782ac8f9a86a70f4c26b01f85c4c23433322eec2c">AV_CLASS_CATEGORY_DEMUXER</a></div><div class="ttdeci">@ AV_CLASS_CATEGORY_DEMUXER</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00034">log.h:34</a></div></div>
<div class="ttc" id="acommon_8h_html_ad6d88940cfc29c13a3e51ded211fc242"><div class="ttname"><a href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a></div><div class="ttdeci">#define FFABS(a)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00072">common.h:72</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaf7cbadf2ff7121084d2cde763f4e06b9"><div class="ttname"><a href="group__lavu__error.html#gaf7cbadf2ff7121084d2cde763f4e06b9">AVERROR_DEMUXER_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_DEMUXER_NOT_FOUND</div><div class="ttdoc">Demuxer not found.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00053">error.h:53</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a></div><div class="ttdeci">@ AVDISCARD_ALL</div><div class="ttdoc">discard all</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00236">avcodec.h:236</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a9dbabb735641be8c27f2a403c70b5006"><div class="ttname"><a href="struct_a_v_i_context.html#a9dbabb735641be8c27f2a403c70b5006">AVIContext::movi_end</a></div><div class="ttdeci">int64_t movi_end</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00071">avidec.c:71</a></div></div>
<div class="ttc" id="alibavformat_2metadata_8c_html_ad18704a0525f999bb3b57f75e97c86bf"><div class="ttname"><a href="libavformat_2metadata_8c.html#ad18704a0525f999bb3b57f75e97c86bf">ff_metadata_conv_ctx</a></div><div class="ttdeci">void ff_metadata_conv_ctx(AVFormatContext *ctx, const AVMetadataConv *d_conv, const AVMetadataConv *s_conv)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2metadata_8c_source.html#l00059">metadata.c:59</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="aavformat_8h_html_ac736f8f4afc930ca1cda0b43638cc678"><div class="ttname"><a href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a></div><div class="ttdeci">#define AVSEEK_FLAG_BACKWARD</div><div class="ttdoc">seek backward</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02391">avformat.h:2391</a></div></div>
<div class="ttc" id="affv1dec_8c_html_a0b9c6775a65106fc8bf33cd388ec715c"><div class="ttname"><a href="ffv1dec_8c.html#a0b9c6775a65106fc8bf33cd388ec715c">read_header</a></div><div class="ttdeci">static int read_header(FFV1Context *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffv1dec_8c_source.html#l00527">ffv1dec.c:527</a></div></div>
<div class="ttc" id="alibavformat_2dv_8c_html_a677df650038c9a52d1a405b6b4af302c"><div class="ttname"><a href="libavformat_2dv_8c.html#a677df650038c9a52d1a405b6b4af302c">avpriv_dv_get_packet</a></div><div class="ttdeci">int avpriv_dv_get_packet(DVDemuxContext *c, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2dv_8c_source.html#l00355">dv.c:355</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga135e9e929b5033bb8f68322497b2effc"><div class="ttname"><a href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a></div><div class="ttdeci">void av_buffer_unref(AVBufferRef **buf)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00125">buffer.c:125</a></div></div>
<div class="ttc" id="alibavformat_2jvdec_8c_html_a4517a6dcebdb863ba6840921970a41ac"><div class="ttname"><a href="libavformat_2jvdec_8c.html#a4517a6dcebdb863ba6840921970a41ac">read_probe</a></div><div class="ttdeci">static int read_probe(const AVProbeData *pd)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2jvdec_8c_source.html#l00055">jvdec.c:55</a></div></div>
<div class="ttc" id="aavi_8h_html_ac1555a1f0caf8b5fe999db6ad3a4ed7e"><div class="ttname"><a href="avi_8h.html#ac1555a1f0caf8b5fe999db6ad3a4ed7e">AVIIF_INDEX</a></div><div class="ttdeci">#define AVIIF_INDEX</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00038">avi.h:38</a></div></div>
<div class="ttc" id="aisom_8h_html"><div class="ttname"><a href="isom_8h.html">isom.h</a></div></div>
<div class="ttc" id="aavidec_8c_html_a7689a242b561d3a67baec480a946dab3"><div class="ttname"><a href="avidec_8c.html#a7689a242b561d3a67baec480a946dab3">avi_metadata_conv</a></div><div class="ttdeci">static const AVMetadataConv avi_metadata_conv[]</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00111">avidec.c:111</a></div></div>
<div class="ttc" id="aavidec_8c_html_ad7dad336d53562ed032c96df24c69e74"><div class="ttname"><a href="avidec_8c.html#ad7dad336d53562ed032c96df24c69e74">get_stream_idx</a></div><div class="ttdeci">static int get_stream_idx(const unsigned *d)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01189">avidec.c:1189</a></div></div>
<div class="ttc" id="aavidec_8c_html_a47aaaadf0f099cb340287e1fcd68e338"><div class="ttname"><a href="avidec_8c.html#a47aaaadf0f099cb340287e1fcd68e338">get_riff</a></div><div class="ttdeci">static int get_riff(AVFormatContext *s, AVIOContext *pb)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00143">avidec.c:143</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ac28ef17f95d98b118f5ae57d75061278"><div class="ttname"><a href="pixfmt_8h.html#ac28ef17f95d98b118f5ae57d75061278">AVPALETTE_SIZE</a></div><div class="ttdeci">#define AVPALETTE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00032">pixfmt.h:32</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a3f19c60ac6da237cd10e4d97150c118e"><div class="ttname"><a href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">AVStream::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00931">avformat.h:931</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e">AVSTREAM_PARSE_NONE</a></div><div class="ttdeci">@ AVSTREAM_PARSE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00789">avformat.h:789</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="aavidec_8c_html_ae75e818b99dcc77b978c9d8e7798236c"><div class="ttname"><a href="avidec_8c.html#ae75e818b99dcc77b978c9d8e7798236c">avi_read_packet</a></div><div class="ttdeci">static int avi_read_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01425">avidec.c:1425</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8c90d0b288a4225e2793f1e81fc23f7e">AV_CODEC_ID_ADPCM_IMA_AMV</a></div><div class="ttdeci">@ AV_CODEC_ID_ADPCM_IMA_AMV</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00366">codec_id.h:366</a></div></div>
<div class="ttc" id="aavidec_8c_html_a5c7e7696097a698780c229d4a5275883"><div class="ttname"><a href="avidec_8c.html#a5c7e7696097a698780c229d4a5275883">get_duration</a></div><div class="ttdeci">static int get_duration(AVIStream *ast, int len)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00133">avidec.c:133</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_abe68a8ddbe01d95a2093d999c58767e2"><div class="ttname"><a href="struct_a_v_i_stream.html#abe68a8ddbe01d95a2093d999c58767e2">AVIStream::prefix_count</a></div><div class="ttdeci">int prefix_count</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00055">avidec.c:55</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a6101c3b2a02c61ea41f3c97e88b64d39"><div class="ttname"><a href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a></div><div class="ttdeci">#define AV_EF_EXPLODE</div><div class="ttdoc">abort decoding on minor error detection</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01666">avcodec.h:1666</a></div></div>
<div class="ttc" id="aavidec_8c_html_ae1d858c5b73c7020d14502ea0a21f60c"><div class="ttname"><a href="avidec_8c.html#ae1d858c5b73c7020d14502ea0a21f60c">guess_ni_flag</a></div><div class="ttdeci">static int guess_ni_flag(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01715">avidec.c:1715</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a2dcb407228c477deeb8479b403ce41e6"><div class="ttname"><a href="struct_a_v_i_context.html#a2dcb407228c477deeb8479b403ce41e6">AVIContext::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00079">avidec.c:79</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a4382c3064df1c9eb232ac198dec067f9"><div class="ttname"><a href="struct_a_v_stream.html#a4382c3064df1c9eb232ac198dec067f9">AVStream::nb_frames</a></div><div class="ttdeci">int64_t nb_frames</div><div class="ttdoc">number of frames in this stream if known or 0</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00920">avformat.h:920</a></div></div>
<div class="ttc" id="aavformat_8h_html_a8fef570c1a6f9c445acaf97fa2da3b7e"><div class="ttname"><a href="avformat_8h.html#a8fef570c1a6f9c445acaf97fa2da3b7e">AVPROBE_SCORE_EXTENSION</a></div><div class="ttdeci">#define AVPROBE_SCORE_EXTENSION</div><div class="ttdoc">score for file extension</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00451">avformat.h:451</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a0b748d924898b08b89ff4974afd17285"><div class="ttname"><a href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">AVFormatContext::nb_streams</a></div><div class="ttdeci">unsigned int nb_streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01279">avformat.h:1279</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf019b13f4891b36ae579cd7bc96d1f78"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf019b13f4891b36ae579cd7bc96d1f78">AV_CODEC_ID_MPEG1VIDEO</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG1VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00050">codec_id.h:50</a></div></div>
<div class="ttc" id="aavidec_8c_html_accd8c2d6c14d280fbc2f4b171d919a76"><div class="ttname"><a href="avidec_8c.html#accd8c2d6c14d280fbc2f4b171d919a76">ff_avi_demuxer</a></div><div class="ttdeci">AVInputFormat ff_avi_demuxer</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01960">avidec.c:1960</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a946e1e9b89eeeae4cab8a833b482c1ad"><div class="ttname"><a href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">AVStream::avg_frame_rate</a></div><div class="ttdeci">AVRational avg_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00942">avformat.h:942</a></div></div>
<div class="ttc" id="abytestream_8h_html_ad206301696bbb0cb6a2a7309ba90d4bc"><div class="ttname"><a href="bytestream_8h.html#ad206301696bbb0cb6a2a7309ba90d4bc">bytestream2_tell</a></div><div class="ttdeci">static av_always_inline int bytestream2_tell(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00192">bytestream.h:192</a></div></div>
<div class="ttc" id="aavi_8h_html"><div class="ttname"><a href="avi_8h.html">avi.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9b6f7d220d100ba73defab295623356b"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">AVCodecParameters::codec_tag</a></div><div class="ttdeci">uint32_t codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00064">codec_par.h:64</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a></div><div class="ttdeci">@ AV_CODEC_ID_AAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00420">codec_id.h:420</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="aisom_8c_html_a49f1e7625dcea066fdb0273f29980f1d"><div class="ttname"><a href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_movvideo_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="isom_8c_source.html#l00075">isom.c:75</a></div></div>
<div class="ttc" id="alibavformat_2dv_8c_html_add3ad90b7f8762f2561701022c136094"><div class="ttname"><a href="libavformat_2dv_8c.html#add3ad90b7f8762f2561701022c136094">ff_dv_offset_reset</a></div><div class="ttdeci">void ff_dv_offset_reset(DVDemuxContext *c, int64_t frame_offset)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2dv_8c_source.html#l00444">dv.c:444</a></div></div>
<div class="ttc" id="aavio_8h_html_abc91c5452c4d7b5da84021be3a9a3d70"><div class="ttname"><a href="avio_8h.html#abc91c5452c4d7b5da84021be3a9a3d70">avio_rl32</a></div><div class="ttdeci">unsigned int avio_rl32(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00754">aviobuf.c:754</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a1ec57ee84f19cf65d00eaa4d2a2253ce"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">AVCodecParameters::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00127">codec_par.h:127</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a81ccdca973fbc0dab1ab62c6acc7f749"><div class="ttname"><a href="struct_a_v_i_context.html#a81ccdca973fbc0dab1ab62c6acc7f749">AVIContext::non_interleaved</a></div><div class="ttdeci">int non_interleaved</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00078">avidec.c:78</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a6240550cbdc245451780427bd054328d"><div class="ttname"><a href="struct_a_v_i_context.html#a6240550cbdc245451780427bd054328d">AVIContext::dv_demux</a></div><div class="ttdeci">DVDemuxContext * dv_demux</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00080">avidec.c:80</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_af9e8f2bbcbb1bcf5b4cd5fcc4293375a"><div class="ttname"><a href="libavformat_2internal_8h.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a></div><div class="ttdeci">enum AVCodecID ff_codec_get_id(const AVCodecTag *tags, unsigned int tag)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03087">utils.c:3097</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gac7a91abf2f59648d995894711f070f62"><div class="ttname"><a href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a></div><div class="ttdeci">AVFormatContext * avformat_alloc_context(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2options_8c_source.html#l00211">options.c:211</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b">AVDISCARD_DEFAULT</a></div><div class="ttdeci">@ AVDISCARD_DEFAULT</div><div class="ttdoc">discard useless packets like 0 size packets in avi</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00231">avcodec.h:231</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a6d2f1c63632979df40671983b4d29588"><div class="ttname"><a href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">AVStreamInternal::index_entries</a></div><div class="ttdeci">AVIndexEntry * index_entries</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00228">internal.h:228</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a68fa093614eb49d19fda861552d00934"><div class="ttname"><a href="struct_a_v_i_context.html#a68fa093614eb49d19fda861552d00934">AVIContext::dts_max</a></div><div class="ttdeci">int64_t dts_max</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00084">avidec.c:84</a></div></div>
<div class="ttc" id="aavidec_8c_html_afa688718988e143ebc1f228ea1508989"><div class="ttname"><a href="avidec_8c.html#afa688718988e143ebc1f228ea1508989">months</a></div><div class="ttdeci">static const char months[12][4]</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00330">avidec.c:330</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aab5542950d6beb910dc9237aac99989e"><div class="ttname"><a href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a></div><div class="ttdeci">void avpriv_set_pts_info(AVStream *s, int pts_wrap_bits, unsigned int pts_num, unsigned int pts_den)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04871">utils.c:4871</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a403782362fe183fead43924732f81cb4"><div class="ttname"><a href="libavformat_2internal_8h.html#a403782362fe183fead43924732f81cb4">ff_copy_whiteblacklists</a></div><div class="ttdeci">int ff_copy_whiteblacklists(AVFormatContext *dst, const AVFormatContext *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00160">utils.c:160</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a87516858b69d1296e0ef9a27a197881a"><div class="ttname"><a href="struct_a_v_i_context.html#a87516858b69d1296e0ef9a27a197881a">AVIContext::io_fsize</a></div><div class="ttdeci">int64_t io_fsize</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00073">avidec.c:73</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a155b4d5a5857f0debe85c3b75469e171"><div class="ttname"><a href="struct_a_v_i_stream.html#a155b4d5a5857f0debe85c3b75469e171">AVIStream::has_pal</a></div><div class="ttdeci">int has_pal</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00057">avidec.c:57</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga9665abf3720f9f460790c2c3b224c052"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a></div><div class="ttdeci">int av_reallocp(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00161">mem.c:161</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga3b40fc8d2fda6992ae6ea2567d71ba30"><div class="ttname"><a href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a></div><div class="ttdeci">int avformat_seek_file(AVFormatContext *s, int stream_index, int64_t min_ts, int64_t ts, int64_t max_ts, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02482">utils.c:2482</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html"><div class="ttname"><a href="struct_a_v_i_stream.html">AVIStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00041">avidec.c:41</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a6873ed62f196c24e8bf282609231786f"><div class="ttname"><a href="struct_a_v_stream.html#a6873ed62f196c24e8bf282609231786f">AVStream::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00876">avformat.h:876</a></div></div>
<div class="ttc" id="ariff_8c_html_ae8b6899204f89e9c1bee5a89a1e4f520"><div class="ttname"><a href="riff_8c.html#ae8b6899204f89e9c1bee5a89a1e4f520">ff_riff_info_conv</a></div><div class="ttdeci">const AVMetadataConv ff_riff_info_conv[]</div><div class="ttdef"><b>Definition:</b> <a href="riff_8c_source.html#l00592">riff.c:592</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a></div><div class="ttdeci">@ AVMEDIA_TYPE_UNKNOWN</div><div class="ttdoc">Usually treated as AVMEDIA_TYPE_DATA.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00200">avutil.h:200</a></div></div>
<div class="ttc" id="aavidec_8c_html_ab11975c14859671378e67d4e51a4a477"><div class="ttname"><a href="avidec_8c.html#ab11975c14859671378e67d4e51a4a477">avi_probe</a></div><div class="ttdeci">static int avi_probe(const AVProbeData *p)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01947">avidec.c:1947</a></div></div>
<div class="ttc" id="astruct_a_v_buffer_ref_html"><div class="ttname"><a href="struct_a_v_buffer_ref.html">AVBufferRef</a></div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00081">buffer.h:81</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_a72366fb5dae7421e41cce6ad8dd2126b"><div class="ttname"><a href="struct_a_v_index_entry.html#a72366fb5dae7421e41cce6ad8dd2126b">AVIndexEntry::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00809">avformat.h:809</a></div></div>
<div class="ttc" id="asdr2_8c_html_abd18f6ed7dc5da8824a97bc504e4280e"><div class="ttname"><a href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a></div><div class="ttdeci">static const uint8_t header[24]</div><div class="ttdef"><b>Definition:</b> <a href="sdr2_8c_source.html#l00067">sdr2.c:67</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a4e04af7a5a4d8298649850df798dd0bc"><div class="ttname"><a href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">AVStream::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00918">avformat.h:918</a></div></div>
<div class="ttc" id="aavio_8h_html_af0d12eeb9d701134d971b91b4083bb43"><div class="ttname"><a href="avio_8h.html#af0d12eeb9d701134d971b91b4083bb43">avio_r8</a></div><div class="ttdeci">int avio_r8(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00628">aviobuf.c:628</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a873749d710eaced98d4db1618e805bc4"><div class="ttname"><a href="struct_a_v_i_stream.html#a873749d710eaced98d4db1618e805bc4">AVIStream::scale</a></div><div class="ttdeci">uint32_t scale</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00048">avidec.c:48</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a727e1cc674164d447f6b30c8634e2670"><div class="ttname"><a href="struct_a_v_i_context.html#a727e1cc674164d447f6b30c8634e2670">AVIContext::odml_depth</a></div><div class="ttdeci">int odml_depth</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00081">avidec.c:81</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="atests_2h264__levels_8c_html_a7ead09ba2ff985f7f74ab0f40ee7eecc"><div class="ttname"><a href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a></div><div class="ttdeci">int64_t bitrate</div><div class="ttdef"><b>Definition:</b> <a href="tests_2h264__levels_8c_source.html#l00131">h264_levels.c:131</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a3866500f51fabfa90faeae894c6e955c"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">AVCodecParameters::bits_per_coded_sample</a></div><div class="ttdeci">int bits_per_coded_sample</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00102">codec_par.h:102</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00205">log.h:205</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a786f81429bb25853af449fe5737bf2c7"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">AVCodecParameters::block_align</a></div><div class="ttdeci">int block_align</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00177">codec_par.h:177</a></div></div>
<div class="ttc" id="astruct_get_byte_context_html"><div class="ttname"><a href="struct_get_byte_context.html">GetByteContext</a></div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00033">bytestream.h:33</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_ab5793d8195cf4789dfb3913b7a693903"><div class="ttname"><a href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">AVPacket::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdoc">byte position in stream, -1 if unknown</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00383">packet.h:383</a></div></div>
<div class="ttc" id="aavidec_8c_html_a0bba4c1e1ec82e82328078a1de02f9a2"><div class="ttname"><a href="avidec_8c.html#a0bba4c1e1ec82e82328078a1de02f9a2">get_subtitle_pkt</a></div><div class="ttdeci">static AVStream * get_subtitle_pkt(AVFormatContext *s, AVStream *next_st, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01155">avidec.c:1155</a></div></div>
<div class="ttc" id="aavidec_8c_html_a3226269dcc6ba728bb30a7a0bb9148e6"><div class="ttname"><a href="avidec_8c.html#a3226269dcc6ba728bb30a7a0bb9148e6">avi_extract_stream_metadata</a></div><div class="ttdeci">static int avi_extract_stream_metadata(AVFormatContext *s, AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00395">avidec.c:395</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_acfefb6b6cf21e87a0dcbd1a547ba2348"><div class="ttname"><a href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">AVFormatContext::streams</a></div><div class="ttdeci">AVStream ** streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01291">avformat.h:1291</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea9ff341616ebac6400d57194606de5593"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea9ff341616ebac6400d57194606de5593">AV_CODEC_ID_RV40</a></div><div class="ttdeci">@ AV_CODEC_ID_RV40</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00118">codec_id.h:118</a></div></div>
<div class="ttc" id="astruct_d_v_demux_context_html"><div class="ttname"><a href="struct_d_v_demux_context.html">DVDemuxContext</a></div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2dv_8c_source.html#l00043">dv.c:43</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a></div><div class="ttdeci">@ AV_CODEC_ID_NONE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00047">codec_id.h:47</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a9aad44bed0c244bb2f4d3e7296b2946a"><div class="ttname"><a href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a></div><div class="ttdeci">#define AV_WL32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00290">intreadwrite.h:290</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gaff468dcc45289542f4c30d311bc2a201"><div class="ttname"><a href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201">avformat_open_input</a></div><div class="ttdeci">int avformat_open_input(AVFormatContext **ps, const char *url, ff_const59 AVInputFormat *fmt, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00500">utils.c:500</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_affef8bf4cd2f53a47ebc2d298d0d57c1"><div class="ttname"><a href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">AVIndexEntry::timestamp</a></div><div class="ttdeci">int64_t timestamp</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00801">avformat.h:801</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gaa11ed202b70e1f52bac809811a910e2a"><div class="ttname"><a href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a></div><div class="ttdeci">#define AV_TIME_BASE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00254">avutil.h:254</a></div></div>
<div class="ttc" id="alibavformat_2flvdec_8c_html_aa1ebf7604dd80ce9093b6a13ac7cd4ab"><div class="ttname"><a href="libavformat_2flvdec_8c.html#aa1ebf7604dd80ce9093b6a13ac7cd4ab">resync</a></div><div class="ttdeci">static int resync(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2flvdec_8c_source.html#l00948">flvdec.c:948</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a5419d064f8690dd5a8160577cf1525d0"><div class="ttname"><a href="struct_a_v_i_stream.html#a5419d064f8690dd5a8160577cf1525d0">AVIStream::dshow_block_align</a></div><div class="ttdeci">int dshow_block_align</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00058">avidec.c:58</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a6ca823054632821e085377f7d371a2d1"><div class="ttname"><a href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">AVStream::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00870">avformat.h:870</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a8695d9f7069f617f00a51a6d869a7f8e"><div class="ttname"><a href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">AVStreamInternal::nb_index_entries</a></div><div class="ttdeci">int nb_index_entries</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00230">internal.h:230</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a></div><div class="ttdeci">@ AV_CODEC_ID_HEVC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00223">codec_id.h:223</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a09f9d0cee65cb17a34e6e6d313c44b76"><div class="ttname"><a href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default value</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aopt_8h_html_aad820197915e73441f76f5e0c384d78a"><div class="ttname"><a href="opt_8h.html#aad820197915e73441f76f5e0c384d78a">AV_OPT_FLAG_DECODING_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_DECODING_PARAM</div><div class="ttdoc">a generic parameter which can be set by the user for demuxing or decoding</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00279">opt.h:279</a></div></div>
<div class="ttc" id="aavio_8h_html_a853f5149136a27ffba3207d8520172a5"><div class="ttname"><a href="avio_8h.html#a853f5149136a27ffba3207d8520172a5">avio_alloc_context</a></div><div class="ttdeci">AVIOContext * avio_alloc_context(unsigned char *buffer, int buffer_size, int write_flag, void *opaque, int(*read_packet)(void *opaque, uint8_t *buf, int buf_size), int(*write_packet)(void *opaque, uint8_t *buf, int buf_size), int64_t(*seek)(void *opaque, int64_t offset, int whence))</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00138">aviobuf.c:138</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a0e3c41c290b38923880b9cccb669bf78"><div class="ttname"><a href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">AVIOContext::seekable</a></div><div class="ttdeci">int seekable</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00260">avio.h:260</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gab646f0a7cc30af543ba4a91b37f9de6e"><div class="ttname"><a href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a></div><div class="ttdeci">static av_always_inline AVRational av_inv_q(AVRational q)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00159">rational.h:159</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="aexif_8h_html"><div class="ttname"><a href="exif_8h.html">exif.h</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_ac0dd805ffd04bb52b1a358331dd10b98"><div class="ttname"><a href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">AVIndexEntry::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00800">avformat.h:800</a></div></div>
<div class="ttc" id="ariff_8h_html_a5e5faefb9c3eaa1df38a6c4f89f63df3"><div class="ttname"><a href="riff_8h.html#a5e5faefb9c3eaa1df38a6c4f89f63df3">ff_get_wav_header</a></div><div class="ttdeci">int ff_get_wav_header(AVFormatContext *s, AVIOContext *pb, AVCodecParameters *par, int size, int big_endian)</div><div class="ttdef"><b>Definition:</b> <a href="riffdec_8c_source.html#l00091">riffdec.c:91</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga3daf97178dd1b08b5e916be381cd33e4"><div class="ttname"><a href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a></div><div class="ttdeci">int64_t av_rescale(int64_t a, int64_t b, int64_t c)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00129">mathematics.c:129</a></div></div>
<div class="ttc" id="aavidec_8c_html_a34ddc4ca90a2a53c30a3dd28ab80b183"><div class="ttname"><a href="avidec_8c.html#a34ddc4ca90a2a53c30a3dd28ab80b183">avi_load_index</a></div><div class="ttdeci">static int avi_load_index(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l01757">avidec.c:1757</a></div></div>
<div class="ttc" id="aavformat_8h_html_a9d2e6f22150d98c36dcc2c6c49318019"><div class="ttname"><a href="avformat_8h.html#a9d2e6f22150d98c36dcc2c6c49318019">av_get_packet</a></div><div class="ttdeci">int av_get_packet(AVIOContext *s, AVPacket *pkt, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00305">utils.c:305</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a></div><div class="ttdeci">@ AV_CODEC_ID_XSUB</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00520">codec_id.h:520</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html"><div class="ttname"><a href="struct_a_v_i_context.html">AVIContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00068">avidec.c:68</a></div></div>
<div class="ttc" id="amovenc_8c_html_a1c50fcd1195659821729f52af8f3bb7d"><div class="ttname"><a href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a></div><div class="ttdeci">uint32_t tag</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01597">movenc.c:1597</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a50d250a128a3da9ce3d135e84213fb82"><div class="ttname"><a href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">AVStream::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00933">avformat.h:933</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="aavio__reading_8c_html_a3a86bff38e7cb9093d0a32316b73b29c"><div class="ttname"><a href="avio__reading_8c.html#a3a86bff38e7cb9093d0a32316b73b29c">read_packet</a></div><div class="ttdeci">static int read_packet(void *opaque, uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="avio__reading_8c_source.html#l00042">avio_reading.c:42</a></div></div>
<div class="ttc" id="aavio_8h_html_a03e23bf0144030961c34e803c71f614f"><div class="ttname"><a href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a></div><div class="ttdeci">int64_t avio_seek(AVIOContext *s, int64_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00253">aviobuf.c:253</a></div></div>
<div class="ttc" id="aavformat_8h_html_a19d3097af30fbd65caa79464657ce4bd"><div class="ttname"><a href="avformat_8h.html#a19d3097af30fbd65caa79464657ce4bd">AVFMT_FLAG_SORT_DTS</a></div><div class="ttdeci">#define AVFMT_FLAG_SORT_DTS</div><div class="ttdoc">try to interleave outputted packets by dts (using this flag can slow demuxing down)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01375">avformat.h:1375</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a1e7324262b6b78522e52064daaa7bc87"><div class="ttname"><a href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">AVFormatContext::pb</a></div><div class="ttdeci">AVIOContext * pb</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01265">avformat.h:1265</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91a67bc09fcdeb0e05754f344fbc80856ca"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a67bc09fcdeb0e05754f344fbc80856ca">AVSTREAM_PARSE_HEADERS</a></div><div class="ttdeci">@ AVSTREAM_PARSE_HEADERS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00791">avformat.h:791</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a7c67ae70632c91df8b0f721658ec5377"><div class="ttname"><a href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">AVStream::start_time</a></div><div class="ttdeci">int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00908">avformat.h:908</a></div></div>
<div class="ttc" id="adict_8h_html"><div class="ttname"><a href="dict_8h.html">dict.h</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a5ae78a1fd9b6eb4cc2a8855eba100170"><div class="ttname"><a href="struct_a_v_i_stream.html#a5ae78a1fd9b6eb4cc2a8855eba100170">AVIStream::sample_size</a></div><div class="ttdeci">int sample_size</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00050">avidec.c:50</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceafa26899e6acd71441007e6c35461cfc3"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceafa26899e6acd71441007e6c35461cfc3">AV_CODEC_ID_AMV</a></div><div class="ttdeci">@ AV_CODEC_ID_AMV</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00156">codec_id.h:156</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html_a850db3eb225e22b64f3304d72134ca0c"><div class="ttname"><a href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">AVInputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00643">avformat.h:643</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a6d02e640ccc12c783841ce51d09b9fa7"><div class="ttname"><a href="codec__par_8h.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a></div><div class="ttdeci">int avcodec_parameters_copy(AVCodecParameters *dst, const AVCodecParameters *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02077">utils.c:2077</a></div></div>
<div class="ttc" id="alibavformat_2dv_8c_html_a2996068e734179ace8b9d6b9e0cdb608"><div class="ttname"><a href="libavformat_2dv_8c.html#a2996068e734179ace8b9d6b9e0cdb608">avpriv_dv_init_demux</a></div><div class="ttdeci">DVDemuxContext * avpriv_dv_init_demux(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2dv_8c_source.html#l00339">dv.c:339</a></div></div>
<div class="ttc" id="ariff_8c_html_ab352e82619d77c87a198467142d86b25"><div class="ttname"><a href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_bmp_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="riff_8c_source.html#l00032">riff.c:32</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ace46e41b9bd6cac88fb7109ffd657f9a"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a></div><div class="ttdeci">#define AV_RL32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00146">intreadwrite.h:146</a></div></div>
<div class="ttc" id="aavio_8h_html_a03ea0dfa113a05f4843bbfff69e0cd0a"><div class="ttname"><a href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a></div><div class="ttdeci">#define AVIO_SEEKABLE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00040">avio.h:40</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ab5bf43ceeffd5c440d539ae2ed025827"><div class="ttname"><a href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a></div><div class="ttdeci">the frame and frame reference mechanism is intended to as much as expensive copies of that data while still allowing the filters to produce correct results The data is stored in buffers represented by AVFrame structures Several references can point to the same frame buffer</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00049">filter_design.txt:49</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ac7bd4513f9b5582f326e9f88d3c5ebf4"><div class="ttname"><a href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">AVStreamInternal::request_probe</a></div><div class="ttdeci">int request_probe</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00242">internal.h:242</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="aavio_8h_html_abb4e58439be0bff0dc2e2974ee5fb6a3"><div class="ttname"><a href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a></div><div class="ttdeci">int avio_read(AVIOContext *s, unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00637">aviobuf.c:637</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_afc53959fb59caa247d7dc04dadb675bd"><div class="ttname"><a href="struct_a_v_i_stream.html#afc53959fb59caa247d7dc04dadb675bd">AVIStream::prefix</a></div><div class="ttdeci">int prefix</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00054">avidec.c:54</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a2904d04d7ee6d04ea97b219d1e7b43b3"><div class="ttname"><a href="struct_a_v_i_stream.html#a2904d04d7ee6d04ea97b219d1e7b43b3">AVIStream::handler</a></div><div class="ttdeci">uint32_t handler</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00047">avidec.c:47</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gac06e7fbf645af01eac6ad4d82a78a438"><div class="ttname"><a href="group__lavf__decoding.html#gac06e7fbf645af01eac6ad4d82a78a438">av_probe_input_format2</a></div><div class="ttdeci">ff_const59 AVInputFormat * av_probe_input_format2(ff_const59 AVProbeData *pd, int is_opened, int *score_max)</div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00205">format.c:205</a></div></div>
<div class="ttc" id="aavio_8h_html_aa22e02f986ea8a8dc018f9615af27eea"><div class="ttname"><a href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a></div><div class="ttdeci">int64_t avio_skip(AVIOContext *s, int64_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00341">aviobuf.c:341</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a3bf81872813551fe9343dd0e09993e38"><div class="ttname"><a href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">AVPacket::buf</a></div><div class="ttdeci">AVBufferRef * buf</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00346">packet.h:346</a></div></div>
<div class="ttc" id="alibsvtav1_8c_html_a710bce51374aba96ab04912897666c35"><div class="ttname"><a href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> <a href="libsvtav1_8c_source.html#l00079">libsvtav1.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_ae64ec02bbd16accfc5790eb634551e4f"><div class="ttname"><a href="struct_a_v_i_stream.html#ae64ec02bbd16accfc5790eb634551e4f">AVIStream::cum_len</a></div><div class="ttdeci">int64_t cum_len</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00053">avidec.c:53</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a61b61b0d009be377ebcfdc30ea053d27"><div class="ttname"><a href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">AVStream::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00884">avformat.h:884</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_a1b57d93b863a1b605461229a65ca8b52"><div class="ttname"><a href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">AVIndexEntry::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00810">avformat.h:810</a></div></div>
<div class="ttc" id="aavidec_8c_html_acdcca57ab2481201a783edc3b7f4333a"><div class="ttname"><a href="avidec_8c.html#acdcca57ab2481201a783edc3b7f4333a">avi_read_header</a></div><div class="ttdeci">static int avi_read_header(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00478">avidec.c:478</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a58369c3a8a986935b572df5aa6361ce2"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">AVCodecParameters::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:56</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a42a20dfa26e2aaea3d003dd0f6865844"><div class="ttname"><a href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">AVIContext::movi_list</a></div><div class="ttdeci">int64_t movi_list</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00074">avidec.c:74</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="ariff_8h_html"><div class="ttname"><a href="riff_8h.html">riff.h</a></div></div>
<div class="ttc" id="aavio_8h_html_af60c7d8fdabc3667ead1fffd2fac7ad5"><div class="ttname"><a href="avio_8h.html#af60c7d8fdabc3667ead1fffd2fac7ad5">avio_rl64</a></div><div class="ttdeci">uint64_t avio_rl64(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00762">aviobuf.c:762</a></div></div>
<div class="ttc" id="astruct_a_v_probe_data_html_a814cca49dda3f578ebb32d4b2f74368a"><div class="ttname"><a href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">AVProbeData::buf</a></div><div class="ttdeci">unsigned char * buf</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00443">avformat.h:443</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91ac21d15a27dac74ca0730b4dace71d883"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac21d15a27dac74ca0730b4dace71d883">AVSTREAM_PARSE_FULL</a></div><div class="ttdeci">@ AVSTREAM_PARSE_FULL</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00790">avformat.h:790</a></div></div>
<div class="ttc" id="aavidec_8c_html_acc9e549277c5d2b859fe9676ef5f5414"><div class="ttname"><a href="avidec_8c.html#acc9e549277c5d2b859fe9676ef5f5414">read_odml_index</a></div><div class="ttdeci">static int read_odml_index(AVFormatContext *s, int frame_num)</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00168">avidec.c:168</a></div></div>
<div class="ttc" id="abytestream_8h_html_aade8884858d9239b8561013a21898dc0"><div class="ttname"><a href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a></div><div class="ttdeci">static av_always_inline void bytestream2_init(GetByteContext *g, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00137">bytestream.h:137</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91a10f8e7a9d88b7b5e2010ffb496b6cf1a"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a10f8e7a9d88b7b5e2010ffb496b6cf1a">AVSTREAM_PARSE_TIMESTAMPS</a></div><div class="ttdeci">@ AVSTREAM_PARSE_TIMESTAMPS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00792">avformat.h:792</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a7cc0fa027948eb3835b3d026c807a701"><div class="ttname"><a href="struct_a_v_i_stream.html#a7cc0fa027948eb3835b3d026c807a701">AVIStream::rate</a></div><div class="ttdeci">uint32_t rate</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00049">avidec.c:49</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_ac68e810db7b0851c9719e8acf0631f0a"><div class="ttname"><a href="struct_a_v_i_context.html#ac68e810db7b0851c9719e8acf0631f0a">AVIContext::is_odml</a></div><div class="ttdeci">int is_odml</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00077">avidec.c:77</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf614abb36f7c5d0c42ed522c1d6c99f0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf614abb36f7c5d0c42ed522c1d6c99f0">AV_CODEC_ID_MPEG2VIDEO</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG2VIDEO</div><div class="ttdoc">preferred ID for MPEG-1/2 video decoding</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00051">codec_id.h:51</a></div></div>
<div class="ttc" id="asnprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="aavidec_8c_html_ac1fd03cb8e7466db002cc2b69cd6dbc2"><div class="ttname"><a href="avidec_8c.html#ac1fd03cb8e7466db002cc2b69cd6dbc2">avi_headers</a></div><div class="ttdeci">static const char avi_headers[][8]</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00102">avidec.c:102</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gae07d7cbf511060210152a89ad0d137ad"><div class="ttname"><a href="group__lavu__misc.html#gae07d7cbf511060210152a89ad0d137ad">av_fourcc2str</a></div><div class="ttdeci">#define av_fourcc2str(fourcc)</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00348">avutil.h:348</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gac4cabc0d681c34b2e2c6a87a55877f0d"><div class="ttname"><a href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a></div><div class="ttdeci">int av_index_search_timestamp(AVStream *st, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02101">utils.c:2101</a></div></div>
<div class="ttc" id="aavio_8h_html_a4db704ed3d00a4be632dad1585d01d92"><div class="ttname"><a href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a></div><div class="ttdeci">int avio_feof(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00368">aviobuf.c:368</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
