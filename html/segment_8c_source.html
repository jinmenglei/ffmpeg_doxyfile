<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/segment.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">segment.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="segment_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2011, Luca Barbato</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="float_8h.html">float.h</a>&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="time_8h.html">time.h</a>&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avio__internal_8h.html">avio_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">libavutil/log.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parseutils_8h.html">libavutil/parseutils.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">libavutil/time.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timecode_8h.html">libavutil/timecode.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time__internal_8h.html">libavutil/time_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timestamp_8h.html">libavutil/timestamp.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html">   46</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> {</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html#a0b323e3594f34e24891b0cc36d036b32">   47</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_list_entry.html#a0b323e3594f34e24891b0cc36d036b32">index</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">   48</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a>, <a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html#a191b541df2c40189ea9ee5f001669d7a">   49</a></span>&#160;    int64_t <a class="code" href="struct_segment_list_entry.html#a191b541df2c40189ea9ee5f001669d7a">start_pts</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html#a3b6c3cd400205a04b015cbb7a5d8f49f">   50</a></span>&#160;    int64_t <a class="code" href="struct_segment_list_entry.html#a3b6c3cd400205a04b015cbb7a5d8f49f">offset_pts</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">   51</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">   52</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *<a class="code" href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">next</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_segment_list_entry.html#a2819b14c0490db417a0464b2ef4f4462">   53</a></span>&#160;    int64_t <a class="code" href="struct_segment_list_entry.html#a2819b14c0490db417a0464b2ef4f4462">last_duration</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="segment_8c.html#a04d23cc3833a1718e31d2a76b5af9715">   54</a></span>&#160;} <a class="code" href="segment_8c.html#a04d23cc3833a1718e31d2a76b5af9715">SegmentListEntry</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376">   56</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376af6c78d3493737f3991349715463ce9a5">   57</a></span>&#160;    <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376af6c78d3493737f3991349715463ce9a5">LIST_TYPE_UNDEFINED</a> = -1,</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9cd3407eb07b38c27c82e55dab56aabd">   58</a></span>&#160;    <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9cd3407eb07b38c27c82e55dab56aabd">LIST_TYPE_FLAT</a> = 0,</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a8509d7f37dd4535f8a8188d59a21927c">   59</a></span>&#160;    <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a8509d7f37dd4535f8a8188d59a21927c">LIST_TYPE_CSV</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">   60</a></span>&#160;    <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a">   61</a></span>&#160;    <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a">LIST_TYPE_EXT</a>, </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc">   62</a></span>&#160;    <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc">LIST_TYPE_FFCONCAT</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9ab0469e309a0b626e8f3ea2298b476a">   63</a></span>&#160;    <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9ab0469e309a0b626e8f3ea2298b476a">LIST_TYPE_NB</a>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;} <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376">ListType</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="segment_8c.html#aa3139255e1ce9eb97dc2762708c11888">   66</a></span>&#160;<span class="preprocessor">#define SEGMENT_LIST_FLAG_CACHE 1</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="segment_8c.html#a142f5c6d906697f92271f6a02a6407a2">   67</a></span>&#160;<span class="preprocessor">#define SEGMENT_LIST_FLAG_LIVE  2</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_segment_context.html">   69</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_segment_context.html">SegmentContext</a> {</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="struct_segment_context.html#abad07b8047e9de74dcc744e7fa95e616">   70</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;  </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">   71</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">segment_idx</a>;       </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">   72</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">segment_idx_wrap</a>;  </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ae4494f08aff5054bfcf830da68500df8">   73</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#ae4494f08aff5054bfcf830da68500df8">segment_idx_wrap_nb</a>;  </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">   74</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a>;     </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">   75</a></span>&#160;    <a class="code" href="avformat_8h.html#aa5496b84535113646e96c8cf3b624aaf">ff_const59</a> <a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> *<a class="code" href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">oformat</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">   76</a></span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ac2785268ff409937b4d37df310331f51">   77</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_context.html#ac2785268ff409937b4d37df310331f51">format</a>;              </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a680a558f39b7a970d51a7ea5ddc69e73">   78</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_segment_context.html#a680a558f39b7a970d51a7ea5ddc69e73">format_options</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">   79</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>;            </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a24c357f44f58a4522a77a29e2557cfc2">   80</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_segment_context.html#a24c357f44f58a4522a77a29e2557cfc2">list_flags</a>;      </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="struct_segment_context.html#aaeb8c0ee67f51381fba51df760af543e">   81</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_segment_context.html#aaeb8c0ee67f51381fba51df760af543e">list_size</a>;       </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_segment_context.html#aaa4b48bce04bbbc88a8449a27756e0d5">   83</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#aaa4b48bce04bbbc88a8449a27756e0d5">is_nullctx</a>;       </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a2130903ec344e2180bcc4023d5c0c738">   84</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a2130903ec344e2180bcc4023d5c0c738">use_clocktime</a>;    </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_segment_context.html#af0f51a5c2acd9b043be911148ae69cfe">   85</a></span>&#160;    int64_t <a class="code" href="struct_segment_context.html#af0f51a5c2acd9b043be911148ae69cfe">clocktime_offset</a>; <span class="comment">//&lt; clock offset for cutting the segments at regular clock time</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a5e8f53db7f0639bbcb010167a6732b88">   86</a></span>&#160;    int64_t <a class="code" href="struct_segment_context.html#a5e8f53db7f0639bbcb010167a6732b88">clocktime_wrap_duration</a>; <span class="comment">//&lt; wrapping duration considered for starting a new segment</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a71f70788ed584009f90dac6455a0135a">   87</a></span>&#160;    int64_t <a class="code" href="struct_segment_context.html#a71f70788ed584009f90dac6455a0135a">last_val</a>;      </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a8ce9389d22e1dbc0ac1a2399b4782351">   88</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a8ce9389d22e1dbc0ac1a2399b4782351">cut_pending</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a2e44562785212115240f06bab3f819a4">   89</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a2e44562785212115240f06bab3f819a4">header_written</a>;    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ae7414bb8ce5666309ef744b0ceac5ff9">   91</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_context.html#ae7414bb8ce5666309ef744b0ceac5ff9">entry_prefix</a>;    </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">   92</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a>;         </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">   93</a></span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>;  </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">   94</a></span>&#160;    int64_t <a class="code" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">time</a>;          </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a220ab1cbff47f502cb710f75a4e60619">   95</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a220ab1cbff47f502cb710f75a4e60619">use_strftime</a>;      </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="struct_segment_context.html#aebafc3d23a66f8787739d3e3edbbf2e5">   96</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#aebafc3d23a66f8787739d3e3edbbf2e5">increment_tc</a>;      </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a237f7b32f82bdc2929ca6c44b43d5894">   98</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_context.html#a237f7b32f82bdc2929ca6c44b43d5894">times_str</a>;       </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">   99</a></span>&#160;    int64_t *<a class="code" href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">times</a>;        </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a71dc8d394c314b0aa1c88e8e65cb552b">  100</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a71dc8d394c314b0aa1c88e8e65cb552b">nb_times</a>;          </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ab59610a1ed7011ddd0ccf2e2204221a8">  102</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_context.html#ab59610a1ed7011ddd0ccf2e2204221a8">frames_str</a>;      </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">  103</a></span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">frames</a>;           </div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a3c8efcc59e371efa9eb3d911ee6468dd">  104</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a3c8efcc59e371efa9eb3d911ee6468dd">nb_frames</a>;         </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a36c773850e3e46639226e35d8111014a">  105</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a36c773850e3e46639226e35d8111014a">frame_count</a>;       </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">  106</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">segment_frame_count</a>; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a155171caa18638ff5b6c98b08c0aa5b0">  108</a></span>&#160;    int64_t <a class="code" href="struct_segment_context.html#a155171caa18638ff5b6c98b08c0aa5b0">time_delta</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">  109</a></span>&#160;    <span class="keywordtype">int</span>  <a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a>; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">  110</a></span>&#160;    <span class="keywordtype">int</span>  <a class="code" href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">write_header_trailer</a>; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">  111</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">header_filename</a>;  </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a86d177cf17626eb714ad11ecc01d383f">  113</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#a86d177cf17626eb714ad11ecc01d383f">reset_timestamps</a>;  </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a9c0942f6cb5bd318d67bfcad6fabba2e">  114</a></span>&#160;    int64_t <a class="code" href="struct_segment_context.html#a9c0942f6cb5bd318d67bfcad6fabba2e">initial_offset</a>;    </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a116847915c9a75a28196e416d0a9de12">  115</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_segment_context.html#a116847915c9a75a28196e416d0a9de12">reference_stream_specifier</a>; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">  116</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_segment_context.html#ad97fe607ce348b04681a9e49da44e934">  117</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_segment_context.html#ad97fe607ce348b04681a9e49da44e934">break_non_keyframes</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a639fdb8aa2932c84fc3065d7056c3855">  118</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_segment_context.html#a639fdb8aa2932c84fc3065d7056c3855">write_empty</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="struct_segment_context.html#afd34336d3603a685568d1e63e9bf8346">  120</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment_context.html#afd34336d3603a685568d1e63e9bf8346">use_rename</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_segment_context.html#aceb01181fc0d71b34e50de0689c64853">  121</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_segment_context.html#aceb01181fc0d71b34e50de0689c64853">temp_list_filename</a>[1024];</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">  123</a></span>&#160;    <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> <a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">  124</a></span>&#160;    <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="struct_segment_context.html#a931ede9b841681ea8edeff83308aa6f6">  125</a></span>&#160;    <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *<a class="code" href="struct_segment_context.html#a931ede9b841681ea8edeff83308aa6f6">segment_list_entries_end</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="segment_8c.html#a5f989c17411f7d427efca689e350cb23">  126</a></span>&#160;} <a class="code" href="segment_8c.html#a5f989c17411f7d427efca689e350cb23">SegmentContext</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="segment_8c.html#a91e9cda05042f3756c568b85234362b0">  128</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="segment_8c.html#a91e9cda05042f3756c568b85234362b0">print_csv_escaped_str</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">int</span> needs_quoting = !!<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>[strcspn(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="stringliteral">&quot;\&quot;,\n\r&quot;</span>)];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (needs_quoting)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="charliteral">&#39;&quot;&#39;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">for</span> (; *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>; <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>++) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a> == <span class="charliteral">&#39;&quot;&#39;</span>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="charliteral">&#39;&quot;&#39;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (needs_quoting)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="charliteral">&#39;&quot;&#39;</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="segment_8c.html#aa5a4bbdda765c0bbc5acdaf3ba7b7b28">  144</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#aa5a4bbdda765c0bbc5acdaf3ba7b7b28">segment_mux_init</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avformat_8h.html#a0234fa1116af3c0a72edaa08a2ba304f">avformat_alloc_output_context2</a>(&amp;seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>, seg-&gt;<a class="code" href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">oformat</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    oc-&gt;<a class="code" href="struct_a_v_format_context.html#a5b37acfe4024d92ee510064e80920b40">interrupt_callback</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;interrupt_callback;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    oc-&gt;<a class="code" href="struct_a_v_format_context.html#a58422ed3d461b3440a15cf057ac5f5b7">max_delay</a>          = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_delay;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a3019a56080ed2e3297ff25bc2ff88adf">metadata</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, 0);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    oc-&gt;<a class="code" href="struct_a_v_format_context.html#a71797838db59ca0682dd2d18b149134e">opaque</a>             = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;opaque;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    oc-&gt;<a class="code" href="struct_a_v_format_context.html#a88077ea47abd7cd3fefe7828f778a686">io_close</a>           = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_close;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    oc-&gt;<a class="code" href="struct_a_v_format_context.html#af3f615ad9ff79fb90f4eb136a1f58065">io_open</a>            = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    oc-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a>              = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, *ist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *ipar = ist-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, *opar;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> (!(st = <a class="code" href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a>(oc, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)))</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        opar = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="codec__par_8h.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a>(opar, ipar);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span> (!oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#ac55f4c21dd75c8c48b9de5080681eed4">codec_tag</a> ||</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="group__lavf__misc.html#ga27b89fa8286af6efb5a69e8db4033b09">av_codec_get_id</a> (oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#ac55f4c21dd75c8c48b9de5080681eed4">codec_tag</a>, ipar-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>) == opar-&gt;codec_id ||</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <a class="code" href="group__lavf__misc.html#ga126917b7ce8b4f05505098b72f4997de">av_codec_get_tag</a>(oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#ac55f4c21dd75c8c48b9de5080681eed4">codec_tag</a>, ipar-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) &lt;= 0) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            opar-&gt;codec_tag = ipar-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            opar-&gt;codec_tag = 0;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a> = ist-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>           = ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>      = ist-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a>         = ist-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">if</span> (ipar-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;t&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;c&#39;</span>,<span class="charliteral">&#39;d&#39;</span>))</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            st-&gt;codec-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a> = ist-&gt;codec-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, ist-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, 0);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="segment_8c.html#ac5174134662152b7b2aae02e8c2b70da">  195</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#ac5174134662152b7b2aae02e8c2b70da">set_segment_filename</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">char</span> *new_name;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">segment_idx_wrap</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">segment_idx</a> %= seg-&gt;<a class="code" href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">segment_idx_wrap</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a220ab1cbff47f502cb710f75a4e60619">use_strftime</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        time_t now0;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keyword">struct </span>tm *tm, tmpbuf;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        time(&amp;now0);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        tm = <a class="code" href="time__internal_8h.html#a9e7c6104cccbed67c8f0fd510cd5c099">localtime_r</a>(&amp;now0, &amp;tmpbuf);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (!strftime(buf, <span class="keyword">sizeof</span>(buf), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url, tm)) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(oc, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Could not get segment filename with strftime\n&quot;</span>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__lavf__misc.html#ga90e027a5d9006148413a1387c506cd40">av_get_frame_filename</a>(buf, <span class="keyword">sizeof</span>(buf),</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                     <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url, seg-&gt;<a class="code" href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">segment_idx</a>) &lt; 0) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(oc, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid segment filename template &#39;%s&#39;\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    new_name = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(buf);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (!new_name)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#a9362e44ca30ad934a2d70e050401f313">ff_format_set_url</a>(oc, new_name);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">/* copy modified name in list entry */</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = strlen(<a class="code" href="group__lavu__string.html#ga1fe5db82a1f7639434fc01bf83919096">av_basename</a>(oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>)) + 1;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ae7414bb8ce5666309ef744b0ceac5ff9">entry_prefix</a>)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += strlen(seg-&gt;<a class="code" href="struct_segment_context.html#ae7414bb8ce5666309ef744b0ceac5ff9">entry_prefix</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a>(&amp;seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)) &lt; 0)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;%s%s&quot;</span>,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;             seg-&gt;<a class="code" href="struct_segment_context.html#ae7414bb8ce5666309ef744b0ceac5ff9">entry_prefix</a> ? seg-&gt;<a class="code" href="struct_segment_context.html#ae7414bb8ce5666309ef744b0ceac5ff9">entry_prefix</a> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;             <a class="code" href="group__lavu__string.html#ga1fe5db82a1f7639434fc01bf83919096">av_basename</a>(oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>));</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="segment_8c.html#a5576801e083ee8b7287865fe75299187">  239</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#a5576801e083ee8b7287865fe75299187">segment_start</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a>(oc);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="segment_8c.html#aa5a4bbdda765c0bbc5acdaf3ba7b7b28">segment_mux_init</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    seg-&gt;<a class="code" href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">segment_idx</a>++;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> ((seg-&gt;<a class="code" href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">segment_idx_wrap</a>) &amp;&amp; (seg-&gt;<a class="code" href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">segment_idx</a> % seg-&gt;<a class="code" href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">segment_idx_wrap</a> == 0))</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#ae4494f08aff5054bfcf830da68500df8">segment_idx_wrap_nb</a>++;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="segment_8c.html#ac5174134662152b7b2aae02e8c2b70da">set_segment_filename</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to open segment &#39;%s&#39;\n&quot;</span>, oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a>)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> = 0;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#ae030463c5c08de99f8c9e727c822ca87">priv_class</a> &amp;&amp; oc-&gt;<a class="code" href="struct_a_v_format_context.html#ac4c0777e54085af2f3f1b27130e2b21b">priv_data</a>)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a>(oc-&gt;<a class="code" href="struct_a_v_format_context.html#ac4c0777e54085af2f3f1b27130e2b21b">priv_data</a>, <span class="stringliteral">&quot;mpegts_flags&quot;</span>, <span class="stringliteral">&quot;+resend_headers&quot;</span>, 0);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a680a558f39b7a970d51a7ea5ddc69e73">format_options</a>, 0);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <span class="stringliteral">&quot;fflags&quot;</span>, <span class="stringliteral">&quot;-autobsf&quot;</span>, 0);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        err = <a class="code" href="group__lavf__encoding.html#ga18b7b10bb5b94c4842de18166bc677cb">avformat_write_header</a>(oc, &amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    seg-&gt;<a class="code" href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">segment_frame_count</a> = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="segment_8c.html#ab242ab0e03febd9f878676071e0b03cf">  284</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#ab242ab0e03febd9f878676071e0b03cf">segment_list_open</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#aceb01181fc0d71b34e50de0689c64853">temp_list_filename</a>, <span class="keyword">sizeof</span>(seg-&gt;<a class="code" href="struct_segment_context.html#aceb01181fc0d71b34e50de0689c64853">temp_list_filename</a>), seg-&gt;<a class="code" href="struct_segment_context.html#afd34336d3603a685568d1e63e9bf8346">use_rename</a> ? <span class="stringliteral">&quot;%s.tmp&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, seg-&gt;<a class="code" href="struct_segment_context.html#aceb01181fc0d71b34e50de0689c64853">temp_list_filename</a>, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to open segment list &#39;%s&#39;\n&quot;</span>, seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> == <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a> &amp;&amp; seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *entry;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordtype">double</span> max_duration = 0;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, <span class="stringliteral">&quot;#EXTM3U\n&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, <span class="stringliteral">&quot;#EXT-X-VERSION:3\n&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, <span class="stringliteral">&quot;#EXT-X-MEDIA-SEQUENCE:%d\n&quot;</span>, seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>-&gt;<a class="code" href="struct_segment_list_entry.html#a0b323e3594f34e24891b0cc36d036b32">index</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, <span class="stringliteral">&quot;#EXT-X-ALLOW-CACHE:%s\n&quot;</span>,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    seg-&gt;<a class="code" href="struct_segment_context.html#a24c357f44f58a4522a77a29e2557cfc2">list_flags</a> &amp; <a class="code" href="segment_8c.html#aa3139255e1ce9eb97dc2762708c11888">SEGMENT_LIST_FLAG_CACHE</a> ? <span class="stringliteral">&quot;YES&quot;</span> : <span class="stringliteral">&quot;NO&quot;</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;EXT-X-MEDIA-SEQUENCE:%d\n&quot;</span>,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;               seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>-&gt;<a class="code" href="struct_segment_list_entry.html#a0b323e3594f34e24891b0cc36d036b32">index</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">for</span> (entry = seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>; entry; entry = entry-&gt;<a class="code" href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">next</a>)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            max_duration = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(max_duration, entry-&gt;<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a> - entry-&gt;<a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, <span class="stringliteral">&quot;#EXT-X-TARGETDURATION:%&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, (int64_t)<a class="code" href="cuda__runtime_8h.html#a3d5b3d948300f6011eb52b4d1f4381b3">ceil</a>(max_duration));</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> == <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc">LIST_TYPE_FFCONCAT</a>) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, <span class="stringliteral">&quot;ffconcat version 1.0\n&quot;</span>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="segment_8c.html#a659d2327600ac920ab70f4a5f340608a">  319</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="segment_8c.html#a659d2327600ac920ab70f4a5f340608a">segment_list_print_entry</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a>      *list_ioctx,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                     <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376">ListType</a>          list_type,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *list_entry,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                     <span class="keywordtype">void</span> *log_ctx)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">switch</span> (list_type) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9cd3407eb07b38c27c82e55dab56aabd">LIST_TYPE_FLAT</a>:</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(list_ioctx, <span class="stringliteral">&quot;%s\n&quot;</span>, list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a8509d7f37dd4535f8a8188d59a21927c">LIST_TYPE_CSV</a>:</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a">LIST_TYPE_EXT</a>:</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="segment_8c.html#a91e9cda05042f3756c568b85234362b0">print_csv_escaped_str</a>(list_ioctx, list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(list_ioctx, <span class="stringliteral">&quot;,%f,%f\n&quot;</span>, list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a>, list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a>:</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(list_ioctx, <span class="stringliteral">&quot;#EXTINF:%f,\n%s\n&quot;</span>,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a> - list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a>, list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc">LIST_TYPE_FFCONCAT</a>:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordtype">char</span> *buf;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__string.html#ga3c5e00d3f0575f2a3858f837656c08e9">av_escape</a>(&amp;buf, list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__string.html#ggaef885958293f07153383f99db573ff5aa342d7bf60c9a7cb7a886f70f81ac5071">AV_ESCAPE_MODE_AUTO</a>, <a class="code" href="group__lavu__string.html#ga84ac09ffcff9c3c42c35db1f8477cc17">AV_ESCAPE_FLAG_WHITESPACE</a>) &lt; 0) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                   <span class="stringliteral">&quot;Error writing list entry &#39;%s&#39; in list file\n&quot;</span>, list_entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(list_ioctx, <span class="stringliteral">&quot;file %s\n&quot;</span>, buf);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!<span class="stringliteral">&quot;Invalid list type&quot;</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="segment_8c.html#a419fb6502f21c9ce1ff5afa70bcdff1f">  354</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#a419fb6502f21c9ce1ff5afa70bcdff1f">segment_end</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>, <span class="keywordtype">int</span> is_last)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="struct_a_v_timecode.html">AVTimecode</a> <a class="code" href="regdef_8h.html#a71234e05f922466327ffed37b019c7fb">tc</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> rate;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *tcr;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">char</span> buf[<a class="code" href="timecode_8h.html#a60186b13997e64a4aca71ff641634f9d">AV_TIMECODE_STR_SIZE</a>];</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (!oc || !oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="group__lavf__encoding.html#gaa85cc1774f18f306cd20a40fc50d0b36">av_write_frame</a>(oc, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="comment">/* Flush any buffered data (fragmented mp4) */</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#ga7f14007e7dc8f481f054b21614dfec13">av_write_trailer</a>(oc);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failure occurred when ending segment &#39;%s&#39;\n&quot;</span>,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;               oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#aaeb8c0ee67f51381fba51df760af543e">list_size</a> || seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> == <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a>) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *entry = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*entry));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">if</span> (!entry) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="comment">/* append new element */</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            memcpy(entry, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>, <span class="keyword">sizeof</span>(*entry));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a> = seg-&gt;<a class="code" href="struct_segment_context.html#a931ede9b841681ea8edeff83308aa6f6">segment_list_entries_end</a> = entry;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                seg-&gt;<a class="code" href="struct_segment_context.html#a931ede9b841681ea8edeff83308aa6f6">segment_list_entries_end</a>-&gt;<a class="code" href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">next</a> = entry;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#a931ede9b841681ea8edeff83308aa6f6">segment_list_entries_end</a> = entry;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="comment">/* drop first item */</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#aaeb8c0ee67f51381fba51df760af543e">list_size</a> &amp;&amp; seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a> &gt;= seg-&gt;<a class="code" href="struct_segment_context.html#aaeb8c0ee67f51381fba51df760af543e">list_size</a>) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                entry = seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a> = seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>-&gt;<a class="code" href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">next</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;entry-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;entry);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#ab242ab0e03febd9f878676071e0b03cf">segment_list_open</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">for</span> (entry = seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>; entry; entry = entry-&gt;<a class="code" href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">next</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <a class="code" href="segment_8c.html#a659d2327600ac920ab70f4a5f340608a">segment_list_print_entry</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a>, entry, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> == <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a> &amp;&amp; is_last)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, <span class="stringliteral">&quot;#EXT-X-ENDLIST\n&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#afd34336d3603a685568d1e63e9bf8346">use_rename</a>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <a class="code" href="avio_8c.html#af96f613cbf7f0d32ab56278ca75e4430">ff_rename</a>(seg-&gt;<a class="code" href="struct_segment_context.html#aceb01181fc0d71b34e50de0689c64853">temp_list_filename</a>, seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <a class="code" href="segment_8c.html#a659d2327600ac920ab70f4a5f340608a">segment_list_print_entry</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;segment:&#39;%s&#39; count:%d ended\n&quot;</span>,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;           seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a>++;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#aebafc3d23a66f8787739d3e3edbbf2e5">increment_tc</a>) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        tcr = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;timecode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (tcr) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="comment">/* search the first video stream */</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    rate = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;avg_frame_rate;<span class="comment">/* Get fps from the video stream */</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    err = <a class="code" href="timecode_8c.html#a02596c9d431329a3acc646c943b1c800">av_timecode_init_from_string</a>(&amp;<a class="code" href="regdef_8h.html#a71234e05f922466327ffed37b019c7fb">tc</a>, rate, tcr-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Could not increment global timecode, error occurred during timecode creation.\n&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    <a class="code" href="regdef_8h.html#a71234e05f922466327ffed37b019c7fb">tc</a>.start += (<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)((seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a> - seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a>) * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(rate));<span class="comment">/* increment timecode */</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;timecode&quot;</span>,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                <a class="code" href="timecode_8c.html#a8cadcdf7e38091651068f70adb94f867">av_timecode_make_string</a>(&amp;<a class="code" href="regdef_8h.html#a71234e05f922466327ffed37b019c7fb">tc</a>, buf, 0), 0);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Could not increment global timecode, no global timecode metadata found.\n&quot;</span>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordtype">char</span> st_buf[<a class="code" href="timecode_8h.html#a60186b13997e64a4aca71ff641634f9d">AV_TIMECODE_STR_SIZE</a>];</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <a class="code" href="struct_a_v_timecode.html">AVTimecode</a> st_tc;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <a class="code" href="struct_a_v_rational.html">AVRational</a> st_rate = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;avg_frame_rate;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *st_tcr = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;timecode&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="keywordflow">if</span> (st_tcr) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="timecode_8c.html#a02596c9d431329a3acc646c943b1c800">av_timecode_init_from_string</a>(&amp;st_tc, st_rate, st_tcr-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>) &lt; 0)) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Could not increment stream %d timecode, error occurred during timecode creation.\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                st_tc.<a class="code" href="struct_a_v_timecode.html#af467d05fd293b6206e635e453b1f524a">start</a> += (<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)((seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a> - seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a>) * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st_rate));    <span class="comment">// increment timecode</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;timecode&quot;</span>, <a class="code" href="timecode_8c.html#a8cadcdf7e38091651068f70adb94f867">av_timecode_make_string</a>(&amp;st_tc, st_buf, 0), 0);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(oc, &amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="segment_8c.html#a35948b5f7b50193f581f62ff3431d3a9">  466</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#a35948b5f7b50193f581f62ff3431d3a9">parse_times</a>(<span class="keywordtype">void</span> *log_ctx, int64_t **times, <span class="keywordtype">int</span> *nb_times,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span> *times_str)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">char</span> *times_str1 = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(times_str);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">char</span> *saveptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (!times_str1)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="preprocessor">#define FAIL(err) ret = err; goto end</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    *nb_times = 1;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">for</span> (p = times_str1; *p; p++)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;,&#39;</span>)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            (*nb_times)++;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    *times = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(*nb_times, <span class="keyword">sizeof</span>(**times));</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> (!*times) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate forced times array\n&quot;</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="segment_8c.html#ae79e8f63b3f2e1d400df334ad8e55c7a">FAIL</a>(<a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM));</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    p = times_str1;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; *nb_times; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        int64_t t;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordtype">char</span> *tstr = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(p, <span class="stringliteral">&quot;,&quot;</span>, &amp;saveptr);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        p = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> (!tstr || !tstr[0]) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Empty time specification in times list %s\n&quot;</span>,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                   times_str);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <a class="code" href="segment_8c.html#ae79e8f63b3f2e1d400df334ad8e55c7a">FAIL</a>(<a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL));</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a>(&amp;t, tstr, 1);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                   <span class="stringliteral">&quot;Invalid time duration specification &#39;%s&#39; in times list %s\n&quot;</span>, tstr, times_str);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <a class="code" href="segment_8c.html#ae79e8f63b3f2e1d400df334ad8e55c7a">FAIL</a>(<a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL));</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        (*times)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = t;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="comment">/* check on monotonicity */</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp;&amp; (*times)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>-1] &gt; (*times)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                   <span class="stringliteral">&quot;Specified time %f is smaller than the last time %f\n&quot;</span>,</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                   (<span class="keywordtype">float</span>)((*times)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])/1000000, (<span class="keywordtype">float</span>)((*times)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>-1])/1000000);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <a class="code" href="segment_8c.html#ae79e8f63b3f2e1d400df334ad8e55c7a">FAIL</a>(<a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL));</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(times_str1);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="segment_8c.html#afb1042dadec4f92cefc114bd77083740">  524</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#afb1042dadec4f92cefc114bd77083740">parse_frames</a>(<span class="keywordtype">void</span> *log_ctx, <span class="keywordtype">int</span> **<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a>, <span class="keywordtype">int</span> *nb_frames,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *frames_str)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    *nb_frames = 1;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">for</span> (p = frames_str; *p; p++)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;,&#39;</span>)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            (*nb_frames)++;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    *<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a> = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(*nb_frames, <span class="keyword">sizeof</span>(**<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a>));</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a>) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate forced frames array\n&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    p = frames_str;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; *nb_frames; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordtype">char</span> *tailptr;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;\0&#39;</span> || *p == <span class="charliteral">&#39;,&#39;</span>) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Empty frame specification in frame list %s\n&quot;</span>,</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                   frames_str);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = strtol(p, &amp;tailptr, 10);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">if</span> (*tailptr != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; *tailptr != <span class="charliteral">&#39;,&#39;</span> || f &lt;= 0 || f &gt;= INT_MAX) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                   <span class="stringliteral">&quot;Invalid argument &#39;%s&#39;, must be a positive integer &lt; INT_MAX\n&quot;</span>,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                   p);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">if</span> (*tailptr == <span class="charliteral">&#39;,&#39;</span>)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            tailptr++;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        p = tailptr;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        (*frames)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">/* check on monotonicity */</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp;&amp; (*<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a>)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>-1] &gt; (*<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a>)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                   <span class="stringliteral">&quot;Specified frame %d is smaller than the last frame %d\n&quot;</span>,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                   (*<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a>)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], (*<a class="code" href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a>)[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>-1]);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="segment_8c.html#abd87ae8acf86a23fa6042e619c775da6">  575</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#abd87ae8acf86a23fa6042e619c775da6">open_null_ctx</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">int</span> buf_size = 32768;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(buf_size);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (!buf)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="avio_8h.html#a853f5149136a27ffba3207d8520172a5">avio_alloc_context</a>(buf, buf_size, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="segment_8c.html#aec55677fd6dd8761da98d4e4c92db69c">  589</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="segment_8c.html#aec55677fd6dd8761da98d4e4c92db69c">close_null_ctxp</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **pb)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;(*pb)-&gt;buffer);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="avio_8h.html#ad1baf8cd6711f05a45d0339cafe2d21d">avio_context_free</a>(pb);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="segment_8c.html#a7284232754cffa37a01d06bf6232bd0b">  595</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#a7284232754cffa37a01d06bf6232bd0b">select_reference_stream</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a> = -1;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (!strcmp(seg-&gt;<a class="code" href="struct_segment_context.html#a116847915c9a75a28196e416d0a9de12">reference_stream_specifier</a>, <span class="stringliteral">&quot;auto&quot;</span>)) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="comment">/* select first index of type with highest priority */</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordtype">int</span> type_index_map[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a>];</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> type_priority_list[] = {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        };</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            type_index_map[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -1;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="comment">/* select first index for each type */</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> &lt; <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a> &amp;&amp; type_index_map[<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>] == -1</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                <span class="comment">/* ignore attached pictures/cover art streams */</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;disposition &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>))</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                type_index_map[<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>] = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(type_priority_list); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = type_priority_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">if</span> ((seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a> = type_index_map[<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>]) &gt;= 0)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__misc.html#ga7e45597834e9ef3098ddb74bc5e1550c">avformat_match_stream_specifier</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                                  seg-&gt;<a class="code" href="struct_segment_context.html#a116847915c9a75a28196e416d0a9de12">reference_stream_specifier</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt; 0) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a> &lt; 0) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Could not select stream matching identifier &#39;%s&#39;\n&quot;</span>,</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;               seg-&gt;<a class="code" href="struct_segment_context.html#a116847915c9a75a28196e416d0a9de12">reference_stream_specifier</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="segment_8c.html#ae5c31dfb8fdbb0a2eef75726d524d6d5">  652</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="segment_8c.html#ae5c31dfb8fdbb0a2eef75726d524d6d5">seg_free</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *cur;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">list_pb</a>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#aaa4b48bce04bbbc88a8449a27756e0d5">is_nullctx</a>)</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="segment_8c.html#aec55677fd6dd8761da98d4e4c92db69c">close_null_ctxp</a>(&amp;seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;seg-&gt;<a class="code" href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">times</a>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;seg-&gt;<a class="code" href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">frames</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    cur = seg-&gt;<a class="code" href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">segment_list_entries</a>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">while</span> (cur) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <a class="code" href="struct_segment_list_entry.html">SegmentListEntry</a> *next = cur-&gt;<a class="code" href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">next</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;cur-&gt;<a class="code" href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">filename</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(cur);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        cur = next;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="segment_8c.html#a6f61b6d2e566537d2daefa97b024d58a">  679</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#a6f61b6d2e566537d2daefa97b024d58a">seg_init</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;{</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a> = 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">write_header_trailer</a>)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a> = 0;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">header_filename</a>) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">write_header_trailer</a> = 1;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a> = 0;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a9c0942f6cb5bd318d67bfcad6fabba2e">initial_offset</a> &gt; 0) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;NOTE: the option initial_offset is deprecated,&quot;</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;               <span class="stringliteral">&quot;you can use output_ts_offset instead of it\n&quot;</span>);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> ((seg-&gt;<a class="code" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">time</a> != 2000000) + !!seg-&gt;<a class="code" href="struct_segment_context.html#a237f7b32f82bdc2929ca6c44b43d5894">times_str</a> + !!seg-&gt;<a class="code" href="struct_segment_context.html#ab59610a1ed7011ddd0ccf2e2204221a8">frames_str</a> &gt; 1) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;               <span class="stringliteral">&quot;segment_time, segment_times, and segment_frames options &quot;</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;               <span class="stringliteral">&quot;are mutually exclusive, select just one of them\n&quot;</span>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a237f7b32f82bdc2929ca6c44b43d5894">times_str</a>) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#a35948b5f7b50193f581f62ff3431d3a9">parse_times</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">times</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#a71dc8d394c314b0aa1c88e8e65cb552b">nb_times</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a237f7b32f82bdc2929ca6c44b43d5894">times_str</a>)) &lt; 0)</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ab59610a1ed7011ddd0ccf2e2204221a8">frames_str</a>) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#afb1042dadec4f92cefc114bd77083740">parse_frames</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">frames</a>, &amp;seg-&gt;<a class="code" href="struct_segment_context.html#a3c8efcc59e371efa9eb3d911ee6468dd">nb_frames</a>, seg-&gt;<a class="code" href="struct_segment_context.html#ab59610a1ed7011ddd0ccf2e2204221a8">frames_str</a>)) &lt; 0)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a2130903ec344e2180bcc4023d5c0c738">use_clocktime</a>) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">time</a> &lt;= 0) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid negative segment_time with segment_atclocktime option set\n&quot;</span>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#af0f51a5c2acd9b043be911148ae69cfe">clocktime_offset</a> = seg-&gt;<a class="code" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">time</a> - (seg-&gt;<a class="code" href="struct_segment_context.html#af0f51a5c2acd9b043be911148ae69cfe">clocktime_offset</a> % seg-&gt;<a class="code" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">time</a>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> == <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376af6c78d3493737f3991349715463ce9a5">LIST_TYPE_UNDEFINED</a>) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordflow">if</span>      (<a class="code" href="group__lavf__misc.html#ga8247f49e5642dd3bd20ce6ba5a7f6466">av_match_ext</a>(seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>, <span class="stringliteral">&quot;csv&quot;</span> )) seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> = <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a8509d7f37dd4535f8a8188d59a21927c">LIST_TYPE_CSV</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="keywordflow">else</span> <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="group__lavf__misc.html#ga8247f49e5642dd3bd20ce6ba5a7f6466">av_match_ext</a>(seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>, <span class="stringliteral">&quot;ext&quot;</span> )) seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> = <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a">LIST_TYPE_EXT</a>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="keywordflow">else</span> <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="group__lavf__misc.html#ga8247f49e5642dd3bd20ce6ba5a7f6466">av_match_ext</a>(seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>, <span class="stringliteral">&quot;m3u8&quot;</span>)) seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> = <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">else</span> <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="group__lavf__misc.html#ga8247f49e5642dd3bd20ce6ba5a7f6466">av_match_ext</a>(seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>, <span class="stringliteral">&quot;ffcat,ffconcat&quot;</span>)) seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> = <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc">LIST_TYPE_FFCONCAT</a>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">else</span>                                      seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> = <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9cd3407eb07b38c27c82e55dab56aabd">LIST_TYPE_FLAT</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#aaeb8c0ee67f51381fba51df760af543e">list_size</a> &amp;&amp; seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> != <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a>) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#ab242ab0e03febd9f878676071e0b03cf">segment_list_open</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <a class="code" href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a>(seg-&gt;<a class="code" href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">list</a>);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#afd34336d3603a685568d1e63e9bf8346">use_rename</a> = proto &amp;&amp; !strcmp(proto, <span class="stringliteral">&quot;file&quot;</span>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">list_type</a> == <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a">LIST_TYPE_EXT</a>)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;&#39;ext&#39; list type option is deprecated in favor of &#39;csv&#39;\n&quot;</span>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#a7284232754cffa37a01d06bf6232bd0b">select_reference_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Selected stream id:%d type:%s\n&quot;</span>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;           seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a>,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;           <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a>]-&gt;codecpar-&gt;codec_type));</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    seg-&gt;<a class="code" href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">oformat</a> = <a class="code" href="group__lavf__encoding.html#ga2020642d84f919764eed55848c9e69da">av_guess_format</a>(seg-&gt;<a class="code" href="struct_segment_context.html#ac2785268ff409937b4d37df310331f51">format</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">oformat</a>)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga7ef1e1f3183e34e731185967d416911d">AVERROR_MUXER_NOT_FOUND</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#aad55a00e728a020c1dcfaaf695320445">flags</a> &amp; <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;format %s not supported.\n&quot;</span>,</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;               seg-&gt;<a class="code" href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#aa5a4bbdda765c0bbc5acdaf3ba7b7b28">segment_mux_init</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#ac5174134662152b7b2aae02e8c2b70da">set_segment_filename</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">write_header_trailer</a>) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>,</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                              seg-&gt;<a class="code" href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">header_filename</a> ? seg-&gt;<a class="code" href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">header_filename</a> : oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>,</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                              <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to open segment &#39;%s&#39;\n&quot;</span>, oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a>)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> = 0;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#abd87ae8acf86a23fa6042e619c775da6">open_null_ctx</a>(&amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)) &lt; 0)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aaa4b48bce04bbbc88a8449a27756e0d5">is_nullctx</a> = 1;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a680a558f39b7a970d51a7ea5ddc69e73">format_options</a>, 0);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <span class="stringliteral">&quot;fflags&quot;</span>, <span class="stringliteral">&quot;-autobsf&quot;</span>, 0);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#ga169cfa28508e22e138c5b99be8517ea4">avformat_init_output</a>(oc, &amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__dict.html#gad21456d6601aa096c7c78dce8848d50a">av_dict_count</a>(<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>)) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;               <span class="stringliteral">&quot;Some of the provided format options are not recognized\n&quot;</span>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    seg-&gt;<a class="code" href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">segment_frame_count</a> = 0;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams == oc-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="group__lavf__encoding.html#ga5396ff79e3c1ec7220765499f2efc74d">AVSTREAM_INIT_IN_WRITE_HEADER</a>) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#ga18b7b10bb5b94c4842de18166bc677cb">avformat_write_header</a>(oc, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a2e44562785212115240f06bab3f819a4">header_written</a> = 1;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *inner_st  = oc-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *outer_st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(outer_st, inner_st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>, inner_st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, inner_st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (oc-&gt;<a class="code" href="struct_a_v_format_context.html#a032c7d859883eddc9d87a9e3b2cc3853">avoid_negative_ts</a> &gt; 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avoid_negative_ts &lt; 0)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avoid_negative_ts = 1;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;}</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="segment_8c.html#aa3ace32a21efdfe65295a9235461fc1d">  818</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#aa3ace32a21efdfe65295a9235461fc1d">seg_write_header</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a2e44562785212115240f06bab3f819a4">header_written</a>) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#ga18b7b10bb5b94c4842de18166bc677cb">avformat_write_header</a>(oc, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">write_header_trailer</a> || seg-&gt;<a class="code" href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">header_filename</a>) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">header_filename</a>) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <a class="code" href="group__lavf__encoding.html#gaa85cc1774f18f306cd20a40fc50d0b36">av_write_frame</a>(oc, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(oc, &amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <a class="code" href="segment_8c.html#aec55677fd6dd8761da98d4e4c92db69c">close_null_ctxp</a>(&amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#aaa4b48bce04bbbc88a8449a27756e0d5">is_nullctx</a> = 0;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = oc-&gt;<a class="code" href="struct_a_v_format_context.html#af3f615ad9ff79fb90f4eb136a1f58065">io_open</a>(oc, &amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, oc-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a>)</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> = 0;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="segment_8c.html#a981437674f5572483abe3391ce65a7fa">  847</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#a981437674f5572483abe3391ce65a7fa">seg_write_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;{</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    int64_t end_pts = INT64_MAX, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordtype">int</span> start_frame = INT_MAX;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keyword">struct </span>tm ti;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    int64_t usecs;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    int64_t wrapped_val;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a> || !seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordtype">int</span> pkt_extradata_size;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pkt_extradata = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a>, &amp;pkt_extradata_size);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">if</span> (pkt_extradata &amp;&amp; pkt_extradata_size &gt; 0) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, pkt_extradata_size);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to add extradata to stream. Output segments may be invalid.\n&quot;</span>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="keywordflow">goto</span> calc_times;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            memcpy(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, pkt_extradata, pkt_extradata_size);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;calc_times:</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">times</a>) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        end_pts = seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a> &lt; seg-&gt;<a class="code" href="struct_segment_context.html#a71dc8d394c314b0aa1c88e8e65cb552b">nb_times</a> ?</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">times</a>[seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a>] : INT64_MAX;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">frames</a>) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        start_frame = seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a> &lt; seg-&gt;<a class="code" href="struct_segment_context.html#a3c8efcc59e371efa9eb3d911ee6468dd">nb_frames</a> ?</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">frames</a>[seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a>] : INT_MAX;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a2130903ec344e2180bcc4023d5c0c738">use_clocktime</a>) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            int64_t avgt = <a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            time_t sec = avgt / 1000000;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            <a class="code" href="time__internal_8h.html#a9e7c6104cccbed67c8f0fd510cd5c099">localtime_r</a>(&amp;sec, &amp;ti);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            usecs = (int64_t)(ti.tm_hour * 3600 + ti.tm_min * 60 + ti.tm_sec) * 1000000 + (avgt % 1000000);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            wrapped_val = (usecs + seg-&gt;<a class="code" href="struct_segment_context.html#af0f51a5c2acd9b043be911148ae69cfe">clocktime_offset</a>) % seg-&gt;<a class="code" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">time</a>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (wrapped_val &lt; seg-&gt;last_val &amp;&amp; wrapped_val &lt; seg-&gt;clocktime_wrap_duration)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                seg-&gt;<a class="code" href="struct_segment_context.html#a8ce9389d22e1dbc0ac1a2399b4782351">cut_pending</a> = 1;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#a71f70788ed584009f90dac6455a0135a">last_val</a> = wrapped_val;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            end_pts = seg-&gt;<a class="code" href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">time</a> * (seg-&gt;<a class="code" href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">segment_count</a> + 1);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;packet stream:%d pts:%s pts_time:%s duration_time:%s is_key:%d frame:%d\n&quot;</span>,</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>), <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>),</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>),</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>,</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a> ? seg-&gt;<a class="code" href="struct_segment_context.html#a36c773850e3e46639226e35d8111014a">frame_count</a> : -1);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a> &amp;&amp;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a> || seg-&gt;<a class="code" href="struct_segment_context.html#ad97fe607ce348b04681a9e49da44e934">break_non_keyframes</a>) &amp;&amp;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        (seg-&gt;<a class="code" href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">segment_frame_count</a> &gt; 0 || seg-&gt;<a class="code" href="struct_segment_context.html#a639fdb8aa2932c84fc3065d7056c3855">write_empty</a>) &amp;&amp;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        (seg-&gt;<a class="code" href="struct_segment_context.html#a8ce9389d22e1dbc0ac1a2399b4782351">cut_pending</a> || seg-&gt;<a class="code" href="struct_segment_context.html#a36c773850e3e46639226e35d8111014a">frame_count</a> &gt;= start_frame ||</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;         (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;          <a class="code" href="group__lavu__math.html#ga151744358fff630942b926e67e67c415">av_compare_ts</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        end_pts - seg-&gt;<a class="code" href="struct_segment_context.html#a155171caa18638ff5b6c98b08c0aa5b0">time_delta</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>) &gt;= 0))) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="comment">/* sanitize end time in case last packet didn&#39;t have a defined duration */</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#a2819b14c0490db417a0464b2ef4f4462">last_duration</a> == 0)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a> = (double)<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#a419fb6502f21c9ce1ff5afa70bcdff1f">segment_end</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#a5576801e083ee8b7287865fe75299187">segment_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, seg-&gt;<a class="code" href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">individual_header_trailer</a>)) &lt; 0)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a8ce9389d22e1dbc0ac1a2399b4782351">cut_pending</a> = 0;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#a0b323e3594f34e24891b0cc36d036b32">index</a> = seg-&gt;<a class="code" href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">segment_idx</a> + seg-&gt;<a class="code" href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">segment_idx_wrap</a> * seg-&gt;<a class="code" href="struct_segment_context.html#ae4494f08aff5054bfcf830da68500df8">segment_idx_wrap_nb</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a> = (double)<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#a191b541df2c40189ea9ee5f001669d7a">start_pts</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a> = seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">start_time</a>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">times</a> || (!seg-&gt;<a class="code" href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">frames</a> &amp;&amp; !seg-&gt;<a class="code" href="struct_segment_context.html#a2130903ec344e2180bcc4023d5c0c738">use_clocktime</a>) &amp;&amp; seg-&gt;<a class="code" href="struct_segment_context.html#a639fdb8aa2932c84fc3065d7056c3855">write_empty</a>)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordflow">goto</span> calc_times;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a>) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a> =</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">end_time</a>, (<span class="keywordtype">double</span>)(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>) * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>));</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#a2819b14c0490db417a0464b2ef4f4462">last_duration</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">segment_frame_count</a> == 0) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;segment:&#39;%s&#39; starts with packet stream:%d pts:%s pts_time:%s frame:%d\n&quot;</span>,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;               seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>,</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;               <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>), <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>), seg-&gt;<a class="code" href="struct_segment_context.html#a36c773850e3e46639226e35d8111014a">frame_count</a>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;stream:%d start_pts_time:%s pts:%s pts_time:%s dts:%s dts_time:%s&quot;</span>,</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;           <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>,</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;           <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#a191b541df2c40189ea9ee5f001669d7a">start_pts</a>, &amp;<a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>),</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;           <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>), <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>),</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;           <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>), <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>));</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="comment">/* compute new timestamps */</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a9c0942f6cb5bd318d67bfcad6fabba2e">initial_offset</a> - (seg-&gt;<a class="code" href="struct_segment_context.html#a86d177cf17626eb714ad11ecc01d383f">reset_timestamps</a> ? seg-&gt;<a class="code" href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">cur_entry</a>.<a class="code" href="struct_segment_list_entry.html#a191b541df2c40189ea9ee5f001669d7a">start_pts</a> : 0),</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                          <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> += <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> += <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot; -&gt; pts:%s pts_time:%s dts:%s dts_time:%s\n&quot;</span>,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;           <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>), <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>),</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;           <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>), <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>));</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#a5e5b06d6dc78cbe6112e42f8069b12b5">ff_write_chained</a>(seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>,</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                           seg-&gt;<a class="code" href="struct_segment_context.html#a9c0942f6cb5bd318d67bfcad6fabba2e">initial_offset</a> || seg-&gt;<a class="code" href="struct_segment_context.html#a86d177cf17626eb714ad11ecc01d383f">reset_timestamps</a> || seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#ab26b14e9f3c16220e8e8ce34b3a3fddc">interleave_packet</a>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == seg-&gt;<a class="code" href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">reference_stream_index</a>) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a36c773850e3e46639226e35d8111014a">frame_count</a>++;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">segment_frame_count</a>++;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="segment_8c.html#af79cfb9b60725f194981d0ba47729ded">  972</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#af79cfb9b60725f194981d0ba47729ded">seg_write_trailer</a>(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;{</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">if</span> (!oc)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (!seg-&gt;<a class="code" href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">write_header_trailer</a>) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#a419fb6502f21c9ce1ff5afa70bcdff1f">segment_end</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 1)) &lt; 0)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#abd87ae8acf86a23fa6042e619c775da6">open_null_ctx</a>(&amp;oc-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)) &lt; 0)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        seg-&gt;<a class="code" href="struct_segment_context.html#aaa4b48bce04bbbc88a8449a27756e0d5">is_nullctx</a> = 1;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#ga7f14007e7dc8f481f054b21614dfec13">av_write_trailer</a>(oc);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="segment_8c.html#a419fb6502f21c9ce1ff5afa70bcdff1f">segment_end</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1, 1);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="segment_8c.html#a0c5e8e7b4d30ba847ca1aa9351263828">  994</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="segment_8c.html#a0c5e8e7b4d30ba847ca1aa9351263828">seg_check_bitstream</a>(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;{</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <a class="code" href="struct_segment_context.html">SegmentContext</a> *seg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = seg-&gt;<a class="code" href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">avf</a>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#a1260d6304f56b67bcc8fa2fb77a7d92f">check_bitstream</a>) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#a1260d6304f56b67bcc8fa2fb77a7d92f">check_bitstream</a>(oc, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == 1) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a> = oc-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a> = <a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 1011</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(SegmentContext, x)</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d"> 1012</a></span>&#160;<span class="preprocessor">#define E AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6"> 1013</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    { <span class="stringliteral">&quot;reference_stream&quot;</span>,  <span class="stringliteral">&quot;set reference stream&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reference_stream_specifier), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <span class="stringliteral">&quot;auto&quot;</span>}, 0, 0, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    { <span class="stringliteral">&quot;segment_format&quot;</span>,    <span class="stringliteral">&quot;set container format used for the segments&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>),  <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},  0, 0,       <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    { <span class="stringliteral">&quot;segment_format_options&quot;</span>, <span class="stringliteral">&quot;set list of options for the container format used for the segments&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(format_options), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd">AV_OPT_TYPE_DICT</a>, {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}, 0, 0, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    { <span class="stringliteral">&quot;segment_list&quot;</span>,      <span class="stringliteral">&quot;set the segment list filename&quot;</span>,              <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>),    <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},  0, 0,       <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    { <span class="stringliteral">&quot;segment_header_filename&quot;</span>, <span class="stringliteral">&quot;write a single file containing the header&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(header_filename), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}, 0, 0, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    { <span class="stringliteral">&quot;segment_list_flags&quot;</span>,<span class="stringliteral">&quot;set flags affecting segment list generation&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(list_flags), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e">AV_OPT_TYPE_FLAGS</a>, {.i64 = <a class="code" href="segment_8c.html#aa3139255e1ce9eb97dc2762708c11888">SEGMENT_LIST_FLAG_CACHE</a> }, 0, UINT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_flags&quot;</span>},</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    { <span class="stringliteral">&quot;cache&quot;</span>,             <span class="stringliteral">&quot;allow list caching&quot;</span>,                                    0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="segment_8c.html#aa3139255e1ce9eb97dc2762708c11888">SEGMENT_LIST_FLAG_CACHE</a> }, INT_MIN, INT_MAX,   <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_flags&quot;</span>},</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    { <span class="stringliteral">&quot;live&quot;</span>,              <span class="stringliteral">&quot;enable live-friendly list generation (useful for HLS)&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="segment_8c.html#a142f5c6d906697f92271f6a02a6407a2">SEGMENT_LIST_FLAG_LIVE</a> }, INT_MIN, INT_MAX,    <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_flags&quot;</span>},</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    { <span class="stringliteral">&quot;segment_list_size&quot;</span>, <span class="stringliteral">&quot;set the maximum number of playlist entries&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(list_size), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,  {.i64 = 0},     0, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    { <span class="stringliteral">&quot;segment_list_type&quot;</span>, <span class="stringliteral">&quot;set the segment list type&quot;</span>,                  <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(list_type), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,  {.i64 = <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376af6c78d3493737f3991349715463ce9a5">LIST_TYPE_UNDEFINED</a>}, -1, <a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9ab0469e309a0b626e8f3ea2298b476a">LIST_TYPE_NB</a>-1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_type&quot;</span> },</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    { <span class="stringliteral">&quot;flat&quot;</span>, <span class="stringliteral">&quot;flat format&quot;</span>,     0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64=<a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9cd3407eb07b38c27c82e55dab56aabd">LIST_TYPE_FLAT</a> }, INT_MIN, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_type&quot;</span> },</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    { <span class="stringliteral">&quot;csv&quot;</span>,  <span class="stringliteral">&quot;csv format&quot;</span>,      0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64=<a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a8509d7f37dd4535f8a8188d59a21927c">LIST_TYPE_CSV</a>  }, INT_MIN, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_type&quot;</span> },</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    { <span class="stringliteral">&quot;ext&quot;</span>,  <span class="stringliteral">&quot;extended format&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64=<a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a">LIST_TYPE_EXT</a>  }, INT_MIN, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_type&quot;</span> },</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    { <span class="stringliteral">&quot;ffconcat&quot;</span>, <span class="stringliteral">&quot;ffconcat format&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64=<a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc">LIST_TYPE_FFCONCAT</a> }, INT_MIN, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_type&quot;</span> },</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    { <span class="stringliteral">&quot;m3u8&quot;</span>, <span class="stringliteral">&quot;M3U8 format&quot;</span>,     0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64=<a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a> }, INT_MIN, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_type&quot;</span> },</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    { <span class="stringliteral">&quot;hls&quot;</span>, <span class="stringliteral">&quot;Apple HTTP Live Streaming compatible&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64=<a class="code" href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a> }, INT_MIN, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;list_type&quot;</span> },</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    { <span class="stringliteral">&quot;segment_atclocktime&quot;</span>,      <span class="stringliteral">&quot;set segment to be cut at clocktime&quot;</span>,  <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(use_clocktime), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0}, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    { <span class="stringliteral">&quot;segment_clocktime_offset&quot;</span>, <span class="stringliteral">&quot;set segment clocktime offset&quot;</span>,        <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(clocktime_offset), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, {.i64 = 0}, 0, 86400000000LL, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    { <span class="stringliteral">&quot;segment_clocktime_wrap_duration&quot;</span>, <span class="stringliteral">&quot;set segment clocktime wrapping duration&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(clocktime_wrap_duration), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, {.i64 = INT64_MAX}, 0, INT64_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    { <span class="stringliteral">&quot;segment_time&quot;</span>,      <span class="stringliteral">&quot;set segment duration&quot;</span>,                       <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(time),<a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, {.i64 = 2000000}, INT64_MIN, INT64_MAX,       <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    { <span class="stringliteral">&quot;segment_time_delta&quot;</span>,<span class="stringliteral">&quot;set approximation value used for the segment times&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(time_delta), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, {.i64 = 0}, 0, INT64_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    { <span class="stringliteral">&quot;segment_times&quot;</span>,     <span class="stringliteral">&quot;set segment split time points&quot;</span>,              <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(times_str),<a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>,{.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},  0, 0,       <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    { <span class="stringliteral">&quot;segment_frames&quot;</span>,    <span class="stringliteral">&quot;set segment split frame numbers&quot;</span>,            <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(frames_str),<a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>,{.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},  0, 0,       <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    { <span class="stringliteral">&quot;segment_wrap&quot;</span>,      <span class="stringliteral">&quot;set number after which the index wraps&quot;</span>,     <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(segment_idx_wrap), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 0}, 0, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    { <span class="stringliteral">&quot;segment_list_entry_prefix&quot;</span>, <span class="stringliteral">&quot;set base url prefix for segments&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(entry_prefix), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>,  {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}, 0, 0, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    { <span class="stringliteral">&quot;segment_start_number&quot;</span>, <span class="stringliteral">&quot;set the sequence number of the first segment&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(segment_idx), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 0}, 0, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    { <span class="stringliteral">&quot;segment_wrap_number&quot;</span>, <span class="stringliteral">&quot;set the number of wrap before the first segment&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(segment_idx_wrap_nb), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 0}, 0, INT_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    { <span class="stringliteral">&quot;strftime&quot;</span>,          <span class="stringliteral">&quot;set filename expansion with strftime at segment creation&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(use_strftime), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0 }, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    { <span class="stringliteral">&quot;increment_tc&quot;</span>, <span class="stringliteral">&quot;increment timecode between each segment&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(increment_tc), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0 }, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    { <span class="stringliteral">&quot;break_non_keyframes&quot;</span>, <span class="stringliteral">&quot;allow breaking segments on non-keyframes&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(break_non_keyframes), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0}, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    { <span class="stringliteral">&quot;individual_header_trailer&quot;</span>, <span class="stringliteral">&quot;write header/trailer to each segment&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(individual_header_trailer), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 1}, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    { <span class="stringliteral">&quot;write_header_trailer&quot;</span>, <span class="stringliteral">&quot;write a header to the first segment and a trailer to the last one&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(write_header_trailer), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 1}, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    { <span class="stringliteral">&quot;reset_timestamps&quot;</span>, <span class="stringliteral">&quot;reset timestamps at the beginning of each segment&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reset_timestamps), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0}, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    { <span class="stringliteral">&quot;initial_offset&quot;</span>, <span class="stringliteral">&quot;set initial timestamp offset&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(initial_offset), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, {.i64 = 0}, -INT64_MAX, INT64_MAX, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    { <span class="stringliteral">&quot;write_empty_segments&quot;</span>, <span class="stringliteral">&quot;allow writing empty &#39;filler&#39; segments&quot;</span>, <a class="code" href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(write_empty), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0}, 0, 1, <a class="code" href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;};</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="preprocessor">#if CONFIG_SEGMENT_MUXER</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> seg_class = {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;segment muxer&quot;</span>,</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    .option     = <a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;};</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> <a class="code" href="allformats_8c.html#a0dd96947e068aacde334648634586d20">ff_segment_muxer</a> = {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    .<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>           = <span class="stringliteral">&quot;segment&quot;</span>,</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;segment&quot;</span>),</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="segment_8c.html#a5f989c17411f7d427efca689e350cb23">SegmentContext</a>),</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>          = <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>|<a class="code" href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a>,</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="segment_8c.html#a6f61b6d2e566537d2daefa97b024d58a">seg_init</a>,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    .<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>   = <a class="code" href="segment_8c.html#aa3ace32a21efdfe65295a9235461fc1d">seg_write_header</a>,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a>   = <a class="code" href="segment_8c.html#a981437674f5572483abe3391ce65a7fa">seg_write_packet</a>,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    .<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>  = <a class="code" href="segment_8c.html#af79cfb9b60725f194981d0ba47729ded">seg_write_trailer</a>,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    .deinit         = <a class="code" href="segment_8c.html#ae5c31dfb8fdbb0a2eef75726d524d6d5">seg_free</a>,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    .<a class="code" href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a> = <a class="code" href="segment_8c.html#a0c5e8e7b4d30ba847ca1aa9351263828">seg_check_bitstream</a>,</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    .priv_class     = &amp;seg_class,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;};</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="preprocessor">#if CONFIG_STREAM_SEGMENT_MUXER</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> sseg_class = {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;stream_segment muxer&quot;</span>,</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    .option     = <a class="code" href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;};</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> <a class="code" href="allformats_8c.html#a7f10dc15ef9a808e0602b4ace3fb80ea">ff_stream_segment_muxer</a> = {</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    .<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>           = <span class="stringliteral">&quot;stream_segment,ssegment&quot;</span>,</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;streaming segment muxer&quot;</span>),</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="segment_8c.html#a5f989c17411f7d427efca689e350cb23">SegmentContext</a>),</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>          = <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>,</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="segment_8c.html#a6f61b6d2e566537d2daefa97b024d58a">seg_init</a>,</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    .<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>   = <a class="code" href="segment_8c.html#aa3ace32a21efdfe65295a9235461fc1d">seg_write_header</a>,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a>   = <a class="code" href="segment_8c.html#a981437674f5572483abe3391ce65a7fa">seg_write_packet</a>,</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    .<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>  = <a class="code" href="segment_8c.html#af79cfb9b60725f194981d0ba47729ded">seg_write_trailer</a>,</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    .deinit         = <a class="code" href="segment_8c.html#ae5c31dfb8fdbb0a2eef75726d524d6d5">seg_free</a>,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    .<a class="code" href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a> = <a class="code" href="segment_8c.html#a0c5e8e7b4d30ba847ca1aa9351263828">seg_check_bitstream</a>,</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    .priv_class     = &amp;sseg_class,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;};</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="asegment_8c_html_a142f5c6d906697f92271f6a02a6407a2"><div class="ttname"><a href="segment_8c.html#a142f5c6d906697f92271f6a02a6407a2">SEGMENT_LIST_FLAG_LIVE</a></div><div class="ttdeci">#define SEGMENT_LIST_FLAG_LIVE</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00067">segment.c:67</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a86d177cf17626eb714ad11ecc01d383f"><div class="ttname"><a href="struct_segment_context.html#a86d177cf17626eb714ad11ecc01d383f">SegmentContext::reset_timestamps</a></div><div class="ttdeci">int reset_timestamps</div><div class="ttdoc">reset timestamps at the beginning of each segment</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00113">segment.c:113</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a8ce9389d22e1dbc0ac1a2399b4782351"><div class="ttname"><a href="struct_segment_context.html#a8ce9389d22e1dbc0ac1a2399b4782351">SegmentContext::cut_pending</a></div><div class="ttdeci">int cut_pending</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00088">segment.c:88</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div><div class="ttdeci">@ AVMEDIA_TYPE_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00204">avutil.h:204</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga27b89fa8286af6efb5a69e8db4033b09"><div class="ttname"><a href="group__lavf__misc.html#ga27b89fa8286af6efb5a69e8db4033b09">av_codec_get_id</a></div><div class="ttdeci">enum AVCodecID av_codec_get_id(const struct AVCodecTag *const *tags, unsigned int tag)</div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376af6c78d3493737f3991349715463ce9a5"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376af6c78d3493737f3991349715463ce9a5">LIST_TYPE_UNDEFINED</a></div><div class="ttdeci">@ LIST_TYPE_UNDEFINED</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00057">segment.c:57</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a032c7d859883eddc9d87a9e3b2cc3853"><div class="ttname"><a href="struct_a_v_format_context.html#a032c7d859883eddc9d87a9e3b2cc3853">AVFormatContext::avoid_negative_ts</a></div><div class="ttdeci">int avoid_negative_ts</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01566">avformat.h:1566</a></div></div>
<div class="ttc" id="atimecode_8h_html_a60186b13997e64a4aca71ff641634f9d"><div class="ttname"><a href="timecode_8h.html#a60186b13997e64a4aca71ff641634f9d">AV_TIMECODE_STR_SIZE</a></div><div class="ttdeci">#define AV_TIMECODE_STR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="timecode_8h_source.html#l00033">timecode.h:33</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga5396ff79e3c1ec7220765499f2efc74d"><div class="ttname"><a href="group__lavf__encoding.html#ga5396ff79e3c1ec7220765499f2efc74d">AVSTREAM_INIT_IN_WRITE_HEADER</a></div><div class="ttdeci">#define AVSTREAM_INIT_IN_WRITE_HEADER</div><div class="ttdoc">stream parameters initialized in avformat_write_header</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02401">avformat.h:2401</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gadcb0fd3e507d9b58fe78f61f8ad39827"><div class="ttname"><a href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a></div><div class="ttdeci">AVStream * avformat_new_stream(AVFormatContext *s, const AVCodec *c)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04453">utils.c:4453</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ab0e713f2d8631054c14d0a69ed6bae48"><div class="ttname"><a href="struct_segment_context.html#ab0e713f2d8631054c14d0a69ed6bae48">SegmentContext::oformat</a></div><div class="ttdeci">ff_const59 AVOutputFormat * oformat</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00075">segment.c:75</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga151744358fff630942b926e67e67c415"><div class="ttname"><a href="group__lavu__math.html#ga151744358fff630942b926e67e67c415">av_compare_ts</a></div><div class="ttdeci">int av_compare_ts(int64_t ts_a, AVRational tb_a, int64_t ts_b, AVRational tb_b)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00147">mathematics.c:147</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ab26b14e9f3c16220e8e8ce34b3a3fddc"><div class="ttname"><a href="struct_a_v_output_format.html#ab26b14e9f3c16220e8e8ce34b3a3fddc">AVOutputFormat::interleave_packet</a></div><div class="ttdeci">int(* interleave_packet)(struct AVFormatContext *, AVPacket *out, AVPacket *in, int flush)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00559">avformat.h:559</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a5e8f53db7f0639bbcb010167a6732b88"><div class="ttname"><a href="struct_segment_context.html#a5e8f53db7f0639bbcb010167a6732b88">SegmentContext::clocktime_wrap_duration</a></div><div class="ttdeci">int64_t clocktime_wrap_duration</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00086">segment.c:86</a></div></div>
<div class="ttc" id="asegment_8c_html_a5f989c17411f7d427efca689e350cb23"><div class="ttname"><a href="segment_8c.html#a5f989c17411f7d427efca689e350cb23">SegmentContext</a></div><div class="ttdeci">struct SegmentContext SegmentContext</div></div>
<div class="ttc" id="asegment_8c_html_a5576801e083ee8b7287865fe75299187"><div class="ttname"><a href="segment_8c.html#a5576801e083ee8b7287865fe75299187">segment_start</a></div><div class="ttdeci">static int segment_start(AVFormatContext *s, int write_header)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00239">segment.c:239</a></div></div>
<div class="ttc" id="astruct_segment_context_html_aa4cce49ec2ae558d2977ed7180469920"><div class="ttname"><a href="struct_segment_context.html#aa4cce49ec2ae558d2977ed7180469920">SegmentContext::segment_idx</a></div><div class="ttdeci">int segment_idx</div><div class="ttdoc">index of the segment file to write, starting from 0</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00071">segment.c:71</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="amem_8c_html_a254f3455439c15a2c8a75b8f0235fdbd"><div class="ttname"><a href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a></div><div class="ttdeci">void * av_malloc_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00182">mem.c:182</a></div></div>
<div class="ttc" id="aavformat_8h_html_ab54a3e54e88a8f7d7760e60b49944e44"><div class="ttname"><a href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a></div><div class="ttdeci">#define AV_DISPOSITION_ATTACHED_PIC</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00837">avformat.h:837</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gad21456d6601aa096c7c78dce8848d50a"><div class="ttname"><a href="group__lavu__dict.html#gad21456d6601aa096c7c78dce8848d50a">av_dict_count</a></div><div class="ttdeci">int av_dict_count(const AVDictionary *m)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00035">dict.c:35</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376a8509d7f37dd4535f8a8188d59a21927c"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a8509d7f37dd4535f8a8188d59a21927c">LIST_TYPE_CSV</a></div><div class="ttdeci">@ LIST_TYPE_CSV</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00059">segment.c:59</a></div></div>
<div class="ttc" id="aavio_8h_html_ad1baf8cd6711f05a45d0339cafe2d21d"><div class="ttname"><a href="avio_8h.html#ad1baf8cd6711f05a45d0339cafe2d21d">avio_context_free</a></div><div class="ttdeci">void avio_context_free(AVIOContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00155">aviobuf.c:155</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a71797838db59ca0682dd2d18b149134e"><div class="ttname"><a href="struct_a_v_format_context.html#a71797838db59ca0682dd2d18b149134e">AVFormatContext::opaque</a></div><div class="ttdeci">void * opaque</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01741">avformat.h:1741</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gafd07a13a4ddaa6015275cad6022d9ee3"><div class="ttname"><a href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a></div><div class="ttdeci">#define AV_TIME_BASE_Q</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00260">avutil.h:260</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html"><div class="ttname"><a href="struct_a_v_i_o_context.html">AVIOContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00161">avio.h:161</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="astruct_segment_context_html_aaeb8c0ee67f51381fba51df760af543e"><div class="ttname"><a href="struct_segment_context.html#aaeb8c0ee67f51381fba51df760af543e">SegmentContext::list_size</a></div><div class="ttdeci">int list_size</div><div class="ttdoc">number of entries for the segment list file</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00081">segment.c:81</a></div></div>
<div class="ttc" id="asegment_8c_html_aa5a4bbdda765c0bbc5acdaf3ba7b7b28"><div class="ttname"><a href="segment_8c.html#aa5a4bbdda765c0bbc5acdaf3ba7b7b28">segment_mux_init</a></div><div class="ttdeci">static int segment_mux_init(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00144">segment.c:144</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_ae823b6dfcaed9d1c2b2d4050fe30ffa8"><div class="ttname"><a href="struct_segment_list_entry.html#ae823b6dfcaed9d1c2b2d4050fe30ffa8">SegmentListEntry::end_time</a></div><div class="ttdeci">double end_time</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00048">segment.c:48</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_a2819b14c0490db417a0464b2ef4f4462"><div class="ttname"><a href="struct_segment_list_entry.html#a2819b14c0490db417a0464b2ef4f4462">SegmentListEntry::last_duration</a></div><div class="ttdeci">int64_t last_duration</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00053">segment.c:53</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a994b4413dc4e9a12239d58727e512ab4"><div class="ttname"><a href="struct_segment_context.html#a994b4413dc4e9a12239d58727e512ab4">SegmentContext::segment_count</a></div><div class="ttdeci">int segment_count</div><div class="ttdoc">number of segment files already written</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00074">segment.c:74</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a></div><div class="ttdeci">@ AV_OPT_TYPE_DURATION</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00239">opt.h:239</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="afloat_8h_html"><div class="ttname"><a href="float_8h.html">float.h</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_aea05abdb8e45405048d7923a68c23ef5"><div class="ttname"><a href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">AVStream::disposition</a></div><div class="ttdeci">int disposition</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00922">avformat.h:922</a></div></div>
<div class="ttc" id="amathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="asegment_8c_html_ae79e8f63b3f2e1d400df334ad8e55c7a"><div class="ttname"><a href="segment_8c.html#ae79e8f63b3f2e1d400df334ad8e55c7a">FAIL</a></div><div class="ttdeci">#define FAIL(err)</div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga169cfa28508e22e138c5b99be8517ea4"><div class="ttname"><a href="group__lavf__encoding.html#ga169cfa28508e22e138c5b99be8517ea4">avformat_init_output</a></div><div class="ttdeci">av_warn_unused_result int avformat_init_output(AVFormatContext *s, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l00485">mux.c:485</a></div></div>
<div class="ttc" id="asegment_8c_html_a0c5e8e7b4d30ba847ca1aa9351263828"><div class="ttname"><a href="segment_8c.html#a0c5e8e7b4d30ba847ca1aa9351263828">seg_check_bitstream</a></div><div class="ttdeci">static int seg_check_bitstream(struct AVFormatContext *s, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00994">segment.c:994</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga90e027a5d9006148413a1387c506cd40"><div class="ttname"><a href="group__lavf__misc.html#ga90e027a5d9006148413a1387c506cd40">av_get_frame_filename</a></div><div class="ttdeci">int av_get_frame_filename(char *buf, int buf_size, const char *path, int number)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04720">utils.c:4720</a></div></div>
<div class="ttc" id="avaapi__transcode_8c_html_a3e44252189bdae5212c5d1171bcd7cf4"><div class="ttname"><a href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a></div><div class="ttdeci">static AVStream * ost</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__transcode_8c_source.html#l00045">vaapi_transcode.c:45</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga1fe5db82a1f7639434fc01bf83919096"><div class="ttname"><a href="group__lavu__string.html#ga1fe5db82a1f7639434fc01bf83919096">av_basename</a></div><div class="ttdeci">const char * av_basename(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00260">avstring.c:260</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9befe0b86412646017afb0051d144d13"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">AVCodecParameters::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00074">codec_par.h:74</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ab59610a1ed7011ddd0ccf2e2204221a8"><div class="ttname"><a href="struct_segment_context.html#ab59610a1ed7011ddd0ccf2e2204221a8">SegmentContext::frames_str</a></div><div class="ttdeci">char * frames_str</div><div class="ttdoc">segment frame numbers specification string</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00102">segment.c:102</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="aavformat_8h_html_aa5496b84535113646e96c8cf3b624aaf"><div class="ttname"><a href="avformat_8h.html#aa5496b84535113646e96c8cf3b624aaf">ff_const59</a></div><div class="ttdeci">#define ff_const59</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00535">avformat.h:535</a></div></div>
<div class="ttc" id="asegment_8c_html_a419fb6502f21c9ce1ff5afa70bcdff1f"><div class="ttname"><a href="segment_8c.html#a419fb6502f21c9ce1ff5afa70bcdff1f">segment_end</a></div><div class="ttdeci">static int segment_end(AVFormatContext *s, int write_trailer, int is_last)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00354">segment.c:354</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga2020642d84f919764eed55848c9e69da"><div class="ttname"><a href="group__lavf__encoding.html#ga2020642d84f919764eed55848c9e69da">av_guess_format</a></div><div class="ttdeci">ff_const59 AVOutputFormat * av_guess_format(const char *short_name, const char *filename, const char *mime_type)</div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00051">format.c:51</a></div></div>
<div class="ttc" id="aallformats_8c_html_a7f10dc15ef9a808e0602b4ace3fb80ea"><div class="ttname"><a href="allformats_8c.html#a7f10dc15ef9a808e0602b4ace3fb80ea">ff_stream_segment_muxer</a></div><div class="ttdeci">AVOutputFormat ff_stream_segment_muxer</div></div>
<div class="ttc" id="asegment_8c_html_afb1042dadec4f92cefc114bd77083740"><div class="ttname"><a href="segment_8c.html#afb1042dadec4f92cefc114bd77083740">parse_frames</a></div><div class="ttdeci">static int parse_frames(void *log_ctx, int **frames, int *nb_frames, const char *frames_str)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00524">segment.c:524</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a39bc48060b97a71f933e5fdfbf0e07a9"><div class="ttname"><a href="struct_segment_context.html#a39bc48060b97a71f933e5fdfbf0e07a9">SegmentContext::avf</a></div><div class="ttdeci">AVFormatContext * avf</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00076">segment.c:76</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a161938792210132237060dab0fb5d7ef"><div class="ttname"><a href="struct_segment_context.html#a161938792210132237060dab0fb5d7ef">SegmentContext::time</a></div><div class="ttdeci">int64_t time</div><div class="ttdoc">segment duration</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00094">segment.c:94</a></div></div>
<div class="ttc" id="asegment_8c_html_aa3ace32a21efdfe65295a9235461fc1d"><div class="ttname"><a href="segment_8c.html#aa3ace32a21efdfe65295a9235461fc1d">seg_write_header</a></div><div class="ttdeci">static int seg_write_header(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00818">segment.c:818</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga3c5e00d3f0575f2a3858f837656c08e9"><div class="ttname"><a href="group__lavu__string.html#ga3c5e00d3f0575f2a3858f837656c08e9">av_escape</a></div><div class="ttdeci">int av_escape(char **dst, const char *src, const char *special_chars, enum AVEscapeMode mode, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00335">avstring.c:335</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_ac4c0777e54085af2f3f1b27130e2b21b"><div class="ttname"><a href="struct_a_v_format_context.html#ac4c0777e54085af2f3f1b27130e2b21b">AVFormatContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01251">avformat.h:1251</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a5571b2d72652c6a3f51d31724ba36c78"><div class="ttname"><a href="filter__design_8txt.html#a5571b2d72652c6a3f51d31724ba36c78">frames</a></div><div class="ttdeci">if it could not because there are no more frames</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00266">filter_design.txt:266</a></div></div>
<div class="ttc" id="atimecode_8h_html"><div class="ttname"><a href="timecode_8h.html">timecode.h</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a32379cc371463b235d54235d4af06a15"><div class="ttname"><a href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">AVFormatContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01354">avformat.h:1354</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a931ede9b841681ea8edeff83308aa6f6"><div class="ttname"><a href="struct_segment_context.html#a931ede9b841681ea8edeff83308aa6f6">SegmentContext::segment_list_entries_end</a></div><div class="ttdeci">SegmentListEntry * segment_list_entries_end</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00125">segment.c:125</a></div></div>
<div class="ttc" id="atimecode_8c_html_a8cadcdf7e38091651068f70adb94f867"><div class="ttname"><a href="timecode_8c.html#a8cadcdf7e38091651068f70adb94f867">av_timecode_make_string</a></div><div class="ttdeci">char * av_timecode_make_string(const AVTimecode *tc, char *buf, int framenum)</div><div class="ttdef"><b>Definition:</b> <a href="timecode_8c_source.html#l00105">timecode.c:105</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a95369c5b6c1f6bf626a6b5afafa3f9f3"><div class="ttname"><a href="struct_segment_context.html#a95369c5b6c1f6bf626a6b5afafa3f9f3">SegmentContext::frames</a></div><div class="ttdeci">int * frames</div><div class="ttdoc">list of frame number specification</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00103">segment.c:103</a></div></div>
<div class="ttc" id="agroup__opt__set__funcs_html_ga5fd4b92bdf4f392a2847f711676a7537"><div class="ttname"><a href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a></div><div class="ttdeci">int av_opt_set(void *obj, const char *name, const char *val, int search_flags)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l00465">opt.c:465</a></div></div>
<div class="ttc" id="asegment_8c_html_aec55677fd6dd8761da98d4e4c92db69c"><div class="ttname"><a href="segment_8c.html#aec55677fd6dd8761da98d4e4c92db69c">close_null_ctxp</a></div><div class="ttdeci">static void close_null_ctxp(AVIOContext **pb)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00589">segment.c:589</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga84ac09ffcff9c3c42c35db1f8477cc17"><div class="ttname"><a href="group__lavu__string.html#ga84ac09ffcff9c3c42c35db1f8477cc17">AV_ESCAPE_FLAG_WHITESPACE</a></div><div class="ttdeci">#define AV_ESCAPE_FLAG_WHITESPACE</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8h_source.html#l00337">avstring.h:337</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ae495a86ddec02af7d5a2805beba9ac9f"><div class="ttname"><a href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">AVStream::internal</a></div><div class="ttdeci">AVStreamInternal * internal</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01108">avformat.h:1108</a></div></div>
<div class="ttc" id="aavio_8c_html_af96f613cbf7f0d32ab56278ca75e4430"><div class="ttname"><a href="avio_8c.html#af96f613cbf7f0d32ab56278ca75e4430">ff_rename</a></div><div class="ttdeci">int ff_rename(const char *url_src, const char *url_dst, void *logctx)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00673">avio.c:673</a></div></div>
<div class="ttc" id="asegment_8c_html_a7284232754cffa37a01d06bf6232bd0b"><div class="ttname"><a href="segment_8c.html#a7284232754cffa37a01d06bf6232bd0b">select_reference_stream</a></div><div class="ttdeci">static int select_reference_stream(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00595">segment.c:595</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a13e7ac5cce7130087a6411ee466bbb22"><div class="ttname"><a href="struct_segment_context.html#a13e7ac5cce7130087a6411ee466bbb22">SegmentContext::individual_header_trailer</a></div><div class="ttdeci">int individual_header_trailer</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00109">segment.c:109</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ae7414bb8ce5666309ef744b0ceac5ff9"><div class="ttname"><a href="struct_segment_context.html#ae7414bb8ce5666309ef744b0ceac5ff9">SegmentContext::entry_prefix</a></div><div class="ttdeci">char * entry_prefix</div><div class="ttdoc">prefix to add to list entry filenames</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00091">segment.c:91</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac55f4c21dd75c8c48b9de5080681eed4"><div class="ttname"><a href="struct_a_v_output_format.html#ac55f4c21dd75c8c48b9de5080681eed4">AVOutputFormat::codec_tag</a></div><div class="ttdeci">const struct AVCodecTag *const  * codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00516">avformat.h:516</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00365">packet.h:365</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_a3d5b3d948300f6011eb52b4d1f4381b3"><div class="ttname"><a href="cuda__runtime_8h.html#a3d5b3d948300f6011eb52b4d1f4381b3">ceil</a></div><div class="ttdeci">static __device__ float ceil(float a)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00176">cuda_runtime.h:176</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a639fdb8aa2932c84fc3065d7056c3855"><div class="ttname"><a href="struct_segment_context.html#a639fdb8aa2932c84fc3065d7056c3855">SegmentContext::write_empty</a></div><div class="ttdeci">int write_empty</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00118">segment.c:118</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00898">avformat.h:898</a></div></div>
<div class="ttc" id="astruct_segment_context_html_af0f51a5c2acd9b043be911148ae69cfe"><div class="ttname"><a href="struct_segment_context.html#af0f51a5c2acd9b043be911148ae69cfe">SegmentContext::clocktime_offset</a></div><div class="ttdeci">int64_t clocktime_offset</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00085">segment.c:85</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a58422ed3d461b3440a15cf057ac5f5b7"><div class="ttname"><a href="struct_a_v_format_context.html#a58422ed3d461b3440a15cf057ac5f5b7">AVFormatContext::max_delay</a></div><div class="ttdeci">int max_delay</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01348">avformat.h:1348</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a5e5b06d6dc78cbe6112e42f8069b12b5"><div class="ttname"><a href="libavformat_2internal_8h.html#a5e5b06d6dc78cbe6112e42f8069b12b5">ff_write_chained</a></div><div class="ttdeci">int ff_write_chained(AVFormatContext *dst, int dst_stream, AVPacket *pkt, AVFormatContext *src, int interleave)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01305">mux.c:1305</a></div></div>
<div class="ttc" id="asegment_8c_html_af79cfb9b60725f194981d0ba47729ded"><div class="ttname"><a href="segment_8c.html#af79cfb9b60725f194981d0ba47729ded">seg_write_trailer</a></div><div class="ttdeci">static int seg_write_trailer(struct AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00972">segment.c:972</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a060002ff641fb6c358517df941e9c4c5"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">AVCodecParameters::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00078">codec_par.h:78</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a79c185b375bcd5b24745d6ec24d184fd"><div class="ttname"><a href="struct_segment_context.html#a79c185b375bcd5b24745d6ec24d184fd">SegmentContext::segment_list_entries</a></div><div class="ttdeci">SegmentListEntry * segment_list_entries</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00124">segment.c:124</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a3019a56080ed2e3297ff25bc2ff88adf"><div class="ttname"><a href="struct_a_v_format_context.html#a3019a56080ed2e3297ff25bc2ff88adf">AVFormatContext::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01463">avformat.h:1463</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a7d537039ea0e18164d9edb0b5ca984dd"><div class="ttname"><a href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample format(the sample packing is implied by the sample format) and sample rate. The lists are not just lists</div></div>
<div class="ttc" id="astruct_segment_context_html_a5a05f51fd7b7d2559899b78920493ad4"><div class="ttname"><a href="struct_segment_context.html#a5a05f51fd7b7d2559899b78920493ad4">SegmentContext::write_header_trailer</a></div><div class="ttdeci">int write_header_trailer</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00110">segment.c:110</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga935dbbf6bde8dfe5fa7ddb1da582eb07"><div class="ttname"><a href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a></div><div class="ttdeci">static double av_q2d(AVRational a)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00104">rational.h:104</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga3d4270f4ed651c414e2850090b9b77c4"><div class="ttname"><a href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a></div><div class="ttdeci">char * av_strtok(char *s, const char *delim, char **saveptr)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00186">avstring.c:186</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga8247f49e5642dd3bd20ce6ba5a7f6466"><div class="ttname"><a href="group__lavf__misc.html#ga8247f49e5642dd3bd20ce6ba5a7f6466">av_match_ext</a></div><div class="ttdeci">int av_match_ext(const char *filename, const char *extensions)</div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00038">format.c:38</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a></div><div class="ttdeci">@ AVMEDIA_TYPE_NB</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00207">avutil.h:206</a></div></div>
<div class="ttc" id="aavio_8h_html_a5c9308f296545a8f3b7687d277a6dabc"><div class="ttname"><a href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a></div><div class="ttdeci">#define AVIO_FLAG_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00675">avio.h:675</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gaf02994a8bbeaa91d4757df179cbe567f"><div class="ttname"><a href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a></div><div class="ttdeci">int64_t av_rescale_q(int64_t a, AVRational bq, AVRational cq)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00142">mathematics.c:142</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00356">packet.h:356</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a></div><div class="ttdeci">@ AVMEDIA_TYPE_DATA</div><div class="ttdoc">Opaque data information usually continuous.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00203">avutil.h:203</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga18b7b10bb5b94c4842de18166bc677cb"><div class="ttname"><a href="group__lavf__encoding.html#ga18b7b10bb5b94c4842de18166bc677cb">avformat_write_header</a></div><div class="ttdeci">av_warn_unused_result int avformat_write_header(AVFormatContext *s, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l00505">mux.c:505</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga77a800026abd6dc2f4ac1e0ad7e3e999"><div class="ttname"><a href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a></div><div class="ttdeci">uint8_t * av_packet_get_side_data(const AVPacket *pkt, enum AVPacketSideDataType type, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00353">avpacket.c:353</a></div></div>
<div class="ttc" id="atime__internal_8h_html"><div class="ttname"><a href="time__internal_8h.html">time_internal.h</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="asegment_8c_html_a6f61b6d2e566537d2daefa97b024d58a"><div class="ttname"><a href="segment_8c.html#a6f61b6d2e566537d2daefa97b024d58a">seg_init</a></div><div class="ttdeci">static int seg_init(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00679">segment.c:679</a></div></div>
<div class="ttc" id="aavio_8h_html_ad88b866a118c17c95663f7782b2e8946"><div class="ttname"><a href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a></div><div class="ttdeci">void avio_flush(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00245">aviobuf.c:245</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a155171caa18638ff5b6c98b08c0aa5b0"><div class="ttname"><a href="struct_segment_context.html#a155171caa18638ff5b6c98b08c0aa5b0">SegmentContext::time_delta</a></div><div class="ttdeci">int64_t time_delta</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00108">segment.c:108</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_af3f615ad9ff79fb90f4eb136a1f58065"><div class="ttname"><a href="struct_a_v_format_context.html#af3f615ad9ff79fb90f4eb136a1f58065">AVFormatContext::io_open</a></div><div class="ttdeci">int(* io_open)(struct AVFormatContext *s, AVIOContext **pb, const char *url, int flags, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01817">avformat.h:1817</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_a3b6c3cd400205a04b015cbb7a5d8f49f"><div class="ttname"><a href="struct_segment_list_entry.html#a3b6c3cd400205a04b015cbb7a5d8f49f">SegmentListEntry::offset_pts</a></div><div class="ttdeci">int64_t offset_pts</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00050">segment.c:50</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a2e44562785212115240f06bab3f819a4"><div class="ttname"><a href="struct_segment_context.html#a2e44562785212115240f06bab3f819a4">SegmentContext::header_written</a></div><div class="ttdeci">int header_written</div><div class="ttdoc">whether we've already called avformat_write_header</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00089">segment.c:89</a></div></div>
<div class="ttc" id="av4l2enc_8c_html_a4f80c0767194e6e297d2952ed1e75ccc"><div class="ttname"><a href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a></div><div class="ttdeci">static int write_trailer(AVFormatContext *s1)</div><div class="ttdef"><b>Definition:</b> <a href="v4l2enc_8c_source.html#l00098">v4l2enc.c:98</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ad19030f7e3e279944ba7ab81e1df9e4a">LIST_TYPE_EXT</a></div><div class="ttdeci">@ LIST_TYPE_EXT</div><div class="ttdoc">deprecated</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00061">segment.c:61</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a3f19c60ac6da237cd10e4d97150c118e"><div class="ttname"><a href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">AVStream::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00931">avformat.h:931</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd">AV_OPT_TYPE_DICT</a></div><div class="ttdeci">@ AV_OPT_TYPE_DICT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00232">opt.h:232</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="aparseutils_8h_html"><div class="ttname"><a href="parseutils_8h.html">parseutils.h</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a680a558f39b7a970d51a7ea5ddc69e73"><div class="ttname"><a href="struct_segment_context.html#a680a558f39b7a970d51a7ea5ddc69e73">SegmentContext::format_options</a></div><div class="ttdeci">AVDictionary * format_options</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00078">segment.c:78</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a9f17285cc70842ab252aa590b046ecf5"><div class="ttname"><a href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining list</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00025">filter_design.txt:25</a></div></div>
<div class="ttc" id="astruct_segment_context_html_afd34336d3603a685568d1e63e9bf8346"><div class="ttname"><a href="struct_segment_context.html#afd34336d3603a685568d1e63e9bf8346">SegmentContext::use_rename</a></div><div class="ttdeci">int use_rename</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00120">segment.c:120</a></div></div>
<div class="ttc" id="aparseutils_8c_html_a98590feafe82e074f61f38c8faaa4cef"><div class="ttname"><a href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a></div><div class="ttdeci">int av_parse_time(int64_t *timeval, const char *timestr, int duration)</div><div class="ttdef"><b>Definition:</b> <a href="parseutils_8c_source.html#l00587">parseutils.c:587</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="aavio_8h_html_a1dddee2b73f4dd6512ac9821cf5adc18"><div class="ttname"><a href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a></div><div class="ttdeci">void avio_w8(AVIOContext *s, int b)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00203">aviobuf.c:203</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a102754b28ef3e7822a9834929848ba2c"><div class="ttname"><a href="struct_segment_context.html#a102754b28ef3e7822a9834929848ba2c">SegmentContext::list_pb</a></div><div class="ttdeci">AVIOContext * list_pb</div><div class="ttdoc">list file put-byte context</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00093">segment.c:93</a></div></div>
<div class="ttc" id="asegment_8c_html_ac5174134662152b7b2aae02e8c2b70da"><div class="ttname"><a href="segment_8c.html#ac5174134662152b7b2aae02e8c2b70da">set_segment_filename</a></div><div class="ttdeci">static int set_segment_filename(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00195">segment.c:195</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_gaa85cc1774f18f306cd20a40fc50d0b36"><div class="ttname"><a href="group__lavf__encoding.html#gaa85cc1774f18f306cd20a40fc50d0b36">av_write_frame</a></div><div class="ttdeci">int av_write_frame(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01190">mux.c:1190</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_a191b541df2c40189ea9ee5f001669d7a"><div class="ttname"><a href="struct_segment_list_entry.html#a191b541df2c40189ea9ee5f001669d7a">SegmentListEntry::start_pts</a></div><div class="ttdeci">int64_t start_pts</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00049">segment.c:49</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ac470d166fcc6092dfce3bc220766304e"><div class="ttname"><a href="struct_segment_context.html#ac470d166fcc6092dfce3bc220766304e">SegmentContext::reference_stream_index</a></div><div class="ttdeci">int reference_stream_index</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00116">segment.c:116</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ggaef885958293f07153383f99db573ff5aa342d7bf60c9a7cb7a886f70f81ac5071"><div class="ttname"><a href="group__lavu__string.html#ggaef885958293f07153383f99db573ff5aa342d7bf60c9a7cb7a886f70f81ac5071">AV_ESCAPE_MODE_AUTO</a></div><div class="ttdeci">@ AV_ESCAPE_MODE_AUTO</div><div class="ttdoc">Use auto-selected escaping mode.</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8h_source.html#l00324">avstring.h:324</a></div></div>
<div class="ttc" id="astruct_a_v_timecode_html"><div class="ttname"><a href="struct_a_v_timecode.html">AVTimecode</a></div><div class="ttdef"><b>Definition:</b> <a href="timecode_8h_source.html#l00041">timecode.h:41</a></div></div>
<div class="ttc" id="asegment_8c_html_a981437674f5572483abe3391ce65a7fa"><div class="ttname"><a href="segment_8c.html#a981437674f5572483abe3391ce65a7fa">seg_write_packet</a></div><div class="ttdeci">static int seg_write_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00847">segment.c:847</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a0b748d924898b08b89ff4974afd17285"><div class="ttname"><a href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">AVFormatContext::nb_streams</a></div><div class="ttdeci">unsigned int nb_streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01279">avformat.h:1279</a></div></div>
<div class="ttc" id="asegment_8c_html_ab242ab0e03febd9f878676071e0b03cf"><div class="ttname"><a href="segment_8c.html#ab242ab0e03febd9f878676071e0b03cf">segment_list_open</a></div><div class="ttdeci">static int segment_list_open(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00284">segment.c:284</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a946e1e9b89eeeae4cab8a833b482c1ad"><div class="ttname"><a href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">AVStream::avg_frame_rate</a></div><div class="ttdeci">AVRational avg_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00942">avformat.h:942</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9b6f7d220d100ba73defab295623356b"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">AVCodecParameters::codec_tag</a></div><div class="ttdeci">uint32_t codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00064">codec_par.h:64</a></div></div>
<div class="ttc" id="asegment_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="segment_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l01011">segment.c:1011</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a8e3eb32799f4637fcdd75bb9099142ff"><div class="ttname"><a href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a></div><div class="ttdeci">#define ff_dlog(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00029">tableprint_vlc.h:29</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376a9cd3407eb07b38c27c82e55dab56aabd"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9cd3407eb07b38c27c82e55dab56aabd">LIST_TYPE_FLAT</a></div><div class="ttdeci">@ LIST_TYPE_FLAT</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00058">segment.c:58</a></div></div>
<div class="ttc" id="asegment_8c_html_a91e9cda05042f3756c568b85234362b0"><div class="ttname"><a href="segment_8c.html#a91e9cda05042f3756c568b85234362b0">print_csv_escaped_str</a></div><div class="ttdeci">static void print_csv_escaped_str(AVIOContext *ctx, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00128">segment.c:128</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a408971a075994e25e28c41eea55dace6"><div class="ttname"><a href="struct_segment_context.html#a408971a075994e25e28c41eea55dace6">SegmentContext::list_type</a></div><div class="ttdeci">int list_type</div><div class="ttdoc">set the list type</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00092">segment.c:92</a></div></div>
<div class="ttc" id="atimestamp_8h_html_ad344b91ede6b86fc0a530611293f42da"><div class="ttname"><a href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a></div><div class="ttdeci">#define av_ts2timestr(ts, tb)</div><div class="ttdef"><b>Definition:</b> <a href="timestamp_8h_source.html#l00076">timestamp.h:76</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga7e45597834e9ef3098ddb74bc5e1550c"><div class="ttname"><a href="group__lavf__misc.html#ga7e45597834e9ef3098ddb74bc5e1550c">avformat_match_stream_specifier</a></div><div class="ttdeci">int avformat_match_stream_specifier(AVFormatContext *s, AVStream *st, const char *spec)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05252">utils.c:5252</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga126917b7ce8b4f05505098b72f4997de"><div class="ttname"><a href="group__lavf__misc.html#ga126917b7ce8b4f05505098b72f4997de">av_codec_get_tag</a></div><div class="ttdeci">unsigned int av_codec_get_tag(const struct AVCodecTag *const *tags, enum AVCodecID id)</div></div>
<div class="ttc" id="atime__internal_8h_html_a9e7c6104cccbed67c8f0fd510cd5c099"><div class="ttname"><a href="time__internal_8h.html#a9e7c6104cccbed67c8f0fd510cd5c099">localtime_r</a></div><div class="ttdeci">#define localtime_r</div><div class="ttdef"><b>Definition:</b> <a href="time__internal_8h_source.html#l00046">time_internal.h:46</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aab5542950d6beb910dc9237aac99989e"><div class="ttname"><a href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a></div><div class="ttdeci">void avpriv_set_pts_info(AVStream *s, int pts_wrap_bits, unsigned int pts_num, unsigned int pts_den)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04871">utils.c:4871</a></div></div>
<div class="ttc" id="astruct_segment_context_html_aaa4b48bce04bbbc88a8449a27756e0d5"><div class="ttname"><a href="struct_segment_context.html#aaa4b48bce04bbbc88a8449a27756e0d5">SegmentContext::is_nullctx</a></div><div class="ttdeci">int is_nullctx</div><div class="ttdoc">whether avf-&gt;pb is a nullctx</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00083">segment.c:83</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga9665abf3720f9f460790c2c3b224c052"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a></div><div class="ttdeci">int av_reallocp(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00161">mem.c:161</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_ga2eaefe702f95f619ea6f2d08afa01be1"><div class="ttname"><a href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div><div class="ttdeci">#define AV_NOPTS_VALUE</div><div class="ttdoc">Undefined timestamp value.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00248">avutil.h:248</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a2130903ec344e2180bcc4023d5c0c738"><div class="ttname"><a href="struct_segment_context.html#a2130903ec344e2180bcc4023d5c0c738">SegmentContext::use_clocktime</a></div><div class="ttdeci">int use_clocktime</div><div class="ttdoc">flag to cut segments at regular clock time</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00084">segment.c:84</a></div></div>
<div class="ttc" id="asegment_8c_html_ae5c31dfb8fdbb0a2eef75726d524d6d5"><div class="ttname"><a href="segment_8c.html#ae5c31dfb8fdbb0a2eef75726d524d6d5">seg_free</a></div><div class="ttdeci">static void seg_free(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00652">segment.c:652</a></div></div>
<div class="ttc" id="aavformat_8h_html_a752cce390d480521919aa5d8be24ac0b"><div class="ttname"><a href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a></div><div class="ttdeci">#define AVFMT_NOFILE</div><div class="ttdoc">Demuxer will use avio_open, no opened file should be provided by the caller.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00458">avformat.h:458</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376a9ab0469e309a0b626e8f3ea2298b476a"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376a9ab0469e309a0b626e8f3ea2298b476a">LIST_TYPE_NB</a></div><div class="ttdeci">@ LIST_TYPE_NB</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00063">segment.c:63</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a30eff5ee5988004f3652fbb703f53183"><div class="ttname"><a href="struct_segment_context.html#a30eff5ee5988004f3652fbb703f53183">SegmentContext::segment_frame_count</a></div><div class="ttdeci">int segment_frame_count</div><div class="ttdoc">number of reference frames in the segment</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00106">segment.c:106</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ac5a05882e35a5fd8d7d3064de4c160c9"><div class="ttname"><a href="struct_segment_context.html#ac5a05882e35a5fd8d7d3064de4c160c9">SegmentContext::times</a></div><div class="ttdeci">int64_t * times</div><div class="ttdoc">list of segment interval specification</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00099">segment.c:99</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_a1260d6304f56b67bcc8fa2fb77a7d92f"><div class="ttname"><a href="struct_a_v_output_format.html#a1260d6304f56b67bcc8fa2fb77a7d92f">AVOutputFormat::check_bitstream</a></div><div class="ttdeci">int(* check_bitstream)(struct AVFormatContext *, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00628">avformat.h:628</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376">ListType</a></div><div class="ttdeci">ListType</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00056">segment.c:56</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_a0b323e3594f34e24891b0cc36d036b32"><div class="ttname"><a href="struct_segment_list_entry.html#a0b323e3594f34e24891b0cc36d036b32">SegmentListEntry::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00047">segment.c:47</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a651c97cb2dcd2241d42f0062a0bbd4e3"><div class="ttname"><a href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">AVFormatContext::url</a></div><div class="ttdeci">char * url</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01319">avformat.h:1319</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga1bafd682b1fbb90e48a4cc3814b820f7"><div class="ttname"><a href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a></div><div class="ttdeci">void av_dict_free(AVDictionary **pm)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00203">dict.c:203</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_adb987b43077093366b235873e6b1c870"><div class="ttname"><a href="struct_segment_list_entry.html#adb987b43077093366b235873e6b1c870">SegmentListEntry::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00051">segment.c:51</a></div></div>
<div class="ttc" id="aavformat_8h_html_a0234fa1116af3c0a72edaa08a2ba304f"><div class="ttname"><a href="avformat_8h.html#a0234fa1116af3c0a72edaa08a2ba304f">avformat_alloc_output_context2</a></div><div class="ttdeci">int avformat_alloc_output_context2(AVFormatContext **ctx, ff_const59 AVOutputFormat *oformat, const char *format_name, const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l00135">mux.c:135</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376ab5d83ab92fe04cba8347f90d8fa77931">LIST_TYPE_M3U8</a></div><div class="ttdeci">@ LIST_TYPE_M3U8</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00060">segment.c:60</a></div></div>
<div class="ttc" id="astruct_segment_context_html_aceb01181fc0d71b34e50de0689c64853"><div class="ttname"><a href="struct_segment_context.html#aceb01181fc0d71b34e50de0689c64853">SegmentContext::temp_list_filename</a></div><div class="ttdeci">char temp_list_filename[1024]</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00121">segment.c:121</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a6cdb0c90a69899f4e1e54704bb654936"><div class="ttname"><a href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">AVStream::pts_wrap_bits</a></div><div class="ttdeci">int pts_wrap_bits</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01051">avformat.h:1051</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ab2e6159e8c91b47d23a0f3e493d21eec"><div class="ttname"><a href="struct_segment_context.html#ab2e6159e8c91b47d23a0f3e493d21eec">SegmentContext::list</a></div><div class="ttdeci">char * list</div><div class="ttdoc">filename for the segment list file</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00079">segment.c:79</a></div></div>
<div class="ttc" id="affmpeg_8c_html_a8507683cee9accbbda79588659abcea8"><div class="ttname"><a href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a></div><div class="ttdeci">static void write_packet(OutputFile *of, AVPacket *pkt, OutputStream *ost, int unqueue)</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8c_source.html#l00703">ffmpeg.c:703</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ae4494f08aff5054bfcf830da68500df8"><div class="ttname"><a href="struct_segment_context.html#ae4494f08aff5054bfcf830da68500df8">SegmentContext::segment_idx_wrap_nb</a></div><div class="ttdeci">int segment_idx_wrap_nb</div><div class="ttdoc">number of time the index has wraped</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00073">segment.c:73</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga7f14007e7dc8f481f054b21614dfec13"><div class="ttname"><a href="group__lavf__encoding.html#ga7f14007e7dc8f481f054b21614dfec13">av_write_trailer</a></div><div class="ttdeci">int av_write_trailer(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01251">mux.c:1251</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a7ea46e61c666f21e7e770dc14e7e36e5"><div class="ttname"><a href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">AVFormatContext::oformat</a></div><div class="ttdeci">ff_const59 struct AVOutputFormat * oformat</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01242">avformat.h:1242</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_acfefb6b6cf21e87a0dcbd1a547ba2348"><div class="ttname"><a href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">AVFormatContext::streams</a></div><div class="ttdeci">AVStream ** streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01291">avformat.h:1291</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="aavformat_8h_html_ab203c7b734e9c31b7c37d34f6e2c6aef"><div class="ttname"><a href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a></div><div class="ttdeci">#define AVFMT_GLOBALHEADER</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00461">avformat.h:461</a></div></div>
<div class="ttc" id="aavio__internal_8h_html"><div class="ttname"><a href="avio__internal_8h.html">avio_internal.h</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a24c357f44f58a4522a77a29e2557cfc2"><div class="ttname"><a href="struct_segment_context.html#a24c357f44f58a4522a77a29e2557cfc2">SegmentContext::list_flags</a></div><div class="ttdeci">int list_flags</div><div class="ttdoc">flags affecting list generation</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00080">segment.c:80</a></div></div>
<div class="ttc" id="astruct_a_v_timecode_html_af467d05fd293b6206e635e453b1f524a"><div class="ttname"><a href="struct_a_v_timecode.html#af467d05fd293b6206e635e453b1f524a">AVTimecode::start</a></div><div class="ttdeci">int start</div><div class="ttdoc">timecode frame start (first base frame number)</div><div class="ttdef"><b>Definition:</b> <a href="timecode_8h_source.html#l00042">timecode.h:42</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a220ab1cbff47f502cb710f75a4e60619"><div class="ttname"><a href="struct_segment_context.html#a220ab1cbff47f502cb710f75a4e60619">SegmentContext::use_strftime</a></div><div class="ttdeci">int use_strftime</div><div class="ttdoc">flag to expand filename with strftime</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00095">segment.c:95</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_aad55a00e728a020c1dcfaaf695320445"><div class="ttname"><a href="struct_a_v_output_format.html#aad55a00e728a020c1dcfaaf695320445">AVOutputFormat::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00510">avformat.h:510</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_aef90dac3fce55971a6850a904eb3b84a"><div class="ttname"><a href="struct_segment_list_entry.html#aef90dac3fce55971a6850a904eb3b84a">SegmentListEntry::next</a></div><div class="ttdeci">struct SegmentListEntry * next</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00052">segment.c:52</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga7ef1e1f3183e34e731185967d416911d"><div class="ttname"><a href="group__lavu__error.html#ga7ef1e1f3183e34e731185967d416911d">AVERROR_MUXER_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_MUXER_NOT_FOUND</div><div class="ttdoc">Muxer not found.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00060">error.h:60</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a36c773850e3e46639226e35d8111014a"><div class="ttname"><a href="struct_segment_context.html#a36c773850e3e46639226e35d8111014a">SegmentContext::frame_count</a></div><div class="ttdeci">int frame_count</div><div class="ttdoc">total number of reference frames</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00105">segment.c:105</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a></div><div class="ttdeci">@ AVMEDIA_TYPE_ATTACHMENT</div><div class="ttdoc">Opaque data information usually sparse.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00205">avutil.h:205</a></div></div>
<div class="ttc" id="aavio_8h_html_a853f5149136a27ffba3207d8520172a5"><div class="ttname"><a href="avio_8h.html#a853f5149136a27ffba3207d8520172a5">avio_alloc_context</a></div><div class="ttdeci">AVIOContext * avio_alloc_context(unsigned char *buffer, int buffer_size, int write_flag, void *opaque, int(*read_packet)(void *opaque, uint8_t *buf, int buf_size), int(*write_packet)(void *opaque, uint8_t *buf, int buf_size), int64_t(*seek)(void *opaque, int64_t offset, int whence))</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00138">aviobuf.c:138</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a0e3c41c290b38923880b9cccb669bf78"><div class="ttname"><a href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">AVIOContext::seekable</a></div><div class="ttdeci">int seekable</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00260">avio.h:260</a></div></div>
<div class="ttc" id="asegment_8c_html_a04d23cc3833a1718e31d2a76b5af9715"><div class="ttname"><a href="segment_8c.html#a04d23cc3833a1718e31d2a76b5af9715">SegmentListEntry</a></div><div class="ttdeci">struct SegmentListEntry SegmentListEntry</div></div>
<div class="ttc" id="astruct_segment_context_html_aebafc3d23a66f8787739d3e3edbbf2e5"><div class="ttname"><a href="struct_segment_context.html#aebafc3d23a66f8787739d3e3edbbf2e5">SegmentContext::increment_tc</a></div><div class="ttdeci">int increment_tc</div><div class="ttdoc">flag to increment timecode if found</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00096">segment.c:96</a></div></div>
<div class="ttc" id="aallformats_8c_html_a0dd96947e068aacde334648634586d20"><div class="ttname"><a href="allformats_8c.html#a0dd96947e068aacde334648634586d20">ff_segment_muxer</a></div><div class="ttdeci">AVOutputFormat ff_segment_muxer</div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a88077ea47abd7cd3fefe7828f778a686"><div class="ttname"><a href="struct_a_v_format_context.html#a88077ea47abd7cd3fefe7828f778a686">AVFormatContext::io_close</a></div><div class="ttdeci">void(* io_close)(struct AVFormatContext *s, AVIOContext *pb)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01823">avformat.h:1823</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html"><div class="ttname"><a href="struct_a_v_codec_parameters.html">AVCodecParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00052">codec_par.h:52</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a71dc8d394c314b0aa1c88e8e65cb552b"><div class="ttname"><a href="struct_segment_context.html#a71dc8d394c314b0aa1c88e8e65cb552b">SegmentContext::nb_times</a></div><div class="ttdeci">int nb_times</div><div class="ttdoc">number of elments in the times array</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00100">segment.c:100</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a4cbcd7c01ca12ee12f9c98ca48ef1bc2"><div class="ttname"><a href="struct_segment_context.html#a4cbcd7c01ca12ee12f9c98ca48ef1bc2">SegmentContext::segment_idx_wrap</a></div><div class="ttdeci">int segment_idx_wrap</div><div class="ttdoc">number after which the index wraps</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00072">segment.c:72</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a50d250a128a3da9ce3d135e84213fb82"><div class="ttname"><a href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">AVStream::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00933">avformat.h:933</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a116847915c9a75a28196e416d0a9de12"><div class="ttname"><a href="struct_segment_context.html#a116847915c9a75a28196e416d0a9de12">SegmentContext::reference_stream_specifier</a></div><div class="ttdeci">char * reference_stream_specifier</div><div class="ttdoc">reference stream specifier</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00115">segment.c:115</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a1e7324262b6b78522e52064daaa7bc87"><div class="ttname"><a href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">AVFormatContext::pb</a></div><div class="ttdeci">AVIOContext * pb</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01265">avformat.h:1265</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="asegment_8c_html_a07484107e6d9fdf38b53edf631d6511d"><div class="ttname"><a href="segment_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a></div><div class="ttdeci">#define E</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l01012">segment.c:1012</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a9362e44ca30ad934a2d70e050401f313"><div class="ttname"><a href="libavformat_2internal_8h.html#a9362e44ca30ad934a2d70e050401f313">ff_format_set_url</a></div><div class="ttdeci">void ff_format_set_url(AVFormatContext *s, char *url)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05788">utils.c:5788</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="aavio_8h_html_a79127cec97b09a308b549253119ff38f"><div class="ttname"><a href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a></div><div class="ttdeci">int avio_printf(AVIOContext *s, const char *fmt,...) av_printf_format(2</div></div>
<div class="ttc" id="agroup__lavu__misc_html_gaf21645cfa855b2caf9699d7dc7b2d08e"><div class="ttname"><a href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a></div><div class="ttdeci">const char * av_get_media_type_string(enum AVMediaType media_type)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2utils_8c_source.html#l00076">utils.c:76</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a6d02e640ccc12c783841ce51d09b9fa7"><div class="ttname"><a href="codec__par_8h.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a></div><div class="ttdeci">int avcodec_parameters_copy(AVCodecParameters *dst, const AVCodecParameters *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02077">utils.c:2077</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ac2785268ff409937b4d37df310331f51"><div class="ttname"><a href="struct_segment_context.html#ac2785268ff409937b4d37df310331f51">SegmentContext::format</a></div><div class="ttdeci">char * format</div><div class="ttdoc">format to use for output segment files</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00077">segment.c:77</a></div></div>
<div class="ttc" id="astruct_segment_context_html_ad97fe607ce348b04681a9e49da44e934"><div class="ttname"><a href="struct_segment_context.html#ad97fe607ce348b04681a9e49da44e934">SegmentContext::break_non_keyframes</a></div><div class="ttdeci">int break_non_keyframes</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00117">segment.c:117</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a></div><div class="ttdeci">@ AV_PKT_DATA_NEW_EXTRADATA</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00055">packet.h:55</a></div></div>
<div class="ttc" id="asegment_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="segment_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l01013">segment.c:1013</a></div></div>
<div class="ttc" id="astruct_segment_context_html_aeecc1fd5542e20520dd36c1a865421a5"><div class="ttname"><a href="struct_segment_context.html#aeecc1fd5542e20520dd36c1a865421a5">SegmentContext::cur_entry</a></div><div class="ttdeci">SegmentListEntry cur_entry</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00123">segment.c:123</a></div></div>
<div class="ttc" id="astruct_segment_context_html"><div class="ttname"><a href="struct_segment_context.html">SegmentContext</a></div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00069">segment.c:69</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="asegment_8c_html_a659d2327600ac920ab70f4a5f340608a"><div class="ttname"><a href="segment_8c.html#a659d2327600ac920ab70f4a5f340608a">segment_list_print_entry</a></div><div class="ttdeci">static void segment_list_print_entry(AVIOContext *list_ioctx, ListType list_type, const SegmentListEntry *list_entry, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00319">segment.c:319</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gac2990b13b68e831a408fce8e1d0d6445"><div class="ttname"><a href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a></div><div class="ttdeci">void avformat_free_context(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04382">utils.c:4382</a></div></div>
<div class="ttc" id="astruct_segment_context_html_aa75ff160885412b325b60e52161e4461"><div class="ttname"><a href="struct_segment_context.html#aa75ff160885412b325b60e52161e4461">SegmentContext::header_filename</a></div><div class="ttdeci">char * header_filename</div><div class="ttdoc">filename to write the output header to</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00111">segment.c:111</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html"><div class="ttname"><a href="struct_segment_list_entry.html">SegmentListEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00046">segment.c:46</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a3c8efcc59e371efa9eb3d911ee6468dd"><div class="ttname"><a href="struct_segment_context.html#a3c8efcc59e371efa9eb3d911ee6468dd">SegmentContext::nb_frames</a></div><div class="ttdeci">int nb_frames</div><div class="ttdoc">number of elments in the frames array</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00104">segment.c:104</a></div></div>
<div class="ttc" id="atime_8c_html_aebf7f9c94187487c31d26fa3da816468"><div class="ttname"><a href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a></div><div class="ttdeci">int64_t av_gettime(void)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00039">time.c:39</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a237f7b32f82bdc2929ca6c44b43d5894"><div class="ttname"><a href="struct_segment_context.html#a237f7b32f82bdc2929ca6c44b43d5894">SegmentContext::times_str</a></div><div class="ttdeci">char * times_str</div><div class="ttdoc">segment times specification string</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00098">segment.c:98</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_adb8463bd54e90ac181f7edc0944252de"><div class="ttname"><a href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a></div><div class="ttdeci">void ff_format_io_close(AVFormatContext *s, AVIOContext **pb)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05618">utils.c:5618</a></div></div>
<div class="ttc" id="aregdef_8h_html_a71234e05f922466327ffed37b019c7fb"><div class="ttname"><a href="regdef_8h.html#a71234e05f922466327ffed37b019c7fb">tc</a></div><div class="ttdeci">#define tc</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00069">regdef.h:69</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga7c352f4cff02184f005323691375fea9"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a></div><div class="ttdeci">char * av_strdup(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00253">mem.c:253</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a71f70788ed584009f90dac6455a0135a"><div class="ttname"><a href="struct_segment_context.html#a71f70788ed584009f90dac6455a0135a">SegmentContext::last_val</a></div><div class="ttdeci">int64_t last_val</div><div class="ttdoc">remember last time for wrap around detection</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00087">segment.c:87</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac3abc5f47f3465b6b7eec89c9476351c"><div class="ttname"><a href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">AVOutputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00491">avformat.h:491</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a5b37acfe4024d92ee510064e80920b40"><div class="ttname"><a href="struct_a_v_format_context.html#a5b37acfe4024d92ee510064e80920b40">AVFormatContext::interrupt_callback</a></div><div class="ttdeci">AVIOInterruptCB interrupt_callback</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01501">avformat.h:1501</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga59a6372b124b306e3a2233723c5cdc78"><div class="ttname"><a href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a></div><div class="ttdeci">int av_dict_copy(AVDictionary **dst, const AVDictionary *src, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00217">dict.c:217</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ae325fff950b722fc370518c3a4da949e"><div class="ttname"><a href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">AVStreamInternal::bsfc</a></div><div class="ttdeci">AVBSFContext * bsfc</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00159">internal.h:159</a></div></div>
<div class="ttc" id="asegment_8c_html_aa3139255e1ce9eb97dc2762708c11888"><div class="ttname"><a href="segment_8c.html#aa3139255e1ce9eb97dc2762708c11888">SEGMENT_LIST_FLAG_CACHE</a></div><div class="ttdeci">#define SEGMENT_LIST_FLAG_CACHE</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00066">segment.c:66</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a622e758be29fd500aed0ffdc069550f7"><div class="ttname"><a href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">AVPacket::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00381">packet.h:381</a></div></div>
<div class="ttc" id="asegment_8c_html_a35948b5f7b50193f581f62ff3431d3a9"><div class="ttname"><a href="segment_8c.html#a35948b5f7b50193f581f62ff3431d3a9">parse_times</a></div><div class="ttdeci">static int parse_times(void *log_ctx, int64_t **times, int *nb_times, const char *times_str)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00466">segment.c:466</a></div></div>
<div class="ttc" id="aavio_8c_html_a612d7e4aede364861a728c18383714c2"><div class="ttname"><a href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a></div><div class="ttdeci">const char * avio_find_protocol_name(const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00475">avio.c:475</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e">AV_OPT_TYPE_FLAGS</a></div><div class="ttdeci">@ AV_OPT_TYPE_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00224">opt.h:224</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_ae1e061c0db8a47f53e1f3de5e371872e"><div class="ttname"><a href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">convert_header.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00020">convert_header.py:20</a></div></div>
<div class="ttc" id="atimestamp_8h_html"><div class="ttname"><a href="timestamp_8h.html">timestamp.h</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="astruct_segment_list_entry_html_abd2ef81804a5cdeea5df44fc4502fffa"><div class="ttname"><a href="struct_segment_list_entry.html#abd2ef81804a5cdeea5df44fc4502fffa">SegmentListEntry::start_time</a></div><div class="ttdeci">double start_time</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00048">segment.c:48</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="atimestamp_8h_html_a86d797e907fa454ed5fd34bfb0bcd747"><div class="ttname"><a href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a></div><div class="ttdeci">#define av_ts2str(ts)</div><div class="ttdef"><b>Definition:</b> <a href="timestamp_8h_source.html#l00054">timestamp.h:54</a></div></div>
<div class="ttc" id="astruct_segment_context_html_a9c0942f6cb5bd318d67bfcad6fabba2e"><div class="ttname"><a href="struct_segment_context.html#a9c0942f6cb5bd318d67bfcad6fabba2e">SegmentContext::initial_offset</a></div><div class="ttdeci">int64_t initial_offset</div><div class="ttdoc">initial timestamps offset, expressed in microseconds</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00114">segment.c:114</a></div></div>
<div class="ttc" id="atimecode_8c_html_a02596c9d431329a3acc646c943b1c800"><div class="ttname"><a href="timecode_8c.html#a02596c9d431329a3acc646c943b1c800">av_timecode_init_from_string</a></div><div class="ttdeci">int av_timecode_init_from_string(AVTimecode *tc, AVRational rate, const char *str, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="timecode_8c_source.html#l00232">timecode.c:232</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a></div><div class="ttdeci">@ AV_OPT_TYPE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00229">opt.h:229</a></div></div>
<div class="ttc" id="affv1enc_8c_html_a5ba88be0a987de9abb6091eb8e167e09"><div class="ttname"><a href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a></div><div class="ttdeci">static void write_header(FFV1Context *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffv1enc_8c_source.html#l00346">ffv1enc.c:346</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ae030463c5c08de99f8c9e727c822ca87"><div class="ttname"><a href="struct_a_v_output_format.html#ae030463c5c08de99f8c9e727c822ca87">AVOutputFormat::priv_class</a></div><div class="ttdeci">const AVClass * priv_class</div><div class="ttdoc">AVClass for the private context.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00519">avformat.h:519</a></div></div>
<div class="ttc" id="amux_8c_html_aca5a6c46876cf13e21d43603489665b6"><div class="ttname"><a href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a></div><div class="ttdeci">static int check_bitstream(AVFormatContext *s, AVStream *st, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01075">mux.c:1075</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="asnprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="asegment_8c_html_abd87ae8acf86a23fa6042e619c775da6"><div class="ttname"><a href="segment_8c.html#abd87ae8acf86a23fa6042e619c775da6">open_null_ctx</a></div><div class="ttdeci">static int open_null_ctx(AVIOContext **ctx)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00575">segment.c:575</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html"><div class="ttname"><a href="struct_a_v_output_format.html">AVOutputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00490">avformat.h:490</a></div></div>
<div class="ttc" id="asegment_8c_html_a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc"><div class="ttname"><a href="segment_8c.html#a6e68f6326f0d9c124fc6f54fc2733376addd720ef74af07b171760c4e88f289bc">LIST_TYPE_FFCONCAT</a></div><div class="ttdeci">@ LIST_TYPE_FFCONCAT</div><div class="ttdef"><b>Definition:</b> <a href="segment_8c_source.html#l00062">segment.c:62</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_abd46f5a4eb066239eb76f4bac1281e1d"><div class="ttname"><a href="libavformat_2internal_8h.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a></div><div class="ttdeci">int ff_alloc_extradata(AVCodecParameters *par, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03260">utils.c:3260</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
