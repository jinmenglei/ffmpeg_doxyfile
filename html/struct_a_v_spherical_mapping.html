<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: AVSphericalMapping Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_a_v_spherical_mapping-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AVSphericalMapping Struct Reference<div class="ingroups"><a class="el" href="group__lavu.html">libavutil</a> &raquo; <a class="el" href="group__lavu__video.html">Video related</a> &raquo; <a class="el" href="group__lavu__video__spherical.html">Spherical video mapping</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="spherical_8h_source.html">spherical.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for AVSphericalMapping:</div>
<div class="dyncontent">
<div class="center"><img src="struct_a_v_spherical_mapping__coll__graph.gif" border="0" usemap="#a_a_v_spherical_mapping_coll__map" alt="Collaboration graph"/></div>
<map name="_a_v_spherical_mapping_coll__map" id="a_a_v_spherical_mapping_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,148,288"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5576008bdc224db049b1795b3c95fe16"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__lavu__video__spherical.html#ga689eeb8cf9b453f3619f3cf626e03a08">AVSphericalProjection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#a5576008bdc224db049b1795b3c95fe16">projection</a></td></tr>
<tr class="separator:a5576008bdc224db049b1795b3c95fe16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeea248f32ff9ec9cd8de310f3d00108"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#adeea248f32ff9ec9cd8de310f3d00108">padding</a></td></tr>
<tr class="separator:adeea248f32ff9ec9cd8de310f3d00108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Initial orientation</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>There fields describe additional rotations applied to the sphere after the video frame is mapped onto it. The sphere is rotated around the viewer, who remains stationary. The order of transformation is always yaw, followed by pitch, and finally by roll.</p>
<p>The coordinate system matches the one defined in OpenGL, where the forward vector (z) is coming out of screen, and it is equivalent to a rotation matrix of R = r_y(yaw) * r_x(pitch) * r_z(roll).</p>
<p>A positive yaw rotates the portion of the sphere in front of the viewer toward their right. A positive pitch rotates the portion of the sphere in front of the viewer upwards. A positive roll tilts the portion of the sphere in front of the viewer to the viewer's right.</p>
<p>These values are exported as 16.16 fixed point.</p>
<p>See this equirectangular projection as example:</p>
<div class="fragment"><div class="line">                  Yaw</div>
<div class="line">    -180           0           180</div>
<div class="line">  90 +-------------+-------------+  180</div>
<div class="line">     |             |             |                  up</div>
<div class="line">P    |             |             |                 y|    forward</div>
<div class="line">i    |             ^             |                  |   /z</div>
<div class="line">t  0 +-------------X-------------+    0 Roll        |  /</div>
<div class="line">c    |             |             |                  | /</div>
<div class="line">h    |             |             |                 0|/_____right</div>
<div class="line">     |             |             |                        x</div>
<div class="line"> -90 +-------------+-------------+ -180</div>
<div class="line"> </div>
<div class="line">X - the default camera center</div>
<div class="line">^ - the default up vector</div>
</div><!-- fragment --> </div></td></tr>
<tr class="memitem:ad7d7c61a2550cc4284076cc846873702"><td class="memItemLeft" align="right" valign="top"><a class="el" href="audioconvert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#ad7d7c61a2550cc4284076cc846873702">yaw</a></td></tr>
<tr class="memdesc:ad7d7c61a2550cc4284076cc846873702"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation around the up vector [-180, 180].  <a href="struct_a_v_spherical_mapping.html#ad7d7c61a2550cc4284076cc846873702">More...</a><br /></td></tr>
<tr class="separator:ad7d7c61a2550cc4284076cc846873702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84dfa298ac2ddf98665781507182a979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="audioconvert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#a84dfa298ac2ddf98665781507182a979">pitch</a></td></tr>
<tr class="memdesc:a84dfa298ac2ddf98665781507182a979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation around the right vector [-90, 90].  <a href="struct_a_v_spherical_mapping.html#a84dfa298ac2ddf98665781507182a979">More...</a><br /></td></tr>
<tr class="separator:a84dfa298ac2ddf98665781507182a979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad422230e2b0f0ebfb981275e22ffb0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="audioconvert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#aaad422230e2b0f0ebfb981275e22ffb0">roll</a></td></tr>
<tr class="memdesc:aaad422230e2b0f0ebfb981275e22ffb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation around the forward vector [-180, 180].  <a href="struct_a_v_spherical_mapping.html#aaad422230e2b0f0ebfb981275e22ffb0">More...</a><br /></td></tr>
<tr class="separator:aaad422230e2b0f0ebfb981275e22ffb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Bounding rectangle</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="bounding"></a> These fields indicate the location of the current tile, and where it should be mapped relative to the original surface. They are exported as 0.32 fixed point, and can be converted to classic pixel values with av_spherical_bounds().</p>
<div class="fragment"><div class="line">+----------------+----------+</div>
<div class="line">|                |bound_top |</div>
<div class="line">|            +--------+     |</div>
<div class="line">| bound_left |tile    |     |</div>
<div class="line">+&lt;----------&gt;|        |&lt;---&gt;+bound_right</div>
<div class="line">|            +--------+     |</div>
<div class="line">|                |          |</div>
<div class="line">|    bound_bottom|          |</div>
<div class="line">+----------------+----------+</div>
</div><!-- fragment --><p>If needed, the original video surface dimensions can be derived by adding the current stream or frame size to the related bounds, like in the following example:</p>
<div class="fragment"><div class="line">original_width  = tile-&gt;width  + <a class="code" href="struct_a_v_spherical_mapping.html#a5168f1a737916aae56f0cf41d71937f7">bound_left</a> + <a class="code" href="struct_a_v_spherical_mapping.html#a6cbcda5b8d0118e50e4a1b574919af50">bound_right</a>;</div>
<div class="line">original_height = tile-&gt;height + <a class="code" href="struct_a_v_spherical_mapping.html#a5f82d37755e0d54559c254b7bdefffbe">bound_top</a>  + <a class="code" href="struct_a_v_spherical_mapping.html#a670ae033266fb97133204baa6609955f">bound_bottom</a>;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>These values are valid only for the tiled equirectangular projection type (<a class="el" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08a768257247d4090b959ee1678f67bc9d3">AV_SPHERICAL_EQUIRECTANGULAR_TILE</a>), and should be ignored in all other cases. </dd></dl>
</div></td></tr>
<tr class="memitem:a5168f1a737916aae56f0cf41d71937f7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#a5168f1a737916aae56f0cf41d71937f7">bound_left</a></td></tr>
<tr class="memdesc:a5168f1a737916aae56f0cf41d71937f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance from the left edge.  <a href="struct_a_v_spherical_mapping.html#a5168f1a737916aae56f0cf41d71937f7">More...</a><br /></td></tr>
<tr class="separator:a5168f1a737916aae56f0cf41d71937f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f82d37755e0d54559c254b7bdefffbe"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#a5f82d37755e0d54559c254b7bdefffbe">bound_top</a></td></tr>
<tr class="memdesc:a5f82d37755e0d54559c254b7bdefffbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance from the top edge.  <a href="struct_a_v_spherical_mapping.html#a5f82d37755e0d54559c254b7bdefffbe">More...</a><br /></td></tr>
<tr class="separator:a5f82d37755e0d54559c254b7bdefffbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cbcda5b8d0118e50e4a1b574919af50"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#a6cbcda5b8d0118e50e4a1b574919af50">bound_right</a></td></tr>
<tr class="memdesc:a6cbcda5b8d0118e50e4a1b574919af50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance from the right edge.  <a href="struct_a_v_spherical_mapping.html#a6cbcda5b8d0118e50e4a1b574919af50">More...</a><br /></td></tr>
<tr class="separator:a6cbcda5b8d0118e50e4a1b574919af50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670ae033266fb97133204baa6609955f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_v_spherical_mapping.html#a670ae033266fb97133204baa6609955f">bound_bottom</a></td></tr>
<tr class="memdesc:a670ae033266fb97133204baa6609955f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance from the bottom edge.  <a href="struct_a_v_spherical_mapping.html#a670ae033266fb97133204baa6609955f">More...</a><br /></td></tr>
<tr class="separator:a670ae033266fb97133204baa6609955f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This structure describes how to handle spherical videos, outlining information about projection, initial layout, and any other view modifier.</p>
<dl class="section note"><dt>Note</dt><dd>The struct must be allocated with <a class="el" href="group__lavu__video__spherical.html#gab366393b8836ac987df51546183386ea">av_spherical_alloc()</a> and its size is not a part of the public ABI. </dd></dl>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00082">82</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a670ae033266fb97133204baa6609955f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a670ae033266fb97133204baa6609955f">&#9670;&nbsp;</a></span>bound_bottom</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t AVSphericalMapping::bound_bottom</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance from the bottom edge. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00170">170</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="a5168f1a737916aae56f0cf41d71937f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5168f1a737916aae56f0cf41d71937f7">&#9670;&nbsp;</a></span>bound_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t AVSphericalMapping::bound_left</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance from the left edge. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00167">167</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="a6cbcda5b8d0118e50e4a1b574919af50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cbcda5b8d0118e50e4a1b574919af50">&#9670;&nbsp;</a></span>bound_right</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t AVSphericalMapping::bound_right</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance from the right edge. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00169">169</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="a5f82d37755e0d54559c254b7bdefffbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f82d37755e0d54559c254b7bdefffbe">&#9670;&nbsp;</a></span>bound_top</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t AVSphericalMapping::bound_top</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance from the top edge. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00168">168</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="adeea248f32ff9ec9cd8de310f3d00108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeea248f32ff9ec9cd8de310f3d00108">&#9670;&nbsp;</a></span>padding</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t AVSphericalMapping::padding</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of pixels to pad from the edge of each cube face.</p>
<dl class="section note"><dt>Note</dt><dd>This value is valid for only for the cubemap projection type (<a class="el" href="group__lavu__video__spherical.html#gga689eeb8cf9b453f3619f3cf626e03a08aa0a8bc866354ecb619493db502c4d103">AV_SPHERICAL_CUBEMAP</a>), and should be ignored in all other cases. </dd></dl>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00182">182</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="a84dfa298ac2ddf98665781507182a979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84dfa298ac2ddf98665781507182a979">&#9670;&nbsp;</a></span>pitch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="audioconvert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> AVSphericalMapping::pitch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotation around the right vector [-90, 90]. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00127">127</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="a5576008bdc224db049b1795b3c95fe16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5576008bdc224db049b1795b3c95fe16">&#9670;&nbsp;</a></span>projection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__lavu__video__spherical.html#ga689eeb8cf9b453f3619f3cf626e03a08">AVSphericalProjection</a> AVSphericalMapping::projection</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Projection type. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00226">226</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="aaad422230e2b0f0ebfb981275e22ffb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad422230e2b0f0ebfb981275e22ffb0">&#9670;&nbsp;</a></span>roll</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="audioconvert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> AVSphericalMapping::roll</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotation around the forward vector [-180, 180]. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00128">128</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<a id="ad7d7c61a2550cc4284076cc846873702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d7c61a2550cc4284076cc846873702">&#9670;&nbsp;</a></span>yaw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="audioconvert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> AVSphericalMapping::yaw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotation around the up vector [-180, 180]. </p>

<p class="definition">Definition at line <a class="el" href="spherical_8h_source.html#l00126">126</a> of file <a class="el" href="spherical_8h_source.html">spherical.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>E:/github/ffmpeg/libavutil/<a class="el" href="spherical_8h_source.html">spherical.h</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a6cbcda5b8d0118e50e4a1b574919af50"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a6cbcda5b8d0118e50e4a1b574919af50">AVSphericalMapping::bound_right</a></div><div class="ttdeci">uint32_t bound_right</div><div class="ttdoc">Distance from the right edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00169">spherical.h:169</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a670ae033266fb97133204baa6609955f"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a670ae033266fb97133204baa6609955f">AVSphericalMapping::bound_bottom</a></div><div class="ttdeci">uint32_t bound_bottom</div><div class="ttdoc">Distance from the bottom edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00170">spherical.h:170</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a5168f1a737916aae56f0cf41d71937f7"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a5168f1a737916aae56f0cf41d71937f7">AVSphericalMapping::bound_left</a></div><div class="ttdeci">uint32_t bound_left</div><div class="ttdoc">Distance from the left edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00167">spherical.h:167</a></div></div>
<div class="ttc" id="astruct_a_v_spherical_mapping_html_a5f82d37755e0d54559c254b7bdefffbe"><div class="ttname"><a href="struct_a_v_spherical_mapping.html#a5f82d37755e0d54559c254b7bdefffbe">AVSphericalMapping::bound_top</a></div><div class="ttdeci">uint32_t bound_top</div><div class="ttdoc">Distance from the top edge.</div><div class="ttdef"><b>Definition:</b> <a href="spherical_8h_source.html#l00168">spherical.h:168</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
