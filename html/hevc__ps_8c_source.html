<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/hevc_ps.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">hevc_ps.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="hevc__ps_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * HEVC Parameter Set decoding</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2012 - 2103 Guillaume Martres</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 2012 - 2103 Mickael Raulet</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2012 - 2013 Gildas Cocherel</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Copyright (C) 2013 Vittorio Giovara</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="imgutils_8h.html">libavutil/imgutils.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="golomb_8h.html">golomb.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hevc__data_8h.html">hevc_data.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hevc__ps_8h.html">hevc_ps.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">   31</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>[] = {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    16, 16, 16, 16, 17, 18, 21, 24,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    16, 16, 16, 16, 17, 19, 22, 25,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    16, 16, 17, 18, 20, 22, 25, 29,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    16, 16, 18, 21, 24, 27, 31, 36,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    17, 17, 20, 24, 30, 35, 41, 47,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    18, 19, 22, 27, 35, 44, 54, 65,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    21, 22, 25, 31, 41, 54, 70, 88,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    24, 25, 29, 36, 47, 65, 88, 115</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;};</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">   42</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>[] = {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    16, 16, 16, 16, 17, 18, 20, 24,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    16, 16, 16, 17, 18, 20, 24, 25,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    16, 16, 17, 18, 20, 24, 25, 28,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    16, 17, 18, 20, 24, 25, 28, 33,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    17, 18, 20, 24, 25, 28, 33, 41,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    18, 20, 24, 25, 28, 33, 41, 54,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    20, 24, 25, 28, 33, 41, 54, 71,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    24, 25, 28, 33, 41, 54, 71, 91</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;};</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#afd701174dcf865a94ce025da6f7f94d8">   53</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="hevc__ps_8c.html#afd701174dcf865a94ce025da6f7f94d8">vui_sar</a>[] = {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {  0,   1 },</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {  1,   1 },</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    { 12,  11 },</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    { 10,  11 },</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    { 16,  11 },</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    { 40,  33 },</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    { 24,  11 },</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    { 20,  11 },</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    { 32,  11 },</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    { 80,  33 },</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    { 18,  11 },</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    { 15,  11 },</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    { 64,  33 },</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    { 160, 99 },</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    {  4,   3 },</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    {  3,   2 },</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {  2,   1 },</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;};</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a7f5d51261fb77d9aaa3c9a053072f95d">   73</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="hevc__ps_8c.html#a7f5d51261fb77d9aaa3c9a053072f95d">hevc_sub_width_c</a>[] = {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    1, 2, 2, 1</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;};</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a6dec5675c08ef73d6dd9758ee38253cb">   77</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="hevc__ps_8c.html#a6dec5675c08ef73d6dd9758ee38253cb">hevc_sub_height_c</a>[] = {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    1, 2, 1, 1</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;};</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a749c224deda2d1f94b16c267ded2f0e7">   81</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#a749c224deda2d1f94b16c267ded2f0e7">remove_pps</a>(<a class="code" href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps_list[<span class="keywordtype">id</span>] &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps == (<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a>*)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps_list[<span class="keywordtype">id</span>]-&gt;data)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps_list[<span class="keywordtype">id</span>]);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a23454ea8248b749fb902f4df3e6ac490">   88</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#a23454ea8248b749fb902f4df3e6ac490">remove_sps</a>(<a class="code" href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list[<span class="keywordtype">id</span>]) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps == (<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a>*)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list[<span class="keywordtype">id</span>]-&gt;data)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="comment">/* drop all PPS that depend on this SPS */</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps_list); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; ((<a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a>*)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pps_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;data)-&gt;sps_id == <a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <a class="code" href="hevc__ps_8c.html#a749c224deda2d1f94b16c267ded2f0e7">remove_pps</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list[<span class="keywordtype">id</span>] &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps == (<a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a>*)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list[<span class="keywordtype">id</span>]-&gt;data));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list[<span class="keywordtype">id</span>]);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a09a70d905fb407ff46b5797a3b92aae6">  105</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#a09a70d905fb407ff46b5797a3b92aae6">remove_vps</a>(<a class="code" href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vps_list[<span class="keywordtype">id</span>]) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vps == (<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_v_p_s.html">HEVCVPS</a>*)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vps_list[<span class="keywordtype">id</span>]-&gt;data)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vps = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; ((<a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a>*)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sps_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;data)-&gt;vps_id == <a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <a class="code" href="hevc__ps_8c.html#a23454ea8248b749fb902f4df3e6ac490">remove_sps</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vps_list[<span class="keywordtype">id</span>]);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="hevc__ps_8h.html#a99f15453f9b7b84e5c0326408e5b3072">  119</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#a99f15453f9b7b84e5c0326408e5b3072">ff_hevc_decode_short_term_rps</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                  <a class="code" href="struct_short_term_r_p_s.html">ShortTermRPS</a> *rps, <span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>, <span class="keywordtype">int</span> is_slice_header)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> rps_predict = 0;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">int</span> delta_poc;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">int</span> k0 = 0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">int</span> k1 = 0;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">int</span> k  = 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (rps != <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;st_rps &amp;&amp; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        rps_predict = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (rps_predict) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_short_term_r_p_s.html">ShortTermRPS</a> *rps_ridx;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordtype">int</span> delta_rps;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordtype">unsigned</span> abs_delta_rps;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> use_delta_flag = 0;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> delta_rps_sign;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">if</span> (is_slice_header) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta_idx = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">if</span> (delta_idx &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                       <span class="stringliteral">&quot;Invalid value of delta_idx in slice header RPS: %d &gt; %d.\n&quot;</span>,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                       delta_idx, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            rps_ridx = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;st_rps[<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps - delta_idx];</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#aeec3751def82a5f462372206db895f17">rps_idx_num_delta_pocs</a> = rps_ridx-&gt;<a class="code" href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">num_delta_pocs</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            rps_ridx = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;st_rps[rps - <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;st_rps - 1];</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        delta_rps_sign = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        abs_delta_rps  = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">if</span> (abs_delta_rps &lt; 1 || abs_delta_rps &gt; 32768) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                   <span class="stringliteral">&quot;Invalid value of abs_delta_rps: %d\n&quot;</span>,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                   abs_delta_rps);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        delta_rps      = (1 - (delta_rps_sign &lt;&lt; 1)) * abs_delta_rps;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= rps_ridx-&gt;<a class="code" href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">num_delta_pocs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordtype">int</span> used = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[k] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (!used)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                use_delta_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">if</span> (used || use_delta_flag) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keywordflow">if</span> (i &lt; rps_ridx-&gt;num_delta_pocs)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    delta_poc = delta_rps + rps_ridx-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    delta_poc = delta_rps;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[k] = delta_poc;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="keywordflow">if</span> (delta_poc &lt; 0)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    k0++;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    k1++;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                k++;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">if</span> (k &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>)) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                   <span class="stringliteral">&quot;Invalid num_delta_pocs: %d\n&quot;</span>, k);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">num_delta_pocs</a>    = k;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> = k0;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="comment">// sort in increasing order (smallest first)</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span> (rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">num_delta_pocs</a> != 0) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordtype">int</span> used, tmp;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">num_delta_pocs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                delta_poc = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                used      = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">for</span> (k = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1; k &gt;= 0; k--) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    tmp = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[k];</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <span class="keywordflow">if</span> (delta_poc &lt; tmp) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[k + 1] = tmp;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[k + 1]      = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[k];</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[k]     = delta_poc;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[k]          = used;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> ((rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> &gt;&gt; 1) != 0) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordtype">int</span> used;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            k = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> - 1;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="comment">// flip the negative values to largest first</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> &gt;&gt; 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                delta_poc         = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                used              = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[k];</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]      = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[k];</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[k] = delta_poc;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[k]      = used;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                k--;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prev, nb_positive_pics;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        nb_positive_pics       = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span> (rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> &gt;= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba68ee776177c7961c56ac5e656e5511cc">HEVC_MAX_REFS</a> ||</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            nb_positive_pics &gt;= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba68ee776177c7961c56ac5e656e5511cc">HEVC_MAX_REFS</a>) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many refs in a short term RPS.\n&quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">num_delta_pocs</a> = rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> + nb_positive_pics;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span> (rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">num_delta_pocs</a>) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            prev = 0;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                delta_poc = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">if</span> (delta_poc &lt; 1 || delta_poc &gt; 32768) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        <span class="stringliteral">&quot;Invalid value of delta_poc: %d\n&quot;</span>,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        delta_poc);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                prev -= delta_poc;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = prev;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]      = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            prev = 0;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nb_positive_pics; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                delta_poc = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keywordflow">if</span> (delta_poc &lt; 1 || delta_poc &gt; 32768) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        <span class="stringliteral">&quot;Invalid value of delta_poc: %d\n&quot;</span>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        delta_poc);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                prev += delta_poc;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">delta_poc</a>[rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = prev;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">used</a>[rps-&gt;<a class="code" href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">num_negative_pics</a> + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]      = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a92b1e02f7ac65c46ad217b5cbe99b2bb">  265</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#a92b1e02f7ac65c46ad217b5cbe99b2bb">decode_profile_tier_level</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                      <a class="code" href="struct_p_t_l_common.html">PTLCommon</a> *<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 2+1+5 + 32 + 4 + 43 + 1)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_space = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;tier_flag     = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc   = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc == <a class="code" href="avcodec_8h.html#af7a5858840ff5f2c70ae33a2cd1f4228">FF_PROFILE_HEVC_MAIN</a>)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Main profile bitstream\n&quot;</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc == <a class="code" href="avcodec_8h.html#aaf015040dda97fac08a56ddbd1dd1e31">FF_PROFILE_HEVC_MAIN_10</a>)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Main 10 profile bitstream\n&quot;</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc == <a class="code" href="avcodec_8h.html#a571768f99442e5974cdf412ede46d0fc">FF_PROFILE_HEVC_MAIN_STILL_PICTURE</a>)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Main Still Picture profile bitstream\n&quot;</span>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc == <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Range Extension profile bitstream\n&quot;</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown HEVC profile: %d\n&quot;</span>, <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 32; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_compatibility_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc == 0 &amp;&amp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0 &amp;&amp; <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_compatibility_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;profile_idc = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;progressive_source_flag    = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;interlaced_source_flag     = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;non_packed_constraint_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;frame_only_constraint_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">#define check_profile_idc(idc) \</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">        ptl-&gt;profile_idc == idc || ptl-&gt;profile_compatibility_flag[idc]</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(4) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(5) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(6) ||</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(7) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(8) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(9) ||</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(10)) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;max_12bit_constraint_flag        = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;max_10bit_constraint_flag        = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;max_8bit_constraint_flag         = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;max_422chroma_constraint_flag    = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;max_420chroma_constraint_flag    = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;max_monochrome_constraint_flag   = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;intra_constraint_flag            = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;one_picture_only_constraint_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;lower_bit_rate_constraint_flag   = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(5) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(9) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(10)) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;max_14bit_constraint_flag    = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, 33); <span class="comment">// XXX_reserved_zero_33bits[0..32]</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, 34); <span class="comment">// XXX_reserved_zero_34bits[0..33]</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(2)) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 7);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;one_picture_only_constraint_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, 35); <span class="comment">// XXX_reserved_zero_35bits[0..34]</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(gb, 43); <span class="comment">// XXX_reserved_zero_43bits[0..42]</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(1) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(2) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(3) ||</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(4) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(5) || <a class="code" href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a>(9))</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;inbld_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">#undef check_profile_idc</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a44a3f38d5c5e59f77f26c3f1bc7c0dea">  339</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#a44a3f38d5c5e59f77f26c3f1bc7c0dea">parse_ptl</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                      <a class="code" href="struct_p_t_l.html">PTL</a> *<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>, <span class="keywordtype">int</span> max_num_sub_layers)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="hevc__ps_8c.html#a92b1e02f7ac65c46ad217b5cbe99b2bb">decode_profile_tier_level</a>(gb, avctx, &amp;<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;general_ptl) &lt; 0 ||</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 8 + (8*2 * (max_num_sub_layers - 1 &gt; 0))) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;PTL information too short\n&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;general_ptl.level_idc = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; max_num_sub_layers - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a62d5885aafe8e466eb041715e3cb5cc8">sub_layer_profile_present_flag</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#aefbf2ffe131808d1bd89cd061c02b5d3">sub_layer_level_present_flag</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]   = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (max_num_sub_layers - 1&gt; 0)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = max_num_sub_layers - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 2); <span class="comment">// reserved_zero_2bits[i]</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; max_num_sub_layers - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#a62d5885aafe8e466eb041715e3cb5cc8">sub_layer_profile_present_flag</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <a class="code" href="hevc__ps_8c.html#a92b1e02f7ac65c46ad217b5cbe99b2bb">decode_profile_tier_level</a>(gb, avctx, &amp;<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;sub_layer_ptl[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt; 0) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                   <span class="stringliteral">&quot;PTL information for sublayer %i too short\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;<a class="code" href="struct_h265_raw_profile_tier_level.html#aefbf2ffe131808d1bd89cd061c02b5d3">sub_layer_level_present_flag</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 8) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                       <span class="stringliteral">&quot;Not enough data for sublayer %i level_idc\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <a class="code" href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a>-&gt;sub_layer_ptl[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].level_idc = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a2c0e4a41f53e7c345b558d6fc3d6a64a">  379</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#a2c0e4a41f53e7c345b558d6fc3d6a64a">decode_sublayer_hrd</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_cpb,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                <span class="keywordtype">int</span> subpic_params_present)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nb_cpb; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb); <span class="comment">// bit_rate_value_minus1</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb); <span class="comment">// cpb_size_value_minus1</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">if</span> (subpic_params_present) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb); <span class="comment">// cpb_size_du_value_minus1</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb); <span class="comment">// bit_rate_du_value_minus1</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a>(gb); <span class="comment">// cbr_flag</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#ac5c7d54e22c2b7403aa24f76ad37d56d">  396</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#ac5c7d54e22c2b7403aa24f76ad37d56d">decode_hrd</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> common_inf_present,</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                       <span class="keywordtype">int</span> max_sublayers)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordtype">int</span> nal_params_present = 0, vcl_params_present = 0;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordtype">int</span> subpic_params_present = 0;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (common_inf_present) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        nal_params_present = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        vcl_params_present = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">if</span> (nal_params_present || vcl_params_present) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            subpic_params_present = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordflow">if</span> (subpic_params_present) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 8); <span class="comment">// tick_divisor_minus2</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 5); <span class="comment">// du_cpb_removal_delay_increment_length_minus1</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 1); <span class="comment">// sub_pic_cpb_params_in_pic_timing_sei_flag</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 5); <span class="comment">// dpb_output_delay_du_length_minus1</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4); <span class="comment">// bit_rate_scale</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4); <span class="comment">// cpb_size_scale</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">if</span> (subpic_params_present)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 4);  <span class="comment">// cpb_size_du_scale</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 5); <span class="comment">// initial_cpb_removal_delay_length_minus1</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 5); <span class="comment">// au_cpb_removal_delay_length_minus1</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 5); <span class="comment">// dpb_output_delay_length_minus1</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; max_sublayers; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordtype">int</span> low_delay = 0;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_cpb = 1;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordtype">int</span> fixed_rate = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">if</span> (!fixed_rate)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            fixed_rate = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">if</span> (fixed_rate)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);  <span class="comment">// elemental_duration_in_tc_minus1</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            low_delay = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span> (!low_delay) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            nb_cpb = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">if</span> (nb_cpb &lt; 1 || nb_cpb &gt; 32) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;nb_cpb %d invalid\n&quot;</span>, nb_cpb);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (nal_params_present)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="hevc__ps_8c.html#a2c0e4a41f53e7c345b558d6fc3d6a64a">decode_sublayer_hrd</a>(gb, nb_cpb, subpic_params_present);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">if</span> (vcl_params_present)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <a class="code" href="hevc__ps_8c.html#a2c0e4a41f53e7c345b558d6fc3d6a64a">decode_sublayer_hrd</a>(gb, nb_cpb, subpic_params_present);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="hevc__ps_8h.html#a8c2c57a94ad5c864c2057f242a79e481">  458</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#a8c2c57a94ad5c864c2057f242a79e481">ff_hevc_decode_nal_vps</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                           <a class="code" href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a> *ps)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,j;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordtype">int</span> vps_id = 0;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    ptrdiff_t nal_size;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="struct_h_e_v_c_v_p_s.html">HEVCVPS</a> *<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="struct_a_v_buffer_ref.html">AVBufferRef</a> *vps_buf = <a class="code" href="group__lavu__buffer.html#ga27f37cc004f768b00442b6cb08091686">av_buffer_allocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (!vps_buf)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a> = (<a class="code" href="struct_h_e_v_c_v_p_s.html">HEVCVPS</a>*)vps_buf-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Decoding VPS\n&quot;</span>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    nal_size = gb-&gt;<a class="code" href="struct_get_bit_context.html#adb1b693f5d0cc1dc759c297509974e14">buffer_end</a> - gb-&gt;<a class="code" href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">buffer</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (nal_size &gt; <span class="keyword">sizeof</span>(<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;data)) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Truncating likely oversized VPS &quot;</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;               <span class="stringliteral">&quot;(%&quot;</span><a class="code" href="libavutil_2internal_8h.html#a5a241f1b73b42f74b4122da23004dc6c">PTRDIFF_SPECIFIER</a><span class="stringliteral">&quot; &gt; %&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;               nal_size, <span class="keyword">sizeof</span>(<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;data));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;data_size = <span class="keyword">sizeof</span>(<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;data);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;data_size = nal_size;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    memcpy(<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;data, gb-&gt;<a class="code" href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">buffer</a>, <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;data_size);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    vps_id = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2) != 3) { <span class="comment">// vps_reserved_three_2bits</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;vps_reserved_three_2bits is not three\n&quot;</span>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_layers               = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6) + 1;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers           = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3) + 1;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_temporal_id_nesting_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16) != 0xffff) { <span class="comment">// vps_reserved_ffff_16bits</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;vps_reserved_ffff_16bits is not 0xffff\n&quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers &gt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baa4855990b8b2e78093c06226d9eb8331">HEVC_MAX_SUB_LAYERS</a>) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;vps_max_sub_layers out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;               <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="hevc__ps_8c.html#a44a3f38d5c5e59f77f26c3f1bc7c0dea">parse_ptl</a>(gb, avctx, &amp;<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;ptl, <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers) &lt; 0)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_sub_layer_ordering_info_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_sub_layer_ordering_info_present_flag ? 0 : <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers - 1;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_dec_pic_buffering[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_reorder_pics[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]      = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_latency_increase[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]  = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) - 1;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_dec_pic_buffering[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bafa842126261f20f28f863039dd012701">HEVC_MAX_DPB_SIZE</a> || !<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_dec_pic_buffering[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;vps_max_dec_pic_buffering_minus1 out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                   <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_dec_pic_buffering[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_reorder_pics[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_dec_pic_buffering[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;vps_max_num_reorder_pics out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                   <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_reorder_pics[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af9978d9bd6ac80a494ef1b78fe1d004f">err_recognition</a> &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_layer_id   = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_layer_sets = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_layer_sets &lt; 1 || <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_layer_sets &gt; 1024 ||</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_layer_sets - 1LL) * (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_layer_id + 1LL) &gt; <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb)) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;too many layer_id_included_flags\n&quot;</span>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_layer_sets; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt;= <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_layer_id; j++)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 1);  <span class="comment">// layer_id_included_flag[i][j]</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_timing_info_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_timing_info_present_flag) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_units_in_tick               = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_time_scale                      = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_poc_proportional_to_timing_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_poc_proportional_to_timing_flag)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_ticks_poc_diff_one = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_hrd_parameters = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_hrd_parameters &gt; (<span class="keywordtype">unsigned</span>)<a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_layer_sets) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                   <span class="stringliteral">&quot;vps_num_hrd_parameters %d is invalid\n&quot;</span>, <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_hrd_parameters);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_num_hrd_parameters; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordtype">int</span> common_inf_present = 1;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb); <span class="comment">// hrd_layer_set_idx</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                common_inf_present = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <a class="code" href="hevc__ps_8c.html#ac5c7d54e22c2b7403aa24f76ad37d56d">decode_hrd</a>(gb, common_inf_present, <a class="code" href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a>-&gt;vps_max_sub_layers);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb); <span class="comment">/* vps_extension_flag */</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 0) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;               <span class="stringliteral">&quot;Overread VPS by %d bits\n&quot;</span>, -<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb));</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">vps_list</a>[vps_id])</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">vps_list</a>[vps_id] &amp;&amp;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        !memcmp(ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">vps_list</a>[vps_id]-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>, vps_buf-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>, vps_buf-&gt;<a class="code" href="struct_a_v_buffer_ref.html#a55f17b82a5af97259a5e8a3fd9647a08">size</a>)) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;vps_buf);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="hevc__ps_8c.html#a09a70d905fb407ff46b5797a3b92aae6">remove_vps</a>(ps, vps_id);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">vps_list</a>[vps_id] = vps_buf;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;err:</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;vps_buf);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a75b23be7b03c45a4637544ff6f820b93">  588</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#a75b23be7b03c45a4637544ff6f820b93">decode_vui</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                       <span class="keywordtype">int</span> apply_defdispwin, <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="struct_v_u_i.html">VUI</a> backup_vui, *vui = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> backup;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">int</span> sar_present, alt = 0;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Decoding VUI\n&quot;</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    sar_present = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (sar_present) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> sar_idx = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">if</span> (sar_idx &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="hevc__ps_8c.html#afd701174dcf865a94ce025da6f7f94d8">vui_sar</a>))</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#a567b58b040435dc9fb40f45128552246">sar</a> = <a class="code" href="hevc__ps_8c.html#afd701174dcf865a94ce025da6f7f94d8">vui_sar</a>[sar_idx];</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sar_idx == 255) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#a567b58b040435dc9fb40f45128552246">sar</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#a567b58b040435dc9fb40f45128552246">sar</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                   <span class="stringliteral">&quot;Unknown SAR index: %u.\n&quot;</span>, sar_idx);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#ad5a7c2d53640e73541f0d5f91a28f98f">overscan_info_present_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#ad5a7c2d53640e73541f0d5f91a28f98f">overscan_info_present_flag</a>)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a83596ebf408f9876661d259008b3e02d">overscan_appropriate_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#a8548214443169d4daac74fb59b609e7f">video_signal_type_present_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#a8548214443169d4daac74fb59b609e7f">video_signal_type_present_flag</a>) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#acb9f48fd5f3c5a798c15176c88faf10b">video_format</a>                    = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#ad5a6ea481f924fd5856619272eb1a4b6">video_full_range_flag</a>           = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a49ed362b2fc3a1765641a0ee114b8c84">colour_description_present_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#ad5a6ea481f924fd5856619272eb1a4b6">video_full_range_flag</a> &amp;&amp; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5aef61d7a65003ef618420f618294107b0">AV_PIX_FMT_YUVJ420P</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#a49ed362b2fc3a1765641a0ee114b8c84">colour_description_present_flag</a>) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#a1616d10423206348807db7f61d073f3c">colour_primaries</a>        = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#afe1ef0e5f267f906ca40de742cb2d56d">transfer_characteristic</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#a045a217e4da5d87628932e5bc2e3600e">matrix_coeffs</a>           = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="comment">// Set invalid values to &quot;unspecified&quot;</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="pixdesc_8c.html#a811dbb6cf48bbcd66a1243bdd6d89909">av_color_primaries_name</a>(vui-&gt;<a class="code" href="struct_v_u_i.html#a1616d10423206348807db7f61d073f3c">colour_primaries</a>))</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                vui-&gt;<a class="code" href="struct_v_u_i.html#a1616d10423206348807db7f61d073f3c">colour_primaries</a> = <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942">AVCOL_PRI_UNSPECIFIED</a>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="pixdesc_8c.html#a2ebc788f298dc96bc647ebcdeeb5d0b2">av_color_transfer_name</a>(vui-&gt;<a class="code" href="struct_v_u_i.html#afe1ef0e5f267f906ca40de742cb2d56d">transfer_characteristic</a>))</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                vui-&gt;<a class="code" href="struct_v_u_i.html#afe1ef0e5f267f906ca40de742cb2d56d">transfer_characteristic</a> = <a class="code" href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab">AVCOL_TRC_UNSPECIFIED</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="pixdesc_8c.html#a7a5b3f4d128f0a0112b4a91f75055339">av_color_space_name</a>(vui-&gt;<a class="code" href="struct_v_u_i.html#a045a217e4da5d87628932e5bc2e3600e">matrix_coeffs</a>))</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                vui-&gt;<a class="code" href="struct_v_u_i.html#a045a217e4da5d87628932e5bc2e3600e">matrix_coeffs</a> = <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#a045a217e4da5d87628932e5bc2e3600e">matrix_coeffs</a> == <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a6e7b38ac24fb682ade84cada0dd0770d">AVCOL_SPC_RGB</a>) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a>:</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ad000ae47faa5fbe8d4b3b375151694ef">AV_PIX_FMT_GBRP</a>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>:</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a143cd27f91e2f9f4517781dfbf5c6bc1">AV_PIX_FMT_YUV444P12</a>:</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a7de060139e9fd1ba12510b9e14e1e259">AV_PIX_FMT_GBRP12</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#afee4465e9af791526eca8e93cda14889">chroma_loc_info_present_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#afee4465e9af791526eca8e93cda14889">chroma_loc_info_present_flag</a>) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#ad1d39ab6903581255c3fc501bc393475">chroma_sample_loc_type_top_field</a>    = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a88ddd058c7fb334893ba68ebf5c02163">chroma_sample_loc_type_bottom_field</a> = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#aa54dce2bcb6046a61b2a2dbb0f80d940">neutra_chroma_indication_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#a5c6faccbfb6c1ab17dd68428760147a3">field_seq_flag</a>                = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#a58c481b27ac604a29be0031c79aca5df">frame_field_info_present_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// Backup context in case an alternate header is detected</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    memcpy(&amp;backup, gb, <span class="keyword">sizeof</span>(backup));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    memcpy(&amp;backup_vui, vui, <span class="keyword">sizeof</span>(backup_vui));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 68 &amp;&amp; <a class="code" href="get__bits_8h.html#a1e8bf29d582aed77edf011f2e60adbcb">show_bits_long</a>(gb, 21) == 0x100000) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#ac42c745588ed97211bce507226e20d6d">default_display_window_flag</a> = 0;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid default display window\n&quot;</span>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#ac42c745588ed97211bce507226e20d6d">default_display_window_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#ac42c745588ed97211bce507226e20d6d">default_display_window_flag</a>) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordtype">int</span> vert_mult  = <a class="code" href="hevc__ps_8c.html#a6dec5675c08ef73d6dd9758ee38253cb">hevc_sub_height_c</a>[<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc];</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordtype">int</span> horiz_mult = <a class="code" href="hevc__ps_8c.html#a7f5d51261fb77d9aaa3c9a053072f95d">hevc_sub_width_c</a>[<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc];</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#ac8e7717f18a598106e9699b61d5872bf">left_offset</a>   = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) * horiz_mult;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a3684ec2b4c6ea3cbe787d4a8f3d0bf05">right_offset</a>  = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) * horiz_mult;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a11179011b3a514f824ae146ecf69988b">top_offset</a>    = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) *  vert_mult;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a6885a7c1f60343f205218d8bea19b923">bottom_offset</a> = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) *  vert_mult;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">if</span> (apply_defdispwin &amp;&amp;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1944f9a4f8f2e123c087e1fe7613d571">flags2</a> &amp; <a class="code" href="group__lavc__core.html#gaa4110d30a0542c7d0198c46ab87e7249">AV_CODEC_FLAG2_IGNORE_CROP</a>) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                   <span class="stringliteral">&quot;discarding vui default display window, &quot;</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                   <span class="stringliteral">&quot;original values are l:%u r:%u t:%u b:%u\n&quot;</span>,</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                   vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#ac8e7717f18a598106e9699b61d5872bf">left_offset</a>,</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                   vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a3684ec2b4c6ea3cbe787d4a8f3d0bf05">right_offset</a>,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                   vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a11179011b3a514f824ae146ecf69988b">top_offset</a>,</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                   vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a6885a7c1f60343f205218d8bea19b923">bottom_offset</a>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#ac8e7717f18a598106e9699b61d5872bf">left_offset</a>   =</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a3684ec2b4c6ea3cbe787d4a8f3d0bf05">right_offset</a>  =</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a11179011b3a514f824ae146ecf69988b">top_offset</a>    =</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">def_disp_win</a>.<a class="code" href="struct_h_e_v_c_window.html#a6885a7c1f60343f205218d8bea19b923">bottom_offset</a> = 0;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<a class="code" href="cbs__av1__syntax__template_8c.html#a570657a8099545f4a449507ec30fe1b9">timing_info</a>:</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#a11493d9ace0578d0798659049942e6d7">vui_timing_info_present_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#a11493d9ace0578d0798659049942e6d7">vui_timing_info_present_flag</a>) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 66 &amp;&amp; !alt) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="comment">// The alternate syntax seem to have timing info located</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="comment">// at where def_disp_win is normally located</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                   <span class="stringliteral">&quot;Strange VUI timing information, retrying...\n&quot;</span>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            memcpy(vui, &amp;backup_vui, <span class="keyword">sizeof</span>(backup_vui));</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            memcpy(gb, &amp;backup, <span class="keyword">sizeof</span>(backup));</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            alt = 1;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="cbs__av1__syntax__template_8c.html#a570657a8099545f4a449507ec30fe1b9">timing_info</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#aec8732819329c5c2e28e66a72c8a5775">vui_num_units_in_tick</a>               = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a871639dbcfa5a7f26bba7146bbbb0d0e">vui_time_scale</a>                      = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">if</span> (alt) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Retry got %&quot;</span>PRIu32<span class="stringliteral">&quot;/%&quot;</span>PRIu32<span class="stringliteral">&quot; fps\n&quot;</span>,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                   vui-&gt;<a class="code" href="struct_v_u_i.html#a871639dbcfa5a7f26bba7146bbbb0d0e">vui_time_scale</a>, vui-&gt;<a class="code" href="struct_v_u_i.html#aec8732819329c5c2e28e66a72c8a5775">vui_num_units_in_tick</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a0f4622f3d730a2a1b34a6425741249ed">vui_poc_proportional_to_timing_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#a0f4622f3d730a2a1b34a6425741249ed">vui_poc_proportional_to_timing_flag</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            vui-&gt;<a class="code" href="struct_v_u_i.html#a63d8d7b62d980da2a3543114d2468bbd">vui_num_ticks_poc_diff_one_minus1</a> = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a6be5ff93dd63090b88066011fd2f206d">vui_hrd_parameters_present_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#a6be5ff93dd63090b88066011fd2f206d">vui_hrd_parameters_present_flag</a>)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <a class="code" href="hevc__ps_8c.html#ac5c7d54e22c2b7403aa24f76ad37d56d">decode_hrd</a>(gb, 1, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    vui-&gt;<a class="code" href="struct_v_u_i.html#a52c3fbad6e4ab373604e8e2bdb64c3f6">bitstream_restriction_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">if</span> (vui-&gt;<a class="code" href="struct_v_u_i.html#a52c3fbad6e4ab373604e8e2bdb64c3f6">bitstream_restriction_flag</a>) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 8 &amp;&amp; !alt) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                   <span class="stringliteral">&quot;Strange VUI bitstream restriction information, retrying&quot;</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                   <span class="stringliteral">&quot; from timing information...\n&quot;</span>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            memcpy(vui, &amp;backup_vui, <span class="keyword">sizeof</span>(backup_vui));</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            memcpy(gb, &amp;backup, <span class="keyword">sizeof</span>(backup));</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            alt = 1;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="cbs__av1__syntax__template_8c.html#a570657a8099545f4a449507ec30fe1b9">timing_info</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a1dcea12e22a7aed50e45103a8e87e226">tiles_fixed_structure_flag</a>              = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a4b21d0c22a48bb8b5e1a33040a4939a4">motion_vectors_over_pic_boundaries_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#ac481035a2854e7570279a9114572847c">restricted_ref_pic_lists_flag</a>           = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a8c10732a945d1489cc7143dfd423cb35">min_spatial_segmentation_idc</a>            = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a5fe3c8b068d55f80b7d2aa9453ecdae9">max_bytes_per_pic_denom</a>                 = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a1231ccbf29f045ad819943935d4525bc">max_bits_per_min_cu_denom</a>               = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a1a7f9a0f782265fbce2c8dcacc4fb869">log2_max_mv_length_horizontal</a>           = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        vui-&gt;<a class="code" href="struct_v_u_i.html#a4b3d4899bdca54f48d9258ca95c5d5ab">log2_max_mv_length_vertical</a>             = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 1 &amp;&amp; !alt) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="comment">// XXX: Alternate syntax when sps_range_extension_flag != 0?</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;               <span class="stringliteral">&quot;Overread in VUI, retrying from timing information...\n&quot;</span>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        memcpy(vui, &amp;backup_vui, <span class="keyword">sizeof</span>(backup_vui));</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        memcpy(gb, &amp;backup, <span class="keyword">sizeof</span>(backup));</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        alt = 1;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="cbs__av1__syntax__template_8c.html#a570657a8099545f4a449507ec30fe1b9">timing_info</a>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a619b60c59cf2a117f9d173ba4b021441">  753</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#a619b60c59cf2a117f9d173ba4b021441">set_default_scaling_list_data</a>(<a class="code" href="struct_scaling_list.html">ScalingList</a> *sl)</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;{</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordtype">int</span> matrixId;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">for</span> (matrixId = 0; matrixId &lt; 6; matrixId++) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="comment">// 4x4 default is 16</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        memset(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[0][matrixId], 16, 16);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[0][matrixId] = 16; <span class="comment">// default for 16x16</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[1][matrixId] = 16; <span class="comment">// default for 32x32</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[1][0], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[1][1], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[1][2], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[1][3], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[1][4], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[1][5], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][0], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][1], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][2], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][3], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][4], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][5], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][0], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][1], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][2], <a class="code" href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a>, 64);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][3], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][4], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][5], <a class="code" href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a>, 64);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#adb1a0f6630b23086f7a149ddaa928969">  783</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#adb1a0f6630b23086f7a149ddaa928969">scaling_list_data</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_scaling_list.html">ScalingList</a> *sl, <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> scaling_list_pred_mode_flag;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> scaling_list_dc_coef[2][6];</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordtype">int</span> size_id, matrix_id, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">for</span> (size_id = 0; size_id &lt; 4; size_id++)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">for</span> (matrix_id = 0; matrix_id &lt; 6; matrix_id += ((size_id == 3) ? 3 : 1)) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            scaling_list_pred_mode_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="keywordflow">if</span> (!scaling_list_pred_mode_flag) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <span class="comment">/* Only need to handle non-zero delta. Zero means default,</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">                 * which should already be in the arrays. */</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                    <span class="comment">// Copy from previous array.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                    <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> *= (size_id == 3) ? 3 : 1;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    <span class="keywordflow">if</span> (matrix_id &lt; <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                               <span class="stringliteral">&quot;Invalid delta in scaling list data: %d.\n&quot;</span>, <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    memcpy(sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[size_id][matrix_id],</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                           sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[size_id][matrix_id - <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>],</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                           size_id &gt; 0 ? 64 : 16);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    <span class="keywordflow">if</span> (size_id &gt; 1)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                        sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[size_id - 2][matrix_id] = sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[size_id - 2][matrix_id - <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>];</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="keywordtype">int</span> next_coef, coef_num;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> scaling_list_delta_coef;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                next_coef = 8;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                coef_num  = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(64, 1 &lt;&lt; (4 + (size_id &lt;&lt; 1)));</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">if</span> (size_id &gt; 1) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    scaling_list_dc_coef[size_id - 2][matrix_id] = <a class="code" href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a>(gb) + 8;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    next_coef = scaling_list_dc_coef[size_id - 2][matrix_id];</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[size_id - 2][matrix_id] = next_coef;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; coef_num; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    <span class="keywordflow">if</span> (size_id == 0)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = 4 * <a class="code" href="hevc__data_8c.html#ada63a1567f4b56ca6105310f00f52088">ff_hevc_diag_scan4x4_y</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] +</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                                  <a class="code" href="hevc__data_8c.html#a826830a6748099921aa3393971a8666d">ff_hevc_diag_scan4x4_x</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = 8 * <a class="code" href="hevc__data_8c.html#ac641553bf156e18b4abe50f39c9dcf07">ff_hevc_diag_scan8x8_y</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] +</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                                  <a class="code" href="hevc__data_8c.html#a4f40c335ee86aea7e6d4f026586255b6">ff_hevc_diag_scan8x8_x</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    scaling_list_delta_coef = <a class="code" href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a>(gb);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    next_coef = (next_coef + 256<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> + scaling_list_delta_coef) % 256;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[size_id][matrix_id][<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>] = next_coef;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 3) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][2][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][2][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][4][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][4][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[3][5][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sl-&gt;<a class="code" href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">sl</a>[2][5][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[1][1] = sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[0][1];</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[1][2] = sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[0][2];</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[1][4] = sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[0][4];</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[1][5] = sl-&gt;<a class="code" href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">sl_dc</a>[0][5];</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#a8455c46b841dffe0a245eebc90c1313d">  855</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#a8455c46b841dffe0a245eebc90c1313d">map_pixel_format</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;{</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 0) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 1) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 2) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 3) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;       <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">case</span> 9:</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 0) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a32797d9151e42c0cb6bf02b2212d523c">AV_PIX_FMT_GRAY9</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 1) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a87065facbceef6fc4aa6d1b00042d7cd">AV_PIX_FMT_YUV420P9</a>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 2) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a39097263283e4f4448321880d9b28d08">AV_PIX_FMT_YUV422P9</a>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 3) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a1455e5fb4ec9fc402e3fa8a65211bacd">AV_PIX_FMT_YUV444P9</a>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">case</span> 10:</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 0) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#abeb319f831977a63c9a50caec4b0d7ad">AV_PIX_FMT_GRAY10</a>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 1) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a2095c546851496e10160077ab89c845c">AV_PIX_FMT_YUV420P10</a>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 2) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 3) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 0) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a699dc7747424b5035d0d807e6d042464">AV_PIX_FMT_GRAY12</a>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 1) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a4f1a2065ddb07bd4881c07c1f6b0568c">AV_PIX_FMT_YUV420P12</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 2) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a570adc38d3ba623b3c4e07a6d22abfa8">AV_PIX_FMT_YUV422P12</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 3) <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a143cd27f91e2f9f4517781dfbf5c6bc1">AV_PIX_FMT_YUV444P12</a>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;               <span class="stringliteral">&quot;The following bit-depths are currently specified: 8, 9, 10 and 12 bits, &quot;</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;               <span class="stringliteral">&quot;chroma_format_idc is %d, depth is %d\n&quot;</span>,</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;hshift[0] = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vshift[0] = 0;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;hshift[2] = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;hshift[1] = <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vshift[2] = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vshift[1] = <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pixel_shift = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth &gt; 8;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="hevc__ps_8h.html#aa1b28685f00a7a270667514f1d6814dc">  904</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#aa1b28685f00a7a270667514f1d6814dc">ff_hevc_parse_sps</a>(<a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *sps_id,</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                      <span class="keywordtype">int</span> apply_defdispwin, <a class="code" href="struct_a_v_buffer_ref.html">AVBufferRef</a> **vps_list, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;{</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="struct_h_e_v_c_window.html">HEVCWindow</a> *ow;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordtype">int</span> log2_diff_max_min_transform_block_size;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordtype">int</span> bit_depth_chroma, start, vui_present, sublayer_ordering_info;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="comment">// Coded parameters</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vps_id = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> (vps_list &amp;&amp; !vps_list[<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vps_id]) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;VPS %d does not exist\n&quot;</span>,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vps_id);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3) + 1;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers &gt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baa4855990b8b2e78093c06226d9eb8331">HEVC_MAX_SUB_LAYERS</a>) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;sps_max_sub_layers out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_id_nesting_flag = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 1);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#a44a3f38d5c5e59f77f26c3f1bc7c0dea">parse_ptl</a>(gb, avctx, &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ptl, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers)) &lt; 0)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    *sps_id = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (*sps_id &gt;= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba33917566744b21c50fd2c9fdf3b8c48c">HEVC_MAX_SPS_COUNT</a>) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;SPS id out of range: %d\n&quot;</span>, *sps_id);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc &gt; 3<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;chroma_format_idc %d is invalid\n&quot;</span>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc == 3)</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;separate_colour_plane_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;separate_colour_plane_flag)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc = 0;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width  = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__picture.html#ga3a867b6180ddad1e0c382ef0c5940b8e">av_image_check_size</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height, 0, avctx)) &lt; 0)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) { <span class="comment">// pic_conformance_flag</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordtype">int</span> vert_mult  = <a class="code" href="hevc__ps_8c.html#a6dec5675c08ef73d6dd9758ee38253cb">hevc_sub_height_c</a>[<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc];</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordtype">int</span> horiz_mult = <a class="code" href="hevc__ps_8c.html#a7f5d51261fb77d9aaa3c9a053072f95d">hevc_sub_width_c</a>[<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc];</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.left_offset   = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) * horiz_mult;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.right_offset  = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) * horiz_mult;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.top_offset    = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) *  vert_mult;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.bottom_offset = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) *  vert_mult;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1944f9a4f8f2e123c087e1fe7613d571">flags2</a> &amp; <a class="code" href="group__lavc__core.html#gaa4110d30a0542c7d0198c46ab87e7249">AV_CODEC_FLAG2_IGNORE_CROP</a>) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                   <span class="stringliteral">&quot;discarding sps conformance window, &quot;</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                   <span class="stringliteral">&quot;original values are l:%u r:%u t:%u b:%u\n&quot;</span>,</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.left_offset,</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.right_offset,</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.top_offset,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.bottom_offset);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.left_offset   =</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.right_offset  =</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.top_offset    =</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win.bottom_offset = 0;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth   = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 8;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    bit_depth_chroma = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 8;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;chroma_format_idc &amp;&amp; bit_depth_chroma != <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;               <span class="stringliteral">&quot;Luma bit depth (%d) is different from chroma bit depth (%d), &quot;</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;               <span class="stringliteral">&quot;this is unsupported.\n&quot;</span>,</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth, bit_depth_chroma);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth_chroma = bit_depth_chroma;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#a8455c46b841dffe0a245eebc90c1313d">map_pixel_format</a>(avctx, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_poc_lsb = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 4;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_poc_lsb &gt; 16) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;log2_max_pic_order_cnt_lsb_minus4 out range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_poc_lsb - 4);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    sublayer_ordering_info = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    start = sublayer_ordering_info ? 0 : <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers - 1;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = start; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_sub_layers; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_dec_pic_buffering = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_reorder_pics      = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_latency_increase  = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) - 1;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_dec_pic_buffering &gt; (<span class="keywordtype">unsigned</span>)<a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bafa842126261f20f28f863039dd012701">HEVC_MAX_DPB_SIZE</a>) {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;sps_max_dec_pic_buffering_minus1 out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_dec_pic_buffering - 1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_reorder_pics &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_dec_pic_buffering - 1) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;sps_max_num_reorder_pics out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_reorder_pics);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af9978d9bd6ac80a494ef1b78fe1d004f">err_recognition</a> &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a> ||</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_reorder_pics &gt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bafa842126261f20f28f863039dd012701">HEVC_MAX_DPB_SIZE</a> - 1) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            }</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_dec_pic_buffering = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_reorder_pics + 1;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">if</span> (!sublayer_ordering_info) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; start; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_dec_pic_buffering = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[start].max_dec_pic_buffering;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num_reorder_pics      = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[start].num_reorder_pics;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].max_latency_increase  = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;temporal_layer[start].max_latency_increase;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size                    = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 3;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_coding_block_size = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size                    = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 2;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    log2_diff_max_min_transform_block_size   = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_trafo_size                 = log2_diff_max_min_transform_block_size +</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size &lt; 3 || <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size &gt; 30) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid value %d for log2_min_cb_size&quot;</span>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_coding_block_size &gt; 30) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid value %d for log2_diff_max_min_coding_block_size&quot;</span>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_coding_block_size);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size &gt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size || <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size &lt; 2) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid value for log2_min_tb_size&quot;</span>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">if</span> (log2_diff_max_min_transform_block_size &lt; 0 || log2_diff_max_min_transform_block_size &gt; 30) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid value %d for log2_diff_max_min_transform_block_size&quot;</span>, log2_diff_max_min_transform_block_size);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_inter = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_intra = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list_enable_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list_enable_flag) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="hevc__ps_8c.html#a619b60c59cf2a117f9d173ba4b021441">set_default_scaling_list_data</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#adb1a0f6630b23086f7a149ddaa928969">scaling_list_data</a>(gb, avctx, &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;scaling_list, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;amp_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sao_enabled      = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm_enabled_flag) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth   = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4) + 1;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth_chroma = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4) + 1;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.log2_min_pcm_cb_size = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 3;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.log2_max_pcm_cb_size = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.log2_min_pcm_cb_size +</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                                        <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth_chroma) &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                   <span class="stringliteral">&quot;PCM bit depth (%d, %d) is greater than normal bit depth (%d)\n&quot;</span>,</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.bit_depth_chroma, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pcm.loop_filter_disable_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps &gt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bae4e337bbc8ae4f79c918332d0b86c24c">HEVC_MAX_SHORT_TERM_REF_PIC_SETS</a>) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many short term RPS: %d.\n&quot;</span>,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;nb_st_rps; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#a99f15453f9b7b84e5c0326408e5b3072">ff_hevc_decode_short_term_rps</a>(gb, avctx, &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;st_rps[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                                 <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;long_term_ref_pics_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;long_term_ref_pics_present_flag) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;num_long_term_ref_pics_sps = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;num_long_term_ref_pics_sps &gt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba28455c55aacdcb7bc21d356ddb120f0e">HEVC_MAX_LONG_TERM_REF_PICS</a>) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many long term ref pics: %d.\n&quot;</span>,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                   <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;num_long_term_ref_pics_sps);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;num_long_term_ref_pics_sps; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;lt_ref_pic_poc_lsb_sps[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]       = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_poc_lsb);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;used_by_curr_pic_lt_sps_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_temporal_mvp_enabled_flag          = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_strong_intra_smoothing_enable_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui.sar = (<a class="code" href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a>){0, 1};</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    vui_present = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">if</span> (vui_present)</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="hevc__ps_8c.html#a75b23be7b03c45a4637544ff6f820b93">decode_vui</a>(gb, avctx, apply_defdispwin, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) { <span class="comment">// sps_extension_flag</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_range_extension_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 7); <span class="comment">//sps_extension_7bits = get_bits(gb, 7);</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;sps_range_extension_flag) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;transform_skip_rotation_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;transform_skip_context_enabled_flag  = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;implicit_rdpcm_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;explicit_rdpcm_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;extended_precision_processing_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;extended_precision_processing_flag)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                   <span class="stringliteral">&quot;extended_precision_processing_flag not yet implemented\n&quot;</span>);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;intra_smoothing_disabled_flag       = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;high_precision_offsets_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;high_precision_offsets_enabled_flag)</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                   <span class="stringliteral">&quot;high_precision_offsets_enabled_flag not yet implemented\n&quot;</span>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;persistent_rice_adaptation_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;cabac_bypass_alignment_enabled_flag  = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;cabac_bypass_alignment_enabled_flag)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                   <span class="stringliteral">&quot;cabac_bypass_alignment_enabled_flag not yet implemented\n&quot;</span>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">if</span> (apply_defdispwin) {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.left_offset   += <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui.def_disp_win.left_offset;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.right_offset  += <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui.def_disp_win.right_offset;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.top_offset    += <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui.def_disp_win.top_offset;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.bottom_offset += <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;vui.def_disp_win.bottom_offset;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    ow = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> (ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#ac8e7717f18a598106e9699b61d5872bf">left_offset</a> &gt;= INT_MAX - ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a3684ec2b4c6ea3cbe787d4a8f3d0bf05">right_offset</a>     ||</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a11179011b3a514f824ae146ecf69988b">top_offset</a>  &gt;= INT_MAX - ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a6885a7c1f60343f205218d8bea19b923">bottom_offset</a>    ||</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#ac8e7717f18a598106e9699b61d5872bf">left_offset</a> + ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a3684ec2b4c6ea3cbe787d4a8f3d0bf05">right_offset</a>  &gt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width ||</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a11179011b3a514f824ae146ecf69988b">top_offset</a>  + ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a6885a7c1f60343f205218d8bea19b923">bottom_offset</a> &gt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid cropping offsets: %u/%u/%u/%u\n&quot;</span>,</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;               ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#ac8e7717f18a598106e9699b61d5872bf">left_offset</a>, ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a3684ec2b4c6ea3cbe787d4a8f3d0bf05">right_offset</a>, ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a11179011b3a514f824ae146ecf69988b">top_offset</a>, ow-&gt;<a class="code" href="struct_h_e_v_c_window.html#a6885a7c1f60343f205218d8bea19b923">bottom_offset</a>);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af9978d9bd6ac80a494ef1b78fe1d004f">err_recognition</a> &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;               <span class="stringliteral">&quot;Displaying the whole video surface.\n&quot;</span>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        memset(ow, 0, <span class="keyword">sizeof</span>(*ow));</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        memset(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pic_conf_win));</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="comment">// Inferred parameters</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size +</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                         <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_coding_block_size;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_pu_size = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size - 1;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size &gt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba124859eb5476b993bcfec2b8d9117396">HEVC_MAX_LOG2_CTB_SIZE</a>) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;CTB size out of range: 2^%d\n&quot;</span>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size &lt; 4) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx,</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;               <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;               <span class="stringliteral">&quot;log2_ctb_size %d differs from the bounds of any known profile\n&quot;</span>,</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(avctx, <span class="stringliteral">&quot;log2_ctb_size %d&quot;</span>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width  = (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width  + (1 &lt;&lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size) - 1) &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height = (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height + (1 &lt;&lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size) - 1) &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_size   = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;min_cb_width  = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width  &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;min_cb_height = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;min_tb_width  = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width  &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;min_tb_height = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;min_pu_width  = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width  &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_pu_size;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;min_pu_height = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height &gt;&gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_pu_size;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask       = (1 &lt;&lt; (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size - <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size)) - 1;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;qp_bd_offset = 6 * (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth - 8);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> (av_mod_uintp2(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size) ||</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        av_mod_uintp2(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_cb_size)) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid coded frame dimensions.\n&quot;</span>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_inter &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size - <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;max_transform_hierarchy_depth_inter out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_inter);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_intra &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size - <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;max_transform_hierarchy_depth_intra out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;max_transform_hierarchy_depth_intra);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_trafo_size &gt; <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size, 5)) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;               <span class="stringliteral">&quot;max transform block size out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_trafo_size);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 0) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;               <span class="stringliteral">&quot;Overread SPS by %d bits\n&quot;</span>, -<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb));</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;}</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"><a class="line" href="hevc__ps_8h.html#a9c4b4fd1eb15c778a773073fd50660dc"> 1246</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#a9c4b4fd1eb15c778a773073fd50660dc">ff_hevc_decode_nal_sps</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                           <a class="code" href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a> *ps, <span class="keywordtype">int</span> apply_defdispwin)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;{</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="struct_a_v_buffer_ref.html">AVBufferRef</a> *sps_buf = <a class="code" href="group__lavu__buffer.html#ga27f37cc004f768b00442b6cb08091686">av_buffer_allocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>));</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sps_id;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    ptrdiff_t nal_size;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span> (!sps_buf)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a> = (<a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a>*)sps_buf-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Decoding SPS\n&quot;</span>);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    nal_size = gb-&gt;<a class="code" href="struct_get_bit_context.html#adb1b693f5d0cc1dc759c297509974e14">buffer_end</a> - gb-&gt;<a class="code" href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">buffer</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">if</span> (nal_size &gt; <span class="keyword">sizeof</span>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;data)) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Truncating likely oversized SPS &quot;</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;               <span class="stringliteral">&quot;(%&quot;</span><a class="code" href="libavutil_2internal_8h.html#a5a241f1b73b42f74b4122da23004dc6c">PTRDIFF_SPECIFIER</a><span class="stringliteral">&quot; &gt; %&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;               nal_size, <span class="keyword">sizeof</span>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;data));</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;data_size = <span class="keyword">sizeof</span>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;data);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;data_size = nal_size;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    memcpy(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;data, gb-&gt;<a class="code" href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">buffer</a>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;data_size);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#aa1b28685f00a7a270667514f1d6814dc">ff_hevc_parse_sps</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>, gb, &amp;sps_id,</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                            apply_defdispwin,</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                            ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">vps_list</a>, avctx);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;sps_buf);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1c52e4da25b608b2b9a80af21bb86d58">debug</a> &amp; <a class="code" href="avcodec_8h.html#abf6792ce87394703aaaf75dd720ec718">FF_DEBUG_BITSTREAM</a>) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;               <span class="stringliteral">&quot;Parsed SPS: id %d; coded wxh: %dx%d; &quot;</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;               <span class="stringliteral">&quot;cropped wxh: %dx%d; pix_fmt: %s.\n&quot;</span>,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;               sps_id, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height,</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;width - (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.left_offset + <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.right_offset),</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;height - (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.top_offset + <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;output_window.bottom_offset),</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;               <a class="code" href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;pix_fmt));</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">/* check if this is a repeat of an already parsed SPS, then keep the</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">     * original one.</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">     * otherwise drop all PPSes that depend on it */</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">sps_list</a>[sps_id] &amp;&amp;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        !memcmp(ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">sps_list</a>[sps_id]-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>, sps_buf-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>, sps_buf-&gt;<a class="code" href="struct_a_v_buffer_ref.html#a55f17b82a5af97259a5e8a3fd9647a08">size</a>)) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;sps_buf);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <a class="code" href="hevc__ps_8c.html#a23454ea8248b749fb902f4df3e6ac490">remove_sps</a>(ps, sps_id);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">sps_list</a>[sps_id] = sps_buf;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;}</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#affa7c0400d482213f070ba0d159e71d3"> 1304</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#affa7c0400d482213f070ba0d159e71d3">hevc_pps_free</a>(<span class="keywordtype">void</span> *opaque, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;{</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a> = (<a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a>*)<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_idxX);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_rs_to_ts);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_ts_to_rs);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_pos_rs);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_id);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs_tab);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;}</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#acd89e799e1178d987f6d4c162b456163"> 1322</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#acd89e799e1178d987f6d4c162b456163">pps_range_extensions</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                                <a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>, <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;transform_skip_enabled_flag) {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_max_transform_skip_block_size = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 2;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    }</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cross_component_prediction_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;chroma_qp_offset_list_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;chroma_qp_offset_list_enabled_flag) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_chroma_qp_offset_depth = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;chroma_qp_offset_list_len_minus1 = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;chroma_qp_offset_list_len_minus1 &gt; 5) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                   <span class="stringliteral">&quot;chroma_qp_offset_list_len_minus1 shall be in the range [0, 5].\n&quot;</span>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;chroma_qp_offset_list_len_minus1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="golomb_8h.html#aedcf5ef8d25107b7770f9ae96c6d8700">get_se_golomb_long</a>(gb);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                       <span class="stringliteral">&quot;cb_qp_offset_list not tested yet.\n&quot;</span>);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="golomb_8h.html#aedcf5ef8d25107b7770f9ae96c6d8700">get_se_golomb_long</a>(gb);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset_list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                       <span class="stringliteral">&quot;cb_qp_offset_list not tested yet.\n&quot;</span>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_sao_offset_scale_luma = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_sao_offset_scale_chroma = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (   <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_sao_offset_scale_luma   &gt; <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth        - 10, 0)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        || <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_sao_offset_scale_chroma &gt; <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;bit_depth_chroma - 10, 0)</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    )</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"><a class="line" href="hevc__ps_8c.html#ac95550f58993af406cfc523ad231a393"> 1363</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#ac95550f58993af406cfc523ad231a393">setup_pps</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb,</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                            <a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>, <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;{</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordtype">int</span> log2_diff;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordtype">int</span> pic_area_in_ctbs;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, x, y, ctb_addr_rs, tile_id;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="comment">// Inferred parameters</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd   = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns + 1, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd));</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd   = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows + 1,    <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd));</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_idxX = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width,    <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_idxX));</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd || !<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd || !<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_idxX)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;uniform_spacing_flag) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width));</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height   = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows,    <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height));</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width || !<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height)</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = ((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width) / <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns -</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                   (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width) / <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = ((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height) / <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows -</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                 (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height) / <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd[0] = 0;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1] = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd[0] = 0;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1] = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, j = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd[j])</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            j++;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_idxX[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = j;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    pic_area_in_ctbs     = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width    * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_rs_to_ts = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(pic_area_in_ctbs,    <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_rs_to_ts));</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_ts_to_rs = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(pic_area_in_ctbs,    <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_ts_to_rs));</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_id           = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(pic_area_in_ctbs,    <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_id));</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs_tab = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>((<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+2) * (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+2), <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs_tab));</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_rs_to_ts || !<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_ts_to_rs ||</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        !<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_id || !<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs_tab) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">for</span> (ctb_addr_rs = 0; ctb_addr_rs &lt; pic_area_in_ctbs; ctb_addr_rs++) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="keywordtype">int</span> tb_x   = ctb_addr_rs % <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="keywordtype">int</span> tb_y   = ctb_addr_rs / <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordtype">int</span> tile_x = 0;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordtype">int</span> tile_y = 0;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>    = 0;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <span class="keywordflow">if</span> (tb_x &lt; pps-&gt;col_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                tile_x = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <span class="keywordflow">if</span> (tb_y &lt; pps-&gt;row_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                tile_y = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            }</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        }</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; tile_x; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> += <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[tile_y] * <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; tile_y; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> += <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width * <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> += (tb_y - <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd[tile_y]) * <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[tile_x] +</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;               tb_x - <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd[tile_x];</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_rs_to_ts[ctb_addr_rs] = <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_ts_to_rs[<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>]         = ctb_addr_rs;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">for</span> (j = 0, tile_id = 0; j &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows; j++)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, tile_id++)</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="keywordflow">for</span> (y = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd[j]; y &lt; pps-&gt;row_bd[j + 1]; y++)</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                <span class="keywordflow">for</span> (x = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; x &lt; pps-&gt;col_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]; x++)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_id[<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_rs_to_ts[y * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width + x]] = tile_id;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_pos_rs = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(tile_id, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_pos_rs));</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_pos_rs)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160; </div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows; j++)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tile_pos_rs[j * <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] =</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_bd[j] * <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width + <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;col_bd[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    log2_diff = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size - <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_min_tb_size;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs = &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs_tab[1*(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+2)+1];</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+2; y++) {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs_tab[y*(<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+2)] = -1;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs_tab[y]    = -1;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+1; y++) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+1; x++) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            <span class="keywordtype">int</span> tb_x = x &gt;&gt; log2_diff;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keywordtype">int</span> tb_y = y &gt;&gt; log2_diff;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            <span class="keywordtype">int</span> rs   = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width * tb_y + tb_x;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>  = <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;ctb_addr_rs_to_ts[rs] &lt;&lt; (log2_diff * 2);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; log2_diff; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                <span class="keywordtype">int</span> m = 1 &lt;&lt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> += (m &amp; x ? m * m : 0) + (m &amp; y ? 2 * m * m : 0);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;min_tb_addr_zs[y * (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;tb_mask+2) + x] = <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        }</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="hevc__ps_8h.html#a0000088759d1590a60ffc770edcaddf4"> 1495</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#a0000088759d1590a60ffc770edcaddf4">ff_hevc_decode_nal_pps</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                           <a class="code" href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a> *ps)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a>      *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pps_id = 0;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    ptrdiff_t nal_size;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordtype">unsigned</span> log2_parallel_merge_level_minus2;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="struct_a_v_buffer_ref.html">AVBufferRef</a> *pps_buf;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <a class="code" href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>));</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>)</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    pps_buf = <a class="code" href="group__lavu__buffer.html#ga3e7f4c92db85ccba0b2a16dd0069842a">av_buffer_create</a>((<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *)<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>),</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                               <a class="code" href="hevc__ps_8c.html#affa7c0400d482213f070ba0d159e71d3">hevc_pps_free</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">if</span> (!pps_buf) {</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    }</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Decoding PPS\n&quot;</span>);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    nal_size = gb-&gt;<a class="code" href="struct_get_bit_context.html#adb1b693f5d0cc1dc759c297509974e14">buffer_end</a> - gb-&gt;<a class="code" href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">buffer</a>;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">if</span> (nal_size &gt; <span class="keyword">sizeof</span>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;data)) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Truncating likely oversized PPS &quot;</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;               <span class="stringliteral">&quot;(%&quot;</span><a class="code" href="libavutil_2internal_8h.html#a5a241f1b73b42f74b4122da23004dc6c">PTRDIFF_SPECIFIER</a><span class="stringliteral">&quot; &gt; %&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;               nal_size, <span class="keyword">sizeof</span>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;data));</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;data_size = <span class="keyword">sizeof</span>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;data);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;data_size = nal_size;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    memcpy(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;data, gb-&gt;<a class="code" href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">buffer</a>, <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;data_size);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="comment">// Default values</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;loop_filter_across_tiles_enabled_flag = 1;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns                      = 1;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows                         = 1;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;uniform_spacing_flag                  = 1;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;disable_dbf                           = 0;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;beta_offset                           = 0;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tc_offset                             = 0;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_max_transform_skip_block_size    = 2;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="comment">// Coded parameters</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    pps_id = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span> (pps_id &gt;= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba4cc26ac6b5629183b2236cfcec24ca0d">HEVC_MAX_PPS_COUNT</a>) {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;PPS id out of range: %d\n&quot;</span>, pps_id);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sps_id = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sps_id &gt;= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba33917566744b21c50fd2c9fdf3b8c48c">HEVC_MAX_SPS_COUNT</a>) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;SPS id out of range: %d\n&quot;</span>, <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sps_id);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">if</span> (!ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">sps_list</a>[<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sps_id]) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;SPS %u does not exist.\n&quot;</span>, <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sps_id);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a> = (<a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *)ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">sps_list</a>[<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sps_id]-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;dependent_slice_segments_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;output_flag_present_flag              = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_extra_slice_header_bits           = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;sign_data_hiding_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cabac_init_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l0_default_active = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_ref_idx_l1_default_active = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pic_init_qp_minus26 = <a class="code" href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a>(gb);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;constrained_intra_pred_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;transform_skip_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cu_qp_delta_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth   = 0;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cu_qp_delta_enabled_flag)</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth &lt; 0 ||</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_diff_max_min_coding_block_size) {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;diff_cu_qp_delta_depth %d is invalid\n&quot;</span>,</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;diff_cu_qp_delta_depth);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset = <a class="code" href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a>(gb);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset &lt; -12 || <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset &gt; 12) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pps_cb_qp_offset out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cb_qp_offset);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset = <a class="code" href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a>(gb);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset &lt; -12 || <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset &gt; 12) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pps_cr_qp_offset out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;               <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;cr_qp_offset);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pic_slice_level_chroma_qp_offsets_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;weighted_pred_flag   = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;weighted_bipred_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;transquant_bypass_enable_flag    = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tiles_enabled_flag               = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;entropy_coding_sync_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tiles_enabled_flag) {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <span class="keywordtype">int</span> num_tile_columns_minus1 = <a class="code" href="golomb_8h.html#a9fbef3a4a48ea960374f521702c9c8e0">get_ue_golomb</a>(gb);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="keywordtype">int</span> num_tile_rows_minus1    = <a class="code" href="golomb_8h.html#a9fbef3a4a48ea960374f521702c9c8e0">get_ue_golomb</a>(gb);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordflow">if</span> (num_tile_columns_minus1 &lt; 0 ||</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            num_tile_columns_minus1 &gt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width) {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;num_tile_columns_minus1 out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                   num_tile_columns_minus1);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = num_tile_columns_minus1 &lt; 0 ? num_tile_columns_minus1 : <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <span class="keywordflow">if</span> (num_tile_rows_minus1 &lt; 0 ||</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            num_tile_rows_minus1 &gt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;num_tile_rows_minus1 out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                   num_tile_rows_minus1);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = num_tile_rows_minus1 &lt; 0 ? num_tile_rows_minus1 : <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns = num_tile_columns_minus1 + 1;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows    = num_tile_rows_minus1    + 1;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns, <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width));</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height   = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows,    <span class="keyword">sizeof</span>(*<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height));</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width || !<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;uniform_spacing_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;uniform_spacing_flag) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            uint64_t sum = 0;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                sum                 += <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <span class="keywordflow">if</span> (sum &gt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid tile widths.\n&quot;</span>);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;column_width[<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_columns - 1] = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_width - sum;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            sum = 0;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb) + 1;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                sum               += <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            }</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            <span class="keywordflow">if</span> (sum &gt;= <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height) {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid tile heights.\n&quot;</span>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;row_height[<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;num_tile_rows - 1] = <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ctb_height - sum;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;loop_filter_across_tiles_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160; </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;seq_loop_filter_across_slices_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;deblocking_filter_control_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;deblocking_filter_control_present_flag) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;deblocking_filter_override_enabled_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;disable_dbf                             = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;disable_dbf) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <span class="keywordtype">int</span> beta_offset_div2 = <a class="code" href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a>(gb);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <span class="keywordtype">int</span> tc_offset_div2   = <a class="code" href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a>(gb) ;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            <span class="keywordflow">if</span> (beta_offset_div2 &lt; -6 || beta_offset_div2 &gt; 6) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pps_beta_offset_div2 out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                       beta_offset_div2);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            }</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            <span class="keywordflow">if</span> (tc_offset_div2 &lt; -6 || tc_offset_div2 &gt; 6) {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;pps_tc_offset_div2 out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                       tc_offset_div2);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;beta_offset = 2 * beta_offset_div2;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;tc_offset   = 2 *   tc_offset_div2;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;scaling_list_data_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;scaling_list_data_present_flag) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <a class="code" href="hevc__ps_8c.html#a619b60c59cf2a117f9d173ba4b021441">set_default_scaling_list_data</a>(&amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;scaling_list);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#adb1a0f6630b23086f7a149ddaa928969">scaling_list_data</a>(gb, avctx, &amp;<a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;scaling_list, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;lists_modification_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    log2_parallel_merge_level_minus2     = <a class="code" href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a>(gb);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keywordflow">if</span> (log2_parallel_merge_level_minus2 &gt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_ctb_size) {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;log2_parallel_merge_level_minus2 out of range: %d\n&quot;</span>,</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;               log2_parallel_merge_level_minus2);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    }</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;log2_parallel_merge_level       = log2_parallel_merge_level_minus2 + 2;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;slice_header_extension_present_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) { <span class="comment">// pps_extension_present_flag</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_range_extensions_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 7); <span class="comment">// pps_extension_7bits</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;ptl.general_ptl.profile_idc == <a class="code" href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a> &amp;&amp; <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>-&gt;pps_range_extensions_flag) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#acd89e799e1178d987f6d4c162b456163">pps_range_extensions</a>(gb, avctx, <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>)) &lt; 0)</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hevc__ps_8c.html#ac95550f58993af406cfc523ad231a393">setup_pps</a>(avctx, gb, <a class="code" href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a>, <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 0) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;               <span class="stringliteral">&quot;Overread PPS by %d bits\n&quot;</span>, -<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb));</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <a class="code" href="hevc__ps_8c.html#a749c224deda2d1f94b16c267ded2f0e7">remove_pps</a>(ps, pps_id);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a2109fd12af64bc4fd5ad66c162c90a7f">pps_list</a>[pps_id] = pps_buf;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;err:</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;pps_buf);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;}</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"><a class="line" href="hevc__ps_8h.html#a103fdfe79b95f57ae5c7bd63c7876753"> 1743</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="hevc__ps_8c.html#a103fdfe79b95f57ae5c7bd63c7876753">ff_hevc_ps_uninit</a>(<a class="code" href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a> *ps)</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;{</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">vps_list</a>); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">vps_list</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">sps_list</a>); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">sps_list</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a2109fd12af64bc4fd5ad66c162c90a7f">pps_list</a>); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a2109fd12af64bc4fd5ad66c162c90a7f">pps_list</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#ab9006811d55def88bb5c05b983cad4c9">sps</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a23b11456b1f5fdedd416f2da9cea6f3f">pps</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    ps-&gt;<a class="code" href="struct_h_e_v_c_param_sets.html#a11599a29e2f14175aa840b53d1103bb7">vps</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"><a class="line" href="hevc__ps_8h.html#adece6c3e748632427b05de3fd035731a"> 1759</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="hevc__ps_8c.html#adece6c3e748632427b05de3fd035731a">ff_hevc_compute_poc</a>(<span class="keyword">const</span> <a class="code" href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a> *<a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>, <span class="keywordtype">int</span> pocTid0, <span class="keywordtype">int</span> poc_lsb, <span class="keywordtype">int</span> nal_unit_type)</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;{</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordtype">int</span> max_poc_lsb  = 1 &lt;&lt; <a class="code" href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a>-&gt;log2_max_poc_lsb;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordtype">int</span> prev_poc_lsb = pocTid0 % max_poc_lsb;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordtype">int</span> prev_poc_msb = pocTid0 - prev_poc_lsb;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordtype">int</span> poc_msb;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> (poc_lsb &lt; prev_poc_lsb &amp;&amp; prev_poc_lsb - poc_lsb &gt;= max_poc_lsb / 2)</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        poc_msb = prev_poc_msb + max_poc_lsb;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (poc_lsb &gt; prev_poc_lsb &amp;&amp; poc_lsb - prev_poc_lsb &gt; max_poc_lsb / 2)</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        poc_msb = prev_poc_msb - max_poc_lsb;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        poc_msb = prev_poc_msb;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="comment">// For BLA picture types, POCmsb is set to 0.</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">if</span> (nal_unit_type == <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a1e0fe8df6c834995d210fcb31ca80c48">HEVC_NAL_BLA_W_LP</a>   ||</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        nal_unit_type == <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a2501dd84b825beb87b5c14229ea051c4">HEVC_NAL_BLA_W_RADL</a> ||</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        nal_unit_type == <a class="code" href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a22ef6dcaf18d8c30a709b05b5799150f">HEVC_NAL_BLA_N_LP</a>)</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        poc_msb = 0;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordflow">return</span> poc_msb + poc_lsb;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_v_u_i_html_a1dcea12e22a7aed50e45103a8e87e226"><div class="ttname"><a href="struct_v_u_i.html#a1dcea12e22a7aed50e45103a8e87e226">VUI::tiles_fixed_structure_flag</a></div><div class="ttdeci">int tiles_fixed_structure_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00082">hevc_ps.h:82</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aedc45d7b874ec5c3e4e9b6e9d948abc4"><div class="ttname"><a href="avcodec_8h.html#aedc45d7b874ec5c3e4e9b6e9d948abc4">FF_PROFILE_HEVC_REXT</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_REXT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01950">avcodec.h:1950</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a47c3a35ba8dece0168d84181f224b55d"><div class="ttname"><a href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a></div><div class="ttdeci">static void skip_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00291">get_bits.h:291</a></div></div>
<div class="ttc" id="astruct_short_term_r_p_s_html_a59a3df50215b082920ceeb5242edddfd"><div class="ttname"><a href="struct_short_term_r_p_s.html#a59a3df50215b082920ceeb5242edddfd">ShortTermRPS::num_negative_pics</a></div><div class="ttdeci">unsigned int num_negative_pics</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00035">hevc_ps.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_aefbf2ffe131808d1bd89cd061c02b5d3"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#aefbf2ffe131808d1bd89cd061c02b5d3">H265RawProfileTierLevel::sub_layer_level_present_flag</a></div><div class="ttdeci">uint8_t sub_layer_level_present_flag[HEVC_MAX_SUB_LAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00071">cbs_h265.h:71</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba33917566744b21c50fd2c9fdf3b8c48c"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba33917566744b21c50fd2c9fdf3b8c48c">HEVC_MAX_SPS_COUNT</a></div><div class="ttdeci">@ HEVC_MAX_SPS_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00112">hevc.h:112</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a1a7f9a0f782265fbce2c8dcacc4fb869"><div class="ttname"><a href="struct_v_u_i.html#a1a7f9a0f782265fbce2c8dcacc4fb869">VUI::log2_max_mv_length_horizontal</a></div><div class="ttdeci">int log2_max_mv_length_horizontal</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00088">hevc_ps.h:88</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a1e8bf29d582aed77edf011f2e60adbcb"><div class="ttname"><a href="get__bits_8h.html#a1e8bf29d582aed77edf011f2e60adbcb">show_bits_long</a></div><div class="ttdeci">static unsigned int show_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00602">get_bits.h:602</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_ad1d39ab6903581255c3fc501bc393475"><div class="ttname"><a href="struct_v_u_i.html#ad1d39ab6903581255c3fc501bc393475">VUI::chroma_sample_loc_type_top_field</a></div><div class="ttdeci">int chroma_sample_loc_type_top_field</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00064">hevc_ps.h:64</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a44d39cea027a76211f31e3bf2e3e68a4"><div class="ttname"><a href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a></div><div class="ttdeci">static int get_bits_left(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00849">get_bits.h:849</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="astruct_v_u_i_html_a1231ccbf29f045ad819943935d4525bc"><div class="ttname"><a href="struct_v_u_i.html#a1231ccbf29f045ad819943935d4525bc">VUI::max_bits_per_min_cu_denom</a></div><div class="ttdeci">int max_bits_per_min_cu_denom</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00087">hevc_ps.h:87</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_param_sets_html_a2109fd12af64bc4fd5ad66c162c90a7f"><div class="ttname"><a href="struct_h_e_v_c_param_sets.html#a2109fd12af64bc4fd5ad66c162c90a7f">HEVCParamSets::pps_list</a></div><div class="ttdeci">AVBufferRef * pps_list[HEVC_MAX_PPS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00330">hevc_ps.h:330</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a09a70d905fb407ff46b5797a3b92aae6"><div class="ttname"><a href="hevc__ps_8c.html#a09a70d905fb407ff46b5797a3b92aae6">remove_vps</a></div><div class="ttdeci">static void remove_vps(HEVCParamSets *s, int id)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00105">hevc_ps.c:105</a></div></div>
<div class="ttc" id="agolomb_8h_html_aedcf5ef8d25107b7770f9ae96c6d8700"><div class="ttname"><a href="golomb_8h.html#aedcf5ef8d25107b7770f9ae96c6d8700">get_se_golomb_long</a></div><div class="ttdeci">static int get_se_golomb_long(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="golomb_8h_source.html#l00296">golomb.h:296</a></div></div>
<div class="ttc" id="ahevc__data_8c_html_ac641553bf156e18b4abe50f39c9dcf07"><div class="ttname"><a href="hevc__data_8c.html#ac641553bf156e18b4abe50f39c9dcf07">ff_hevc_diag_scan8x8_y</a></div><div class="ttdeci">const uint8_t ff_hevc_diag_scan8x8_y[64]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__data_8c_source.html#l00058">hevc_data.c:58</a></div></div>
<div class="ttc" id="apixdesc_8c_html_afe0c3e8aef5173de28bbdaea4298f5f0"><div class="ttname"><a href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a></div><div class="ttdeci">const AVPixFmtDescriptor * av_pix_fmt_desc_get(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02573">pixdesc.c:2573</a></div></div>
<div class="ttc" id="amem_8c_html_a254f3455439c15a2c8a75b8f0235fdbd"><div class="ttname"><a href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a></div><div class="ttdeci">void * av_malloc_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00182">mem.c:182</a></div></div>
<div class="ttc" id="astruct_a_v_buffer_ref_html_acb8452e99cd75074b93800b532c6ea4b"><div class="ttname"><a href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">AVBufferRef::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00089">buffer.h:89</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_window_html"><div class="ttname"><a href="struct_h_e_v_c_window.html">HEVCWindow</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00042">hevc_ps.h:42</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a23454ea8248b749fb902f4df3e6ac490"><div class="ttname"><a href="hevc__ps_8c.html#a23454ea8248b749fb902f4df3e6ac490">remove_sps</a></div><div class="ttdeci">static void remove_sps(HEVCParamSets *s, int id)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00088">hevc_ps.c:88</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a20dc15e40874f46af0d2b4ad34aed9a7"><div class="ttname"><a href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a></div><div class="ttdeci">static unsigned int get_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00546">get_bits.h:546</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a749c224deda2d1f94b16c267ded2f0e7"><div class="ttname"><a href="hevc__ps_8c.html#a749c224deda2d1f94b16c267ded2f0e7">remove_pps</a></div><div class="ttdeci">static void remove_pps(HEVCParamSets *s, int id)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00081">hevc_ps.c:81</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a88ddd058c7fb334893ba68ebf5c02163"><div class="ttname"><a href="struct_v_u_i.html#a88ddd058c7fb334893ba68ebf5c02163">VUI::chroma_sample_loc_type_bottom_field</a></div><div class="ttdeci">int chroma_sample_loc_type_bottom_field</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00065">hevc_ps.h:65</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a1616d10423206348807db7f61d073f3c"><div class="ttname"><a href="struct_v_u_i.html#a1616d10423206348807db7f61d073f3c">VUI::colour_primaries</a></div><div class="ttdeci">uint8_t colour_primaries</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00059">hevc_ps.h:59</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a5c6faccbfb6c1ab17dd68428760147a3"><div class="ttname"><a href="struct_v_u_i.html#a5c6faccbfb6c1ab17dd68428760147a3">VUI::field_seq_flag</a></div><div class="ttdeci">int field_seq_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00068">hevc_ps.h:68</a></div></div>
<div class="ttc" id="astruct_scaling_list_html_a8bf6e6f118c554d83857579cd6c67a07"><div class="ttname"><a href="struct_scaling_list.html#a8bf6e6f118c554d83857579cd6c67a07">ScalingList::sl</a></div><div class="ttdeci">uint8_t sl[4][6][64]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00149">hevc_ps.h:149</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a8455c46b841dffe0a245eebc90c1313d"><div class="ttname"><a href="hevc__ps_8c.html#a8455c46b841dffe0a245eebc90c1313d">map_pixel_format</a></div><div class="ttdeci">static int map_pixel_format(AVCodecContext *avctx, HEVCSPS *sps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00855">hevc_ps.c:855</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_param_sets_html_a675496d5e54cf2157083b20eed235af3"><div class="ttname"><a href="struct_h_e_v_c_param_sets.html#a675496d5e54cf2157083b20eed235af3">HEVCParamSets::vps_list</a></div><div class="ttdeci">AVBufferRef * vps_list[HEVC_MAX_VPS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00328">hevc_ps.h:328</a></div></div>
<div class="ttc" id="agolomb_8h_html_a9fbef3a4a48ea960374f521702c9c8e0"><div class="ttname"><a href="golomb_8h.html#a9fbef3a4a48ea960374f521702c9c8e0">get_ue_golomb</a></div><div class="ttdeci">static int get_ue_golomb(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="golomb_8h_source.html#l00055">golomb.h:55</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab"><div class="ttname"><a href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6af707e1f8131d3413ac4fb5b626b075ab">AVCOL_TRC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_TRC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00486">pixfmt.h:486</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1c52e4da25b608b2b9a80af21bb86d58"><div class="ttname"><a href="struct_a_v_codec_context.html#a1c52e4da25b608b2b9a80af21bb86d58">AVCodecContext::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01611">avcodec.h:1611</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html_ad3bbe8f5d0b9e28a1070396fac5725d8"><div class="ttname"><a href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">GetBitContext::buffer</a></div><div class="ttdeci">const uint8_t * buffer</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00062">get_bits.h:62</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a2095c546851496e10160077ab89c845c"><div class="ttname"><a href="pixfmt_8h.html#a2095c546851496e10160077ab89c845c">AV_PIX_FMT_YUV420P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV420P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00399">pixfmt.h:399</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga27f37cc004f768b00442b6cb08091686"><div class="ttname"><a href="group__lavu__buffer.html#ga27f37cc004f768b00442b6cb08091686">av_buffer_allocz</a></div><div class="ttdeci">AVBufferRef * av_buffer_allocz(int size)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00083">buffer.c:83</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba4cc26ac6b5629183b2236cfcec24ca0d"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba4cc26ac6b5629183b2236cfcec24ca0d">HEVC_MAX_PPS_COUNT</a></div><div class="ttdeci">@ HEVC_MAX_PPS_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00114">hevc.h:114</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a6e7b38ac24fb682ade84cada0dd0770d"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a6e7b38ac24fb682ade84cada0dd0770d">AVCOL_SPC_RGB</a></div><div class="ttdeci">@ AVCOL_SPC_RGB</div><div class="ttdoc">order of coefficients is actually GBR, also IEC 61966-2-1 (sRGB)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00513">pixfmt.h:513</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga3e7f4c92db85ccba0b2a16dd0069842a"><div class="ttname"><a href="group__lavu__buffer.html#ga3e7f4c92db85ccba0b2a16dd0069842a">av_buffer_create</a></div><div class="ttdeci">AVBufferRef * av_buffer_create(uint8_t *data, int size, void(*free)(void *opaque, uint8_t *data), void *opaque, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00029">buffer.c:29</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a2501dd84b825beb87b5c14229ea051c4"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a2501dd84b825beb87b5c14229ea051c4">HEVC_NAL_BLA_W_RADL</a></div><div class="ttdeci">@ HEVC_NAL_BLA_W_RADL</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00046">hevc.h:46</a></div></div>
<div class="ttc" id="astruct_h265_raw_profile_tier_level_html_a62d5885aafe8e466eb041715e3cb5cc8"><div class="ttname"><a href="struct_h265_raw_profile_tier_level.html#a62d5885aafe8e466eb041715e3cb5cc8">H265RawProfileTierLevel::sub_layer_profile_present_flag</a></div><div class="ttdeci">uint8_t sub_layer_profile_present_flag[HEVC_MAX_SUB_LAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265_8h_source.html#l00070">cbs_h265.h:70</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_ad5a7c2d53640e73541f0d5f91a28f98f"><div class="ttname"><a href="struct_v_u_i.html#ad5a7c2d53640e73541f0d5f91a28f98f">VUI::overscan_info_present_flag</a></div><div class="ttdeci">int overscan_info_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00052">hevc_ps.h:52</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba68ee776177c7961c56ac5e656e5511cc"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba68ee776177c7961c56ac5e656e5511cc">HEVC_MAX_REFS</a></div><div class="ttdeci">@ HEVC_MAX_REFS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00119">hevc.h:119</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_window_html_a11179011b3a514f824ae146ecf69988b"><div class="ttname"><a href="struct_h_e_v_c_window.html#a11179011b3a514f824ae146ecf69988b">HEVCWindow::top_offset</a></div><div class="ttdeci">unsigned int top_offset</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00045">hevc_ps.h:45</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a32797d9151e42c0cb6bf02b2212d523c"><div class="ttname"><a href="pixfmt_8h.html#a32797d9151e42c0cb6bf02b2212d523c">AV_PIX_FMT_GRAY9</a></div><div class="ttdeci">#define AV_PIX_FMT_GRAY9</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00379">pixfmt.h:379</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaa4110d30a0542c7d0198c46ab87e7249"><div class="ttname"><a href="group__lavc__core.html#gaa4110d30a0542c7d0198c46ab87e7249">AV_CODEC_FLAG2_IGNORE_CROP</a></div><div class="ttdeci">#define AV_CODEC_FLAG2_IGNORE_CROP</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00371">avcodec.h:371</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_acb9f48fd5f3c5a798c15176c88faf10b"><div class="ttname"><a href="struct_v_u_i.html#acb9f48fd5f3c5a798c15176c88faf10b">VUI::video_format</a></div><div class="ttdeci">int video_format</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00056">hevc_ps.h:56</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00467">get_bits.h:467</a></div></div>
<div class="ttc" id="agolomb_8h_html"><div class="ttname"><a href="golomb_8h.html">golomb.h</a></div><div class="ttdoc">exp golomb vlc stuff</div></div>
<div class="ttc" id="astruct_h_e_v_c_window_html_ac8e7717f18a598106e9699b61d5872bf"><div class="ttname"><a href="struct_h_e_v_c_window.html#ac8e7717f18a598106e9699b61d5872bf">HEVCWindow::left_offset</a></div><div class="ttdeci">unsigned int left_offset</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00043">hevc_ps.h:43</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55baa4855990b8b2e78093c06226d9eb8331"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baa4855990b8b2e78093c06226d9eb8331">HEVC_MAX_SUB_LAYERS</a></div><div class="ttdeci">@ HEVC_MAX_SUB_LAYERS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00105">hevc.h:105</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_ac481035a2854e7570279a9114572847c"><div class="ttname"><a href="struct_v_u_i.html#ac481035a2854e7570279a9114572847c">VUI::restricted_ref_pic_lists_flag</a></div><div class="ttdeci">int restricted_ref_pic_lists_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00084">hevc_ps.h:84</a></div></div>
<div class="ttc" id="apixdesc_8c_html_a7a5b3f4d128f0a0112b4a91f75055339"><div class="ttname"><a href="pixdesc_8c.html#a7a5b3f4d128f0a0112b4a91f75055339">av_color_space_name</a></div><div class="ttdeci">const char * av_color_space_name(enum AVColorSpace space)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02966">pixdesc.c:2966</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a83596ebf408f9876661d259008b3e02d"><div class="ttname"><a href="struct_v_u_i.html#a83596ebf408f9876661d259008b3e02d">VUI::overscan_appropriate_flag</a></div><div class="ttdeci">int overscan_appropriate_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00053">hevc_ps.h:53</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_afee4465e9af791526eca8e93cda14889"><div class="ttname"><a href="struct_v_u_i.html#afee4465e9af791526eca8e93cda14889">VUI::chroma_loc_info_present_flag</a></div><div class="ttdeci">int chroma_loc_info_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00063">hevc_ps.h:63</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a65c2f27287363d45e9e1da64bf569ebd"><div class="ttname"><a href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a></div><div class="ttdeci">#define AV_PIX_FMT_GBRP10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00415">pixfmt.h:415</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a39097263283e4f4448321880d9b28d08"><div class="ttname"><a href="pixfmt_8h.html#a39097263283e4f4448321880d9b28d08">AV_PIX_FMT_YUV422P9</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV422P9</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00397">pixfmt.h:397</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a7f5d51261fb77d9aaa3c9a053072f95d"><div class="ttname"><a href="hevc__ps_8c.html#a7f5d51261fb77d9aaa3c9a053072f95d">hevc_sub_width_c</a></div><div class="ttdeci">static const uint8_t hevc_sub_width_c[]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00073">hevc_ps.c:73</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_s_p_s_html"><div class="ttname"><a href="struct_h_e_v_c_s_p_s.html">HEVCSPS</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00153">hevc_ps.h:153</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a2c0e4a41f53e7c345b558d6fc3d6a64a"><div class="ttname"><a href="hevc__ps_8c.html#a2c0e4a41f53e7c345b558d6fc3d6a64a">decode_sublayer_hrd</a></div><div class="ttdeci">static void decode_sublayer_hrd(GetBitContext *gb, unsigned int nb_cpb, int subpic_params_present)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00379">hevc_ps.c:379</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff612e03cf2a557ac25e8e2032e37d9a"><div class="ttname"><a href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV444P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00402">pixfmt.h:402</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a52c3fbad6e4ab373604e8e2bdb64c3f6"><div class="ttname"><a href="struct_v_u_i.html#a52c3fbad6e4ab373604e8e2bdb64c3f6">VUI::bitstream_restriction_flag</a></div><div class="ttdeci">int bitstream_restriction_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00081">hevc_ps.h:81</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a22ef6dcaf18d8c30a709b05b5799150f"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a22ef6dcaf18d8c30a709b05b5799150f">HEVC_NAL_BLA_N_LP</a></div><div class="ttdeci">@ HEVC_NAL_BLA_N_LP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00047">hevc.h:47</a></div></div>
<div class="ttc" id="aavcodec_8h_html_af7a5858840ff5f2c70ae33a2cd1f4228"><div class="ttname"><a href="avcodec_8h.html#af7a5858840ff5f2c70ae33a2cd1f4228">FF_PROFILE_HEVC_MAIN</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_MAIN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01947">avcodec.h:1947</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_param_sets_html_a11599a29e2f14175aa840b53d1103bb7"><div class="ttname"><a href="struct_h_e_v_c_param_sets.html#a11599a29e2f14175aa840b53d1103bb7">HEVCParamSets::vps</a></div><div class="ttdeci">const HEVCVPS * vps</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00333">hevc_ps.h:333</a></div></div>
<div class="ttc" id="ah265__levels_8c_html_a36871c498b69e919ade4c667e3ee94cd"><div class="ttname"><a href="h265__levels_8c.html#a36871c498b69e919ade4c667e3ee94cd">ptl</a></div><div class="ttdeci">const H265RawProfileTierLevel * ptl</div><div class="ttdef"><b>Definition:</b> <a href="h265__levels_8c_source.html#l00170">h265_levels.c:170</a></div></div>
<div class="ttc" id="astruct_short_term_r_p_s_html_a6855607d371fbbd329f12ce0e626bacf"><div class="ttname"><a href="struct_short_term_r_p_s.html#a6855607d371fbbd329f12ce0e626bacf">ShortTermRPS::used</a></div><div class="ttdeci">uint8_t used[32]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00039">hevc_ps.h:39</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_ad5a6ea481f924fd5856619272eb1a4b6"><div class="ttname"><a href="struct_v_u_i.html#ad5a6ea481f924fd5856619272eb1a4b6">VUI::video_full_range_flag</a></div><div class="ttdeci">int video_full_range_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00057">hevc_ps.h:57</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba124859eb5476b993bcfec2b8d9117396"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba124859eb5476b993bcfec2b8d9117396">HEVC_MAX_LOG2_CTB_SIZE</a></div><div class="ttdeci">@ HEVC_MAX_LOG2_CTB_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00128">hevc.h:128</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="ahevc__data_8c_html_a4f40c335ee86aea7e6d4f026586255b6"><div class="ttname"><a href="hevc__data_8c.html#a4f40c335ee86aea7e6d4f026586255b6">ff_hevc_diag_scan8x8_x</a></div><div class="ttdeci">const uint8_t ff_hevc_diag_scan8x8_x[64]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__data_8c_source.html#l00039">hevc_data.c:39</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_afd701174dcf865a94ce025da6f7f94d8"><div class="ttname"><a href="hevc__ps_8c.html#afd701174dcf865a94ce025da6f7f94d8">vui_sar</a></div><div class="ttdeci">static const AVRational vui_sar[]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00053">hevc_ps.c:53</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a87065facbceef6fc4aa6d1b00042d7cd"><div class="ttname"><a href="pixfmt_8h.html#a87065facbceef6fc4aa6d1b00042d7cd">AV_PIX_FMT_YUV420P9</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV420P9</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00396">pixfmt.h:396</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_param_sets_html"><div class="ttname"><a href="struct_h_e_v_c_param_sets.html">HEVCParamSets</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00327">hevc_ps.h:327</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_ac5c7d54e22c2b7403aa24f76ad37d56d"><div class="ttname"><a href="hevc__ps_8c.html#ac5c7d54e22c2b7403aa24f76ad37d56d">decode_hrd</a></div><div class="ttdeci">static int decode_hrd(GetBitContext *gb, int common_inf_present, int max_sublayers)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00396">hevc_ps.c:396</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a63d8d7b62d980da2a3543114d2468bbd"><div class="ttname"><a href="struct_v_u_i.html#a63d8d7b62d980da2a3543114d2468bbd">VUI::vui_num_ticks_poc_diff_one_minus1</a></div><div class="ttdeci">int vui_num_ticks_poc_diff_one_minus1</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00078">hevc_ps.h:78</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a8a0d3345698dbc5fd9d70e5e4f8469e9"><div class="ttname"><a href="hevc__ps_8c.html#a8a0d3345698dbc5fd9d70e5e4f8469e9">default_scaling_list_inter</a></div><div class="ttdeci">static const uint8_t default_scaling_list_inter[]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00042">hevc_ps.c:42</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV420P</div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00066">pixfmt.h:66</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a868aff08a725fc038a7f37b5e9d01942">AVCOL_PRI_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_PRI_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00461">pixfmt.h:461</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a871639dbcfa5a7f26bba7146bbbb0d0e"><div class="ttname"><a href="struct_v_u_i.html#a871639dbcfa5a7f26bba7146bbbb0d0e">VUI::vui_time_scale</a></div><div class="ttdeci">uint32_t vui_time_scale</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00076">hevc_ps.h:76</a></div></div>
<div class="ttc" id="agolomb_8h_html_a1a8150f1a40583eb3ea8a04a207bb1fd"><div class="ttname"><a href="golomb_8h.html#a1a8150f1a40583eb3ea8a04a207bb1fd">get_se_golomb</a></div><div class="ttdeci">static int get_se_golomb(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="golomb_8h_source.html#l00241">golomb.h:241</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_param_sets_html_a23b11456b1f5fdedd416f2da9cea6f3f"><div class="ttname"><a href="struct_h_e_v_c_param_sets.html#a23b11456b1f5fdedd416f2da9cea6f3f">HEVCParamSets::pps</a></div><div class="ttdeci">const HEVCPPS * pps</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00335">hevc_ps.h:335</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="apixfmt_8h_html_abeb319f831977a63c9a50caec4b0d7ad"><div class="ttname"><a href="pixfmt_8h.html#abeb319f831977a63c9a50caec4b0d7ad">AV_PIX_FMT_GRAY10</a></div><div class="ttdeci">#define AV_PIX_FMT_GRAY10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00380">pixfmt.h:380</a></div></div>
<div class="ttc" id="ahevc__data_8c_html_ada63a1567f4b56ca6105310f00f52088"><div class="ttname"><a href="hevc__data_8c.html#ada63a1567f4b56ca6105310f00f52088">ff_hevc_diag_scan4x4_y</a></div><div class="ttdeci">const uint8_t ff_hevc_diag_scan4x4_y[16]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__data_8c_source.html#l00032">hevc_data.c:32</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_aa1b28685f00a7a270667514f1d6814dc"><div class="ttname"><a href="hevc__ps_8c.html#aa1b28685f00a7a270667514f1d6814dc">ff_hevc_parse_sps</a></div><div class="ttdeci">int ff_hevc_parse_sps(HEVCSPS *sps, GetBitContext *gb, unsigned int *sps_id, int apply_defdispwin, AVBufferRef **vps_list, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00904">hevc_ps.c:904</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga6eff035c271caa5a533987a1e00ad43e"><div class="ttname"><a href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a></div><div class="ttdeci">struct AVRational AVRational</div></div>
<div class="ttc" id="ahevc__ps_8c_html_a75b23be7b03c45a4637544ff6f820b93"><div class="ttname"><a href="hevc__ps_8c.html#a75b23be7b03c45a4637544ff6f820b93">decode_vui</a></div><div class="ttdeci">static void decode_vui(GetBitContext *gb, AVCodecContext *avctx, int apply_defdispwin, HEVCSPS *sps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00588">hevc_ps.c:588</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a045a217e4da5d87628932e5bc2e3600e"><div class="ttname"><a href="struct_v_u_i.html#a045a217e4da5d87628932e5bc2e3600e">VUI::matrix_coeffs</a></div><div class="ttdeci">uint8_t matrix_coeffs</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00061">hevc_ps.h:61</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_aa54dce2bcb6046a61b2a2dbb0f80d940"><div class="ttname"><a href="struct_v_u_i.html#aa54dce2bcb6046a61b2a2dbb0f80d940">VUI::neutra_chroma_indication_flag</a></div><div class="ttdeci">int neutra_chroma_indication_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00066">hevc_ps.h:66</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1944f9a4f8f2e123c087e1fe7613d571"><div class="ttname"><a href="struct_a_v_codec_context.html#a1944f9a4f8f2e123c087e1fe7613d571">AVCodecContext::flags2</a></div><div class="ttdeci">int flags2</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00613">avcodec.h:613</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5a241f1b73b42f74b4122da23004dc6c"><div class="ttname"><a href="libavutil_2internal_8h.html#a5a241f1b73b42f74b4122da23004dc6c">PTRDIFF_SPECIFIER</a></div><div class="ttdeci">#define PTRDIFF_SPECIFIER</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00228">internal.h:228</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55bae4e337bbc8ae4f79c918332d0b86c24c"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bae4e337bbc8ae4f79c918332d0b86c24c">HEVC_MAX_SHORT_TERM_REF_PIC_SETS</a></div><div class="ttdeci">@ HEVC_MAX_SHORT_TERM_REF_PIC_SETS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00122">hevc.h:122</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga135e9e929b5033bb8f68322497b2effc"><div class="ttname"><a href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a></div><div class="ttdeci">void av_buffer_unref(AVBufferRef **buf)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00125">buffer.c:125</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a103fdfe79b95f57ae5c7bd63c7876753"><div class="ttname"><a href="hevc__ps_8c.html#a103fdfe79b95f57ae5c7bd63c7876753">ff_hevc_ps_uninit</a></div><div class="ttdeci">void ff_hevc_ps_uninit(HEVCParamSets *ps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l01743">hevc_ps.c:1743</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5aef61d7a65003ef618420f618294107b0"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5aef61d7a65003ef618420f618294107b0">AV_PIX_FMT_YUVJ420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUVJ420P</div><div class="ttdoc">planar YUV 4:2:0, 12bpp, full scale (JPEG), deprecated in favor of AV_PIX_FMT_YUV420P and setting col...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00078">pixfmt.h:78</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aaf015040dda97fac08a56ddbd1dd1e31"><div class="ttname"><a href="avcodec_8h.html#aaf015040dda97fac08a56ddbd1dd1e31">FF_PROFILE_HEVC_MAIN_10</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_MAIN_10</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01948">avcodec.h:1948</a></div></div>
<div class="ttc" id="apixdesc_8c_html_a811dbb6cf48bbcd66a1243bdd6d89909"><div class="ttname"><a href="pixdesc_8c.html#a811dbb6cf48bbcd66a1243bdd6d89909">av_color_primaries_name</a></div><div class="ttdeci">const char * av_color_primaries_name(enum AVColorPrimaries primaries)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02918">pixdesc.c:2918</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_p_p_s_html"><div class="ttname"><a href="struct_h_e_v_c_p_p_s.html">HEVCPPS</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00249">hevc_ps.h:249</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a66e08cc645d119c6383c994529f5dff4"><div class="ttname"><a href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV422P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00400">pixfmt.h:400</a></div></div>
<div class="ttc" id="astruct_a_v_pix_fmt_descriptor_html"><div class="ttname"><a href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00081">pixdesc.h:81</a></div></div>
<div class="ttc" id="acbs__h265__syntax__template_8c_html_a5e9c159c9f2cfa2e44b616fdca3db5a7"><div class="ttname"><a href="cbs__h265__syntax__template_8c.html#a5e9c159c9f2cfa2e44b616fdca3db5a7">vps</a></div><div class="ttdeci">static int FUNC() vps(CodedBitstreamContext *ctx, RWContext *rw, H265RawVPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h265__syntax__template_8c_source.html#l00420">cbs_h265_syntax_template.c:420</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a></div><div class="ttdeci">@ AV_PIX_FMT_GRAY8</div><div class="ttdoc">Y , 8bpp.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00074">pixfmt.h:74</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a6101c3b2a02c61ea41f3c97e88b64d39"><div class="ttname"><a href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a></div><div class="ttdeci">#define AV_EF_EXPLODE</div><div class="ttdoc">abort decoding on minor error detection</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01666">avcodec.h:1666</a></div></div>
<div class="ttc" id="astruct_scaling_list_html_a19bd14d8fadb2335c006cd115d8d6aba"><div class="ttname"><a href="struct_scaling_list.html#a19bd14d8fadb2335c006cd115d8d6aba">ScalingList::sl_dc</a></div><div class="ttdeci">uint8_t sl_dc[2][6]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00150">hevc_ps.h:150</a></div></div>
<div class="ttc" id="ahevc__data_8h_html"><div class="ttname"><a href="hevc__data_8h.html">hevc_data.h</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a567b58b040435dc9fb40f45128552246"><div class="ttname"><a href="struct_v_u_i.html#a567b58b040435dc9fb40f45128552246">VUI::sar</a></div><div class="ttdeci">AVRational sar</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00050">hevc_ps.h:50</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a4b3d4899bdca54f48d9258ca95c5d5ab"><div class="ttname"><a href="struct_v_u_i.html#a4b3d4899bdca54f48d9258ca95c5d5ab">VUI::log2_max_mv_length_vertical</a></div><div class="ttdeci">int log2_max_mv_length_vertical</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00089">hevc_ps.h:89</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a8548214443169d4daac74fb59b609e7f"><div class="ttname"><a href="struct_v_u_i.html#a8548214443169d4daac74fb59b609e7f">VUI::video_signal_type_present_flag</a></div><div class="ttdeci">int video_signal_type_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00055">hevc_ps.h:55</a></div></div>
<div class="ttc" id="astruct_short_term_r_p_s_html"><div class="ttname"><a href="struct_short_term_r_p_s.html">ShortTermRPS</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00034">hevc_ps.h:34</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_ac42c745588ed97211bce507226e20d6d"><div class="ttname"><a href="struct_v_u_i.html#ac42c745588ed97211bce507226e20d6d">VUI::default_display_window_flag</a></div><div class="ttdeci">int default_display_window_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00071">hevc_ps.h:71</a></div></div>
<div class="ttc" id="aextract__extradata__bsf_8c_html_a92ba2b3ed65ae251e69195d3ebe639b6"><div class="ttname"><a href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="extract__extradata__bsf_8c_source.html#l00049">extract_extradata_bsf.c:325</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_adb1a0f6630b23086f7a149ddaa928969"><div class="ttname"><a href="hevc__ps_8c.html#adb1a0f6630b23086f7a149ddaa928969">scaling_list_data</a></div><div class="ttdeci">static int scaling_list_data(GetBitContext *gb, AVCodecContext *avctx, ScalingList *sl, HEVCSPS *sps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00783">hevc_ps.c:783</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a1e6d2c6dff68c6128ac0dcc8d2d9b77f"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a1e6d2c6dff68c6128ac0dcc8d2d9b77f">pps</a></div><div class="ttdeci">static int FUNC() pps(CodedBitstreamContext *ctx, RWContext *rw, H264RawPPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00404">cbs_h264_syntax_template.c:404</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_ab74bdbf0faa364c7db2d31e99b01fbdb"><div class="ttname"><a href="hevc__ps_8c.html#ab74bdbf0faa364c7db2d31e99b01fbdb">check_profile_idc</a></div><div class="ttdeci">#define check_profile_idc(idc)</div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a9c4b4fd1eb15c778a773073fd50660dc"><div class="ttname"><a href="hevc__ps_8c.html#a9c4b4fd1eb15c778a773073fd50660dc">ff_hevc_decode_nal_sps</a></div><div class="ttdeci">int ff_hevc_decode_nal_sps(GetBitContext *gb, AVCodecContext *avctx, HEVCParamSets *ps, int apply_defdispwin)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l01246">hevc_ps.c:1246</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a570adc38d3ba623b3c4e07a6d22abfa8"><div class="ttname"><a href="pixfmt_8h.html#a570adc38d3ba623b3c4e07a6d22abfa8">AV_PIX_FMT_YUV422P12</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV422P12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00404">pixfmt.h:404</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a58c481b27ac604a29be0031c79aca5df"><div class="ttname"><a href="struct_v_u_i.html#a58c481b27ac604a29be0031c79aca5df">VUI::frame_field_info_present_flag</a></div><div class="ttdeci">int frame_field_info_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00069">hevc_ps.h:69</a></div></div>
<div class="ttc" id="alibavcodec_2hevc_8h_html_a0ce28dba26bd321b9ca821f6e14ce2c2a1e0fe8df6c834995d210fcb31ca80c48"><div class="ttname"><a href="libavcodec_2hevc_8h.html#a0ce28dba26bd321b9ca821f6e14ce2c2a1e0fe8df6c834995d210fcb31ca80c48">HEVC_NAL_BLA_W_LP</a></div><div class="ttdeci">@ HEVC_NAL_BLA_W_LP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00045">hevc.h:45</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_adece6c3e748632427b05de3fd035731a"><div class="ttname"><a href="hevc__ps_8c.html#adece6c3e748632427b05de3fd035731a">ff_hevc_compute_poc</a></div><div class="ttdeci">int ff_hevc_compute_poc(const HEVCSPS *sps, int pocTid0, int poc_lsb, int nal_unit_type)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l01759">hevc_ps.c:1759</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_param_sets_html_a97c12f991b34a668ecfa8e0aae4ddf2b"><div class="ttname"><a href="struct_h_e_v_c_param_sets.html#a97c12f991b34a668ecfa8e0aae4ddf2b">HEVCParamSets::sps_list</a></div><div class="ttdeci">AVBufferRef * sps_list[HEVC_MAX_SPS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00329">hevc_ps.h:329</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a143cd27f91e2f9f4517781dfbf5c6bc1"><div class="ttname"><a href="pixfmt_8h.html#a143cd27f91e2f9f4517781dfbf5c6bc1">AV_PIX_FMT_YUV444P12</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV444P12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00406">pixfmt.h:406</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_afe1ef0e5f267f906ca40de742cb2d56d"><div class="ttname"><a href="struct_v_u_i.html#afe1ef0e5f267f906ca40de742cb2d56d">VUI::transfer_characteristic</a></div><div class="ttdeci">uint8_t transfer_characteristic</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00060">hevc_ps.h:60</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a8c2c57a94ad5c864c2057f242a79e481"><div class="ttname"><a href="hevc__ps_8c.html#a8c2c57a94ad5c864c2057f242a79e481">ff_hevc_decode_nal_vps</a></div><div class="ttdeci">int ff_hevc_decode_nal_vps(GetBitContext *gb, AVCodecContext *avctx, HEVCParamSets *ps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00458">hevc_ps.c:458</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_aec8732819329c5c2e28e66a72c8a5775"><div class="ttname"><a href="struct_v_u_i.html#aec8732819329c5c2e28e66a72c8a5775">VUI::vui_num_units_in_tick</a></div><div class="ttdeci">uint32_t vui_num_units_in_tick</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00075">hevc_ps.h:75</a></div></div>
<div class="ttc" id="astruct_a_v_buffer_ref_html"><div class="ttname"><a href="struct_a_v_buffer_ref.html">AVBufferRef</a></div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00081">buffer.h:81</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a92b1e02f7ac65c46ad217b5cbe99b2bb"><div class="ttname"><a href="hevc__ps_8c.html#a92b1e02f7ac65c46ad217b5cbe99b2bb">decode_profile_tier_level</a></div><div class="ttdeci">static int decode_profile_tier_level(GetBitContext *gb, AVCodecContext *avctx, PTLCommon *ptl)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00265">hevc_ps.c:265</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aba55ebfbdd624176ceddc14ac7a5f133"><div class="ttname"><a href="get__bits_8h.html#aba55ebfbdd624176ceddc14ac7a5f133">skip_bits1</a></div><div class="ttdeci">static void skip_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00538">get_bits.h:538</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_abe6d65f2285a6ae885ea426c86f50ba0"><div class="ttname"><a href="struct_v_u_i.html#abe6d65f2285a6ae885ea426c86f50ba0">VUI::def_disp_win</a></div><div class="ttdeci">HEVCWindow def_disp_win</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00072">hevc_ps.h:72</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00205">log.h:205</a></div></div>
<div class="ttc" id="astruct_short_term_r_p_s_html_a764d6c0d1496dda0b1abcb6eb916cb88"><div class="ttname"><a href="struct_short_term_r_p_s.html#a764d6c0d1496dda0b1abcb6eb916cb88">ShortTermRPS::num_delta_pocs</a></div><div class="ttdeci">int num_delta_pocs</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00036">hevc_ps.h:36</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a49ed362b2fc3a1765641a0ee114b8c84"><div class="ttname"><a href="struct_v_u_i.html#a49ed362b2fc3a1765641a0ee114b8c84">VUI::colour_description_present_flag</a></div><div class="ttdeci">int colour_description_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00058">hevc_ps.h:58</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_v_p_s_html"><div class="ttname"><a href="struct_h_e_v_c_v_p_s.html">HEVCVPS</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00123">hevc_ps.h:123</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a11493d9ace0578d0798659049942e6d7"><div class="ttname"><a href="struct_v_u_i.html#a11493d9ace0578d0798659049942e6d7">VUI::vui_timing_info_present_flag</a></div><div class="ttdeci">int vui_timing_info_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00074">hevc_ps.h:74</a></div></div>
<div class="ttc" id="ahevc__ps_8h_html"><div class="ttname"><a href="hevc__ps_8h.html">hevc_ps.h</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a571768f99442e5974cdf412ede46d0fc"><div class="ttname"><a href="avcodec_8h.html#a571768f99442e5974cdf412ede46d0fc">FF_PROFILE_HEVC_MAIN_STILL_PICTURE</a></div><div class="ttdeci">#define FF_PROFILE_HEVC_MAIN_STILL_PICTURE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01949">avcodec.h:1949</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a5fe3c8b068d55f80b7d2aa9453ecdae9"><div class="ttname"><a href="struct_v_u_i.html#a5fe3c8b068d55f80b7d2aa9453ecdae9">VUI::max_bytes_per_pic_denom</a></div><div class="ttdeci">int max_bytes_per_pic_denom</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00086">hevc_ps.h:86</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a7de060139e9fd1ba12510b9e14e1e259"><div class="ttname"><a href="pixfmt_8h.html#a7de060139e9fd1ba12510b9e14e1e259">AV_PIX_FMT_GBRP12</a></div><div class="ttdeci">#define AV_PIX_FMT_GBRP12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00416">pixfmt.h:416</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55bafa842126261f20f28f863039dd012701"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bafa842126261f20f28f863039dd012701">HEVC_MAX_DPB_SIZE</a></div><div class="ttdeci">@ HEVC_MAX_DPB_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00117">hevc.h:117</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_acd89e799e1178d987f6d4c162b456163"><div class="ttname"><a href="hevc__ps_8c.html#acd89e799e1178d987f6d4c162b456163">pps_range_extensions</a></div><div class="ttdeci">static int pps_range_extensions(GetBitContext *gb, AVCodecContext *avctx, HEVCPPS *pps, HEVCSPS *sps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l01322">hevc_ps.c:1322</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_a1ee4a05b54419bfadd66ee351d05812e"><div class="ttname"><a href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a></div><div class="ttdeci">float delta</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00457">vorbis_enc_data.h:457</a></div></div>
<div class="ttc" id="astruct_p_t_l_html"><div class="ttname"><a href="struct_p_t_l.html">PTL</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00115">hevc_ps.h:115</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_buffer_ref_html_a55f17b82a5af97259a5e8a3fd9647a08"><div class="ttname"><a href="struct_a_v_buffer_ref.html#a55f17b82a5af97259a5e8a3fd9647a08">AVBufferRef::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00093">buffer.h:93</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_SPC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00515">pixfmt.h:515</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a1455e5fb4ec9fc402e3fa8a65211bacd"><div class="ttname"><a href="pixfmt_8h.html#a1455e5fb4ec9fc402e3fa8a65211bacd">AV_PIX_FMT_YUV444P9</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV444P9</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00398">pixfmt.h:398</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a619b60c59cf2a117f9d173ba4b021441"><div class="ttname"><a href="hevc__ps_8c.html#a619b60c59cf2a117f9d173ba4b021441">set_default_scaling_list_data</a></div><div class="ttdeci">static void set_default_scaling_list_data(ScalingList *sl)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00753">hevc_ps.c:753</a></div></div>
<div class="ttc" id="astruct_short_term_r_p_s_html_a96620626273482e9f0c4ba0eb024076c"><div class="ttname"><a href="struct_short_term_r_p_s.html#a96620626273482e9f0c4ba0eb024076c">ShortTermRPS::delta_poc</a></div><div class="ttdeci">int32_t delta_poc[32]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00038">hevc_ps.h:38</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_window_html_a6885a7c1f60343f205218d8bea19b923"><div class="ttname"><a href="struct_h_e_v_c_window.html#a6885a7c1f60343f205218d8bea19b923">HEVCWindow::bottom_offset</a></div><div class="ttdeci">unsigned int bottom_offset</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00046">hevc_ps.h:46</a></div></div>
<div class="ttc" id="astruct_short_term_r_p_s_html_aeec3751def82a5f462372206db895f17"><div class="ttname"><a href="struct_short_term_r_p_s.html#aeec3751def82a5f462372206db895f17">ShortTermRPS::rps_idx_num_delta_pocs</a></div><div class="ttdeci">int rps_idx_num_delta_pocs</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00037">hevc_ps.h:37</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a8c10732a945d1489cc7143dfd423cb35"><div class="ttname"><a href="struct_v_u_i.html#a8c10732a945d1489cc7143dfd423cb35">VUI::min_spatial_segmentation_idc</a></div><div class="ttdeci">int min_spatial_segmentation_idc</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00085">hevc_ps.h:85</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="acbs__h264__syntax__template_8c_html_a242a701bcfbec850a5843e7fad901352"><div class="ttname"><a href="cbs__h264__syntax__template_8c.html#a242a701bcfbec850a5843e7fad901352">sps</a></div><div class="ttdeci">static int FUNC() sps(CodedBitstreamContext *ctx, RWContext *rw, H264RawSPS *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h264__syntax__template_8c_source.html#l00260">cbs_h264_syntax_template.c:260</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="astruct_p_t_l_common_html"><div class="ttname"><a href="struct_p_t_l_common.html">PTLCommon</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00092">hevc_ps.h:92</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a4f1a2065ddb07bd4881c07c1f6b0568c"><div class="ttname"><a href="pixfmt_8h.html#a4f1a2065ddb07bd4881c07c1f6b0568c">AV_PIX_FMT_YUV420P12</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV420P12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00403">pixfmt.h:403</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a0e48151aa81e2949bf69aaf5e3fc2cc9"><div class="ttname"><a href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a></div><div class="ttdeci">#define SIZE_SPECIFIER</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00229">internal.h:229</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_window_html_a3684ec2b4c6ea3cbe787d4a8f3d0bf05"><div class="ttname"><a href="struct_h_e_v_c_window.html#a3684ec2b4c6ea3cbe787d4a8f3d0bf05">HEVCWindow::right_offset</a></div><div class="ttdeci">unsigned int right_offset</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00044">hevc_ps.h:44</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a44a3f38d5c5e59f77f26c3f1bc7c0dea"><div class="ttname"><a href="hevc__ps_8c.html#a44a3f38d5c5e59f77f26c3f1bc7c0dea">parse_ptl</a></div><div class="ttdeci">static int parse_ptl(GetBitContext *gb, AVCodecContext *avctx, PTL *ptl, int max_num_sub_layers)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00339">hevc_ps.c:339</a></div></div>
<div class="ttc" id="astruct_scaling_list_html"><div class="ttname"><a href="struct_scaling_list.html">ScalingList</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00146">hevc_ps.h:146</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html_adb1b693f5d0cc1dc759c297509974e14"><div class="ttname"><a href="struct_get_bit_context.html#adb1b693f5d0cc1dc759c297509974e14">GetBitContext::buffer_end</a></div><div class="ttdeci">const uint8_t * buffer_end</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00062">get_bits.h:62</a></div></div>
<div class="ttc" id="ahevc__data_8c_html_a826830a6748099921aa3393971a8666d"><div class="ttname"><a href="hevc__data_8c.html#a826830a6748099921aa3393971a8666d">ff_hevc_diag_scan4x4_x</a></div><div class="ttdeci">const uint8_t ff_hevc_diag_scan4x4_x[16]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__data_8c_source.html#l00025">hevc_data.c:25</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV444P</div><div class="ttdoc">planar YUV 4:4:4, 24bpp, (1 Cr &amp; Cb sample per 1x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00071">pixfmt.h:71</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5ad000ae47faa5fbe8d4b3b375151694ef"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ad000ae47faa5fbe8d4b3b375151694ef">AV_PIX_FMT_GBRP</a></div><div class="ttdeci">@ AV_PIX_FMT_GBRP</div><div class="ttdoc">planar GBR 4:4:4 24bpp</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00168">pixfmt.h:168</a></div></div>
<div class="ttc" id="alibsvtav1_8c_html_a710bce51374aba96ab04912897666c35"><div class="ttname"><a href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> <a href="libsvtav1_8c_source.html#l00079">libsvtav1.c:79</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV422P</div><div class="ttdoc">planar YUV 4:2:2, 16bpp, (1 Cr &amp; Cb sample per 2x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00070">pixfmt.h:70</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_affa7c0400d482213f070ba0d159e71d3"><div class="ttname"><a href="hevc__ps_8c.html#affa7c0400d482213f070ba0d159e71d3">hevc_pps_free</a></div><div class="ttdeci">static void hevc_pps_free(void *opaque, uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l01304">hevc_ps.c:1304</a></div></div>
<div class="ttc" id="agolomb_8h_html_af09ebe1db4301aaa62f22ec381c89bd2"><div class="ttname"><a href="golomb_8h.html#af09ebe1db4301aaa62f22ec381c89bd2">get_ue_golomb_long</a></div><div class="ttdeci">static unsigned get_ue_golomb_long(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="golomb_8h_source.html#l00106">golomb.h:106</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a6dec5675c08ef73d6dd9758ee38253cb"><div class="ttname"><a href="hevc__ps_8c.html#a6dec5675c08ef73d6dd9758ee38253cb">hevc_sub_height_c</a></div><div class="ttdeci">static const uint8_t hevc_sub_height_c[]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00077">hevc_ps.c:77</a></div></div>
<div class="ttc" id="acbs__av1__syntax__template_8c_html_a570657a8099545f4a449507ec30fe1b9"><div class="ttname"><a href="cbs__av1__syntax__template_8c.html#a570657a8099545f4a449507ec30fe1b9">timing_info</a></div><div class="ttdeci">static int FUNC() timing_info(CodedBitstreamContext *ctx, RWContext *rw, AV1RawTimingInfo *current)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1__syntax__template_8c_source.html#l00158">cbs_av1_syntax_template.c:158</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="aimgutils_8h_html"><div class="ttname"><a href="imgutils_8h.html">imgutils.h</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a99f15453f9b7b84e5c0326408e5b3072"><div class="ttname"><a href="hevc__ps_8c.html#a99f15453f9b7b84e5c0326408e5b3072">ff_hevc_decode_short_term_rps</a></div><div class="ttdeci">int ff_hevc_decode_short_term_rps(GetBitContext *gb, AVCodecContext *avctx, ShortTermRPS *rps, const HEVCSPS *sps, int is_slice_header)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00119">hevc_ps.c:119</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af9978d9bd6ac80a494ef1b78fe1d004f"><div class="ttname"><a href="struct_a_v_codec_context.html#af9978d9bd6ac80a494ef1b78fe1d004f">AVCodecContext::err_recognition</a></div><div class="ttdeci">int err_recognition</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01655">avcodec.h:1655</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba28455c55aacdcb7bc21d356ddb120f0e"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba28455c55aacdcb7bc21d356ddb120f0e">HEVC_MAX_LONG_TERM_REF_PICS</a></div><div class="ttdeci">@ HEVC_MAX_LONG_TERM_REF_PICS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2hevc_8h_source.html#l00124">hevc.h:124</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a0000088759d1590a60ffc770edcaddf4"><div class="ttname"><a href="hevc__ps_8c.html#a0000088759d1590a60ffc770edcaddf4">ff_hevc_decode_nal_pps</a></div><div class="ttdeci">int ff_hevc_decode_nal_pps(GetBitContext *gb, AVCodecContext *avctx, HEVCParamSets *ps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l01495">hevc_ps.c:1495</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_ac95550f58993af406cfc523ad231a393"><div class="ttname"><a href="hevc__ps_8c.html#ac95550f58993af406cfc523ad231a393">setup_pps</a></div><div class="ttdeci">static int setup_pps(AVCodecContext *avctx, GetBitContext *gb, HEVCPPS *pps, HEVCSPS *sps)</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l01363">hevc_ps.c:1363</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a6be5ff93dd63090b88066011fd2f206d"><div class="ttname"><a href="struct_v_u_i.html#a6be5ff93dd63090b88066011fd2f206d">VUI::vui_hrd_parameters_present_flag</a></div><div class="ttdeci">int vui_hrd_parameters_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00079">hevc_ps.h:79</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ga3a867b6180ddad1e0c382ef0c5940b8e"><div class="ttname"><a href="group__lavu__picture.html#ga3a867b6180ddad1e0c382ef0c5940b8e">av_image_check_size</a></div><div class="ttdeci">int av_image_check_size(unsigned int w, unsigned int h, int log_offset, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="imgutils_8c_source.html#l00317">imgutils.c:317</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a699dc7747424b5035d0d807e6d042464"><div class="ttname"><a href="pixfmt_8h.html#a699dc7747424b5035d0d807e6d042464">AV_PIX_FMT_GRAY12</a></div><div class="ttdeci">#define AV_PIX_FMT_GRAY12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00381">pixfmt.h:381</a></div></div>
<div class="ttc" id="ahevc__ps_8c_html_a3d079788a5bba81a64252d461986eb7d"><div class="ttname"><a href="hevc__ps_8c.html#a3d079788a5bba81a64252d461986eb7d">default_scaling_list_intra</a></div><div class="ttdeci">static const uint8_t default_scaling_list_intra[]</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8c_source.html#l00031">hevc_ps.c:31</a></div></div>
<div class="ttc" id="astruct_v_u_i_html"><div class="ttname"><a href="struct_v_u_i.html">VUI</a></div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00049">hevc_ps.h:49</a></div></div>
<div class="ttc" id="aavcodec_8h_html_abf6792ce87394703aaaf75dd720ec718"><div class="ttname"><a href="avcodec_8h.html#abf6792ce87394703aaaf75dd720ec718">FF_DEBUG_BITSTREAM</a></div><div class="ttdeci">#define FF_DEBUG_BITSTREAM</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01614">avcodec.h:1614</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="apixdesc_8c_html_a2ebc788f298dc96bc647ebcdeeb5d0b2"><div class="ttname"><a href="pixdesc_8c.html#a2ebc788f298dc96bc647ebcdeeb5d0b2">av_color_transfer_name</a></div><div class="ttdeci">const char * av_color_transfer_name(enum AVColorTransferCharacteristic transfer)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02942">pixdesc.c:2942</a></div></div>
<div class="ttc" id="astruct_h_e_v_c_param_sets_html_ab9006811d55def88bb5c05b983cad4c9"><div class="ttname"><a href="struct_h_e_v_c_param_sets.html#ab9006811d55def88bb5c05b983cad4c9">HEVCParamSets::sps</a></div><div class="ttdeci">const HEVCSPS * sps</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00334">hevc_ps.h:334</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a0f4622f3d730a2a1b34a6425741249ed"><div class="ttname"><a href="struct_v_u_i.html#a0f4622f3d730a2a1b34a6425741249ed">VUI::vui_poc_proportional_to_timing_flag</a></div><div class="ttdeci">int vui_poc_proportional_to_timing_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00077">hevc_ps.h:77</a></div></div>
<div class="ttc" id="apixdesc_8c_html_ab92e2a8a9b58c982560c49df9f01e47e"><div class="ttname"><a href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a></div><div class="ttdeci">const char * av_get_pix_fmt_name(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02489">pixdesc.c:2489</a></div></div>
<div class="ttc" id="astruct_v_u_i_html_a4b21d0c22a48bb8b5e1a33040a4939a4"><div class="ttname"><a href="struct_v_u_i.html#a4b21d0c22a48bb8b5e1a33040a4939a4">VUI::motion_vectors_over_pic_boundaries_flag</a></div><div class="ttdeci">int motion_vectors_over_pic_boundaries_flag</div><div class="ttdef"><b>Definition:</b> <a href="hevc__ps_8h_source.html#l00083">hevc_ps.h:83</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
