<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/libvpxenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">libvpxenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="libvpxenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2010, Google, Inc.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a0e9505bb264bb74c1169175c64901323">   26</a></span>&#160;<span class="preprocessor">#define VPX_DISABLE_CTRL_TYPECHECKS 1</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a36cec3dad8fc5483242b4eae159ca214">   27</a></span>&#160;<span class="preprocessor">#define VPX_CODEC_DISABLE_COMPAT    1</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;vpx/vpx_encoder.h&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;vpx/vp8cx.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libvpx_8h.html">libvpx.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="packet__internal_8h.html">packet_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="profiles_8h.html">profiles.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="base64_8h.html">libavutil/base64.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">libavutil/common.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>;                       </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="struct_frame_list_data.html#a2e6ebd4e33fbb943be94b3a9503fed4a">sz</a>;                       </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">   53</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">   54</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    int64_t <a class="code" href="struct_frame_list_data.html#a02d9bfff681e50133a076008312b2c9f">pts</a>;                     </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="struct_frame_list_data.html#a56b884d223b96757142b2d53c26e991a">duration</a>;          </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    uint32_t <a class="code" href="struct_frame_list_data.html#ad675560a3a80be0d102be9d3150fac97">flags</a>;                  </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    uint64_t <a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a>[4];</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_frame_list_data.html#a801b877246fbfbe32c7dcb8c22cb4d26">have_sse</a>;                    </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    uint64_t <a class="code" href="struct_frame_list_data.html#aa817dec60c42863493e19ee70408eb3c">frame_number</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> *<a class="code" href="struct_frame_list_data.html#a2c581a6e8be758e1fbe73ee193cfd59e">next</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;};</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html">   66</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_v_px_encoder_context.html">VPxEncoderContext</a> {</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#af618ba0328235e57712fbd7006ff8f75">   67</a></span>&#160;    <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">struct </span>vpx_codec_ctx <a class="code" href="struct_v_px_encoder_context.html#a03603111966893682bd100a4347e5976">encoder</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">struct </span>vpx_image <a class="code" href="struct_v_px_encoder_context.html#aa9e0522c09aaf7176a0fb651817c873a">rawimg</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">struct </span>vpx_codec_ctx <a class="code" href="struct_v_px_encoder_context.html#a49b9e831c25fcf07426cb128346a2118">encoder_alpha</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">struct </span>vpx_image <a class="code" href="struct_v_px_encoder_context.html#af618ba0328235e57712fbd7006ff8f75">rawimg_alpha</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ab7007620bb71834f66de1be8a8632362">   72</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_v_px_encoder_context.html#ae3c93b2ed25d9d6fdd956f6590165aec">is_alpha</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">struct </span>vpx_fixed_buf <a class="code" href="struct_v_px_encoder_context.html#ab7007620bb71834f66de1be8a8632362">twopass_stats</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a91b8c50c81699c91b2098ee15eb6319c">   74</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a91b8c50c81699c91b2098ee15eb6319c">deadline</a>; <span class="comment">//i.e., RT/GOOD/BEST</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a2a0c10a4e380e7e9d34b84e7f99dc309">   75</a></span>&#160;    uint64_t <a class="code" href="struct_v_px_encoder_context.html#a2a0c10a4e380e7e9d34b84e7f99dc309">sse</a>[4];</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a03ad059409d58e067cdf2bdd8ac01877">   76</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a03ad059409d58e067cdf2bdd8ac01877">have_sse</a>; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a9f186bb0cad61979e81b5b98afea4f8d">   77</a></span>&#160;    uint64_t <a class="code" href="struct_v_px_encoder_context.html#a9f186bb0cad61979e81b5b98afea4f8d">frame_number</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a078dc998911adada1724d819474cc75a">   78</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> *<a class="code" href="struct_v_px_encoder_context.html#a078dc998911adada1724d819474cc75a">coded_frame_list</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a4b927f3b7c9551fce985a3a9bfed8ac7">   80</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a4b927f3b7c9551fce985a3a9bfed8ac7">cpu_used</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a39fbfd4c2dd4cb66d4b17de8f62a7c45">   81</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a39fbfd4c2dd4cb66d4b17de8f62a7c45">sharpness</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a063c049af73d425e88a137409ca56ab2">   85</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a063c049af73d425e88a137409ca56ab2">flags</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a2aa026bf65668feafb418b5b88365d5c">   86</a></span>&#160;<span class="preprocessor">#define VP8F_ERROR_RESILIENT 0x00000001 </span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a387cba397cdf8453e7804a04180e4b79">   87</a></span>&#160;<span class="preprocessor">#define VP8F_AUTO_ALT_REF    0x00000002 </span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a85dfcb811dcc047aa7a2fc8e87c74dfd">   89</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a85dfcb811dcc047aa7a2fc8e87c74dfd">auto_alt_ref</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a2e646719e8c81171b7452aea2304c774">   91</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a2e646719e8c81171b7452aea2304c774">arnr_max_frames</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ab514784e8523d746a0c608241a624794">   92</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ab514784e8523d746a0c608241a624794">arnr_strength</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ae49ff9ea234a81605ca392dadec09736">   93</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ae49ff9ea234a81605ca392dadec09736">arnr_type</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ab531f8c5ca3a9e0595b303471eb848af">   95</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ab531f8c5ca3a9e0595b303471eb848af">tune</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ac3b80f048dd08d16ef4451809aab3568">   97</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ac3b80f048dd08d16ef4451809aab3568">lag_in_frames</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a374a73a7e0be37761cd5976e447cd730">   98</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a374a73a7e0be37761cd5976e447cd730">error_resilient</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ac0112c09c0f8756fcebef7939d1270c0">   99</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ac0112c09c0f8756fcebef7939d1270c0">crf</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#af525fd9a955302a28b7c95e49978527f">  100</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#af525fd9a955302a28b7c95e49978527f">static_thresh</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ab7700d8285524d7662150255778d2b60">  101</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ab7700d8285524d7662150255778d2b60">max_intra_rate</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a99a881ee9003602b6a1d61fb5d038f8d">  102</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a99a881ee9003602b6a1d61fb5d038f8d">rc_undershoot_pct</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#aea64991db3be4e3d5899bc1f3afd9729">  103</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#aea64991db3be4e3d5899bc1f3afd9729">rc_overshoot_pct</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a1bf6eea57343c45b3d75dde77767f2d5">  105</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_v_px_encoder_context.html#a1bf6eea57343c45b3d75dde77767f2d5">vpx_ts_parameters</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a481a8fe7fbb8e7806232da957bbd866e">  106</a></span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="struct_v_px_encoder_context.html#a481a8fe7fbb8e7806232da957bbd866e">ts_layer_flags</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ab47b8b1c73152c94e7b894add150a4eb">  107</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ab47b8b1c73152c94e7b894add150a4eb">current_temporal_idx</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// VP9-only</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ade6776c6db8c2e3ec8021f3c405ac3b6">  110</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ade6776c6db8c2e3ec8021f3c405ac3b6">lossless</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a527a42b120b1b7c37ad521b765f1b463">  111</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a527a42b120b1b7c37ad521b765f1b463">tile_columns</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a6b9fa06c58c3cfd5c7572b3d6f74a67f">  112</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a6b9fa06c58c3cfd5c7572b3d6f74a67f">tile_rows</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a34d9401cf0ee92d29df3a949034f1b6a">  113</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a34d9401cf0ee92d29df3a949034f1b6a">frame_parallel</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a2d3b40d35db67fb53f960821a8527775">  114</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a2d3b40d35db67fb53f960821a8527775">aq_mode</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a9db2d4bcbea6948c2f6abe341020145c">  115</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a9db2d4bcbea6948c2f6abe341020145c">drop_threshold</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a9d1e5a0c85c6ba1b94ba3eaf816f5d3c">  116</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a9d1e5a0c85c6ba1b94ba3eaf816f5d3c">noise_sensitivity</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a56e9bf369f0782a3a0c65b9f024c7331">  117</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a56e9bf369f0782a3a0c65b9f024c7331">vpx_cs</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a8ce6947b97bbf246d74da7888889f703">  118</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_v_px_encoder_context.html#a8ce6947b97bbf246d74da7888889f703">level</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a2cebccd03d671ba28617749be9fa487b">  119</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a2cebccd03d671ba28617749be9fa487b">row_mt</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#ad5484a0dc4ff8d33ad37c30231c3fbc5">  120</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#ad5484a0dc4ff8d33ad37c30231c3fbc5">tune_content</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a21e8ef47ae8be1faab8b31790b1942b9">  121</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a21e8ef47ae8be1faab8b31790b1942b9">corpus_complexity</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#aad2180ad44b4044cfe3f433e07f23697">  122</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#aad2180ad44b4044cfe3f433e07f23697">tpl_model</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="struct_v_px_encoder_context.html#a4ae99a93cc54756998328ff49f31334e">  127</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_v_px_encoder_context.html#a4ae99a93cc54756998328ff49f31334e">roi_warned</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a243ee7f9f4bd1ee3ede813bfa7787e29">  128</a></span>&#160;} <a class="code" href="libvpxenc_8c.html#a243ee7f9f4bd1ee3ede813bfa7787e29">VPxContext</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a07bac63e0199a4b789122759381cac87">  131</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="libvpxenc_8c.html#a07bac63e0199a4b789122759381cac87">ctlidstr</a>[] = {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    [VP8E_SET_CPUUSED]           = <span class="stringliteral">&quot;VP8E_SET_CPUUSED&quot;</span>,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    [VP8E_SET_ENABLEAUTOALTREF]  = <span class="stringliteral">&quot;VP8E_SET_ENABLEAUTOALTREF&quot;</span>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    [VP8E_SET_NOISE_SENSITIVITY] = <span class="stringliteral">&quot;VP8E_SET_NOISE_SENSITIVITY&quot;</span>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    [VP8E_SET_STATIC_THRESHOLD]  = <span class="stringliteral">&quot;VP8E_SET_STATIC_THRESHOLD&quot;</span>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    [VP8E_SET_TOKEN_PARTITIONS]  = <span class="stringliteral">&quot;VP8E_SET_TOKEN_PARTITIONS&quot;</span>,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    [VP8E_SET_ARNR_MAXFRAMES]    = <span class="stringliteral">&quot;VP8E_SET_ARNR_MAXFRAMES&quot;</span>,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    [VP8E_SET_ARNR_STRENGTH]     = <span class="stringliteral">&quot;VP8E_SET_ARNR_STRENGTH&quot;</span>,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    [VP8E_SET_ARNR_TYPE]         = <span class="stringliteral">&quot;VP8E_SET_ARNR_TYPE&quot;</span>,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    [VP8E_SET_TUNING]            = <span class="stringliteral">&quot;VP8E_SET_TUNING&quot;</span>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    [VP8E_SET_CQ_LEVEL]          = <span class="stringliteral">&quot;VP8E_SET_CQ_LEVEL&quot;</span>,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    [VP8E_SET_MAX_INTRA_BITRATE_PCT] = <span class="stringliteral">&quot;VP8E_SET_MAX_INTRA_BITRATE_PCT&quot;</span>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    [VP8E_SET_SHARPNESS]               = <span class="stringliteral">&quot;VP8E_SET_SHARPNESS&quot;</span>,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    [VP8E_SET_TEMPORAL_LAYER_ID]       = <span class="stringliteral">&quot;VP8E_SET_TEMPORAL_LAYER_ID&quot;</span>,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    [VP9E_SET_LOSSLESS]                = <span class="stringliteral">&quot;VP9E_SET_LOSSLESS&quot;</span>,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    [VP9E_SET_TILE_COLUMNS]            = <span class="stringliteral">&quot;VP9E_SET_TILE_COLUMNS&quot;</span>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    [VP9E_SET_TILE_ROWS]               = <span class="stringliteral">&quot;VP9E_SET_TILE_ROWS&quot;</span>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    [VP9E_SET_FRAME_PARALLEL_DECODING] = <span class="stringliteral">&quot;VP9E_SET_FRAME_PARALLEL_DECODING&quot;</span>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    [VP9E_SET_AQ_MODE]                 = <span class="stringliteral">&quot;VP9E_SET_AQ_MODE&quot;</span>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    [VP9E_SET_COLOR_SPACE]             = <span class="stringliteral">&quot;VP9E_SET_COLOR_SPACE&quot;</span>,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    [VP9E_SET_SVC_LAYER_ID]            = <span class="stringliteral">&quot;VP9E_SET_SVC_LAYER_ID&quot;</span>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    [VP9E_SET_SVC_PARAMETERS]          = <span class="stringliteral">&quot;VP9E_SET_SVC_PARAMETERS&quot;</span>,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    [VP9E_SET_SVC]                     = <span class="stringliteral">&quot;VP9E_SET_SVC&quot;</span>,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 11</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    [VP9E_SET_COLOR_RANGE]             = <span class="stringliteral">&quot;VP9E_SET_COLOR_RANGE&quot;</span>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    [VP9E_SET_TARGET_LEVEL]            = <span class="stringliteral">&quot;VP9E_SET_TARGET_LEVEL&quot;</span>,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    [VP9E_GET_LEVEL]                   = <span class="stringliteral">&quot;VP9E_GET_LEVEL&quot;</span>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_ROW_MT</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    [VP9E_SET_ROW_MT]                  = <span class="stringliteral">&quot;VP9E_SET_ROW_MT&quot;</span>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_TUNE_CONTENT</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    [VP9E_SET_TUNE_CONTENT]            = <span class="stringliteral">&quot;VP9E_SET_TUNE_CONTENT&quot;</span>,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_TPL</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    [VP9E_SET_TPL]                     = <span class="stringliteral">&quot;VP9E_SET_TPL&quot;</span>,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;};</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">  176</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>  = vpx_codec_error(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *detail = vpx_codec_error_detail(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;%s: %s\n&quot;</span>, <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>, <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (detail)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;  Additional information: %s\n&quot;</span>, detail);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#aab238a71f62459aa6472042e3f364365">  187</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#aab238a71f62459aa6472042e3f364365">dump_enc_cfg</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                 <span class="keyword">const</span> <span class="keyword">struct</span> vpx_codec_enc_cfg *cfg)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = -30;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;vpx_codec_enc_cfg\n&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;generic settings\n&quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;           <span class="stringliteral">&quot;  %*s%u\n  %*s%u\n  %*s%u\n  %*s%u\n  %*s%u\n&quot;</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;#<span class="keywordflow">if</span> CONFIG_LIBVPX_VP9_ENCODER</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;           <span class="stringliteral">&quot;  %*s%u\n  %*s%u\n&quot;</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;#endif</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;           <span class="stringliteral">&quot;  %*s{%u/%u}\n  %*s%u\n  %*s%d\n  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_usage:&quot;</span>,           cfg-&gt;g_usage,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_threads:&quot;</span>,         cfg-&gt;g_threads,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_profile:&quot;</span>,         cfg-&gt;g_profile,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_w:&quot;</span>,               cfg-&gt;g_w,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_h:&quot;</span>,               cfg-&gt;g_h,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;#<span class="keywordflow">if</span> CONFIG_LIBVPX_VP9_ENCODER</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_bit_depth:&quot;</span>,       cfg-&gt;g_bit_depth,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_input_bit_depth:&quot;</span>, cfg-&gt;g_input_bit_depth,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;#endif</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_timebase:&quot;</span>,        cfg-&gt;g_timebase.num, cfg-&gt;g_timebase.den,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_error_resilient:&quot;</span>, cfg-&gt;g_error_resilient,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_pass:&quot;</span>,            cfg-&gt;g_pass,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;g_lag_in_frames:&quot;</span>,   cfg-&gt;g_lag_in_frames);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;rate control settings\n&quot;</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;           <span class="stringliteral">&quot;  %*s%u\n  %*s%u\n  %*s%u\n  %*s%u\n&quot;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;           <span class="stringliteral">&quot;  %*s%d\n  %*s%p(%&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot;)\n  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_dropframe_thresh:&quot;</span>,   cfg-&gt;rc_dropframe_thresh,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_resize_allowed:&quot;</span>,     cfg-&gt;rc_resize_allowed,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_resize_up_thresh:&quot;</span>,   cfg-&gt;rc_resize_up_thresh,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_resize_down_thresh:&quot;</span>, cfg-&gt;rc_resize_down_thresh,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_end_usage:&quot;</span>,          cfg-&gt;rc_end_usage,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_twopass_stats_in:&quot;</span>,   cfg-&gt;rc_twopass_stats_in.buf, cfg-&gt;rc_twopass_stats_in.sz,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_target_bitrate:&quot;</span>,     cfg-&gt;rc_target_bitrate);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;quantizer settings\n&quot;</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;           <span class="stringliteral">&quot;  %*s%u\n  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_min_quantizer:&quot;</span>, cfg-&gt;rc_min_quantizer,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_max_quantizer:&quot;</span>, cfg-&gt;rc_max_quantizer);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;bitrate tolerance\n&quot;</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;           <span class="stringliteral">&quot;  %*s%u\n  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_undershoot_pct:&quot;</span>, cfg-&gt;rc_undershoot_pct,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_overshoot_pct:&quot;</span>,  cfg-&gt;rc_overshoot_pct);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;temporal layering settings\n&quot;</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;           <span class="stringliteral">&quot;  %*s%u\n&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;ts_number_layers:&quot;</span>, cfg-&gt;ts_number_layers);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;               <span class="stringliteral">&quot;\n  %*s&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;ts_target_bitrate:&quot;</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; VPX_TS_MAX_LAYERS; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                   <span class="stringliteral">&quot;%u &quot;</span>, cfg-&gt;ts_target_bitrate[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#if (VPX_ENCODER_ABI_VERSION &gt;= 12) &amp;&amp; CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;               <span class="stringliteral">&quot;\n  %*s&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;layer_target_bitrate:&quot;</span>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; VPX_TS_MAX_LAYERS; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                   <span class="stringliteral">&quot;%u &quot;</span>, cfg-&gt;layer_target_bitrate[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;           <span class="stringliteral">&quot;\n  %*s&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;ts_rate_decimator:&quot;</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; VPX_TS_MAX_LAYERS; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;%u &quot;</span>, cfg-&gt;ts_rate_decimator[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;           <span class="stringliteral">&quot;\n  %*s%u\n&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;ts_periodicity:&quot;</span>, cfg-&gt;ts_periodicity);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;           <span class="stringliteral">&quot;\n  %*s&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;ts_layer_id:&quot;</span>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; VPX_TS_MAX_PERIODICITY; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;%u &quot;</span>, cfg-&gt;ts_layer_id[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;decoder buffer model\n&quot;</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="stringliteral">&quot;  %*s%u\n  %*s%u\n  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_buf_sz:&quot;</span>,         cfg-&gt;rc_buf_sz,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_buf_initial_sz:&quot;</span>, cfg-&gt;rc_buf_initial_sz,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_buf_optimal_sz:&quot;</span>, cfg-&gt;rc_buf_optimal_sz);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;2 pass rate control settings\n&quot;</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;           <span class="stringliteral">&quot;  %*s%u\n  %*s%u\n  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_2pass_vbr_bias_pct:&quot;</span>,       cfg-&gt;rc_2pass_vbr_bias_pct,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_2pass_vbr_minsection_pct:&quot;</span>, cfg-&gt;rc_2pass_vbr_minsection_pct,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_2pass_vbr_maxsection_pct:&quot;</span>, cfg-&gt;rc_2pass_vbr_maxsection_pct);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 14</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;rc_2pass_vbr_corpus_complexity:&quot;</span>, cfg-&gt;rc_2pass_vbr_corpus_complexity);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;keyframing settings\n&quot;</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;           <span class="stringliteral">&quot;  %*s%d\n  %*s%u\n  %*s%u\n&quot;</span>,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;kf_mode:&quot;</span>,     cfg-&gt;kf_mode,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;kf_min_dist:&quot;</span>, cfg-&gt;kf_min_dist,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;           <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="stringliteral">&quot;kf_max_dist:&quot;</span>, cfg-&gt;kf_max_dist);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ad904da29c8a535ad9b40793d89b28b83">  285</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#ad904da29c8a535ad9b40793d89b28b83">coded_frame_add</a>(<span class="keywordtype">void</span> *<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>, <span class="keyword">struct</span> <a class="code" href="struct_frame_list_data.html">FrameListData</a> *cx_frame)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> **p = <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">while</span> (*p)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        p = &amp;(*p)-&gt;<a class="code" href="struct_frame_list_data.html#a2c581a6e8be758e1fbe73ee193cfd59e">next</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    *p = cx_frame;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a2c581a6e8be758e1fbe73ee193cfd59e">next</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a7244487243c18a01d651f64d2648d445">  295</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#a7244487243c18a01d651f64d2648d445">free_coded_frame</a>(<span class="keyword">struct</span> <a class="code" href="struct_frame_list_data.html">FrameListData</a> *cx_frame)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a>)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;cx_frame);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ae64fea36df60284cb1035b8ad71139f0">  303</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#ae64fea36df60284cb1035b8ad71139f0">free_frame_list</a>(<span class="keyword">struct</span> <a class="code" href="struct_frame_list_data.html">FrameListData</a> *<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> *p = <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">while</span> (p) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a> = <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>-&gt;next;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="libvpxenc_8c.html#a7244487243c18a01d651f64d2648d445">free_coded_frame</a>(p);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        p = <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">  314</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                <span class="keyword">enum</span> vp8e_enc_control_id <span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>[80];</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = -30;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordtype">int</span> res;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>), <span class="stringliteral">&quot;%s:&quot;</span>, <a class="code" href="libvpxenc_8c.html#a07bac63e0199a4b789122759381cac87">ctlidstr</a>[<span class="keywordtype">id</span>]);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;  %*s%d\n&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    res = vpx_codec_control(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder, <span class="keywordtype">id</span>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (res != VPX_CODEC_OK) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>), <span class="stringliteral">&quot;Failed to set %s codec control&quot;</span>,</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                 <a class="code" href="libvpxenc_8c.html#a07bac63e0199a4b789122759381cac87">ctlidstr</a>[<span class="keywordtype">id</span>]);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> res == VPX_CODEC_OK ? 0 : <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> codecctl_intp(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                 <span class="keyword">enum</span> vp8e_enc_control_id <span class="keywordtype">id</span>, <span class="keywordtype">int</span> *<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>[80];</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = -30;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">int</span> res;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>), <span class="stringliteral">&quot;%s:&quot;</span>, <a class="code" href="libvpxenc_8c.html#a07bac63e0199a4b789122759381cac87">ctlidstr</a>[<span class="keywordtype">id</span>]);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;  %*s%d\n&quot;</span>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, *<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    res = vpx_codec_control(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder, <span class="keywordtype">id</span>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (res != VPX_CODEC_OK) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>), <span class="stringliteral">&quot;Failed to set %s codec control&quot;</span>,</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                 <a class="code" href="libvpxenc_8c.html#a07bac63e0199a4b789122759381cac87">ctlidstr</a>[<span class="keywordtype">id</span>]);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> res == VPX_CODEC_OK ? 0 : <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a794b07185a989e8a5780a6485ad44451">  358</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#a794b07185a989e8a5780a6485ad44451">vpx_free</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a> &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;level &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        !(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga81bc0a84e8866ecff68e6d8a82781936">AV_CODEC_FLAG_PASS1</a>)) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordtype">int</span> level_out = 0;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (!codecctl_intp(avctx, VP9E_GET_LEVEL, &amp;level_out))</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Encoded level %.1f\n&quot;</span>, level_out * 0.1);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;ts_layer_flags);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    vpx_codec_destroy(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        vpx_codec_destroy(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder_alpha);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rawimg_alpha.planes[VPX_PLANE_U]);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rawimg_alpha.planes[VPX_PLANE_V]);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.buf);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0f5bec27a856369ac81ccc9784f52e86">stats_out</a>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="libvpxenc_8c.html#ae64fea36df60284cb1035b8ad71139f0">free_frame_list</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coded_frame_list);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ac6db36ced9bd6720ed841efc0540ea5f">  385</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#ac6db36ced9bd6720ed841efc0540ea5f">vp8_ts_parse_int_array</a>(<span class="keywordtype">int</span> *dest, <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <span class="keywordtype">size_t</span> value_len, <span class="keywordtype">int</span> max_entries)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">int</span> dest_idx = 0;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordtype">char</span> *saveptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">char</span> *token = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <span class="stringliteral">&quot;,&quot;</span>, &amp;saveptr);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">while</span> (token &amp;&amp; dest_idx &lt; max_entries) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        dest[dest_idx++] = strtoul(token, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        token = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;,&quot;</span>, &amp;saveptr);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a743d0181576f9ef998f29252bf169237">  397</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#a743d0181576f9ef998f29252bf169237">set_temporal_layer_pattern</a>(<span class="keywordtype">int</span> layering_mode, vpx_codec_enc_cfg_t *cfg,</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                       <span class="keywordtype">int</span> *layer_flags, <span class="keywordtype">int</span> *flag_periodicity)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">switch</span> (layering_mode) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> ids[2] = { 0, 1 };</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        cfg-&gt;ts_periodicity = 2;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        *flag_periodicity = 2;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        cfg-&gt;ts_number_layers = 2;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        cfg-&gt;ts_rate_decimator[0] = 2;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        cfg-&gt;ts_rate_decimator[1] = 1;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        memcpy(cfg-&gt;ts_layer_id, ids, <span class="keyword">sizeof</span>(ids));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        layer_flags[0] =</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;             VP8_EFLAG_NO_REF_GF | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;             VP8_EFLAG_NO_UPD_GF | VP8_EFLAG_NO_UPD_ARF;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        layer_flags[1] =</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            VP8_EFLAG_NO_UPD_ARF | VP8_EFLAG_NO_UPD_GF |</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            VP8_EFLAG_NO_UPD_LAST |</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            VP8_EFLAG_NO_REF_ARF | VP8_EFLAG_NO_REF_GF;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">case</span> 3: {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> ids[4] = { 0, 2, 1, 2 };</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        cfg-&gt;ts_periodicity = 4;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        *flag_periodicity = 4;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        cfg-&gt;ts_number_layers = 3;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        cfg-&gt;ts_rate_decimator[0] = 4;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        cfg-&gt;ts_rate_decimator[1] = 2;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        cfg-&gt;ts_rate_decimator[2] = 1;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        memcpy(cfg-&gt;ts_layer_id, ids, <span class="keyword">sizeof</span>(ids));</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        layer_flags[0] =</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            VP8_EFLAG_NO_REF_GF | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            VP8_EFLAG_NO_UPD_GF | VP8_EFLAG_NO_UPD_ARF;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        layer_flags[1] =</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            VP8_EFLAG_NO_REF_GF | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            VP8_EFLAG_NO_UPD_LAST | VP8_EFLAG_NO_UPD_GF |</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            VP8_EFLAG_NO_UPD_ARF;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        layer_flags[2] =</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            VP8_EFLAG_NO_REF_GF | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            VP8_EFLAG_NO_UPD_ARF | VP8_EFLAG_NO_UPD_LAST;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        layer_flags[3] =</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            VP8_EFLAG_NO_REF_LAST | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            VP8_EFLAG_NO_UPD_LAST | VP8_EFLAG_NO_UPD_GF |</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            VP8_EFLAG_NO_UPD_ARF;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">case</span> 4: {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> ids[4] = { 0, 2, 1, 2 };</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        cfg-&gt;ts_periodicity = 4;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        *flag_periodicity = 4;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        cfg-&gt;ts_number_layers = 3;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        cfg-&gt;ts_rate_decimator[0] = 4;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        cfg-&gt;ts_rate_decimator[1] = 2;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        cfg-&gt;ts_rate_decimator[2] = 1;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        memcpy(cfg-&gt;ts_layer_id, ids, <span class="keyword">sizeof</span>(ids));</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        layer_flags[0] =</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            VP8_EFLAG_NO_REF_GF | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            VP8_EFLAG_NO_UPD_GF | VP8_EFLAG_NO_UPD_ARF;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        layer_flags[1] =</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            VP8_EFLAG_NO_REF_GF | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            VP8_EFLAG_NO_UPD_LAST | VP8_EFLAG_NO_UPD_GF;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        layer_flags[2] =</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            VP8_EFLAG_NO_REF_GF | VP8_EFLAG_NO_REF_ARF |</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            VP8_EFLAG_NO_UPD_ARF | VP8_EFLAG_NO_UPD_LAST;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        layer_flags[3] =</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            VP8_EFLAG_NO_REF_LAST |</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            VP8_EFLAG_NO_UPD_LAST | VP8_EFLAG_NO_UPD_GF |</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            VP8_EFLAG_NO_UPD_ARF;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a284838a526e21e6638f70717b1e5193f">  501</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#a284838a526e21e6638f70717b1e5193f">vpx_ts_param_parse</a>(<a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keyword">struct</span> vpx_codec_enc_cfg *enccfg,</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                              <span class="keywordtype">char</span> *<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">size_t</span> value_len = strlen(<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordtype">int</span> ts_layering_mode = 0;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (!value_len)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;ts_number_layers&quot;</span>))</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        enccfg-&gt;ts_number_layers = strtoul(<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, &amp;<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, 10);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;ts_target_bitrate&quot;</span>)) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <a class="code" href="libvpxenc_8c.html#ac6db36ced9bd6720ed841efc0540ea5f">vp8_ts_parse_int_array</a>(enccfg-&gt;ts_target_bitrate, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, value_len, VPX_TS_MAX_LAYERS);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">#if (VPX_ENCODER_ABI_VERSION &gt;= 12) &amp;&amp; CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <a class="code" href="libvpxenc_8c.html#ac6db36ced9bd6720ed841efc0540ea5f">vp8_ts_parse_int_array</a>(enccfg-&gt;layer_target_bitrate, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, value_len, VPX_TS_MAX_LAYERS);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;ts_rate_decimator&quot;</span>)) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="libvpxenc_8c.html#ac6db36ced9bd6720ed841efc0540ea5f">vp8_ts_parse_int_array</a>(enccfg-&gt;ts_rate_decimator, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, value_len, VPX_TS_MAX_LAYERS);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;ts_periodicity&quot;</span>)) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        enccfg-&gt;ts_periodicity = strtoul(<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, &amp;<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, 10);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;ts_layer_id&quot;</span>)) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="libvpxenc_8c.html#ac6db36ced9bd6720ed841efc0540ea5f">vp8_ts_parse_int_array</a>(enccfg-&gt;ts_layer_id, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, value_len, VPX_TS_MAX_PERIODICITY);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;ts_layering_mode&quot;</span>)) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">/* option for pre-defined temporal structures in function set_temporal_layer_pattern. */</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        ts_layering_mode = strtoul(<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, &amp;<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, 4);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">#if (VPX_ENCODER_ABI_VERSION &gt;= 12) &amp;&amp; CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    enccfg-&gt;temporal_layering_mode = VP9E_TEMPORAL_LAYERING_MODE_BYPASS; <span class="comment">// only bypass mode is supported for now.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    enccfg-&gt;ss_number_layers = 1; <span class="comment">// TODO: add spatial scalability support.</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (ts_layering_mode) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="comment">// make sure the ts_layering_mode comes at the end of the ts_parameter string to ensure that</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="comment">// correct configuration is done.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;ts_layer_flags = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(VPX_TS_MAX_PERIODICITY, <span class="keyword">sizeof</span>(*<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;ts_layer_flags));</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="libvpxenc_8c.html#a743d0181576f9ef998f29252bf169237">set_temporal_layer_pattern</a>(ts_layering_mode, enccfg, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;ts_layer_flags, &amp;enccfg-&gt;ts_periodicity);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libaomdec_8c.html#a4830d9529286585542be4c3bd8dac42b">set_pix_fmt</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, vpx_codec_caps_t codec_caps,</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                       <span class="keyword">struct</span> vpx_codec_enc_cfg *enccfg, vpx_codec_flags_t *<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>,</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                       vpx_img_fmt_t *img_fmt)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> <a class="code" href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    enccfg-&gt;g_bit_depth = enccfg-&gt;g_input_bit_depth = <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;comp[0].depth;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>:</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a>:</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        enccfg-&gt;g_profile = 0;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        *img_fmt = VPX_IMG_FMT_I420;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a>:</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        enccfg-&gt;g_profile = 1;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        *img_fmt = VPX_IMG_FMT_I422;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1afff2f2eecd8629e6136d2e044ed66b">AV_PIX_FMT_YUV440P</a>:</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        enccfg-&gt;g_profile = 1;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        *img_fmt = VPX_IMG_FMT_I440;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ad000ae47faa5fbe8d4b3b375151694ef">AV_PIX_FMT_GBRP</a>:</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vpx_cs = VPX_CS_SRGB;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a>:</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        enccfg-&gt;g_profile = 1;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        *img_fmt = VPX_IMG_FMT_I444;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a2095c546851496e10160077ab89c845c">AV_PIX_FMT_YUV420P10</a>:</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a4f1a2065ddb07bd4881c07c1f6b0568c">AV_PIX_FMT_YUV420P12</a>:</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (codec_caps &amp; VPX_CODEC_CAP_HIGHBITDEPTH) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            enccfg-&gt;g_profile = 2;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            *img_fmt = VPX_IMG_FMT_I42016;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            *<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= VPX_CODEC_USE_HIGHBITDEPTH;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a>:</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a570adc38d3ba623b3c4e07a6d22abfa8">AV_PIX_FMT_YUV422P12</a>:</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">if</span> (codec_caps &amp; VPX_CODEC_CAP_HIGHBITDEPTH) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            enccfg-&gt;g_profile = 3;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            *img_fmt = VPX_IMG_FMT_I42216;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            *<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= VPX_CODEC_USE_HIGHBITDEPTH;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#acd5ecf5e7d0756d170dd336ed70a7557">AV_PIX_FMT_YUV440P10</a>:</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a2da7834e2b5d36bc68e9bba6d43b330e">AV_PIX_FMT_YUV440P12</a>:</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">if</span> (codec_caps &amp; VPX_CODEC_CAP_HIGHBITDEPTH) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            enccfg-&gt;g_profile = 3;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            *img_fmt = VPX_IMG_FMT_I44016;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            *<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= VPX_CODEC_USE_HIGHBITDEPTH;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a>:</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a7de060139e9fd1ba12510b9e14e1e259">AV_PIX_FMT_GBRP12</a>:</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vpx_cs = VPX_CS_SRGB;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>:</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a143cd27f91e2f9f4517781dfbf5c6bc1">AV_PIX_FMT_YUV444P12</a>:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">if</span> (codec_caps &amp; VPX_CODEC_CAP_HIGHBITDEPTH) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            enccfg-&gt;g_profile = 3;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            *img_fmt = VPX_IMG_FMT_I44416;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            *<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= VPX_CODEC_USE_HIGHBITDEPTH;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unsupported pixel format.\n&quot;</span>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> set_colorspace(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keyword">enum</span> vpx_color_space vpx_cs;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vpx_cs) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        vpx_cs = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vpx_cs;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">colorspace</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a6e7b38ac24fb682ade84cada0dd0770d">AVCOL_SPC_RGB</a>:         vpx_cs = VPX_CS_SRGB;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a23e7d1012e354bbfcb62642e537d33cb">AVCOL_SPC_BT709</a>:       vpx_cs = VPX_CS_BT_709;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a>: vpx_cs = VPX_CS_UNKNOWN;   <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85acdd0ec5775082e79f2430774c200efb9">AVCOL_SPC_RESERVED</a>:    vpx_cs = VPX_CS_RESERVED;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a32a0719616b0bb89f4be9d885341bfa4">AVCOL_SPC_BT470BG</a>:     vpx_cs = VPX_CS_BT_601;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8a3f2b5ebbb2d5734435fe23837cd20c">AVCOL_SPC_SMPTE170M</a>:   vpx_cs = VPX_CS_SMPTE_170; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85aa0052721bb202c5cfb68a84d69116f69">AVCOL_SPC_SMPTE240M</a>:   vpx_cs = VPX_CS_SMPTE_240; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a766a63c9ca065ba454f1d83161350055">AVCOL_SPC_BT2020_NCL</a>:  vpx_cs = VPX_CS_BT_2020;   <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported colorspace (%d)\n&quot;</span>,</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                   avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">colorspace</a>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_COLOR_SPACE, vpx_cs);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 11</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libaomenc_8c.html#a40f70f104a05800a5d3b6581496b81e3">set_color_range</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keyword">enum</span> vpx_color_range vpx_cr;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a>:</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a>:       vpx_cr = VPX_CR_STUDIO_RANGE; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a>:       vpx_cr = VPX_CR_FULL_RANGE;   <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported color range (%d)\n&quot;</span>,</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;               avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_COLOR_RANGE, vpx_cr);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ab60c7f6b1633df93c124d986130e9f7d">  666</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#ab60c7f6b1633df93c124d986130e9f7d">set_vp8_defaults</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                             <span class="keyword">struct</span> vpx_codec_enc_cfg *enccfg)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> = enccfg-&gt;rc_target_bitrate * 1000;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (enccfg-&gt;rc_end_usage == VPX_CQ) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;               <span class="stringliteral">&quot;Bitrate not specified for constrained quality mode, using default of %dkbit/sec\n&quot;</span>,</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;               enccfg-&gt;rc_target_bitrate);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        enccfg-&gt;rc_end_usage = VPX_CQ;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf = 32;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;               <span class="stringliteral">&quot;Neither bitrate nor constrained quality specified, using default CRF of %d and bitrate of %dkbit/sec\n&quot;</span>,</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;               <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf, enccfg-&gt;rc_target_bitrate);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> set_vp9_defaults(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                             <span class="keyword">struct</span> vpx_codec_enc_cfg *enccfg)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (enccfg-&gt;rc_end_usage != VPX_Q &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lossless &lt; 0) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        enccfg-&gt;rc_end_usage = VPX_Q;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf = 32;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;               <span class="stringliteral">&quot;Neither bitrate nor constrained quality specified, using default CRF of %d\n&quot;</span>,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;               <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a87f502b5dc1bb0ac5b69af6a73d91c14">  710</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#a87f502b5dc1bb0ac5b69af6a73d91c14">set_vpx_defaults</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                             <span class="keyword">struct</span> vpx_codec_enc_cfg *enccfg)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        set_vp9_defaults(avctx, enccfg);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="libvpxenc_8c.html#ab60c7f6b1633df93c124d986130e9f7d">set_vp8_defaults</a>(avctx, enccfg);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a5fef3cbe12121cbae6fab07d87fc89e7">  723</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#a5fef3cbe12121cbae6fab07d87fc89e7">vpx_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                            <span class="keyword">const</span> <span class="keyword">struct</span> vpx_codec_iface *iface)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keyword">struct </span>vpx_codec_enc_cfg enccfg = { 0 };</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keyword">struct </span>vpx_codec_enc_cfg enccfg_alpha;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    vpx_codec_flags_t <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#gac14e43b675c9a342f9c7275553d6f533">AV_CODEC_FLAG_PSNR</a>) ? VPX_CODEC_USE_PSNR : 0;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="struct_a_v_c_p_b_properties.html">AVCPBProperties</a> *cpb_props;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordtype">int</span> res;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    vpx_img_fmt_t img_fmt = VPX_IMG_FMT_I420;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    vpx_codec_caps_t codec_caps = vpx_codec_get_caps(iface);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    vpx_svc_extra_cfg_t svc_params;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a>* en = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, vpx_codec_version_str());</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, vpx_codec_build_config());</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha = 1;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">if</span> ((res = vpx_codec_enc_config_default(iface, &amp;enccfg, 0)) != VPX_CODEC_OK) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to get config: %s\n&quot;</span>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;               vpx_codec_err_to_string(res));</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libaomdec_8c.html#a4830d9529286585542be4c3bd8dac42b">set_pix_fmt</a>(avctx, codec_caps, &amp;enccfg, &amp;<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, &amp;img_fmt))</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span>(!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">if</span>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">rc_max_rate</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a15000607a7e2371162348bb35b0184c1">rc_buffer_size</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7546ebfa9e9ffede316576dced7e150c">rc_initial_buffer_occupancy</a>) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>( avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Rate control parameters set without a bitrate\n&quot;</span>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="libvpxenc_8c.html#aab238a71f62459aa6472042e3f364365">dump_enc_cfg</a>(avctx, &amp;enccfg);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    enccfg.g_w            = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    enccfg.g_h            = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    enccfg.g_timebase.num = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    enccfg.g_timebase.den = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    enccfg.g_threads      =</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a> ? avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a> : <a class="code" href="cpu_8c.html#af8bdb502bd3964052fc8595b0fe721a8">av_cpu_count</a>(), 16);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    enccfg.g_lag_in_frames= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lag_in_frames;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga81bc0a84e8866ecff68e6d8a82781936">AV_CODEC_FLAG_PASS1</a>)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        enccfg.g_pass = VPX_RC_FIRST_PASS;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga234d986d58043b694dd518e2312b4cbe">AV_CODEC_FLAG_PASS2</a>)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        enccfg.g_pass = VPX_RC_LAST_PASS;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        enccfg.g_pass = VPX_RC_ONE_PASS;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac265c70b89e87455ec05eb2978def81b">rc_min_rate</a> == avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">rc_max_rate</a> &amp;&amp;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac265c70b89e87455ec05eb2978def81b">rc_min_rate</a> == avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        enccfg.rc_end_usage = VPX_CBR;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf &gt;= 0) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        enccfg.rc_end_usage = VPX_CQ;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            enccfg.rc_end_usage = VPX_Q;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        enccfg.rc_target_bitrate = <a class="code" href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>, 1, 1000,</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                                  <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aea95b00154ff83c740b46376dfa06e11">AV_ROUND_NEAR_INF</a>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        enccfg.ss_target_bitrate[0] = enccfg.rc_target_bitrate;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">// Set bitrate to default value. Also sets CRF to default if needed.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="libvpxenc_8c.html#a87f502b5dc1bb0ac5b69af6a73d91c14">set_vpx_defaults</a>(avctx, &amp;enccfg);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a> &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lossless == 1) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        enccfg.rc_min_quantizer =</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        enccfg.rc_max_quantizer = 0;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f63bc9141e25bf7f1cda0cef7cd4a60">qmin</a> &gt;= 0)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            enccfg.rc_min_quantizer = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f63bc9141e25bf7f1cda0cef7cd4a60">qmin</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">qmax</a> &gt;= 0)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            enccfg.rc_max_quantizer = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">qmax</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (enccfg.rc_end_usage == VPX_CQ</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;#<span class="keywordflow">if</span> CONFIG_LIBVPX_VP9_ENCODER</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        || enccfg.rc_end_usage == VPX_Q</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;#endif</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;       ) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf &lt; enccfg.rc_min_quantizer || <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf &gt; enccfg.rc_max_quantizer) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                   <span class="stringliteral">&quot;CQ level %d must be between minimum and maximum quantizer value (%d-%d)\n&quot;</span>,</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf, enccfg.rc_min_quantizer, enccfg.rc_max_quantizer);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="preprocessor">#if FF_API_PRIVATE_OPT</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b3e5399068758bcb0e2dcd6f4f2e7e5">frame_skip_threshold</a>)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;drop_threshold = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b3e5399068758bcb0e2dcd6f4f2e7e5">frame_skip_threshold</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    enccfg.rc_dropframe_thresh = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;drop_threshold;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">//0-100 (0 =&gt; CBR, 100 =&gt; VBR)</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    enccfg.rc_2pass_vbr_bias_pct           = <a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#acf47505d34bd4b5a9292268f9aed1faa">qcompress</a> * 100);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        enccfg.rc_2pass_vbr_minsection_pct =</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac265c70b89e87455ec05eb2978def81b">rc_min_rate</a> * 100LL / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">rc_max_rate</a>)</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        enccfg.rc_2pass_vbr_maxsection_pct =</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">rc_max_rate</a> * 100LL / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 14</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;corpus_complexity &gt;= 0)</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            enccfg.rc_2pass_vbr_corpus_complexity = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;corpus_complexity;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a15000607a7e2371162348bb35b0184c1">rc_buffer_size</a>)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        enccfg.rc_buf_sz         =</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a15000607a7e2371162348bb35b0184c1">rc_buffer_size</a> * 1000LL / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7546ebfa9e9ffede316576dced7e150c">rc_initial_buffer_occupancy</a>)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        enccfg.rc_buf_initial_sz =</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7546ebfa9e9ffede316576dced7e150c">rc_initial_buffer_occupancy</a> * 1000LL / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    enccfg.rc_buf_optimal_sz     = enccfg.rc_buf_sz * 5 / 6;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rc_undershoot_pct &gt;= 0)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        enccfg.rc_undershoot_pct = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rc_undershoot_pct;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rc_overshoot_pct &gt;= 0)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        enccfg.rc_overshoot_pct = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rc_overshoot_pct;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">//_enc_init() will balk if kf_min_dist differs from max w/VPX_KF_AUTO</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f920af17b8b15cc9d9465ecb732afcb">keyint_min</a> &gt;= 0 &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f920af17b8b15cc9d9465ecb732afcb">keyint_min</a> == avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9b6b3f1fcbdcc2ad9f4dbb4370496e38">gop_size</a>)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        enccfg.kf_min_dist = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f920af17b8b15cc9d9465ecb732afcb">keyint_min</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9b6b3f1fcbdcc2ad9f4dbb4370496e38">gop_size</a> &gt;= 0)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        enccfg.kf_max_dist = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9b6b3f1fcbdcc2ad9f4dbb4370496e38">gop_size</a>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (enccfg.g_pass == VPX_RC_FIRST_PASS)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        enccfg.g_lag_in_frames = 0;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enccfg.g_pass == VPX_RC_LAST_PASS) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordtype">int</span> decode_size, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4ee62148c5519301149f75e7296e84e1">stats_in</a>) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;No stats file for second pass\n&quot;</span>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz  = strlen(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4ee62148c5519301149f75e7296e84e1">stats_in</a>) * 3 / 4;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.buf, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                   <span class="stringliteral">&quot;Stat buffer alloc (%&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot; bytes) failed\n&quot;</span>,</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz = 0;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        decode_size = <a class="code" href="group__lavu__base64.html#gac8837266968329642080627f3aec9ab8">av_base64_decode</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.buf, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4ee62148c5519301149f75e7296e84e1">stats_in</a>,</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                       <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">if</span> (decode_size &lt; 0) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Stat buffer decode failed\n&quot;</span>);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz      = decode_size;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        enccfg.rc_twopass_stats_in = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="comment">/* 0-3: For non-zero values the encoder increasingly optimizes for reduced</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">       complexity playback on low powered devices at the expense of encode</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">       quality. */</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> != <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a>)</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        enccfg.g_profile = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    enccfg.g_error_resilient = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;error_resilient || <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a> &amp; <a class="code" href="libvpxenc_8c.html#a2aa026bf65668feafb418b5b88365d5c">VP8F_ERROR_RESILIENT</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">while</span> ((en = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vpx_ts_parameters, <span class="stringliteral">&quot;&quot;</span>, en, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>))) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libvpxenc_8c.html#a284838a526e21e6638f70717b1e5193f">vpx_ts_param_parse</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, &amp;enccfg, en-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, en-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>) &lt; 0)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                   <span class="stringliteral">&quot;Error parsing option &#39;%s = %s&#39;.\n&quot;</span>,</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                   en-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">key</a>, en-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <a class="code" href="libvpxenc_8c.html#aab238a71f62459aa6472042e3f364365">dump_enc_cfg</a>(avctx, &amp;enccfg);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="comment">/* Construct Encoder Context */</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    res = vpx_codec_enc_init(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder, iface, &amp;enccfg, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> (res != VPX_CODEC_OK) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Failed to initialize encoder&quot;</span>);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a> &amp;&amp; enccfg.ts_number_layers &gt; 1) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        memset(&amp;svc_params, 0, <span class="keyword">sizeof</span>(svc_params));</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; enccfg.ts_number_layers; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            svc_params.max_quantizers[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = enccfg.rc_max_quantizer;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            svc_params.min_quantizers[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = enccfg.rc_min_quantizer;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        svc_params.scaling_factor_num[0] = enccfg.g_h;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        svc_params.scaling_factor_den[0] = enccfg.g_h;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_SVC, 1);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        codecctl_intp(avctx, VP9E_SET_SVC_PARAMETERS, (<span class="keywordtype">int</span> *)&amp;svc_params);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        enccfg_alpha = enccfg;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        res = vpx_codec_enc_init(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder_alpha, iface, &amp;enccfg_alpha, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span> (res != VPX_CODEC_OK) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Failed to initialize alpha encoder&quot;</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">//codec control failures are currently treated only as warnings</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;vpx_codec_control\n&quot;</span>);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_CPUUSED,          <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cpu_used);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a> &amp; <a class="code" href="libvpxenc_8c.html#a387cba397cdf8453e7804a04180e4b79">VP8F_AUTO_ALT_REF</a>)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;auto_alt_ref = 1;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;auto_alt_ref &gt;= 0)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_ENABLEAUTOALTREF,</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                     avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a> ? !!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;auto_alt_ref : <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;auto_alt_ref);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;arnr_max_frames &gt;= 0)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_ARNR_MAXFRAMES,   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;arnr_max_frames);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;arnr_strength &gt;= 0)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_ARNR_STRENGTH,    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;arnr_strength);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;arnr_type &gt;= 0)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_ARNR_TYPE,        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;arnr_type);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tune &gt;= 0)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_TUNING,           <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tune);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;auto_alt_ref &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Transparency encoding with auto_alt_ref does not work\n&quot;</span>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sharpness &gt;= 0)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_SHARPNESS, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sharpness);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (CONFIG_LIBVPX_VP8_ENCODER &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="preprocessor">#if FF_API_PRIVATE_OPT</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ad2dec65dac4a96240d6654bc1d8d3e64">noise_reduction</a>)</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;noise_sensitivity = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ad2dec65dac4a96240d6654bc1d8d3e64">noise_reduction</a>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_NOISE_SENSITIVITY, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;noise_sensitivity);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_TOKEN_PARTITIONS,  <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">slices</a>));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_STATIC_THRESHOLD,  <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;static_thresh);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf &gt;= 0)</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_CQ_LEVEL,          <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;crf);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;max_intra_rate &gt;= 0)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_MAX_INTRA_BITRATE_PCT, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;max_intra_rate);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lossless &gt;= 0)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_LOSSLESS, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lossless);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_columns &gt;= 0)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_TILE_COLUMNS, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_columns);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_rows &gt;= 0)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_TILE_ROWS, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tile_rows);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_parallel &gt;= 0)</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_FRAME_PARALLEL_DECODING, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_parallel);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;aq_mode &gt;= 0)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_AQ_MODE, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;aq_mode);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        set_colorspace(avctx);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 11</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="libaomenc_8c.html#a40f70f104a05800a5d3b6581496b81e3">set_color_range</a>(avctx);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_TARGET_LEVEL, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;level &lt; 0 ? 255 : <a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;level * 10));</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_ROW_MT</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;row_mt &gt;= 0)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_ROW_MT, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;row_mt);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_TUNE_CONTENT</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tune_content &gt;= 0)</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_TUNE_CONTENT, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tune_content);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_TPL</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tpl_model &gt;= 0)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP9E_SET_TPL, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;tpl_model);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Using deadline: %d\n&quot;</span>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;deadline);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">//provide dummy value to initialize wrapper, values will be updated each _encode()</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    vpx_img_wrap(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rawimg, img_fmt, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>, 1,</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                 (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)1);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a> &amp;&amp; (codec_caps &amp; VPX_CODEC_CAP_HIGHBITDEPTH))</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rawimg.bit_depth = enccfg.g_bit_depth;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    cpb_props = <a class="code" href="libavcodec_2internal_8h.html#a8e0ce66394bedcfbdc52cf8b7b7bedba">ff_add_cpb_side_data</a>(avctx);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (!cpb_props)</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">if</span> (enccfg.rc_end_usage == VPX_CBR ||</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        enccfg.g_pass != VPX_RC_ONE_PASS) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        cpb_props-&gt;<a class="code" href="struct_a_v_c_p_b_properties.html#a920910dd19158348cb35fc576929bfd1">max_bitrate</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">rc_max_rate</a>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        cpb_props-&gt;<a class="code" href="struct_a_v_c_p_b_properties.html#a65e791615b2bf02ac945cf67de378f18">min_bitrate</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac265c70b89e87455ec05eb2978def81b">rc_min_rate</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        cpb_props-&gt;<a class="code" href="struct_a_v_c_p_b_properties.html#a128a4f2eda5bfa38c6b21195f310b116">avg_bitrate</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    cpb_props-&gt;<a class="code" href="struct_a_v_c_p_b_properties.html#a7a4517f685b5a1976080fe536860c86a">buffer_size</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a15000607a7e2371162348bb35b0184c1">rc_buffer_size</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;}</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a7a2bb6fb6710fce7e3ffa32c125333cc"> 1045</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="libvpxenc_8c.html#a7a2bb6fb6710fce7e3ffa32c125333cc">cx_pktcpy</a>(<span class="keyword">struct</span> <a class="code" href="struct_frame_list_data.html">FrameListData</a> *dst,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                             <span class="keyword">const</span> <span class="keyword">struct</span> vpx_codec_cx_pkt *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                             <span class="keyword">const</span> <span class="keyword">struct</span> vpx_codec_cx_pkt *src_alpha,</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                             <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;{</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    dst-&gt;<a class="code" href="struct_frame_list_data.html#a02d9bfff681e50133a076008312b2c9f">pts</a>      = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;data.frame.pts;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    dst-&gt;<a class="code" href="struct_frame_list_data.html#a56b884d223b96757142b2d53c26e991a">duration</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;data.frame.duration;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    dst-&gt;<a class="code" href="struct_frame_list_data.html#ad675560a3a80be0d102be9d3150fac97">flags</a>    = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;data.frame.flags;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    dst-&gt;<a class="code" href="struct_frame_list_data.html#a2e6ebd4e33fbb943be94b3a9503fed4a">sz</a>       = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;data.frame.sz;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    dst-&gt;<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>      = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;data.frame.buf;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    dst-&gt;<a class="code" href="struct_frame_list_data.html#a801b877246fbfbe32c7dcb8c22cb4d26">have_sse</a> = 0;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="comment">/* For alt-ref frame, don&#39;t store PSNR or increment frame_number */</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> (!(dst-&gt;<a class="code" href="struct_frame_list_data.html#ad675560a3a80be0d102be9d3150fac97">flags</a> &amp; VPX_FRAME_IS_INVISIBLE)) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        dst-&gt;<a class="code" href="struct_frame_list_data.html#aa817dec60c42863493e19ee70408eb3c">frame_number</a> = ++<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_number;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        dst-&gt;<a class="code" href="struct_frame_list_data.html#a801b877246fbfbe32c7dcb8c22cb4d26">have_sse</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;have_sse;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;have_sse) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="comment">/* associate last-seen SSE to the frame. */</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            <span class="comment">/* Transfers ownership from ctx to dst. */</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            <span class="comment">/* WARNING! This makes the assumption that PSNR_PKT comes</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">               just before the frame it refers to! */</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            memcpy(dst-&gt;<a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sse, <span class="keyword">sizeof</span>(dst-&gt;<a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a>));</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;have_sse = 0;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        dst-&gt;<a class="code" href="struct_frame_list_data.html#aa817dec60c42863493e19ee70408eb3c">frame_number</a> = -1;   <span class="comment">/* sanity marker */</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span> (src_alpha) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        dst-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a> = src_alpha-&gt;data.frame.buf;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        dst-&gt;<a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a> = src_alpha-&gt;data.frame.sz;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        dst-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        dst-&gt;<a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a> = 0;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    }</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ab2e5e7bf718aadd5282ee684feb505a0"> 1087</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#ab2e5e7bf718aadd5282ee684feb505a0">storeframe</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">struct</span> <a class="code" href="struct_frame_list_data.html">FrameListData</a> *cx_frame,</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                      <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;{</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a>(avctx, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a2e6ebd4e33fbb943be94b3a9503fed4a">sz</a>, 0);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *side_data;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordtype">int</span> pict_type;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        memcpy(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a02d9bfff681e50133a076008312b2c9f">pts</a>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a>       = cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a02d9bfff681e50133a076008312b2c9f">pts</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">key_frame</a> = !!(cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#ad675560a3a80be0d102be9d3150fac97">flags</a> &amp; VPX_FRAME_IS_KEY);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">if</span> (!!(cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#ad675560a3a80be0d102be9d3150fac97">flags</a> &amp; VPX_FRAME_IS_KEY)) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            pict_type = <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = pict_type;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            pict_type = <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = pict_type;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <a class="code" href="avpacket_8c.html#a6e76c2d97b4905f969bed6b69b3d0c3c">ff_side_data_set_encoder_stats</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, 0, cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a> + 1,</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                       cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a801b877246fbfbe32c7dcb8c22cb4d26">have_sse</a> ? 3 : 0, pict_type);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">if</span> (cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a801b877246fbfbe32c7dcb8c22cb4d26">have_sse</a>) {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="comment">/* Beware of the Y/U/V/all order! */</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME &amp;&amp; FF_API_ERROR_FRAME</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a346b93aa671751477ec4361cf567e9c9">error</a>[0] = cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a>[1];</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a346b93aa671751477ec4361cf567e9c9">error</a>[1] = cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a>[2];</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a346b93aa671751477ec4361cf567e9c9">error</a>[2] = cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a>[3];</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a346b93aa671751477ec4361cf567e9c9">error</a>[3] = 0;    <span class="comment">// alpha</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#acb7a609f77fd8876c8433c3673e9f9d5">error</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] += cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">sse</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1];</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a801b877246fbfbe32c7dcb8c22cb4d26">have_sse</a> = 0;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">if</span> (cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a> &gt; 0) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            side_data = <a class="code" href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                                                <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a72e6d25102c0504549754fcd9ac871b7">AV_PKT_DATA_MATROSKA_BLOCKADDITIONAL</a>,</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                                cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a> + 8);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            <span class="keywordflow">if</span>(!side_data) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <a class="code" href="intreadwrite_8h.html#afd2d38dbc4338142d73bbd42c59ac186">AV_WB64</a>(side_data, 1);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            memcpy(side_data + 8, cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a>, cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a206f4b259d5f08cf60d5329fd338b343"> 1164</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#a206f4b259d5f08cf60d5329fd338b343">queue_frames</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *pkt_out)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;{</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span>vpx_codec_cx_pkt *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span>vpx_codec_cx_pkt *pkt_alpha = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *iter = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *iter_alpha = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 0;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coded_frame_list) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> *cx_frame = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coded_frame_list;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="comment">/* return the leading frame if we&#39;ve already begun queueing */</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="libvpxenc_8c.html#ab2e5e7bf718aadd5282ee684feb505a0">storeframe</a>(avctx, cx_frame, pkt_out);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 0)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coded_frame_list = cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a2c581a6e8be758e1fbe73ee193cfd59e">next</a>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <a class="code" href="libvpxenc_8c.html#a7244487243c18a01d651f64d2648d445">free_coded_frame</a>(cx_frame);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="comment">/* consume all available output from the encoder before returning. buffers</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">       are only good through the next vpx_codec call */</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a> = vpx_codec_get_cx_data(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder, &amp;iter)) &amp;&amp;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;           (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha ||</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            (pkt_alpha = vpx_codec_get_cx_data(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder_alpha, &amp;iter_alpha)))) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;kind) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">case</span> VPX_CODEC_CX_FRAME_PKT:</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> cx_frame;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                <span class="comment">/* avoid storing the frame when the list is empty and we haven&#39;t yet</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">                   provided a frame for output */</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coded_frame_list);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                <a class="code" href="libvpxenc_8c.html#a7a2bb6fb6710fce7e3ffa32c125333cc">cx_pktcpy</a>(&amp;cx_frame, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, pkt_alpha, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="libvpxenc_8c.html#ab2e5e7bf718aadd5282ee684feb505a0">storeframe</a>(avctx, &amp;cx_frame, pkt_out);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 0)</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                <span class="keyword">struct </span><a class="code" href="struct_frame_list_data.html">FrameListData</a> *cx_frame = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<span class="keyword">sizeof</span>(*cx_frame));</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                <span class="keywordflow">if</span> (!cx_frame) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                           <span class="stringliteral">&quot;Frame queue element alloc failed\n&quot;</span>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                <a class="code" href="libvpxenc_8c.html#a7a2bb6fb6710fce7e3ffa32c125333cc">cx_pktcpy</a>(cx_frame, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, pkt_alpha, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a2e6ebd4e33fbb943be94b3a9503fed4a">sz</a>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                <span class="keywordflow">if</span> (!cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                           <span class="stringliteral">&quot;Data buffer alloc (%&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot; bytes) failed\n&quot;</span>,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                           cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a2e6ebd4e33fbb943be94b3a9503fed4a">sz</a>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;cx_frame);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                memcpy(cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">buf</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.frame.buf, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.frame.sz);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                    cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a>);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                    <span class="keywordflow">if</span> (!cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a>) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                               <span class="stringliteral">&quot;Data buffer alloc (%&quot;</span><a class="code" href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a><span class="stringliteral">&quot; bytes) failed\n&quot;</span>,</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                               cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">sz_alpha</a>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(cx_frame);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                    memcpy(cx_frame-&gt;<a class="code" href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">buf_alpha</a>, pkt_alpha-&gt;data.frame.buf, pkt_alpha-&gt;data.frame.sz);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                <a class="code" href="libvpxenc_8c.html#ad904da29c8a535ad9b40793d89b28b83">coded_frame_add</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coded_frame_list, cx_frame);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">case</span> VPX_CODEC_STATS_PKT: {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <span class="keyword">struct </span>vpx_fixed_buf *<a class="code" href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a> = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <span class="keywordflow">if</span> ((err = <a class="code" href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a>(&amp;<a class="code" href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a>-&gt;buf,</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                   <a class="code" href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a>-&gt;sz +</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.twopass_stats.sz)) &lt; 0) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                <a class="code" href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a>-&gt;sz = 0;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Stat buffer realloc failed\n&quot;</span>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            memcpy((<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*)<a class="code" href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a>-&gt;buf + <a class="code" href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a>-&gt;sz,</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.twopass_stats.buf, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.twopass_stats.sz);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <a class="code" href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a>-&gt;sz += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.twopass_stats.sz;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="keywordflow">case</span> VPX_CODEC_PSNR_PKT:</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;have_sse);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sse[0] = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.psnr.sse[0];</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sse[1] = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.psnr.sse[1];</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sse[2] = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.psnr.sse[2];</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;sse[3] = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>.psnr.sse[3];</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;have_sse = 1;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">case</span> VPX_CODEC_CUSTOM_PKT:</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="comment">//ignore unsupported/unrecognized packet types</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;}</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#aa3c22c0a7ebd3e1e13eda5db834f8b3e"> 1265</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#aa3c22c0a7ebd3e1e13eda5db834f8b3e">set_roi_map</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *sd, <span class="keywordtype">int</span> frame_width, <span class="keywordtype">int</span> frame_height,</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                       vpx_roi_map_t *roi_map, <span class="keywordtype">int</span> block_size, <span class="keywordtype">int</span> segment_cnt)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;{</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="preprocessor">#define MAX_DELTA_Q 63</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_region_of_interest.html">AVRegionOfInterest</a> *roi = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordtype">int</span> nb_rois;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    uint32_t self_size;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordtype">int</span> segment_id;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">/* record the mapping from delta_q to &quot;segment id + 1&quot; in segment_mapping[].</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">     * the range of delta_q is [-MAX_DELTA_Q, MAX_DELTA_Q],</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">     * and its corresponding array index is [0, 2 * MAX_DELTA_Q],</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">     * and so the length of the mapping array is 2 * MAX_DELTA_Q + 1.</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">     * &quot;segment id + 1&quot;, so we can say there&#39;s no mapping if the value of array element is zero.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordtype">int</span> segment_mapping[2 * <a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a> + 1] = { 0 };</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    memset(roi_map, 0, <span class="keyword">sizeof</span>(*roi_map));</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="comment">/* segment id 0 in roi_map is reserved for the areas not covered by AVRegionOfInterest.</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">     * segment id 0 in roi_map is also for the areas with AVRegionOfInterest.qoffset near 0.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">     * (delta_q of segment id 0 is 0).</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    segment_mapping[<a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>] = 1;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    segment_id = 1;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    roi = (<span class="keyword">const</span> <a class="code" href="struct_a_v_region_of_interest.html">AVRegionOfInterest</a>*)sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">data</a>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    self_size = roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#a5c75595b7003be167ed674bf565654db">self_size</a>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (!self_size || sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#aa8418cdc71a76dfab523445b17f10028">size</a> % self_size) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid AVRegionOfInterest.self_size.\n&quot;</span>);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    nb_rois = sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#aa8418cdc71a76dfab523445b17f10028">size</a> / self_size;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">/* This list must be iterated from zero because regions are</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">     * defined in order of decreasing importance. So discard less</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">     * important areas if they exceed the segment count.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nb_rois; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordtype">int</span> mapping_index;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        roi = (<span class="keyword">const</span> <a class="code" href="struct_a_v_region_of_interest.html">AVRegionOfInterest</a>*)(sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">data</a> + self_size * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <span class="keywordflow">if</span> (!roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#ae7421571aad4d48b63e91274ba424ee0">qoffset</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;AVRegionOfInterest.qoffset.den must not be zero.\n&quot;</span>);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a> = (<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#ae7421571aad4d48b63e91274ba424ee0">qoffset</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * 1.0f / roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#ae7421571aad4d48b63e91274ba424ee0">qoffset</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> * <a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a> = av_clip(<a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a>, -<a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>, <a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        mapping_index = <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a> + <a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="keywordflow">if</span> (!segment_mapping[mapping_index]) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            <span class="keywordflow">if</span> (segment_id == segment_cnt) {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                       <span class="stringliteral">&quot;ROI only supports %d segments (and segment 0 is reserved for non-ROIs), skipping the left ones.\n&quot;</span>,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                       segment_cnt);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            segment_mapping[mapping_index] = segment_id + 1;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            roi_map-&gt;delta_q[segment_id] = <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            segment_id++;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    roi_map-&gt;rows = (frame_height + block_size - 1) / block_size;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    roi_map-&gt;cols = (frame_width  + block_size - 1) / block_size;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    roi_map-&gt;roi_map = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(roi_map-&gt;rows * roi_map-&gt;cols, <span class="keyword">sizeof</span>(*roi_map-&gt;roi_map));</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">if</span> (!roi_map-&gt;roi_map) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;roi_map alloc failed.\n&quot;</span>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="comment">/* This list must be iterated in reverse, so for the case that</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">     * two regions are overlapping, the more important area takes effect.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = nb_rois - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keywordtype">int</span> mapping_value;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordtype">int</span> starty, endy, startx, endx;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        roi = (<span class="keyword">const</span> <a class="code" href="struct_a_v_region_of_interest.html">AVRegionOfInterest</a>*)(sd-&gt;<a class="code" href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">data</a> + self_size * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        starty = av_clip(roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#af07ce47d1c824676f790d95e23ff9caf">top</a> / block_size, 0, roi_map-&gt;rows);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        endy   = av_clip((roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#a04201e2f63181c3007c4dfe0c7b8c815">bottom</a> + block_size - 1) / block_size, 0, roi_map-&gt;rows);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        startx = av_clip(roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#a66cec26997f55f6ac16822f5a6ea3100">left</a> / block_size, 0, roi_map-&gt;cols);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        endx   = av_clip((roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#a3a7e57502405cc44afd3ff3693ef3389">right</a> + block_size - 1) / block_size, 0, roi_map-&gt;cols);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a> = (<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#ae7421571aad4d48b63e91274ba424ee0">qoffset</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * 1.0f / roi-&gt;<a class="code" href="struct_a_v_region_of_interest.html#ae7421571aad4d48b63e91274ba424ee0">qoffset</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> * <a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a> = av_clip(<a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a>, -<a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>, <a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        mapping_value = segment_mapping[<a class="code" href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a> + <a class="code" href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a>];</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="keywordflow">if</span> (mapping_value) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = starty; y &lt; endy; y++)</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = startx; x &lt; endx; x++)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                    roi_map-&gt;roi_map[x + y * roi_map-&gt;cols] = mapping_value - 1;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;}</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a7669dadd39d30b20050176895474db25"> 1372</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#a7669dadd39d30b20050176895474db25">vp9_encode_set_roi</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">int</span> frame_width, <span class="keywordtype">int</span> frame_height, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *sd)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;{</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_ROI_MAP</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = vpx_codec_version();</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceconvert__header.html#ac8d67a61fdde2fcdd4358f78109f4b7a">major</a> = VPX_VERSION_MAJOR(<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceconvert__header.html#afbbd9db93850ca44e2f56ebb00ce0e0c">minor</a> = VPX_VERSION_MINOR(<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordtype">int</span> patch = VPX_VERSION_PATCH(<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceconvert__header.html#ac8d67a61fdde2fcdd4358f78109f4b7a">major</a> &gt; 1 || (<a class="code" href="namespaceconvert__header.html#ac8d67a61fdde2fcdd4358f78109f4b7a">major</a> == 1 &amp;&amp; <a class="code" href="namespaceconvert__header.html#afbbd9db93850ca44e2f56ebb00ce0e0c">minor</a> &gt; 8) || (<a class="code" href="namespaceconvert__header.html#ac8d67a61fdde2fcdd4358f78109f4b7a">major</a> == 1 &amp;&amp; <a class="code" href="namespaceconvert__header.html#afbbd9db93850ca44e2f56ebb00ce0e0c">minor</a> == 8 &amp;&amp; patch &gt;= 1)) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        vpx_roi_map_t roi_map;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> segment_cnt = 8;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> block_size = 8;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;aq_mode &gt; 0 || <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cpu_used &lt; 5 || <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;deadline != VPX_DL_REALTIME) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;roi_warned) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;roi_warned = 1;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;ROI is only enabled when aq_mode is 0, cpu_used &gt;= 5 &quot;</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                              <span class="stringliteral">&quot;and deadline is REALTIME, so skipping ROI.\n&quot;</span>);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libvpxenc_8c.html#aa3c22c0a7ebd3e1e13eda5db834f8b3e">set_roi_map</a>(avctx, sd, frame_width, frame_height, &amp;roi_map, block_size, segment_cnt);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Failed to set_roi_map.\n&quot;</span>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        memset(roi_map.ref_frame, -1, <span class="keyword">sizeof</span>(roi_map.ref_frame));</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">if</span> (vpx_codec_control(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder, VP9E_SET_ROI_MAP, &amp;roi_map)) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Failed to set VP9E_SET_ROI_MAP codec control.\n&quot;</span>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;roi_map.roi_map);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;roi_warned) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;roi_warned = 1;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;ROI is not supported, please upgrade libvpx to version &gt;= 1.8.1. &quot;</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                                      <span class="stringliteral">&quot;You may need to rebuild ffmpeg.\n&quot;</span>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;}</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ac9af9c69844dc9e3a0a465a2c0dfbb28"> 1422</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#ac9af9c69844dc9e3a0a465a2c0dfbb28">vp8_encode_set_roi</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">int</span> frame_width, <span class="keywordtype">int</span> frame_height, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *sd)</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;{</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    vpx_roi_map_t roi_map;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> segment_cnt = 4;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> block_size = 16;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libvpxenc_8c.html#aa3c22c0a7ebd3e1e13eda5db834f8b3e">set_roi_map</a>(avctx, sd, frame_width, frame_height, &amp;roi_map, block_size, segment_cnt);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Failed to set_roi_map.\n&quot;</span>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">if</span> (vpx_codec_control(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder, VP8E_SET_ROI_MAP, &amp;roi_map)) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Failed to set VP8E_SET_ROI_MAP codec control.\n&quot;</span>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;roi_map.roi_map);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;}</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ac09f282a241d40a1072c22c2c44032ac"> 1444</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#ac09f282a241d40a1072c22c2c44032ac">realloc_alpha_uv</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>)</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;{</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keyword">struct </span>vpx_image *rawimg_alpha = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rawimg_alpha;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a> = rawimg_alpha-&gt;planes;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a> = rawimg_alpha-&gt;stride;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_U] ||</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        !<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_V] ||</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  != (<span class="keywordtype">int</span>)rawimg_alpha-&gt;d_w ||</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> != (<span class="keywordtype">int</span>)rawimg_alpha-&gt;d_h) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_U]);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_V]);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        vpx_img_wrap(rawimg_alpha, VPX_IMG_FMT_I420, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, 1,</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                     (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)1);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_U] = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>[VPX_PLANE_U], <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_V] = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>[VPX_PLANE_V], <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_U] || !<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_V])</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        memset(<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_U], 0x80, <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>[VPX_PLANE_U] * <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        memset(<a class="code" href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a>[VPX_PLANE_V], 0x80, <a class="code" href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>[VPX_PLANE_V] * <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;}</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#aab983d79165d99f963580c7d68cd3463"> 1472</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libvpxenc_8c.html#aab983d79165d99f963580c7d68cd3463">vpx_encode</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                      <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <span class="keywordtype">int</span> *got_packet)</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;{</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <a class="code" href="struct_v_px_decoder_context.html">VPxContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keyword">struct </span>vpx_image *rawimg = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keyword">struct </span>vpx_image *rawimg_alpha = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    int64_t timestamp = 0;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordtype">int</span> res, coded_size;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    vpx_enc_frame_flags_t <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = 0;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span>vpx_codec_enc_cfg *enccfg = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder.config.enc;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    vpx_svc_layer_id_t layer_id;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordtype">int</span> layer_id_valid = 0;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *sd = <a class="code" href="group__lavu__frame.html#gadec0efb470b1eead6a979333d9deca0c">av_frame_get_side_data</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <a class="code" href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bcaf525ec92d2c5a78d44950bc3f29972aa">AV_FRAME_DATA_REGIONS_OF_INTEREST</a>);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        rawimg                      = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rawimg;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        rawimg-&gt;planes[VPX_PLANE_Y] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[0];</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        rawimg-&gt;planes[VPX_PLANE_U] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[1];</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        rawimg-&gt;planes[VPX_PLANE_V] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[2];</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        rawimg-&gt;stride[VPX_PLANE_Y] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[0];</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        rawimg-&gt;stride[VPX_PLANE_U] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[1];</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        rawimg-&gt;stride[VPX_PLANE_V] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[2];</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha) {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            rawimg_alpha = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;rawimg_alpha;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            res = <a class="code" href="libvpxenc_8c.html#ac09f282a241d40a1072c22c2c44032ac">realloc_alpha_uv</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            <span class="keywordflow">if</span> (res &lt; 0)</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            rawimg_alpha-&gt;planes[VPX_PLANE_Y] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[3];</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            rawimg_alpha-&gt;stride[VPX_PLANE_Y] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[3];</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        timestamp                   = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;pts;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="preprocessor">#if VPX_IMAGE_ABI_VERSION &gt;= 4</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;color_range) {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a>:</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            rawimg-&gt;range = VPX_CR_STUDIO_RANGE;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a>:</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            rawimg-&gt;range = VPX_CR_FULL_RANGE;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        }</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>)</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= VPX_EFLAG_FORCE_KF;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;metadata) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a>* en = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;metadata, <span class="stringliteral">&quot;vp8-flags&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            <span class="keywordflow">if</span> (en) {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= strtoul(en-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            memset(&amp;layer_id, 0, <span class="keyword">sizeof</span>(layer_id));</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            en = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;metadata, <span class="stringliteral">&quot;temporal_id&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <span class="keywordflow">if</span> (en) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                layer_id.temporal_layer_id = strtoul(en-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_MAX_INTER_BITRATE_PCT</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                layer_id.temporal_layer_id_per_spatial[0] = layer_id.temporal_layer_id;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                layer_id_valid = 1;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="keywordflow">if</span> (sd) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                <a class="code" href="libvpxenc_8c.html#ac9af9c69844dc9e3a0a465a2c0dfbb28">vp8_encode_set_roi</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height, sd);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                <a class="code" href="libvpxenc_8c.html#a7669dadd39d30b20050176895474db25">vp9_encode_set_roi</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;width, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;height, sd);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="comment">// this is for encoding with preset temporal layering patterns defined in</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="comment">// set_temporal_layer_pattern function.</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">if</span> (enccfg-&gt;ts_number_layers &gt; 1 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;ts_layer_flags) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; VPX_EFLAG_FORCE_KF) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="comment">// keyframe, reset temporal layering.</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;current_temporal_idx = 0;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = VPX_EFLAG_FORCE_KF;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = 0;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="comment">/* get the flags from the temporal layer configuration. */</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;ts_layer_flags[<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;current_temporal_idx];</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        memset(&amp;layer_id, 0, <span class="keyword">sizeof</span>(layer_id));</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        layer_id.spatial_layer_id = 0;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        layer_id.temporal_layer_id = enccfg-&gt;ts_layer_id[<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;current_temporal_idx];</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_MAX_INTER_BITRATE_PCT</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        layer_id.temporal_layer_id_per_spatial[0] = layer_id.temporal_layer_id;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        layer_id_valid = 1;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">if</span> (layer_id_valid) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>) {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <a class="code" href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a>(avctx, VP8E_SET_TEMPORAL_LAYER_ID, layer_id.temporal_layer_id);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER &amp;&amp; VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            codecctl_intp(avctx, VP9E_SET_SVC_LAYER_ID, (<span class="keywordtype">int</span> *)&amp;layer_id);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    res = vpx_codec_encode(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder, rawimg, timestamp,</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                           avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;deadline);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">if</span> (res != VPX_CODEC_OK) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Error encoding frame&quot;</span>);</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    }</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_alpha) {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        res = vpx_codec_encode(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;encoder_alpha, rawimg_alpha, timestamp,</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                               avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;deadline);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">if</span> (res != VPX_CODEC_OK) {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a>(avctx, <span class="stringliteral">&quot;Error encoding alpha frame&quot;</span>);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    coded_size = <a class="code" href="libvpxenc_8c.html#a206f4b259d5f08cf60d5329fd338b343">queue_frames</a>(avctx, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga81bc0a84e8866ecff68e6d8a82781936">AV_CODEC_FLAG_PASS1</a>) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> b64_size = <a class="code" href="group__lavu__base64.html#gaa79f39ca3f737b662ae6711d2cbecd20">AV_BASE64_SIZE</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0f5bec27a856369ac81ccc9784f52e86">stats_out</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(b64_size);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0f5bec27a856369ac81ccc9784f52e86">stats_out</a>) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Stat buffer alloc (%d bytes) failed\n&quot;</span>,</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                   b64_size);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <a class="code" href="group__lavu__base64.html#ga67f87e333f9ff84ec19374e0ad46de13">av_base64_encode</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0f5bec27a856369ac81ccc9784f52e86">stats_out</a>, b64_size, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.buf,</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                         <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;twopass_stats.sz);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enccfg-&gt;ts_number_layers &gt; 1 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;ts_layer_flags) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;current_temporal_idx = (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;current_temporal_idx + 1) % enccfg-&gt;ts_periodicity;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    *got_packet = !!coded_size;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 1615</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(VPxContext, x)</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6"> 1616</a></span>&#160;<span class="preprocessor">#define VE AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a50523edf90e2250de36f0afcbbc030fb"> 1618</a></span>&#160;<span class="preprocessor">#define COMMON_OPTIONS \</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="preprocessor">    { &quot;lag-in-frames&quot;,   &quot;Number of frames to look ahead for &quot; \</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="preprocessor">                         &quot;alternate reference frame selection&quot;,    OFFSET(lag_in_frames),   AV_OPT_TYPE_INT, {.i64 = -1},      -1,      INT_MAX, VE}, \</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="preprocessor">    { &quot;arnr-maxframes&quot;,  &quot;altref noise reduction max frame count&quot;, OFFSET(arnr_max_frames), AV_OPT_TYPE_INT, {.i64 = -1},      -1,      INT_MAX, VE}, \</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="preprocessor">    { &quot;arnr-strength&quot;,   &quot;altref noise reduction filter strength&quot;, OFFSET(arnr_strength),   AV_OPT_TYPE_INT, {.i64 = -1},      -1,      INT_MAX, VE}, \</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="preprocessor">    { &quot;arnr-type&quot;,       &quot;altref noise reduction filter type&quot;,     OFFSET(arnr_type),       AV_OPT_TYPE_INT, {.i64 = -1},      -1,      INT_MAX, VE, &quot;arnr_type&quot;}, \</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="preprocessor">    { &quot;backward&quot;,        NULL, 0, AV_OPT_TYPE_CONST, {.i64 = 1}, 0, 0, VE, &quot;arnr_type&quot; }, \</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="preprocessor">    { &quot;forward&quot;,         NULL, 0, AV_OPT_TYPE_CONST, {.i64 = 2}, 0, 0, VE, &quot;arnr_type&quot; }, \</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="preprocessor">    { &quot;centered&quot;,        NULL, 0, AV_OPT_TYPE_CONST, {.i64 = 3}, 0, 0, VE, &quot;arnr_type&quot; }, \</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="preprocessor">    { &quot;tune&quot;,            &quot;Tune the encoding to a specific scenario&quot;, OFFSET(tune),          AV_OPT_TYPE_INT, {.i64 = -1},      -1,      INT_MAX, VE, &quot;tune&quot;}, \</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="preprocessor">    { &quot;psnr&quot;,            NULL, 0, AV_OPT_TYPE_CONST, {.i64 = VP8_TUNE_PSNR}, 0, 0, VE, &quot;tune&quot;}, \</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="preprocessor">    { &quot;ssim&quot;,            NULL, 0, AV_OPT_TYPE_CONST, {.i64 = VP8_TUNE_SSIM}, 0, 0, VE, &quot;tune&quot;}, \</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="preprocessor">    { &quot;deadline&quot;,        &quot;Time to spend encoding, in microseconds.&quot;, OFFSET(deadline),      AV_OPT_TYPE_INT, {.i64 = VPX_DL_GOOD_QUALITY}, INT_MIN, INT_MAX, VE, &quot;quality&quot;}, \</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="preprocessor">    { &quot;best&quot;,            NULL, 0, AV_OPT_TYPE_CONST, {.i64 = VPX_DL_BEST_QUALITY}, 0, 0, VE, &quot;quality&quot;}, \</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="preprocessor">    { &quot;good&quot;,            NULL, 0, AV_OPT_TYPE_CONST, {.i64 = VPX_DL_GOOD_QUALITY}, 0, 0, VE, &quot;quality&quot;}, \</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="preprocessor">    { &quot;realtime&quot;,        NULL, 0, AV_OPT_TYPE_CONST, {.i64 = VPX_DL_REALTIME},     0, 0, VE, &quot;quality&quot;}, \</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="preprocessor">    { &quot;error-resilient&quot;, &quot;Error resilience configuration&quot;, OFFSET(error_resilient), AV_OPT_TYPE_FLAGS, {.i64 = 0}, INT_MIN, INT_MAX, VE, &quot;er&quot;}, \</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="preprocessor">    { &quot;max-intra-rate&quot;,  &quot;Maximum I-frame bitrate (pct) 0=unlimited&quot;,  OFFSET(max_intra_rate),  AV_OPT_TYPE_INT,  {.i64 = -1}, -1,      INT_MAX, VE}, \</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="preprocessor">    { &quot;default&quot;,         &quot;Improve resiliency against losses of whole frames&quot;, 0, AV_OPT_TYPE_CONST, {.i64 = VPX_ERROR_RESILIENT_DEFAULT}, 0, 0, VE, &quot;er&quot;}, \</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="preprocessor">    { &quot;partitions&quot;,      &quot;The frame partitions are independently decodable &quot; \</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="preprocessor">                         &quot;by the bool decoder, meaning that partitions can be decoded even &quot; \</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="preprocessor">                         &quot;though earlier partitions have been lost. Note that intra prediction&quot; \</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="preprocessor">                         &quot; is still done over the partition boundary.&quot;,       0, AV_OPT_TYPE_CONST, {.i64 = VPX_ERROR_RESILIENT_PARTITIONS}, 0, 0, VE, &quot;er&quot;}, \</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="preprocessor">    { &quot;crf&quot;,              &quot;Select the quality for constant quality mode&quot;, offsetof(VPxContext, crf), AV_OPT_TYPE_INT, {.i64 = -1}, -1, 63, VE }, \</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="preprocessor">    { &quot;static-thresh&quot;,    &quot;A change threshold on blocks below which they will be skipped by the encoder&quot;, OFFSET(static_thresh), AV_OPT_TYPE_INT, { .i64 = 0 }, 0, INT_MAX, VE }, \</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="preprocessor">    { &quot;drop-threshold&quot;,   &quot;Frame drop threshold&quot;, offsetof(VPxContext, drop_threshold), AV_OPT_TYPE_INT, {.i64 = 0 }, INT_MIN, INT_MAX, VE }, \</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="preprocessor">    { &quot;noise-sensitivity&quot;, &quot;Noise sensitivity&quot;, OFFSET(noise_sensitivity), AV_OPT_TYPE_INT, {.i64 = 0 }, 0, 4, VE}, \</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="preprocessor">    { &quot;undershoot-pct&quot;,  &quot;Datarate undershoot (min) target (%)&quot;, OFFSET(rc_undershoot_pct), AV_OPT_TYPE_INT, { .i64 = -1 }, -1, 100, VE }, \</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="preprocessor">    { &quot;overshoot-pct&quot;,   &quot;Datarate overshoot (max) target (%)&quot;, OFFSET(rc_overshoot_pct), AV_OPT_TYPE_INT, { .i64 = -1 }, -1, 1000, VE }, \</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="preprocessor">    { &quot;ts-parameters&quot;,   &quot;Temporal scaling configuration using a :-separated list of key=value parameters&quot;, OFFSET(vpx_ts_parameters), AV_OPT_TYPE_DICT, {.str=NULL},  0,  0, VE}, \</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l01649"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a3189588d6fce92bec0161ee444818eef"> 1649</a></span>&#160;<span class="preprocessor">#define LEGACY_OPTIONS \</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="preprocessor">    {&quot;speed&quot;, &quot;&quot;, offsetof(VPxContext, cpu_used), AV_OPT_TYPE_INT, {.i64 = 1}, -16, 16, VE}, \</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="preprocessor">    {&quot;quality&quot;, &quot;&quot;, offsetof(VPxContext, deadline), AV_OPT_TYPE_INT, {.i64 = VPX_DL_GOOD_QUALITY}, INT_MIN, INT_MAX, VE, &quot;quality&quot;}, \</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="preprocessor">    {&quot;vp8flags&quot;, &quot;&quot;, offsetof(VPxContext, flags), AV_OPT_TYPE_FLAGS, {.i64 = 0}, 0, UINT_MAX, VE, &quot;flags&quot;}, \</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="preprocessor">    {&quot;error_resilient&quot;, &quot;enable error resilience&quot;, 0, AV_OPT_TYPE_CONST, {.i64 = VP8F_ERROR_RESILIENT}, INT_MIN, INT_MAX, VE, &quot;flags&quot;}, \</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="preprocessor">    {&quot;altref&quot;, &quot;enable use of alternate reference frames (VP8/2-pass only)&quot;, 0, AV_OPT_TYPE_CONST, {.i64 = VP8F_AUTO_ALT_REF}, INT_MIN, INT_MAX, VE, &quot;flags&quot;}, \</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="preprocessor">    {&quot;arnr_max_frames&quot;, &quot;altref noise reduction max frame count&quot;, offsetof(VPxContext, arnr_max_frames), AV_OPT_TYPE_INT, {.i64 = 0}, 0, 15, VE}, \</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="preprocessor">    {&quot;arnr_strength&quot;, &quot;altref noise reduction filter strength&quot;, offsetof(VPxContext, arnr_strength), AV_OPT_TYPE_INT, {.i64 = 3}, 0, 6, VE}, \</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="preprocessor">    {&quot;arnr_type&quot;, &quot;altref noise reduction filter type&quot;, offsetof(VPxContext, arnr_type), AV_OPT_TYPE_INT, {.i64 = 3}, 1, 3, VE}, \</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="preprocessor">    {&quot;rc_lookahead&quot;, &quot;Number of frames to look ahead for alternate reference frame selection&quot;, offsetof(VPxContext, lag_in_frames), AV_OPT_TYPE_INT, {.i64 = 25}, 0, 25, VE}, \</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="preprocessor">    {&quot;sharpness&quot;, &quot;Increase sharpness at the expense of lower PSNR&quot;, offsetof(VPxContext, sharpness), AV_OPT_TYPE_INT, {.i64 = -1}, -1, 7, VE},</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP8_ENCODER</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> vp8_options[] = {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <a class="code" href="libvpxenc_8c.html#a50523edf90e2250de36f0afcbbc030fb">COMMON_OPTIONS</a></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    { <span class="stringliteral">&quot;auto-alt-ref&quot;</span>,    <span class="stringliteral">&quot;Enable use of alternate reference &quot;</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                         <span class="stringliteral">&quot;frames (2-pass only)&quot;</span>,                        <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(auto_alt_ref),    <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1,  2, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    { <span class="stringliteral">&quot;cpu-used&quot;</span>,        <span class="stringliteral">&quot;Quality/Speed ratio modifier&quot;</span>,                <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(cpu_used),        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 1}, -16, 16, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <a class="code" href="libvpxenc_8c.html#a3189588d6fce92bec0161ee444818eef">LEGACY_OPTIONS</a></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;};</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> vp9_options[] = {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <a class="code" href="libvpxenc_8c.html#a50523edf90e2250de36f0afcbbc030fb">COMMON_OPTIONS</a></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    { <span class="stringliteral">&quot;auto-alt-ref&quot;</span>,    <span class="stringliteral">&quot;Enable use of alternate reference &quot;</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                         <span class="stringliteral">&quot;frames (2-pass only)&quot;</span>,                        <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(auto_alt_ref),    <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 6, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    { <span class="stringliteral">&quot;cpu-used&quot;</span>,        <span class="stringliteral">&quot;Quality/Speed ratio modifier&quot;</span>,                <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(cpu_used),        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 1},  -8, 8, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    { <span class="stringliteral">&quot;lossless&quot;</span>,        <span class="stringliteral">&quot;Lossless mode&quot;</span>,                               <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(lossless),        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 1, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    { <span class="stringliteral">&quot;tile-columns&quot;</span>,    <span class="stringliteral">&quot;Number of tile columns to use, log2&quot;</span>,         <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(tile_columns),    <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 6, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    { <span class="stringliteral">&quot;tile-rows&quot;</span>,       <span class="stringliteral">&quot;Number of tile rows to use, log2&quot;</span>,            <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="h265__levels_8c.html#af8036d4a25a1d4a706d194f20c2f7c0b">tile_rows</a>),       <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 2, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    { <span class="stringliteral">&quot;frame-parallel&quot;</span>,  <span class="stringliteral">&quot;Enable frame parallel decodability features&quot;</span>, <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(frame_parallel),  <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>,{.i64 = -1}, -1, 1, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    { <span class="stringliteral">&quot;aq-mode&quot;</span>,         <span class="stringliteral">&quot;adaptive quantization mode&quot;</span>,                  <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(aq_mode),         <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 4, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;aq_mode&quot;</span>},</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    { <span class="stringliteral">&quot;aq-mode&quot;</span>,         <span class="stringliteral">&quot;adaptive quantization mode&quot;</span>,                  <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(aq_mode),         <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 3, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;aq_mode&quot;</span>},</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    { <span class="stringliteral">&quot;none&quot;</span>,            <span class="stringliteral">&quot;Aq not used&quot;</span>,         0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 0}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;aq_mode&quot;</span> },</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    { <span class="stringliteral">&quot;variance&quot;</span>,        <span class="stringliteral">&quot;Variance based Aq&quot;</span>,   0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 1}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;aq_mode&quot;</span> },</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    { <span class="stringliteral">&quot;complexity&quot;</span>,      <span class="stringliteral">&quot;Complexity based Aq&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 2}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;aq_mode&quot;</span> },</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    { <span class="stringliteral">&quot;cyclic&quot;</span>,          <span class="stringliteral">&quot;Cyclic Refresh Aq&quot;</span>,   0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 3}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;aq_mode&quot;</span> },</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 12</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    { <span class="stringliteral">&quot;equator360&quot;</span>,      <span class="stringliteral">&quot;360 video Aq&quot;</span>,        0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 4}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;aq_mode&quot;</span> },</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    {<span class="stringliteral">&quot;level&quot;</span>, <span class="stringliteral">&quot;Specify level&quot;</span>, <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ae91d3f6cbac4a4de2a6e880ac2a52d1a">AV_OPT_TYPE_FLOAT</a>, {.dbl=-1}, -1, 6.2, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_ROW_MT</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    {<span class="stringliteral">&quot;row-mt&quot;</span>, <span class="stringliteral">&quot;Row based multi-threading&quot;</span>, <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(row_mt), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = -1}, -1, 1, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_TUNE_CONTENT</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 14</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    { <span class="stringliteral">&quot;tune-content&quot;</span>,    <span class="stringliteral">&quot;Tune content type&quot;</span>, <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(tune_content), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 2, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;tune_content&quot;</span> },</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    { <span class="stringliteral">&quot;tune-content&quot;</span>,    <span class="stringliteral">&quot;Tune content type&quot;</span>, <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(tune_content), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 1, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;tune_content&quot;</span> },</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    { <span class="stringliteral">&quot;default&quot;</span>,         <span class="stringliteral">&quot;Regular video content&quot;</span>,                  0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 0}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;tune_content&quot;</span> },</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    { <span class="stringliteral">&quot;screen&quot;</span>,          <span class="stringliteral">&quot;Screen capture content&quot;</span>,                 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 1}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;tune_content&quot;</span> },</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 14</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    { <span class="stringliteral">&quot;film&quot;</span>,            <span class="stringliteral">&quot;Film content; improves grain retention&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = 2}, 0, 0, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;tune_content&quot;</span> },</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="preprocessor">#if VPX_ENCODER_ABI_VERSION &gt;= 14</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    { <span class="stringliteral">&quot;corpus-complexity&quot;</span>, <span class="stringliteral">&quot;corpus vbr complexity midpoint&quot;</span>, <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(corpus_complexity), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = -1}, -1, 10000, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="preprocessor">#ifdef VPX_CTRL_VP9E_SET_TPL</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    { <span class="stringliteral">&quot;enable-tpl&quot;</span>,      <span class="stringliteral">&quot;Enable temporal dependency model&quot;</span>, <a class="code" href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(tpl_model), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = -1}, -1, 1, <a class="code" href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <a class="code" href="libvpxenc_8c.html#a3189588d6fce92bec0161ee444818eef">LEGACY_OPTIONS</a></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;};</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160; </div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="preprocessor">#undef COMMON_OPTIONS</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="preprocessor">#undef LEGACY_OPTIONS</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="libvpxenc_8c.html#a06a81528f29475b48d86ad34c9e65223"> 1724</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_default.html">AVCodecDefault</a> <a class="code" href="libvpxenc_8c.html#a06a81528f29475b48d86ad34c9e65223">defaults</a>[] = {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    { <span class="stringliteral">&quot;b&quot;</span>,                 <span class="stringliteral">&quot;0&quot;</span> },</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    { <span class="stringliteral">&quot;qmin&quot;</span>,             <span class="stringliteral">&quot;-1&quot;</span> },</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    { <span class="stringliteral">&quot;qmax&quot;</span>,             <span class="stringliteral">&quot;-1&quot;</span> },</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    { <span class="stringliteral">&quot;g&quot;</span>,                <span class="stringliteral">&quot;-1&quot;</span> },</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    { <span class="stringliteral">&quot;keyint_min&quot;</span>,       <span class="stringliteral">&quot;-1&quot;</span> },</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;};</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP8_ENCODER</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="rtpdec__vp8_8c.html#a370b83edf633fbb7ab7fd2a625c4007f">vp8_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;{</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libvpxenc_8c.html#a5fef3cbe12121cbae6fab07d87fc89e7">vpx_init</a>(avctx, vpx_codec_vp8_cx());</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;}</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> class_vp8 = {</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;libvpx-vp8 encoder&quot;</span>,</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    .option     = vp8_options,</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;};</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="allcodecs_8c.html#a64adab6141fedcdbdd032228cd5888ca">ff_libvpx_vp8_encoder</a> = {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;libvpx&quot;</span>,</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;libvpx VP8&quot;</span>),</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>,</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="libvpxenc_8c.html#a243ee7f9f4bd1ee3ede813bfa7787e29">VPxContext</a>),</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="rtpdec__vp8_8c.html#a370b83edf633fbb7ab7fd2a625c4007f">vp8_init</a>,</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    .encode2        = <a class="code" href="libvpxenc_8c.html#aab983d79165d99f963580c7d68cd3463">vpx_encode</a>,</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    .close          = <a class="code" href="libvpxenc_8c.html#a794b07185a989e8a5780a6485ad44451">vpx_free</a>,</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a> | <a class="code" href="group__lavc__core.html#gaec1cd58fda7b88067a3402cddc9b4b96">AV_CODEC_CAP_AUTO_THREADS</a>,</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]){ <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a> },</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    .priv_class     = &amp;class_vp8,</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    .defaults       = <a class="code" href="libvpxenc_8c.html#a06a81528f29475b48d86ad34c9e65223">defaults</a>,</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    .wrapper_name   = <span class="stringliteral">&quot;libvpx&quot;</span>,</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;};</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_LIBVPX_VP8_ENCODER */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="preprocessor">#if CONFIG_LIBVPX_VP9_ENCODER</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="rtpdec__vp9_8c.html#abce8ce6528c7038ab7609ea4eff3d9bc">vp9_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;{</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libvpxenc_8c.html#a5fef3cbe12121cbae6fab07d87fc89e7">vpx_init</a>(avctx, vpx_codec_vp9_cx());</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;}</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> class_vp9 = {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;libvpx-vp9 encoder&quot;</span>,</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    .option     = vp9_options,</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;};</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="allcodecs_8c.html#aea483eb173aac324f2217b0d7f8fb8e2">ff_libvpx_vp9_encoder</a> = {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;libvpx-vp9&quot;</span>,</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;libvpx VP9&quot;</span>),</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>,</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="libvpxenc_8c.html#a243ee7f9f4bd1ee3ede813bfa7787e29">VPxContext</a>),</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="rtpdec__vp9_8c.html#abce8ce6528c7038ab7609ea4eff3d9bc">vp9_init</a>,</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    .encode2        = <a class="code" href="libvpxenc_8c.html#aab983d79165d99f963580c7d68cd3463">vpx_encode</a>,</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    .close          = <a class="code" href="libvpxenc_8c.html#a794b07185a989e8a5780a6485ad44451">vpx_free</a>,</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a> | <a class="code" href="group__lavc__core.html#gaec1cd58fda7b88067a3402cddc9b4b96">AV_CODEC_CAP_AUTO_THREADS</a>,</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    .<a class="code" href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a>       = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#a150a997c334af870efd936e2cfefb71d">ff_vp9_profiles</a>),</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    .priv_class     = &amp;class_vp9,</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    .defaults       = <a class="code" href="libvpxenc_8c.html#a06a81528f29475b48d86ad34c9e65223">defaults</a>,</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    .init_static_data = <a class="code" href="libvpx_8c.html#a572538198ee8fe43a72170c2697a75c0">ff_vp9_init_static</a>,</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    .wrapper_name   = <span class="stringliteral">&quot;libvpx&quot;</span>,</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;};</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_LIBVPX_VP9_ENCODER */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="atarget__bsf__fuzzer_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="target__bsf__fuzzer_8c_source.html#l00030">target_bsf_fuzzer.c:30</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_af9920fc3fbfa347b8943ae461b50d18b"><div class="ttname"><a href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">AVFrame::pict_type</a></div><div class="ttdeci">enum AVPictureType pict_type</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:391</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a06a81528f29475b48d86ad34c9e65223"><div class="ttname"><a href="libvpxenc_8c.html#a06a81528f29475b48d86ad34c9e65223">defaults</a></div><div class="ttdeci">static const AVCodecDefault defaults[]</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01724">libvpxenc.c:1724</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga63d5a489b419bd5d45cfd09091cbcbc2"><div class="ttname"><a href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a></div><div class="ttdeci">void av_packet_unref(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00606">avpacket.c:606</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="amace_8c_html_a08f66a6870d87afcd5dc1b60d1019692"><div class="ttname"><a href="mace_8c.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a></div><div class="ttdeci">int stride</div><div class="ttdef"><b>Definition:</b> <a href="mace_8c_source.html#l00144">mace.c:144</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b53fda85ad61baa345edbd96cb8a33c"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">AVCodecContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00576">avcodec.h:576</a></div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="astruct_v_px_decoder_context_html"><div class="ttname"><a href="struct_v_px_decoder_context.html">VPxDecoderContext</a></div><div class="ttdef"><b>Definition:</b> <a href="libvpxdec_8c_source.html#l00040">libvpxdec.c:40</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="artpdec__vp9_8c_html_abce8ce6528c7038ab7609ea4eff3d9bc"><div class="ttname"><a href="rtpdec__vp9_8c.html#abce8ce6528c7038ab7609ea4eff3d9bc">vp9_init</a></div><div class="ttdeci">static av_cold int vp9_init(AVFormatContext *ctx, int st_index, PayloadContext *data)</div><div class="ttdef"><b>Definition:</b> <a href="rtpdec__vp9_8c_source.html#l00034">rtpdec_vp9.c:34</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="alibaomenc_8c_html_a40f70f104a05800a5d3b6581496b81e3"><div class="ttname"><a href="libaomenc_8c.html#a40f70f104a05800a5d3b6581496b81e3">set_color_range</a></div><div class="ttdeci">static void set_color_range(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00392">libaomenc.c:392</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ad2dec65dac4a96240d6654bc1d8d3e64"><div class="ttname"><a href="struct_a_v_codec_context.html#ad2dec65dac4a96240d6654bc1d8d3e64">AVCodecContext::noise_reduction</a></div><div class="ttdeci">attribute_deprecated int noise_reduction</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01044">avcodec.h:1044</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_adc5f65d6099fd8339c1580c091777223"><div class="ttname"><a href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">AVCodecContext::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:536</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gadec0efb470b1eead6a979333d9deca0c"><div class="ttname"><a href="group__lavu__frame.html#gadec0efb470b1eead6a979333d9deca0c">av_frame_get_side_data</a></div><div class="ttdeci">AVFrameSideData * av_frame_get_side_data(const AVFrame *frame, enum AVFrameSideDataType type)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00738">frame.c:738</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ac6db36ced9bd6720ed841efc0540ea5f"><div class="ttname"><a href="libvpxenc_8c.html#ac6db36ced9bd6720ed841efc0540ea5f">vp8_ts_parse_int_array</a></div><div class="ttdeci">static void vp8_ts_parse_int_array(int *dest, char *value, size_t value_len, int max_entries)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00385">libvpxenc.c:385</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a3f63bc9141e25bf7f1cda0cef7cd4a60"><div class="ttname"><a href="struct_a_v_codec_context.html#a3f63bc9141e25bf7f1cda0cef7cd4a60">AVCodecContext::qmin</a></div><div class="ttdeci">int qmin</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01368">avcodec.h:1368</a></div></div>
<div class="ttc" id="avp9__superframe__bsf_8c_html_a38f3837d1f94009b4f63c09e04628b0a"><div class="ttname"><a href="vp9__superframe__bsf_8c.html#a38f3837d1f94009b4f63c09e04628b0a">stats</a></div><div class="ttdeci">static void stats(AVPacket *const *in, int n_in, unsigned *_max, unsigned *_sum)</div><div class="ttdef"><b>Definition:</b> <a href="vp9__superframe__bsf_8c_source.html#l00034">vp9_superframe_bsf.c:34</a></div></div>
<div class="ttc" id="apixdesc_8c_html_afe0c3e8aef5173de28bbdaea4298f5f0"><div class="ttname"><a href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a></div><div class="ttdeci">const AVPixFmtDescriptor * av_pix_fmt_desc_get(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02573">pixdesc.c:2573</a></div></div>
<div class="ttc" id="aavpacket_8c_html_a6e76c2d97b4905f969bed6b69b3d0c3c"><div class="ttname"><a href="avpacket_8c.html#a6e76c2d97b4905f969bed6b69b3d0c3c">ff_side_data_set_encoder_stats</a></div><div class="ttdeci">int ff_side_data_set_encoder_stats(AVPacket *pkt, int quality, int64_t *error, int error_count, int pict_type)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00796">avpacket.c:796</a></div></div>
<div class="ttc" id="amem_8c_html_a254f3455439c15a2c8a75b8f0235fdbd"><div class="ttname"><a href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a></div><div class="ttdeci">void * av_malloc_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00182">mem.c:182</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5a2bc090d586303b25c642e3315d8671"><div class="ttname"><a href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">AVCodecContext::coded_frame</a></div><div class="ttdeci">attribute_deprecated AVFrame * coded_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01776">avcodec.h:1776</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_af525fd9a955302a28b7c95e49978527f"><div class="ttname"><a href="struct_v_px_encoder_context.html#af525fd9a955302a28b7c95e49978527f">VPxEncoderContext::static_thresh</a></div><div class="ttdeci">int static_thresh</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00100">libvpxenc.c:100</a></div></div>
<div class="ttc" id="aattributes_8h_html_a7ca8a3900269f92fcc7b68235dea7787"><div class="ttname"><a href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a></div><div class="ttdeci">#define av_unused</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00133">attributes.h:133</a></div></div>
<div class="ttc" id="astruct_a_v_region_of_interest_html_a3a7e57502405cc44afd3ff3693ef3389"><div class="ttname"><a href="struct_a_v_region_of_interest.html#a3a7e57502405cc44afd3ff3693ef3389">AVRegionOfInterest::right</a></div><div class="ttdeci">int right</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00251">frame.h:251</a></div></div>
<div class="ttc" id="apixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a></div><div class="ttdeci">@ AVCOL_RANGE_JPEG</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00586">pixfmt.h:586</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a2aa026bf65668feafb418b5b88365d5c"><div class="ttname"><a href="libvpxenc_8c.html#a2aa026bf65668feafb418b5b88365d5c">VP8F_ERROR_RESILIENT</a></div><div class="ttdeci">#define VP8F_ERROR_RESILIENT</div><div class="ttdoc">Enable measures appropriate for streaming over lossy links.</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00086">libvpxenc.c:86</a></div></div>
<div class="ttc" id="alibaomdec_8c_html_a4830d9529286585542be4c3bd8dac42b"><div class="ttname"><a href="libaomdec_8c.html#a4830d9529286585542be4c3bd8dac42b">set_pix_fmt</a></div><div class="ttdeci">static int set_pix_fmt(AVCodecContext *avctx, struct aom_image *img)</div><div class="ttdef"><b>Definition:</b> <a href="libaomdec_8c_source.html#l00086">libaomdec.c:86</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_afd2d38dbc4338142d73bbd42c59ac186"><div class="ttname"><a href="intreadwrite_8h.html#afd2d38dbc4338142d73bbd42c59ac186">AV_WB64</a></div><div class="ttdeci">#define AV_WB64(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00311">intreadwrite.h:311</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a2095c546851496e10160077ab89c845c"><div class="ttname"><a href="pixfmt_8h.html#a2095c546851496e10160077ab89c845c">AV_PIX_FMT_YUV420P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV420P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00399">pixfmt.h:399</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga341bbd1ea599dfb0510f419e5272fecc"><div class="ttname"><a href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a></div><div class="ttdeci">#define AV_DICT_IGNORE_SUFFIX</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00071">dict.h:70</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a6e7b38ac24fb682ade84cada0dd0770d"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a6e7b38ac24fb682ade84cada0dd0770d">AVCOL_SPC_RGB</a></div><div class="ttdeci">@ AVCOL_SPC_RGB</div><div class="ttdoc">order of coefficients is actually GBR, also IEC 61966-2-1 (sRGB)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00513">pixfmt.h:513</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a387cba397cdf8453e7804a04180e4b79"><div class="ttname"><a href="libvpxenc_8c.html#a387cba397cdf8453e7804a04180e4b79">VP8F_AUTO_ALT_REF</a></div><div class="ttdeci">#define VP8F_AUTO_ALT_REF</div><div class="ttdoc">Enable automatic alternate reference frame generation.</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00087">libvpxenc.c:87</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ab47b8b1c73152c94e7b894add150a4eb"><div class="ttname"><a href="struct_v_px_encoder_context.html#ab47b8b1c73152c94e7b894add150a4eb">VPxEncoderContext::current_temporal_idx</a></div><div class="ttdeci">int current_temporal_idx</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00107">libvpxenc.c:107</a></div></div>
<div class="ttc" id="astruct_a_v_region_of_interest_html_a66cec26997f55f6ac16822f5a6ea3100"><div class="ttname"><a href="struct_a_v_region_of_interest.html#a66cec26997f55f6ac16822f5a6ea3100">AVRegionOfInterest::left</a></div><div class="ttdeci">int left</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00250">frame.h:250</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_aab238a71f62459aa6472042e3f364365"><div class="ttname"><a href="libvpxenc_8c.html#aab238a71f62459aa6472042e3f364365">dump_enc_cfg</a></div><div class="ttdeci">static av_cold void dump_enc_cfg(AVCodecContext *avctx, const struct vpx_codec_enc_cfg *cfg)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00187">libvpxenc.c:187</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a6b9fa06c58c3cfd5c7572b3d6f74a67f"><div class="ttname"><a href="struct_v_px_encoder_context.html#a6b9fa06c58c3cfd5c7572b3d6f74a67f">VPxEncoderContext::tile_rows</a></div><div class="ttdeci">int tile_rows</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00112">libvpxenc.c:112</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1afff2f2eecd8629e6136d2e044ed66b"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1afff2f2eecd8629e6136d2e044ed66b">AV_PIX_FMT_YUV440P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV440P</div><div class="ttdoc">planar YUV 4:4:0 (1 Cr &amp; Cb sample per 1x2 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00099">pixfmt.h:99</a></div></div>
<div class="ttc" id="amathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gac14e43b675c9a342f9c7275553d6f533"><div class="ttname"><a href="group__lavc__core.html#gac14e43b675c9a342f9c7275553d6f533">AV_CODEC_FLAG_PSNR</a></div><div class="ttdeci">#define AV_CODEC_FLAG_PSNR</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00312">avcodec.h:312</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a7a2bb6fb6710fce7e3ffa32c125333cc"><div class="ttname"><a href="libvpxenc_8c.html#a7a2bb6fb6710fce7e3ffa32c125333cc">cx_pktcpy</a></div><div class="ttdeci">static void cx_pktcpy(struct FrameListData *dst, const struct vpx_codec_cx_pkt *src, const struct vpx_codec_cx_pkt *src_alpha, VPxContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01045">libvpxenc.c:1045</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_aa817dec60c42863493e19ee70408eb3c"><div class="ttname"><a href="struct_frame_list_data.html#aa817dec60c42863493e19ee70408eb3c">FrameListData::frame_number</a></div><div class="ttdeci">uint64_t frame_number</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00057">libaomenc.c:57</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ab531f8c5ca3a9e0595b303471eb848af"><div class="ttname"><a href="struct_v_px_encoder_context.html#ab531f8c5ca3a9e0595b303471eb848af">VPxEncoderContext::tune</a></div><div class="ttdeci">int tune</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00095">libvpxenc.c:95</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a8e0ce66394bedcfbdc52cf8b7b7bedba"><div class="ttname"><a href="libavcodec_2internal_8h.html#a8e0ce66394bedcfbdc52cf8b7b7bedba">ff_add_cpb_side_data</a></div><div class="ttdeci">AVCPBProperties * ff_add_cpb_side_data(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02005">utils.c:2005</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a03603111966893682bd100a4347e5976"><div class="ttname"><a href="struct_v_px_encoder_context.html#a03603111966893682bd100a4347e5976">VPxEncoderContext::encoder</a></div><div class="ttdeci">struct vpx_codec_ctx encoder</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00067">libvpxenc.c:68</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_aad2180ad44b4044cfe3f433e07f23697"><div class="ttname"><a href="struct_v_px_encoder_context.html#aad2180ad44b4044cfe3f433e07f23697">VPxEncoderContext::tpl_model</a></div><div class="ttdeci">int tpl_model</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00122">libvpxenc.c:122</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a9d1e5a0c85c6ba1b94ba3eaf816f5d3c"><div class="ttname"><a href="struct_v_px_encoder_context.html#a9d1e5a0c85c6ba1b94ba3eaf816f5d3c">VPxEncoderContext::noise_sensitivity</a></div><div class="ttdeci">int noise_sensitivity</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00116">libvpxenc.c:116</a></div></div>
<div class="ttc" id="astruct_a_v_region_of_interest_html"><div class="ttname"><a href="struct_a_v_region_of_interest.html">AVRegionOfInterest</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00233">frame.h:233</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a3f920af17b8b15cc9d9465ecb732afcb"><div class="ttname"><a href="struct_a_v_codec_context.html#a3f920af17b8b15cc9d9465ecb732afcb">AVCodecContext::keyint_min</a></div><div class="ttdeci">int keyint_min</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01107">avcodec.h:1107</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a3649a81e8414a193d685a6eee06ce902"><div class="ttname"><a href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">AVFrame::key_frame</a></div><div class="ttdeci">int key_frame</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:386</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_a2c581a6e8be758e1fbe73ee193cfd59e"><div class="ttname"><a href="struct_frame_list_data.html#a2c581a6e8be758e1fbe73ee193cfd59e">FrameListData::next</a></div><div class="ttdeci">struct FrameListData * next</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00058">libaomenc.c:58</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a32a0719616b0bb89f4be9d885341bfa4"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a32a0719616b0bb89f4be9d885341bfa4">AVCOL_SPC_BT470BG</a></div><div class="ttdeci">@ AVCOL_SPC_BT470BG</div><div class="ttdoc">also ITU-R BT601-6 625 / ITU-R BT1358 625 / ITU-R BT1700 625 PAL &amp; SECAM / IEC 61966-2-4 xvYCC601</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00518">pixfmt.h:518</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85acdd0ec5775082e79f2430774c200efb9"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85acdd0ec5775082e79f2430774c200efb9">AVCOL_SPC_RESERVED</a></div><div class="ttdeci">@ AVCOL_SPC_RESERVED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00516">pixfmt.h:516</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a9b6b3f1fcbdcc2ad9f4dbb4370496e38"><div class="ttname"><a href="struct_a_v_codec_context.html#a9b6b3f1fcbdcc2ad9f4dbb4370496e38">AVCodecContext::gop_size</a></div><div class="ttdeci">int gop_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:721</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a34d9401cf0ee92d29df3a949034f1b6a"><div class="ttname"><a href="struct_v_px_encoder_context.html#a34d9401cf0ee92d29df3a949034f1b6a">VPxEncoderContext::frame_parallel</a></div><div class="ttdeci">int frame_parallel</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00113">libvpxenc.c:113</a></div></div>
<div class="ttc" id="astruct_a_v_codec_default_html"><div class="ttname"><a href="struct_a_v_codec_default.html">AVCodecDefault</a></div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00208">internal.h:208</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a8ce6947b97bbf246d74da7888889f703"><div class="ttname"><a href="struct_v_px_encoder_context.html#a8ce6947b97bbf246d74da7888889f703">VPxEncoderContext::level</a></div><div class="ttdeci">float level</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00118">libvpxenc.c:118</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a65c2f27287363d45e9e1da64bf569ebd"><div class="ttname"><a href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a></div><div class="ttdeci">#define AV_PIX_FMT_GBRP10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00415">pixfmt.h:415</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html"><div class="ttname"><a href="struct_frame_list_data.html">FrameListData</a></div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00047">libaomenc.c:47</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a32379cc371463b235d54235d4af06a15"><div class="ttname"><a href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">AVFormatContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01354">avformat.h:1354</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ab60c7f6b1633df93c124d986130e9f7d"><div class="ttname"><a href="libvpxenc_8c.html#ab60c7f6b1633df93c124d986130e9f7d">set_vp8_defaults</a></div><div class="ttdeci">static void set_vp8_defaults(AVCodecContext *avctx, struct vpx_codec_enc_cfg *enccfg)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00666">libvpxenc.c:666</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html_aa8418cdc71a76dfab523445b17f10028"><div class="ttname"><a href="struct_a_v_frame_side_data.html#aa8418cdc71a76dfab523445b17f10028">AVFrameSideData::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00217">frame.h:217</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ab514784e8523d746a0c608241a624794"><div class="ttname"><a href="struct_v_px_encoder_context.html#ab514784e8523d746a0c608241a624794">VPxEncoderContext::arnr_strength</a></div><div class="ttdeci">int arnr_strength</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00092">libvpxenc.c:92</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_af4b5e3c9f83a34e0829133e1012fb96d"><div class="ttname"><a href="libvpxenc_8c.html#af4b5e3c9f83a34e0829133e1012fb96d">codecctl_int</a></div><div class="ttdeci">static av_cold int codecctl_int(AVCodecContext *avctx, enum vp8e_enc_control_id id, int val)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00314">libvpxenc.c:314</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ac09f282a241d40a1072c22c2c44032ac"><div class="ttname"><a href="libvpxenc_8c.html#ac09f282a241d40a1072c22c2c44032ac">realloc_alpha_uv</a></div><div class="ttdeci">static int realloc_alpha_uv(AVCodecContext *avctx, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01444">libvpxenc.c:1444</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a284838a526e21e6638f70717b1e5193f"><div class="ttname"><a href="libvpxenc_8c.html#a284838a526e21e6638f70717b1e5193f">vpx_ts_param_parse</a></div><div class="ttdeci">static int vpx_ts_param_parse(VPxContext *ctx, struct vpx_codec_enc_cfg *enccfg, char *key, char *value, enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00501">libvpxenc.c:501</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html"><div class="ttname"><a href="struct_v_px_encoder_context.html">VPxEncoderContext</a></div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00066">libvpxenc.c:66</a></div></div>
<div class="ttc" id="astruct_a_v_region_of_interest_html_af07ce47d1c824676f790d95e23ff9caf"><div class="ttname"><a href="struct_a_v_region_of_interest.html#af07ce47d1c824676f790d95e23ff9caf">AVRegionOfInterest::top</a></div><div class="ttdeci">int top</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00248">frame.h:248</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a3189588d6fce92bec0161ee444818eef"><div class="ttname"><a href="libvpxenc_8c.html#a3189588d6fce92bec0161ee444818eef">LEGACY_OPTIONS</a></div><div class="ttdeci">#define LEGACY_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01649">libvpxenc.c:1649</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff612e03cf2a557ac25e8e2032e37d9a"><div class="ttname"><a href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV444P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00402">pixfmt.h:402</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aa852b6227d0778b62e9cc4034ad3720c"><div class="ttname"><a href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">AVCodecContext::thread_count</a></div><div class="ttdeci">int thread_count</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01785">avcodec.h:1785</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ae49ff9ea234a81605ca392dadec09736"><div class="ttname"><a href="struct_v_px_encoder_context.html#ae49ff9ea234a81605ca392dadec09736">VPxEncoderContext::arnr_type</a></div><div class="ttdeci">int arnr_type</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00093">libvpxenc.c:93</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_af618ba0328235e57712fbd7006ff8f75"><div class="ttname"><a href="struct_v_px_encoder_context.html#af618ba0328235e57712fbd7006ff8f75">VPxEncoderContext::rawimg_alpha</a></div><div class="ttdeci">struct vpx_image rawimg_alpha</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00067">libvpxenc.c:71</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_aab983d79165d99f963580c7d68cd3463"><div class="ttname"><a href="libvpxenc_8c.html#aab983d79165d99f963580c7d68cd3463">vpx_encode</a></div><div class="ttdeci">static int vpx_encode(AVCodecContext *avctx, AVPacket *pkt, const AVFrame *frame, int *got_packet)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01472">libvpxenc.c:1472</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ab7700d8285524d7662150255778d2b60"><div class="ttname"><a href="struct_v_px_encoder_context.html#ab7700d8285524d7662150255778d2b60">VPxEncoderContext::max_intra_rate</a></div><div class="ttdeci">int max_intra_rate</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00101">libvpxenc.c:101</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="atablegen_8h_html_acb2450405534f2af2557e0d2487c09dc"><div class="ttname"><a href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a></div><div class="ttdeci">#define lrint</div><div class="ttdef"><b>Definition:</b> <a href="tablegen_8h_source.html#l00053">tablegen.h:53</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a39fbfd4c2dd4cb66d4b17de8f62a7c45"><div class="ttname"><a href="struct_v_px_encoder_context.html#a39fbfd4c2dd4cb66d4b17de8f62a7c45">VPxEncoderContext::sharpness</a></div><div class="ttdeci">int sharpness</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00081">libvpxenc.c:81</a></div></div>
<div class="ttc" id="aallcodecs_8c_html_a64adab6141fedcdbdd032228cd5888ca"><div class="ttname"><a href="allcodecs_8c.html#a64adab6141fedcdbdd032228cd5888ca">ff_libvpx_vp8_encoder</a></div><div class="ttdeci">AVCodec ff_libvpx_vp8_encoder</div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a49b9e831c25fcf07426cb128346a2118"><div class="ttname"><a href="struct_v_px_encoder_context.html#a49b9e831c25fcf07426cb128346a2118">VPxEncoderContext::encoder_alpha</a></div><div class="ttdeci">struct vpx_codec_ctx encoder_alpha</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00067">libvpxenc.c:70</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a4ae99a93cc54756998328ff49f31334e"><div class="ttname"><a href="struct_v_px_encoder_context.html#a4ae99a93cc54756998328ff49f31334e">VPxEncoderContext::roi_warned</a></div><div class="ttdeci">int roi_warned</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00127">libvpxenc.c:127</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a52aa2e647c6da371a09dc1c61c083967">AV_PIX_FMT_YUVA420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUVA420P</div><div class="ttdoc">planar YUV 4:2:0, 20bpp, (1 Cr &amp; Cb sample per 2x2 Y &amp; A samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00101">pixfmt.h:101</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a50523edf90e2250de36f0afcbbc030fb"><div class="ttname"><a href="libvpxenc_8c.html#a50523edf90e2250de36f0afcbbc030fb">COMMON_OPTIONS</a></div><div class="ttdeci">#define COMMON_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01618">libvpxenc.c:1618</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="astruct_a_v_region_of_interest_html_a5c75595b7003be167ed674bf565654db"><div class="ttname"><a href="struct_a_v_region_of_interest.html#a5c75595b7003be167ed674bf565654db">AVRegionOfInterest::self_size</a></div><div class="ttdeci">uint32_t self_size</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00238">frame.h:238</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a5fef3cbe12121cbae6fab07d87fc89e7"><div class="ttname"><a href="libvpxenc_8c.html#a5fef3cbe12121cbae6fab07d87fc89e7">vpx_init</a></div><div class="ttdeci">static av_cold int vpx_init(AVCodecContext *avctx, const struct vpx_codec_iface *iface)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00723">libvpxenc.c:723</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a21e8ef47ae8be1faab8b31790b1942b9"><div class="ttname"><a href="struct_v_px_encoder_context.html#a21e8ef47ae8be1faab8b31790b1942b9">VPxEncoderContext::corpus_complexity</a></div><div class="ttdeci">int corpus_complexity</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00121">libvpxenc.c:121</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a8a3f2b5ebbb2d5734435fe23837cd20c"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8a3f2b5ebbb2d5734435fe23837cd20c">AVCOL_SPC_SMPTE170M</a></div><div class="ttdeci">@ AVCOL_SPC_SMPTE170M</div><div class="ttdoc">also ITU-R BT601-6 525 / ITU-R BT1358 525 / ITU-R BT1700 NTSC</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00519">pixfmt.h:519</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a6b489b4fa44f5eac8f7e65513acebb09"><div class="ttname"><a href="libvpxenc_8c.html#a6b489b4fa44f5eac8f7e65513acebb09">log_encoder_error</a></div><div class="ttdeci">static av_cold void log_encoder_error(AVCodecContext *avctx, const char *desc)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00176">libvpxenc.c:176</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a></div><div class="ttdeci">@ AV_CODEC_ID_VP9</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00217">codec_id.h:217</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga3d4270f4ed651c414e2850090b9b77c4"><div class="ttname"><a href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a></div><div class="ttdeci">char * av_strtok(char *s, const char *delim, char **saveptr)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00186">avstring.c:186</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab015db3b7fcd227193a7c17283914187"><div class="ttname"><a href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">AVCodecContext::qmax</a></div><div class="ttdeci">int qmax</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01375">avcodec.h:1375</a></div></div>
<div class="ttc" id="ah265__levels_8c_html_af8036d4a25a1d4a706d194f20c2f7c0b"><div class="ttname"><a href="h265__levels_8c.html#af8036d4a25a1d4a706d194f20c2f7c0b">tile_rows</a></div><div class="ttdeci">int tile_rows</div><div class="ttdef"><b>Definition:</b> <a href="h265__levels_8c_source.html#l00217">h265_levels.c:217</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a1d8d03f5be975b8a728574cbdb00c896"><div class="ttname"><a href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a></div><div class="ttdeci">#define FF_PROFILE_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01860">avcodec.h:1860</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0f5bec27a856369ac81ccc9784f52e86"><div class="ttname"><a href="struct_a_v_codec_context.html#a0f5bec27a856369ac81ccc9784f52e86">AVCodecContext::stats_out</a></div><div class="ttdeci">char * stats_out</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01545">avcodec.h:1545</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_acf47505d34bd4b5a9292268f9aed1faa"><div class="ttname"><a href="struct_a_v_codec_context.html#acf47505d34bd4b5a9292268f9aed1faa">AVCodecContext::qcompress</a></div><div class="ttdeci">float qcompress</div><div class="ttdoc">amount of qscale change between easy &amp; hard scenes (0.0-1.0)</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01360">avcodec.h:1360</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a0b6945b70476b15a44af5a6a157e34e3"><div class="ttname"><a href="libvpxenc_8c.html#a0b6945b70476b15a44af5a6a157e34e3">MAX_DELTA_Q</a></div><div class="ttdeci">#define MAX_DELTA_Q</div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a03ad059409d58e067cdf2bdd8ac01877"><div class="ttname"><a href="struct_v_px_encoder_context.html#a03ad059409d58e067cdf2bdd8ac01877">VPxEncoderContext::have_sse</a></div><div class="ttdeci">int have_sse</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00076">libvpxenc.c:76</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a346b93aa671751477ec4361cf567e9c9"><div class="ttname"><a href="struct_a_v_frame.html#a346b93aa671751477ec4361cf567e9c9">AVFrame::error</a></div><div class="ttdeci">attribute_deprecated uint64_t error[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00443">frame.h:443</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00356">packet.h:356</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_affee7b04fc3dab3cfda7cb5705be879b"><div class="ttname"><a href="struct_frame_list_data.html#affee7b04fc3dab3cfda7cb5705be879b">FrameListData::buf_alpha</a></div><div class="ttdeci">void * buf_alpha</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00053">libvpxenc.c:53</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a0fd12851a78b80080e277db30411728d"><div class="ttname"><a href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00239">vaapi_decode.c:369</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV420P</div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00066">pixfmt.h:66</a></div></div>
<div class="ttc" id="ahwcontext__opencl_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__opencl_8c_source.html#l00168">hwcontext_opencl.c:168</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a85dfcb811dcc047aa7a2fc8e87c74dfd"><div class="ttname"><a href="struct_v_px_encoder_context.html#a85dfcb811dcc047aa7a2fc8e87c74dfd">VPxEncoderContext::auto_alt_ref</a></div><div class="ttdeci">int auto_alt_ref</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00089">libvpxenc.c:89</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac59f9714ac34774b43b3797c80b06c68"><div class="ttname"><a href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a></div><div class="ttdeci">uint8_t * av_packet_new_side_data(AVPacket *pkt, enum AVPacketSideDataType type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00332">avpacket.c:332</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aff4e6a78c0f08be43879644632e04b24"><div class="ttname"><a href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">AVCodecContext::slices</a></div><div class="ttdeci">int slices</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01177">avcodec.h:1177</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac265c70b89e87455ec05eb2978def81b"><div class="ttname"><a href="struct_a_v_codec_context.html#ac265c70b89e87455ec05eb2978def81b">AVCodecContext::rc_min_rate</a></div><div class="ttdeci">int64_t rc_min_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01411">avcodec.h:1411</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a87f502b5dc1bb0ac5b69af6a73d91c14"><div class="ttname"><a href="libvpxenc_8c.html#a87f502b5dc1bb0ac5b69af6a73d91c14">set_vpx_defaults</a></div><div class="ttdeci">static void set_vpx_defaults(AVCodecContext *avctx, struct vpx_codec_enc_cfg *enccfg)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00710">libvpxenc.c:710</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a243ee7f9f4bd1ee3ede813bfa7787e29"><div class="ttname"><a href="libvpxenc_8c.html#a243ee7f9f4bd1ee3ede813bfa7787e29">VPxContext</a></div><div class="ttdeci">struct VPxEncoderContext VPxContext</div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a2a0c10a4e380e7e9d34b84e7f99dc309"><div class="ttname"><a href="struct_v_px_encoder_context.html#a2a0c10a4e380e7e9d34b84e7f99dc309">VPxEncoderContext::sse</a></div><div class="ttdeci">uint64_t sse[4]</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00075">libvpxenc.c:75</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a481a8fe7fbb8e7806232da957bbd866e"><div class="ttname"><a href="struct_v_px_encoder_context.html#a481a8fe7fbb8e7806232da957bbd866e">VPxEncoderContext::ts_layer_flags</a></div><div class="ttdeci">int * ts_layer_flags</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00106">libvpxenc.c:106</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a794b07185a989e8a5780a6485ad44451"><div class="ttname"><a href="libvpxenc_8c.html#a794b07185a989e8a5780a6485ad44451">vpx_free</a></div><div class="ttdeci">static av_cold int vpx_free(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00358">libvpxenc.c:358</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_afaba19769e94f2e08b0153f64d32e336"><div class="ttname"><a href="cbs__av1_8c.html#afaba19769e94f2e08b0153f64d32e336">delta_q</a></div><div class="ttdeci">#define delta_q(name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00698">cbs_av1.c:698</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_a38fc80176f8f839282bb61c03392e194"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#a38fc80176f8f839282bb61c03392e194">AVDictionaryEntry::key</a></div><div class="ttdeci">char * key</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00082">dict.h:82</a></div></div>
<div class="ttc" id="aprofiles_8h_html"><div class="ttname"><a href="profiles_8h.html">profiles.h</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="alibvpx_8c_html_a572538198ee8fe43a72170c2697a75c0"><div class="ttname"><a href="libvpx_8c.html#a572538198ee8fe43a72170c2697a75c0">ff_vp9_init_static</a></div><div class="ttdeci">av_cold void ff_vp9_init_static(AVCodec *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libvpx_8c_source.html#l00068">libvpx.c:68</a></div></div>
<div class="ttc" id="apixfmt_8h_html_acd5ecf5e7d0756d170dd336ed70a7557"><div class="ttname"><a href="pixfmt_8h.html#acd5ecf5e7d0756d170dd336ed70a7557">AV_PIX_FMT_YUV440P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV440P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00401">pixfmt.h:401</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a9f17285cc70842ab252aa590b046ecf5"><div class="ttname"><a href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining list</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00025">filter_design.txt:25</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b3e5399068758bcb0e2dcd6f4f2e7e5"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b3e5399068758bcb0e2dcd6f4f2e7e5">AVCodecContext::frame_skip_threshold</a></div><div class="ttdeci">attribute_deprecated int frame_skip_threshold</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01455">avcodec.h:1455</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ac0112c09c0f8756fcebef7939d1270c0"><div class="ttname"><a href="struct_v_px_encoder_context.html#ac0112c09c0f8756fcebef7939d1270c0">VPxEncoderContext::crf</a></div><div class="ttdeci">int crf</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00099">libvpxenc.c:99</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0aea95b00154ff83c740b46376dfa06e11"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aea95b00154ff83c740b46376dfa06e11">AV_ROUND_NEAR_INF</a></div><div class="ttdeci">@ AV_ROUND_NEAR_INF</div><div class="ttdoc">Round to nearest and halfway cases away from zero.</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00084">mathematics.h:84</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html_a920910dd19158348cb35fc576929bfd1"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html#a920910dd19158348cb35fc576929bfd1">AVCPBProperties::max_bitrate</a></div><div class="ttdeci">int max_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00454">avcodec.h:454</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a078dc998911adada1724d819474cc75a"><div class="ttname"><a href="struct_v_px_encoder_context.html#a078dc998911adada1724d819474cc75a">VPxEncoderContext::coded_frame_list</a></div><div class="ttdeci">struct FrameListData * coded_frame_list</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00078">libvpxenc.c:78</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a66e08cc645d119c6383c994529f5dff4"><div class="ttname"><a href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV422P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00400">pixfmt.h:400</a></div></div>
<div class="ttc" id="astruct_a_v_pix_fmt_descriptor_html"><div class="ttname"><a href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00081">pixdesc.h:81</a></div></div>
<div class="ttc" id="agroup__lavu__base64_html_gac8837266968329642080627f3aec9ab8"><div class="ttname"><a href="group__lavu__base64.html#gac8837266968329642080627f3aec9ab8">av_base64_decode</a></div><div class="ttdeci">int av_base64_decode(uint8_t *out, const char *in_str, int out_size)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2base64_8c_source.html#l00079">base64.c:79</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a2e646719e8c81171b7452aea2304c774"><div class="ttname"><a href="struct_v_px_encoder_context.html#a2e646719e8c81171b7452aea2304c774">VPxEncoderContext::arnr_max_frames</a></div><div class="ttdeci">int arnr_max_frames</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00091">libvpxenc.c:91</a></div></div>
<div class="ttc" id="abase64_8h_html"><div class="ttname"><a href="base64_8h.html">base64.h</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_ac8d67a61fdde2fcdd4358f78109f4b7a"><div class="ttname"><a href="namespaceconvert__header.html#ac8d67a61fdde2fcdd4358f78109f4b7a">convert_header.major</a></div><div class="ttdeci">int major</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00023">convert_header.py:23</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_RANGE_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00552">pixfmt.h:552</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a91b8c50c81699c91b2098ee15eb6319c"><div class="ttname"><a href="struct_v_px_encoder_context.html#a91b8c50c81699c91b2098ee15eb6319c">VPxEncoderContext::deadline</a></div><div class="ttdeci">int deadline</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00074">libvpxenc.c:74</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html_a128a4f2eda5bfa38c6b21195f310b116"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html#a128a4f2eda5bfa38c6b21195f310b116">AVCPBProperties::avg_bitrate</a></div><div class="ttdeci">int avg_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00472">avcodec.h:472</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_aa9e0522c09aaf7176a0fb651817c873a"><div class="ttname"><a href="struct_v_px_encoder_context.html#aa9e0522c09aaf7176a0fb651817c873a">VPxEncoderContext::rawimg</a></div><div class="ttdeci">struct vpx_image rawimg</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00067">libvpxenc.c:69</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ae64fea36df60284cb1035b8ad71139f0"><div class="ttname"><a href="libvpxenc_8c.html#ae64fea36df60284cb1035b8ad71139f0">free_frame_list</a></div><div class="ttdeci">static av_cold void free_frame_list(struct FrameListData *list)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00303">libvpxenc.c:303</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html_a7a4517f685b5a1976080fe536860c86a"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html#a7a4517f685b5a1976080fe536860c86a">AVCPBProperties::buffer_size</a></div><div class="ttdeci">int buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00481">avcodec.h:481</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaadca229ad2c20e060a14fec08a5cc7ce"><div class="ttname"><a href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a></div><div class="ttdeci">AVCodecID</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00046">codec_id.h:46</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ac9af9c69844dc9e3a0a465a2c0dfbb28"><div class="ttname"><a href="libvpxenc_8c.html#ac9af9c69844dc9e3a0a465a2c0dfbb28">vp8_encode_set_roi</a></div><div class="ttdeci">static int vp8_encode_set_roi(AVCodecContext *avctx, int frame_width, int frame_height, const AVFrameSideData *sd)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01422">libvpxenc.c:1422</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01859">avcodec.h:1859</a></div></div>
<div class="ttc" id="allviddspenc_8c_html_a39de7029a33bc3271ae437de0a38c343"><div class="ttname"><a href="llviddspenc_8c.html#a39de7029a33bc3271ae437de0a38c343">planes</a></div><div class="ttdeci">static const struct @0 planes[]</div></div>
<div class="ttc" id="acpu_8c_html_af8bdb502bd3964052fc8595b0fe721a8"><div class="ttname"><a href="cpu_8c.html#af8bdb502bd3964052fc8595b0fe721a8">av_cpu_count</a></div><div class="ttdeci">int av_cpu_count(void)</div><div class="ttdef"><b>Definition:</b> <a href="cpu_8c_source.html#l00275">cpu.c:275</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a374a73a7e0be37761cd5976e447cd730"><div class="ttname"><a href="struct_v_px_encoder_context.html#a374a73a7e0be37761cd5976e447cd730">VPxEncoderContext::error_resilient</a></div><div class="ttdeci">int error_resilient</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00098">libvpxenc.c:98</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga82d40664213508918093822461cc597e"><div class="ttname"><a href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a></div><div class="ttdeci">int64_t av_rescale_rnd(int64_t a, int64_t b, int64_t c, enum AVRounding rnd)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00058">mathematics.c:58</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaec1cd58fda7b88067a3402cddc9b4b96"><div class="ttname"><a href="group__lavc__core.html#gaec1cd58fda7b88067a3402cddc9b4b96">AV_CODEC_CAP_AUTO_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_AUTO_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00118">codec.h:118</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ad5484a0dc4ff8d33ad37c30231c3fbc5"><div class="ttname"><a href="struct_v_px_encoder_context.html#ad5484a0dc4ff8d33ad37c30231c3fbc5">VPxEncoderContext::tune_content</a></div><div class="ttdeci">int tune_content</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00120">libvpxenc.c:120</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_a2e6ebd4e33fbb943be94b3a9503fed4a"><div class="ttname"><a href="struct_frame_list_data.html#a2e6ebd4e33fbb943be94b3a9503fed4a">FrameListData::sz</a></div><div class="ttdeci">size_t sz</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00049">libaomenc.c:49</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html"><div class="ttname"><a href="struct_a_v_frame_side_data.html">AVFrameSideData</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00214">frame.h:214</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a570adc38d3ba623b3c4e07a6d22abfa8"><div class="ttname"><a href="pixfmt_8h.html#a570adc38d3ba623b3c4e07a6d22abfa8">AV_PIX_FMT_YUV422P12</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV422P12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00404">pixfmt.h:404</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a1bf6eea57343c45b3d75dde77767f2d5"><div class="ttname"><a href="struct_v_px_encoder_context.html#a1bf6eea57343c45b3d75dde77767f2d5">VPxEncoderContext::vpx_ts_parameters</a></div><div class="ttdeci">AVDictionary * vpx_ts_parameters</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00105">libvpxenc.c:105</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga9665abf3720f9f460790c2c3b224c052"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga9665abf3720f9f460790c2c3b224c052">av_reallocp</a></div><div class="ttdeci">int av_reallocp(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00161">mem.c:161</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ab2e5e7bf718aadd5282ee684feb505a0"><div class="ttname"><a href="libvpxenc_8c.html#ab2e5e7bf718aadd5282ee684feb505a0">storeframe</a></div><div class="ttdeci">static int storeframe(AVCodecContext *avctx, struct FrameListData *cx_frame, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01087">libvpxenc.c:1087</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a143cd27f91e2f9f4517781dfbf5c6bc1"><div class="ttname"><a href="pixfmt_8h.html#a143cd27f91e2f9f4517781dfbf5c6bc1">AV_PIX_FMT_YUV444P12</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV444P12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00406">pixfmt.h:406</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00606">avcodec.h:606</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab7bfeb9fa5840aac090e2b0bd0ef7589"><div class="ttname"><a href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">AVCodecContext::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00649">avcodec.h:649</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a7669dadd39d30b20050176895474db25"><div class="ttname"><a href="libvpxenc_8c.html#a7669dadd39d30b20050176895474db25">vp9_encode_set_roi</a></div><div class="ttdeci">static int vp9_encode_set_roi(AVCodecContext *avctx, int frame_width, int frame_height, const AVFrameSideData *sd)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01372">libvpxenc.c:1372</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga234d986d58043b694dd518e2312b4cbe"><div class="ttname"><a href="group__lavc__core.html#ga234d986d58043b694dd518e2312b4cbe">AV_CODEC_FLAG_PASS2</a></div><div class="ttdeci">#define AV_CODEC_FLAG_PASS2</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00300">avcodec.h:300</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a64f9f90ece96c7bab4aee3deacf170e0"><div class="ttname"><a href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a></div><div class="ttdeci">#define height</div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html_a76937ad48652a5a0cc4bff65fc6c886e"><div class="ttname"><a href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">AVFrameSideData::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00216">frame.h:216</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_a4c7a521b8f1a0769c09bfa4a1fca7dab"><div class="ttname"><a href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00317">libkvazaar.c:317</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aa2b5582f1a360534310b686cc3f7c668"><div class="ttname"><a href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">AVCodecContext::rc_max_rate</a></div><div class="ttdeci">int64_t rc_max_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01404">avcodec.h:1404</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00205">log.h:205</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_ae889a7d267ab5c7bbe043818941bb192"><div class="ttname"><a href="struct_frame_list_data.html#ae889a7d267ab5c7bbe043818941bb192">FrameListData::sz_alpha</a></div><div class="ttdeci">size_t sz_alpha</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00054">libvpxenc.c:54</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ae91d3f6cbac4a4de2a6e880ac2a52d1a"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ae91d3f6cbac4a4de2a6e880ac2a52d1a">AV_OPT_TYPE_FLOAT</a></div><div class="ttdeci">@ AV_OPT_TYPE_FLOAT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00228">opt.h:228</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85aa0052721bb202c5cfb68a84d69116f69"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85aa0052721bb202c5cfb68a84d69116f69">AVCOL_SPC_SMPTE240M</a></div><div class="ttdeci">@ AVCOL_SPC_SMPTE240M</div><div class="ttdoc">functionally identical to above</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00520">pixfmt.h:520</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_afbbd9db93850ca44e2f56ebb00ce0e0c"><div class="ttname"><a href="namespaceconvert__header.html#afbbd9db93850ca44e2f56ebb00ce0e0c">convert_header.minor</a></div><div class="ttdeci">int minor</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00026">convert_header.py:26</a></div></div>
<div class="ttc" id="agroup__lavu__base64_html_gaa79f39ca3f737b662ae6711d2cbecd20"><div class="ttname"><a href="group__lavu__base64.html#gaa79f39ca3f737b662ae6711d2cbecd20">AV_BASE64_SIZE</a></div><div class="ttdeci">#define AV_BASE64_SIZE(x)</div><div class="ttdef"><b>Definition:</b> <a href="base64_8h_source.html#l00066">base64.h:66</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_a35e5ff034ac116d398345f39f32ff5d0"><div class="ttname"><a href="struct_frame_list_data.html#a35e5ff034ac116d398345f39f32ff5d0">FrameListData::buf</a></div><div class="ttdeci">void * buf</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00048">libaomenc.c:48</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_a801b877246fbfbe32c7dcb8c22cb4d26"><div class="ttname"><a href="struct_frame_list_data.html#a801b877246fbfbe32c7dcb8c22cb4d26">FrameListData::have_sse</a></div><div class="ttdeci">int have_sse</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00056">libaomenc.c:56</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a766a63c9ca065ba454f1d83161350055"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a766a63c9ca065ba454f1d83161350055">AVCOL_SPC_BT2020_NCL</a></div><div class="ttdeci">@ AVCOL_SPC_BT2020_NCL</div><div class="ttdoc">ITU-R BT2020 non-constant luminance system.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00523">pixfmt.h:523</a></div></div>
<div class="ttc" id="astruct_a_v_region_of_interest_html_ae7421571aad4d48b63e91274ba424ee0"><div class="ttname"><a href="struct_a_v_region_of_interest.html#ae7421571aad4d48b63e91274ba424ee0">AVRegionOfInterest::qoffset</a></div><div class="ttdeci">AVRational qoffset</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00275">frame.h:275</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a7de060139e9fd1ba12510b9e14e1e259"><div class="ttname"><a href="pixfmt_8h.html#a7de060139e9fd1ba12510b9e14e1e259">AV_PIX_FMT_GBRP12</a></div><div class="ttdeci">#define AV_PIX_FMT_GBRP12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00416">pixfmt.h:416</a></div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a9f186bb0cad61979e81b5b98afea4f8d"><div class="ttname"><a href="struct_v_px_encoder_context.html#a9f186bb0cad61979e81b5b98afea4f8d">VPxEncoderContext::frame_number</a></div><div class="ttdeci">uint64_t frame_number</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00077">libvpxenc.c:77</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a09f9d0cee65cb17a34e6e6d313c44b76"><div class="ttname"><a href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default value</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ac3b80f048dd08d16ef4451809aab3568"><div class="ttname"><a href="struct_v_px_encoder_context.html#ac3b80f048dd08d16ef4451809aab3568">VPxEncoderContext::lag_in_frames</a></div><div class="ttdeci">int lag_in_frames</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00097">libvpxenc.c:97</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a527a42b120b1b7c37ad521b765f1b463"><div class="ttname"><a href="struct_v_px_encoder_context.html#a527a42b120b1b7c37ad521b765f1b463">VPxEncoderContext::tile_columns</a></div><div class="ttdeci">int tile_columns</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00111">libvpxenc.c:111</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a8111716eff3b3fd95a197993d30b8ec2">AVCOL_SPC_UNSPECIFIED</a></div><div class="ttdeci">@ AVCOL_SPC_UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00515">pixfmt.h:515</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a></div><div class="ttdeci">@ AVCOL_RANGE_MPEG</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00569">pixfmt.h:569</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a99a881ee9003602b6a1d61fb5d038f8d"><div class="ttname"><a href="struct_v_px_encoder_context.html#a99a881ee9003602b6a1d61fb5d038f8d">VPxEncoderContext::rc_undershoot_pct</a></div><div class="ttdeci">int rc_undershoot_pct</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00102">libvpxenc.c:102</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_aea64991db3be4e3d5899bc1f3afd9729"><div class="ttname"><a href="struct_v_px_encoder_context.html#aea64991db3be4e3d5899bc1f3afd9729">VPxEncoderContext::rc_overshoot_pct</a></div><div class="ttdeci">int rc_overshoot_pct</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00103">libvpxenc.c:103</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a4ee62148c5519301149f75e7296e84e1"><div class="ttname"><a href="struct_a_v_codec_context.html#a4ee62148c5519301149f75e7296e84e1">AVCodecContext::stats_in</a></div><div class="ttdeci">char * stats_in</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01553">avcodec.h:1553</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_a02d9bfff681e50133a076008312b2c9f"><div class="ttname"><a href="struct_frame_list_data.html#a02d9bfff681e50133a076008312b2c9f">FrameListData::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00050">libaomenc.c:50</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a2cebccd03d671ba28617749be9fa487b"><div class="ttname"><a href="struct_v_px_encoder_context.html#a2cebccd03d671ba28617749be9fa487b">VPxEncoderContext::row_mt</a></div><div class="ttdeci">int row_mt</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00119">libvpxenc.c:119</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a4f1a2065ddb07bd4881c07c1f6b0568c"><div class="ttname"><a href="pixfmt_8h.html#a4f1a2065ddb07bd4881c07c1f6b0568c">AV_PIX_FMT_YUV420P12</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV420P12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00403">pixfmt.h:403</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a206f4b259d5f08cf60d5329fd338b343"><div class="ttname"><a href="libvpxenc_8c.html#a206f4b259d5f08cf60d5329fd338b343">queue_frames</a></div><div class="ttdeci">static int queue_frames(AVCodecContext *avctx, AVPacket *pkt_out)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01164">libvpxenc.c:1164</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html_a65e791615b2bf02ac945cf67de378f18"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html#a65e791615b2bf02ac945cf67de378f18">AVCPBProperties::min_bitrate</a></div><div class="ttdeci">int min_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00463">avcodec.h:463</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a0e48151aa81e2949bf69aaf5e3fc2cc9"><div class="ttname"><a href="libavutil_2internal_8h.html#a0e48151aa81e2949bf69aaf5e3fc2cc9">SIZE_SPECIFIER</a></div><div class="ttdeci">#define SIZE_SPECIFIER</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00229">internal.h:229</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ade6776c6db8c2e3ec8021f3c405ac3b6"><div class="ttname"><a href="struct_v_px_encoder_context.html#ade6776c6db8c2e3ec8021f3c405ac3b6">VPxEncoderContext::lossless</a></div><div class="ttdeci">int lossless</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00110">libvpxenc.c:110</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a063c049af73d425e88a137409ca56ab2"><div class="ttname"><a href="struct_v_px_encoder_context.html#a063c049af73d425e88a137409ca56ab2">VPxEncoderContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00085">libvpxenc.c:85</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ae3c93b2ed25d9d6fdd956f6590165aec"><div class="ttname"><a href="struct_v_px_encoder_context.html#ae3c93b2ed25d9d6fdd956f6590165aec">VPxEncoderContext::is_alpha</a></div><div class="ttdeci">uint8_t is_alpha</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00072">libvpxenc.c:72</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a07bac63e0199a4b789122759381cac87"><div class="ttname"><a href="libvpxenc_8c.html#a07bac63e0199a4b789122759381cac87">ctlidstr</a></div><div class="ttdeci">static const char *const ctlidstr[]</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00131">libvpxenc.c:131</a></div></div>
<div class="ttc" id="agroup__lavu__base64_html_ga67f87e333f9ff84ec19374e0ad46de13"><div class="ttname"><a href="group__lavu__base64.html#ga67f87e333f9ff84ec19374e0ad46de13">av_base64_encode</a></div><div class="ttdeci">char * av_base64_encode(char *out, int out_size, const uint8_t *in, int in_size)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2base64_8c_source.html#l00138">base64.c:138</a></div></div>
<div class="ttc" id="alibfdk-aacenc_8c_html_a3e3649a3e3978bfb8c6e13c4e91c5e6b"><div class="ttname"><a href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a></div><div class="ttdeci">static const AVProfile profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="libfdk-aacenc_8c_source.html#l00428">libfdk-aacenc.c:428</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga3f55f5bcfbb12e06c7cb1195028855e6"><div class="ttname"><a href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a></div><div class="ttdeci">#define AV_CODEC_CAP_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00075">codec.h:75</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV444P</div><div class="ttdoc">planar YUV 4:4:4, 24bpp, (1 Cr &amp; Cb sample per 1x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00071">pixfmt.h:71</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5ad000ae47faa5fbe8d4b3b375151694ef"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ad000ae47faa5fbe8d4b3b375151694ef">AV_PIX_FMT_GBRP</a></div><div class="ttdeci">@ AV_PIX_FMT_GBRP</div><div class="ttdoc">planar GBR 4:4:4 24bpp</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00168">pixfmt.h:168</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="libvpxenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01615">libvpxenc.c:1615</a></div></div>
<div class="ttc" id="alibsvtav1_8c_html_a710bce51374aba96ab04912897666c35"><div class="ttname"><a href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> <a href="libsvtav1_8c_source.html#l00079">libsvtav1.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_P</div><div class="ttdoc">Predicted.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00275">avutil.h:275</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_ad904da29c8a535ad9b40793d89b28b83"><div class="ttname"><a href="libvpxenc_8c.html#ad904da29c8a535ad9b40793d89b28b83">coded_frame_add</a></div><div class="ttdeci">static void coded_frame_add(void *list, struct FrameListData *cx_frame)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00285">libvpxenc.c:285</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV422P</div><div class="ttdoc">planar YUV 4:2:2, 16bpp, (1 Cr &amp; Cb sample per 2x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00070">pixfmt.h:70</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a56e9bf369f0782a3a0c65b9f024c7331"><div class="ttname"><a href="struct_v_px_encoder_context.html#a56e9bf369f0782a3a0c65b9f024c7331">VPxEncoderContext::vpx_cs</a></div><div class="ttdeci">int vpx_cs</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00117">libvpxenc.c:117</a></div></div>
<div class="ttc" id="apacket__internal_8h_html"><div class="ttname"><a href="packet__internal_8h.html">packet_internal.h</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a9db2d4bcbea6948c2f6abe341020145c"><div class="ttname"><a href="struct_v_px_encoder_context.html#a9db2d4bcbea6948c2f6abe341020145c">VPxEncoderContext::drop_threshold</a></div><div class="ttdeci">int drop_threshold</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00115">libvpxenc.c:115</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a72e6d25102c0504549754fcd9ac871b7"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a72e6d25102c0504549754fcd9ac871b7">AV_PKT_DATA_MATROSKA_BLOCKADDITIONAL</a></div><div class="ttdeci">@ AV_PKT_DATA_MATROSKA_BLOCKADDITIONAL</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00191">packet.h:191</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a0452833e3ab6ddd7acbf82817a7818a4"><div class="ttname"><a href="struct_a_v_frame.html#a0452833e3ab6ddd7acbf82817a7818a4">AVFrame::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00401">frame.h:401</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a743d0181576f9ef998f29252bf169237"><div class="ttname"><a href="libvpxenc_8c.html#a743d0181576f9ef998f29252bf169237">set_temporal_layer_pattern</a></div><div class="ttdeci">static void set_temporal_layer_pattern(int layering_mode, vpx_codec_enc_cfg_t *cfg, int *layer_flags, int *flag_periodicity)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00397">libvpxenc.c:397</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a2d3b40d35db67fb53f960821a8527775"><div class="ttname"><a href="struct_v_px_encoder_context.html#a2d3b40d35db67fb53f960821a8527775">VPxEncoderContext::aq_mode</a></div><div class="ttdeci">int aq_mode</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00114">libvpxenc.c:114</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_region_of_interest_html_a04201e2f63181c3007c4dfe0c7b8c815"><div class="ttname"><a href="struct_a_v_region_of_interest.html#a04201e2f63181c3007c4dfe0c7b8c815">AVRegionOfInterest::bottom</a></div><div class="ttdeci">int bottom</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00249">frame.h:249</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_aa3c22c0a7ebd3e1e13eda5db834f8b3e"><div class="ttname"><a href="libvpxenc_8c.html#aa3c22c0a7ebd3e1e13eda5db834f8b3e">set_roi_map</a></div><div class="ttdeci">static int set_roi_map(AVCodecContext *avctx, const AVFrameSideData *sd, int frame_width, int frame_height, vpx_roi_map_t *roi_map, int block_size, int segment_cnt)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01265">libvpxenc.c:1265</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_a16b778289c3c0be10deaeab8ca1073f7"><div class="ttname"><a href="struct_frame_list_data.html#a16b778289c3c0be10deaeab8ca1073f7">FrameListData::sse</a></div><div class="ttdeci">uint64_t sse[4]</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00055">libaomenc.c:55</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_a56b884d223b96757142b2d53c26e991a"><div class="ttname"><a href="struct_frame_list_data.html#a56b884d223b96757142b2d53c26e991a">FrameListData::duration</a></div><div class="ttdeci">unsigned long duration</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00052">libaomenc.c:52</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ggae01fa7e427274293aacdf2adc17076bcaf525ec92d2c5a78d44950bc3f29972aa"><div class="ttname"><a href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bcaf525ec92d2c5a78d44950bc3f29972aa">AV_FRAME_DATA_REGIONS_OF_INTEREST</a></div><div class="ttdeci">@ AV_FRAME_DATA_REGIONS_OF_INTEREST</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00181">frame.h:181</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_ab7007620bb71834f66de1be8a8632362"><div class="ttname"><a href="struct_v_px_encoder_context.html#ab7007620bb71834f66de1be8a8632362">VPxEncoderContext::twopass_stats</a></div><div class="ttdeci">struct vpx_fixed_buf twopass_stats</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00072">libvpxenc.c:73</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a></div><div class="ttdeci">@ AV_CODEC_ID_VP8</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00189">codec_id.h:189</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="aallcodecs_8c_html_aea483eb173aac324f2217b0d7f8fb8e2"><div class="ttname"><a href="allcodecs_8c.html#aea483eb173aac324f2217b0d7f8fb8e2">ff_libvpx_vp9_encoder</a></div><div class="ttdeci">AVCodec ff_libvpx_vp9_encoder</div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a255bf7100a4ba6dcb6ee5d87740a4f35"><div class="ttname"><a href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">AVCodecContext::color_range</a></div><div class="ttdeci">enum AVColorRange color_range</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1161</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="alibvpx_8h_html"><div class="ttname"><a href="libvpx_8h.html">libvpx.h</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a2da7834e2b5d36bc68e9bba6d43b330e"><div class="ttname"><a href="pixfmt_8h.html#a2da7834e2b5d36bc68e9bba6d43b330e">AV_PIX_FMT_YUV440P12</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV440P12</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00405">pixfmt.h:405</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a7244487243c18a01d651f64d2648d445"><div class="ttname"><a href="libvpxenc_8c.html#a7244487243c18a01d651f64d2648d445">free_coded_frame</a></div><div class="ttdeci">static av_cold void free_coded_frame(struct FrameListData *cx_frame)</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00295">libvpxenc.c:295</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html">AVCPBProperties</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00448">avcodec.h:448</a></div></div>
<div class="ttc" id="artpdec__vp8_8c_html_a370b83edf633fbb7ab7fd2a625c4007f"><div class="ttname"><a href="rtpdec__vp8_8c.html#a370b83edf633fbb7ab7fd2a625c4007f">vp8_init</a></div><div class="ttdeci">static av_cold int vp8_init(AVFormatContext *s, int st_index, PayloadContext *vp8)</div><div class="ttdef"><b>Definition:</b> <a href="rtpdec__vp8_8c_source.html#l00263">rtpdec_vp8.c:263</a></div></div>
<div class="ttc" id="astruct_v_px_encoder_context_html_a4b927f3b7c9551fce985a3a9bfed8ac7"><div class="ttname"><a href="struct_v_px_encoder_context.html#a4b927f3b7c9551fce985a3a9bfed8ac7">VPxEncoderContext::cpu_used</a></div><div class="ttdeci">int cpu_used</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l00080">libvpxenc.c:80</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a23e7d1012e354bbfcb62642e537d33cb"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a23e7d1012e354bbfcb62642e537d33cb">AVCOL_SPC_BT709</a></div><div class="ttdeci">@ AVCOL_SPC_BT709</div><div class="ttdoc">also ITU-R BT1361 / IEC 61966-2-4 xvYCC709 / SMPTE RP177 Annex B</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00514">pixfmt.h:514</a></div></div>
<div class="ttc" id="alibvpxenc_8c_html_a3dcf4acb9f7d9c57f43802a9a1ac4ee6"><div class="ttname"><a href="libvpxenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a></div><div class="ttdeci">#define VE</div><div class="ttdef"><b>Definition:</b> <a href="libvpxenc_8c_source.html#l01616">libvpxenc.c:1616</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_acb7a609f77fd8876c8433c3673e9f9d5"><div class="ttname"><a href="struct_a_v_codec_context.html#acb7a609f77fd8876c8433c3673e9f9d5">AVCodecContext::error</a></div><div class="ttdeci">uint64_t error[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01709">avcodec.h:1709</a></div></div>
<div class="ttc" id="aencode_8c_html_a699df1216e8d9d57959f99508e9aadf6"><div class="ttname"><a href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a></div><div class="ttdeci">int ff_alloc_packet2(AVCodecContext *avctx, AVPacket *avpkt, int64_t size, int64_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="encode_8c_source.html#l00033">encode.c:33</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="asnprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="astruct_frame_list_data_html_ad675560a3a80be0d102be9d3150fac97"><div class="ttname"><a href="struct_frame_list_data.html#ad675560a3a80be0d102be9d3150fac97">FrameListData::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="libaomenc_8c_source.html#l00054">libaomenc.c:54</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a15000607a7e2371162348bb35b0184c1"><div class="ttname"><a href="struct_a_v_codec_context.html#a15000607a7e2371162348bb35b0184c1">AVCodecContext::rc_buffer_size</a></div><div class="ttdeci">int rc_buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01389">avcodec.h:1389</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5c62b9c1528a272923ea2a4b86dea31a"><div class="ttname"><a href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">AVCodecContext::ticks_per_frame</a></div><div class="ttdeci">int ticks_per_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00658">avcodec.h:658</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7546ebfa9e9ffede316576dced7e150c"><div class="ttname"><a href="struct_a_v_codec_context.html#a7546ebfa9e9ffede316576dced7e150c">AVCodecContext::rc_initial_buffer_occupancy</a></div><div class="ttdeci">int rc_initial_buffer_occupancy</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01432">avcodec.h:1432</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8cd8caa7d40319324ce3d879a2edbd9f"><div class="ttname"><a href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">AVCodecContext::colorspace</a></div><div class="ttdeci">enum AVColorSpace colorspace</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1154</a></div></div>
<div class="ttc" id="aprofiles_8c_html_a150a997c334af870efd936e2cfefb71d"><div class="ttname"><a href="profiles_8c.html#a150a997c334af870efd936e2cfefb71d">ff_vp9_profiles</a></div><div class="ttdeci">const AVProfile ff_vp9_profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="profiles_8c_source.html#l00133">profiles.c:133</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga81bc0a84e8866ecff68e6d8a82781936"><div class="ttname"><a href="group__lavc__core.html#ga81bc0a84e8866ecff68e6d8a82781936">AV_CODEC_FLAG_PASS1</a></div><div class="ttdeci">#define AV_CODEC_FLAG_PASS1</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00296">avcodec.h:296</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
