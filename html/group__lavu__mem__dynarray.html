<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Dynamic Array</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Dynamic Array<div class="ingroups"><a class="el" href="group__lavu.html">libavutil</a> &raquo; <a class="el" href="group__lavu__mem.html">Memory Management</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Dynamic Array:</div>
<div class="dyncontent">
<div class="center"><img src="group__lavu__mem__dynarray.gif" border="0" usemap="#agroup____lavu____mem____dynarray" alt=""/></div>
<map name="group____lavu____mem____dynarray" id="agroup____lavu____mem____dynarray">
<area shape="rect" href="group__lavu__mem.html" title=" " alt="" coords="5,5,153,31"/>
<area shape="rect" title=" " alt="" coords="201,5,309,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga385b582522cedf5a88ce2cf158c396c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a> (<a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *tab_ptr, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *nb_ptr, <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *elem)</td></tr>
<tr class="separator:ga385b582522cedf5a88ce2cf158c396c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e3735b4568e78fffd7c4ea2f793996e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="attributes_8h.html#a93f17e0f0b53a66e7b5eceb3dff2918f">av_warn_unused_result</a> <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavu__mem__dynarray.html#ga5e3735b4568e78fffd7c4ea2f793996e">av_dynarray_add_nofree</a> (<a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *tab_ptr, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *nb_ptr, <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *elem)</td></tr>
<tr class="separator:ga5e3735b4568e78fffd7c4ea2f793996e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f60ff848186092d6705276a52ea0bb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavu__mem__dynarray.html#ga9f60ff848186092d6705276a52ea0bb9">av_dynarray2_add</a> (<a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> **tab_ptr, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *nb_ptr, size_t elem_size, const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *elem_data)</td></tr>
<tr class="separator:ga9f60ff848186092d6705276a52ea0bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Utilities to make an array grow when needed.</p>
<p>Sometimes, the programmer would want to have an array that can grow when needed. The libavutil dynamic array utilities fill that need.</p>
<p>libavutil supports two systems of appending elements onto a dynamically allocated array, the first one storing the pointer to the value in the array, and the second storing the value directly. In both systems, the caller is responsible for maintaining a variable containing the length of the array, as well as freeing of the array after use.</p>
<p>The first system stores pointers to values in a block of dynamically allocated memory. Since only pointers are stored, the function does not need to know the size of the type. Both <a class="el" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add()</a> and <a class="el" href="group__lavu__mem__dynarray.html#ga5e3735b4568e78fffd7c4ea2f793996e">av_dynarray_add_nofree()</a> implement this system.</p>
<div class="fragment"><div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> **<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">//&lt; an array of pointers to values</span></div>
<div class="line"><span class="keywordtype">int</span>    nb    = 0;    <span class="comment">//&lt; a variable to keep track of the length of the array</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> to_be_added  = ...;</div>
<div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> to_be_added2 = ...;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a>(&amp;<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, &amp;nb, &amp;to_be_added);</div>
<div class="line"><span class="keywordflow">if</span> (nb == 0)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a>(&amp;<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, &amp;nb, &amp;to_be_added2);</div>
<div class="line"><span class="keywordflow">if</span> (nb == 0)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Now:</span></div>
<div class="line"><span class="comment">//  nb           == 2</span></div>
<div class="line"><span class="comment">// &amp;to_be_added  == array[0]</span></div>
<div class="line"><span class="comment">// &amp;to_be_added2 == array[1]</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>);</div>
</div><!-- fragment --><p>The second system stores the value directly in a block of memory. As a result, the function has to know the size of the type. <a class="el" href="group__lavu__mem__dynarray.html#ga9f60ff848186092d6705276a52ea0bb9">av_dynarray2_add()</a> implements this mechanism.</p>
<div class="fragment"><div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">//&lt; an array of values</span></div>
<div class="line"><span class="keywordtype">int</span>   nb    = 0;    <span class="comment">//&lt; a variable to keep track of the length of the array</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> to_be_added  = ...;</div>
<div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> to_be_added2 = ...;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> *addr = <a class="code" href="group__lavu__mem__dynarray.html#ga9f60ff848186092d6705276a52ea0bb9">av_dynarray2_add</a>((<span class="keywordtype">void</span> **)&amp;<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, &amp;nb, <span class="keyword">sizeof</span>(*<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="keywordflow">if</span> (!addr)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line">memcpy(addr, &amp;to_be_added, <span class="keyword">sizeof</span>(to_be_added));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Shortcut of the above.</span></div>
<div class="line"><a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> *addr = <a class="code" href="group__lavu__mem__dynarray.html#ga9f60ff848186092d6705276a52ea0bb9">av_dynarray2_add</a>((<span class="keywordtype">void</span> **)&amp;<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>, &amp;nb, <span class="keyword">sizeof</span>(*<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>),</div>
<div class="line">                              (<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;to_be_added2);</div>
<div class="line"><span class="keywordflow">if</span> (!addr)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Now:</span></div>
<div class="line"><span class="comment">//  nb           == 2</span></div>
<div class="line"><span class="comment">//  to_be_added  == array[0]</span></div>
<div class="line"><span class="comment">//  to_be_added2 == array[1]</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a>);</div>
</div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="ga9f60ff848186092d6705276a52ea0bb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f60ff848186092d6705276a52ea0bb9">&#9670;&nbsp;</a></span>av_dynarray2_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>* av_dynarray2_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> **&#160;</td>
          <td class="paramname"><em>tab_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *&#160;</td>
          <td class="paramname"><em>nb_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elem_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>elem_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an element of size <code>elem_size</code> to a dynamic array.</p>
<p>The array is reallocated when its number of elements reaches powers of 2. Therefore, the amortized cost of adding an element is constant.</p>
<p>In case of success, the pointer to the array is updated in order to point to the new grown array, and the number pointed to by <code>nb_ptr</code> is incremented. In case of failure, the array is freed, <code>*tab_ptr</code> is set to <code>NULL</code> and <code>*nb_ptr</code> is set to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">tab_ptr</td><td>Pointer to the array to grow </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">nb_ptr</td><td>Pointer to the number of elements in the array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">elem_size</td><td>Size in bytes of an element in the array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">elem_data</td><td>Pointer to the data of the element to add. If <code>NULL</code>, the space of the newly added element is allocated but left uninitialized.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the data of the element to copy in the newly allocated space </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add()</a>, <a class="el" href="group__lavu__mem__dynarray.html#ga5e3735b4568e78fffd7c4ea2f793996e">av_dynarray_add_nofree()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mem_8c_source.html#l00324">324</a> of file <a class="el" href="mem_8c_source.html">mem.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_cgraph.gif" border="0" usemap="#agroup__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_cgraph" alt=""/></div>
<map name="group__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_cgraph" id="agroup__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,132,57"/>
<area shape="rect" href="group__lavu__mem__funcs.html#ga0cc84043ea2167ad005c86e11d0bcdba" title=" " alt="" coords="180,31,249,57"/>
<area shape="rect" href="group__lavu__mem__funcs.html#ga0c9096f498624c525aa2315b8a20c411" title=" " alt="" coords="297,5,360,32"/>
<area shape="rect" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b" title=" " alt="" coords="309,56,348,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_icgraph.gif" border="0" usemap="#agroup__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_icgraph" alt=""/></div>
<map name="group__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_icgraph" id="agroup__lavu__mem__dynarray_ga9f60ff848186092d6705276a52ea0bb9_icgraph">
<area shape="rect" title=" " alt="" coords="847,99,973,125"/>
<area shape="rect" href="vf__paletteuse_8c.html#ad5ae3c242563c483bce3b7bb97775bbc" title=" " alt="" coords="698,23,773,49"/>
<area shape="rect" href="vf__palettegen_8c.html#ad19b402efd0c3eac5663551da2229f43" title=" " alt="" coords="698,99,773,125"/>
<area shape="rect" href="ip_8c.html#a376edb6254f4253f12b07164a2be9a6c" title=" " alt="" coords="672,153,799,180"/>
<area shape="rect" href="vf__paletteuse_8c.html#a140d94b962a0614636e69089efb03b7e" title=" " alt="" coords="481,23,603,49"/>
<area shape="rect" href="vf__paletteuse_8c.html#a4d6ad32f2664df856f21b136415b2054" title=" " alt="" coords="304,15,383,41"/>
<area shape="rect" href="vf__palettegen_8c.html#a8bbecab81e6a82ef800168e12ae4126d" title=" " alt="" coords="468,73,616,100"/>
<area shape="rect" href="vf__palettegen_8c.html#adc4e63e5abb770c5789205e2750d5e1d" title=" " alt="" coords="460,124,624,151"/>
<area shape="rect" href="vf__palettegen_8c.html#a9056c701b381ba84a4cebc5eb7c9d5b9" title=" " alt="" coords="301,81,386,108"/>
<area shape="rect" href="ip_8c.html#a8523f3c889c47ec96547511142e1283c" title=" " alt="" coords="466,175,618,217"/>
<area shape="rect" href="ip_8h.html#a7730908a766c2bbbdbf12e9f638d3e77" title=" " alt="" coords="279,157,408,184"/>
<area shape="rect" href="ip_8h.html#a9e73b4b3099e146743c92e401c99162d" title=" " alt="" coords="275,208,412,235"/>
<area shape="rect" href="rtpproto_8c.html#a4c0a351ea40886cc7efd4c4483b9d6a1" title=" " alt="" coords="151,157,223,184"/>
<area shape="rect" href="udp_8c.html#a8e55996dbf8a2f253d9a791aa1542ef7" title=" " alt="" coords="148,208,227,235"/>
<area shape="rect" href="udp_8c.html#a876e2d63f86c6c756196cbb883c53f36" title=" " alt="" coords="5,208,100,235"/>
</map>
</div>

</div>
</div>
<a id="ga385b582522cedf5a88ce2cf158c396c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga385b582522cedf5a88ce2cf158c396c9">&#9670;&nbsp;</a></span>av_dynarray_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> av_dynarray_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>tab_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *&#160;</td>
          <td class="paramname"><em>nb_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add the pointer to an element to a dynamic array.</p>
<p>The array to grow is supposed to be an array of pointers to structures, and the element to add must be a pointer to an already allocated structure.</p>
<p>The array is reallocated when its size reaches powers of 2. Therefore, the amortized cost of adding an element is constant.</p>
<p>In case of success, the pointer to the array is updated in order to point to the new grown array, and the number pointed to by <code>nb_ptr</code> is incremented. In case of failure, the array is freed, <code>*tab_ptr</code> is set to <code>NULL</code> and <code>*nb_ptr</code> is set to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">tab_ptr</td><td>Pointer to the array to grow </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">nb_ptr</td><td>Pointer to the number of elements in the array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">elem</td><td>Element to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__lavu__mem__dynarray.html#ga5e3735b4568e78fffd7c4ea2f793996e">av_dynarray_add_nofree()</a>, <a class="el" href="group__lavu__mem__dynarray.html#ga9f60ff848186092d6705276a52ea0bb9">av_dynarray2_add()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mem_8c_source.html#l00310">310</a> of file <a class="el" href="mem_8c_source.html">mem.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_cgraph.gif" border="0" usemap="#agroup__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_cgraph" alt=""/></div>
<map name="group__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_cgraph" id="agroup__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,124,57"/>
<area shape="rect" href="group__lavu__mem__funcs.html#ga0cc84043ea2167ad005c86e11d0bcdba" title=" " alt="" coords="172,31,241,57"/>
<area shape="rect" href="group__lavu__mem__funcs.html#ga0c9096f498624c525aa2315b8a20c411" title=" " alt="" coords="289,5,352,32"/>
<area shape="rect" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b" title=" " alt="" coords="301,56,340,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_icgraph.gif" border="0" usemap="#agroup__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_icgraph" alt=""/></div>
<map name="group__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_icgraph" id="agroup__lavu__mem__dynarray_ga385b582522cedf5a88ce2cf158c396c9_icgraph">
<area shape="rect" title=" " alt="" coords="431,31,549,57"/>
<area shape="rect" href="movtextenc_8c.html#a0289a974bbf86f16a0aaf00974e58360" title=" " alt="" coords="200,5,383,32"/>
<area shape="rect" href="pixdesc__query_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="266,56,317,83"/>
<area shape="rect" href="movtextenc_8c.html#aacd085ccf844a43eebd928b8a3a0ed05" title=" " alt="" coords="5,5,152,32"/>
</map>
</div>

</div>
</div>
<a id="ga5e3735b4568e78fffd7c4ea2f793996e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e3735b4568e78fffd7c4ea2f793996e">&#9670;&nbsp;</a></span>av_dynarray_add_nofree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="attributes_8h.html#a93f17e0f0b53a66e7b5eceb3dff2918f">av_warn_unused_result</a> <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> av_dynarray_add_nofree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>tab_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *&#160;</td>
          <td class="paramname"><em>nb_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an element to a dynamic array.</p>
<p>Function has the same functionality as <a class="el" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add()</a>, but it doesn't free memory on fails. It returns error code instead and leave current buffer untouched.</p>
<dl class="section return"><dt>Returns</dt><dd>&gt;=0 on success, negative otherwise </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add()</a>, <a class="el" href="group__lavu__mem__dynarray.html#ga9f60ff848186092d6705276a52ea0bb9">av_dynarray2_add()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mem_8c_source.html#l00296">296</a> of file <a class="el" href="mem_8c_source.html">mem.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_cgraph.gif" border="0" usemap="#agroup__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_cgraph" alt=""/></div>
<map name="group__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_cgraph" id="agroup__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,167,32"/>
<area shape="rect" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76" title=" " alt="" coords="215,5,301,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_icgraph.gif" border="0" usemap="#agroup__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_icgraph" alt=""/></div>
<map name="group__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_icgraph" id="agroup__lavu__mem__dynarray_ga5e3735b4568e78fffd7c4ea2f793996e_icgraph">
<area shape="rect" title=" " alt="" coords="759,745,920,772"/>
<area shape="rect" href="group__lavc__core.html#ga51caad27662682e124796bbff590cab8" title=" " alt="" coords="539,88,670,115"/>
<area shape="rect" href="alsa_8h.html#a93462ee2c45b6c26ecf583f5c26a0abf" title=" " alt="" coords="529,201,680,228"/>
<area shape="rect" href="decklink__common_8h.html#ab15a26f91f4ecec4f6aeda0b98165dcd" title=" " alt="" coords="526,349,683,376"/>
<area shape="rect" href="fbdev__common_8h.html#afa5646975665b86881b62304950277ee" title=" " alt="" coords="527,543,683,569"/>
<area shape="rect" href="id3v2_8h.html#ad5631b7ce6f9a753b77bdb99a73267e7" title=" " alt="" coords="525,669,685,696"/>
<area shape="rect" href="mpegtsenc_8c.html#a6f03d3d8b1d68ff408846ec0fe48af4f" title=" " alt="" coords="535,720,675,747"/>
<area shape="rect" href="dashdec_8c.html#a489a46da2c7643101ab8528e51720973" title=" " alt="" coords="252,875,451,901"/>
<area shape="rect" href="dashdec_8c.html#af63b6ab4a538662df1434183198a6b0a" title=" " alt="" coords="499,821,711,848"/>
<area shape="rect" href="dashdec_8c.html#a3b19cf62be5d8550fde046a745c41f45" title=" " alt="" coords="500,872,709,899"/>
<area shape="rect" href="pulse__audio__common_8c.html#a37e9f80de9c380f24acd90c2325f2e2b" title=" " alt="" coords="535,923,674,965"/>
<area shape="rect" href="tee_8c.html#aebd15094b35445e06fbf83683a7b5f52" title=" " alt="" coords="545,989,665,1016"/>
<area shape="rect" href="v4l2_8c.html#a4c99870aff0d26a7f09f2dd4819b06c8" title=" " alt="" coords="537,1040,673,1067"/>
<area shape="rect" href="bsf_8c.html#a44e5e6c7c96fff174ef7b7a65d24a57f" title=" " alt="" coords="271,56,432,83"/>
<area shape="rect" href="group__lavc__core.html#gaf9085d5cf405b89e2129dc6b2ef54aeb" title=" " alt="" coords="35,5,174,32"/>
<area shape="rect" href="bsf_8c.html#add284ad43c01794a4803c2f6e19f0545" title=" " alt="" coords="45,56,164,83"/>
<area shape="rect" href="alsa__dec_8c.html#abf7b465fa67e2bd03eadafb1e8507b5d" title=" " alt="" coords="279,135,424,161"/>
<area shape="rect" href="decklink__common_8h.html#a5384e63f242fea7f5f872dc4ad941b72" title=" " alt="" coords="273,186,430,227"/>
<area shape="rect" href="decklink__dec_8h.html#ad037a0ff14f1b40bda8d19e33e121066" title=" " alt="" coords="280,309,423,350"/>
<area shape="rect" href="decklink__enc_8h.html#ad12aa582f21aab6199616c7785abacc2" title=" " alt="" coords="276,374,427,415"/>
<area shape="rect" href="decklink__dec_8h.html#a83a03cd1359e8f8b75bd569ecb0bda8e" title=" " alt="" coords="24,107,185,133"/>
<area shape="rect" href="decklink__enc_8h.html#a0127c6cba9260bd1e96ea41e0b89aa69" title=" " alt="" coords="23,157,186,184"/>
<area shape="rect" href="fbdev__dec_8c.html#ac38df69244ba6f4568a00781b931f9c7" title=" " alt="" coords="280,469,423,496"/>
<area shape="rect" href="aiffdec_8c.html#a3762faffe69e947f465993434019d104" title=" " alt="" coords="293,520,409,547"/>
<area shape="rect" href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201" title=" " alt="" coords="281,571,421,597"/>
<area shape="rect" href="asfdec__f_8c.html#a0f9950e4b10b332081468904b210b970" title=" " alt="" coords="307,621,396,648"/>
<area shape="rect" href="omadec_8c.html#a8c952fde6808b4729b1e4ffb05df046e" title=" " alt="" coords="289,672,414,699"/>
<area shape="rect" href="libavformat_2iff_8c.html#ae9b5049355ecf4fa015b9dc4ba8806a8" title=" " alt="" coords="294,723,409,749"/>
<area shape="rect" href="dsfdec_8c.html#ad216aec6c39702dc2c874d3b15276dd7" title=" " alt="" coords="316,773,387,800"/>
<area shape="rect" href="lavfutils_8h.html#a3dbee75137ecb978711b412c494589c4" title=" " alt="" coords="54,208,155,235"/>
<area shape="rect" href="rtpdec__formats_8h.html#ac68d0b6c8ba06934011ca0ffdb60a7d0" title=" " alt="" coords="19,259,190,285"/>
<area shape="rect" href="ismindex_8c.html#aab73174f1afc68d574ecf2c10a048395" title=" " alt="" coords="63,309,146,336"/>
<area shape="rect" href="hls_8c.html#a2bafa10a801293ba511a6ddf438a842b" title=" " alt="" coords="46,360,163,387"/>
<area shape="rect" href="target__dem__fuzzer_8c.html#a91ce7c16e9840492202299da2b451e60" title=" " alt="" coords="18,411,191,437"/>
<area shape="rect" href="avio__reading_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="79,461,130,488"/>
<area shape="rect" href="src__movie_8c.html#a24d3708628e6bae48dfbb80483f94425" title=" " alt="" coords="37,512,173,539"/>
<area shape="rect" href="api-codec-param-test_8c.html#ac52cc3446c88ac142c35303cf97910b5" title=" " alt="" coords="28,563,181,605"/>
<area shape="rect" href="concatdec_8c.html#ad5f7a47742d785a465d9429133b2e8a6" title=" " alt="" coords="68,629,141,656"/>
<area shape="rect" href="filtering__audio_8c.html#abd04bf1a933d4d2698482f4949c61fed" title=" " alt="" coords="51,680,159,707"/>
<area shape="rect" href="rdt_8c.html#ad6a007a40f23b2eb13d8f13b4af0b5b0" title=" " alt="" coords="74,731,135,757"/>
<area shape="rect" href="avidec_8c.html#ae50c492c9a83b397ac3d20368a7ef9cd" title=" " alt="" coords="49,781,160,808"/>
<area shape="rect" href="ffplay_8c.html#af98aa71e5ca6bab13a4b5659518acd71" title=" " alt="" coords="59,832,150,859"/>
<area shape="rect" href="dashdec_8c.html#a6bf595d4ae534fa836194668e1595885" title=" " alt="" coords="5,883,204,909"/>
<area shape="rect" href="sapdec_8c.html#a6f0039677753c05d7190e4382ea3f316" title=" " alt="" coords="44,933,165,960"/>
<area shape="rect" href="api-seek-test_8c.html#a88e45da3c6787ab9637c8d12b0bfc4f3" title=" " alt="" coords="65,984,144,1011"/>
<area shape="rect" href="api-band-test_8c.html#a1e2013308d8d600d6734b97a9024f615" title=" " alt="" coords="55,1035,155,1061"/>
<area shape="rect" href="mpegtsenc_8c.html#ac5c7c9f8de9ec71207df80f97257a0ce" title=" " alt="" coords="307,824,396,851"/>
<area shape="rect" href="dashdec_8c.html#af4e49b742d27bfc2502237b5d136538e" title=" " alt="" coords="7,1085,202,1112"/>
<area shape="rect" href="pulse__audio__common_8c.html#a22cdf2e1b5a44d7c133f4b6d603e9cd0" title=" " alt="" coords="258,929,445,956"/>
<area shape="rect" href="pulse__audio__common_8c.html#a0cb25793181d6fd182c8fb456d65333d" title=" " alt="" coords="283,981,420,1022"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="agroup__lavu__mem__dynarray_html_ga9f60ff848186092d6705276a52ea0bb9"><div class="ttname"><a href="group__lavu__mem__dynarray.html#ga9f60ff848186092d6705276a52ea0bb9">av_dynarray2_add</a></div><div class="ttdeci">void * av_dynarray2_add(void **tab_ptr, int *nb_ptr, size_t elem_size, const uint8_t *elem_data)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00324">mem.c:324</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="agroup__lavu__mem__dynarray_html_ga385b582522cedf5a88ce2cf158c396c9"><div class="ttname"><a href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a></div><div class="ttdeci">void av_dynarray_add(void *tab_ptr, int *nb_ptr, void *elem)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00310">mem.c:310</a></div></div>
<div class="ttc" id="atests_2jpeg2000dwt_8c_html_a92262252b3b4be7fb3a1c7958adb3deb"><div class="ttname"><a href="tests_2jpeg2000dwt_8c.html#a92262252b3b4be7fb3a1c7958adb3deb">array</a></div><div class="ttdeci">static int array[MAX_W *MAX_W]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2jpeg2000dwt_8c_source.html#l00106">jpeg2000dwt.c:106</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
