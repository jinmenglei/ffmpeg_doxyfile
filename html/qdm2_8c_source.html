<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/qdm2.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qdm2.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qdm2_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * QDM2 compatible decoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2003 Ewald Snel</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2005 Benjamin Larsson</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (c) 2005 Alex Beregszaszi</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (c) 2005 Roberto Togni</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="channel__layout_8h.html">libavutil/channel_layout.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ab9ef831966fb2c5f522c19e809354830">   40</a></span>&#160;<span class="preprocessor">#define BITSTREAM_READER_LE</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="get__bits_8h.html">get_bits.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegaudio_8h.html">mpegaudio.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegaudiodsp_8h.html">mpegaudiodsp.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rdft_8h.html">rdft.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qdm2__tablegen_8h.html">qdm2_tablegen.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a3b03a248d1eec255c3c008c6ebfe36c7">   51</a></span>&#160;<span class="preprocessor">#define QDM2_LIST_ADD(list, size, packet) \</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">do { \</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">      if (size &gt; 0) { \</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">    list[size - 1].next = &amp;list[size]; \</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">      } \</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">      list[size].packet = packet; \</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">      list[size].next = NULL; \</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">      size++; \</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">} while(0)</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// Result is 8, 16 or 30</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">   62</a></span>&#160;<span class="preprocessor">#define QDM2_SB_USED(sub_sampling) (((sub_sampling) &gt;= 2) ? 30 : 8 &lt;&lt; (sub_sampling))</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a6e20eb799f75d721bb8a69225b379d35">   64</a></span>&#160;<span class="preprocessor">#define FIX_NOISE_IDX(noise_idx) \</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">  if ((noise_idx) &gt;= 3840) \</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">    (noise_idx) -= 3840; \</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">   68</a></span>&#160;<span class="preprocessor">#define SB_DITHERING_NOISE(sb,noise_idx) (noise_table[(noise_idx)++] * sb_noise_attenuation[(sb)])</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aa16b7a9b143d103a93a823f9eea02512">   70</a></span>&#160;<span class="preprocessor">#define SAMPLES_NEEDED \</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">     av_log (NULL,AV_LOG_INFO,&quot;This file triggers some untested code. Please contact the developers.\n&quot;);</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a38414be14d86eca669f5cd96688502dc">   73</a></span>&#160;<span class="preprocessor">#define SAMPLES_NEEDED_2(why) \</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">     av_log (NULL,AV_LOG_INFO,&quot;This file triggers some missing code. Please contact the developers.\nPosition: %s\n&quot;,why);</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a7f39229de8c9f1af0dcc033115ca1114">   76</a></span>&#160;<span class="preprocessor">#define QDM2_MAX_FRAME_SIZE 512</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a92c6bdb341c4494819a405cc651d316c">   78</a></span>&#160;<span class="keyword">typedef</span> int8_t <a class="code" href="qdm2_8c.html#a92c6bdb341c4494819a405cc651d316c">sb_int8_array</a>[2][30][64];</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_q_d_m2_sub_packet.html">   83</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_q_d_m2_sub_packet.html">QDM2SubPacket</a> {</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">   84</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a>;            </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">   85</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a>;   </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">   86</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a>; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a6b6d532a637bb5265e00e6d2bc55e333">   87</a></span>&#160;} <a class="code" href="qdm2_8c.html#a6b6d532a637bb5265e00e6d2bc55e333">QDM2SubPacket</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_q_d_m2_sub_p_node.html">   92</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> {</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">   93</a></span>&#160;    <a class="code" href="struct_q_d_m2_sub_packet.html">QDM2SubPacket</a> *<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>;      </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="struct_q_d_m2_sub_p_node.html#aea157309eeae14e15db8b05dc04daf72">   94</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *<a class="code" href="struct_q_d_m2_sub_p_node.html#aea157309eeae14e15db8b05dc04daf72">next</a>; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a23ed8f7824bf37dc666c9e04a8bc805b">   95</a></span>&#160;} <a class="code" href="qdm2_8c.html#a23ed8f7824bf37dc666c9e04a8bc805b">QDM2SubPNode</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="struct_q_d_m2_complex.html">   97</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_q_d_m2_complex.html">QDM2Complex</a> {</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="struct_q_d_m2_complex.html#a8dc4bd68f458a692f2a2f22968e132c2">   98</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_q_d_m2_complex.html#a8dc4bd68f458a692f2a2f22968e132c2">re</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="struct_q_d_m2_complex.html#a4a400cd0af940a53c5d51712bd8de566">   99</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_q_d_m2_complex.html#a4a400cd0af940a53c5d51712bd8de566">im</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a0f17c4b4db3dc1372d2ceeebc671f397">  100</a></span>&#160;} <a class="code" href="qdm2_8c.html#a0f17c4b4db3dc1372d2ceeebc671f397">QDM2Complex</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html">  102</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_f_f_t_tone.html">FFTTone</a> {</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#a7f75fcec7c3cee6ac5fa152807159d4f">  103</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_f_f_t_tone.html#a7f75fcec7c3cee6ac5fa152807159d4f">level</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">  104</a></span>&#160;    <a class="code" href="struct_q_d_m2_complex.html">QDM2Complex</a> *<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">  105</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#a296eabae84574a7e453b61f8ff70e00f">  106</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_f_f_t_tone.html#a296eabae84574a7e453b61f8ff70e00f">phase</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#a8b06d9656d1ff29394887c25f6d5f120">  107</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_f_f_t_tone.html#a8b06d9656d1ff29394887c25f6d5f120">phase_shift</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#a1f0543f447ccfdfd0b146623f3520a18">  108</a></span>&#160;    <span class="keywordtype">int</span>   <a class="code" href="struct_f_f_t_tone.html#a1f0543f447ccfdfd0b146623f3520a18">duration</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#aa3ff9c79e3c901c52705c50f853584c5">  109</a></span>&#160;    <span class="keywordtype">short</span> <a class="code" href="struct_f_f_t_tone.html#aa3ff9c79e3c901c52705c50f853584c5">time_index</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">  110</a></span>&#160;    <span class="keywordtype">short</span> <a class="code" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">cutoff</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ad1ee5ad97653f182f271692379f74045">  111</a></span>&#160;} <a class="code" href="qdm2_8c.html#ad1ee5ad97653f182f271692379f74045">FFTTone</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_f_f_t_coefficient.html">  113</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_f_f_t_coefficient.html">FFTCoefficient</a> {</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_f_f_t_coefficient.html#ab17cac2a893b9308c3a7cf72862fa27b">  114</a></span>&#160;    int16_t <a class="code" href="struct_f_f_t_coefficient.html#ab17cac2a893b9308c3a7cf72862fa27b">sub_packet</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_f_f_t_coefficient.html#a4fd01244743101d382096a6bd5e17ea4">  115</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_f_f_t_coefficient.html#a4fd01244743101d382096a6bd5e17ea4">channel</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">  116</a></span>&#160;    int16_t <a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">  117</a></span>&#160;    int16_t <a class="code" href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">exp</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_f_f_t_coefficient.html#a6717b505a715e39ddb5f3e558039674d">  118</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_f_f_t_coefficient.html#a6717b505a715e39ddb5f3e558039674d">phase</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aa1141edcec99ed02fdbc24f4fa4fd9cb">  119</a></span>&#160;} <a class="code" href="qdm2_8c.html#aa1141edcec99ed02fdbc24f4fa4fd9cb">FFTCoefficient</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_q_d_m2_f_f_t.html">  121</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_q_d_m2_f_f_t.html">QDM2FFT</a> {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="group__lavu__mem__macros.html#ga7a422611f83afb33d6e0da44184b548e">DECLARE_ALIGNED</a>(32, <a class="code" href="struct_q_d_m2_complex.html">QDM2Complex</a>, complex)[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][256];</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aace8d944b80dc5a0a2cb814dc2ab9664">  123</a></span>&#160;} <a class="code" href="qdm2_8c.html#aace8d944b80dc5a0a2cb814dc2ab9664">QDM2FFT</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html">  128</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> {</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">  130</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>;         </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">  131</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>;            </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#afbf3be5cc6018591a30fca69a42f6417">  132</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#afbf3be5cc6018591a30fca69a42f6417">group_size</a>;          </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a3c1e598a401d01ba079f4e85a83df7b0">  133</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a3c1e598a401d01ba079f4e85a83df7b0">fft_size</a>;            </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#af28829658e9d473c1aec8da9ac0eb7db">  134</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#af28829658e9d473c1aec8da9ac0eb7db">checksum_size</a>;       </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a85fbd83cebd6a9ee2c5b252ee60cf251">  137</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a85fbd83cebd6a9ee2c5b252ee60cf251">group_order</a>;         </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a7fe699b8dcd859ce061dabffa6c28894">  138</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a7fe699b8dcd859ce061dabffa6c28894">fft_order</a>;           </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a9a6646af08319f51c783ac30353c1d45">  139</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a9a6646af08319f51c783ac30353c1d45">frame_size</a>;          </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a726b04b2382bc1fd7b73899aa80ad74c">  140</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a726b04b2382bc1fd7b73899aa80ad74c">frequency_range</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">  141</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>;        </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">  142</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#aed9ae13b7722c11850ff721b9fdba826">  143</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#aed9ae13b7722c11850ff721b9fdba826">cm_table_select</a>;     </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#aea9f49dbab8cbf3ce139b5391ffc6226">  146</a></span>&#160;    <a class="code" href="struct_q_d_m2_sub_packet.html">QDM2SubPacket</a> <a class="code" href="struct_q_d_m2_context.html#aea9f49dbab8cbf3ce139b5391ffc6226">sub_packets</a>[16];      </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">  147</a></span>&#160;    <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> <a class="code" href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">sub_packet_list_A</a>[16]; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">  148</a></span>&#160;    <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> <a class="code" href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">sub_packet_list_B</a>[16]; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a7c3dd26059de9d76b7b84b1eff635b5b">  149</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a7c3dd26059de9d76b7b84b1eff635b5b">sub_packets_B</a>;                  </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#ada73dbdcc2ddcdf39a905a8aa1d08fb5">  150</a></span>&#160;    <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> <a class="code" href="struct_q_d_m2_context.html#ada73dbdcc2ddcdf39a905a8aa1d08fb5">sub_packet_list_C</a>[16]; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#ad842935ca020017503edc15c5476887f">  151</a></span>&#160;    <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> <a class="code" href="struct_q_d_m2_context.html#ad842935ca020017503edc15c5476887f">sub_packet_list_D</a>[16]; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a17ac1ebfde0d9fcb3c153cde4ce1ab4f">  154</a></span>&#160;    <a class="code" href="struct_f_f_t_tone.html">FFTTone</a> <a class="code" href="struct_q_d_m2_context.html#a17ac1ebfde0d9fcb3c153cde4ce1ab4f">fft_tones</a>[1000];</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a5b68a6d1fc193d4026bf95d903534858">  155</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a5b68a6d1fc193d4026bf95d903534858">fft_tone_start</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a28dd236241dbf7b0a6d716c56e4adba1">  156</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a28dd236241dbf7b0a6d716c56e4adba1">fft_tone_end</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">  157</a></span>&#160;    <a class="code" href="struct_f_f_t_coefficient.html">FFTCoefficient</a> <a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[1000];</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">  158</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">  159</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[5];</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#acd26edf1eacfcfa65cadcd0796708e8b">  160</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#acd26edf1eacfcfa65cadcd0796708e8b">fft_coefs_max_index</a>[5];</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">  161</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">fft_level_exp</a>[6];</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#aaf2ca39dbab9371517ca5caf4af29fec">  162</a></span>&#160;    <a class="code" href="struct_r_d_f_t_context.html">RDFTContext</a> <a class="code" href="struct_q_d_m2_context.html#aaf2ca39dbab9371517ca5caf4af29fec">rdft_ctx</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">  163</a></span>&#160;    <a class="code" href="struct_q_d_m2_f_f_t.html">QDM2FFT</a> <a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a67d9ac5e38634ac0b3e856e64bc796bf">  166</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_q_d_m2_context.html#a67d9ac5e38634ac0b3e856e64bc796bf">compressed_data</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a9ead1112aeb6ae138fe53448b2ca3b56">  167</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_q_d_m2_context.html#a9ead1112aeb6ae138fe53448b2ca3b56">compressed_size</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">  168</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a>[<a class="code" href="qdm2_8c.html#a7f39229de8c9f1af0dcc033115ca1114">QDM2_MAX_FRAME_SIZE</a> * <a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a> * 2];</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="struct_q_d_m2_context.html#a5e3ab337172dc4cb74ceab5667543988">  171</a></span>&#160;    <a class="code" href="struct_m_p_a_d_s_p_context.html">MPADSPContext</a> <a class="code" href="struct_q_d_m2_context.html#a5e3ab337172dc4cb74ceab5667543988">mpadsp</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="group__lavu__mem__macros.html#ga7a422611f83afb33d6e0da44184b548e">DECLARE_ALIGNED</a>(32, <span class="keywordtype">float</span>, synth_buf)[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][512*2];</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> synth_buf_offset[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>];</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="group__lavu__mem__macros.html#ga7a422611f83afb33d6e0da44184b548e">DECLARE_ALIGNED</a>(32, <span class="keywordtype">float</span>, sb_samples)[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][128][<a class="code" href="mpegaudio_8h.html#aae2d5a401c55c6b2b834c99340911fdb">SBLIMIT</a>];</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="group__lavu__mem__macros.html#ga7a422611f83afb33d6e0da44184b548e">DECLARE_ALIGNED</a>(32, <span class="keywordtype">float</span>, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>)[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a> * <a class="code" href="mpegaudio_8h.html#a1bf5ddc0eefac5e06a435929edd28baf">MPA_FRAME_SIZE</a>];</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">float</span> tone_level[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][30][64];</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    int8_t coding_method[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][30][64];</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    int8_t quantized_coeffs[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][10][8];</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    int8_t tone_level_idx_base[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][30][8];</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    int8_t tone_level_idx_hi1[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][3][8][8];</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    int8_t tone_level_idx_mid[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][26][8];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    int8_t tone_level_idx_hi2[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][26];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    int8_t tone_level_idx[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][30][64];</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    int8_t tone_level_idx_temp[<a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>][30][64];</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// Flags</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordtype">int</span> has_errors;         </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">int</span> superblocktype_2_3; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">int</span> do_synth_filter;    </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">int</span> sub_packet;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">int</span> noise_idx; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ac41f531f89e80a81fe41d40b2c7230c8">  195</a></span>&#160;} <a class="code" href="qdm2_8c.html#ac41f531f89e80a81fe41d40b2c7230c8">QDM2Context</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a8d4df0c102943f44965af3f661410fde">  197</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a8d4df0c102943f44965af3f661410fde">switchtable</a>[23] = {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    0, 5, 1, 5, 5, 5, 5, 5, 2, 5, 5, 5, 5, 5, 5, 5, 3, 5, 5, 5, 5, 5, 4</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;};</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">  201</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keyword">const</span> <a class="code" href="struct_v_l_c.html">VLC</a> *vlc, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>, <span class="keywordtype">int</span> depth)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, vlc-&gt;<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, vlc-&gt;<a class="code" href="struct_v_l_c.html#ac36d06bc414af86fbe35c9efb6170fc5">bits</a>, depth);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">/* stage-2, 3 bits exponent escape sequence */</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>-- == 0)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3) + 1);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">/* stage-3, optional */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordtype">int</span> tmp;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt;= 60) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;value %d in qdm2_get_vlc too large\n&quot;</span>, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        tmp= <a class="code" href="qdm2data_8h.html#a3b23ed67dcbbfe5d6225f2b49b0108c9">vlc_stage3_values</a>[<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>];</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &amp; ~3) &gt; 0)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            tmp += <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt;&gt; 2));</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = tmp;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a9efadec814f92c2ff7b912b484f23757">  230</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a9efadec814f92c2ff7b912b484f23757">qdm2_get_se_vlc</a>(<span class="keyword">const</span> <a class="code" href="struct_v_l_c.html">VLC</a> *vlc, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> depth)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, vlc, 0, depth);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &amp; 1) ? ((<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> + 1) &gt;&gt; 1) : -(<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt;&gt; 1);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a27dcdeb6dddb7422b8fa2200aec0ae16">  246</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="qdm2_8c.html#a27dcdeb6dddb7422b8fa2200aec0ae16">qdm2_packet_checksum</a>(<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; length; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> -= <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> (uint16_t)(<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &amp; 0xffff);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ab37e676435d712cbe961c450a49e5004">  262</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#ab37e676435d712cbe961c450a49e5004">qdm2_decode_sub_packet_header</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                          <a class="code" href="struct_q_d_m2_sub_packet.html">QDM2SubPacket</a> *sub_packet)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> == 0) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> = 0;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &amp; 0x80) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> &lt;&lt;= 8;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a>  |= <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a>  &amp;= 0x7f;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span> (sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> == 0x7f)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> |= (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) &lt;&lt; 8);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">// FIXME: this depends on bitreader-internal data</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a> = &amp;gb-&gt;<a class="code" href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">buffer</a>[<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) / 8];</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Subpacket: type=%d size=%d start_offs=%x\n&quot;</span>,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;           sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a>, sub_packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a>, <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) / 8);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="qdm2_8c.html#af691bc9c5993853161ab377371838109">  297</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *<a class="code" href="qdm2_8c.html#af691bc9c5993853161ab377371838109">qdm2_search_subpacket_type_in_list</a>(<a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                                        <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;{</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a> &amp;&amp; <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>-&gt;packet) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>-&gt;packet-&gt;type == <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a> = <a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>-&gt;next;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a65028eeb865203abb4ebbb8e7a4388a8">  314</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a65028eeb865203abb4ebbb8e7a4388a8">average_quantized_coeffs</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, n, ch, sum;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    n = <a class="code" href="qdm2data_8h.html#ab5c5576b00bea8e0a5ed029083265afa">coeff_per_sb_for_avg</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>][<a class="code" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>) - 1] + 1;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            sum = 0;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                sum += q-&gt;quantized_coeffs[ch][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j];</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            sum /= 8;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (sum &gt; 0)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                sum--;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                q-&gt;quantized_coeffs[ch][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = sum;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ab449cb62808aa2c799e77b2380c79d1e">  343</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#ab449cb62808aa2c799e77b2380c79d1e">build_sb_samples_from_noise</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keywordtype">int</span> sb)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordtype">int</span> ch, j;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="qdm2_8c.html#a6e20eb799f75d721bb8a69225b379d35">FIX_NOISE_IDX</a>(q-&gt;noise_idx);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 64; j++) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            q-&gt;sb_samples[ch][j * 2][sb] =</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb, q-&gt;noise_idx) * q-&gt;tone_level[ch][sb][j];</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            q-&gt;sb_samples[ch][j * 2 + 1][sb] =</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb, q-&gt;noise_idx) * q-&gt;tone_level[ch][sb][j];</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a2cd116c3eecf8233268383c19c54b0cc">  370</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a2cd116c3eecf8233268383c19c54b0cc">fix_coding_method_array</a>(<span class="keywordtype">int</span> sb, <span class="keywordtype">int</span> <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                   <a class="code" href="qdm2_8c.html#a92c6bdb341c4494819a405cc651d316c">sb_int8_array</a> coding_method)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordtype">int</span> j, k;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">int</span> ch;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, case_val;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>; ch++) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 64; ) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> (coding_method[ch][sb][j] &lt; 8)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">if</span> ((coding_method[ch][sb][j] - 8) &gt; 22) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>      = 1;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                case_val = 8;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="qdm2_8c.html#a8d4df0c102943f44965af3f661410fde">switchtable</a>[coding_method[ch][sb][j] - 8]) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <span class="keywordflow">case</span> 0: <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>  = 10;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    case_val = 10;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">case</span> 1: <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>  = 1;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    case_val = 16;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordflow">case</span> 2: <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>  = 5;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    case_val = 24;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">case</span> 3: <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>  = 3;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    case_val = 30;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">case</span> 4: <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>  = 1;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    case_val = 30;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keywordflow">case</span> 5: <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>  = 1;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    case_val = 8;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">default</span>: <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 1;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    case_val = 8;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>; k++) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <span class="keywordflow">if</span> (j + k &lt; 128) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    <span class="keywordtype">int</span> sbjk = sb + (j + k) / 64;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    <span class="keywordflow">if</span> (sbjk &gt; 29) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        <a class="code" href="qdm2_8c.html#aa16b7a9b143d103a93a823f9eea02512">SAMPLES_NEEDED</a></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    <span class="keywordflow">if</span> (coding_method[ch][sbjk][(j + k) % 64] &gt; coding_method[ch][sb][j]) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        <span class="keywordflow">if</span> (k &gt; 0) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                            <a class="code" href="qdm2_8c.html#aa16b7a9b143d103a93a823f9eea02512">SAMPLES_NEEDED</a></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                            <span class="comment">//not debugged, almost never used</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                            memset(&amp;coding_method[ch][sb][j + k], case_val,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                   k *<span class="keyword">sizeof</span>(int8_t));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                            memset(&amp;coding_method[ch][sb][j + k], case_val,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                   3 * <span class="keyword">sizeof</span>(int8_t));</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            j += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a99de6a39a48861e48be979ae0f1036bc">  441</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a99de6a39a48861e48be979ae0f1036bc">fill_tone_level_array</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, sb, ch, sb_used;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordtype">int</span> tmp, <a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; 30; sb++)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>=<a class="code" href="qdm2data_8h.html#ab39ea45ebcd6c71fdd03d9ca1cf5774b">coeff_per_sb_for_dequant</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>][sb]) &lt; (<a class="code" href="qdm2data_8h.html#af1278e6360466160dbbf24f3f6405154">last_coeff</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>] - 1))</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    tmp = q-&gt;quantized_coeffs[ch][<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a> + 1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="libavcodec_24xm_8c.html#a4961eb02c0214fa72c43b2b2843488dc">dequant_table</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>][<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a> + 1][sb]+</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                          q-&gt;quantized_coeffs[ch][<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="libavcodec_24xm_8c.html#a4961eb02c0214fa72c43b2b2843488dc">dequant_table</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>][<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>][sb];</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    tmp = q-&gt;quantized_coeffs[ch][<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="libavcodec_24xm_8c.html#a4961eb02c0214fa72c43b2b2843488dc">dequant_table</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>][<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>][sb];</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="keywordflow">if</span>(tmp &lt; 0)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    tmp += 0xff;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                q-&gt;tone_level_idx_base[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (tmp / 256) &amp; 0xff;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    sb_used = <a class="code" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> ((q-&gt;superblocktype_2_3 != 0) &amp;&amp; !<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; sb_used; sb++)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    q-&gt;tone_level_idx[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = q-&gt;tone_level_idx_base[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8];</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    <span class="keywordflow">if</span> (q-&gt;tone_level_idx[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; 0)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                        q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="qdm2data_8h.html#af7a765acebf8d75d720c1623224194c6">fft_tone_level_table</a>[0][q-&gt;tone_level_idx[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp; 0x3f];</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a> = q-&gt;superblocktype_2_3 ? 0 : 1;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; sb_used; sb++) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">if</span> ((sb &gt;= 4) &amp;&amp; (sb &lt;= 23)) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        tmp = q-&gt;tone_level_idx_base[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8] -</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                              q-&gt;tone_level_idx_hi1[ch][sb / 8][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> % 8] -</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                              q-&gt;tone_level_idx_mid[ch][sb - 4][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8] -</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                              q-&gt;tone_level_idx_hi2[ch][sb - 4];</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        q-&gt;tone_level_idx[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tmp &amp; 0xff;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        <span class="keywordflow">if</span> ((tmp &lt; 0) || (!q-&gt;superblocktype_2_3 &amp;&amp; !tmp))</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                            q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                            q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="qdm2data_8h.html#af7a765acebf8d75d720c1623224194c6">fft_tone_level_table</a>[<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>][tmp &amp; 0x3f];</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keywordflow">if</span> (sb &gt; 4) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                            tmp = q-&gt;tone_level_idx_base[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8] -</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                  q-&gt;tone_level_idx_hi1[ch][2][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> % 8] -</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                  q-&gt;tone_level_idx_hi2[ch][sb - 4];</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                            q-&gt;tone_level_idx[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tmp &amp; 0xff;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                            <span class="keywordflow">if</span> ((tmp &lt; 0) || (!q-&gt;superblocktype_2_3 &amp;&amp; !tmp))</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                                q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="qdm2data_8h.html#af7a765acebf8d75d720c1623224194c6">fft_tone_level_table</a>[<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>][tmp &amp; 0x3f];</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                            tmp = q-&gt;tone_level_idx[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = q-&gt;tone_level_idx_base[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8];</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                            <span class="keywordflow">if</span> ((tmp &lt; 0) || (!q-&gt;superblocktype_2_3 &amp;&amp; !tmp))</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                q-&gt;tone_level[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="qdm2data_8h.html#af7a765acebf8d75d720c1623224194c6">fft_tone_level_table</a>[<a class="code" href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a>][tmp &amp; 0x3f];</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                        }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ac713acaf3fa34e50133b6988d7c8cff5">  530</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#ac713acaf3fa34e50133b6988d7c8cff5">fill_coding_method_array</a>(<a class="code" href="qdm2_8c.html#a92c6bdb341c4494819a405cc651d316c">sb_int8_array</a> tone_level_idx,</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                     <a class="code" href="qdm2_8c.html#a92c6bdb341c4494819a405cc651d316c">sb_int8_array</a> tone_level_idx_temp,</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                                     <a class="code" href="qdm2_8c.html#a92c6bdb341c4494819a405cc651d316c">sb_int8_array</a> coding_method,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                     <span class="keywordtype">int</span> <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                     <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keywordtype">int</span> superblocktype_2_3,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                     <span class="keywordtype">int</span> cm_table_select)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">int</span> ch, sb, j;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordtype">int</span> tmp, <a class="code" href="yuv2rgb_8c.html#af4737dfbbc138ccc0868064f253cbcc8">acc</a>, esp_40, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordtype">int</span> add1, add2, add3, add4;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    int64_t multres;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (!superblocktype_2_3) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="comment">/* This case is untested, no samples available */</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;!superblocktype_2_3&quot;</span>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>; ch++) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <span class="keywordflow">for</span> (sb = 0; sb &lt; 30; sb++) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <span class="keywordflow">for</span> (j = 1; j &lt; 63; j++) {  <span class="comment">// The loop only iterates to 63 so the code doesn&#39;t overflow the buffer</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    add1 = tone_level_idx[ch][sb][j] - 10;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    <span class="keywordflow">if</span> (add1 &lt; 0)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        add1 = 0;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    add2 = add3 = add4 = 0;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="keywordflow">if</span> (sb &gt; 1) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        add2 = tone_level_idx[ch][sb - 2][j] + <a class="code" href="qdm2data_8h.html#a76b4c42f2ba321afcad99afa72904cce">tone_level_idx_offset_table</a>[sb][0] - 6;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                        <span class="keywordflow">if</span> (add2 &lt; 0)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                            add2 = 0;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    <span class="keywordflow">if</span> (sb &gt; 0) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                        add3 = tone_level_idx[ch][sb - 1][j] + <a class="code" href="qdm2data_8h.html#a76b4c42f2ba321afcad99afa72904cce">tone_level_idx_offset_table</a>[sb][1] - 6;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                        <span class="keywordflow">if</span> (add3 &lt; 0)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                            add3 = 0;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    <span class="keywordflow">if</span> (sb &lt; 29) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                        add4 = tone_level_idx[ch][sb + 1][j] + <a class="code" href="qdm2data_8h.html#a76b4c42f2ba321afcad99afa72904cce">tone_level_idx_offset_table</a>[sb][3] - 6;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                        <span class="keywordflow">if</span> (add4 &lt; 0)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                            add4 = 0;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    tmp = tone_level_idx[ch][sb][j + 1] * 2 - add4 - add3 - add2 - add1;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <span class="keywordflow">if</span> (tmp &lt; 0)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                        tmp = 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                    tone_level_idx_temp[ch][sb][j + 1] = tmp &amp; 0xff;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                tone_level_idx_temp[ch][sb][0] = tone_level_idx_temp[ch][sb][1];</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="yuv2rgb_8c.html#af4737dfbbc138ccc0868064f253cbcc8">acc</a> = 0;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">for</span> (sb = 0; sb &lt; 30; sb++)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 64; j++)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    <a class="code" href="yuv2rgb_8c.html#af4737dfbbc138ccc0868064f253cbcc8">acc</a> += tone_level_idx_temp[ch][sb][j];</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        multres = 0x66666667LL * (<a class="code" href="yuv2rgb_8c.html#af4737dfbbc138ccc0868064f253cbcc8">acc</a> * 10);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        esp_40 = (multres &gt;&gt; 32) / 8 + ((multres &amp; 0xffffffff) &gt;&gt; 31);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">for</span> (ch = 0;  ch &lt; <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">for</span> (sb = 0; sb &lt; 30; sb++)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 64; j++) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = tone_level_idx_temp[ch][sb][j]* esp_40 * 10;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt; 0)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> += 0xff;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> /= 256; <span class="comment">// signed shift</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">switch</span>(sb) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt; 30)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = 30;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                            <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> += 15;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt; 24)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = 24;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                            <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> += 10;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt; 16)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = 16;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt;= 5)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                        tmp = 0;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt;= 10)</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                        tmp = 10;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt;= 16)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        tmp = 16;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> &lt;= 24)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        tmp = -1;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        tmp = 0;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    coding_method[ch][sb][j] = ((tmp &amp; 0xfffa) + 30 )&amp; 0xff;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; 30; sb++)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <a class="code" href="qdm2_8c.html#a2cd116c3eecf8233268383c19c54b0cc">fix_coding_method_array</a>(sb, <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>, coding_method);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">for</span> (sb = 0; sb &lt; 30; sb++)</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 64; j++)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                    <span class="keywordflow">if</span> (sb &gt;= 10) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        <span class="keywordflow">if</span> (coding_method[ch][sb][j] &lt; 10)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                            coding_method[ch][sb][j] = 10;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                        <span class="keywordflow">if</span> (sb &gt;= 2) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                            <span class="keywordflow">if</span> (coding_method[ch][sb][j] &lt; 16)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                                coding_method[ch][sb][j] = 16;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                            <span class="keywordflow">if</span> (coding_method[ch][sb][j] &lt; 30)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                coding_method[ch][sb][j] = 30;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                        }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// superblocktype_2_3 != 0</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">for</span> (sb = 0; sb &lt; 30; sb++)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 64; j++)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                    coding_method[ch][sb][j] = <a class="code" href="qdm2data_8h.html#afee16b02b3be6284dd64d72ea824c832">coding_method_table</a>[cm_table_select][sb];</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="qdm2_8c.html#adbb6d38624c702e5555c9c93e033e743">  657</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#adbb6d38624c702e5555c9c93e033e743">synthfilt_build_sb_samples</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                                       <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> sb_min, <span class="keywordtype">int</span> sb_max)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;{</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">int</span> sb, j, k, n, ch, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordtype">int</span> joined_stereo, zero_encoding;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordtype">int</span> type34_first;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordtype">float</span> type34_div = 0;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordtype">float</span> type34_predictor;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[10];</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordtype">int</span> sign_bits[16] = {0};</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">if</span> (length == 0) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="comment">// If no data use noise</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">for</span> (sb=sb_min; sb &lt; sb_max; sb++)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="qdm2_8c.html#ab449cb62808aa2c799e77b2380c79d1e">build_sb_samples_from_noise</a>(q, sb);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">for</span> (sb = sb_min; sb &lt; sb_max; sb++) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a> = q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a> &lt;= 1 || sb &lt; 12)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            joined_stereo = 0;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sb &gt;= 24)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            joined_stereo = 1;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            joined_stereo = (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 1) ? <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) : 0;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">if</span> (joined_stereo) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 16)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                    sign_bits[j] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 64; j++)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <span class="keywordflow">if</span> (q-&gt;coding_method[1][sb][j] &gt; q-&gt;coding_method[0][sb][j])</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    q-&gt;coding_method[0][sb][j] = q-&gt;coding_method[1][sb][j];</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="qdm2_8c.html#a2cd116c3eecf8233268383c19c54b0cc">fix_coding_method_array</a>(sb, q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>,</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                            q-&gt;coding_method)) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;coding method invalid\n&quot;</span>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <a class="code" href="qdm2_8c.html#ab449cb62808aa2c799e77b2380c79d1e">build_sb_samples_from_noise</a>(q, sb);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a> = 1;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>; ch++) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <a class="code" href="qdm2_8c.html#a6e20eb799f75d721bb8a69225b379d35">FIX_NOISE_IDX</a>(q-&gt;noise_idx);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            zero_encoding = (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 1) ? <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) : 0;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            type34_predictor = 0.0;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            type34_first = 1;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 128; ) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <span class="keywordflow">switch</span> (q-&gt;coding_method[ch][sb][j / 2]) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 10) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                            <span class="keywordflow">if</span> (zero_encoding) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; 5; k++) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                                    <span class="keywordflow">if</span> ((j + 2 * k) &gt;= 128)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[2 * k] = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) ? <a class="code" href="qdm2data_8h.html#aecc291fec3d85e4b06fcda878ca7001d">dequant_1bit</a>[joined_stereo][2 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)] : 0;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                                }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                                n = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                                <span class="keywordflow">if</span> (n &gt;= 243) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid 8bit codeword\n&quot;</span>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; 5; k++)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[2 * k] = <a class="code" href="qdm2data_8h.html#aecc291fec3d85e4b06fcda878ca7001d">dequant_1bit</a>[joined_stereo][<a class="code" href="qdm2__tablegen_8h.html#a44a57828188edf41357090ff374f27be">random_dequant_index</a>[n][k]];</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                            }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                            <span class="keywordflow">for</span> (k = 0; k &lt; 5; k++)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[2 * k + 1] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                            <span class="keywordflow">for</span> (k = 0; k &lt; 10; k++)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                        }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 10;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                    <span class="keywordflow">case</span> 10:</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 1) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                            <span class="keywordtype">float</span> <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = 0.81;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                                <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = -<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> -= <a class="code" href="qdm2__tablegen_8h.html#a39f479ee65336287c3e5b9ba27ee695c">noise_samples</a>[((sb + 1) * (j +5 * ch + 1)) &amp; 127] * 9.0 / 40.0;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                        }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 1;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 10) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                            <span class="keywordflow">if</span> (zero_encoding) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; 5; k++) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                                    <span class="keywordflow">if</span> ((j + k) &gt;= 128)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] = (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb) == 0) ? 0 : <a class="code" href="qdm2data_8h.html#aecc291fec3d85e4b06fcda878ca7001d">dequant_1bit</a>[joined_stereo][2 * <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)];</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                                }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                n = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a> (gb, 8);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                <span class="keywordflow">if</span> (n &gt;= 243) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid 8bit codeword\n&quot;</span>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; 5; k++)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] = <a class="code" href="qdm2data_8h.html#aecc291fec3d85e4b06fcda878ca7001d">dequant_1bit</a>[joined_stereo][<a class="code" href="qdm2__tablegen_8h.html#a44a57828188edf41357090ff374f27be">random_dequant_index</a>[n][k]];</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                            }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                            <span class="keywordflow">for</span> (k = 0; k &lt; 5; k++)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                        }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 5;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 7) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                            n = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 7);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                            <span class="keywordflow">if</span> (n &gt;= 125) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid 7bit codeword\n&quot;</span>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                            }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                            <span class="keywordflow">for</span> (k = 0; k &lt; 3; k++)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] = (<a class="code" href="qdm2__tablegen_8h.html#aaf049da7d965968745455275753c672a">random_dequant_type24</a>[n][k] - 2.0) * 0.5;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                            <span class="keywordflow">for</span> (k = 0; k &lt; 3; k++)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                        }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 3;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                    <span class="keywordflow">case</span> 30:</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 4) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                            <span class="keywordtype">unsigned</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a933dcc89ede3c304375ea1eae8856511">vlc_tab_type30</a>, 0, 1);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="qdm2data_8h.html#adaeab1d07c5baca061b600b253135a78">type30_dequant</a>)) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;index %d out of type30_dequant array\n&quot;</span>, <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                            }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = <a class="code" href="qdm2data_8h.html#adaeab1d07c5baca061b600b253135a78">type30_dequant</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 1;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    <span class="keywordflow">case</span> 34:</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &gt;= 7) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                            <span class="keywordflow">if</span> (type34_first) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                                type34_div = (float)(1 &lt;&lt; <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2));</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = ((float)<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5) - 16.0) / 15.0;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                                type34_predictor = <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0];</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                                type34_first = 0;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                                <span class="keywordtype">unsigned</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a6ed6b50fbc24f757b80880c7495cca03">vlc_tab_type34</a>, 0, 1);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="qdm2data_8h.html#ac666e3bb0d9de17367dd53f8176ab700">type34_delta</a>)) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;index %d out of type34_delta array\n&quot;</span>, <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                                }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = <a class="code" href="qdm2data_8h.html#ac666e3bb0d9de17367dd53f8176ab700">type34_delta</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>] / type34_div + type34_predictor;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                                type34_predictor = <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0];</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                            }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                        }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 1;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] = <a class="code" href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a>(sb,q-&gt;noise_idx);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 1;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                <span class="keywordflow">if</span> (joined_stereo) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> &amp;&amp; j + k &lt; 128; k++) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                        q-&gt;sb_samples[0][j + k][sb] =</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                            q-&gt;tone_level[0][sb][(j + k) / 2] * <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k];</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                        <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a> == 2) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                            <span class="keywordflow">if</span> (sign_bits[(j + k) / 8])</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                q-&gt;sb_samples[1][j + k][sb] =</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                    q-&gt;tone_level[1][sb][(j + k) / 2] * -<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k];</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                                q-&gt;sb_samples[1][j + k][sb] =</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                                    q-&gt;tone_level[1][sb][(j + k) / 2] * <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k];</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                        }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                    }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                    <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>; k++)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                        <span class="keywordflow">if</span> ((j + k) &lt; 128)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                            q-&gt;sb_samples[ch][j + k][sb] = q-&gt;tone_level[ch][sb][(j + k)/2] * <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[k];</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                j += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            } <span class="comment">// j loop</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        } <span class="comment">// channel loop</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    } <span class="comment">// subband loop</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a721cf318100b8524adba73f290c20278">  873</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a721cf318100b8524adba73f290c20278">init_quantized_coeffs_elem0</a>(int8_t *quantized_coeffs,</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                        <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, k, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 16)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a630b8aae2b54d7bc1e08346d6ee246e9">vlc_tab_level</a>, 0, 2);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    quantized_coeffs[0] = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 7; ) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 16)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a56834541a63590f0767eb73460b2bfbf">vlc_tab_run</a>, 0, 1) + 1;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> &gt;= 8)</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 16)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = <a class="code" href="qdm2_8c.html#a9efadec814f92c2ff7b912b484f23757">qdm2_get_se_vlc</a>(&amp;<a class="code" href="qdm2__tablegen_8h.html#a08113dc106d146ca7452ccdef7320fc4">vlc_tab_diff</a>, gb, 2);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">for</span> (k = 1; k &lt;= <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>; k++)</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            quantized_coeffs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + k] = (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + ((k * <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>) / <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>));</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> += <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a45f9186e25e514a8bd1bd523ab51aba9">  914</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a45f9186e25e514a8bd1bd523ab51aba9">init_tone_level_dequantization</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;{</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordtype">int</span> sb, j, k, n, ch;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="qdm2_8c.html#a721cf318100b8524adba73f290c20278">init_quantized_coeffs_elem0</a>(q-&gt;quantized_coeffs[ch][0], gb);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 16) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            memset(q-&gt;quantized_coeffs[ch][0], 0, 8);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    n = q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a> + 1;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; n; sb++)</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 1)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                    <span class="keywordflow">for</span> (k=0; k &lt; 8; k++) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 16)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        q-&gt;tone_level_idx_hi1[ch][sb][j][k] = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#af2cd901e0790f7b47290ced423b9f07a">vlc_tab_tone_level_idx_hi1</a>, 0, 2);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    <span class="keywordflow">for</span> (k=0; k &lt; 8; k++)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                        q-&gt;tone_level_idx_hi1[ch][sb][j][k] = 0;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    n = <a class="code" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>) - 4;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; n; sb++)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 16)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            q-&gt;tone_level_idx_hi2[ch][sb] = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#ae2592fbf1baa7459a935282fc98f9306">vlc_tab_tone_level_idx_hi2</a>, 0, 2);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">if</span> (sb &gt; 19)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                q-&gt;tone_level_idx_hi2[ch][sb] -= 16;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    q-&gt;tone_level_idx_mid[ch][sb][j] = -16;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    n = <a class="code" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>) - 5;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; n; sb++)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb) &lt; 16)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                q-&gt;tone_level_idx_mid[ch][sb][j] = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a8eab37e84ce8bcffaa8d9d017a6b6e4e">vlc_tab_tone_level_idx_mid</a>, 0, 2) - 32;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a2951b89e9baeb0d508bfcf036562927a">  977</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a2951b89e9baeb0d508bfcf036562927a">process_subpacket_9</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *node)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;{</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, n, ch, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a>, node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> * 8);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    n = <a class="code" href="qdm2data_8h.html#ab5c5576b00bea8e0a5ed029083265afa">coeff_per_sb_for_avg</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">coeff_per_sb_select</a>][<a class="code" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>) - 1] + 1;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(&amp;gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a630b8aae2b54d7bc1e08346d6ee246e9">vlc_tab_level</a>, 0, 2);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            q-&gt;quantized_coeffs[ch][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; (8 - 1); ) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>  = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(&amp;gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a56834541a63590f0767eb73460b2bfbf">vlc_tab_run</a>, 0, 1) + 1;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = <a class="code" href="qdm2_8c.html#a9efadec814f92c2ff7b912b484f23757">qdm2_get_se_vlc</a>(&amp;<a class="code" href="qdm2__tablegen_8h.html#a08113dc106d146ca7452ccdef7320fc4">vlc_tab_diff</a>, &amp;gb, 2);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                <span class="keywordflow">if</span> (j + <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> &gt;= 8)</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                <span class="keywordflow">for</span> (k = 1; k &lt;= <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>; k++)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    q-&gt;quantized_coeffs[ch][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j + k] = (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + ((k * <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>) / <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>));</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> += <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                j     += <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            q-&gt;quantized_coeffs[ch][0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a0b6287012a7f96de4dc5085c40b9e814"> 1019</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a0b6287012a7f96de4dc5085c40b9e814">process_subpacket_10</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *node)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;{</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span> (node) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a>, node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> * 8);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="qdm2_8c.html#a45f9186e25e514a8bd1bd523ab51aba9">init_tone_level_dequantization</a>(q, &amp;gb);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <a class="code" href="qdm2_8c.html#a99de6a39a48861e48be979ae0f1036bc">fill_tone_level_array</a>(q, 1);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <a class="code" href="qdm2_8c.html#a99de6a39a48861e48be979ae0f1036bc">fill_tone_level_array</a>(q, 0);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a459e4cbccfdc7e8215cfb2117ec350de"> 1038</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a459e4cbccfdc7e8215cfb2117ec350de">process_subpacket_11</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *node)</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;{</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordtype">int</span> length = 0;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span> (node) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        length = node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> * 8;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a>, length);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (length &gt;= 32) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;gb, 13);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &gt; 3)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            <a class="code" href="qdm2_8c.html#ac713acaf3fa34e50133b6988d7c8cff5">fill_coding_method_array</a>(q-&gt;tone_level_idx,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                     q-&gt;tone_level_idx_temp, q-&gt;coding_method,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                                     q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>, 8 * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                                     q-&gt;superblocktype_2_3, q-&gt;<a class="code" href="struct_q_d_m2_context.html#aed9ae13b7722c11850ff721b9fdba826">cm_table_select</a>);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="qdm2_8c.html#adbb6d38624c702e5555c9c93e033e743">synthfilt_build_sb_samples</a>(q, &amp;gb, length, 0, 8);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a2b5c0d18715b448b44fcbfc6f29d0748"> 1067</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a2b5c0d18715b448b44fcbfc6f29d0748">process_subpacket_12</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *node)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;{</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordtype">int</span> length = 0;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (node) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        length = node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> * 8;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, node-&gt;<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a>, length);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="qdm2_8c.html#adbb6d38624c702e5555c9c93e033e743">synthfilt_build_sb_samples</a>(q, &amp;gb, length, 8, <a class="code" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>));</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ac2d99ed3a9fa23ce67c56581518c1cdb"> 1086</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#ac2d99ed3a9fa23ce67c56581518c1cdb">process_synthesis_subpackets</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;{</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a> *nodes[4];</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    nodes[0] = <a class="code" href="qdm2_8c.html#af691bc9c5993853161ab377371838109">qdm2_search_subpacket_type_in_list</a>(<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>, 9);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (nodes[0])</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <a class="code" href="qdm2_8c.html#a2951b89e9baeb0d508bfcf036562927a">process_subpacket_9</a>(q, nodes[0]);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    nodes[1] = <a class="code" href="qdm2_8c.html#af691bc9c5993853161ab377371838109">qdm2_search_subpacket_type_in_list</a>(<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>, 10);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span> (nodes[1])</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <a class="code" href="qdm2_8c.html#a0b6287012a7f96de4dc5085c40b9e814">process_subpacket_10</a>(q, nodes[1]);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <a class="code" href="qdm2_8c.html#a0b6287012a7f96de4dc5085c40b9e814">process_subpacket_10</a>(q, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    nodes[2] = <a class="code" href="qdm2_8c.html#af691bc9c5993853161ab377371838109">qdm2_search_subpacket_type_in_list</a>(<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>, 11);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">if</span> (nodes[0] &amp;&amp; nodes[1] &amp;&amp; nodes[2])</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <a class="code" href="qdm2_8c.html#a459e4cbccfdc7e8215cfb2117ec350de">process_subpacket_11</a>(q, nodes[2]);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="qdm2_8c.html#a459e4cbccfdc7e8215cfb2117ec350de">process_subpacket_11</a>(q, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    nodes[3] = <a class="code" href="qdm2_8c.html#af691bc9c5993853161ab377371838109">qdm2_search_subpacket_type_in_list</a>(<a class="code" href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a>, 12);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">if</span> (nodes[0] &amp;&amp; nodes[1] &amp;&amp; nodes[3])</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <a class="code" href="qdm2_8c.html#a2b5c0d18715b448b44fcbfc6f29d0748">process_subpacket_12</a>(q, nodes[3]);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <a class="code" href="qdm2_8c.html#a2b5c0d18715b448b44fcbfc6f29d0748">process_subpacket_12</a>(q, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aeaec6bcd36d2bdc73bd4e0107dc2228f"> 1118</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#aeaec6bcd36d2bdc73bd4e0107dc2228f">qdm2_decode_super_block</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;{</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="struct_q_d_m2_sub_packet.html">QDM2SubPacket</a> <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>, *packet;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, packet_bytes, sub_packet_size, sub_packets_D;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> next_index = 0;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    memset(q-&gt;tone_level_idx_hi1, 0, <span class="keyword">sizeof</span>(q-&gt;tone_level_idx_hi1));</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    memset(q-&gt;tone_level_idx_mid, 0, <span class="keyword">sizeof</span>(q-&gt;tone_level_idx_mid));</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    memset(q-&gt;tone_level_idx_hi2, 0, <span class="keyword">sizeof</span>(q-&gt;tone_level_idx_hi2));</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7c3dd26059de9d76b7b84b1eff635b5b">sub_packets_B</a> = 0;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    sub_packets_D    = 0;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="qdm2_8c.html#a65028eeb865203abb4ebbb8e7a4388a8">average_quantized_coeffs</a>(q); <span class="comment">// average elements in quantized_coeffs[max_ch][10][8]</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, q-&gt;<a class="code" href="struct_q_d_m2_context.html#a67d9ac5e38634ac0b3e856e64bc796bf">compressed_data</a>, q-&gt;<a class="code" href="struct_q_d_m2_context.html#a9ead1112aeb6ae138fe53448b2ca3b56">compressed_size</a> * 8);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="qdm2_8c.html#ab37e676435d712cbe961c450a49e5004">qdm2_decode_sub_packet_header</a>(&amp;gb, &amp;<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.type &lt; 2 || <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.type &gt;= 8) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        q-&gt;has_errors = 1;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;bad superblock type\n&quot;</span>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160; </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    q-&gt;superblocktype_2_3 = (<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.type == 2 || <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.type == 3);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    packet_bytes          = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a9ead1112aeb6ae138fe53448b2ca3b56">compressed_size</a> - <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;gb) / 8);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.data, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.size * 8);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.type == 2 || <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.type == 4 || <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.type == 5) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordtype">int</span> csum = 257 * <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;gb, 8);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        csum += 2 * <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;gb, 8);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        csum = <a class="code" href="qdm2_8c.html#a27dcdeb6dddb7422b8fa2200aec0ae16">qdm2_packet_checksum</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a67d9ac5e38634ac0b3e856e64bc796bf">compressed_data</a>, q-&gt;<a class="code" href="struct_q_d_m2_context.html#af28829658e9d473c1aec8da9ac0eb7db">checksum_size</a>, csum);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="keywordflow">if</span> (csum != 0) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            q-&gt;has_errors = 1;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;bad packet checksum\n&quot;</span>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">sub_packet_list_B</a>[0].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#ad842935ca020017503edc15c5476887f">sub_packet_list_D</a>[0].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">if</span> (--q-&gt;<a class="code" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">fft_level_exp</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; 0)</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">fft_level_exp</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; packet_bytes &gt; 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">sub_packet_list_A</a>)) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            <a class="code" href="qdm2_8c.html#a38414be14d86eca669f5cd96688502dc">SAMPLES_NEEDED_2</a>(<span class="stringliteral">&quot;too many packet bytes&quot;</span>);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        q-&gt;<a class="code" href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">sub_packet_list_A</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_q_d_m2_sub_p_node.html#aea157309eeae14e15db8b05dc04daf72">next</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0) {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">sub_packet_list_A</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1].<a class="code" href="struct_q_d_m2_sub_p_node.html#aea157309eeae14e15db8b05dc04daf72">next</a> = &amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">sub_packet_list_A</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <span class="comment">/* seek to next block */</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.data, <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.size * 8);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(&amp;gb, next_index * 8);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            <span class="keywordflow">if</span> (next_index &gt;= <a class="code" href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a>.size)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        }</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="comment">/* decode subpacket */</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        packet = &amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#aea9f49dbab8cbf3ce139b5391ffc6226">sub_packets</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <a class="code" href="qdm2_8c.html#ab37e676435d712cbe961c450a49e5004">qdm2_decode_sub_packet_header</a>(&amp;gb, packet);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        next_index      = packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> + <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;gb) / 8;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        sub_packet_size = ((packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> &gt; 0xff) ? 1 : 0) + packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> + 2;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> == 0)</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">if</span> (sub_packet_size &gt; packet_bytes) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> != 10 &amp;&amp; packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> != 11 &amp;&amp; packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> != 12)</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> += packet_bytes - sub_packet_size;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        packet_bytes -= sub_packet_size;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="comment">/* add subpacket to &#39;all subpackets&#39; list */</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        q-&gt;<a class="code" href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">sub_packet_list_A</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a> = packet;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <span class="comment">/* add subpacket to related list */</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> == 8) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            <a class="code" href="qdm2_8c.html#a38414be14d86eca669f5cd96688502dc">SAMPLES_NEEDED_2</a>(<span class="stringliteral">&quot;packet type 8&quot;</span>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &gt;= 9 &amp;&amp; packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &lt;= 12) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="comment">/* packets for MPEG Audio like Synthesis Filter */</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            <a class="code" href="qdm2_8c.html#a3b03a248d1eec255c3c008c6ebfe36c7">QDM2_LIST_ADD</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ad842935ca020017503edc15c5476887f">sub_packet_list_D</a>, sub_packets_D, packet);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> == 13) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 6; j++)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                q-&gt;<a class="code" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">fft_level_exp</a>[j] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;gb, 6);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> == 14) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 6; j++)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                q-&gt;<a class="code" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">fft_level_exp</a>[j] = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(&amp;gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#abe9b79903832cd120284a4fc7b494302">fft_level_exp_vlc</a>, 0, 2);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> == 15) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            <a class="code" href="qdm2_8c.html#a38414be14d86eca669f5cd96688502dc">SAMPLES_NEEDED_2</a>(<span class="stringliteral">&quot;packet type 15&quot;</span>)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &gt;= 16 &amp;&amp; packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &lt; 48 &amp;&amp;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                   !<a class="code" href="qdm2data_8h.html#a35e2b27caca51c0e8c5459d58a43043a">fft_subpackets</a>[packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> - 16]) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            <span class="comment">/* packets for FFT */</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            <a class="code" href="qdm2_8c.html#a3b03a248d1eec255c3c008c6ebfe36c7">QDM2_LIST_ADD</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">sub_packet_list_B</a>, q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7c3dd26059de9d76b7b84b1eff635b5b">sub_packets_B</a>, packet);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    } <span class="comment">// Packet bytes loop</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#ad842935ca020017503edc15c5476887f">sub_packet_list_D</a>[0].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="qdm2_8c.html#ac2d99ed3a9fa23ce67c56581518c1cdb">process_synthesis_subpackets</a>(q, q-&gt;<a class="code" href="struct_q_d_m2_context.html#ad842935ca020017503edc15c5476887f">sub_packet_list_D</a>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        q-&gt;do_synth_filter = 1;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q-&gt;do_synth_filter) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <a class="code" href="qdm2_8c.html#a0b6287012a7f96de4dc5085c40b9e814">process_subpacket_10</a>(q, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <a class="code" href="qdm2_8c.html#a459e4cbccfdc7e8215cfb2117ec350de">process_subpacket_11</a>(q, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <a class="code" href="qdm2_8c.html#a2b5c0d18715b448b44fcbfc6f29d0748">process_subpacket_12</a>(q, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a8edebab250c695b094a28b6498b35863"> 1242</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a8edebab250c695b094a28b6498b35863">qdm2_fft_init_coefficient</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keywordtype">int</span> sub_packet,</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                      <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, <span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>,</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                                      <span class="keywordtype">int</span> <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>, <span class="keywordtype">int</span> phase)</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;{</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>] &lt; 0)</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>] = q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>].<a class="code" href="struct_f_f_t_coefficient.html#ab17cac2a893b9308c3a7cf72862fa27b">sub_packet</a> =</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        ((sub_packet &gt;= 16) ? (sub_packet - 16) : sub_packet);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>].<a class="code" href="struct_f_f_t_coefficient.html#a4fd01244743101d382096a6bd5e17ea4">channel</a> = <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a>  = <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>].<a class="code" href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">exp</a>     = <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>].<a class="code" href="struct_f_f_t_coefficient.html#a6717b505a715e39ddb5f3e558039674d">phase</a>   = phase;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>++;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a7c6b5675baf0e5205db5c44a9fab3635"> 1258</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a7c6b5675baf0e5205db5c44a9fab3635">qdm2_fft_decode_tones</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                                  <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb, <span class="keywordtype">int</span> <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>)</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;{</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>, stereo, phase, <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordtype">int</span> local_int_4, local_int_8, stereo_phase, local_int_10;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordtype">int</span> local_int_14, stereo_exp, local_int_20, local_int_28;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordtype">int</span> n, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    local_int_4  = 0;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    local_int_28 = 0;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    local_int_20 = 2;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    local_int_8  = (4 - <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    local_int_10 = 1 &lt;&lt; (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a85fbd83cebd6a9ee2c5b252ee60cf251">group_order</a> - <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> - 1);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>       = 1;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb)&gt;0) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">if</span> (q-&gt;superblocktype_2_3) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <span class="keywordflow">while</span> ((n = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a57566de9ff68380e132855ff59fc40f1">vlc_tab_fft_tone_offset</a>[local_int_8], 1, 2)) &lt; 2) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(gb)&lt;0) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                    <span class="keywordflow">if</span>(local_int_4 &lt; q-&gt;group_size)</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;overread in qdm2_fft_decode_tones()\n&quot;</span>);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 1;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                <span class="keywordflow">if</span> (n == 0) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    local_int_4  += local_int_10;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    local_int_28 += (1 &lt;&lt; local_int_8);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                    local_int_4  += 8 * local_int_10;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    local_int_28 += (8 &lt;&lt; local_int_8);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += (n - 2);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <span class="keywordflow">if</span> (local_int_10 &lt;= 2) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;qdm2_fft_decode_tones() stuck\n&quot;</span>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a57566de9ff68380e132855ff59fc40f1">vlc_tab_fft_tone_offset</a>[local_int_8], 1, 2);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &gt;= (local_int_10 - 1)) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>       += (1 - (local_int_10 - 1));</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                local_int_4  += local_int_10;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                local_int_28 += (1 &lt;&lt; local_int_8);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">if</span> (local_int_4 &gt;= q-&gt;<a class="code" href="struct_q_d_m2_context.html#afbf3be5cc6018591a30fca69a42f6417">group_size</a>)</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        local_int_14 = (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &gt;&gt; local_int_8);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="keywordflow">if</span> (local_int_14 &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="qdm2data_8h.html#a0c8666b3d294364ee1e725f5ee438ecf">fft_level_index_table</a>))</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a> &gt; 1) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            stereo  = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a> = 0;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            stereo  = 0;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>  = <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> ? &amp;<a class="code" href="qdm2__tablegen_8h.html#abe9b79903832cd120284a4fc7b494302">fft_level_exp_vlc</a> : &amp;<a class="code" href="qdm2__tablegen_8h.html#a8f018ed5de8190154afdc0ddabf2df92">fft_level_exp_alt_vlc</a>), 0, 2);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a> += q-&gt;<a class="code" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">fft_level_exp</a>[<a class="code" href="qdm2data_8h.html#a0c8666b3d294364ee1e725f5ee438ecf">fft_level_index_table</a>[local_int_14]];</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>  = (<a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a> &lt; 0) ? 0 : <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        phase        = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        stereo_exp   = 0;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        stereo_phase = 0;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">if</span> (stereo) {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            stereo_exp   = (<a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a> - <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a491805a0afd81441c4fe5fa923780976">fft_stereo_exp_vlc</a>, 0, 1));</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            stereo_phase = (phase - <a class="code" href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a>(gb, &amp;<a class="code" href="qdm2__tablegen_8h.html#a4bf2ed3e66212bea13d57a5345b30442">fft_stereo_phase_vlc</a>, 0, 1));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="keywordflow">if</span> (stereo_phase &lt; 0)</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                stereo_phase += 8;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a726b04b2382bc1fd7b73899aa80ad74c">frequency_range</a> &gt; (local_int_14 + 1)) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordtype">int</span> sub_packet = (local_int_20 + local_int_28);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a> + stereo &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>))</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <a class="code" href="qdm2_8c.html#a8edebab250c695b094a28b6498b35863">qdm2_fft_init_coefficient</a>(q, sub_packet, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>,</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                                      <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>, <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>, phase);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keywordflow">if</span> (stereo)</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                <a class="code" href="qdm2_8c.html#a8edebab250c695b094a28b6498b35863">qdm2_fft_init_coefficient</a>(q, sub_packet, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                          1 - <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>,</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                                          stereo_exp, stereo_phase);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>++;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;}</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a62979d2ae134cc9c32151b1144538980"> 1351</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a62979d2ae134cc9c32151b1144538980">qdm2_decode_fft_packets</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;{</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>, <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, unknown_flag;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> gb;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">sub_packet_list_B</a>[0].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>)</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="comment">/* reset minimum indexes for FFT coefficients */</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a> = 0;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -1;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="comment">/* process subpackets ordered by type, largest type first */</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = 256; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7c3dd26059de9d76b7b84b1eff635b5b">sub_packets_B</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="struct_q_d_m2_sub_packet.html">QDM2SubPacket</a> *packet = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="comment">/* find subpacket with largest type less than max */</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">for</span> (j = 0, <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a> = 0; j &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7c3dd26059de9d76b7b84b1eff635b5b">sub_packets_B</a>; j++) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = q-&gt;<a class="code" href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">sub_packet_list_B</a>[j].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt; <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a> &amp;&amp; <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &lt; <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>    = <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                packet = q-&gt;<a class="code" href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">sub_packet_list_B</a>[j].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="comment">/* check for errors (?) */</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">if</span> (!packet)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0 &amp;&amp;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &lt; 16 || packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &gt;= 48 ||</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;             <a class="code" href="qdm2data_8h.html#a35e2b27caca51c0e8c5459d58a43043a">fft_subpackets</a>[packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> - 16]))</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="comment">/* decode FFT tones */</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">data</a>, packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">size</a> * 8);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">if</span> (packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &gt;= 32 &amp;&amp; packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> &lt; 48 &amp;&amp; !<a class="code" href="qdm2data_8h.html#a35e2b27caca51c0e8c5459d58a43043a">fft_subpackets</a>[packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a> - 16])</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            unknown_flag = 1;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            unknown_flag = 0;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = packet-&gt;<a class="code" href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">type</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> &gt;= 17 &amp;&amp; <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> &lt; 24) || (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> &gt;= 33 &amp;&amp; <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> &lt; 40)) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a> + 5 - (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> &amp; 15);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &gt;= 0 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &lt; 4)</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                <a class="code" href="qdm2_8c.html#a7c6b5675baf0e5205db5c44a9fab3635">qdm2_fft_decode_tones</a>(q, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, &amp;gb, unknown_flag);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == 31) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 4; j++)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                <a class="code" href="qdm2_8c.html#a7c6b5675baf0e5205db5c44a9fab3635">qdm2_fft_decode_tones</a>(q, j, &amp;gb, unknown_flag);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == 46) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 6; j++)</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                q-&gt;<a class="code" href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">fft_level_exp</a>[j] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;gb, 6);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 4; j++)</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                <a class="code" href="qdm2_8c.html#a7c6b5675baf0e5205db5c44a9fab3635">qdm2_fft_decode_tones</a>(q, j, &amp;gb, unknown_flag);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    } <span class="comment">// Loop on B packets</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="comment">/* calculate maximum indexes for FFT coefficients */</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, j = -1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= 0) {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            <span class="keywordflow">if</span> (j &gt;= 0)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                q-&gt;<a class="code" href="struct_q_d_m2_context.html#acd26edf1eacfcfa65cadcd0796708e8b">fft_coefs_max_index</a>[j] = q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            j = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">if</span> (j &gt;= 0)</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        q-&gt;<a class="code" href="struct_q_d_m2_context.html#acd26edf1eacfcfa65cadcd0796708e8b">fft_coefs_max_index</a>[j] = q-&gt;<a class="code" href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">fft_coefs_index</a>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aaad7ba4b4b6ef57b94924c138168ac46"> 1425</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#aaad7ba4b4b6ef57b94924c138168ac46">qdm2_fft_generate_tone</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <a class="code" href="struct_f_f_t_tone.html">FFTTone</a> *tone)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;{</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[6];</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <a class="code" href="struct_q_d_m2_complex.html">QDM2Complex</a> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> iscale = 2.0 * <a class="code" href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 512.0;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a296eabae84574a7e453b61f8ff70e00f">phase</a> += tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a8b06d9656d1ff29394887c25f6d5f120">phase_shift</a>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="comment">/* calculate current level (maximum amplitude) of tone */</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="qdm2data_8h.html#a6bd1a27787595b7ae26de75d01c3539b">fft_tone_envelope_table</a>[tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a1f0543f447ccfdfd0b146623f3520a18">duration</a>][tone-&gt;<a class="code" href="struct_f_f_t_tone.html#aa3ff9c79e3c901c52705c50f853584c5">time_index</a>] * tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a7f75fcec7c3cee6ac5fa152807159d4f">level</a>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im  = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * sin(tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a296eabae84574a7e453b61f8ff70e00f">phase</a> * iscale);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re  = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * cos(tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a296eabae84574a7e453b61f8ff70e00f">phase</a> * iscale);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="comment">/* generate FFT coefficients for tone */</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">if</span> (tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a1f0543f447ccfdfd0b146623f3520a18">duration</a> &gt;= 3 || tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">cutoff</a> &gt;= 3) {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[0].<a class="code" href="struct_q_d_m2_complex.html#a4a400cd0af940a53c5d51712bd8de566">im</a> += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[0].<a class="code" href="struct_q_d_m2_complex.html#a8dc4bd68f458a692f2a2f22968e132c2">re</a> += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[1].<a class="code" href="struct_q_d_m2_complex.html#a4a400cd0af940a53c5d51712bd8de566">im</a> -= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[1].<a class="code" href="struct_q_d_m2_complex.html#a8dc4bd68f458a692f2a2f22968e132c2">re</a> -= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[1] = -tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[4];</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[0] = tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[3] - tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[0];</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[2] = 1.0 - tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[2] - tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[3];</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[3] = tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[1] + tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[4] - 1.0;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[4] = tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[0] - tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[1];</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[5] = tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a>[2];</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[<a class="code" href="qdm2data_8h.html#a693e99611fb0efa4036173bb5033e877">fft_cutoff_index_table</a>[tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">cutoff</a>][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]].<a class="code" href="struct_q_d_m2_complex.html#a8dc4bd68f458a692f2a2f22968e132c2">re</a> +=</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re * <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[<a class="code" href="qdm2data_8h.html#a693e99611fb0efa4036173bb5033e877">fft_cutoff_index_table</a>[tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">cutoff</a>][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]].<a class="code" href="struct_q_d_m2_complex.html#a4a400cd0af940a53c5d51712bd8de566">im</a> +=</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im * ((tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">cutoff</a> &lt;= <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) ? -<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_q_d_m2_complex.html#a8dc4bd68f458a692f2a2f22968e132c2">re</a> += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re * <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2];</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            tone-&gt;<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_q_d_m2_complex.html#a4a400cd0af940a53c5d51712bd8de566">im</a> += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im * <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2];</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="comment">/* copy the tone if it has not yet died out */</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">if</span> (++tone-&gt;<a class="code" href="struct_f_f_t_tone.html#aa3ff9c79e3c901c52705c50f853584c5">time_index</a> &lt; ((1 &lt;&lt; (5 - tone-&gt;<a class="code" href="struct_f_f_t_tone.html#a1f0543f447ccfdfd0b146623f3520a18">duration</a>)) - 1)) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        memcpy(&amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#a17ac1ebfde0d9fcb3c153cde4ce1ab4f">fft_tones</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a28dd236241dbf7b0a6d716c56e4adba1">fft_tone_end</a>], tone, <span class="keyword">sizeof</span>(<a class="code" href="struct_f_f_t_tone.html">FFTTone</a>));</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        q-&gt;<a class="code" href="struct_q_d_m2_context.html#a28dd236241dbf7b0a6d716c56e4adba1">fft_tone_end</a> = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a28dd236241dbf7b0a6d716c56e4adba1">fft_tone_end</a> + 1) % 1000;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;}</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="qdm2_8c.html#ad323a57d796e5da42d6e28854b45ce4c"> 1471</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#ad323a57d796e5da42d6e28854b45ce4c">qdm2_fft_tone_synthesizer</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keywordtype">int</span> sub_packet)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, ch;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> iscale = 0.25 * <a class="code" href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>; ch++) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        memset(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[ch], 0, q-&gt;<a class="code" href="struct_q_d_m2_context.html#a3c1e598a401d01ba079f4e85a83df7b0">fft_size</a> * <span class="keyword">sizeof</span>(<a class="code" href="struct_q_d_m2_complex.html">QDM2Complex</a>));</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160; </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="comment">/* apply FFT tones with duration 4 (1 FFT period) */</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[4] &gt;= 0)</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[4]; i &lt; q-&gt;fft_coefs_max_index[4]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keywordtype">float</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            <a class="code" href="struct_q_d_m2_complex.html">QDM2Complex</a> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#ab17cac2a893b9308c3a7cf72862fa27b">sub_packet</a> != sub_packet)</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            ch = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a> == 1) ? 0 : q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#a4fd01244743101d382096a6bd5e17ea4">channel</a>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">exp</a> &lt; 0) ? 0.0 : <a class="code" href="qdm2data_8h.html#af7a765acebf8d75d720c1623224194c6">fft_tone_level_table</a>[q-&gt;superblocktype_2_3 ? 0 : 1][q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">exp</a> &amp; 63];</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * cos(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#a6717b505a715e39ddb5f3e558039674d">phase</a> * iscale);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * sin(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#a6717b505a715e39ddb5f3e558039674d">phase</a> * iscale);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[ch][q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a> + 0].re += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[ch][q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a> + 0].im += <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[ch][q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a> + 1].re -= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.re;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[ch][q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a> + 1].im -= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>.im;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">/* generate existing FFT tones */</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = q-&gt;<a class="code" href="struct_q_d_m2_context.html#a28dd236241dbf7b0a6d716c56e4adba1">fft_tone_end</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> != q-&gt;<a class="code" href="struct_q_d_m2_context.html#a5b68a6d1fc193d4026bf95d903534858">fft_tone_start</a>; ) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <a class="code" href="qdm2_8c.html#aaad7ba4b4b6ef57b94924c138168ac46">qdm2_fft_generate_tone</a>(q, &amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#a17ac1ebfde0d9fcb3c153cde4ce1ab4f">fft_tones</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a5b68a6d1fc193d4026bf95d903534858">fft_tone_start</a>]);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        q-&gt;<a class="code" href="struct_q_d_m2_context.html#a5b68a6d1fc193d4026bf95d903534858">fft_tone_start</a> = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a5b68a6d1fc193d4026bf95d903534858">fft_tone_start</a> + 1) % 1000;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="comment">/* create and generate new FFT tones with duration 0 (long) to 3 (short) */</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= 0) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="keywordflow">for</span> (j = q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; j &lt; q-&gt;fft_coefs_max_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; j++) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, four_i;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                <a class="code" href="struct_f_f_t_tone.html">FFTTone</a> tone;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                <span class="keywordflow">if</span> (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#ab17cac2a893b9308c3a7cf72862fa27b">sub_packet</a> != sub_packet)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                four_i = (4 - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a> &gt;&gt; four_i;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                ch = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a> == 1) ? 0 : q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#a4fd01244743101d382096a6bd5e17ea4">channel</a>;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (offset &lt; q-&gt;frequency_range) {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &lt; 2)</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                        tone.<a class="code" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">cutoff</a> = <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                        tone.<a class="code" href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">cutoff</a> = (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &gt;= 60) ? 3 : 2;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                    tone.<a class="code" href="struct_f_f_t_tone.html#a7f75fcec7c3cee6ac5fa152807159d4f">level</a> = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">exp</a> &lt; 0) ? 0.0 : <a class="code" href="qdm2data_8h.html#af7a765acebf8d75d720c1623224194c6">fft_tone_level_table</a>[q-&gt;superblocktype_2_3 ? 0 : 1][q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">exp</a> &amp; 63];</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                    tone.<a class="code" href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">complex</a> = &amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[ch][<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>];</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                    tone.<a class="code" href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">table</a> = <a class="code" href="qdm2data_8h.html#ac500c4d11b8ce4cc563434ef939b5555">fft_tone_sample_table</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a> - (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &lt;&lt; four_i)];</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                    tone.<a class="code" href="struct_f_f_t_tone.html#a296eabae84574a7e453b61f8ff70e00f">phase</a> = 64 * q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#a6717b505a715e39ddb5f3e558039674d">phase</a> - (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &lt;&lt; 8) - 128;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                    tone.<a class="code" href="struct_f_f_t_tone.html#a8b06d9656d1ff29394887c25f6d5f120">phase_shift</a> = (2 * q-&gt;<a class="code" href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">fft_coefs</a>[j].<a class="code" href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">offset</a> + 1) &lt;&lt; (7 - four_i);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                    tone.<a class="code" href="struct_f_f_t_tone.html#a1f0543f447ccfdfd0b146623f3520a18">duration</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                    tone.<a class="code" href="struct_f_f_t_tone.html#aa3ff9c79e3c901c52705c50f853584c5">time_index</a> = 0;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                    <a class="code" href="qdm2_8c.html#aaad7ba4b4b6ef57b94924c138168ac46">qdm2_fft_generate_tone</a>(q, &amp;tone);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">fft_coefs_min_index</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = j;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;}</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a3822ba736834b082cfb94b2de5f66ec0"> 1542</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a3822ba736834b082cfb94b2de5f66ec0">qdm2_calculate_fft</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>, <span class="keywordtype">int</span> sub_packet)</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;{</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> gain = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a> == 1 &amp;&amp; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a> == 2) ? 0.5<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> : 1.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keywordtype">float</span> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>       = q-&gt;<a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a> + <a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[<a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>][0].re *= 2.0f;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[<a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>][0].im  = 0.0f;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#aaf2ca39dbab9371517ca5caf4af29fec">rdft_ctx</a>.<a class="code" href="struct_r_d_f_t_context.html#ac8576007afd8204dec9d79b8a4d0765a">rdft_calc</a>(&amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#aaf2ca39dbab9371517ca5caf4af29fec">rdft_ctx</a>, (<a class="code" href="group__lavc__fft.html#gaa306dc16df543b25d9910debc3f76b96">FFTSample</a> *)q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[<a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>]);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">/* add samples to output buffer */</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a3c1e598a401d01ba079f4e85a83df7b0">fft_size</a>, 8); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[0]           += q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[<a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].re * gain;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>] += q-&gt;<a class="code" href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">fft</a>.complex[<a class="code" href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a>][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].im * gain;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>              += 2 * q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aa2d5d75cabcab507bc2b74c5bfd55768"> 1562</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#aa2d5d75cabcab507bc2b74c5bfd55768">qdm2_synthesis_filter</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>)</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, k, ch, sb_used, sub_sampling, dither_state = 0;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">/* copy sb_samples */</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    sb_used = <a class="code" href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>; ch++)</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            <span class="keywordflow">for</span> (k = sb_used; k &lt; <a class="code" href="mpegaudio_8h.html#aae2d5a401c55c6b2b834c99340911fdb">SBLIMIT</a>; k++)</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                q-&gt;sb_samples[ch][(8 * <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>) + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][k] = 0;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>; ch++) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keywordtype">float</span> *samples_ptr = q-&gt;samples + ch;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160; </div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <a class="code" href="mpegaudiodsp_8h.html#ac9df52830dc70e0f387d92f2f0d54428">ff_mpa_synth_filter_float</a>(&amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#a5e3ab337172dc4cb74ceab5667543988">mpadsp</a>,</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                                      q-&gt;synth_buf[ch], &amp;(q-&gt;synth_buf_offset[ch]),</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                                      <a class="code" href="mpegaudiodsp_8h.html#a71d79dbcd5015e4bff9f20932ca6baaa">ff_mpa_synth_window_float</a>, &amp;dither_state,</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                                      samples_ptr, q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>,</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                      q-&gt;sb_samples[ch][(8 * <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>) + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            samples_ptr += 32 * q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">/* add samples to output buffer */</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    sub_sampling = (4 &gt;&gt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">sub_sampling</a>);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>; ch++)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#a9a6646af08319f51c783ac30353c1d45">frame_size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            q-&gt;<a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a>[q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a> * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + ch] += (1 &lt;&lt; 23) * q-&gt;samples[q-&gt;<a class="code" href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">nb_channels</a> * sub_sampling * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + ch];</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;}</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a703d1200b2b5cf571943361eb2073a49"> 1600</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="qdm2_8c.html#a703d1200b2b5cf571943361eb2073a49">qdm2_init_static_data</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> done;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">if</span>(done)</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="qdm2__tablegen_8h.html#a9f88a12006fb4b83cbb45c1dd36814ca">qdm2_init_vlc</a>();</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="mpegaudiodsp_8h.html#a9ce4dce6a6e8e6dcc3c267cadeaccfb5">ff_mpa_synth_init_float</a>(<a class="code" href="mpegaudiodsp_8h.html#a71d79dbcd5015e4bff9f20932ca6baaa">ff_mpa_synth_window_float</a>);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <a class="code" href="qdm2__tablegen_8h.html#abbec96ec3273bdfe8a55fdc450a9d566">softclip_table_init</a>();</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <a class="code" href="qdm2__tablegen_8h.html#aadea9e4bf62a95cf3ec1fbc6cf3b4595">rnd_table_init</a>();</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <a class="code" href="qdm2__tablegen_8h.html#a1b69076f40d94adee6a9ea01e4ccfc84">init_noise_samples</a>();</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    done = 1;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a7464396e678040c04d4f1e3e233c991a"> 1618</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a7464396e678040c04d4f1e3e233c991a">qdm2_decode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;{</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordtype">int</span> tmp_val, tmp, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a> gb;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="qdm2_8c.html#a703d1200b2b5cf571943361eb2073a49">qdm2_init_static_data</a>();</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="comment">/* extradata parsing</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">    Structure:</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment">    wave {</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">        frma (QDM2)</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">        QDCA</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment">        QDCP</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">    32  size (including this field)</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">    32  tag (=frma)</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">    32  type (=QDM2 or QDMC)</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">    32  size (including this field, in bytes)</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">    32  tag (=QDCA) // maybe mandatory parameters</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment">    32  unknown (=1)</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">    32  channels (=2)</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">    32  samplerate (=44100)</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">    32  bitrate (=96000)</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="comment">    32  block size (=4096)</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="comment">    32  frame size (=256) (for one channel)</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">    32  packet size (=1300)</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment">    32  size (including this field, in bytes)</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="comment">    32  tag (=QDCP) // maybe some tuneable parameters</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">    32  float1 (=1.0)</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment">    32  zero ?</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">    32  float2 (=1.0)</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">    32  float3 (=1.0)</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">    32  unknown (27)</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">    32  unknown (8)</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">    32  zero ?</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160; </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a> || (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> &lt; 48)) {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;extradata missing or truncated\n&quot;</span>);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;gb, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb) &gt; 8) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <span class="keywordflow">if</span> (bytestream2_peek_be64(&amp;gb) == (((uint64_t)<a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;f&#39;</span>,<span class="charliteral">&#39;r&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;a&#39;</span>) &lt;&lt; 32) |</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                            (uint64_t)<a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;Q&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;M&#39;</span>,<span class="charliteral">&#39;2&#39;</span>)))</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, 1);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb) &lt; 12) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;not enough extradata (%i)\n&quot;</span>,</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;               <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb));</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, 8);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = bytestream2_get_be32(&amp;gb);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb)) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;extradata size too small, %i &lt; %i\n&quot;</span>,</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;               <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb), <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;size: %d\n&quot;</span>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">if</span> (bytestream2_get_be32(&amp;gb) != <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;Q&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;C&#39;</span>,<span class="charliteral">&#39;A&#39;</span>)) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;invalid extradata, expecting QDCA\n&quot;</span>);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, 4);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_channels = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;channels = bytestream2_get_be32(&amp;gb);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;channels &lt;= 0 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;channels &gt; <a class="code" href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a>) {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid number of channels\n&quot;</span>);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> == 2 ? <a class="code" href="group__channel__mask__c.html#gabc6d6651bba254cd0fa2c42a57228e65">AV_CH_LAYOUT_STEREO</a> :</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                                                   <a class="code" href="group__channel__mask__c.html#ga53d6da2dcd56f5f87c7afd8b33fa15ba">AV_CH_LAYOUT_MONO</a>;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> = bytestream2_get_be32(&amp;gb);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> = bytestream2_get_be32(&amp;gb);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;group_size = bytestream2_get_be32(&amp;gb);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_size = bytestream2_get_be32(&amp;gb);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;checksum_size = bytestream2_get_be32(&amp;gb);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;checksum_size &gt;= 1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; 28 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;checksum_size &lt;= 1) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;data block size invalid (%u)\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;checksum_size);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_order = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_size) + 1;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">// Fail on unknown fft order</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_order &lt; 7) || (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_order &gt; 9)) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(avctx, <span class="stringliteral">&quot;Unknown FFT order %d&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_order);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="comment">// something like max decodable tones</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;group_order = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;group_size) + 1;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;group_size / 16; <span class="comment">// 16 iterations per super block</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size &gt; <a class="code" href="qdm2_8c.html#a7f39229de8c9f1af0dcc033115ca1114">QDM2_MAX_FRAME_SIZE</a>)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sub_sampling = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_order - 7;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frequency_range = 255 / (1 &lt;&lt; (2 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sub_sampling));</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size * 4 &gt;&gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sub_sampling &gt; <a class="code" href="mpegaudio_8h.html#a1bf5ddc0eefac5e06a435929edd28baf">MPA_FRAME_SIZE</a>) {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(avctx, <span class="stringliteral">&quot;large frames&quot;</span>);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">switch</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sub_sampling * 2 + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;channels - 1)) {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="keywordflow">case</span> 0: tmp = 40; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="keywordflow">case</span> 1: tmp = 48; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="keywordflow">case</span> 2: tmp = 56; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">case</span> 3: tmp = 72; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordflow">case</span> 4: tmp = 80; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">case</span> 5: tmp = 100;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordflow">default</span>: tmp=<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sub_sampling; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    tmp_val = 0;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">if</span> ((tmp * 1000) &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>)  tmp_val = 1;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">if</span> ((tmp * 1440) &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>)  tmp_val = 2;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">if</span> ((tmp * 1760) &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>)  tmp_val = 3;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">if</span> ((tmp * 2240) &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>)  tmp_val = 4;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cm_table_select = tmp_val;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> &lt;= 8000)</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_per_sb_select = 0;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> &lt; 16000)</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_per_sb_select = 1;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_per_sb_select = 2;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_size != (1 &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_order - 1))) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;FFT size %d not power of 2.\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_size);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <a class="code" href="rdft_8c.html#a0c354cdb0c8e93f34192ef33538fb1ec">ff_rdft_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;rdft_ctx, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fft_order, <a class="code" href="group__lavc__fft.html#gga58a704747daba49afa3611cea218a24baadf7acc2f968f4345998fef751bedc8c">IDFT_C2R</a>);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="mpegaudiodsp_8c.html#a255762b7eef891c49d7e77e615748bca">ff_mpadsp_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mpadsp);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a> = <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aff39d0e09b259c50cdf2ca54f6b3f28b"> 1774</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#aff39d0e09b259c50cdf2ca54f6b3f28b">qdm2_decode_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;{</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <a class="code" href="rdft_8c.html#a951fbcabd5915639bcd5ca185a5de7b4">ff_rdft_end</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;rdft_ctx);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;}</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"><a class="line" href="qdm2_8c.html#aecce9218a49866f19ebb7a4ec1a82006"> 1783</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#aecce9218a49866f19ebb7a4ec1a82006">qdm2_decode</a>(<a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *q, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>, int16_t *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>)</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;{</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordtype">int</span> ch, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> = (q-&gt;<a class="code" href="struct_q_d_m2_context.html#a9a6646af08319f51c783ac30353c1d45">frame_size</a> * q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">if</span>((<span class="keywordtype">unsigned</span>)<a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> &gt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a>)/2)</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="comment">/* select input buffer */</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a67d9ac5e38634ac0b3e856e64bc796bf">compressed_data</a> = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    q-&gt;<a class="code" href="struct_q_d_m2_context.html#a9ead1112aeb6ae138fe53448b2ca3b56">compressed_size</a> = q-&gt;<a class="code" href="struct_q_d_m2_context.html#af28829658e9d473c1aec8da9ac0eb7db">checksum_size</a>;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="comment">/* copy old block, clear new block of output samples */</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    memmove(q-&gt;<a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a>, &amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a>[<a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>], <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    memset(&amp;q-&gt;<a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a>[<a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>], 0, <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160; </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="comment">/* decode block of QDM2 compressed data */</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">if</span> (q-&gt;sub_packet == 0) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        q-&gt;has_errors = 0; <span class="comment">// zero it for a new super block</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,<a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,<span class="stringliteral">&quot;Superblock follows\n&quot;</span>);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <a class="code" href="qdm2_8c.html#aeaec6bcd36d2bdc73bd4e0107dc2228f">qdm2_decode_super_block</a>(q);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="comment">/* parse subpackets */</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;has_errors) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        <span class="keywordflow">if</span> (q-&gt;sub_packet == 2)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <a class="code" href="qdm2_8c.html#a62979d2ae134cc9c32151b1144538980">qdm2_decode_fft_packets</a>(q);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <a class="code" href="qdm2_8c.html#ad323a57d796e5da42d6e28854b45ce4c">qdm2_fft_tone_synthesizer</a>(q, q-&gt;sub_packet);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    }</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160; </div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="comment">/* sound synthesis stage 1 (FFT) */</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; q-&gt;<a class="code" href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">channels</a>; ch++) {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        <a class="code" href="qdm2_8c.html#a3822ba736834b082cfb94b2de5f66ec0">qdm2_calculate_fft</a>(q, ch, q-&gt;sub_packet);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">if</span> (!q-&gt;has_errors &amp;&amp; q-&gt;<a class="code" href="struct_q_d_m2_context.html#ada73dbdcc2ddcdf39a905a8aa1d08fb5">sub_packet_list_C</a>[0].<a class="code" href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">packet</a>) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <a class="code" href="qdm2_8c.html#a38414be14d86eca669f5cd96688502dc">SAMPLES_NEEDED_2</a>(<span class="stringliteral">&quot;has errors, and C list is not empty&quot;</span>)</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    }</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160; </div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="comment">/* sound synthesis stage 2 (MPEG audio like synthesis filter) */</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;has_errors &amp;&amp; q-&gt;do_synth_filter)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <a class="code" href="qdm2_8c.html#aa2d5d75cabcab507bc2b74c5bfd55768">qdm2_synthesis_filter</a>(q, q-&gt;sub_packet);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    q-&gt;sub_packet = (q-&gt;sub_packet + 1) % 16;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="comment">/* clip and convert output float[] to 16-bit signed samples */</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = (<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)q-&gt;<a class="code" href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">output_buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt; <a class="code" href="qdm2__tablegen_8h.html#a021f7e52ae0d7e4c2749caefc9a5ece1">SOFTCLIP_THRESHOLD</a>)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt;  <a class="code" href="qdm2__tablegen_8h.html#ae6680c528fe8ae44802a07eb986f8845">HARDCLIP_THRESHOLD</a>) ?  32767 :  <a class="code" href="qdm2__tablegen_8h.html#a2292ecb3a58af176125a2d154128d29b">softclip_table</a>[ <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> - <a class="code" href="qdm2__tablegen_8h.html#a021f7e52ae0d7e4c2749caefc9a5ece1">SOFTCLIP_THRESHOLD</a>];</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &lt; -<a class="code" href="qdm2__tablegen_8h.html#a021f7e52ae0d7e4c2749caefc9a5ece1">SOFTCLIP_THRESHOLD</a>)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &lt; -<a class="code" href="qdm2__tablegen_8h.html#ae6680c528fe8ae44802a07eb986f8845">HARDCLIP_THRESHOLD</a>) ? -32767 : -<a class="code" href="qdm2__tablegen_8h.html#a2292ecb3a58af176125a2d154128d29b">softclip_table</a>[-<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> - <a class="code" href="qdm2__tablegen_8h.html#a021f7e52ae0d7e4c2749caefc9a5ece1">SOFTCLIP_THRESHOLD</a>];</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;}</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160; </div>
<div class="line"><a name="l01845"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a474b8975706401f53819b551739e6f68"> 1845</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdm2_8c.html#a474b8975706401f53819b551739e6f68">qdm2_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>,</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                             <span class="keywordtype">int</span> *got_frame_ptr, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;{</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>     = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordtype">int</span> buf_size = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <a class="code" href="struct_q_d_m2_context.html">QDM2Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    int16_t *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">if</span>(!buf)</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordflow">if</span>(buf_size &lt; s-&gt;checksum_size)</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="comment">/* get output buffer */</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples = 16 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a> = (int16_t *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[0];</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="qdm2_8c.html#aecce9218a49866f19ebb7a4ec1a82006">qdm2_decode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, buf, <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>)) &lt; 0)</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a> += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;channels * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_size;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    }</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160; </div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    *got_frame_ptr = 1;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;checksum_size;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;}</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160; </div>
<div class="line"><a name="l01877"></a><span class="lineno"><a class="line" href="qdm2_8c.html#a78e3f91432995b915be2a7d2f86fb29b"> 1877</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="qdm2_8c.html#a78e3f91432995b915be2a7d2f86fb29b">ff_qdm2_decoder</a> = {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>             = <span class="stringliteral">&quot;qdm2&quot;</span>,</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    .long_name        = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;QDesign Music Codec 2&quot;</span>),</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    .type             = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    .id               = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead2cbe7fc8799aad9f808e81723e4452f">AV_CODEC_ID_QDM2</a>,</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    .priv_data_size   = <span class="keyword">sizeof</span>(<a class="code" href="qdm2_8c.html#ac41f531f89e80a81fe41d40b2c7230c8">QDM2Context</a>),</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>             = <a class="code" href="qdm2_8c.html#a7464396e678040c04d4f1e3e233c991a">qdm2_decode_init</a>,</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    .close            = <a class="code" href="qdm2_8c.html#aff39d0e09b259c50cdf2ca54f6b3f28b">qdm2_decode_close</a>,</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>           = <a class="code" href="qdm2_8c.html#a474b8975706401f53819b551739e6f68">qdm2_decode_frame</a>,</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    .capabilities     = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aqdm2_8c_html_a0f17c4b4db3dc1372d2ceeebc671f397"><div class="ttname"><a href="qdm2_8c.html#a0f17c4b4db3dc1372d2ceeebc671f397">QDM2Complex</a></div><div class="ttdeci">struct QDM2Complex QDM2Complex</div></div>
<div class="ttc" id="aqdm2_8c_html_a38414be14d86eca669f5cd96688502dc"><div class="ttname"><a href="qdm2_8c.html#a38414be14d86eca669f5cd96688502dc">SAMPLES_NEEDED_2</a></div><div class="ttdeci">#define SAMPLES_NEEDED_2(why)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00073">qdm2.c:73</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a491805a0afd81441c4fe5fa923780976"><div class="ttname"><a href="qdm2__tablegen_8h.html#a491805a0afd81441c4fe5fa923780976">fft_stereo_exp_vlc</a></div><div class="ttdeci">static VLC fft_stereo_exp_vlc</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00103">qdm2_tablegen.h:103</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aa1141edcec99ed02fdbc24f4fa4fd9cb"><div class="ttname"><a href="qdm2_8c.html#aa1141edcec99ed02fdbc24f4fa4fd9cb">FFTCoefficient</a></div><div class="ttdeci">struct FFTCoefficient FFTCoefficient</div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b53fda85ad61baa345edbd96cb8a33c"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">AVCodecContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00576">avcodec.h:576</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a474b8975706401f53819b551739e6f68"><div class="ttname"><a href="qdm2_8c.html#a474b8975706401f53819b551739e6f68">qdm2_decode_frame</a></div><div class="ttdeci">static int qdm2_decode_frame(AVCodecContext *avctx, void *data, int *got_frame_ptr, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01845">qdm2.c:1845</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_a0c8666b3d294364ee1e725f5ee438ecf"><div class="ttname"><a href="qdm2data_8h.html#a0c8666b3d294364ee1e725f5ee438ecf">fft_level_index_table</a></div><div class="ttdeci">static const int16_t fft_level_index_table[256]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00238">qdm2data.h:238</a></div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_a81ac6680d0690a4fbb431780d785e434"><div class="ttname"><a href="struct_f_f_t_tone.html#a81ac6680d0690a4fbb431780d785e434">FFTTone::cutoff</a></div><div class="ttdeci">short cutoff</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00110">qdm2.c:110</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a933dcc89ede3c304375ea1eae8856511"><div class="ttname"><a href="qdm2__tablegen_8h.html#a933dcc89ede3c304375ea1eae8856511">vlc_tab_type30</a></div><div class="ttdeci">static VLC vlc_tab_type30</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00108">qdm2_tablegen.h:108</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a6ed6b50fbc24f757b80880c7495cca03"><div class="ttname"><a href="qdm2__tablegen_8h.html#a6ed6b50fbc24f757b80880c7495cca03">vlc_tab_type34</a></div><div class="ttdeci">static VLC vlc_tab_type34</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00109">qdm2_tablegen.h:109</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a44d39cea027a76211f31e3bf2e3e68a4"><div class="ttname"><a href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a></div><div class="ttdeci">static int get_bits_left(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00849">get_bits.h:849</a></div></div>
<div class="ttc" id="ayuv2rgb_8c_html_af4737dfbbc138ccc0868064f253cbcc8"><div class="ttname"><a href="yuv2rgb_8c.html#af4737dfbbc138ccc0868064f253cbcc8">acc</a></div><div class="ttdeci">int acc</div><div class="ttdef"><b>Definition:</b> <a href="yuv2rgb_8c_source.html#l00555">yuv2rgb.c:555</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a17ac1ebfde0d9fcb3c153cde4ce1ab4f"><div class="ttname"><a href="struct_q_d_m2_context.html#a17ac1ebfde0d9fcb3c153cde4ce1ab4f">QDM2Context::fft_tones</a></div><div class="ttdeci">FFTTone fft_tones[1000]</div><div class="ttdoc">FFT and tones.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00154">qdm2.c:154</a></div></div>
<div class="ttc" id="astruct_f_f_t_coefficient_html_ad30c1ba17af075c02a67b0b02f547cfc"><div class="ttname"><a href="struct_f_f_t_coefficient.html#ad30c1ba17af075c02a67b0b02f547cfc">FFTCoefficient::exp</a></div><div class="ttdeci">int16_t exp</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00117">qdm2.c:117</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_acd26edf1eacfcfa65cadcd0796708e8b"><div class="ttname"><a href="struct_q_d_m2_context.html#acd26edf1eacfcfa65cadcd0796708e8b">QDM2Context::fft_coefs_max_index</a></div><div class="ttdeci">int fft_coefs_max_index[5]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00160">qdm2.c:160</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a2cd116c3eecf8233268383c19c54b0cc"><div class="ttname"><a href="qdm2_8c.html#a2cd116c3eecf8233268383c19c54b0cc">fix_coding_method_array</a></div><div class="ttdeci">static int fix_coding_method_array(int sb, int channels, sb_int8_array coding_method)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00370">qdm2.c:370</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1277960b5f2b37137fe9b0b5a1ea0beb"><div class="ttname"><a href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00054">movenc.c:54</a></div></div>
<div class="ttc" id="aeamad_8c_html_a1bd38494185c28133622c86bcc95d650"><div class="ttname"><a href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a></div><div class="ttdeci">static void comp(unsigned char *dst, ptrdiff_t dst_stride, unsigned char *src, ptrdiff_t src_stride, int add)</div><div class="ttdef"><b>Definition:</b> <a href="eamad_8c_source.html#l00083">eamad.c:83</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a899822ded9a716ddd7135c518e0d84e9"><div class="ttname"><a href="struct_q_d_m2_context.html#a899822ded9a716ddd7135c518e0d84e9">QDM2Context::fft_coefs</a></div><div class="ttdeci">FFTCoefficient fft_coefs[1000]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00157">qdm2.c:157</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ga53d6da2dcd56f5f87c7afd8b33fa15ba"><div class="ttname"><a href="group__channel__mask__c.html#ga53d6da2dcd56f5f87c7afd8b33fa15ba">AV_CH_LAYOUT_MONO</a></div><div class="ttdeci">#define AV_CH_LAYOUT_MONO</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00090">channel_layout.h:90</a></div></div>
<div class="ttc" id="ardft_8h_html"><div class="ttname"><a href="rdft_8h.html">rdft.h</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a44a57828188edf41357090ff374f27be"><div class="ttname"><a href="qdm2__tablegen_8h.html#a44a57828188edf41357090ff374f27be">random_dequant_index</a></div><div class="ttdeci">static uint8_t random_dequant_index[256][5]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00043">qdm2_tablegen.h:43</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aac3f793480c01f793f2acc9eba031ff5"><div class="ttname"><a href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a></div><div class="ttdeci">static int get_bits_count(const GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00219">get_bits.h:219</a></div></div>
<div class="ttc" id="astruct_f_f_t_coefficient_html_ab17cac2a893b9308c3a7cf72862fa27b"><div class="ttname"><a href="struct_f_f_t_coefficient.html#ab17cac2a893b9308c3a7cf72862fa27b">FFTCoefficient::sub_packet</a></div><div class="ttdeci">int16_t sub_packet</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00114">qdm2.c:114</a></div></div>
<div class="ttc" id="ampegaudiodsp_8c_html_a255762b7eef891c49d7e77e615748bca"><div class="ttname"><a href="mpegaudiodsp_8c.html#a255762b7eef891c49d7e77e615748bca">ff_mpadsp_init</a></div><div class="ttdeci">av_cold void ff_mpadsp_init(MPADSPContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegaudiodsp_8c_source.html#l00031">mpegaudiodsp.c:31</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a43ddc8ac0f5b15c54ca528121fb7e6e4"><div class="ttname"><a href="struct_q_d_m2_context.html#a43ddc8ac0f5b15c54ca528121fb7e6e4">QDM2Context::fft</a></div><div class="ttdeci">QDM2FFT fft</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00163">qdm2.c:163</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a703d1200b2b5cf571943361eb2073a49"><div class="ttname"><a href="qdm2_8c.html#a703d1200b2b5cf571943361eb2073a49">qdm2_init_static_data</a></div><div class="ttdeci">static av_cold void qdm2_init_static_data(void)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01600">qdm2.c:1600</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html"><div class="ttname"><a href="struct_f_f_t_tone.html">FFTTone</a></div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00102">qdm2.c:102</a></div></div>
<div class="ttc" id="astruct_f_f_t_coefficient_html_a6717b505a715e39ddb5f3e558039674d"><div class="ttname"><a href="struct_f_f_t_coefficient.html#a6717b505a715e39ddb5f3e558039674d">FFTCoefficient::phase</a></div><div class="ttdeci">uint8_t phase</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00118">qdm2.c:118</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_afee16b02b3be6284dd64d72ea824c832"><div class="ttname"><a href="qdm2data_8h.html#afee16b02b3be6284dd64d72ea824c832">coding_method_table</a></div><div class="ttdeci">static const int8_t coding_method_table[5][30]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00342">qdm2data.h:342</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="astruct_m_p_a_d_s_p_context_html"><div class="ttname"><a href="struct_m_p_a_d_s_p_context.html">MPADSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="mpegaudiodsp_8h_source.html#l00027">mpegaudiodsp.h:27</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html_ad3bbe8f5d0b9e28a1070396fac5725d8"><div class="ttname"><a href="struct_get_bit_context.html#ad3bbe8f5d0b9e28a1070396fac5725d8">GetBitContext::buffer</a></div><div class="ttdeci">const uint8_t * buffer</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00062">get_bits.h:62</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3ba3e032e40fae0f98ba46a0f5201195"><div class="ttname"><a href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a></div><div class="ttdeci">static av_always_inline int get_vlc2(GetBitContext *s, VLC_TYPE(*table)[2], int bits, int max_depth)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00797">get_bits.h:797</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00033">cuda_runtime.h:33</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_af2cd901e0790f7b47290ced423b9f07a"><div class="ttname"><a href="qdm2__tablegen_8h.html#af2cd901e0790f7b47290ced423b9f07a">vlc_tab_tone_level_idx_hi1</a></div><div class="ttdeci">static VLC vlc_tab_tone_level_idx_hi1</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00105">qdm2_tablegen.h:105</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a021f7e52ae0d7e4c2749caefc9a5ece1"><div class="ttname"><a href="qdm2__tablegen_8h.html#a021f7e52ae0d7e4c2749caefc9a5ece1">SOFTCLIP_THRESHOLD</a></div><div class="ttdeci">#define SOFTCLIP_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00031">qdm2_tablegen.h:31</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a2292ecb3a58af176125a2d154128d29b"><div class="ttname"><a href="qdm2__tablegen_8h.html#a2292ecb3a58af176125a2d154128d29b">softclip_table</a></div><div class="ttdeci">static uint16_t softclip_table[HARDCLIP_THRESHOLD - SOFTCLIP_THRESHOLD+1]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00041">qdm2_tablegen.h:41</a></div></div>
<div class="ttc" id="astruct_q_d_m2_complex_html"><div class="ttname"><a href="struct_q_d_m2_complex.html">QDM2Complex</a></div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00097">qdm2.c:97</a></div></div>
<div class="ttc" id="astruct_f_f_t_coefficient_html_a4fd01244743101d382096a6bd5e17ea4"><div class="ttname"><a href="struct_f_f_t_coefficient.html#a4fd01244743101d382096a6bd5e17ea4">FFTCoefficient::channel</a></div><div class="ttdeci">uint8_t channel</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00115">qdm2.c:115</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a67d9ac5e38634ac0b3e856e64bc796bf"><div class="ttname"><a href="struct_q_d_m2_context.html#a67d9ac5e38634ac0b3e856e64bc796bf">QDM2Context::compressed_data</a></div><div class="ttdeci">const uint8_t * compressed_data</div><div class="ttdoc">I/O data.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00166">qdm2.c:166</a></div></div>
<div class="ttc" id="aget__bits_8h_html_af65c008755f74e99d139eae8b46534b5"><div class="ttname"><a href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a></div><div class="ttdeci">static int init_get_bits(GetBitContext *s, const uint8_t *buffer, int bit_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00659">get_bits.h:659</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_aaf2ca39dbab9371517ca5caf4af29fec"><div class="ttname"><a href="struct_q_d_m2_context.html#aaf2ca39dbab9371517ca5caf4af29fec">QDM2Context::rdft_ctx</a></div><div class="ttdeci">RDFTContext rdft_ctx</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00162">qdm2.c:162</a></div></div>
<div class="ttc" id="astruct_q_d_m2_sub_packet_html"><div class="ttname"><a href="struct_q_d_m2_sub_packet.html">QDM2SubPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00083">qdm2.c:83</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aecce9218a49866f19ebb7a4ec1a82006"><div class="ttname"><a href="qdm2_8c.html#aecce9218a49866f19ebb7a4ec1a82006">qdm2_decode</a></div><div class="ttdeci">static int qdm2_decode(QDM2Context *q, const uint8_t *in, int16_t *out)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01783">qdm2.c:1783</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a459e4cbccfdc7e8215cfb2117ec350de"><div class="ttname"><a href="qdm2_8c.html#a459e4cbccfdc7e8215cfb2117ec350de">process_subpacket_11</a></div><div class="ttdeci">static void process_subpacket_11(QDM2Context *q, QDM2SubPNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01038">qdm2.c:1038</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00467">get_bits.h:467</a></div></div>
<div class="ttc" id="aqdm2_8c_html_ac41f531f89e80a81fe41d40b2c7230c8"><div class="ttname"><a href="qdm2_8c.html#ac41f531f89e80a81fe41d40b2c7230c8">QDM2Context</a></div><div class="ttdeci">struct QDM2Context QDM2Context</div></div>
<div class="ttc" id="aqdm2_8c_html_adbb6d38624c702e5555c9c93e033e743"><div class="ttname"><a href="qdm2_8c.html#adbb6d38624c702e5555c9c93e033e743">synthfilt_build_sb_samples</a></div><div class="ttdeci">static int synthfilt_build_sb_samples(QDM2Context *q, GetBitContext *gb, int length, int sb_min, int sb_max)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00657">qdm2.c:657</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00628">avcodec.h:628</a></div></div>
<div class="ttc" id="abytestream_8h_html_ab3713f6615c089f746b36925f5857c07"><div class="ttname"><a href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a></div><div class="ttdeci">static av_always_inline void bytestream2_skip(GetByteContext *g, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00168">bytestream.h:168</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a1b69076f40d94adee6a9ea01e4ccfc84"><div class="ttname"><a href="qdm2__tablegen_8h.html#a1b69076f40d94adee6a9ea01e4ccfc84">init_noise_samples</a></div><div class="ttdeci">static av_cold void init_noise_samples(void)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00088">qdm2_tablegen.h:88</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_ada73dbdcc2ddcdf39a905a8aa1d08fb5"><div class="ttname"><a href="struct_q_d_m2_context.html#ada73dbdcc2ddcdf39a905a8aa1d08fb5">QDM2Context::sub_packet_list_C</a></div><div class="ttdeci">QDM2SubPNode sub_packet_list_C[16]</div><div class="ttdoc">packets with errors?</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00150">qdm2.c:150</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_afb4729d537e4a957b09c76da7c9e94f1"><div class="ttname"><a href="struct_q_d_m2_context.html#afb4729d537e4a957b09c76da7c9e94f1">QDM2Context::sub_packet_list_B</a></div><div class="ttdeci">QDM2SubPNode sub_packet_list_B[16]</div><div class="ttdoc">FFT packets B are on list.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00148">qdm2.c:148</a></div></div>
<div class="ttc" id="aqdm2_8c_html_ab449cb62808aa2c799e77b2380c79d1e"><div class="ttname"><a href="qdm2_8c.html#ab449cb62808aa2c799e77b2380c79d1e">build_sb_samples_from_noise</a></div><div class="ttdeci">static void build_sb_samples_from_noise(QDM2Context *q, int sb)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00343">qdm2.c:343</a></div></div>
<div class="ttc" id="atwinvq__data_8h_html_a58565306e09ffac38bb76952d6e458a9"><div class="ttname"><a href="twinvq__data_8h.html#a58565306e09ffac38bb76952d6e458a9">tab</a></div><div class="ttdeci">static const struct twinvq_data tab</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11135">twinvq_data.h:11135</a></div></div>
<div class="ttc" id="aqdm2_8c_html_ac2d99ed3a9fa23ce67c56581518c1cdb"><div class="ttname"><a href="qdm2_8c.html#ac2d99ed3a9fa23ce67c56581518c1cdb">process_synthesis_subpackets</a></div><div class="ttdeci">static void process_synthesis_subpackets(QDM2Context *q, QDM2SubPNode *list)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01086">qdm2.c:1086</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_a30f5d1cd1083d4d93cbcf0d6d282cdf0"><div class="ttname"><a href="struct_f_f_t_tone.html#a30f5d1cd1083d4d93cbcf0d6d282cdf0">FFTTone::table</a></div><div class="ttdeci">const float * table</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00105">qdm2.c:105</a></div></div>
<div class="ttc" id="agroup__lavc__fft_html_gga58a704747daba49afa3611cea218a24baadf7acc2f968f4345998fef751bedc8c"><div class="ttname"><a href="group__lavc__fft.html#gga58a704747daba49afa3611cea218a24baadf7acc2f968f4345998fef751bedc8c">IDFT_C2R</a></div><div class="ttdeci">@ IDFT_C2R</div><div class="ttdef"><b>Definition:</b> <a href="avfft_8h_source.html#l00073">avfft.h:73</a></div></div>
<div class="ttc" id="ardft_8c_html_a951fbcabd5915639bcd5ca185a5de7b4"><div class="ttname"><a href="rdft_8c.html#a951fbcabd5915639bcd5ca185a5de7b4">ff_rdft_end</a></div><div class="ttdeci">av_cold void ff_rdft_end(RDFTContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="rdft_8c_source.html#l00114">rdft.c:114</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a8d4df0c102943f44965af3f661410fde"><div class="ttname"><a href="qdm2_8c.html#a8d4df0c102943f44965af3f661410fde">switchtable</a></div><div class="ttdeci">static const int switchtable[23]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00197">qdm2.c:197</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_a8b06d9656d1ff29394887c25f6d5f120"><div class="ttname"><a href="struct_f_f_t_tone.html#a8b06d9656d1ff29394887c25f6d5f120">FFTTone::phase_shift</a></div><div class="ttdeci">int phase_shift</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00107">qdm2.c:107</a></div></div>
<div class="ttc" id="aqdm2_8c_html_ac713acaf3fa34e50133b6988d7c8cff5"><div class="ttname"><a href="qdm2_8c.html#ac713acaf3fa34e50133b6988d7c8cff5">fill_coding_method_array</a></div><div class="ttdeci">static void fill_coding_method_array(sb_int8_array tone_level_idx, sb_int8_array tone_level_idx_temp, sb_int8_array coding_method, int nb_channels, int c, int superblocktype_2_3, int cm_table_select)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00530">qdm2.c:530</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a630b8aae2b54d7bc1e08346d6ee246e9"><div class="ttname"><a href="qdm2__tablegen_8h.html#a630b8aae2b54d7bc1e08346d6ee246e9">vlc_tab_level</a></div><div class="ttdeci">static VLC vlc_tab_level</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00098">qdm2_tablegen.h:98</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_aadea9e4bf62a95cf3ec1fbc6cf3b4595"><div class="ttname"><a href="qdm2__tablegen_8h.html#aadea9e4bf62a95cf3ec1fbc6cf3b4595">rnd_table_init</a></div><div class="ttdeci">static av_cold void rnd_table_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00057">qdm2_tablegen.h:57</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a8edebab250c695b094a28b6498b35863"><div class="ttname"><a href="qdm2_8c.html#a8edebab250c695b094a28b6498b35863">qdm2_fft_init_coefficient</a></div><div class="ttdeci">static void qdm2_fft_init_coefficient(QDM2Context *q, int sub_packet, int offset, int duration, int channel, int exp, int phase)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01242">qdm2.c:1242</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="ampegaudiodsp_8h_html_a71d79dbcd5015e4bff9f20932ca6baaa"><div class="ttname"><a href="mpegaudiodsp_8h.html#a71d79dbcd5015e4bff9f20932ca6baaa">ff_mpa_synth_window_float</a></div><div class="ttdeci">float ff_mpa_synth_window_float[]</div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_ae3fe5efe02e2eece20b2d4c65b08a2a8"><div class="ttname"><a href="struct_q_d_m2_context.html#ae3fe5efe02e2eece20b2d4c65b08a2a8">QDM2Context::nb_channels</a></div><div class="ttdeci">int nb_channels</div><div class="ttdoc">Parameters from codec header, do not change during playback.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00130">qdm2.c:130</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_gabc6d6651bba254cd0fa2c42a57228e65"><div class="ttname"><a href="group__channel__mask__c.html#gabc6d6651bba254cd0fa2c42a57228e65">AV_CH_LAYOUT_STEREO</a></div><div class="ttdeci">#define AV_CH_LAYOUT_STEREO</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00091">channel_layout.h:91</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_a7f75fcec7c3cee6ac5fa152807159d4f"><div class="ttname"><a href="struct_f_f_t_tone.html#a7f75fcec7c3cee6ac5fa152807159d4f">FFTTone::level</a></div><div class="ttdeci">float level</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00103">qdm2.c:103</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a56834541a63590f0767eb73460b2bfbf"><div class="ttname"><a href="qdm2__tablegen_8h.html#a56834541a63590f0767eb73460b2bfbf">vlc_tab_run</a></div><div class="ttdeci">static VLC vlc_tab_run</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00100">qdm2_tablegen.h:100</a></div></div>
<div class="ttc" id="aqdm2_8c_html_ad1ee5ad97653f182f271692379f74045"><div class="ttname"><a href="qdm2_8c.html#ad1ee5ad97653f182f271692379f74045">FFTTone</a></div><div class="ttdeci">struct FFTTone FFTTone</div></div>
<div class="ttc" id="aqdm2_8c_html_a2951b89e9baeb0d508bfcf036562927a"><div class="ttname"><a href="qdm2_8c.html#a2951b89e9baeb0d508bfcf036562927a">process_subpacket_9</a></div><div class="ttdeci">static int process_subpacket_9(QDM2Context *q, QDM2SubPNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00977">qdm2.c:977</a></div></div>
<div class="ttc" id="ampegaudio_8h_html_a1bf5ddc0eefac5e06a435929edd28baf"><div class="ttname"><a href="mpegaudio_8h.html#a1bf5ddc0eefac5e06a435929edd28baf">MPA_FRAME_SIZE</a></div><div class="ttdeci">#define MPA_FRAME_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="mpegaudio_8h_source.html#l00037">mpegaudio.h:37</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aeaec6bcd36d2bdc73bd4e0107dc2228f"><div class="ttname"><a href="qdm2_8c.html#aeaec6bcd36d2bdc73bd4e0107dc2228f">qdm2_decode_super_block</a></div><div class="ttdeci">static void qdm2_decode_super_block(QDM2Context *q)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01118">qdm2.c:1118</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a7c6b5675baf0e5205db5c44a9fab3635"><div class="ttname"><a href="qdm2_8c.html#a7c6b5675baf0e5205db5c44a9fab3635">qdm2_fft_decode_tones</a></div><div class="ttdeci">static void qdm2_fft_decode_tones(QDM2Context *q, int duration, GetBitContext *gb, int b)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01258">qdm2.c:1258</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_af7a765acebf8d75d720c1623224194c6"><div class="ttname"><a href="qdm2data_8h.html#af7a765acebf8d75d720c1623224194c6">fft_tone_level_table</a></div><div class="ttdeci">static const float fft_tone_level_table[2][64]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00438">qdm2data.h:438</a></div></div>
<div class="ttc" id="astruct_q_d_m2_complex_html_a4a400cd0af940a53c5d51712bd8de566"><div class="ttname"><a href="struct_q_d_m2_complex.html#a4a400cd0af940a53c5d51712bd8de566">QDM2Complex::im</a></div><div class="ttdeci">float im</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00099">qdm2.c:99</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_aecc291fec3d85e4b06fcda878ca7001d"><div class="ttname"><a href="qdm2data_8h.html#aecc291fec3d85e4b06fcda878ca7001d">dequant_1bit</a></div><div class="ttdeci">static const float dequant_1bit[2][3]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00516">qdm2data.h:516</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_ab7ae50b92be93c6ba6cc51d0b114be2a"><div class="ttname"><a href="struct_f_f_t_tone.html#ab7ae50b92be93c6ba6cc51d0b114be2a">FFTTone::complex</a></div><div class="ttdeci">QDM2Complex * complex</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00104">qdm2.c:104</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1f342e4e3615abc9314684ce6b4819c0"><div class="ttname"><a href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00063">movenc.c:63</a></div></div>
<div class="ttc" id="astruct_r_d_f_t_context_html"><div class="ttname"><a href="struct_r_d_f_t_context.html">RDFTContext</a></div><div class="ttdef"><b>Definition:</b> <a href="rdft_8h_source.html#l00028">rdft.h:28</a></div></div>
<div class="ttc" id="adecode__audio_8c_html_a1704ae53d7f426e1b67341785b5b2b58"><div class="ttname"><a href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a></div><div class="ttdeci">static void decode(AVCodecContext *dec_ctx, AVPacket *pkt, AVFrame *frame, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="decode__audio_8c_source.html#l00071">decode_audio.c:71</a></div></div>
<div class="ttc" id="astruct_q_d_m2_sub_packet_html_aec1a5ded5d2e248dd17c434332d61c5a"><div class="ttname"><a href="struct_q_d_m2_sub_packet.html#aec1a5ded5d2e248dd17c434332d61c5a">QDM2SubPacket::size</a></div><div class="ttdeci">unsigned int size</div><div class="ttdoc">subpacket size</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00085">qdm2.c:85</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a6e20eb799f75d721bb8a69225b379d35"><div class="ttname"><a href="qdm2_8c.html#a6e20eb799f75d721bb8a69225b379d35">FIX_NOISE_IDX</a></div><div class="ttdeci">#define FIX_NOISE_IDX(noise_idx)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00064">qdm2.c:64</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html"><div class="ttname"><a href="qdm2__tablegen_8h.html">qdm2_tablegen.h</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a0972e4fbc09564e1df0f9ac27dbeff0d"><div class="ttname"><a href="struct_q_d_m2_context.html#a0972e4fbc09564e1df0f9ac27dbeff0d">QDM2Context::coeff_per_sb_select</a></div><div class="ttdeci">int coeff_per_sb_select</div><div class="ttdoc">selector for &quot;num. of coeffs. per subband&quot; tables. Can be 0, 1, 2</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00142">qdm2.c:142</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_aa696951bcdb7f78e50e6648cdb894ac8"><div class="ttname"><a href="struct_q_d_m2_context.html#aa696951bcdb7f78e50e6648cdb894ac8">QDM2Context::fft_coefs_index</a></div><div class="ttdeci">int fft_coefs_index</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00158">qdm2.c:158</a></div></div>
<div class="ttc" id="amxfenc_8c_html_ad662aa56c1696f09c0ac6b97abafac6d"><div class="ttname"><a href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdef"><b>Definition:</b> <a href="mxfenc_8c_source.html#l02166">mxfenc.c:2166</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_acaf94f3386396a95d3e7042c444a41f7"><div class="ttname"><a href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">VLC::table</a></div><div class="ttdeci">VLC_TYPE(* table)[2]</div><div class="ttdoc">code, bits</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00028">vlc.h:28</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_ae6680c528fe8ae44802a07eb986f8845"><div class="ttname"><a href="qdm2__tablegen_8h.html#ae6680c528fe8ae44802a07eb986f8845">HARDCLIP_THRESHOLD</a></div><div class="ttdeci">#define HARDCLIP_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00032">qdm2_tablegen.h:32</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a726b04b2382bc1fd7b73899aa80ad74c"><div class="ttname"><a href="struct_q_d_m2_context.html#a726b04b2382bc1fd7b73899aa80ad74c">QDM2Context::frequency_range</a></div><div class="ttdeci">int frequency_range</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00140">qdm2.c:140</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a3b03a248d1eec255c3c008c6ebfe36c7"><div class="ttname"><a href="qdm2_8c.html#a3b03a248d1eec255c3c008c6ebfe36c7">QDM2_LIST_ADD</a></div><div class="ttdeci">#define QDM2_LIST_ADD(list, size, packet)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00051">qdm2.c:51</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_ab39ea45ebcd6c71fdd03d9ca1cf5774b"><div class="ttname"><a href="qdm2data_8h.html#ab39ea45ebcd6c71fdd03d9ca1cf5774b">coeff_per_sb_for_dequant</a></div><div class="ttdeci">static const uint8_t coeff_per_sb_for_dequant[3][30]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00300">qdm2data.h:300</a></div></div>
<div class="ttc" id="aaptx_8h_html_ac9da8d7a4bd192b8a7dccbc024542709"><div class="ttname"><a href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a></div><div class="ttdeci">channels</div><div class="ttdef"><b>Definition:</b> <a href="aptx_8h_source.html#l00033">aptx.h:33</a></div></div>
<div class="ttc" id="aget__bits_8h_html"><div class="ttname"><a href="get__bits_8h.html">get_bits.h</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aa16b7a9b143d103a93a823f9eea02512"><div class="ttname"><a href="qdm2_8c.html#aa16b7a9b143d103a93a823f9eea02512">SAMPLES_NEEDED</a></div><div class="ttdeci">#define SAMPLES_NEEDED</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00070">qdm2.c:70</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a721cf318100b8524adba73f290c20278"><div class="ttname"><a href="qdm2_8c.html#a721cf318100b8524adba73f290c20278">init_quantized_coeffs_elem0</a></div><div class="ttdeci">static int init_quantized_coeffs_elem0(int8_t *quantized_coeffs, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00873">qdm2.c:873</a></div></div>
<div class="ttc" id="astruct_q_d_m2_complex_html_a8dc4bd68f458a692f2a2f22968e132c2"><div class="ttname"><a href="struct_q_d_m2_complex.html#a8dc4bd68f458a692f2a2f22968e132c2">QDM2Complex::re</a></div><div class="ttdeci">float re</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00098">qdm2.c:98</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_ada352e9aa95f15e3b0384cc68f3f47e5"><div class="ttname"><a href="struct_q_d_m2_context.html#ada352e9aa95f15e3b0384cc68f3f47e5">QDM2Context::sub_sampling</a></div><div class="ttdeci">int sub_sampling</div><div class="ttdoc">subsampling: 0=25%, 1=50%, 2=100% *‍/</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00141">qdm2.c:141</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_a6bd1a27787595b7ae26de75d01c3539b"><div class="ttname"><a href="qdm2data_8h.html#a6bd1a27787595b7ae26de75d01c3539b">fft_tone_envelope_table</a></div><div class="ttdeci">static const float fft_tone_envelope_table[4][31]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00476">qdm2data.h:476</a></div></div>
<div class="ttc" id="aqdm2_8c_html_af691bc9c5993853161ab377371838109"><div class="ttname"><a href="qdm2_8c.html#af691bc9c5993853161ab377371838109">qdm2_search_subpacket_type_in_list</a></div><div class="ttdeci">static QDM2SubPNode * qdm2_search_subpacket_type_in_list(QDM2SubPNode *list, int type)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00297">qdm2.c:297</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a72a1074dd955a66f49e05a24c9f1dddf"><div class="ttname"><a href="qdm2_8c.html#a72a1074dd955a66f49e05a24c9f1dddf">qdm2_get_vlc</a></div><div class="ttdeci">static int qdm2_get_vlc(GetBitContext *gb, const VLC *vlc, int flag, int depth)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00201">qdm2.c:201</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_v_l_c_html"><div class="ttname"><a href="struct_v_l_c.html">VLC</a></div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00026">vlc.h:26</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aff39d0e09b259c50cdf2ca54f6b3f28b"><div class="ttname"><a href="qdm2_8c.html#aff39d0e09b259c50cdf2ca54f6b3f28b">qdm2_decode_close</a></div><div class="ttdeci">static av_cold int qdm2_decode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01774">qdm2.c:1774</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a27dcdeb6dddb7422b8fa2200aec0ae16"><div class="ttname"><a href="qdm2_8c.html#a27dcdeb6dddb7422b8fa2200aec0ae16">qdm2_packet_checksum</a></div><div class="ttdeci">static uint16_t qdm2_packet_checksum(const uint8_t *data, int length, int value)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00246">qdm2.c:246</a></div></div>
<div class="ttc" id="asvq3_8c_html_aa90bc2b9950a6a9a3144876047f8bee2"><div class="ttname"><a href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a></div><div class="ttdeci">uint8_t run</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00204">svq3.c:204</a></div></div>
<div class="ttc" id="astruct_r_d_f_t_context_html_ac8576007afd8204dec9d79b8a4d0765a"><div class="ttname"><a href="struct_r_d_f_t_context.html#ac8576007afd8204dec9d79b8a4d0765a">RDFTContext::rdft_calc</a></div><div class="ttdeci">void(* rdft_calc)(struct RDFTContext *s, FFTSample *z)</div><div class="ttdef"><b>Definition:</b> <a href="rdft_8h_source.html#l00038">rdft.h:38</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_af1278e6360466160dbbf24f3f6405154"><div class="ttname"><a href="qdm2data_8h.html#af1278e6360466160dbbf24f3f6405154">last_coeff</a></div><div class="ttdeci">static const uint8_t last_coeff[3]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00257">qdm2data.h:257</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a4bf2ed3e66212bea13d57a5345b30442"><div class="ttname"><a href="qdm2__tablegen_8h.html#a4bf2ed3e66212bea13d57a5345b30442">fft_stereo_phase_vlc</a></div><div class="ttdeci">static VLC fft_stereo_phase_vlc</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00104">qdm2_tablegen.h:104</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a85fbd83cebd6a9ee2c5b252ee60cf251"><div class="ttname"><a href="struct_q_d_m2_context.html#a85fbd83cebd6a9ee2c5b252ee60cf251">QDM2Context::group_order</a></div><div class="ttdeci">int group_order</div><div class="ttdoc">Parameters built from header parameters, do not change during playback.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00137">qdm2.c:137</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a410b0e61e1780850bc540d235ae975d9"><div class="ttname"><a href="struct_q_d_m2_context.html#a410b0e61e1780850bc540d235ae975d9">QDM2Context::sub_packet_list_A</a></div><div class="ttdeci">QDM2SubPNode sub_packet_list_A[16]</div><div class="ttdoc">list of all packets</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00147">qdm2.c:147</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a9f17285cc70842ab252aa590b046ecf5"><div class="ttname"><a href="filter__design_8txt.html#a9f17285cc70842ab252aa590b046ecf5">list</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining list</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00025">filter_design.txt:25</a></div></div>
<div class="ttc" id="astruct_q_d_m2_sub_packet_html_ae9d3447b5fded2e3fd611a51dfa42ff2"><div class="ttname"><a href="struct_q_d_m2_sub_packet.html#ae9d3447b5fded2e3fd611a51dfa42ff2">QDM2SubPacket::data</a></div><div class="ttdeci">const uint8_t * data</div><div class="ttdoc">pointer to subpacket data (points to input data buffer, it's not a private copy)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00086">qdm2.c:86</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a5b68a6d1fc193d4026bf95d903534858"><div class="ttname"><a href="struct_q_d_m2_context.html#a5b68a6d1fc193d4026bf95d903534858">QDM2Context::fft_tone_start</a></div><div class="ttdeci">int fft_tone_start</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00155">qdm2.c:155</a></div></div>
<div class="ttc" id="aqdm2_8c_html_ad323a57d796e5da42d6e28854b45ce4c"><div class="ttname"><a href="qdm2_8c.html#ad323a57d796e5da42d6e28854b45ce4c">qdm2_fft_tone_synthesizer</a></div><div class="ttdeci">static void qdm2_fft_tone_synthesizer(QDM2Context *q, int sub_packet)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01471">qdm2.c:1471</a></div></div>
<div class="ttc" id="agroup__lavc__fft_html_gaa306dc16df543b25d9910debc3f76b96"><div class="ttname"><a href="group__lavc__fft.html#gaa306dc16df543b25d9910debc3f76b96">FFTSample</a></div><div class="ttdeci">float FFTSample</div><div class="ttdef"><b>Definition:</b> <a href="avfft_8h_source.html#l00035">avfft.h:35</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead2cbe7fc8799aad9f808e81723e4452f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead2cbe7fc8799aad9f808e81723e4452f">AV_CODEC_ID_QDM2</a></div><div class="ttdeci">@ AV_CODEC_ID_QDM2</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00437">codec_id.h:437</a></div></div>
<div class="ttc" id="ampegaudio_8h_html_aae2d5a401c55c6b2b834c99340911fdb"><div class="ttname"><a href="mpegaudio_8h.html#aae2d5a401c55c6b2b834c99340911fdb">SBLIMIT</a></div><div class="ttdeci">#define SBLIMIT</div><div class="ttdef"><b>Definition:</b> <a href="mpegaudio_8h_source.html#l00044">mpegaudio.h:44</a></div></div>
<div class="ttc" id="aeval_8c_html_afc05d41e1a0fc024ac21072d11d4f263"><div class="ttname"><a href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a></div><div class="ttdeci">int8_t exp</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00072">eval.c:72</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a5e3ab337172dc4cb74ceab5667543988"><div class="ttname"><a href="struct_q_d_m2_context.html#a5e3ab337172dc4cb74ceab5667543988">QDM2Context::mpadsp</a></div><div class="ttdeci">MPADSPContext mpadsp</div><div class="ttdoc">Synthesis filter.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00171">qdm2.c:171</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="abytestream_8h_html_a9c1ffe44fa596e26bc617174edec93b1"><div class="ttname"><a href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a></div><div class="ttdeci">static av_always_inline int bytestream2_get_bytes_left(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00158">bytestream.h:158</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a2b5c0d18715b448b44fcbfc6f29d0748"><div class="ttname"><a href="qdm2_8c.html#a2b5c0d18715b448b44fcbfc6f29d0748">process_subpacket_12</a></div><div class="ttdeci">static void process_subpacket_12(QDM2Context *q, QDM2SubPNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01067">qdm2.c:1067</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_aa3ff9c79e3c901c52705c50f853584c5"><div class="ttname"><a href="struct_f_f_t_tone.html#aa3ff9c79e3c901c52705c50f853584c5">FFTTone::time_index</a></div><div class="ttdeci">short time_index</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00109">qdm2.c:109</a></div></div>
<div class="ttc" id="adecode_8c_html_a0d5adb2b84051826883605b3ab4d1bab"><div class="ttname"><a href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a></div><div class="ttdeci">int ff_get_buffer(AVCodecContext *avctx, AVFrame *frame, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l01879">decode.c:1879</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00050">codec.h:50</a></div></div>
<div class="ttc" id="astruct_q_d_m2_sub_p_node_html_aea157309eeae14e15db8b05dc04daf72"><div class="ttname"><a href="struct_q_d_m2_sub_p_node.html#aea157309eeae14e15db8b05dc04daf72">QDM2SubPNode::next</a></div><div class="ttdeci">struct QDM2SubPNode * next</div><div class="ttdoc">pointer to next packet in the list, NULL if leaf node</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00094">qdm2.c:94</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a7301d60da84ba337dbe4be8279caaf63"><div class="ttname"><a href="struct_q_d_m2_context.html#a7301d60da84ba337dbe4be8279caaf63">QDM2Context::fft_coefs_min_index</a></div><div class="ttdeci">int fft_coefs_min_index[5]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00159">qdm2.c:159</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a4515f26d1e9f5db8ec4a8a0f827ea261"><div class="ttname"><a href="struct_q_d_m2_context.html#a4515f26d1e9f5db8ec4a8a0f827ea261">QDM2Context::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of channels</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00131">qdm2.c:131</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a3822ba736834b082cfb94b2de5f66ec0"><div class="ttname"><a href="qdm2_8c.html#a3822ba736834b082cfb94b2de5f66ec0">qdm2_calculate_fft</a></div><div class="ttdeci">static void qdm2_calculate_fft(QDM2Context *q, int channel, int sub_packet)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01542">qdm2.c:1542</a></div></div>
<div class="ttc" id="acommon_8h_html_a1e233db224cd0a3079fd4572d1a3d717"><div class="ttname"><a href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a></div><div class="ttdeci">#define MKBETAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00406">common.h:406</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a7464396e678040c04d4f1e3e233c991a"><div class="ttname"><a href="qdm2_8c.html#a7464396e678040c04d4f1e3e233c991a">qdm2_decode_init</a></div><div class="ttdeci">static av_cold int qdm2_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01618">qdm2.c:1618</a></div></div>
<div class="ttc" id="asdr2_8c_html_abd18f6ed7dc5da8824a97bc504e4280e"><div class="ttname"><a href="sdr2_8c.html#abd18f6ed7dc5da8824a97bc504e4280e">header</a></div><div class="ttdeci">static const uint8_t header[24]</div><div class="ttdef"><b>Definition:</b> <a href="sdr2_8c_source.html#l00067">sdr2.c:67</a></div></div>
<div class="ttc" id="astruct_q_d_m2_sub_p_node_html_ac198b94fa02be768291a2b5242e560c0"><div class="ttname"><a href="struct_q_d_m2_sub_p_node.html#ac198b94fa02be768291a2b5242e560c0">QDM2SubPNode::packet</a></div><div class="ttdeci">QDM2SubPacket * packet</div><div class="ttdoc">packet</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00093">qdm2.c:93</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a9ead1112aeb6ae138fe53448b2ca3b56"><div class="ttname"><a href="struct_q_d_m2_context.html#a9ead1112aeb6ae138fe53448b2ca3b56">QDM2Context::compressed_size</a></div><div class="ttdeci">int compressed_size</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00167">qdm2.c:167</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a2cb3ba7462caf4bc4bdc0744d76d3bc8"><div class="ttname"><a href="qdm2_8c.html#a2cb3ba7462caf4bc4bdc0744d76d3bc8">QDM2_SB_USED</a></div><div class="ttdeci">#define QDM2_SB_USED(sub_sampling)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00062">qdm2.c:62</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_aaf049da7d965968745455275753c672a"><div class="ttname"><a href="qdm2__tablegen_8h.html#aaf049da7d965968745455275753c672a">random_dequant_type24</a></div><div class="ttdeci">static uint8_t random_dequant_type24[128][3]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00044">qdm2_tablegen.h:44</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">sample format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1194</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_a3b23ed67dcbbfe5d6225f2b49b0108c9"><div class="ttname"><a href="qdm2data_8h.html#a3b23ed67dcbbfe5d6225f2b49b0108c9">vlc_stage3_values</a></div><div class="ttdeci">static const int vlc_stage3_values[60]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00360">qdm2data.h:360</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a8eab37e84ce8bcffaa8d9d017a6b6e4e"><div class="ttname"><a href="qdm2__tablegen_8h.html#a8eab37e84ce8bcffaa8d9d017a6b6e4e">vlc_tab_tone_level_idx_mid</a></div><div class="ttdeci">static VLC vlc_tab_tone_level_idx_mid</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00106">qdm2_tablegen.h:106</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="amathematics_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00052">mathematics.h:52</a></div></div>
<div class="ttc" id="astruct_get_byte_context_html"><div class="ttname"><a href="struct_get_byte_context.html">GetByteContext</a></div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00033">bytestream.h:33</a></div></div>
<div class="ttc" id="ardft_8c_html_a0c354cdb0c8e93f34192ef33538fb1ec"><div class="ttname"><a href="rdft_8c.html#a0c354cdb0c8e93f34192ef33538fb1ec">ff_rdft_init</a></div><div class="ttdeci">av_cold int ff_rdft_init(RDFTContext *s, int nbits, enum RDFTransformType trans)</div><div class="ttdef"><b>Definition:</b> <a href="rdft_8c_source.html#l00088">rdft.c:88</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a14a6ce0781ddb10c78a10f7373f9ff3d"><div class="ttname"><a href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a></div><div class="ttdeci">#define flag(name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00552">cbs_av1.c:552</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_a35e2b27caca51c0e8c5459d58a43043a"><div class="ttname"><a href="qdm2data_8h.html#a35e2b27caca51c0e8c5459d58a43043a">fft_subpackets</a></div><div class="ttdeci">static const uint8_t fft_subpackets[32]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00510">qdm2data.h:510</a></div></div>
<div class="ttc" id="agroup__lavu__mem__macros_html_ga7a422611f83afb33d6e0da44184b548e"><div class="ttname"><a href="group__lavu__mem__macros.html#ga7a422611f83afb33d6e0da44184b548e">DECLARE_ALIGNED</a></div><div class="ttdeci">#define DECLARE_ALIGNED(n, t, v)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8h_source.html#l00120">mem.h:120</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_ae2592fbf1baa7459a935282fc98f9306"><div class="ttname"><a href="qdm2__tablegen_8h.html#ae2592fbf1baa7459a935282fc98f9306">vlc_tab_tone_level_idx_hi2</a></div><div class="ttdeci">static VLC vlc_tab_tone_level_idx_hi2</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00107">qdm2_tablegen.h:107</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ab92ad91055387e15b43ff5f6f60f2895"><div class="ttname"><a href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a></div><div class="ttdeci">uint8_t pi&lt;&lt; 24) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0f/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S16, int16_t,(*(const int16_t *) pi &gt;&gt; 8)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0f/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S32, int32_t,(*(const int32_t *) pi &gt;&gt; 24)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0f/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_FLT, float, av_clip_uint8(lrintf(*(const float *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_FLT, float, av_clip_int16(lrintf(*(const float *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_FLT, float, av_clipl_int32(llrintf(*(const float *) pi *(1U&lt;&lt; 31)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_DBL, double, av_clip_uint8(lrint(*(const double *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_DBL, double, av_clip_int16(lrint(*(const double *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_DBL, double, av_clipl_int32(llrint(*(const double *) pi *(1U&lt;&lt; 31)))) #define SET_CONV_FUNC_GROUP(ofmt, ifmt) static void set_generic_function(AudioConvert *ac) { } void ff_audio_convert_free(AudioConvert **ac) { if(! *ac) return;ff_dither_free(&amp;(*ac) -&gt;dc);av_freep(ac);} AudioConvert *ff_audio_convert_alloc(AVAudioResampleContext *avr, enum AVSampleFormat out_fmt, enum AVSampleFormat in_fmt, int channels, int sample_rate, int apply_map) { AudioConvert *ac;int in_planar, out_planar;ac=av_mallocz(sizeof(*ac));if(!ac) return NULL;ac-&gt;avr=avr;ac-&gt;out_fmt=out_fmt;ac-&gt;in_fmt=in_fmt;ac-&gt;channels=channels;ac-&gt;apply_map=apply_map;if(avr-&gt;dither_method !=AV_RESAMPLE_DITHER_NONE &amp;&amp;av_get_packed_sample_fmt(out_fmt)==AV_SAMPLE_FMT_S16 &amp;&amp;av_get_bytes_per_sample(in_fmt) &gt; 2) { ac-&gt;dc=ff_dither_alloc(avr, out_fmt, in_fmt, channels, sample_rate, apply_map);if(!ac-&gt;dc) { av_free(ac);return NULL;} return ac;} in_planar=ff_sample_fmt_is_planar(in_fmt, channels);out_planar=ff_sample_fmt_is_planar(out_fmt, channels);if(in_planar==out_planar) { ac-&gt;func_type=CONV_FUNC_TYPE_FLAT;ac-&gt;planes=in_planar ? ac-&gt;channels :1;} else if(in_planar) ac-&gt;func_type=CONV_FUNC_TYPE_INTERLEAVE;else ac-&gt;func_type=CONV_FUNC_TYPE_DEINTERLEAVE;set_generic_function(ac);if(ARCH_AARCH64) ff_audio_convert_init_aarch64(ac);if(ARCH_ARM) ff_audio_convert_init_arm(ac);if(ARCH_X86) ff_audio_convert_init_x86(ac);return ac;} int ff_audio_convert(AudioConvert *ac, AudioData *out, AudioData *in) { int use_generic=1;int len=in-&gt;nb_samples;int p;if(ac-&gt;dc) { av_log(ac-&gt;avr, AV_LOG_TRACE, &quot;%d samples - audio_convert: %s to %s (dithered)\n&quot;, len, av_get_sample_fmt_name(ac-&gt;in_fmt), av_get_sample_fmt_name(ac-&gt;out_fmt));return ff_convert_dither(ac-&gt; in</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00326">audio_convert.c:326</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_ad842935ca020017503edc15c5476887f"><div class="ttname"><a href="struct_q_d_m2_context.html#ad842935ca020017503edc15c5476887f">QDM2Context::sub_packet_list_D</a></div><div class="ttdeci">QDM2SubPNode sub_packet_list_D[16]</div><div class="ttdoc">DCT packets.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00151">qdm2.c:151</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_af28829658e9d473c1aec8da9ac0eb7db"><div class="ttname"><a href="struct_q_d_m2_context.html#af28829658e9d473c1aec8da9ac0eb7db">QDM2Context::checksum_size</a></div><div class="ttdeci">int checksum_size</div><div class="ttdoc">size of data block, used also for checksum</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00134">qdm2.c:134</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a62979d2ae134cc9c32151b1144538980"><div class="ttname"><a href="qdm2_8c.html#a62979d2ae134cc9c32151b1144538980">qdm2_decode_fft_packets</a></div><div class="ttdeci">static void qdm2_decode_fft_packets(QDM2Context *q)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01351">qdm2.c:1351</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a09f9d0cee65cb17a34e6e6d313c44b76"><div class="ttname"><a href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default value</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_aea9f49dbab8cbf3ce139b5391ffc6226"><div class="ttname"><a href="struct_q_d_m2_context.html#aea9f49dbab8cbf3ce139b5391ffc6226">QDM2Context::sub_packets</a></div><div class="ttdeci">QDM2SubPacket sub_packets[16]</div><div class="ttdoc">Packets and packet lists.</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00146">qdm2.c:146</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S16</div><div class="ttdoc">signed 16 bits</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00061">samplefmt.h:61</a></div></div>
<div class="ttc" id="aqdm2_8c_html_ab37e676435d712cbe961c450a49e5004"><div class="ttname"><a href="qdm2_8c.html#ab37e676435d712cbe961c450a49e5004">qdm2_decode_sub_packet_header</a></div><div class="ttdeci">static void qdm2_decode_sub_packet_header(GetBitContext *gb, QDM2SubPacket *sub_packet)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00262">qdm2.c:262</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a9f88a12006fb4b83cbb45c1dd36814ca"><div class="ttname"><a href="qdm2__tablegen_8h.html#a9f88a12006fb4b83cbb45c1dd36814ca">qdm2_init_vlc</a></div><div class="ttdeci">static av_cold void qdm2_init_vlc(void)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00118">qdm2_tablegen.h:118</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a28dd236241dbf7b0a6d716c56e4adba1"><div class="ttname"><a href="struct_q_d_m2_context.html#a28dd236241dbf7b0a6d716c56e4adba1">QDM2Context::fft_tone_end</a></div><div class="ttdeci">int fft_tone_end</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00156">qdm2.c:156</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="ampegaudio_8h_html"><div class="ttname"><a href="mpegaudio_8h.html">mpegaudio.h</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_a76b4c42f2ba321afcad99afa72904cce"><div class="ttname"><a href="qdm2data_8h.html#a76b4c42f2ba321afcad99afa72904cce">tone_level_idx_offset_table</a></div><div class="ttdeci">static const int8_t tone_level_idx_offset_table[30][4]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00307">qdm2data.h:307</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a8f018ed5de8190154afdc0ddabf2df92"><div class="ttname"><a href="qdm2__tablegen_8h.html#a8f018ed5de8190154afdc0ddabf2df92">fft_level_exp_alt_vlc</a></div><div class="ttdeci">static VLC fft_level_exp_alt_vlc</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00101">qdm2_tablegen.h:101</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a65028eeb865203abb4ebbb8e7a4388a8"><div class="ttname"><a href="qdm2_8c.html#a65028eeb865203abb4ebbb8e7a4388a8">average_quantized_coeffs</a></div><div class="ttdeci">static void average_quantized_coeffs(QDM2Context *q)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00314">qdm2.c:314</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a99de6a39a48861e48be979ae0f1036bc"><div class="ttname"><a href="qdm2_8c.html#a99de6a39a48861e48be979ae0f1036bc">fill_tone_level_array</a></div><div class="ttdeci">static void fill_tone_level_array(QDM2Context *q, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00441">qdm2.c:441</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00627">avcodec.h:627</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a45f9186e25e514a8bd1bd523ab51aba9"><div class="ttname"><a href="qdm2_8c.html#a45f9186e25e514a8bd1bd523ab51aba9">init_tone_level_dequantization</a></div><div class="ttdeci">static void init_tone_level_dequantization(QDM2Context *q, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00914">qdm2.c:914</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_ac36d06bc414af86fbe35c9efb6170fc5"><div class="ttname"><a href="struct_v_l_c.html#ac36d06bc414af86fbe35c9efb6170fc5">VLC::bits</a></div><div class="ttdeci">int bits</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00027">vlc.h:27</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_a1f0543f447ccfdfd0b146623f3520a18"><div class="ttname"><a href="struct_f_f_t_tone.html#a1f0543f447ccfdfd0b146623f3520a18">FFTTone::duration</a></div><div class="ttdeci">int duration</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00108">qdm2.c:108</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_afbf3be5cc6018591a30fca69a42f6417"><div class="ttname"><a href="struct_q_d_m2_context.html#afbf3be5cc6018591a30fca69a42f6417">QDM2Context::group_size</a></div><div class="ttdeci">int group_size</div><div class="ttdoc">size of frame group (16 frames per group)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00132">qdm2.c:132</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_ac500c4d11b8ce4cc563434ef939b5555"><div class="ttname"><a href="qdm2data_8h.html#ac500c4d11b8ce4cc563434ef939b5555">fft_tone_sample_table</a></div><div class="ttdeci">static const float fft_tone_sample_table[4][16][5]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00368">qdm2data.h:368</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="astruct_q_d_m2_f_f_t_html"><div class="ttname"><a href="struct_q_d_m2_f_f_t.html">QDM2FFT</a></div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00121">qdm2.c:121</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_ac666e3bb0d9de17367dd53f8176ab700"><div class="ttname"><a href="qdm2data_8h.html#ac666e3bb0d9de17367dd53f8176ab700">type34_delta</a></div><div class="ttdeci">static const float type34_delta[10]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00526">qdm2data.h:526</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_ab5c5576b00bea8e0a5ed029083265afa"><div class="ttname"><a href="qdm2data_8h.html#ab5c5576b00bea8e0a5ed029083265afa">coeff_per_sb_for_avg</a></div><div class="ttdeci">static const uint8_t coeff_per_sb_for_avg[3][30]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00261">qdm2data.h:261</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a7fe699b8dcd859ce061dabffa6c28894"><div class="ttname"><a href="struct_q_d_m2_context.html#a7fe699b8dcd859ce061dabffa6c28894">QDM2Context::fft_order</a></div><div class="ttdeci">int fft_order</div><div class="ttdoc">order of FFT (actually fftorder+1)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00138">qdm2.c:138</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_abe9b79903832cd120284a4fc7b494302"><div class="ttname"><a href="qdm2__tablegen_8h.html#abe9b79903832cd120284a4fc7b494302">fft_level_exp_vlc</a></div><div class="ttdeci">static VLC fft_level_exp_vlc</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00102">qdm2_tablegen.h:102</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aa2d5d75cabcab507bc2b74c5bfd55768"><div class="ttname"><a href="qdm2_8c.html#aa2d5d75cabcab507bc2b74c5bfd55768">qdm2_synthesis_filter</a></div><div class="ttdeci">static void qdm2_synthesis_filter(QDM2Context *q, int index)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01562">qdm2.c:1562</a></div></div>
<div class="ttc" id="achannel__layout_8h_html"><div class="ttname"><a href="channel__layout_8h.html">channel_layout.h</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a92c6bdb341c4494819a405cc651d316c"><div class="ttname"><a href="qdm2_8c.html#a92c6bdb341c4494819a405cc651d316c">sb_int8_array</a></div><div class="ttdeci">int8_t sb_int8_array[2][30][64]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00078">qdm2.c:78</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aace8d944b80dc5a0a2cb814dc2ab9664"><div class="ttname"><a href="qdm2_8c.html#aace8d944b80dc5a0a2cb814dc2ab9664">QDM2FFT</a></div><div class="ttdeci">struct QDM2FFT QDM2FFT</div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a9a6646af08319f51c783ac30353c1d45"><div class="ttname"><a href="struct_q_d_m2_context.html#a9a6646af08319f51c783ac30353c1d45">QDM2Context::frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdoc">size of data frame</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00139">qdm2.c:139</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a39f479ee65336287c3e5b9ba27ee695c"><div class="ttname"><a href="qdm2__tablegen_8h.html#a39f479ee65336287c3e5b9ba27ee695c">noise_samples</a></div><div class="ttdeci">static float noise_samples[128]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00045">qdm2_tablegen.h:45</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="astruct_q_d_m2_sub_packet_html_a191247784ea989e9936e2fe957b74b7e"><div class="ttname"><a href="struct_q_d_m2_sub_packet.html#a191247784ea989e9936e2fe957b74b7e">QDM2SubPacket::type</a></div><div class="ttdeci">int type</div><div class="ttdoc">subpacket type</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00084">qdm2.c:84</a></div></div>
<div class="ttc" id="astruct_f_f_t_coefficient_html_a122224e37afb7d4041dde86ea82ab975"><div class="ttname"><a href="struct_f_f_t_coefficient.html#a122224e37afb7d4041dde86ea82ab975">FFTCoefficient::offset</a></div><div class="ttdeci">int16_t offset</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00116">qdm2.c:116</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a6b6d532a637bb5265e00e6d2bc55e333"><div class="ttname"><a href="qdm2_8c.html#a6b6d532a637bb5265e00e6d2bc55e333">QDM2SubPacket</a></div><div class="ttdeci">struct QDM2SubPacket QDM2SubPacket</div></div>
<div class="ttc" id="afilter__design_8txt_html_ac53f7e33bdbd6ea3ec96ee0f1292ee84"><div class="ttname"><a href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio samples</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00008">filter_design.txt:8</a></div></div>
<div class="ttc" id="ampegaudiodsp_8h_html_ac9df52830dc70e0f387d92f2f0d54428"><div class="ttname"><a href="mpegaudiodsp_8h.html#ac9df52830dc70e0f387d92f2f0d54428">ff_mpa_synth_filter_float</a></div><div class="ttdeci">void ff_mpa_synth_filter_float(MPADSPContext *s, float *synth_buf_ptr, int *synth_buf_offset, float *window, int *dither_state, float *samples, ptrdiff_t incr, float *sb_samples)</div></div>
<div class="ttc" id="aqdm2data_8h_html_adaeab1d07c5baca061b600b253135a78"><div class="ttname"><a href="qdm2data_8h.html#adaeab1d07c5baca061b600b253135a78">type30_dequant</a></div><div class="ttdeci">static const float type30_dequant[8]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00521">qdm2data.h:521</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a08113dc106d146ca7452ccdef7320fc4"><div class="ttname"><a href="qdm2__tablegen_8h.html#a08113dc106d146ca7452ccdef7320fc4">vlc_tab_diff</a></div><div class="ttdeci">static VLC vlc_tab_diff</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00099">qdm2_tablegen.h:99</a></div></div>
<div class="ttc" id="ampegaudiodsp_8h_html"><div class="ttname"><a href="mpegaudiodsp_8h.html">mpegaudiodsp.h</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a9efadec814f92c2ff7b912b484f23757"><div class="ttname"><a href="qdm2_8c.html#a9efadec814f92c2ff7b912b484f23757">qdm2_get_se_vlc</a></div><div class="ttdeci">static int qdm2_get_se_vlc(const VLC *vlc, GetBitContext *gb, int depth)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00230">qdm2.c:230</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_aed9ae13b7722c11850ff721b9fdba826"><div class="ttname"><a href="struct_q_d_m2_context.html#aed9ae13b7722c11850ff721b9fdba826">QDM2Context::cm_table_select</a></div><div class="ttdeci">int cm_table_select</div><div class="ttdoc">selector for &quot;coding method&quot; tables. Can be 0, 1 (from init: 0-4)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00143">qdm2.c:143</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a87f973e7127d552722365ae23c4b113c"><div class="ttname"><a href="struct_q_d_m2_context.html#a87f973e7127d552722365ae23c4b113c">QDM2Context::fft_level_exp</a></div><div class="ttdeci">int fft_level_exp[6]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00161">qdm2.c:161</a></div></div>
<div class="ttc" id="aqdm2data_8h_html_a693e99611fb0efa4036173bb5033e877"><div class="ttname"><a href="qdm2data_8h.html#a693e99611fb0efa4036173bb5033e877">fft_cutoff_index_table</a></div><div class="ttdeci">static const int fft_cutoff_index_table[4][2]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2data_8h_source.html#l00234">qdm2data.h:234</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a0b6287012a7f96de4dc5085c40b9e814"><div class="ttname"><a href="qdm2_8c.html#a0b6287012a7f96de4dc5085c40b9e814">process_subpacket_10</a></div><div class="ttdeci">static void process_subpacket_10(QDM2Context *q, QDM2SubPNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01019">qdm2.c:1019</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="astruct_q_d_m2_sub_p_node_html"><div class="ttname"><a href="struct_q_d_m2_sub_p_node.html">QDM2SubPNode</a></div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00092">qdm2.c:92</a></div></div>
<div class="ttc" id="aqdm2_8c_html_aaad7ba4b4b6ef57b94924c138168ac46"><div class="ttname"><a href="qdm2_8c.html#aaad7ba4b4b6ef57b94924c138168ac46">qdm2_fft_generate_tone</a></div><div class="ttdeci">static void qdm2_fft_generate_tone(QDM2Context *q, FFTTone *tone)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01425">qdm2.c:1425</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a7f39229de8c9f1af0dcc033115ca1114"><div class="ttname"><a href="qdm2_8c.html#a7f39229de8c9f1af0dcc033115ca1114">QDM2_MAX_FRAME_SIZE</a></div><div class="ttdeci">#define QDM2_MAX_FRAME_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00076">qdm2.c:76</a></div></div>
<div class="ttc" id="avf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00136">vf_palettegen.c:136</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a3c1e598a401d01ba079f4e85a83df7b0"><div class="ttname"><a href="struct_q_d_m2_context.html#a3c1e598a401d01ba079f4e85a83df7b0">QDM2Context::fft_size</a></div><div class="ttdeci">int fft_size</div><div class="ttdoc">size of FFT, in complex numbers</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00133">qdm2.c:133</a></div></div>
<div class="ttc" id="amacros_8h_html_acae4ba605b3a7d535b7ac058ffe96892"><div class="ttname"><a href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a></div><div class="ttdeci">#define FFALIGN(x, a)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00048">macros.h:48</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a78e3f91432995b915be2a7d2f86fb29b"><div class="ttname"><a href="qdm2_8c.html#a78e3f91432995b915be2a7d2f86fb29b">ff_qdm2_decoder</a></div><div class="ttdeci">AVCodec ff_qdm2_decoder</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l01877">qdm2.c:1877</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_a57566de9ff68380e132855ff59fc40f1"><div class="ttname"><a href="qdm2__tablegen_8h.html#a57566de9ff68380e132855ff59fc40f1">vlc_tab_fft_tone_offset</a></div><div class="ttdeci">static VLC vlc_tab_fft_tone_offset[5]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00110">qdm2_tablegen.h:110</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a2a744c7b595c7d762f33414f19dfdcaa"><div class="ttname"><a href="struct_q_d_m2_context.html#a2a744c7b595c7d762f33414f19dfdcaa">QDM2Context::output_buffer</a></div><div class="ttdeci">float output_buffer[QDM2_MAX_FRAME_SIZE *MPA_MAX_CHANNELS *2]</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00168">qdm2.c:168</a></div></div>
<div class="ttc" id="ampegaudiodsp_8h_html_a9ce4dce6a6e8e6dcc3c267cadeaccfb5"><div class="ttname"><a href="mpegaudiodsp_8h.html#a9ce4dce6a6e8e6dcc3c267cadeaccfb5">ff_mpa_synth_init_float</a></div><div class="ttdeci">void ff_mpa_synth_init_float(float *window)</div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html_a7c3dd26059de9d76b7b84b1eff635b5b"><div class="ttname"><a href="struct_q_d_m2_context.html#a7c3dd26059de9d76b7b84b1eff635b5b">QDM2Context::sub_packets_B</a></div><div class="ttdeci">int sub_packets_B</div><div class="ttdoc">number of packets on 'B' list</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00149">qdm2.c:149</a></div></div>
<div class="ttc" id="abytestream_8h_html_aade8884858d9239b8561013a21898dc0"><div class="ttname"><a href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a></div><div class="ttdeci">static av_always_inline void bytestream2_init(GetByteContext *g, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00137">bytestream.h:137</a></div></div>
<div class="ttc" id="astruct_q_d_m2_context_html"><div class="ttname"><a href="struct_q_d_m2_context.html">QDM2Context</a></div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00128">qdm2.c:128</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="ampegaudio_8h_html_a90c106dcc84bd769bb0fbbe073fb2277"><div class="ttname"><a href="mpegaudio_8h.html#a90c106dcc84bd769bb0fbbe073fb2277">MPA_MAX_CHANNELS</a></div><div class="ttdeci">#define MPA_MAX_CHANNELS</div><div class="ttdef"><b>Definition:</b> <a href="mpegaudio_8h_source.html#l00042">mpegaudio.h:42</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a303f97ae371d80410b3ba229dfb6f1fa"><div class="ttname"><a href="qdm2_8c.html#a303f97ae371d80410b3ba229dfb6f1fa">SB_DITHERING_NOISE</a></div><div class="ttdeci">#define SB_DITHERING_NOISE(sb, noise_idx)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00068">qdm2.c:68</a></div></div>
<div class="ttc" id="alibavcodec_24xm_8c_html_a4961eb02c0214fa72c43b2b2843488dc"><div class="ttname"><a href="libavcodec_24xm_8c.html#a4961eb02c0214fa72c43b2b2843488dc">dequant_table</a></div><div class="ttdeci">static const uint8_t dequant_table[64]</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_24xm_8c_source.html#l00114">4xm.c:114</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="astruct_f_f_t_coefficient_html"><div class="ttname"><a href="struct_f_f_t_coefficient.html">FFTCoefficient</a></div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00113">qdm2.c:113</a></div></div>
<div class="ttc" id="aqdm2__tablegen_8h_html_abbec96ec3273bdfe8a55fdc450a9d566"><div class="ttname"><a href="qdm2__tablegen_8h.html#abbec96ec3273bdfe8a55fdc450a9d566">softclip_table_init</a></div><div class="ttdeci">static av_cold void softclip_table_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="qdm2__tablegen_8h_source.html#l00047">qdm2_tablegen.h:47</a></div></div>
<div class="ttc" id="aebur128_8h_html_af4463779bb9b119822c94419a10d31c0"><div class="ttname"><a href="ebur128_8h.html#af4463779bb9b119822c94419a10d31c0">channel</a></div><div class="ttdeci">channel</div><div class="ttdef"><b>Definition:</b> <a href="ebur128_8h_source.html#l00039">ebur128.h:39</a></div></div>
<div class="ttc" id="astruct_f_f_t_tone_html_a296eabae84574a7e453b61f8ff70e00f"><div class="ttname"><a href="struct_f_f_t_tone.html#a296eabae84574a7e453b61f8ff70e00f">FFTTone::phase</a></div><div class="ttdeci">int phase</div><div class="ttdef"><b>Definition:</b> <a href="qdm2_8c_source.html#l00106">qdm2.c:106</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aeb08c575a79eb84fc4155dda88f46c06"><div class="ttname"><a href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">AVCodecContext::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01237">avcodec.h:1237</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01186">avcodec.h:1186</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_ad2e88d75f808e6d4e78d48bceb10c336"><div class="ttname"><a href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a></div><div class="ttdeci">float min</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00456">vorbis_enc_data.h:456</a></div></div>
<div class="ttc" id="achannel__layout_8c_html_ac8404c077a0560a06a73cfec0697c99a"><div class="ttname"><a href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a></div><div class="ttdeci">int nb_channels</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00081">channel_layout.c:81</a></div></div>
<div class="ttc" id="aqdm2_8c_html_a23ed8f7824bf37dc666c9e04a8bc805b"><div class="ttname"><a href="qdm2_8c.html#a23ed8f7824bf37dc666c9e04a8bc805b">QDM2SubPNode</a></div><div class="ttdeci">struct QDM2SubPNode QDM2SubPNode</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
