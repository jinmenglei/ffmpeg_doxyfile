<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/avienc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">avienc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="avienc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * AVI muxer</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2000 Fabrice Bellard</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avi_8h.html">avi.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avio__internal_8h.html">avio_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="riff_8h.html">riff.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegts_8h.html">mpegts.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avlanguage_8h.html">libavformat/avlanguage.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avutil_8h.html">libavutil/avutil.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">libavutil/dict.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timestamp_8h.html">libavutil/timestamp.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw_8h.html">libavcodec/raw.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * TODO:</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> *  - fill all fields if non streamed (nb_frames for example)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_a_v_i_ientry.html">   46</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_v_i_ientry.html">AVIIentry</a> {</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_a_v_i_ientry.html#af5340e36ef57c1680b027db07bbfdd39">   47</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_a_v_i_ientry.html#af5340e36ef57c1680b027db07bbfdd39">tag</a>[4];</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_a_v_i_ientry.html#a193ed4cd72f3fd0bb4a8a0d3005e5454">   48</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_ientry.html#a193ed4cd72f3fd0bb4a8a0d3005e5454">flags</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_a_v_i_ientry.html#abf4cd4eb909d70cb3beccab0138a6308">   49</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_ientry.html#abf4cd4eb909d70cb3beccab0138a6308">pos</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_a_v_i_ientry.html#a9687b02571d8f2d1c170d692dbec195a">   50</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_ientry.html#a9687b02571d8f2d1c170d692dbec195a">len</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="avienc_8c.html#ac6af0ef6430fdb5705f81076bab68bbb">   51</a></span>&#160;} <a class="code" href="avienc_8c.html#ac6af0ef6430fdb5705f81076bab68bbb">AVIIentry</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">   53</a></span>&#160;<span class="preprocessor">#define AVI_INDEX_CLUSTER_SIZE 16384</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="avienc_8c.html#af0497ed767dafe19bd7dd9ae31b375ed">   54</a></span>&#160;<span class="preprocessor">#define AVI_MASTER_INDEX_PREFIX_SIZE    (8+2+1+1+4+8+4+4)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="avienc_8c.html#aae00ec42623a4e977025eba36a2510f4">   55</a></span>&#160;<span class="preprocessor">#define AVI_MASTER_INDEX_ENTRY_SIZE     16  </span><span class="comment">/* bytes per entry */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="avienc_8c.html#a96c97bf5740ca8a287a3447343e57f84">   56</a></span>&#160;<span class="preprocessor">#define AVI_MASTER_INDEX_SIZE_DEFAULT   256 </span><span class="comment">/* number of entries */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_a_v_i_index.html">   58</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_v_i_index.html">AVIIndex</a> {</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_a_v_i_index.html#a1b026b4a6da0f769dd5ebdaca7d886ba">   59</a></span>&#160;    int64_t     <a class="code" href="struct_a_v_i_index.html#a1b026b4a6da0f769dd5ebdaca7d886ba">indx_start</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_a_v_i_index.html#a74a8efad50c66cb3fd954961fe1730bf">   60</a></span>&#160;    int64_t     <a class="code" href="struct_a_v_i_index.html#a74a8efad50c66cb3fd954961fe1730bf">audio_strm_offset</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">   61</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">   62</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">ents_allocated</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">   63</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">master_odml_riff_id_base</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">   64</a></span>&#160;    <a class="code" href="struct_a_v_i_ientry.html">AVIIentry</a>** <a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="avienc_8c.html#adfed5d9ffec90165dd257eb35aaf2463">   65</a></span>&#160;} <a class="code" href="avienc_8c.html#adfed5d9ffec90165dd257eb35aaf2463">AVIIndex</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_v_i_context.html">AVIContext</a> {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">   69</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">riff_start</a>, <a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>, <a class="code" href="struct_a_v_i_context.html#a88d3cfc0e0da015f17f1644983c895e9">odml_list</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a4853ab9f83533dd879d7e7f49193c3e3">   70</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_context.html#a4853ab9f83533dd879d7e7f49193c3e3">frames_hdr_all</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">   71</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#af609814e090f1c5f5d985904d75939dd">   72</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#af609814e090f1c5f5d985904d75939dd">reserve_index_space</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">   73</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a2999f3648c4bd33489abc3a9a92f000f">   74</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#a2999f3648c4bd33489abc3a9a92f000f">write_channel_mask</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_a_v_i_context.html#a2c086036b9db1433dd368072edbff912">   75</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_context.html#a2c086036b9db1433dd368072edbff912">flipped_raw_rgb</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="avienc_8c.html#aa6884766a457406d64af48fa6ba00477">   76</a></span>&#160;} <a class="code" href="avienc_8c.html#aa6884766a457406d64af48fa6ba00477">AVIContext</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_v_i_stream.html">AVIStream</a> {</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a39cf697e8ace64105d9a98a6bff01e7b">   79</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#a39cf697e8ace64105d9a98a6bff01e7b">frames_hdr_strm</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a3d2233d1038c66fb2c302ad71547e23c">   80</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#a3d2233d1038c66fb2c302ad71547e23c">audio_strm_length</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">   81</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a0952229d7817000dd8a5f0981d940483">   82</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#a0952229d7817000dd8a5f0981d940483">entry</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#aeb58b8c67ae6984c69a1340475dcb294">   83</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#aeb58b8c67ae6984c69a1340475dcb294">max_size</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#aa6e60c3e1f8fe1b4935c0781462c2fda">   84</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_v_i_stream.html#aa6e60c3e1f8fe1b4935c0781462c2fda">sample_requested</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a17aa9a4f8f83acc027607374f557a0b9">   86</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#a17aa9a4f8f83acc027607374f557a0b9">last_dts</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">   88</a></span>&#160;    <a class="code" href="struct_a_v_i_index.html">AVIIndex</a> <a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a6a15840d0d651b9b6321a9082c44fcf4">   90</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#a6a15840d0d651b9b6321a9082c44fcf4">strh_flags_offset</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">   92</a></span>&#160;    uint32_t <a class="code" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">palette</a>[<a class="code" href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a>];</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#a9ac2708520f251b303f99e92439a88f3">   93</a></span>&#160;    uint32_t <a class="code" href="struct_a_v_i_stream.html#a9ac2708520f251b303f99e92439a88f3">old_palette</a>[<a class="code" href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a>];</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="struct_a_v_i_stream.html#afb3455c0838fbbf015cdb6fdcd1401b0">   94</a></span>&#160;    int64_t <a class="code" href="struct_a_v_i_stream.html#afb3455c0838fbbf015cdb6fdcd1401b0">pal_offset</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="avienc_8c.html#a7a0b0a2d67065ab808db4ff55f7e0f83">   95</a></span>&#160;} <a class="code" href="avienc_8c.html#a7a0b0a2d67065ab808db4ff55f7e0f83">AVIStream</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">avi_write_packet_internal</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="avienc_8c.html#a5f0232a04f53061ee461139613d6b3f2">   99</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct_a_v_i_ientry.html">AVIIentry</a> *<a class="code" href="avienc_8c.html#a5f0232a04f53061ee461139613d6b3f2">avi_get_ientry</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_i_index.html">AVIIndex</a> *idx, <span class="keywordtype">int</span> ent_id)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">int</span> cl = ent_id / <a class="code" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = ent_id % <a class="code" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> &amp;idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl][<a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="avienc_8c.html#aa87dcd7bb8639c1172ba192eac2793fe">  106</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#aa87dcd7bb8639c1172ba192eac2793fe">avi_add_ientry</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index, <span class="keywordtype">char</span> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;priv_data;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="struct_a_v_i_index.html">AVIIndex</a> *idx    = &amp;avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">int</span> cl           = idx-&gt;<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a> / <a class="code" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span>           = idx-&gt;<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a> % <a class="code" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (idx-&gt;<a class="code" href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">ents_allocated</a> &lt;= idx-&gt;<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a>) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a> = <a class="code" href="tableprint__vlc_8h.html#a91ede117e78922c63c5fbd0c5793449f">av_realloc_f</a>(idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*), cl+1);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> (!idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            idx-&gt;<a class="code" href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">ents_allocated</a> = 0;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            idx-&gt;<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a>          = 0;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl] =</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a> * <span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_i_ientry.html">AVIIentry</a>));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> (!idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl])</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        idx-&gt;<a class="code" href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">ents_allocated</a> += <a class="code" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        memcpy(idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl][<span class="keywordtype">id</span>].<a class="code" href="struct_a_v_i_ientry.html#af5340e36ef57c1680b027db07bbfdd39">tag</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, 4);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        memset(idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl][<span class="keywordtype">id</span>].<a class="code" href="struct_a_v_i_ientry.html#af5340e36ef57c1680b027db07bbfdd39">tag</a>, 0, 4);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl][<a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>].<a class="code" href="struct_a_v_i_ientry.html#a193ed4cd72f3fd0bb4a8a0d3005e5454">flags</a> = <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl][<a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>].<a class="code" href="struct_a_v_i_ientry.html#abf4cd4eb909d70cb3beccab0138a6308">pos</a>   = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    idx-&gt;<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[cl][<a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>].<a class="code" href="struct_a_v_i_ientry.html#a9687b02571d8f2d1c170d692dbec195a">len</a>   = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    avist-&gt;<a class="code" href="struct_a_v_i_stream.html#aeb58b8c67ae6984c69a1340475dcb294">max_size</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(avist-&gt;<a class="code" href="struct_a_v_i_stream.html#aeb58b8c67ae6984c69a1340475dcb294">max_size</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    idx-&gt;<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a>++;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="avienc_8c.html#a48bdb60c311b3779beaa12698a8e6489">  143</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#a48bdb60c311b3779beaa12698a8e6489">avi_init</a>(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#af609814e090f1c5f5d985904d75939dd">reserve_index_space</a> &gt; 0) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a> = (avi-&gt;<a class="code" href="struct_a_v_i_context.html#af609814e090f1c5f5d985904d75939dd">reserve_index_space</a> - <a class="code" href="avienc_8c.html#af0497ed767dafe19bd7dd9ae31b375ed">AVI_MASTER_INDEX_PREFIX_SIZE</a>) / <a class="code" href="avienc_8c.html#aae00ec42623a4e977025eba36a2510f4">AVI_MASTER_INDEX_ENTRY_SIZE</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>, 16);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a> = <a class="code" href="avienc_8c.html#a96c97bf5740ca8a287a3447343e57f84">AVI_MASTER_INDEX_SIZE_DEFAULT</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;reserve_index_space:%d master_index_max_size:%d\n&quot;</span>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;           avi-&gt;<a class="code" href="struct_a_v_i_context.html#af609814e090f1c5f5d985904d75939dd">reserve_index_space</a>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> 1; <span class="comment">/* stream initialization continues in avi_write_header */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="avienc_8c.html#a424a7bfc05a0fbde28f268fe06b63efb">  158</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="avienc_8c.html#a424a7bfc05a0fbde28f268fe06b63efb">avi_start_new_riff</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *riff_tag, <span class="keyword">const</span> <span class="keywordtype">char</span> *list_tag)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    int64_t loff;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a>++;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a74a8efad50c66cb3fd954961fe1730bf">audio_strm_offset</a> = avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a3d2233d1038c66fb2c302ad71547e23c">audio_strm_length</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a> = 0;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">riff_start</a> = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;RIFF&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, riff_tag);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    loff = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;LIST&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, list_tag);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> loff;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">  179</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">avi_stream2fourcc</a>(<span class="keywordtype">char</span> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[0] = <span class="charliteral">&#39;0&#39;</span> + <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> / 10;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[1] = <span class="charliteral">&#39;0&#39;</span> + <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> % 10;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[2] = <span class="charliteral">&#39;d&#39;</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[3] = <span class="charliteral">&#39;c&#39;</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">// note: this is not an official code</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[2] = <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[3] = <span class="charliteral">&#39;b&#39;</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[2] = <span class="charliteral">&#39;w&#39;</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[3] = <span class="charliteral">&#39;b&#39;</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[4] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="avienc_8c.html#a5453edbbc2d58018007f7c8b277d57f1">  198</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#a5453edbbc2d58018007f7c8b277d57f1">avi_write_counters</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> riff_id)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">int</span> n, au_byterate, au_ssize, au_scale, nb_frames = 0;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    int64_t file_size;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    file_size = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">for</span> (n = 0; n &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; n++) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n]-&gt;priv_data;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a39cf697e8ace64105d9a98a6bff01e7b">frames_hdr_strm</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        par = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n]-&gt;codecpar;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a39cf697e8ace64105d9a98a6bff01e7b">frames_hdr_strm</a>, SEEK_SET);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="riff_8h.html#ac12c7b6a951ffeaa71caea9e1871cc99">ff_parse_specific_params</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n], &amp;au_byterate, &amp;au_ssize, &amp;au_scale);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (au_ssize == 0)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a3d2233d1038c66fb2c302ad71547e23c">audio_strm_length</a> / au_ssize);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            nb_frames = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(nb_frames, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (riff_id == 1) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(avi-&gt;<a class="code" href="struct_a_v_i_context.html#a4853ab9f83533dd879d7e7f49193c3e3">frames_hdr_all</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a4853ab9f83533dd879d7e7f49193c3e3">frames_hdr_all</a>, SEEK_SET);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, nb_frames);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, file_size, SEEK_SET);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="avienc_8c.html#afd03571a00b0009adbdcf7b0f8f50700">  231</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="avienc_8c.html#afd03571a00b0009adbdcf7b0f8f50700">write_odml_master</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[5];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">/* Starting to lay out AVI OpenDML master index.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">        * We want to make it JUNK entry for now, since we&#39;d</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">        * like to get away without making AVI an OpenDML one</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">        * for compatibility reasons. */</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a1b026b4a6da0f769dd5ebdaca7d886ba">indx_start</a> = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;JUNK&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, 4);   <span class="comment">/* wLongsPerEntry */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 0);     <span class="comment">/* bIndexSubType (0 == frame index) */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 0);     <span class="comment">/* bIndexType (0 == AVI_INDEX_OF_INDEXES) */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);   <span class="comment">/* nEntriesInUse (will fill out later on) */</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <a class="code" href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">avi_stream2fourcc</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, stream_index, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        <span class="comment">/* dwChunkId */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="avio_8h.html#a09510d3318eda871f8b91693e2774425">avio_wl64</a>(pb, 0);   <span class="comment">/* dwReserved[3] */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);   <span class="comment">/* Must be 0.    */</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a> * 2; j++)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="avio_8h.html#a09510d3318eda871f8b91693e2774425">avio_wl64</a>(pb, 0);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a1b026b4a6da0f769dd5ebdaca7d886ba">indx_start</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="avienc_8c.html#ad15cf6e9853e33397d7e14617a28ec07">  259</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#ad15cf6e9853e33397d7e14617a28ec07">avi_write_header</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>, n, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, nb_frames, au_byterate, au_ssize, au_scale;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    int64_t max_stream_duration = 0;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *video_par;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="tests_2movenc_8c.html#a6a0f7b2e034b09d19229e0240f39ae5e">video_st</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    int64_t list1, list2, strh, strf;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *t = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">int</span> padding;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &gt; <a class="code" href="avi_8h.html#a6c74639c2259002f2b1d1025f9b68ab9">AVI_MAX_STREAM_COUNT</a>) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;AVI does not support &quot;</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;               <span class="stringliteral">&quot;&gt;&quot;</span><a class="code" href="group__preproc__misc.html#ga700cb39b719fc7069d15c134129b1ca0">AV_STRINGIFY</a>(<a class="code" href="avi_8h.html#a6c74639c2259002f2b1d1025f9b68ab9">AVI_MAX_STREAM_COUNT</a>)<span class="stringliteral">&quot; streams\n&quot;</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">for</span> (n = 0; n &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; n++) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n]-&gt;priv_data = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_i_stream.html">AVIStream</a>));</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n]-&gt;priv_data)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">/* header list */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> = 0;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    list1 = <a class="code" href="avienc_8c.html#a424a7bfc05a0fbde28f268fe06b63efb">avi_start_new_riff</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, <span class="stringliteral">&quot;AVI &quot;</span>, <span class="stringliteral">&quot;hdrl&quot;</span>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">/* avi header */</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;avih&quot;</span>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 14 * 4);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> = 0;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    video_par = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">for</span> (n = 0; n &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; n++) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n]-&gt;codecpar;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n];</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> + par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a>, INT32_MAX);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> &gt; 0) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            int64_t stream_duration = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            max_stream_duration = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(stream_duration, max_stream_duration);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            video_par = par;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a6a0f7b2e034b09d19229e0240f39ae5e">video_st</a> = st;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">/* guess master index size based on bitrate and duration */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (!avi-&gt;<a class="code" href="struct_a_v_i_context.html#af609814e090f1c5f5d985904d75939dd">reserve_index_space</a>) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordtype">double</span> duration_est, filesize_est;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration &gt; 0)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            duration_est = (double)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (max_stream_duration &gt; 0)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            duration_est = (double)max_stream_duration / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            duration_est = 10 * 60 * 60; <span class="comment">/* default to 10 hours */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        filesize_est = duration_est * (<a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> / 8) * 1.10; <span class="comment">/* add 10% safety margin for muxer+bitrate */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>((<span class="keywordtype">int</span>)<a class="code" href="cuda__runtime_8h.html#a3d5b3d948300f6011eb52b4d1f4381b3">ceil</a>(filesize_est / <a class="code" href="avi_8h.html#aaab541ab9723c9f33ccc14dbb22f50b4">AVI_MAX_RIFF_SIZE</a>) + 1,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                           avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;duration_est:%0.3f, filesize_est:%0.1fGiB, master_index_max_size:%d\n&quot;</span>,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;               duration_est, filesize_est / (1024*1024*1024), avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    nb_frames = 0;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// TODO: should be avg_frame_rate</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a6a0f7b2e034b09d19229e0240f39ae5e">video_st</a>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, (uint32_t) (INT64_C(1000000) * <a class="code" href="tests_2movenc_8c.html#a6a0f7b2e034b09d19229e0240f39ae5e">video_st</a>-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> /</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                  <a class="code" href="tests_2movenc_8c.html#a6a0f7b2e034b09d19229e0240f39ae5e">video_st</a>-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>));</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> / 8); <span class="comment">/* XXX: not quite exact */</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* padding */</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (!(pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>))</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="avi_8h.html#a74046a9b7157b6814f1e1a18729bdad7">AVIF_TRUSTCKTYPE</a> | <a class="code" href="avi_8h.html#a7ae87bcbb535f884fd0a8ccc6378f5de">AVIF_ISINTERLEAVED</a>);  <span class="comment">/* flags */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="avi_8h.html#a74046a9b7157b6814f1e1a18729bdad7">AVIF_TRUSTCKTYPE</a> | <a class="code" href="avi_8h.html#a16b282925795f457dd96998ed2bc4211">AVIF_HASINDEX</a> | <a class="code" href="avi_8h.html#a7ae87bcbb535f884fd0a8ccc6378f5de">AVIF_ISINTERLEAVED</a>);  <span class="comment">/* flags */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a4853ab9f83533dd879d7e7f49193c3e3">frames_hdr_all</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb); <span class="comment">/* remember this offset to fill later */</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, nb_frames); <span class="comment">/* nb frames, filled later */</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* initial frame */</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams); <span class="comment">/* nb streams */</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 1024 * 1024); <span class="comment">/* suggested buffer size */</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (video_par) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, video_par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, video_par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* reserved */</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* reserved */</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* reserved */</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* reserved */</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">/* stream list */</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        list2 = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;LIST&quot;</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;strl&quot;</span>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="comment">/* stream generic header */</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        strh = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;strh&quot;</span>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">switch</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="comment">// XSUB subtitles behave like video tracks, other subtitles</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="comment">// are not (yet) supported.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a>) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;Subtitle streams other than DivX XSUB&quot;</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;vids&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;auds&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">//      case AVMEDIA_TYPE_TEXT:</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">//          ffio_wfourcc(pb, &quot;txts&quot;);</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">//          break;</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>:</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;dats&quot;</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> ||</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a>)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 1);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a6a15840d0d651b9b6321a9082c44fcf4">strh_flags_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* flags */</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, 0); <span class="comment">/* priority */</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, 0); <span class="comment">/* language */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* initial frame */</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="riff_8h.html#ac12c7b6a951ffeaa71caea9e1871cc99">ff_parse_specific_params</a>(st, &amp;au_byterate, &amp;au_ssize, &amp;au_scale);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">if</span> (   par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            &amp;&amp; au_byterate &gt; 1000LL*au_scale) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            au_byterate = 600;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            au_scale    = 1;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 64, au_scale, au_byterate);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a>)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            au_scale = au_byterate = 0;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, au_scale); <span class="comment">/* scale */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, au_byterate); <span class="comment">/* rate */</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">/* start */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="comment">/* remember this offset to fill later */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a39cf697e8ace64105d9a98a6bff01e7b">frames_hdr_strm</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> (!(pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>))</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="comment">/* FIXME: this may be broken, but who cares */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="avi_8h.html#aaab541ab9723c9f33ccc14dbb22f50b4">AVI_MAX_RIFF_SIZE</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);  <span class="comment">/* length, XXX: filled later */</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="comment">/* suggested buffer size, is set to largest chunk size in avi_write_trailer */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 1024 * 1024);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 12 * 1024);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, -1); <span class="comment">/* quality */</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, au_ssize); <span class="comment">/* sample size */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, strh);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            strf = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;strf&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">switch</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="comment">/* XSUB subtitles behave like video tracks, other subtitles</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">                 * are not (yet) supported. */</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <span class="comment">/* WMP expects RGB 5:5:5 rawvideo in avi to have bpp set to 16. */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                <span class="keywordflow">if</span> (  !par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5aa53afd1aaaed386424384ec1793b6add">AV_PIX_FMT_RGB555LE</a></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> == 15)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> = 16;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                avist-&gt;<a class="code" href="struct_a_v_i_stream.html#afb3455c0838fbbf015cdb6fdcd1401b0">pal_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) + 40;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <a class="code" href="riff_8h.html#a62b093de5e772b0a600fe92e83b4b284">ff_put_bmp_header</a>(pb, par, 0, 0, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2c086036b9db1433dd368072edbff912">flipped_raw_rgb</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a> = <a class="code" href="raw_8h.html#a7cc4b1b3945d089b12583e61a648909e">avpriv_find_pix_fmt</a>(<a class="code" href="raw_8c.html#a4e5c2d697b99f9878cc8fc1261d0e0b2">avpriv_pix_fmt_bps_avi</a>,</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                              par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <span class="keywordflow">if</span> (   !par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> != <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> != <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;%s rawvideo cannot be written to avi, output file will be unreadable\n&quot;</span>,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                          <a class="code" href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a>));</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> &lt; 0 || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> &gt; 8) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;PAL8 with %d bps is not allowed\n&quot;</span>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a2999f3648c4bd33489abc3a9a92f000f">write_channel_mask</a> == 0) ? <a class="code" href="riff_8h.html#acc6ed00f00f15d08f9b103e30fd25542">FF_PUT_WAV_HEADER_SKIP_CHANNELMASK</a> : 0;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="riff_8h.html#ac60e12afe94d726dbdf5141501a8e893">ff_put_wav_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, par, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)) &lt; 0)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    <span class="stringliteral">&quot;Invalid or not supported codec type &#39;%s&#39; found in the input\n&quot;</span>,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    (<span class="keywordtype">char</span> *)<a class="code" href="group__lavu__misc.html#ga87458dccf9ab1444c363df5fa8a3f28f">av_x_if_null</a>(<a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>), <span class="stringliteral">&quot;?&quot;</span>));</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, strf);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">if</span> ((t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <a class="code" href="riff_8h.html#a0a96c97a0f2bcb0bae90b452f72e72e2">ff_riff_write_info_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <span class="stringliteral">&quot;strn&quot;</span>, t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                t = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            &amp;&amp; (t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;language&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span>* langstr = <a class="code" href="avlanguage_8c.html#a94965ab4ec43db7b338650398a1a2906">ff_convert_lang_to</a>(t-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <a class="code" href="avlanguage_8h.html#aa3a0db8cf8ff05263c287a7f6e34e3b9a6e887113972b20858ee58920530a07a1">AV_LANG_ISO639_1</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                t = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <span class="keywordflow">if</span> (langstr) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <span class="keywordtype">char</span>* <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a> = <a class="code" href="avstring_8c.html#a8cee948e00ad684c285e0f98639fcd21">av_asprintf</a>(<span class="stringliteral">&quot;Subtitle - %s-xx;02&quot;</span>, langstr);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                    <a class="code" href="riff_8h.html#a0a96c97a0f2bcb0bae90b452f72e72e2">ff_riff_write_info_tag</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <span class="stringliteral">&quot;strn&quot;</span>, <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> (pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <a class="code" href="avienc_8c.html#afd03571a00b0009adbdcf7b0f8f50700">write_odml_master</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>   &amp;&amp;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keywordtype">int</span> vprp       = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;vprp&quot;</span>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="struct_a_v_rational.html">AVRational</a> dar = <a class="code" href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                      (<a class="code" href="struct_a_v_rational.html">AVRational</a>) { par-&gt;width,</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                                     par-&gt;height });</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordtype">int</span> num, den, <a class="code" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;num, &amp;den, dar.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, dar.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, 0xFFFF);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23">AV_FIELD_TT</a> || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4">AV_FIELD_BB</a> ||</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667">AV_FIELD_TB</a> || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb">AV_FIELD_BT</a>) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <a class="code" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> = 2; <span class="comment">// interlaced</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <a class="code" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> = 1; <span class="comment">// progressive</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">// video format   = unknown</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0); <span class="comment">// video standard = unknown</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="comment">// TODO: should be avg_frame_rate</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, (2LL*st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> + st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> - 1) / (2LL * st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>));</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, den);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, num);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a>); <span class="comment">// fields per frame</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="keywordtype">int</span> start_line;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="comment">// OpenDML v1.02 is not very specific on what value to use for</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <span class="comment">// start_line when frame data is not coming from a capturing device,</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="comment">// so just use 0/1 depending on the field order for interlaced frames</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23">AV_FIELD_TT</a> || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667">AV_FIELD_TB</a>) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    start_line = (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0) ? 0 : 1;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4">AV_FIELD_BB</a> || par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb">AV_FIELD_BT</a>) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    start_line = (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0) ? 1 : 0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    start_line = 0;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> / <a class="code" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a>); <span class="comment">// compressed bitmap height</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>);           <span class="comment">// compressed bitmap width</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> / <a class="code" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a>); <span class="comment">// valid bitmap height</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>);           <span class="comment">// valid bitmap width</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);                    <span class="comment">// valid bitmap X offset</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);                    <span class="comment">// valid bitmap Y offset</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);                    <span class="comment">// valid X offset in T</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, start_line);           <span class="comment">// valid Y start line</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, vprp);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, list2);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">/* AVI could become an OpenDML one, if it grows beyond 2Gb range */</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a88d3cfc0e0da015f17f1644983c895e9">odml_list</a> = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;JUNK&quot;</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;odml&quot;</span>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;dmlh&quot;</span>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 248);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 248; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 4)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a88d3cfc0e0da015f17f1644983c895e9">odml_list</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, list1);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="riff_8h.html#a0c50544edda5b689ab858ec4b4d29765">ff_riff_write_info</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    padding = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata_header_padding;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (padding &lt; 0)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        padding = 1016;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">/* some padding for easier tag editing */</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (padding) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        list2 = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;JUNK&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = padding; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> -= 4)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, list2);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a> = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;LIST&quot;</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;movi&quot;</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="avienc_8c.html#a6281560b4fd154ae4a8c8aad4a242f89">  595</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="avienc_8c.html#a6281560b4fd154ae4a8c8aad4a242f89">update_odml_entry</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index, int64_t ix, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;priv_data;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordtype">int</span> au_byterate, au_ssize, au_scale;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">/* Updating one entry in the AVI OpenDML master index */</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a1b026b4a6da0f769dd5ebdaca7d886ba">indx_start</a> - 8, SEEK_SET);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;indx&quot;</span>);             <span class="comment">/* enabling this entry */</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 8);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> - avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">master_odml_riff_id_base</a>);          <span class="comment">/* nEntriesInUse */</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 16 * (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> - avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">master_odml_riff_id_base</a>));</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="avio_8h.html#a09510d3318eda871f8b91693e2774425">avio_wl64</a>(pb, ix);                    <span class="comment">/* qwOffset */</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);                  <span class="comment">/* dwSize */</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="riff_8h.html#ac12c7b6a951ffeaa71caea9e1871cc99">ff_parse_specific_params</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index], &amp;au_byterate, &amp;au_ssize, &amp;au_scale);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;codecpar-&gt;codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> &amp;&amp; au_ssize &gt; 0) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        uint32_t audio_segm_size = (avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a3d2233d1038c66fb2c302ad71547e23c">audio_strm_length</a> - avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a74a8efad50c66cb3fd954961fe1730bf">audio_strm_offset</a>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">if</span> ((audio_segm_size % au_ssize &gt; 0) &amp;&amp; !avist-&gt;<a class="code" href="struct_a_v_i_stream.html#aa6e60c3e1f8fe1b4935c0781462c2fda">sample_requested</a>) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;OpenDML index duration for audio packets with partial frames&quot;</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            avist-&gt;<a class="code" href="struct_a_v_i_stream.html#aa6e60c3e1f8fe1b4935c0781462c2fda">sample_requested</a> = 1;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, audio_segm_size / au_ssize);  <span class="comment">/* dwDuration (sample count) */</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a>);  <span class="comment">/* dwDuration (packet count) */</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="avienc_8c.html#a629e913dc267a753ffa3a10e2f02bf10">  627</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#a629e913dc267a753ffa3a10e2f02bf10">avi_write_ix</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[5];</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordtype">char</span> ix_tag[] = <span class="stringliteral">&quot;ix00&quot;</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> - avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">master_odml_riff_id_base</a> == avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avienc_8c.html#af0497ed767dafe19bd7dd9ae31b375ed">AVI_MASTER_INDEX_PREFIX_SIZE</a> + <a class="code" href="avienc_8c.html#aae00ec42623a4e977025eba36a2510f4">AVI_MASTER_INDEX_ENTRY_SIZE</a> * avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <a class="code" href="avienc_8c.html#a6281560b4fd154ae4a8c8aad4a242f89">update_odml_entry</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <a class="code" href="avienc_8c.html#afd03571a00b0009adbdcf7b0f8f50700">write_odml_master</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(<a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> == <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">master_odml_riff_id_base</a> = avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> - 1;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> - avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">master_odml_riff_id_base</a> &lt; avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        int64_t ix;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">avi_stream2fourcc</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        ix_tag[3] = <span class="charliteral">&#39;0&#39;</span> + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="comment">/* Writing AVI OpenDML leaf index chunk */</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        ix = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, ix_tag);      <span class="comment">/* ix?? */</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a> * 8 + 24);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="comment">/* chunk size */</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, 2);           <span class="comment">/* wLongsPerEntry */</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 0);             <span class="comment">/* bIndexSubType (0 == frame index) */</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 1);             <span class="comment">/* bIndexType (1 == AVI_INDEX_OF_CHUNKS) */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="comment">/* nEntriesInUse */</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);         <span class="comment">/* dwChunkId */</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="avio_8h.html#a09510d3318eda871f8b91693e2774425">avio_wl64</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>); <span class="comment">/* qwBaseOffset */</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, 0);              <span class="comment">/* dwReserved_3 (must be 0) */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a>; j++) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <a class="code" href="struct_a_v_i_ientry.html">AVIIentry</a> *ie = <a class="code" href="avienc_8c.html#a5f0232a04f53061ee461139613d6b3f2">avi_get_ientry</a>(&amp;avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>, j);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#abf4cd4eb909d70cb3beccab0138a6308">pos</a> + 8);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, ((uint32_t) ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#a9687b02571d8f2d1c170d692dbec195a">len</a> &amp; ~0x80000000) |</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                          (ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#a193ed4cd72f3fd0bb4a8a0d3005e5454">flags</a> &amp; 0x10 ? 0 : 0x80000000));</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="avienc_8c.html#a6281560b4fd154ae4a8c8aad4a242f89">update_odml_entry</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ix, <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - ix);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="avienc_8c.html#abb77f84af79cf88c0b3f6487e1b8095b">  685</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#abb77f84af79cf88c0b3f6487e1b8095b">avi_write_idx1</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;{</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    int64_t idx_chunk;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[5];</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="struct_a_v_i_ientry.html">AVIIentry</a> *ie = 0, *tie;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordtype">int</span> empty, stream_id = -1;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        idx_chunk = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <span class="stringliteral">&quot;idx1&quot;</span>);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            avist        = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a0952229d7817000dd8a5f0981d940483">entry</a> = 0;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            empty = 1;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <span class="keywordflow">if</span> (avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a> &lt;= avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a0952229d7817000dd8a5f0981d940483">entry</a>)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                tie = <a class="code" href="avienc_8c.html#a5f0232a04f53061ee461139613d6b3f2">avi_get_ientry</a>(&amp;avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a0952229d7817000dd8a5f0981d940483">entry</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="keywordflow">if</span> (empty || tie-&gt;pos &lt; ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#abf4cd4eb909d70cb3beccab0138a6308">pos</a>) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    ie        = tie;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    stream_id = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                empty = 0;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">if</span> (!empty) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_id]-&gt;priv_data;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">if</span> (*ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#af5340e36ef57c1680b027db07bbfdd39">tag</a>)</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#af5340e36ef57c1680b027db07bbfdd39">tag</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    <a class="code" href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">avi_stream2fourcc</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, stream_id,</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                                  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_id]-&gt;codecpar-&gt;codec_type);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#a193ed4cd72f3fd0bb4a8a0d3005e5454">flags</a>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#abf4cd4eb909d70cb3beccab0138a6308">pos</a>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, ie-&gt;<a class="code" href="struct_a_v_i_ientry.html#a9687b02571d8f2d1c170d692dbec195a">len</a>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a0952229d7817000dd8a5f0981d940483">entry</a>++;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        } <span class="keywordflow">while</span> (!empty);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, idx_chunk);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <a class="code" href="avienc_8c.html#a5453edbbc2d58018007f7c8b277d57f1">avi_write_counters</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="avienc_8c.html#a62326d3917a6cc28a398b3e26f249c48">  740</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#a62326d3917a6cc28a398b3e26f249c48">write_skip_frames</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index, int64_t dts)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;priv_data;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;codecpar;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;dts:%s packet_count:%d stream_index:%d\n&quot;</span>, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(dts), avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>, stream_index);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">while</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a> == 0 &amp;&amp; dts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;           dts &gt; avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a> &amp;&amp; avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <a class="code" href="struct_a_v_packet.html">AVPacket</a> empty_packet;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">if</span> (dts - avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a> &gt; 60000) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too large number of skipped frames %&quot;</span>PRId64<span class="stringliteral">&quot; &gt; 60000\n&quot;</span>, dts - avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(&amp;empty_packet);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        empty_packet.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>         = 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        empty_packet.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>         = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        empty_packet.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> = stream_index;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <a class="code" href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">avi_write_packet_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;empty_packet);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;dup dts:%s packet_count:%d\n&quot;</span>, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(dts), avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="avienc_8c.html#abc52745f401720835361c1d9eed01bce">  766</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#abc52745f401720835361c1d9eed01bce">avi_write_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;{</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> stream_index = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;codecpar;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;H&#39;</span>,<span class="charliteral">&#39;2&#39;</span>,<span class="charliteral">&#39;6&#39;</span>,<span class="charliteral">&#39;4&#39;</span>) &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="mpegts_8h.html#a59189ec9f7bb05758426d66c83c2fc6e">ff_check_h264_startcode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index], <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avienc_8c.html#a62326d3917a6cc28a398b3e26f249c48">write_skip_frames</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>)) &lt; 0)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">avi_write_packet_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>); <span class="comment">/* Passthrough */</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;priv_data;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="struct_a_v_packet.html">AVPacket</a> *opkt   = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordtype">int</span> reshuffle_ret;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> == 0) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            int64_t bpc = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> != 15 ? par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> : 16;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordtype">int</span> expected_stride = ((par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> * bpc + 31) &gt;&gt; 5)*4;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            reshuffle_ret = <a class="code" href="libavformat_2internal_8h.html#ad21620f66a37ab81a11bdeb4f9b1c905">ff_reshuffle_raw_rgb</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, par, expected_stride);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="keywordflow">if</span> (reshuffle_ret &lt; 0)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                <span class="keywordflow">return</span> reshuffle_ret;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            reshuffle_ret = 0;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#a302dc5bd81f253809bfab9baba71587b">ff_get_packet_palette</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, opkt, reshuffle_ret, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">palette</a>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <span class="keywordtype">int</span> pal_size = 1 &lt;&lt; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                <span class="keywordtype">int</span> pc_tag, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> &gt;= 0 &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">bits_per_coded_sample</a> &lt;= 8);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                <span class="keywordflow">if</span> ((pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) &amp;&amp; avist-&gt;<a class="code" href="struct_a_v_i_stream.html#afb3455c0838fbbf015cdb6fdcd1401b0">pal_offset</a>) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    int64_t cur_offset = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#afb3455c0838fbbf015cdb6fdcd1401b0">pal_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; pal_size; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        uint32_t v = avist-&gt;<a class="code" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">palette</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                        <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, v &amp; 0xffffff);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, cur_offset, SEEK_SET);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                    memcpy(avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a9ac2708520f251b303f99e92439a88f3">old_palette</a>, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">palette</a>, pal_size * 4);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                    avist-&gt;<a class="code" href="struct_a_v_i_stream.html#afb3455c0838fbbf015cdb6fdcd1401b0">pal_offset</a> = 0;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">if</span> (memcmp(avist-&gt;<a class="code" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">palette</a>, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a9ac2708520f251b303f99e92439a88f3">old_palette</a>, pal_size * 4)) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[5];</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    <a class="code" href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">avi_stream2fourcc</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, stream_index, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[2] = <span class="charliteral">&#39;p&#39;</span>; <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[3] = <span class="charliteral">&#39;c&#39;</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;seekable &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                        <span class="keywordflow">if</span> (avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a6a15840d0d651b9b6321a9082c44fcf4">strh_flags_offset</a>) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                            int64_t cur_offset = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a6a15840d0d651b9b6321a9082c44fcf4">strh_flags_offset</a>, SEEK_SET);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="avi_8h.html#a3d5bb5c206371f4f001ada88b312aed9">AVISF_VIDEO_PALCHANGES</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, cur_offset, SEEK_SET);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                            avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a6a15840d0d651b9b6321a9082c44fcf4">strh_flags_offset</a> = 0;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                        }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avienc_8c.html#aa87dcd7bb8639c1172ba192eac2793fe">avi_add_ientry</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, <a class="code" href="avi_8h.html#a96196c4e80f61491b82066dca35366b5">AVIIF_NO_TIME</a>,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                       pal_size * 4 + 4);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    pc_tag = <a class="code" href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a>(pb, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 0);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, pal_size &amp; 0xFF);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    <a class="code" href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a>(pb, 0); <span class="comment">// reserved</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; pal_size; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                        uint32_t v = avist-&gt;<a class="code" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">palette</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                        <a class="code" href="avio_8h.html#a1f2b9ee1bde6c6982072edbe929b47ea">avio_wb32</a>(pb, v&lt;&lt;8);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                    <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, pc_tag);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    memcpy(avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a9ac2708520f251b303f99e92439a88f3">old_palette</a>, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">palette</a>, pal_size * 4);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">if</span> (reshuffle_ret) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">avi_write_packet_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">if</span> (reshuffle_ret)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                <a class="code" href="group__lavc__packet.html#ga1066464e7cdd1f215df6940db94e5d8e">av_packet_free</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">avi_write_packet_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">  861</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">avi_write_packet_internal</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>[5];</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = 0;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> stream_index = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>               = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;priv_data;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index]-&gt;codecpar;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a17aa9a4f8f83acc027607374f557a0b9">last_dts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>++;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// Make sure to put an OpenDML chunk when the file size exceeds the limits</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> ((pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) &amp;&amp;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        (<a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb) - avi-&gt;<a class="code" href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">riff_start</a> &gt; <a class="code" href="avi_8h.html#aaab541ab9723c9f33ccc14dbb22f50b4">AVI_MAX_RIFF_SIZE</a>)) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="avienc_8c.html#a629e913dc267a753ffa3a10e2f02bf10">avi_write_ix</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> == 1)</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <a class="code" href="avienc_8c.html#abb77f84af79cf88c0b3f6487e1b8095b">avi_write_idx1</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">riff_start</a>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a> = <a class="code" href="avienc_8c.html#a424a7bfc05a0fbde28f268fe06b63efb">avi_start_new_riff</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, <span class="stringliteral">&quot;AVIX&quot;</span>, <span class="stringliteral">&quot;movi&quot;</span>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">avi_stream2fourcc</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, stream_index, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = 0x10;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a3d2233d1038c66fb2c302ad71547e23c">audio_strm_length</a> += <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;seekable &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avienc_8c.html#aa87dcd7bb8639c1172ba192eac2793fe">avi_add_ientry</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>, 4);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(pb, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &amp; 1)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <a class="code" href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a>(pb, 0);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;}</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="avienc_8c.html#a855e908dfadbcc2e66dff98114dfef9b">  912</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="avienc_8c.html#a855e908dfadbcc2e66dff98114dfef9b">avi_write_trailer</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;{</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <a class="code" href="struct_a_v_i_context.html">AVIContext</a> *avi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, n, nb_frames;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    int64_t file_size;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="avienc_8c.html#a62326d3917a6cc28a398b3e26f249c48">write_skip_frames</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a17aa9a4f8f83acc027607374f557a0b9">last_dts</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> (pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> == 1) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            res = <a class="code" href="avienc_8c.html#abb77f84af79cf88c0b3f6487e1b8095b">avi_write_idx1</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">riff_start</a>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <a class="code" href="avienc_8c.html#a629e913dc267a753ffa3a10e2f02bf10">avi_write_ix</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">movi_list</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            <a class="code" href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">riff_start</a>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            file_size = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a88d3cfc0e0da015f17f1644983c895e9">odml_list</a> - 8, SEEK_SET);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;LIST&quot;</span>); <span class="comment">/* Making this AVI OpenDML one */</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 16);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            <span class="keywordflow">for</span> (n = nb_frames = 0; n &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; n++) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n]-&gt;codecpar;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[n]-&gt;priv_data;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                    <span class="keywordflow">if</span> (nb_frames &lt; avist-&gt;packet_count)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                        nb_frames = avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487">AV_CODEC_ID_MP2</a> ||</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                        par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a>)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                        nb_frames += avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">packet_count</a>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, nb_frames);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, file_size, SEEK_SET);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <a class="code" href="avienc_8c.html#a5453edbbc2d58018007f7c8b277d57f1">avi_write_counters</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">if</span> (avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a> &gt;= avi-&gt;<a class="code" href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">master_index_max_size</a>) {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordtype">int</span> index_space = <a class="code" href="avienc_8c.html#af0497ed767dafe19bd7dd9ae31b375ed">AVI_MASTER_INDEX_PREFIX_SIZE</a> +</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                          <a class="code" href="avienc_8c.html#aae00ec42623a4e977025eba36a2510f4">AVI_MASTER_INDEX_ENTRY_SIZE</a> * avi-&gt;<a class="code" href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">riff_id</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Output file not strictly OpenDML compliant, &quot;</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;               <span class="stringliteral">&quot;consider re-muxing with &#39;reserve_index_space&#39; option value &gt;= %d\n&quot;</span>,</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;               index_space);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordflow">if</span> (pb-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a39cf697e8ace64105d9a98a6bff01e7b">frames_hdr_strm</a> + 4, SEEK_SET);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <a class="code" href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a>(pb, avist-&gt;<a class="code" href="struct_a_v_i_stream.html#aeb58b8c67ae6984c69a1340475dcb294">max_size</a>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;}</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="avienc_8c.html#a330f5500f6d426a912cbd5d5d178d0b7">  979</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="avienc_8c.html#a330f5500f6d426a912cbd5d5d178d0b7">avi_deinit</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <a class="code" href="struct_a_v_i_stream.html">AVIStream</a> *avist = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;priv_data;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">if</span> (!avist)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">ents_allocated</a> / <a class="code" href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a>; j++)</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>[j]);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">cluster</a>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">ents_allocated</a> = avist-&gt;<a class="code" href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">indexes</a>.<a class="code" href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">entry</a> = 0;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;}</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="avienc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">  992</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(AVIContext, x)</span></div>
<div class="line"><a name="l00993"></a><span class="lineno"><a class="line" href="avienc_8c.html#a9668f8b1c2bedfb7c54bb8686ac2c0d5">  993</a></span>&#160;<span class="preprocessor">#define ENC AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="avienc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">  994</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="avienc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    { <span class="stringliteral">&quot;reserve_index_space&quot;</span>, <span class="stringliteral">&quot;reserve space (in bytes) at the beginning of the file for each stream index&quot;</span>, <a class="code" href="avienc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(reserve_index_space), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 0 }, 0, INT_MAX, <a class="code" href="avienc_8c.html#a9668f8b1c2bedfb7c54bb8686ac2c0d5">ENC</a> },</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    { <span class="stringliteral">&quot;write_channel_mask&quot;</span>, <span class="stringliteral">&quot;write channel mask into wave format header&quot;</span>, <a class="code" href="avienc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(write_channel_mask), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 1 }, 0, 1, <a class="code" href="avienc_8c.html#a9668f8b1c2bedfb7c54bb8686ac2c0d5">ENC</a> },</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    { <span class="stringliteral">&quot;flipped_raw_rgb&quot;</span>, <span class="stringliteral">&quot;Raw RGB bitmaps are stored bottom-up&quot;</span>, <a class="code" href="avienc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(flipped_raw_rgb), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="avienc_8c.html#a9668f8b1c2bedfb7c54bb8686ac2c0d5">ENC</a> },</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;};</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"><a class="line" href="avienc_8c.html#a63304db03a66fe3597d07a901d32af40"> 1001</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="avienc_8c.html#a63304db03a66fe3597d07a901d32af40">avi_muxer_class</a> = {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;AVI muxer&quot;</span>,</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    .option     = <a class="code" href="avienc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;};</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"><a class="line" href="avienc_8c.html#a83ce8ce3fb3e1cfad954f685592c3912"> 1008</a></span>&#160;<a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> <a class="code" href="avienc_8c.html#a83ce8ce3fb3e1cfad954f685592c3912">ff_avi_muxer</a> = {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    .<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>           = <span class="stringliteral">&quot;avi&quot;</span>,</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;AVI (Audio Video Interleaved)&quot;</span>),</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    .mime_type      = <span class="stringliteral">&quot;video/x-msvideo&quot;</span>,</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    .extensions     = <span class="stringliteral">&quot;avi&quot;</span>,</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="avienc_8c.html#aa6884766a457406d64af48fa6ba00477">AVIContext</a>),</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    .audio_codec    = CONFIG_LIBMP3LAME ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0">AV_CODEC_ID_AC3</a>,</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    .video_codec    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a>,</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="avienc_8c.html#a48bdb60c311b3779beaa12698a8e6489">avi_init</a>,</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    .deinit         = <a class="code" href="avienc_8c.html#a330f5500f6d426a912cbd5d5d178d0b7">avi_deinit</a>,</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    .<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>   = <a class="code" href="avienc_8c.html#ad15cf6e9853e33397d7e14617a28ec07">avi_write_header</a>,</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a>   = <a class="code" href="avienc_8c.html#abc52745f401720835361c1d9eed01bce">avi_write_packet</a>,</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    .<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>  = <a class="code" href="avienc_8c.html#a855e908dfadbcc2e66dff98114dfef9b">avi_write_trailer</a>,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    .codec_tag      = (<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> * <span class="keyword">const</span> []) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <a class="code" href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a>, <a class="code" href="riff_8c.html#aeb42da0d9adf5affab3b0f64c2ead98a">ff_codec_wav_tags</a>, 0</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    },</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    .priv_class     = &amp;<a class="code" href="avienc_8c.html#a63304db03a66fe3597d07a901d32af40">avi_muxer_class</a>,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_a_v_codec_parameters_html_abee943e65d98f9763fa6602a356e774f"><div class="ttname"><a href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">AVCodecParameters::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00084">codec_par.h:84</a></div></div>
<div class="ttc" id="aavienc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="avienc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00994">avienc.c:994</a></div></div>
<div class="ttc" id="aavlanguage_8h_html_aa3a0db8cf8ff05263c287a7f6e34e3b9a6e887113972b20858ee58920530a07a1"><div class="ttname"><a href="avlanguage_8h.html#aa3a0db8cf8ff05263c287a7f6e34e3b9a6e887113972b20858ee58920530a07a1">AV_LANG_ISO639_1</a></div><div class="ttdeci">@ AV_LANG_ISO639_1</div><div class="ttdef"><b>Definition:</b> <a href="avlanguage_8h_source.html#l00034">avlanguage.h:33</a></div></div>
<div class="ttc" id="aavienc_8c_html_ad0c3006ca87d090cbbdffa92535d2b4d"><div class="ttname"><a href="avienc_8c.html#ad0c3006ca87d090cbbdffa92535d2b4d">avi_stream2fourcc</a></div><div class="ttdeci">static char * avi_stream2fourcc(char *tag, int index, enum AVMediaType type)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00179">avienc.c:179</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div><div class="ttdeci">@ AVMEDIA_TYPE_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00204">avutil.h:204</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0">AV_CODEC_ID_AC3</a></div><div class="ttdeci">@ AV_CODEC_ID_AC3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00421">codec_id.h:421</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_a_v_i_index_html_a74a8efad50c66cb3fd954961fe1730bf"><div class="ttname"><a href="struct_a_v_i_index.html#a74a8efad50c66cb3fd954961fe1730bf">AVIIndex::audio_strm_offset</a></div><div class="ttdeci">int64_t audio_strm_offset</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00060">avienc.c:60</a></div></div>
<div class="ttc" id="ampegts_8h_html"><div class="ttname"><a href="mpegts_8h.html">mpegts.h</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_a356f1e66bcac3a24bfb3accc81bb1f69"><div class="ttname"><a href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a></div><div class="ttdeci">static av_always_inline void ffio_wfourcc(AVIOContext *pb, const uint8_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio__internal_8h_source.html#l00058">avio_internal.h:58</a></div></div>
<div class="ttc" id="aavienc_8c_html_a424a7bfc05a0fbde28f268fe06b63efb"><div class="ttname"><a href="avienc_8c.html#a424a7bfc05a0fbde28f268fe06b63efb">avi_start_new_riff</a></div><div class="ttdeci">static int64_t avi_start_new_riff(AVFormatContext *s, AVIOContext *pb, const char *riff_tag, const char *list_tag)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00158">avienc.c:158</a></div></div>
<div class="ttc" id="aavienc_8c_html_a96c97bf5740ca8a287a3447343e57f84"><div class="ttname"><a href="avienc_8c.html#a96c97bf5740ca8a287a3447343e57f84">AVI_MASTER_INDEX_SIZE_DEFAULT</a></div><div class="ttdeci">#define AVI_MASTER_INDEX_SIZE_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00056">avienc.c:56</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="ariff_8h_html_a62b093de5e772b0a600fe92e83b4b284"><div class="ttname"><a href="riff_8h.html#a62b093de5e772b0a600fe92e83b4b284">ff_put_bmp_header</a></div><div class="ttdeci">void ff_put_bmp_header(AVIOContext *pb, AVCodecParameters *par, int for_asf, int ignore_extradata, int rgb_frame_is_flipped)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00215">riffenc.c:215</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gafd07a13a4ddaa6015275cad6022d9ee3"><div class="ttname"><a href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a></div><div class="ttdeci">#define AV_TIME_BASE_Q</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00260">avutil.h:260</a></div></div>
<div class="ttc" id="aavstring_8c_html_a8cee948e00ad684c285e0f98639fcd21"><div class="ttname"><a href="avstring_8c.html#a8cee948e00ad684c285e0f98639fcd21">av_asprintf</a></div><div class="ttdeci">char * av_asprintf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00113">avstring.c:113</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html"><div class="ttname"><a href="struct_a_v_i_o_context.html">AVIOContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00161">avio.h:161</a></div></div>
<div class="ttc" id="aavlanguage_8h_html"><div class="ttname"><a href="avlanguage_8h.html">avlanguage.h</a></div></div>
<div class="ttc" id="aavienc_8c_html_a5f0232a04f53061ee461139613d6b3f2"><div class="ttname"><a href="avienc_8c.html#a5f0232a04f53061ee461139613d6b3f2">avi_get_ientry</a></div><div class="ttdeci">static AVIIentry * avi_get_ientry(const AVIIndex *idx, int ent_id)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00099">avienc.c:99</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a></div><div class="ttdeci">@ AV_CODEC_ID_RAWVIDEO</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00062">codec_id.h:62</a></div></div>
<div class="ttc" id="astruct_a_v_i_ientry_html_a9687b02571d8f2d1c170d692dbec195a"><div class="ttname"><a href="struct_a_v_i_ientry.html#a9687b02571d8f2d1c170d692dbec195a">AVIIentry::len</a></div><div class="ttdeci">unsigned int len</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00050">avienc.c:50</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG4</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00061">codec_id.h:61</a></div></div>
<div class="ttc" id="apixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a51639f88aef9f4f283f538a0c033fbb8"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">AVCodecParameters::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00126">codec_par.h:126</a></div></div>
<div class="ttc" id="astruct_a_v_i_index_html"><div class="ttname"><a href="struct_a_v_i_index.html">AVIIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00058">avienc.c:58</a></div></div>
<div class="ttc" id="ariff_8c_html_aeb42da0d9adf5affab3b0f64c2ead98a"><div class="ttname"><a href="riff_8c.html#aeb42da0d9adf5affab3b0f64c2ead98a">ff_codec_wav_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_wav_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="riff_8c_source.html#l00507">riff.c:507</a></div></div>
<div class="ttc" id="aavio_8h_html_a09510d3318eda871f8b91693e2774425"><div class="ttname"><a href="avio_8h.html#a09510d3318eda871f8b91693e2774425">avio_wl64</a></div><div class="ttdeci">void avio_wl64(AVIOContext *s, uint64_t val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00447">aviobuf.c:447</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="aavienc_8c_html_a5453edbbc2d58018007f7c8b277d57f1"><div class="ttname"><a href="avienc_8c.html#a5453edbbc2d58018007f7c8b277d57f1">avi_write_counters</a></div><div class="ttdeci">static int avi_write_counters(AVFormatContext *s, int riff_id)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00198">avienc.c:198</a></div></div>
<div class="ttc" id="astruct_a_v_i_index_html_a8cdf9ad16ed8567059dc739e974c730a"><div class="ttname"><a href="struct_a_v_i_index.html#a8cdf9ad16ed8567059dc739e974c730a">AVIIndex::entry</a></div><div class="ttdeci">int entry</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00061">avienc.c:61</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga1066464e7cdd1f215df6940db94e5d8e"><div class="ttname"><a href="group__lavc__packet.html#ga1066464e7cdd1f215df6940db94e5d8e">av_packet_free</a></div><div class="ttdeci">void av_packet_free(AVPacket **pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00064">avpacket.c:64</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a2999f3648c4bd33489abc3a9a92f000f"><div class="ttname"><a href="struct_a_v_i_context.html#a2999f3648c4bd33489abc3a9a92f000f">AVIContext::write_channel_mask</a></div><div class="ttdeci">int write_channel_mask</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00074">avienc.c:74</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="aavio_8h_html_a1ba843eb6d34706bbdd177a4256e71e2"><div class="ttname"><a href="avio_8h.html#a1ba843eb6d34706bbdd177a4256e71e2">avio_wl16</a></div><div class="ttdeci">void avio_wl16(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00459">aviobuf.c:459</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a39cf697e8ace64105d9a98a6bff01e7b"><div class="ttname"><a href="struct_a_v_i_stream.html#a39cf697e8ace64105d9a98a6bff01e7b">AVIStream::frames_hdr_strm</a></div><div class="ttdeci">int64_t frames_hdr_strm</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00079">avienc.c:79</a></div></div>
<div class="ttc" id="aavienc_8c_html_a63304db03a66fe3597d07a901d32af40"><div class="ttname"><a href="avienc_8c.html#a63304db03a66fe3597d07a901d32af40">avi_muxer_class</a></div><div class="ttdeci">static const AVClass avi_muxer_class</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l01001">avienc.c:1001</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca236b46495cd9254b4030d36fc6f27f23">AV_FIELD_TT</a></div><div class="ttdeci">@ AV_FIELD_TT</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00039">codec_par.h:39</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="astruct_a_v_i_ientry_html_abf4cd4eb909d70cb3beccab0138a6308"><div class="ttname"><a href="struct_a_v_i_ientry.html#abf4cd4eb909d70cb3beccab0138a6308">AVIIentry::pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00049">avienc.c:49</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_af609814e090f1c5f5d985904d75939dd"><div class="ttname"><a href="struct_a_v_i_context.html#af609814e090f1c5f5d985904d75939dd">AVIContext::reserve_index_space</a></div><div class="ttdeci">int reserve_index_space</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00072">avienc.c:72</a></div></div>
<div class="ttc" id="astruct_a_v_i_ientry_html_af5340e36ef57c1680b027db07bbfdd39"><div class="ttname"><a href="struct_a_v_i_ientry.html#af5340e36ef57c1680b027db07bbfdd39">AVIIentry::tag</a></div><div class="ttdeci">char tag[4]</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00047">avienc.c:47</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_afb3455c0838fbbf015cdb6fdcd1401b0"><div class="ttname"><a href="struct_a_v_i_stream.html#afb3455c0838fbbf015cdb6fdcd1401b0">AVIStream::pal_offset</a></div><div class="ttdeci">int64_t pal_offset</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00094">avienc.c:94</a></div></div>
<div class="ttc" id="aavio_8h_html_a63157a668f29b8f5a89f00bc24838b8e"><div class="ttname"><a href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a></div><div class="ttdeci">static av_always_inline int64_t avio_tell(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00557">avio.h:557</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a5268fcf4ae8ed27edef54f836b926d93"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">AVCodecParameters::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00089">codec_par.h:89</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a88d3cfc0e0da015f17f1644983c895e9"><div class="ttname"><a href="struct_a_v_i_context.html#a88d3cfc0e0da015f17f1644983c895e9">AVIContext::odml_list</a></div><div class="ttdeci">int64_t odml_list</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00069">avienc.c:69</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a9ac2708520f251b303f99e92439a88f3"><div class="ttname"><a href="struct_a_v_i_stream.html#a9ac2708520f251b303f99e92439a88f3">AVIStream::old_palette</a></div><div class="ttdeci">uint32_t old_palette[AVPALETTE_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00093">avienc.c:93</a></div></div>
<div class="ttc" id="aavienc_8c_html_aa87dcd7bb8639c1172ba192eac2793fe"><div class="ttname"><a href="avienc_8c.html#aa87dcd7bb8639c1172ba192eac2793fe">avi_add_ientry</a></div><div class="ttdeci">static int avi_add_ientry(AVFormatContext *s, int stream_index, char *tag, unsigned int flags, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00106">avienc.c:106</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a></div><div class="ttdeci">@ AV_CODEC_ID_MP3</div><div class="ttdoc">preferred ID for decoding MPEG audio layer 1, 2 or 3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00419">codec_id.h:419</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02cae1efa8b010ca5331f1f845104e7c0667">AV_FIELD_TB</a></div><div class="ttdeci">@ AV_FIELD_TB</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00041">codec_par.h:41</a></div></div>
<div class="ttc" id="aavienc_8c_html_a855e908dfadbcc2e66dff98114dfef9b"><div class="ttname"><a href="avienc_8c.html#a855e908dfadbcc2e66dff98114dfef9b">avi_write_trailer</a></div><div class="ttdeci">static int avi_write_trailer(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00912">avienc.c:912</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga4fd9c0b8e663cf3d55e89fbc6ce71602"><div class="ttname"><a href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a></div><div class="ttdeci">int av_reduce(int *dst_num, int *dst_den, int64_t num, int64_t den, int64_t max)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00035">rational.c:35</a></div></div>
<div class="ttc" id="araw_8h_html"><div class="ttname"><a href="raw_8h.html">raw.h</a></div></div>
<div class="ttc" id="ariff_8h_html_a9c1d921c208b677c44cb548070c4ca65"><div class="ttname"><a href="riff_8h.html#a9c1d921c208b677c44cb548070c4ca65">ff_start_tag</a></div><div class="ttdeci">int64_t ff_start_tag(AVIOContext *pb, const char *tag)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00031">riffenc.c:31</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00365">packet.h:365</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_a3d5b3d948300f6011eb52b4d1f4381b3"><div class="ttname"><a href="cuda__runtime_8h.html#a3d5b3d948300f6011eb52b4d1f4381b3">ceil</a></div><div class="ttdeci">static __device__ float ceil(float a)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00176">cuda_runtime.h:176</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00898">avformat.h:898</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a9206eeb1cb0dedaecf68b096fe7e3569"><div class="ttname"><a href="struct_a_v_i_context.html#a9206eeb1cb0dedaecf68b096fe7e3569">AVIContext::riff_id</a></div><div class="ttdeci">int riff_id</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00071">avienc.c:71</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="aavienc_8c_html_ad15cf6e9853e33397d7e14617a28ec07"><div class="ttname"><a href="avienc_8c.html#ad15cf6e9853e33397d7e14617a28ec07">avi_write_header</a></div><div class="ttdeci">static int avi_write_header(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00259">avienc.c:259</a></div></div>
<div class="ttc" id="aavienc_8c_html_aa6884766a457406d64af48fa6ba00477"><div class="ttname"><a href="avienc_8c.html#aa6884766a457406d64af48fa6ba00477">AVIContext</a></div><div class="ttdeci">struct AVIContext AVIContext</div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="aavienc_8c_html_abc52745f401720835361c1d9eed01bce"><div class="ttname"><a href="avienc_8c.html#abc52745f401720835361c1d9eed01bce">avi_write_packet</a></div><div class="ttdeci">static int avi_write_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00766">avienc.c:766</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="aavienc_8c_html_a7a0b0a2d67065ab808db4ff55f7e0f83"><div class="ttname"><a href="avienc_8c.html#a7a0b0a2d67065ab808db4ff55f7e0f83">AVIStream</a></div><div class="ttdeci">struct AVIStream AVIStream</div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487">AV_CODEC_ID_MP2</a></div><div class="ttdeci">@ AV_CODEC_ID_MP2</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00418">codec_id.h:418</a></div></div>
<div class="ttc" id="aavienc_8c_html_a48bdb60c311b3779beaa12698a8e6489"><div class="ttname"><a href="avienc_8c.html#a48bdb60c311b3779beaa12698a8e6489">avi_init</a></div><div class="ttdeci">static av_cold int avi_init(struct AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00143">avienc.c:143</a></div></div>
<div class="ttc" id="aavienc_8c_html_af0497ed767dafe19bd7dd9ae31b375ed"><div class="ttname"><a href="avienc_8c.html#af0497ed767dafe19bd7dd9ae31b375ed">AVI_MASTER_INDEX_PREFIX_SIZE</a></div><div class="ttdeci">#define AVI_MASTER_INDEX_PREFIX_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00054">avienc.c:54</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a17aa9a4f8f83acc027607374f557a0b9"><div class="ttname"><a href="struct_a_v_i_stream.html#a17aa9a4f8f83acc027607374f557a0b9">AVIStream::last_dts</a></div><div class="ttdeci">int64_t last_dts</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00086">avienc.c:86</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gaf02994a8bbeaa91d4757df179cbe567f"><div class="ttname"><a href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a></div><div class="ttdeci">int64_t av_rescale_q(int64_t a, AVRational bq, AVRational cq)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00142">mathematics.c:142</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a7331e302ea7bb48e0b605a069576e135"><div class="ttname"><a href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00039">demuxing_decoding.c:40</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a></div><div class="ttdeci">@ AVMEDIA_TYPE_DATA</div><div class="ttdoc">Opaque data information usually continuous.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00203">avutil.h:203</a></div></div>
<div class="ttc" id="aavi_8h_html_a96196c4e80f61491b82066dca35366b5"><div class="ttname"><a href="avi_8h.html#a96196c4e80f61491b82066dca35366b5">AVIIF_NO_TIME</a></div><div class="ttdeci">#define AVIIF_NO_TIME</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00039">avi.h:39</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02caba81a12143ed2cea06438739a7caaafb">AV_FIELD_BT</a></div><div class="ttdeci">@ AV_FIELD_BT</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00042">codec_par.h:42</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a></div><div class="ttdeci">@ AV_CODEC_ID_H264</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00076">codec_id.h:76</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="aavienc_8c_html_abb77f84af79cf88c0b3f6487e1b8095b"><div class="ttname"><a href="avienc_8c.html#abb77f84af79cf88c0b3f6487e1b8095b">avi_write_idx1</a></div><div class="ttdeci">static int avi_write_idx1(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00685">avienc.c:685</a></div></div>
<div class="ttc" id="araw_8h_html_a7cc4b1b3945d089b12583e61a648909e"><div class="ttname"><a href="raw_8h.html#a7cc4b1b3945d089b12583e61a648909e">avpriv_find_pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat avpriv_find_pix_fmt(const PixelFormatTag *tags, unsigned int fourcc)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00456">utils.c:469</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a8abfcc999d0d8cf41af3e6533be471d3"><div class="ttname"><a href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a></div><div class="ttdeci">the definition of that something depends on the semantic of the filter The callback must examine the status of the filter s links and proceed accordingly The status of output links is stored in the status_in and status_out fields and tested by the then the processing requires a frame on this link and the filter is expected to make efforts in that direction The status of input links is stored by the fifo and status_out fields</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00155">filter_design.txt:155</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="aavienc_8c_html_a83ce8ce3fb3e1cfad954f685592c3912"><div class="ttname"><a href="avienc_8c.html#a83ce8ce3fb3e1cfad954f685592c3912">ff_avi_muxer</a></div><div class="ttdeci">AVOutputFormat ff_avi_muxer</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l01008">avienc.c:1008</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a91ede117e78922c63c5fbd0c5793449f"><div class="ttname"><a href="tableprint__vlc_8h.html#a91ede117e78922c63c5fbd0c5793449f">av_realloc_f</a></div><div class="ttdeci">#define av_realloc_f(p, o, n)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00033">tableprint_vlc.h:33</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="aavi_8h_html_a3d5bb5c206371f4f001ada88b312aed9"><div class="ttname"><a href="avi_8h.html#a3d5bb5c206371f4f001ada88b312aed9">AVISF_VIDEO_PALCHANGES</a></div><div class="ttdeci">#define AVISF_VIDEO_PALCHANGES</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00035">avi.h:35</a></div></div>
<div class="ttc" id="astruct_a_v_i_ientry_html_a193ed4cd72f3fd0bb4a8a0d3005e5454"><div class="ttname"><a href="struct_a_v_i_ientry.html#a193ed4cd72f3fd0bb4a8a0d3005e5454">AVIIentry::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00048">avienc.c:48</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="ariff_8h_html_ac60e12afe94d726dbdf5141501a8e893"><div class="ttname"><a href="riff_8h.html#ac60e12afe94d726dbdf5141501a8e893">ff_put_wav_header</a></div><div class="ttdeci">int ff_put_wav_header(AVFormatContext *s, AVIOContext *pb, AVCodecParameters *par, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00054">riffenc.c:54</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="aavienc_8c_html_a6281560b4fd154ae4a8c8aad4a242f89"><div class="ttname"><a href="avienc_8c.html#a6281560b4fd154ae4a8c8aad4a242f89">update_odml_entry</a></div><div class="ttdeci">static void update_odml_entry(AVFormatContext *s, int stream_index, int64_t ix, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00595">avienc.c:595</a></div></div>
<div class="ttc" id="av4l2enc_8c_html_a4f80c0767194e6e297d2952ed1e75ccc"><div class="ttname"><a href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a></div><div class="ttdeci">static int write_trailer(AVFormatContext *s1)</div><div class="ttdef"><b>Definition:</b> <a href="v4l2enc_8c_source.html#l00098">v4l2enc.c:98</a></div></div>
<div class="ttc" id="aavi_8h_html_aaab541ab9723c9f33ccc14dbb22f50b4"><div class="ttname"><a href="avi_8h.html#aaab541ab9723c9f33ccc14dbb22f50b4">AVI_MAX_RIFF_SIZE</a></div><div class="ttdeci">#define AVI_MAX_RIFF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00031">avi.h:31</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a3f19c60ac6da237cd10e4d97150c118e"><div class="ttname"><a href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">AVStream::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00931">avformat.h:931</a></div></div>
<div class="ttc" id="aavienc_8c_html_ac6af0ef6430fdb5705f81076bab68bbb"><div class="ttname"><a href="avienc_8c.html#ac6af0ef6430fdb5705f81076bab68bbb">AVIIentry</a></div><div class="ttdeci">struct AVIIentry AVIIentry</div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="aavienc_8c_html_a330f5500f6d426a912cbd5d5d178d0b7"><div class="ttname"><a href="avienc_8c.html#a330f5500f6d426a912cbd5d5d178d0b7">avi_deinit</a></div><div class="ttdeci">static void avi_deinit(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00979">avienc.c:979</a></div></div>
<div class="ttc" id="aavi_8h_html_a6c74639c2259002f2b1d1025f9b68ab9"><div class="ttname"><a href="avi_8h.html#a6c74639c2259002f2b1d1025f9b68ab9">AVI_MAX_STREAM_COUNT</a></div><div class="ttdeci">#define AVI_MAX_STREAM_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00032">avi.h:32</a></div></div>
<div class="ttc" id="astruct_a_v_i_index_html_a06a9289ac235542f3b66d8fdd04d487e"><div class="ttname"><a href="struct_a_v_i_index.html#a06a9289ac235542f3b66d8fdd04d487e">AVIIndex::ents_allocated</a></div><div class="ttdeci">int ents_allocated</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00062">avienc.c:62</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_ad21620f66a37ab81a11bdeb4f9b1c905"><div class="ttname"><a href="libavformat_2internal_8h.html#ad21620f66a37ab81a11bdeb4f9b1c905">ff_reshuffle_raw_rgb</a></div><div class="ttdeci">int ff_reshuffle_raw_rgb(AVFormatContext *s, AVPacket **ppkt, AVCodecParameters *par, int expected_stride)</div><div class="ttdef"><b>Definition:</b> <a href="rawutils_8c_source.html#l00025">rawutils.c:25</a></div></div>
<div class="ttc" id="aavio_8h_html_a1dddee2b73f4dd6512ac9821cf5adc18"><div class="ttname"><a href="avio_8h.html#a1dddee2b73f4dd6512ac9821cf5adc18">avio_w8</a></div><div class="ttdeci">void avio_w8(AVIOContext *s, int b)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00203">aviobuf.c:203</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a29632b73b36c799098d6c55d0501b6a9"><div class="ttname"><a href="struct_a_v_i_stream.html#a29632b73b36c799098d6c55d0501b6a9">AVIStream::indexes</a></div><div class="ttdeci">AVIIndex indexes</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00088">avienc.c:88</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ab7b72d3cfc0a98ab6ac284c3f31710df"><div class="ttname"><a href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a></div><div class="ttdeci">#define AVPALETTE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00033">pixfmt.h:33</a></div></div>
<div class="ttc" id="aavienc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="avienc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00992">avienc.c:992</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_aa6e60c3e1f8fe1b4935c0781462c2fda"><div class="ttname"><a href="struct_a_v_i_stream.html#aa6e60c3e1f8fe1b4935c0781462c2fda">AVIStream::sample_requested</a></div><div class="ttdeci">int sample_requested</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00084">avienc.c:84</a></div></div>
<div class="ttc" id="aavi_8h_html"><div class="ttname"><a href="avi_8h.html">avi.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9b6f7d220d100ba73defab295623356b"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">AVCodecParameters::codec_tag</a></div><div class="ttdeci">uint32_t codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00064">codec_par.h:64</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a8e3eb32799f4637fcdd75bb9099142ff"><div class="ttname"><a href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a></div><div class="ttdeci">#define ff_dlog(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00029">tableprint_vlc.h:29</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a1ec57ee84f19cf65d00eaa4d2a2253ce"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">AVCodecParameters::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00127">codec_par.h:127</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="aextract__extradata__bsf_8c_html_a92ba2b3ed65ae251e69195d3ebe639b6"><div class="ttname"><a href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="extract__extradata__bsf_8c_source.html#l00049">extract_extradata_bsf.c:325</a></div></div>
<div class="ttc" id="ariff_8h_html_a0a96c97a0f2bcb0bae90b452f72e72e2"><div class="ttname"><a href="riff_8h.html#a0a96c97a0f2bcb0bae90b452f72e72e2">ff_riff_write_info_tag</a></div><div class="ttdeci">void ff_riff_write_info_tag(AVIOContext *pb, const char *tag, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00302">riffenc.c:302</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_aa4b6178ec56bb45019220cefbc96f5f1"><div class="ttname"><a href="struct_a_v_i_context.html#aa4b6178ec56bb45019220cefbc96f5f1">AVIContext::riff_start</a></div><div class="ttdeci">int64_t riff_start</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00069">avienc.c:69</a></div></div>
<div class="ttc" id="aavlanguage_8c_html_a94965ab4ec43db7b338650398a1a2906"><div class="ttname"><a href="avlanguage_8c.html#a94965ab4ec43db7b338650398a1a2906">ff_convert_lang_to</a></div><div class="ttdeci">const char * ff_convert_lang_to(const char *lang, enum AVLangCodespace target_codespace)</div><div class="ttdef"><b>Definition:</b> <a href="avlanguage_8c_source.html#l00736">avlanguage.c:736</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a6a15840d0d651b9b6321a9082c44fcf4"><div class="ttname"><a href="struct_a_v_i_stream.html#a6a15840d0d651b9b6321a9082c44fcf4">AVIStream::strh_flags_offset</a></div><div class="ttdeci">int64_t strh_flags_offset</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00090">avienc.c:90</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aab5542950d6beb910dc9237aac99989e"><div class="ttname"><a href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a></div><div class="ttdeci">void avpriv_set_pts_info(AVStream *s, int pts_wrap_bits, unsigned int pts_num, unsigned int pts_den)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04871">utils.c:4871</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a6a0f7b2e034b09d19229e0240f39ae5e"><div class="ttname"><a href="tests_2movenc_8c.html#a6a0f7b2e034b09d19229e0240f39ae5e">video_st</a></div><div class="ttdeci">AVStream * video_st</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00059">movenc.c:59</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_ga2eaefe702f95f619ea6f2d08afa01be1"><div class="ttname"><a href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div><div class="ttdeci">#define AV_NOPTS_VALUE</div><div class="ttdoc">Undefined timestamp value.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00248">avutil.h:248</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html"><div class="ttname"><a href="struct_a_v_i_stream.html">AVIStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00041">avidec.c:41</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a8ef6489170ea2f26698b7298e6d26ded"><div class="ttname"><a href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a></div><div class="ttdeci">void avpriv_report_missing_feature(void *avc, const char *msg,...) av_printf_format(2</div></div>
<div class="ttc" id="ariff_8h_html_acc6ed00f00f15d08f9b103e30fd25542"><div class="ttname"><a href="riff_8h.html#acc6ed00f00f15d08f9b103e30fd25542">FF_PUT_WAV_HEADER_SKIP_CHANNELMASK</a></div><div class="ttdeci">#define FF_PUT_WAV_HEADER_SKIP_CHANNELMASK</div><div class="ttdef"><b>Definition:</b> <a href="riff_8h_source.html#l00059">riff.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a0952229d7817000dd8a5f0981d940483"><div class="ttname"><a href="struct_a_v_i_stream.html#a0952229d7817000dd8a5f0981d940483">AVIStream::entry</a></div><div class="ttdeci">int entry</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00082">avienc.c:82</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a4e04af7a5a4d8298649850df798dd0bc"><div class="ttname"><a href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">AVStream::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00918">avformat.h:918</a></div></div>
<div class="ttc" id="aavio_8h_html_acc3626afc6aa3964b75d02811457164e"><div class="ttname"><a href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a></div><div class="ttdeci">void avio_write(AVIOContext *s, const unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00225">aviobuf.c:225</a></div></div>
<div class="ttc" id="aavio_8h_html_a1f2b9ee1bde6c6982072edbe929b47ea"><div class="ttname"><a href="avio_8h.html#a1f2b9ee1bde6c6982072edbe929b47ea">avio_wb32</a></div><div class="ttdeci">void avio_wb32(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00387">aviobuf.c:387</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="aavio_8h_html_a16f2ba75f978a70f16dc55e2393f3439"><div class="ttname"><a href="avio_8h.html#a16f2ba75f978a70f16dc55e2393f3439">avio_wl32</a></div><div class="ttdeci">void avio_wl32(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00379">aviobuf.c:379</a></div></div>
<div class="ttc" id="aavienc_8c_html_a9668f8b1c2bedfb7c54bb8686ac2c0d5"><div class="ttname"><a href="avienc_8c.html#a9668f8b1c2bedfb7c54bb8686ac2c0d5">ENC</a></div><div class="ttdeci">#define ENC</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00993">avienc.c:993</a></div></div>
<div class="ttc" id="atests_2h264__levels_8c_html_a7ead09ba2ff985f7f74ab0f40ee7eecc"><div class="ttname"><a href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a></div><div class="ttdeci">int64_t bitrate</div><div class="ttdef"><b>Definition:</b> <a href="tests_2h264__levels_8c_source.html#l00131">h264_levels.c:131</a></div></div>
<div class="ttc" id="ariff_8h_html_a09d08b041d365bdbce7c5f7e312d46d4"><div class="ttname"><a href="riff_8h.html#a09d08b041d365bdbce7c5f7e312d46d4">ff_end_tag</a></div><div class="ttdeci">void ff_end_tag(AVIOContext *pb, int64_t start)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00038">riffenc.c:38</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a3866500f51fabfa90faeae894c6e955c"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a3866500f51fabfa90faeae894c6e955c">AVCodecParameters::bits_per_coded_sample</a></div><div class="ttdeci">int bits_per_coded_sample</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00102">codec_par.h:102</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a786f81429bb25853af449fe5737bf2c7"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">AVCodecParameters::block_align</a></div><div class="ttdeci">int block_align</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00177">codec_par.h:177</a></div></div>
<div class="ttc" id="affmpeg_8c_html_a8507683cee9accbbda79588659abcea8"><div class="ttname"><a href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a></div><div class="ttdeci">static void write_packet(OutputFile *of, AVPacket *pkt, OutputStream *ost, int unqueue)</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8c_source.html#l00703">ffmpeg.c:703</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a4853ab9f83533dd879d7e7f49193c3e3"><div class="ttname"><a href="struct_a_v_i_context.html#a4853ab9f83533dd879d7e7f49193c3e3">AVIContext::frames_hdr_all</a></div><div class="ttdeci">int64_t frames_hdr_all</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00070">avienc.c:70</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca7bf84c3d1e2714ddee42b3e94826fca4">AV_FIELD_BB</a></div><div class="ttdeci">@ AV_FIELD_BB</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00040">codec_par.h:40</a></div></div>
<div class="ttc" id="aavienc_8c_html_a41fbc3bd130a2409df8d5adc4cff1763"><div class="ttname"><a href="avienc_8c.html#a41fbc3bd130a2409df8d5adc4cff1763">avi_write_packet_internal</a></div><div class="ttdeci">static int avi_write_packet_internal(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00861">avienc.c:861</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_aeb58b8c67ae6984c69a1340475dcb294"><div class="ttname"><a href="struct_a_v_i_stream.html#aeb58b8c67ae6984c69a1340475dcb294">AVIStream::max_size</a></div><div class="ttdeci">int max_size</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00083">avienc.c:83</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5aa53afd1aaaed386424384ec1793b6add"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5aa53afd1aaaed386424384ec1793b6add">AV_PIX_FMT_RGB555LE</a></div><div class="ttdeci">@ AV_PIX_FMT_RGB555LE</div><div class="ttdoc">packed RGB 5:5:5, 16bpp, (msb)1X 5R 5G 5B(lsb), little-endian, X=unused/undefined</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00108">pixfmt.h:108</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="aavio__internal_8h_html"><div class="ttname"><a href="avio__internal_8h.html">avio_internal.h</a></div></div>
<div class="ttc" id="aavienc_8c_html_aae00ec42623a4e977025eba36a2510f4"><div class="ttname"><a href="avienc_8c.html#aae00ec42623a4e977025eba36a2510f4">AVI_MASTER_INDEX_ENTRY_SIZE</a></div><div class="ttdeci">#define AVI_MASTER_INDEX_ENTRY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00055">avienc.c:55</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="aavi_8h_html_a74046a9b7157b6814f1e1a18729bdad7"><div class="ttname"><a href="avi_8h.html#a74046a9b7157b6814f1e1a18729bdad7">AVIF_TRUSTCKTYPE</a></div><div class="ttdeci">#define AVIF_TRUSTCKTYPE</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00027">avi.h:27</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gaa11ed202b70e1f52bac809811a910e2a"><div class="ttname"><a href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a></div><div class="ttdeci">#define AV_TIME_BASE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00254">avutil.h:254</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="agroup__preproc__misc_html_ga700cb39b719fc7069d15c134129b1ca0"><div class="ttname"><a href="group__preproc__misc.html#ga700cb39b719fc7069d15c134129b1ca0">AV_STRINGIFY</a></div><div class="ttdeci">#define AV_STRINGIFY(s)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00036">macros.h:36</a></div></div>
<div class="ttc" id="aavienc_8c_html_adfed5d9ffec90165dd257eb35aaf2463"><div class="ttname"><a href="avienc_8c.html#adfed5d9ffec90165dd257eb35aaf2463">AVIIndex</a></div><div class="ttdeci">struct AVIIndex AVIIndex</div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a0e3c41c290b38923880b9cccb669bf78"><div class="ttname"><a href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">AVIOContext::seekable</a></div><div class="ttdeci">int seekable</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00260">avio.h:260</a></div></div>
<div class="ttc" id="aavienc_8c_html_a457cc6e1e59b80c0d1a632b05acf05cb"><div class="ttname"><a href="avienc_8c.html#a457cc6e1e59b80c0d1a632b05acf05cb">AVI_INDEX_CLUSTER_SIZE</a></div><div class="ttdeci">#define AVI_INDEX_CLUSTER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00053">avienc.c:53</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html"><div class="ttname"><a href="struct_a_v_codec_parameters.html">AVCodecParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00052">codec_par.h:52</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_ada99add290ffa4023acd57c6ac612b2d"><div class="ttname"><a href="struct_a_v_i_stream.html#ada99add290ffa4023acd57c6ac612b2d">AVIStream::palette</a></div><div class="ttdeci">uint32_t palette[AVPALETTE_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00092">avienc.c:92</a></div></div>
<div class="ttc" id="ampegts_8h_html_a59189ec9f7bb05758426d66c83c2fc6e"><div class="ttname"><a href="mpegts_8h.html#a59189ec9f7bb05758426d66c83c2fc6e">ff_check_h264_startcode</a></div><div class="ttdeci">int ff_check_h264_startcode(AVFormatContext *s, const AVStream *st, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="mpegtsenc_8c_source.html#l01584">mpegtsenc.c:1584</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea30dc7b340d566342595dd6f060f1e897">AV_CODEC_ID_XSUB</a></div><div class="ttdeci">@ AV_CODEC_ID_XSUB</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00520">codec_id.h:520</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a2c086036b9db1433dd368072edbff912"><div class="ttname"><a href="struct_a_v_i_context.html#a2c086036b9db1433dd368072edbff912">AVIContext::flipped_raw_rgb</a></div><div class="ttdeci">int flipped_raw_rgb</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00075">avienc.c:75</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a></div><div class="ttdeci">@ AV_PIX_FMT_PAL8</div><div class="ttdoc">8 bits with AV_PIX_FMT_RGB32 palette</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00077">pixfmt.h:77</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html"><div class="ttname"><a href="struct_a_v_i_context.html">AVIContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00068">avidec.c:68</a></div></div>
<div class="ttc" id="amovenc_8c_html_a1c50fcd1195659821729f52af8f3bb7d"><div class="ttname"><a href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a></div><div class="ttdeci">uint32_t tag</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01597">movenc.c:1597</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a50d250a128a3da9ce3d135e84213fb82"><div class="ttname"><a href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">AVStream::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00933">avformat.h:933</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a302dc5bd81f253809bfab9baba71587b"><div class="ttname"><a href="libavformat_2internal_8h.html#a302dc5bd81f253809bfab9baba71587b">ff_get_packet_palette</a></div><div class="ttdeci">int ff_get_packet_palette(AVFormatContext *s, AVPacket *pkt, int ret, uint32_t *palette)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05656">utils.c:5656</a></div></div>
<div class="ttc" id="aavio_8h_html_a03e23bf0144030961c34e803c71f614f"><div class="ttname"><a href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a></div><div class="ttdeci">int64_t avio_seek(AVIOContext *s, int64_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00253">aviobuf.c:253</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="ariff_8h_html_ac12c7b6a951ffeaa71caea9e1871cc99"><div class="ttname"><a href="riff_8h.html#ac12c7b6a951ffeaa71caea9e1871cc99">ff_parse_specific_params</a></div><div class="ttdeci">void ff_parse_specific_params(AVStream *st, int *au_rate, int *au_ssize, int *au_scale)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00272">riffenc.c:272</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="adict_8h_html"><div class="ttname"><a href="dict_8h.html">dict.h</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="aavienc_8c_html_afd03571a00b0009adbdcf7b0f8f50700"><div class="ttname"><a href="avienc_8c.html#afd03571a00b0009adbdcf7b0f8f50700">write_odml_master</a></div><div class="ttdeci">static void write_odml_master(AVFormatContext *s, int stream_index)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00231">avienc.c:231</a></div></div>
<div class="ttc" id="astruct_a_v_i_index_html_a1b026b4a6da0f769dd5ebdaca7d886ba"><div class="ttname"><a href="struct_a_v_i_index.html#a1b026b4a6da0f769dd5ebdaca7d886ba">AVIIndex::indx_start</a></div><div class="ttdeci">int64_t indx_start</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00059">avienc.c:59</a></div></div>
<div class="ttc" id="astruct_a_v_i_ientry_html"><div class="ttname"><a href="struct_a_v_i_ientry.html">AVIIentry</a></div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00046">avienc.c:46</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gaf21645cfa855b2caf9699d7dc7b2d08e"><div class="ttname"><a href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a></div><div class="ttdeci">const char * av_get_media_type_string(enum AVMediaType media_type)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2utils_8c_source.html#l00076">utils.c:76</a></div></div>
<div class="ttc" id="ariff_8c_html_ab352e82619d77c87a198467142d86b25"><div class="ttname"><a href="riff_8c.html#ab352e82619d77c87a198467142d86b25">ff_codec_bmp_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_bmp_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="riff_8c_source.html#l00032">riff.c:32</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="aavio_8h_html_a03ea0dfa113a05f4843bbfff69e0cd0a"><div class="ttname"><a href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a></div><div class="ttdeci">#define AVIO_SEEKABLE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00040">avio.h:40</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="araw_8c_html_a4e5c2d697b99f9878cc8fc1261d0e0b2"><div class="ttname"><a href="raw_8c.html#a4e5c2d697b99f9878cc8fc1261d0e0b2">avpriv_pix_fmt_bps_avi</a></div><div class="ttdeci">const PixelFormatTag avpriv_pix_fmt_bps_avi[]</div><div class="ttdef"><b>Definition:</b> <a href="raw_8c_source.html#l00316">raw.c:316</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a5832c01582008e4e77b1ecdbc06d6f77"><div class="ttname"><a href="struct_a_v_i_stream.html#a5832c01582008e4e77b1ecdbc06d6f77">AVIStream::packet_count</a></div><div class="ttdeci">int packet_count</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00081">avienc.c:81</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="astruct_a_v_i_index_html_a7a158f1ddc4b859265a8eb23fe2ec5bc"><div class="ttname"><a href="struct_a_v_i_index.html#a7a158f1ddc4b859265a8eb23fe2ec5bc">AVIIndex::cluster</a></div><div class="ttdeci">AVIIentry ** cluster</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00064">avienc.c:64</a></div></div>
<div class="ttc" id="ariff_8h_html_a0c50544edda5b689ab858ec4b4d29765"><div class="ttname"><a href="riff_8h.html#a0c50544edda5b689ab858ec4b4d29765">ff_riff_write_info</a></div><div class="ttdeci">void ff_riff_write_info(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="riffenc_8c_source.html#l00334">riffenc.c:334</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga3f9c69432582e2857147bcba3c75dc32"><div class="ttname"><a href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a></div><div class="ttdeci">AVRational av_mul_q(AVRational b, AVRational c)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00080">rational.c:80</a></div></div>
<div class="ttc" id="aavio_8h_html_aa22e02f986ea8a8dc018f9615af27eea"><div class="ttname"><a href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a></div><div class="ttdeci">int64_t avio_skip(AVIOContext *s, int64_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00341">aviobuf.c:341</a></div></div>
<div class="ttc" id="aavi_8h_html_a16b282925795f457dd96998ed2bc4211"><div class="ttname"><a href="avi_8h.html#a16b282925795f457dd96998ed2bc4211">AVIF_HASINDEX</a></div><div class="ttdeci">#define AVIF_HASINDEX</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00024">avi.h:24</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="aavutil_8h_html"><div class="ttname"><a href="avutil_8h.html">avutil.h</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a61b61b0d009be377ebcfdc30ea053d27"><div class="ttname"><a href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">AVStream::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00884">avformat.h:884</a></div></div>
<div class="ttc" id="astruct_a_v_i_stream_html_a3d2233d1038c66fb2c302ad71547e23c"><div class="ttname"><a href="struct_a_v_i_stream.html#a3d2233d1038c66fb2c302ad71547e23c">AVIStream::audio_strm_length</a></div><div class="ttdeci">int64_t audio_strm_length</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00080">avienc.c:80</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac3abc5f47f3465b6b7eec89c9476351c"><div class="ttname"><a href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">AVOutputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00491">avformat.h:491</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a58369c3a8a986935b572df5aa6361ce2"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">AVCodecParameters::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:56</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a153946872548cd56132907b93f05f9aa"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">AVCodecParameters::field_order</a></div><div class="ttdeci">enum AVFieldOrder field_order</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:141</a></div></div>
<div class="ttc" id="aavi_8h_html_a7ae87bcbb535f884fd0a8ccc6378f5de"><div class="ttname"><a href="avi_8h.html#a7ae87bcbb535f884fd0a8ccc6378f5de">AVIF_ISINTERLEAVED</a></div><div class="ttdeci">#define AVIF_ISINTERLEAVED</div><div class="ttdef"><b>Definition:</b> <a href="avi_8h_source.html#l00026">avi.h:26</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_a42a20dfa26e2aaea3d003dd0f6865844"><div class="ttname"><a href="struct_a_v_i_context.html#a42a20dfa26e2aaea3d003dd0f6865844">AVIContext::movi_list</a></div><div class="ttdeci">int64_t movi_list</div><div class="ttdef"><b>Definition:</b> <a href="avidec_8c_source.html#l00074">avidec.c:74</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="ariff_8h_html"><div class="ttname"><a href="riff_8h.html">riff.h</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a622e758be29fd500aed0ffdc069550f7"><div class="ttname"><a href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">AVPacket::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00381">packet.h:381</a></div></div>
<div class="ttc" id="astruct_a_v_i_index_html_a14d1f738a7eed07a4eff9b3b53b19ee9"><div class="ttname"><a href="struct_a_v_i_index.html#a14d1f738a7eed07a4eff9b3b53b19ee9">AVIIndex::master_odml_riff_id_base</a></div><div class="ttdeci">int master_odml_riff_id_base</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00063">avienc.c:63</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_ae1e061c0db8a47f53e1f3de5e371872e"><div class="ttname"><a href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">convert_header.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00020">convert_header.py:20</a></div></div>
<div class="ttc" id="atimestamp_8h_html"><div class="ttname"><a href="timestamp_8h.html">timestamp.h</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="atimestamp_8h_html_a86d797e907fa454ed5fd34bfb0bcd747"><div class="ttname"><a href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a></div><div class="ttdeci">#define av_ts2str(ts)</div><div class="ttdef"><b>Definition:</b> <a href="timestamp_8h_source.html#l00054">timestamp.h:54</a></div></div>
<div class="ttc" id="astruct_a_v_codec_tag_html"><div class="ttname"><a href="struct_a_v_codec_tag.html">AVCodecTag</a></div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00042">internal.h:42</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="affv1enc_8c_html_a5ba88be0a987de9abb6091eb8e167e09"><div class="ttname"><a href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a></div><div class="ttdeci">static void write_header(FFV1Context *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffv1enc_8c_source.html#l00346">ffv1enc.c:346</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="astruct_a_v_i_context_html_af5f80d9fbe4e3afa6edb1bdeef90ab0e"><div class="ttname"><a href="struct_a_v_i_context.html#af5f80d9fbe4e3afa6edb1bdeef90ab0e">AVIContext::master_index_max_size</a></div><div class="ttdeci">int master_index_max_size</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00073">avienc.c:73</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html"><div class="ttname"><a href="struct_a_v_output_format.html">AVOutputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00490">avformat.h:490</a></div></div>
<div class="ttc" id="aavienc_8c_html_a62326d3917a6cc28a398b3e26f249c48"><div class="ttname"><a href="avienc_8c.html#a62326d3917a6cc28a398b3e26f249c48">write_skip_frames</a></div><div class="ttdeci">static int write_skip_frames(AVFormatContext *s, int stream_index, int64_t dts)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00740">avienc.c:740</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga87458dccf9ab1444c363df5fa8a3f28f"><div class="ttname"><a href="group__lavu__misc.html#ga87458dccf9ab1444c363df5fa8a3f28f">av_x_if_null</a></div><div class="ttdeci">static void * av_x_if_null(const void *p, const void *x)</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00308">avutil.h:308</a></div></div>
<div class="ttc" id="apixdesc_8c_html_ab92e2a8a9b58c982560c49df9f01e47e"><div class="ttname"><a href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a></div><div class="ttdeci">const char * av_get_pix_fmt_name(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02489">pixdesc.c:2489</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac9cb9756175b96e7441575803757fb73"><div class="ttname"><a href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a></div><div class="ttdeci">void av_init_packet(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00035">avpacket.c:35</a></div></div>
<div class="ttc" id="aavienc_8c_html_a629e913dc267a753ffa3a10e2f02bf10"><div class="ttname"><a href="avienc_8c.html#a629e913dc267a753ffa3a10e2f02bf10">avi_write_ix</a></div><div class="ttdeci">static int avi_write_ix(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avienc_8c_source.html#l00627">avienc.c:627</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
